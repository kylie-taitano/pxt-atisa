((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).zip={})})(this,function(e){let{Array:B,Object:L,String:c,BigInt:M,Math:H,Date:W,Map:R,URL:h,Error:Q,Uint8Array:N,Uint16Array:G,Uint32Array:J,DataView:V,Blob:i,Promise:Z,TextEncoder:w,TextDecoder:g,FileReader:y,document:n,crypto:a,btoa:m}=globalThis,b={chunkSize:524288,maxWorkers:"undefined"!=typeof navigator&&navigator.hardwareConcurrency||2,terminateWorkerTimeout:5e3,useWebWorkers:!0,workerScripts:void 0},r=L.assign({},b);function C(e){if(void 0!==e.baseURL&&(r.baseURL=e.baseURL),void 0!==e.chunkSize&&(r.chunkSize=e.chunkSize),void 0!==e.maxWorkers&&(r.maxWorkers=e.maxWorkers),void 0!==e.terminateWorkerTimeout&&(r.terminateWorkerTimeout=e.terminateWorkerTimeout),void 0!==e.useWebWorkers&&(r.useWebWorkers=e.useWebWorkers),void 0!==e.Deflate&&(r.Deflate=e.Deflate),void 0!==e.Inflate&&(r.Inflate=e.Inflate),void 0!==e.workerScripts){if(e.workerScripts.deflate){if(!B.isArray(e.workerScripts.deflate))throw new Q("workerScripts.deflate must be an array");r.workerScripts||(r.workerScripts={}),r.workerScripts.deflate=e.workerScripts.deflate}if(e.workerScripts.inflate){if(!B.isArray(e.workerScripts.inflate))throw new Q("workerScripts.inflate must be an array");r.workerScripts||(r.workerScripts={}),r.workerScripts.inflate=e.workerScripts.inflate}}}function E(t,r,i){return class{constructor(e){let n=this;n.codec=new t(L.assign({},r,e)),i(n.codec,e=>{var t;n.pendingData?(t=n.pendingData,n.pendingData=new N(t.length+e.length),n.pendingData.set(t,0),n.pendingData.set(e,t.length)):n.pendingData=new N(e)})}append(e){return this.codec.push(e),n(this)}flush(){return this.codec.push(new N(0),!0),n(this)}};function n(e){var t;return e.pendingData?(t=e.pendingData,e.pendingData=null,t):new N(0)}}let D=[];for(let e=0;e<256;e++){let t=e;for(let e=0;e<8;e++)1&t?t=t>>>1^3988292384:t>>>=1;D[e]=t}class F{constructor(e){this.crc=e||-1}append(n){let r=0|this.crc;for(let e=0,t=0|n.length;t>e;e++)r=r>>>8^D[255&(r^n[e])];this.crc=r}get(){return~this.crc}}function ee(t){if(void 0!==w)return(new w).encode(t);var n=new N((t=unescape(encodeURIComponent(t))).length);for(let e=0;e<n.length;e++)n[e]=t.charCodeAt(e);return n}let p={concat(e,t){var n,r;return 0===e.length||0===t.length||(n=e[e.length-1],32===(r=p.getPartial(n)))?e.concat(t):p._shiftRight(t,r,0|n,e.slice(0,e.length-1))},bitLength(e){var t=e.length;return 0===t?0:(e=e[t-1],32*(t-1)+p.getPartial(e))},clamp(e,t){var n;return 32*e.length<t||(n=(e=e.slice(0,H.ceil(t/32))).length,t&=31,0<n&&t&&(e[n-1]=p.partial(t,e[n-1]&2147483648>>t-1,1))),e},partial:(e,t,n)=>32===e?t:(n?0|t:t<<32-e)+1099511627776*e,getPartial:e=>H.round(e/1099511627776)||32,_shiftRight(t,n,r,i){for(void 0===i&&(i=[]);32<=n;n-=32)i.push(r),r=0;if(0===n)return i.concat(t);for(let e=0;e<t.length;e++)i.push(r|t[e]>>>n),r=t[e]<<32-n;var e=t.length?t[t.length-1]:0,e=p.getPartial(e);return i.push(p.partial(n+e&31,32<n+e?r:i.pop(),1)),i}},x={bytes:{fromBits(t){var n=p.bitLength(t)/8,r=new N(n);let i;for(let e=0;n>e;e++)0==(3&e)&&(i=t[e/4]),r[e]=i>>>24,i<<=8;return r},toBits(e){var t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],3==(3&n)&&(t.push(r),r=0);return 3&n&&t.push(p.partial(8*(3&n),r)),t}}},T={sha1:function(e){e?(this._h=e._h.slice(0),this._buffer=e._buffer.slice(0),this._length=e._length):this.reset()}},I=(T.sha1.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(e){var t=this,n=("string"==typeof e&&(e=x.utf8String.toBits(e)),t._buffer=p.concat(t._buffer,e)),r=t._length,i=t._length=r+p.bitLength(e);if(9007199254740991<i)throw new Q("Cannot hash more than 2^53 - 1 bits");var s=new J(n);let a=0;for(let e=t.blockSize+r-(t.blockSize+r&t.blockSize-1);i>=e;e+=t.blockSize)t._block(s.subarray(16*a,16*(a+1))),a+=1;return n.splice(0,16*a),t},finalize:function(){var e=this,t=e._buffer,n=e._h;for(let e=(t=p.concat(t,[p.partial(1,1)])).length+2;15&e;e++)t.push(0);for(t.push(H.floor(e._length/4294967296)),t.push(0|e._length);t.length;)e._block(t.splice(0,16));return e.reset(),n},_init:[1732584193,4023233417,2562383102,271733878,3285377520],_key:[1518500249,1859775393,2400959708,3395469782],_f:(e,t,n,r)=>19<e?39<e?59<e?79<e?void 0:t^n^r:t&n|t&r|n&r:t^n^r:t&n|~t&r,_S:(e,t)=>t<<e|t>>>32-e,_block:function(t){var n=this,e=n._h,r=B(80);for(let e=0;e<16;e++)r[e]=t[e];let i=e[0],s=e[1],a=e[2],o=e[3],l=e[4];for(let t=0;t<=79;t++){t<16||(r[t]=n._S(1,r[t-3]^r[t-8]^r[t-14]^r[t-16]));let e=n._S(5,i)+n._f(t,s,a,o)+l+r[t]+n._key[H.floor(t/20)]|0;l=o,o=a,a=n._S(30,s),s=i,i=e}e[0]=e[0]+i|0,e[1]=e[1]+s|0,e[2]=e[2]+a|0,e[3]=e[3]+o|0,e[4]=e[4]+l|0}},{getRandomValues(e){var r=new J(e.buffer);for(let t,n=0;n<e.length;n+=4){let e=(e=>{let t=987654321,n=4294967295;return()=>((((t=36969*(65535&t)+(t>>16)&n)<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n)/4294967296+.5)*(.5<H.random()?1:-1)})(4294967296*(t||H.random()));t=987654071*e(),r[n/4]=4294967296*e()|0}return e}}),U={importKey:e=>new U.hmacSha1(x.bytes.toBits(e)),pbkdf2(e,t,n,r){if(n=n||1e4,r<0||n<0)throw new Q("invalid params to pbkdf2");var i=1+(r>>5)<<2;let s,a,o,l,c;var f=new ArrayBuffer(i),d=new V(f);let u=0;var h=p;for(t=x.bytes.toBits(t),c=1;(i||1)>u;c++){for(s=a=e.encrypt(h.concat(t,[c])),o=1;n>o;o++)for(a=e.encrypt(a),l=0;l<a.length;l++)s[l]^=a[l];for(o=0;(i||1)>u&&o<s.length;o++)d.setInt32(u,s[o]),u+=4}return f.slice(0,r/8)},hmacSha1:class{constructor(t){var e=this,n=e._hash=T.sha1,r=[[],[]],i=n.prototype.blockSize/32;e._baseHash=[new n,new n],t.length>i&&(t=n.hash(t));for(let e=0;i>e;e++)r[0][e]=909522486^t[e],r[1][e]=1549556828^t[e];e._baseHash[0].update(r[0]),e._baseHash[1].update(r[1]),e._resultHash=new n(e._baseHash[0])}reset(){this._resultHash=new this._hash(this._baseHash[0]),this._updated=!1}update(e){this._updated=!0,this._resultHash.update(e)}digest(){var e=this._resultHash.finalize(),e=new this._hash(this._baseHash[1]).update(e).finalize();return this.reset(),e}encrypt(e){if(this._updated)throw new Q("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},te="Invalid pasword",f=16,ne={name:"PBKDF2"},re=L.assign({hash:{name:"HMAC"}},ne),ie=L.assign({iterations:1e3,hash:{name:"SHA-1"}},ne),se=["deriveBits"],ae=[8,12,16],oe=[16,24,32],o=10,le=[0,0,0,0],ce=void 0!==a,fe=ce&&void 0!==a.subtle,d=x.bytes,de=class{constructor(e){let t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();var n=t._tables[0][4],r=t._tables[1],i=e.length;let s,a,o,l=1;if(4!==i&&6!==i&&8!==i)throw new Q("invalid aes key size");for(t._key=[a=e.slice(0),o=[]],s=i;4*i+28>s;s++){let e=a[s-1];(s%i==0||8===i&&s%i==4)&&(e=n[e>>>24]<<24^n[e>>16&255]<<16^n[e>>8&255]<<8^n[255&e],s%i==0)&&(e=e<<8^e>>>24^l<<24,l=l<<1^283*(l>>7)),a[s]=a[s-i]^e}for(let t=0;s;t++,s--){let e=a[3&t?s:s-4];o[t]=s<=4||t<4?e:r[0][n[e>>>24]]^r[1][n[e>>16&255]]^r[2][n[e>>8&255]]^r[3][n[255&e]]}}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){var i=this._tables[0],s=this._tables[1],e=i[4],a=s[4],o=[],t=[];let l,c,f;for(let e=0;e<256;e++)t[(o[e]=e<<1^283*(e>>7))^e]=e;for(let r=l=0;!e[r];r^=c||1,l=t[l]||1){var d=(d=l^l<<1^l<<2^l<<3^l<<4)>>8^255&d^99;let t=16843009*o[f=o[c=o[a[e[r]=d]=r]]]^65537*f^257*c^16843008*r,n=257*o[d]^16843008*d;for(let e=0;e<4;e++)i[e][r]=n=n<<24^n>>>8,s[e][d]=t=t<<24^t>>>8}for(let e=0;e<5;e++)i[e]=i[e].slice(0),s[e]=s[e].slice(0)}_crypt(e,t){if(4!==e.length)throw new Q("invalid aes block size");var n=this._key[t],r=n.length/4-2,i=[0,0,0,0],s=this._tables[t],a=s[0],o=s[1],l=s[2],c=s[3],f=s[4];let d,u,h,p=e[0]^n[0],w=e[t?3:1]^n[1],g=e[2]^n[2],y=e[t?1:3]^n[3],m=4;for(let e=0;r>e;e++)d=a[p>>>24]^o[w>>16&255]^l[g>>8&255]^c[255&y]^n[m],u=a[w>>>24]^o[g>>16&255]^l[y>>8&255]^c[255&p]^n[m+1],h=a[g>>>24]^o[y>>16&255]^l[p>>8&255]^c[255&w]^n[m+2],y=a[y>>>24]^o[p>>16&255]^l[w>>8&255]^c[255&g]^n[m+3],m+=4,p=d,w=u,g=h;for(let e=0;e<4;e++)i[t?3&-e:e]=f[p>>>24]<<24^f[w>>16&255]<<16^f[g>>8&255]<<8^f[255&y]^n[m++],d=p,p=w,w=g,g=y,y=d;return i}},ue=class{constructor(e,t){this._prf=e,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(e){return this.calculate(this._prf,e,this._iv)}incWord(r){if(255==(r>>24&255)){let e=r>>16&255,t=r>>8&255,n=255&r;255===e?(e=0,255===t?(t=0,255===n?n=0:++n):++t):++e,r=0,r=(r=(r+=e<<16)+(t<<8))+n}else r+=1<<24;return r}incCounter(e){0===(e[0]=this.incWord(e[0]))&&(e[1]=this.incWord(e[1]))}calculate(n,r,i){let e;if(!(e=r.length))return[];var t=p.bitLength(r);for(let t=0;e>t;t+=4){this.incCounter(i);let e=n.encrypt(i);r[t]^=e[0],r[t+1]^=e[1],r[t+2]^=e[2],r[t+3]^=e[3]}return p.clamp(r,t)}},he=U.hmacSha1;class pe{constructor(e,t,n){L.assign(this,{password:e,signed:t,strength:n-1,pendingInput:new N(0)})}async append(e){var t=this;if(t.password){var n=u(e,0,ae[t.strength]+2),r=t,i=t.password;if(await ye(r,i,u(n,0,ae[r.strength])),i=u(n,ae[r.strength]),(n=r.keys.passwordVerification)[0]!=i[0]||n[1]!=i[1])throw new Q(te);await 0,t.password=null,t.aesCtrGladman=new ue(new de(t.keys.key),B.from(le)),t.hmac=new he(t.keys.authentication),e=u(e,ae[t.strength]+2)}return ge(t,e,new N(e.length-o-(e.length-o)%f),0,o,!0)}flush(){let n=this,e=n.pendingInput,r=u(e,0,e.length-o),i=u(e,e.length-o),s=new N(0);if(r.length){let e=d.toBits(r),t=(n.hmac.update(e),n.aesCtrGladman.update(e));s=d.fromBits(t)}let a=!0;if(n.signed){let t=u(d.fromBits(n.hmac.digest()),0,o);for(let e=0;o>e;e++)t[e]!=i[e]&&(a=!1)}return{valid:a,data:s}}}class we{constructor(e,t){L.assign(this,{password:e,strength:t-1,pendingInput:new N(0)})}async append(e){var t,n,r=this;let i=new N(0);r.password&&(i=(s=(t=r).password,n=new N(ae[t.strength]),n=(ce&&"function"==typeof a.getRandomValues?a:I).getRandomValues(n),await ye(t,s,n),await me(n,t.keys.passwordVerification)),r.password=null,r.aesCtrGladman=new ue(new de(r.keys.key),B.from(le)),r.hmac=new he(r.keys.authentication));var s=new N(i.length+e.length-e.length%f);return s.set(i,0),ge(r,e,s,i.length,0)}flush(){var t=this;let n=new N(0);if(t.pendingInput.length){let e=t.aesCtrGladman.update(d.toBits(t.pendingInput));t.hmac.update(e),n=d.fromBits(e)}let e=u(d.fromBits(t.hmac.digest()),0,o);return{data:me(n,e),signature:e}}}function ge(n,r,i,s,e,a){let t=r.length-e,o;for(n.pendingInput.length&&(r=me(n.pendingInput,r),e=i,(l=t-t%f)&&l>e.length&&(c=e,(e=new N(l)).set(c,0)),i=e),o=0;t-f>=o;o+=f){let e=d.toBits(u(r,o,o+f)),t=(a&&n.hmac.update(e),n.aesCtrGladman.update(e));a||n.hmac.update(t),i.set(d.fromBits(t),o+s)}var l,c;return n.pendingInput=u(r,o),i}async function ye(e,t,n){var r,t=ee(t),i=(t=t,i=re,r=se,await(ce&&fe&&"function"==typeof a.subtle.importKey?a.subtle.importKey("raw",t,i,!1,r):U.importKey(t))),i=(r=L.assign({salt:n},ie),t=i,n=8*(2*oe[e.strength]+2),await(ce&&fe&&"function"==typeof a.subtle.deriveBits?await a.subtle.deriveBits(r,t,n):U.pbkdf2(t,r.salt,ie.iterations,n))),t=new N(i);e.keys={key:d.toBits(u(t,0,oe[e.strength])),authentication:d.toBits(u(t,oe[e.strength],2*oe[e.strength])),passwordVerification:u(t,2*oe[e.strength])}}function me(e,t){let n=e;return e.length+t.length&&((n=new N(e.length+t.length)).set(e,0),n.set(t,e.length)),n}function u(e,t,n){return e.subarray(t,n)}class be{constructor(e,t){L.assign(this,{password:e,passwordVerification:t}),_e(this,e)}append(e){var t=this;if(t.password){var n=ke(t,e.subarray(0,12));if(t.password=null,n[11]!=t.passwordVerification)throw new Q(te);e=e.subarray(12)}return ke(t,e)}flush(){return{valid:!0,data:new N(0)}}}class ve{constructor(e,t){L.assign(this,{password:e,passwordVerification:t}),_e(this,e)}append(e){var t,n=this;let r,i;return i=n.password?(n.password=null,(t=a.getRandomValues(new N(12)))[11]=n.passwordVerification,(r=new N(e.length+t.length)).set(Se(n,t),0),12):(r=new N(e.length),0),r.set(Se(n,e),i),r}flush(){return{data:new N(0)}}}function ke(t,n){var r=new N(n.length);for(let e=0;e<n.length;e++)r[e]=ze(t)^n[e],Ae(t,r[e]);return r}function Se(t,n){var r=new N(n.length);for(let e=0;e<n.length;e++)r[e]=ze(t)^n[e],Ae(t,n[e]);return r}function _e(t,n){t.keys=[305419896,591751049,878082192],t.crcKey0=new F(t.keys[0]),t.crcKey2=new F(t.keys[2]);for(let e=0;e<n.length;e++)Ae(t,n.charCodeAt(e))}function Ae(e,t){e.crcKey0.append([t]),e.keys[0]=~e.crcKey0.get(),e.keys[1]=Re(e.keys[1]+(255&e.keys[0])),e.keys[1]=Re(H.imul(e.keys[1],134775813)+1),e.crcKey2.append([e.keys[1]>>>24]),e.keys[2]=~e.crcKey2.get()}function ze(e){e=2|e.keys[2];return 255&H.imul(e,1^e)>>>8}function Re(e){return 4294967295&e}let Ce="deflate",Ee="inflate",De="Invalid signature";class Fe{constructor(e,{signature:t,password:n,signed:r,compressed:i,zipCrypto:s,passwordVerification:a,encryptionStrength:o},{chunkSize:l}){var c=!!n;L.assign(this,{signature:t,encrypted:c,signed:r,compressed:i,inflate:i&&new e({chunkSize:l}),crc32:r&&new F,zipCrypto:s,decrypt:c&&s?new be(n,a):new pe(n,r,o)})}async append(e){var t=this;return t.encrypted&&e.length&&(e=await t.decrypt.append(e)),t.compressed&&e.length&&(e=await t.inflate.append(e)),(!t.encrypted||t.zipCrypto)&&t.signed&&e.length&&t.crc32.append(e),e}async flush(){var t=this;let n,r=new N(0);if(t.encrypted){let e=t.decrypt.flush();if(!e.valid)throw new Q(De);r=e.data}if((!t.encrypted||t.zipCrypto)&&t.signed){let e=new V(new N(4).buffer);if(n=t.crc32.get(),e.setUint32(0,n),t.signature!=e.getUint32(0,!1))throw new Q(De)}return t.compressed&&(r=await t.inflate.append(r)||new N(0),await t.inflate.flush()),{data:r,signature:n}}}class xe{constructor(e,{encrypted:t,signed:n,compressed:r,level:i,zipCrypto:s,password:a,passwordVerification:o,encryptionStrength:l},{chunkSize:c}){L.assign(this,{encrypted:t,signed:n,compressed:r,deflate:r&&new e({level:i||5,chunkSize:c}),crc32:n&&new F,zipCrypto:s,encrypt:t&&s?new ve(a,o):new we(a,l)})}async append(e){var t=this;let n=e;return t.compressed&&e.length&&(n=await t.deflate.append(e)),t.encrypted&&n.length&&(n=await t.encrypt.append(n)),(!t.encrypted||t.zipCrypto)&&t.signed&&e.length&&t.crc32.append(e),n}async flush(){var e,t,n=this;let r,i=new N(0);return n.compressed&&(i=await n.deflate.flush()||new N(0)),n.encrypted&&(i=await n.encrypt.append(i),e=n.encrypt.flush(),r=e.signature,(t=new N(i.length+e.data.length)).set(i,0),t.set(e.data,i.length),i=t),n.encrypted&&!n.zipCrypto||!n.signed||(r=n.crc32.get()),{data:i,signature:r}}}let Te="init",Ie="append",Ue="flush",Be=!0;var We,Qe=(e,n,r,s,t,a,i)=>{if(L.assign(e,{busy:!0,codecConstructor:n,options:L.assign({},r),scripts:i,terminate(){e.worker&&!e.busy&&(e.worker.terminate(),e.interface=null)},onTaskFinished(){e.busy=!1,t(e)}}),!a){var o=e;n=o.codecConstructor,r=s;let t=(i=o.options).codecType.startsWith(Ce)?new xe(n,i,r):i.codecType.startsWith(Ee)?new Fe(n,i,r):void 0;return{async append(e){try{return await t.append(e)}catch(e){throw o.onTaskFinished(),e}},async flush(){try{return await t.flush()}finally{o.onTaskFinished()}},abort(){o.onTaskFinished()}}}{var l=e,c=s;let i;a={type:"module"};if(!l.interface){if(Be)try{l.worker=f({},c.baseURL)}catch(e){Be=!1,l.worker=f(a,c.baseURL)}else l.worker=f(a,c.baseURL);l.worker.addEventListener("message",e=>{let r=e.data;if(i){let t=r.error,n=r.type;if(t){let e=new Q(t.message);e.stack=t.stack,i.reject(e),i=null,l.onTaskFinished()}else if(n==Te||n==Ue||n==Ie){let e=r.data;n==Ue?(i.resolve({data:new N(e),signature:r.signature}),i=null,l.onTaskFinished()):i.resolve(e&&new N(e))}}},!1),l.interface={append:e=>d({type:Ie,data:e}),flush:()=>d({type:Ue}),abort(){l.onTaskFinished()}}}return l.interface;function f(e,t){let n,r;"function"==typeof(n=l.scripts[0])&&(n=n());try{r=new h(n,t)}catch(e){r=n}return new Worker(r,e)}async function d(e){if(!i){let e=l.options,t=l.scripts.slice(1);await u({scripts:t,type:Te,options:e,config:{chunkSize:c.chunkSize}})}return u(e)}function u(t){var n=l.worker,e=new Z((e,t)=>i={resolve:e,reject:t});try{if(t.data)try{t.data=t.data.buffer,n.postMessage(t,[t.data])}catch(e){n.postMessage(t)}else n.postMessage(t)}catch(t){i.reject(t),i=null,l.onTaskFinished()}return e}}};let l=[],Ve=[];function Le(t,n,a){let r=!(!n.compressed&&!n.signed&&!n.encrypted)&&(n.useWebWorkers||void 0===n.useWebWorkers&&a.useWebWorkers),i=r&&a.workerScripts?a.workerScripts[n.codecType]:[];var e;return l.length<a.maxWorkers?(e={},l.push(e),Qe(e,t,n,a,o,r,i)):(e=l.find(e=>!e.busy))?(Me(e),Qe(e,t,n,a,o,r,i)):new Z(e=>Ve.push({resolve:e,codecConstructor:t,options:n,webWorker:r,scripts:i}));function o(t){var e,n,r,i,s;Ve.length?([{resolve:e,codecConstructor:n,options:r,webWorker:i,scripts:s}]=Ve.splice(0,1),e(Qe(t,n,r,a,o,i,s))):t.worker?(Me(t),Number.isFinite(a.terminateWorkerTimeout)&&0<=a.terminateWorkerTimeout&&(t.terminateTimeout=setTimeout(()=>{l=l.filter(e=>e!=t),t.terminate()},a.terminateWorkerTimeout))):l=l.filter(e=>e!=t)}}function Me(e){e.terminateTimeout&&(clearTimeout(e.terminateTimeout),e.terminateTimeout=null)}let He="Abort error";async function Ne(a,o,l,c,f,e,d){let u=H.max(e.chunkSize,64);return async function e(t=0,n=0){var r=d.signal;if(t<f){Ze(r,a);var i=await o.readUint8Array(t+c,H.min(u,f-t)),s=i.length,i=(Ze(r,a),await a.append(i));if(Ze(r,a),n+=await Oe(l,i),d.onprogress)try{d.onprogress(t+s,f)}catch(e){}return e(t+u,n)}{let e=await a.flush();return n+=await Oe(l,e.data),{signature:e.signature,length:n}}}()}function Ze(e,t){if(e&&e.aborted)throw t.abort(),new Q(He)}async function Oe(e,t){return t.length&&await e.writeUint8Array(t),t.length}let Ke="HTTP error ",Pe="HTTP Range not supported",qe="text/plain",Xe="GET";class Ye{constructor(){this.size=0}init(){this.initialized=!0}}class t extends Ye{}class s extends Ye{writeUint8Array(e){this.size+=e.length}}class $e extends t{constructor(e){super(),this.blob=e,this.size=e.size}async readUint8Array(r,i){if(this.blob.arrayBuffer)return new N(await this.blob.slice(r,r+i).arrayBuffer());{let n=new y;return new Z((t,e)=>{n.onload=e=>t(new N(e.target.result)),n.onerror=()=>e(n.error),n.readAsArrayBuffer(this.blob.slice(r,r+i))})}}}class je extends s{constructor(e){super(),this.contentType=e,this.arrayBuffersMaxlength=8,Ge(this)}writeUint8Array(e){super.writeUint8Array(e),this.arrayBuffers.length==this.arrayBuffersMaxlength&&Je(this),this.arrayBuffers.push(e.buffer)}getData(){return this.blob||(this.arrayBuffers.length&&Je(this),this.blob=this.pendingBlob,Ge(this)),this.blob}}function Ge(e){e.pendingBlob=new i([],{type:e.contentType}),e.arrayBuffers=[]}function Je(e){e.pendingBlob=new i([e.pendingBlob,...e.arrayBuffers],{type:e.contentType}),e.arrayBuffers=[]}class et extends t{constructor(e,t){super(),this.url=e,this.preventHeadRequest=t.preventHeadRequest,this.useRangeHeader=t.useRangeHeader,this.forceRangeRequests=t.forceRangeRequests,this.options=L.assign({},t),delete this.options.preventHeadRequest,delete this.options.useRangeHeader,delete this.options.forceRangeRequests,delete this.options.useXHR}async init(){super.init(),await nt(this,ft,at)}readUint8Array(e,t){return rt(this,e,t,ft,at)}}class tt extends t{constructor(e,t){super(),this.url=e,this.preventHeadRequest=t.preventHeadRequest,this.useRangeHeader=t.useRangeHeader,this.forceRangeRequests=t.forceRangeRequests,this.options=t}async init(){super.init(),await nt(this,dt,ot)}readUint8Array(e,t){return rt(this,e,t,dt,ot)}}async function nt(e,t,r){if(i=e.url,(void 0!==n?((s=n.createElement("a")).href=i,"http:"==s.protocol||"https:"==s.protocol):/^https?:\/\//i.test(i))&&(e.useRangeHeader||e.forceRangeRequests)){s=await t(Xe,e,it(e));if(!e.forceRangeRequests&&"bytes"!=s.headers.get("Accept-Ranges"))throw new Q(Pe);{let n;i=s.headers.get("Content-Range");if(i){let t=i.trim().split(/\s*\/\s*/);if(t.length){let e=t[1];e&&"*"!=e&&(n=Number(e))}}void 0===n?await ct(e,t,r):e.size=n}}else await ct(e,t,r);var i,s}async function rt(t,n,r,i,e){if(t.useRangeHeader||t.forceRangeRequests){let e=await i(Xe,t,it(t,n,r));if(206!=e.status)throw new Q(Pe);return new N(await e.arrayBuffer())}return t.data||await e(t,t.options),new N(t.data.subarray(n,n+r))}function it(e,t=0,n=1){return L.assign({},st(e),{Range:"bytes="+t+"-"+(t+n-1)})}function st(e){e=e.options.headers;if(e)return Symbol.iterator in e?L.fromEntries(e):e}async function at(e){await lt(e,ft)}async function ot(e){await lt(e,dt)}async function lt(e,t){t=await t(Xe,e,st(e));e.data=new N(await t.arrayBuffer()),e.size||(e.size=e.data.length)}async function ct(e,t,n){!e.preventHeadRequest&&(t=(await t("HEAD",e,st(e))).headers.get("Content-Length"))?e.size=Number(t):await n(e,e.options)}async function ft(e,{options:t,url:n},r){n=await fetch(n,L.assign({},t,{method:e,headers:r}));if(n.status<400)return n;throw new Q(Ke+(n.statusText||n.status))}function dt(r,{url:i},s){return new Z((e,t)=>{let n=new XMLHttpRequest;if(n.addEventListener("load",()=>{if(n.status<400){let t=[];n.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(e=>{e=e.trim().split(/\s*:\s*/);e[0]=e[0].trim().replace(/^[a-z]|-[a-z]/g,e=>e.toUpperCase()),t.push(e)}),e({status:n.status,arrayBuffer:()=>n.response,headers:new R(t)})}else t(new Q(Ke+(n.statusText||n.status)))},!1),n.addEventListener("error",e=>t(e.detail.error),!1),n.open(r,i),s)for(let e of L.entries(s))n.setRequestHeader(e[0],e[1]);n.responseType="arraybuffer",n.send()})}class ut extends t{constructor(e,t={}){super(),this.url=e,t.useXHR?this.reader=new tt(e,t):this.reader=new et(e,t)}set size(e){}get size(){return this.reader.size}async init(){super.init(),await this.reader.init()}readUint8Array(e,t){return this.reader.readUint8Array(e,t)}}let O=4294967295,K=65535,ht=33639248,pt=101075792,wt=117853008,gt=new W(2107,11,31),yt=new W(1980,0,1),mt="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ".split("");function bt(r,e){if(e&&"cp437"==e.trim().toLowerCase()){var n=r;let t="";for(let e=0;e<n.length;e++)t+=mt[n[e]];return t}if(void 0!==g)return new g(e).decode(r);{let n=new y;return new Z((t,e)=>{n.onload=e=>t(e.target.result),n.onerror=()=>e(n.error),n.readAsText(new i([r]))})}}let vt=["filename","rawFilename","directory","encrypted","compressedSize","uncompressedSize","lastModDate","rawLastModDate","comment","rawComment","signature","extraField","rawExtraField","bitFlag","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","filenameUTF8","commentUTF8","offset","zip64","compressionMethod","extraFieldNTFS","lastAccessDate","creationDate","extraFieldExtendedTimestamp","version","versionMadeBy","msDosCompatible","internalFileAttribute","externalFileAttribute"];class kt{constructor(t){vt.forEach(e=>this[e]=t[e])}}let St="File format is not recognized",_t="End of central directory not found",At="End of Zip64 central directory not found",zt="End of Zip64 central directory locator not found",Rt="Central directory header not found",Ct="Local file header not found",Et="Zip64 extra field not found",Dt="File contains encrypted entry",Ft="Encryption method not supported",xt="Compression method not supported",Tt=["uncompressedSize","compressedSize","offset"];class It{constructor(e,t,n){L.assign(this,{reader:e,config:t,options:n})}async getData(e,t,n={}){var r=this,{reader:i,offset:s,extraFieldAES:a,compressionMethod:o,config:l,bitFlag:c,signature:f,rawLastModDate:d,compressedSize:u}=r,h=r.localDirectory={},p=(i.initialized||await i.init(),await k(i,s,30)),w=z(p),g=(g=v(r,n,"password"))&&g.length&&g;if(a&&99!=a.originalCompressionMethod)throw new Q(xt);if(0!=o&&8!=o)throw new Q(xt);if(67324752!=A(w,0))throw new Q(Ct);Ut(h,w,4),p=await k(i,s,30+h.filenameLength+h.extraFieldLength),h.rawExtraField=p.subarray(30+h.filenameLength),await Bt(r,h,w,4),t.lastAccessDate=h.lastAccessDate,t.creationDate=h.creationDate;p=r.encrypted&&h.encrypted,w=p&&!a;if(p){if(!w&&void 0===a.strength)throw new Q(Ft);if(!g)throw new Q(Dt)}t=await Le(l.Inflate,{codecType:Ee,password:g,zipCrypto:w,encryptionStrength:a&&a.strength,signed:v(r,n,"checkSignature"),passwordVerification:w&&(c.dataDescriptor?d>>>8&255:f>>>24&255),signature:f,compressed:0!=o,encrypted:p,useWebWorkers:v(r,n,"useWebWorkers")},l),e.initialized||await e.init(),g=v(r,n,"signal");return await Ne(t,i,e,s+30+h.filenameLength+h.extraFieldLength,u,l,{onprogress:n.onprogress,signal:g}),e.getData()}}function Ut(e,t,n){var r=e.rawBitFlag=_(t,n+2),i=1==(1&r),s=A(t,n+6);L.assign(e,{encrypted:i,version:_(t,n),bitFlag:{level:(6&r)>>1,dataDescriptor:8==(8&r),languageEncodingFlag:2048==(2048&r)},rawLastModDate:s,lastModDate:(e=>{var t=(4294901760&e)>>16,n=65535&e;try{return new W(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&n)>>11,(2016&n)>>5,2*(31&n),0)}catch(e){}})(s),filenameLength:_(t,n+22),extraFieldLength:_(t,n+24)})}async function Bt(e,a,t,n){var r=a.rawExtraField,i=a.extraField=new R,s=z(new N(r));let o=0;try{for(;o<r.length;){let e=_(s,o),t=_(s,o+2);i.set(e,{type:e,data:r.slice(o+4,o+4+t)}),o+=4+t}}catch(e){}var l=_(t,n+4),t=(a.signature=A(t,n+10),a.uncompressedSize=A(t,n+18),a.compressedSize=A(t,n+14),i.get(1));if(t){var c=t,f=a,d=(f.zip64=!0,z(c.data));c.values=[];for(let e=0;e<H.floor(c.data.length/8);e++)c.values.push(Vt(d,0+8*e));var u=Tt.filter(e=>f[e]==O);for(let e=0;e<u.length;e++)c[u[e]]=c.values[e];Tt.forEach(e=>{if(f[e]==O){if(void 0===c[e])throw new Q(Et);f[e]=c[e]}}),a.extraFieldZip64=t}var h,p,n=i.get(28789),t=(n&&(await Wt(n,"filename","rawFilename",a,e),a.extraFieldUnicodePath=n),i.get(25461)),n=(t&&(await Wt(t,"comment","rawComment",a,e),a.extraFieldUnicodeComment=t),i.get(39169)),w=(n?(t=a,b=l,p=z((h=n).data),h.vendorVersion=S(p,0),h.vendorId=S(p,2),w=S(p,4),h.strength=w,h.originalCompressionMethod=b,t.compressionMethod=h.compressionMethod=_(p,5),a.extraFieldAES=n):a.compressionMethod=l,i.get(10));if(w){{var g=w,y=a;let n=z(g.data),i,r=4;try{for(;r<g.data.length&&!i;){let e=_(n,r),t=_(n,r+2);1==e&&(i=g.data.slice(r+4,r+4+t)),r+=4+t}}catch(g){}try{if(i&&24==i.length){let e=z(i),t=e.getBigUint64(0,!0),n=e.getBigUint64(8,!0),r=e.getBigUint64(16,!0);L.assign(g,{rawLastModDate:t,rawLastAccessDate:n,rawCreationDate:r});var m={lastModDate:Qt(t),lastAccessDate:Qt(n),creationDate:Qt(r)};L.assign(g,m),L.assign(y,m)}}catch(g){}}a.extraFieldNTFS=w}var b=i.get(21589);if(b){{var v=b,k=a;let r=z(v.data),e=S(r,0),t=[],i=[],s=(1==(1&e)&&(t.push("lastModDate"),i.push("rawLastModDate")),2==(2&e)&&(t.push("lastAccessDate"),i.push("rawLastAccessDate")),4==(4&e)&&(t.push("creationDate"),i.push("rawCreationDate")),1);t.forEach((e,t)=>{var n;v.data.length>=s+4&&(n=A(r,s),k[e]=v[e]=new W(1e3*n),e=i[t],v[e]=n),s+=4})}a.extraFieldExtendedTimestamp=b}}async function Wt(e,t,n,r,i){var s=z(e.data),s=(e.version=S(s,0),e.signature=A(s,1),new F),n=(s.append(i[n]),z(new N(4)));n.setUint32(0,s.get(),!0),e[t]=await bt(e.data.subarray(5)),e.valid=!i.bitFlag.languageEncodingFlag&&e.signature==A(n,0),e.valid&&(r[t]=e[t],r[t+"UTF8"]=!0)}function v(e,t,n){return(void 0===t[n]?e.options:t)[n]}function Qt(e){return new W(Number(e/M(1e4)-M(116444736e5)))}function S(e,t){return e.getUint8(t)}function _(e,t){return e.getUint16(t,!0)}function A(e,t){return e.getUint32(t,!0)}function Vt(e,t){return Number(e.getBigUint64(t,!0))}function z(e){return new V(e.buffer)}function k(e,t,n){return e.readUint8Array(t,n)}let Lt="File already exists",Mt="Zip file comment exceeds 64KB",Ht="File entry comment exceeds 64KB",Nt="File entry name exceeds 64KB",Zt="Version exceeds 65535",Ot="The strength must equal 1, 2, or 3",Kt="Extra field type exceeds 65535",Pt="Extra field data exceeds 64KB",qt="Zip64 is not supported",Xt=new N([7,0,2,0,65,69,3,0,0]),Yt,$t=0;function jt(r,i,s){if(r.arrayBuffer)return(i||s?r.slice(i,s):r).arrayBuffer();{let n=new y;return new Z((t,e)=>{n.onload=e=>t(e.target.result),n.onerror=()=>e(n.error),n.readAsArrayBuffer(i||s?r.slice(i,s):r)})}}function Gt(e){if(e)return(M(e.getTime())+M(116444736e5))*M(1e4)}function P(e,t,n){return(void 0===t[n]?e.options:t)[n]}function Jt(e,t,n){e.setUint8(t,n)}function q(e,t,n){e.setUint16(t,n,!0)}function X(e,t,n){e.setUint32(t,n,!0)}function Y(e,t,n){e.setBigUint64(t,n,!0)}function $(e,t,n){e.set(t,n)}function j(e){return new V(e.buffer)}try{Yt=void 0===n&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:void 0===n?location.href:n.currentScript&&n.currentScript.src||new h("zip.min.js",n.baseURI).href}catch(e){}C({baseURL:Yt}),We=C,"function"==typeof h.createObjectURL&&We({workerScripts:{inflate:[We=()=>h.createObjectURL(new i(['const{Array:t,Object:e,Math:n,Error:r,Uint8Array:i,Uint16Array:o,Uint32Array:s,Int32Array:f,DataView:c,TextEncoder:l,crypto:u,postMessage:a}=globalThis,w=[];for(let t=0;256>t;t++){let e=t;for(let t=0;8>t;t++)1&e?e=e>>>1^3988292384:e>>>=1;w[t]=e}class h{constructor(t){this.t=t||-1}append(t){let e=0|this.t;for(let n=0,r=0|t.length;r>n;n++)e=e>>>8^w[255&(e^t[n])];this.t=e}get(){return~this.t}}const d={concat(t,e){if(0===t.length||0===e.length)return t.concat(e);const n=t[t.length-1],r=d.i(n);return 32===r?t.concat(e):d.o(e,r,0|n,t.slice(0,t.length-1))},l(t){const e=t.length;if(0===e)return 0;const n=t[e-1];return 32*(e-1)+d.i(n)},u(t,e){if(32*t.length<e)return t;const r=(t=t.slice(0,n.ceil(e/32))).length;return e&=31,r>0&&e&&(t[r-1]=d.h(e,t[r-1]&2147483648>>e-1,1)),t},h:(t,e,n)=>32===t?e:(n?0|e:e<<32-t)+1099511627776*t,i:t=>n.round(t/1099511627776)||32,o(t,e,n,r){for(void 0===r&&(r=[]);e>=32;e-=32)r.push(n),n=0;if(0===e)return r.concat(t);for(let i=0;i<t.length;i++)r.push(n|t[i]>>>e),n=t[i]<<32-e;const i=t.length?t[t.length-1]:0,o=d.i(i);return r.push(d.h(e+o&31,e+o>32?n:r.pop(),1)),r}},p={p:{k(t){const e=d.l(t)/8,n=new i(e);let r;for(let i=0;e>i;i++)0==(3&i)&&(r=t[i/4]),n[i]=r>>>24,r<<=8;return n},g(t){const e=[];let n,r=0;for(n=0;n<t.length;n++)r=r<<8|t[n],3==(3&n)&&(e.push(r),r=0);return 3&n&&e.push(d.h(8*(3&n),r)),e}}},y={v:function(t){t?(this.m=t.m.slice(0),this.S=t.S.slice(0),this._=t._):this.reset()}};y.v.prototype={blockSize:512,reset:function(){const t=this;return t.m=this.I.slice(0),t.S=[],t._=0,t},update:function(t){const e=this;"string"==typeof t&&(t=p.A.g(t));const n=e.S=d.concat(e.S,t),i=e._,o=e._=i+d.l(t);if(o>9007199254740991)throw new r("Cannot hash more than 2^53 - 1 bits");const f=new s(n);let c=0;for(let t=e.blockSize+i-(e.blockSize+i&e.blockSize-1);o>=t;t+=e.blockSize)e.C(f.subarray(16*c,16*(c+1))),c+=1;return n.splice(0,16*c),e},V:function(){const t=this;let e=t.S;const r=t.m;e=d.concat(e,[d.h(1,1)]);for(let t=e.length+2;15&t;t++)e.push(0);for(e.push(n.floor(t._/4294967296)),e.push(0|t._);e.length;)t.C(e.splice(0,16));return t.reset(),r},I:[1732584193,4023233417,2562383102,271733878,3285377520],B:[1518500249,1859775393,2400959708,3395469782],D:(t,e,n,r)=>t>19?t>39?t>59?t>79?void 0:e^n^r:e&n|e&r|n&r:e^n^r:e&n|~e&r,U:(t,e)=>e<<t|e>>>32-t,C:function(e){const r=this,i=r.m,o=t(80);for(let t=0;16>t;t++)o[t]=e[t];let s=i[0],f=i[1],c=i[2],l=i[3],u=i[4];for(let t=0;79>=t;t++){16>t||(o[t]=r.U(1,o[t-3]^o[t-8]^o[t-14]^o[t-16]));const e=r.U(5,s)+r.D(t,f,c,l)+u+o[t]+r.B[n.floor(t/20)]|0;u=l,l=c,c=r.U(30,f),f=s,s=e}i[0]=i[0]+s|0,i[1]=i[1]+f|0,i[2]=i[2]+c|0,i[3]=i[3]+l|0,i[4]=i[4]+u|0}};const b={getRandomValues(t){const e=new s(t.buffer),r=t=>{let e=987654321;const r=4294967295;return()=>(e=36969*(65535&e)+(e>>16)&r,(((e<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r)/4294967296+.5)*(n.random()>.5?1:-1))};for(let i,o=0;o<t.length;o+=4){const t=r(4294967296*(i||n.random()));i=987654071*t(),e[o/4]=4294967296*t()|0}return t}},k={importKey:t=>new k.M(p.p.g(t)),P(t,e,n,i){if(n=n||1e4,0>i||0>n)throw new r("invalid params to pbkdf2");const o=1+(i>>5)<<2;let s,f,l,u,a;const w=new ArrayBuffer(o),h=new c(w);let y=0;const b=d;for(e=p.p.g(e),a=1;(o||1)>y;a++){for(s=f=t.encrypt(b.concat(e,[a])),l=1;n>l;l++)for(f=t.encrypt(f),u=0;u<f.length;u++)s[u]^=f[u];for(l=0;(o||1)>y&&l<s.length;l++)h.setInt32(y,s[l]),y+=4}return w.slice(0,i/8)},M:class{constructor(t){const e=this,n=e.R=y.v,r=[[],[]],i=n.prototype.blockSize/32;e.H=[new n,new n],t.length>i&&(t=n.hash(t));for(let e=0;i>e;e++)r[0][e]=909522486^t[e],r[1][e]=1549556828^t[e];e.H[0].update(r[0]),e.H[1].update(r[1]),e.K=new n(e.H[0])}reset(){const t=this;t.K=new t.R(t.H[0]),t.L=!1}update(t){this.L=!0,this.K.update(t)}digest(){const t=this,e=t.K.V(),n=new t.R(t.H[1]).update(e).V();return t.reset(),n}encrypt(t){if(this.L)throw new r("encrypt on already updated hmac called!");return this.update(t),this.digest(t)}}},g={name:"PBKDF2"},v=e.assign({hash:{name:"HMAC"}},g),m=e.assign({iterations:1e3,hash:{name:"SHA-1"}},g),S=["deriveBits"],z=[8,12,16],_=[16,24,32],I=[0,0,0,0],A=void 0!==u,C=A&&void 0!==u.subtle,V=p.p,B=class{constructor(t){const e=this;e.T=[[[],[],[],[],[]],[[],[],[],[],[]]],e.T[0][0][0]||e.j();const n=e.T[0][4],i=e.T[1],o=t.length;let s,f,c,l=1;if(4!==o&&6!==o&&8!==o)throw new r("invalid aes key size");for(e.B=[f=t.slice(0),c=[]],s=o;4*o+28>s;s++){let t=f[s-1];(s%o==0||8===o&&s%o==4)&&(t=n[t>>>24]<<24^n[t>>16&255]<<16^n[t>>8&255]<<8^n[255&t],s%o==0&&(t=t<<8^t>>>24^l<<24,l=l<<1^283*(l>>7))),f[s]=f[s-o]^t}for(let t=0;s;t++,s--){const e=f[3&t?s:s-4];c[t]=4>=s||4>t?e:i[0][n[e>>>24]]^i[1][n[e>>16&255]]^i[2][n[e>>8&255]]^i[3][n[255&e]]}}encrypt(t){return this.F(t,0)}decrypt(t){return this.F(t,1)}j(){const t=this.T[0],e=this.T[1],n=t[4],r=e[4],i=[],o=[];let s,f,c,l;for(let t=0;256>t;t++)o[(i[t]=t<<1^283*(t>>7))^t]=t;for(let u=s=0;!n[u];u^=f||1,s=o[s]||1){let o=s^s<<1^s<<2^s<<3^s<<4;o=o>>8^255&o^99,n[u]=o,r[o]=u,l=i[c=i[f=i[u]]];let a=16843009*l^65537*c^257*f^16843008*u,w=257*i[o]^16843008*o;for(let n=0;4>n;n++)t[n][u]=w=w<<24^w>>>8,e[n][o]=a=a<<24^a>>>8}for(let n=0;5>n;n++)t[n]=t[n].slice(0),e[n]=e[n].slice(0)}F(t,e){if(4!==t.length)throw new r("invalid aes block size");const n=this.B[e],i=n.length/4-2,o=[0,0,0,0],s=this.T[e],f=s[0],c=s[1],l=s[2],u=s[3],a=s[4];let w,h,d,p=t[0]^n[0],y=t[e?3:1]^n[1],b=t[2]^n[2],k=t[e?1:3]^n[3],g=4;for(let t=0;i>t;t++)w=f[p>>>24]^c[y>>16&255]^l[b>>8&255]^u[255&k]^n[g],h=f[y>>>24]^c[b>>16&255]^l[k>>8&255]^u[255&p]^n[g+1],d=f[b>>>24]^c[k>>16&255]^l[p>>8&255]^u[255&y]^n[g+2],k=f[k>>>24]^c[p>>16&255]^l[y>>8&255]^u[255&b]^n[g+3],g+=4,p=w,y=h,b=d;for(let t=0;4>t;t++)o[e?3&-t:t]=a[p>>>24]<<24^a[y>>16&255]<<16^a[b>>8&255]<<8^a[255&k]^n[g++],w=p,p=y,y=b,b=k,k=w;return o}},E=class{constructor(t,e){this.O=t,this.W=e,this.q=e}reset(){this.q=this.W}update(t){return this.G(this.O,t,this.q)}J(t){if(255==(t>>24&255)){let e=t>>16&255,n=t>>8&255,r=255&t;255===e?(e=0,255===n?(n=0,255===r?r=0:++r):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=r}else t+=1<<24;return t}N(t){0===(t[0]=this.J(t[0]))&&(t[1]=this.J(t[1]))}G(t,e,n){let r;if(!(r=e.length))return[];const i=d.l(e);for(let i=0;r>i;i+=4){this.N(n);const r=t.encrypt(n);e[i]^=r[0],e[i+1]^=r[1],e[i+2]^=r[2],e[i+3]^=r[3]}return d.u(e,i)}},D=k.M;class U{constructor(t,n,r){e.assign(this,{password:t,signed:n,X:r-1,Y:new i(0)})}async append(e){const n=this;if(n.password){const i=K(e,0,z[n.X]+2);await(async(t,e,n)=>{await R(t,n,K(e,0,z[t.X]));const i=K(e,z[t.X]),o=t.keys.passwordVerification;if(o[0]!=i[0]||o[1]!=i[1])throw new r("Invalid pasword")})(n,i,n.password),n.password=null,n.Z=new E(new B(n.keys.key),t.from(I)),n.$=new D(n.keys.tt),e=K(e,z[n.X]+2)}return P(n,e,new i(e.length-10-(e.length-10)%16),0,10,!0)}flush(){const t=this,e=t.Y,n=K(e,0,e.length-10),r=K(e,e.length-10);let o=new i(0);if(n.length){const e=V.g(n);t.$.update(e);const r=t.Z.update(e);o=V.k(r)}let s=!0;if(t.signed){const e=K(V.k(t.$.digest()),0,10);for(let t=0;10>t;t++)e[t]!=r[t]&&(s=!1)}return{valid:s,data:o}}}class M{constructor(t,n){e.assign(this,{password:t,X:n-1,Y:new i(0)})}async append(e){const n=this;let r=new i(0);n.password&&(r=await(async(t,e)=>{const n=(r=new i(z[t.X]),A&&"function"==typeof u.getRandomValues?u.getRandomValues(r):b.getRandomValues(r));var r;return await R(t,e,n),H(n,t.keys.passwordVerification)})(n,n.password),n.password=null,n.Z=new E(new B(n.keys.key),t.from(I)),n.$=new D(n.keys.tt));const o=new i(r.length+e.length-e.length%16);return o.set(r,0),P(n,e,o,r.length,0)}flush(){const t=this;let e=new i(0);if(t.Y.length){const n=t.Z.update(V.g(t.Y));t.$.update(n),e=V.k(n)}const n=K(V.k(t.$.digest()),0,10);return{data:H(e,n),signature:n}}}function P(t,e,n,r,o,s){const f=e.length-o;let c;for(t.Y.length&&(e=H(t.Y,e),n=((t,e)=>{if(e&&e>t.length){const n=t;(t=new i(e)).set(n,0)}return t})(n,f-f%16)),c=0;f-16>=c;c+=16){const i=V.g(K(e,c,c+16));s&&t.$.update(i);const o=t.Z.update(i);s||t.$.update(o),n.set(V.k(o),c+r)}return t.Y=K(e,c),n}async function R(t,n,r){const o=(t=>{if(void 0===l){const e=new i((t=unescape(encodeURIComponent(t))).length);for(let n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e}return(new l).encode(t)})(n),s=await((t,e,n,r,i)=>A&&C&&"function"==typeof u.subtle.importKey?u.subtle.importKey("raw",e,n,!1,i):k.importKey(e))(0,o,v,0,S),f=await(async(t,e,n)=>A&&C&&"function"==typeof u.subtle.deriveBits?await u.subtle.deriveBits(t,e,n):k.P(e,t.salt,m.iterations,n))(e.assign({salt:r},m),s,8*(2*_[t.X]+2)),c=new i(f);t.keys={key:V.g(K(c,0,_[t.X])),tt:V.g(K(c,_[t.X],2*_[t.X])),passwordVerification:K(c,2*_[t.X])}}function H(t,e){let n=t;return t.length+e.length&&(n=new i(t.length+e.length),n.set(t,0),n.set(e,t.length)),n}function K(t,e,n){return t.subarray(e,n)}class L{constructor(t,n){e.assign(this,{password:t,passwordVerification:n}),F(this,t)}append(t){const e=this;if(e.password){const n=j(e,t.subarray(0,12));if(e.password=null,n[11]!=e.passwordVerification)throw new r("Invalid pasword");t=t.subarray(12)}return j(e,t)}flush(){return{valid:!0,data:new i(0)}}}class T{constructor(t,n){e.assign(this,{password:t,passwordVerification:n}),F(this,t)}append(t){const e=this;let n,r;if(e.password){e.password=null;const o=u.getRandomValues(new i(12));o[11]=e.passwordVerification,n=new i(t.length+o.length),n.set(x(e,o),0),r=12}else n=new i(t.length),r=0;return n.set(x(e,t),r),n}flush(){return{data:new i(0)}}}function j(t,e){const n=new i(e.length);for(let r=0;r<e.length;r++)n[r]=W(t)^e[r],O(t,n[r]);return n}function x(t,e){const n=new i(e.length);for(let r=0;r<e.length;r++)n[r]=W(t)^e[r],O(t,e[r]);return n}function F(t,e){t.keys=[305419896,591751049,878082192],t.et=new h(t.keys[0]),t.nt=new h(t.keys[2]);for(let n=0;n<e.length;n++)O(t,e.charCodeAt(n))}function O(t,e){t.et.append([e]),t.keys[0]=~t.et.get(),t.keys[1]=G(t.keys[1]+q(t.keys[0])),t.keys[1]=G(n.imul(t.keys[1],134775813)+1),t.nt.append([t.keys[1]>>>24]),t.keys[2]=~t.nt.get()}function W(t){const e=2|t.keys[2];return q(n.imul(e,1^e)>>>8)}function q(t){return 255&t}function G(t){return 4294967295&t}class J{constructor(t,{signature:n,password:r,signed:i,compressed:o,zipCrypto:s,passwordVerification:f,encryptionStrength:c},{rt:l}){const u=!!r;e.assign(this,{signature:n,encrypted:u,signed:i,compressed:o,it:o&&new t({rt:l}),ot:i&&new h,zipCrypto:s,decrypt:u&&s?new L(r,f):new U(r,i,c)})}async append(t){const e=this;return e.encrypted&&t.length&&(t=await e.decrypt.append(t)),e.compressed&&t.length&&(t=await e.it.append(t)),(!e.encrypted||e.zipCrypto)&&e.signed&&t.length&&e.ot.append(t),t}async flush(){const t=this;let e,n=new i(0);if(t.encrypted){const e=t.decrypt.flush();if(!e.valid)throw new r("Invalid signature");n=e.data}if((!t.encrypted||t.zipCrypto)&&t.signed){const n=new c(new i(4).buffer);if(e=t.ot.get(),n.setUint32(0,e),t.signature!=n.getUint32(0,!1))throw new r("Invalid signature")}return t.compressed&&(n=await t.it.append(n)||new i(0),await t.it.flush()),{data:n,signature:e}}}class N{constructor(t,{encrypted:n,signed:r,compressed:i,level:o,zipCrypto:s,password:f,passwordVerification:c,encryptionStrength:l},{rt:u}){e.assign(this,{encrypted:n,signed:r,compressed:i,st:i&&new t({level:o||5,rt:u}),ot:r&&new h,zipCrypto:s,encrypt:n&&s?new T(f,c):new M(f,l)})}async append(t){const e=this;let n=t;return e.compressed&&t.length&&(n=await e.st.append(t)),e.encrypted&&n.length&&(n=await e.encrypt.append(n)),(!e.encrypted||e.zipCrypto)&&e.signed&&t.length&&e.ot.append(t),n}async flush(){const t=this;let e,n=new i(0);if(t.compressed&&(n=await t.st.flush()||new i(0)),t.encrypted){n=await t.encrypt.append(n);const r=t.encrypt.flush();e=r.signature;const o=new i(n.length+r.data.length);o.set(n,0),o.set(r.data,n.length),n=o}return t.encrypted&&!t.zipCrypto||!t.signed||(e=t.ot.get()),{data:n,signature:e}}}const Q={init(t){t.scripts&&t.scripts.length&&importScripts.apply(void 0,t.scripts);const e=t.options;let n;self.initCodec&&self.initCodec(),e.codecType.startsWith("deflate")?n=self.Deflate:e.codecType.startsWith("inflate")&&(n=self.Inflate),X=((t,e,n)=>e.codecType.startsWith("deflate")?new N(t,e,n):e.codecType.startsWith("inflate")?new J(t,e,n):void 0)(n,e,t.config)},append:async t=>({data:await X.append(t.data)}),flush:()=>X.flush()};let X;function Y(e){return Z(e.map((([e,n])=>new t(e).fill(n,0,e))))}function Z(e){return e.reduce(((e,n)=>e.concat(t.isArray(n)?Z(n):n)),[])}addEventListener("message",(async t=>{const e=t.data,n=e.type,r=Q[n];if(r)try{e.data&&(e.data=new i(e.data));const t=await r(e)||{};if(t.type=n,t.data)try{t.data=t.data.buffer,a(t,[t.data])}catch(e){a(t)}else a(t)}catch(t){a({type:n,error:{message:t.message,stack:t.stack}})}}));const $=[0,1,2,3].concat(...Y([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function tt(){const t=this;function e(t,e){let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}t.ft=r=>{const i=t.ct,o=t.ut.lt,s=t.ut.wt;let f,c,l,u=-1;for(r.ht=0,r.dt=573,f=0;s>f;f++)0!==i[2*f]?(r.yt[++r.ht]=u=f,r.bt[f]=0):i[2*f+1]=0;for(;2>r.ht;)l=r.yt[++r.ht]=2>u?++u:0,i[2*l]=1,r.bt[l]=0,r.kt--,o&&(r.gt-=o[2*l+1]);for(t.vt=u,f=n.floor(r.ht/2);f>=1;f--)r.St(i,f);l=s;do{f=r.yt[1],r.yt[1]=r.yt[r.ht--],r.St(i,1),c=r.yt[1],r.yt[--r.dt]=f,r.yt[--r.dt]=c,i[2*l]=i[2*f]+i[2*c],r.bt[l]=n.max(r.bt[f],r.bt[c])+1,i[2*f+1]=i[2*c+1]=l,r.yt[1]=l++,r.St(i,1)}while(r.ht>=2);r.yt[--r.dt]=r.yt[1],(e=>{const n=t.ct,r=t.ut.lt,i=t.ut.zt,o=t.ut._t,s=t.ut.It;let f,c,l,u,a,w,h=0;for(u=0;15>=u;u++)e.At[u]=0;for(n[2*e.yt[e.dt]+1]=0,f=e.dt+1;573>f;f++)c=e.yt[f],u=n[2*n[2*c+1]+1]+1,u>s&&(u=s,h++),n[2*c+1]=u,c>t.vt||(e.At[u]++,a=0,o>c||(a=i[c-o]),w=n[2*c],e.kt+=w*(u+a),r&&(e.gt+=w*(r[2*c+1]+a)));if(0!==h){do{for(u=s-1;0===e.At[u];)u--;e.At[u]--,e.At[u+1]+=2,e.At[s]--,h-=2}while(h>0);for(u=s;0!==u;u--)for(c=e.At[u];0!==c;)l=e.yt[--f],l>t.vt||(n[2*l+1]!=u&&(e.kt+=(u-n[2*l+1])*n[2*l],n[2*l+1]=u),c--)}})(r),((t,n,r)=>{const i=[];let o,s,f,c=0;for(o=1;15>=o;o++)i[o]=c=c+r[o-1]<<1;for(s=0;n>=s;s++)f=t[2*s+1],0!==f&&(t[2*s]=e(i[f]++,f))})(i,t.vt,r.At)}}function et(t,e,n,r,i){const o=this;o.lt=t,o.zt=e,o._t=n,o.wt=r,o.It=i}tt.Ct=[0,1,2,3,4,5,6,7].concat(...Y([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]])),tt.Vt=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],tt.Bt=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],tt.Et=t=>256>t?$[t]:$[256+(t>>>7)],tt.Dt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tt.Ut=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],tt.Mt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],tt.Pt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];const nt=Y([[144,8],[112,9],[24,7],[8,8]]);et.Rt=Z([12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227].map(((t,e)=>[t,nt[e]])));const rt=Y([[30,5]]);function it(t,e,n,r,i){const o=this;o.Ht=t,o.Kt=e,o.Lt=n,o.Tt=r,o.jt=i}et.xt=Z([0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23].map(((t,e)=>[t,rt[e]]))),et.Ft=new et(et.Rt,tt.Dt,257,286,15),et.Ot=new et(et.xt,tt.Ut,0,30,15),et.Wt=new et(null,tt.Mt,0,19,7);const ot=[new it(0,0,0,0,0),new it(4,4,8,4,1),new it(4,5,16,8,1),new it(4,6,32,32,1),new it(4,4,16,16,2),new it(8,16,32,32,2),new it(8,16,128,128,2),new it(8,32,128,256,2),new it(32,128,258,1024,2),new it(32,258,258,4096,2)],st=["need dictionary","stream end","","","stream error","data error","","buffer error","",""];function ft(t,e,n,r){const i=t[2*e],o=t[2*n];return o>i||i==o&&r[e]<=r[n]}function ct(){const t=this;let e,r,s,f,c,l,u,a,w,h,d,p,y,b,k,g,v,m,S,z,_,I,A,C,V,B,E,D,U,M,P,R,H;const K=new tt,L=new tt,T=new tt;let j,x,F,O,W,q;function G(){let e;for(e=0;286>e;e++)P[2*e]=0;for(e=0;30>e;e++)R[2*e]=0;for(e=0;19>e;e++)H[2*e]=0;P[512]=1,t.kt=t.gt=0,x=F=0}function J(t,e){let n,r=-1,i=t[1],o=0,s=7,f=4;0===i&&(s=138,f=3),t[2*(e+1)+1]=65535;for(let c=0;e>=c;c++)n=i,i=t[2*(c+1)+1],++o<s&&n==i||(f>o?H[2*n]+=o:0!==n?(n!=r&&H[2*n]++,H[32]++):o>10?H[36]++:H[34]++,o=0,r=n,0===i?(s=138,f=3):n==i?(s=6,f=3):(s=7,f=4))}function N(e){t.qt[t.pending++]=e}function Q(t){N(255&t),N(t>>>8&255)}function X(t,e){let n;const r=e;q>16-r?(n=t,W|=n<<q&65535,Q(W),W=n>>>16-q,q+=r-16):(W|=t<<q&65535,q+=r)}function Y(t,e){const n=2*t;X(65535&e[n],65535&e[n+1])}function Z(t,e){let n,r,i=-1,o=t[1],s=0,f=7,c=4;for(0===o&&(f=138,c=3),n=0;e>=n;n++)if(r=o,o=t[2*(n+1)+1],++s>=f||r!=o){if(c>s)do{Y(r,H)}while(0!=--s);else 0!==r?(r!=i&&(Y(r,H),s--),Y(16,H),X(s-3,2)):s>10?(Y(18,H),X(s-11,7)):(Y(17,H),X(s-3,3));s=0,i=r,0===o?(f=138,c=3):r==o?(f=6,c=3):(f=7,c=4)}}function $(){16==q?(Q(W),W=0,q=0):8>q||(N(255&W),W>>>=8,q-=8)}function nt(e,r){let i,o,s;if(t.Gt[x]=e,t.Jt[x]=255&r,x++,0===e?P[2*r]++:(F++,e--,P[2*(tt.Ct[r]+256+1)]++,R[2*tt.Et(e)]++),0==(8191&x)&&E>2){for(i=8*x,o=_-v,s=0;30>s;s++)i+=R[2*s]*(5+tt.Ut[s]);if(i>>>=3,F<n.floor(x/2)&&i<n.floor(o/2))return!0}return x==j-1}function rt(e,n){let r,i,o,s,f=0;if(0!==x)do{r=t.Gt[f],i=t.Jt[f],f++,0===r?Y(i,e):(o=tt.Ct[i],Y(o+256+1,e),s=tt.Dt[o],0!==s&&(i-=tt.Vt[o],X(i,s)),r--,o=tt.Et(r),Y(o,n),s=tt.Ut[o],0!==s&&(r-=tt.Bt[o],X(r,s)))}while(x>f);Y(256,e),O=e[513]}function it(){q>8?Q(W):q>0&&N(255&W),W=0,q=0}function ct(e,n,r){X(0+(r?1:0),3),((e,n)=>{it(),O=8,Q(n),Q(~n),t.qt.set(a.subarray(e,e+n),t.pending),t.pending+=n})(e,n)}function lt(n){((e,n,r)=>{let i,o,s=0;E>0?(K.ft(t),L.ft(t),s=(()=>{let e;for(J(P,K.vt),J(R,L.vt),T.ft(t),e=18;e>=3&&0===H[2*tt.Pt[e]+1];e--);return t.kt+=14+3*(e+1),e})(),i=t.kt+3+7>>>3,o=t.gt+3+7>>>3,o>i||(i=o)):i=o=n+5,n+4>i||-1==e?o==i?(X(2+(r?1:0),3),rt(et.Rt,et.xt)):(X(4+(r?1:0),3),((t,e,n)=>{let r;for(X(t-257,5),X(e-1,5),X(n-4,4),r=0;n>r;r++)X(H[2*tt.Pt[r]+1],3);Z(P,t-1),Z(R,e-1)})(K.vt+1,L.vt+1,s+1),rt(P,R)):ct(e,n,r),G(),r&&it()})(0>v?-1:v,_-v,n),v=_,e.Nt()}function ut(){let t,n,r,i;do{if(i=w-A-_,0===i&&0===_&&0===A)i=c;else if(-1==i)i--;else if(_>=c+c-262){a.set(a.subarray(c,c+c),0),I-=c,_-=c,v-=c,t=y,r=t;do{n=65535&d[--r],d[r]=c>n?0:n-c}while(0!=--t);t=c,r=t;do{n=65535&h[--r],h[r]=c>n?0:n-c}while(0!=--t);i+=c}if(0===e.Qt)return;t=e.Xt(a,_+A,i),A+=t,3>A||(p=255&a[_],p=(p<<g^255&a[_+1])&k)}while(262>A&&0!==e.Qt)}function at(t){let e,n,r=V,i=_,o=C;const s=_>c-262?_-(c-262):0;let f=M;const l=u,w=_+258;let d=a[i+o-1],p=a[i+o];U>C||(r>>=2),f>A&&(f=A);do{if(e=t,a[e+o]==p&&a[e+o-1]==d&&a[e]==a[i]&&a[++e]==a[i+1]){i+=2,e++;do{}while(a[++i]==a[++e]&&a[++i]==a[++e]&&a[++i]==a[++e]&&a[++i]==a[++e]&&a[++i]==a[++e]&&a[++i]==a[++e]&&a[++i]==a[++e]&&a[++i]==a[++e]&&w>i);if(n=258-(w-i),i=w-258,n>o){if(I=t,o=n,n>=f)break;d=a[i+o-1],p=a[i+o]}}}while((t=65535&h[t&l])>s&&0!=--r);return o>A?A:o}t.bt=[],t.At=[],t.yt=[],P=[],R=[],H=[],t.St=(e,n)=>{const r=t.yt,i=r[n];let o=n<<1;for(;o<=t.ht&&(o<t.ht&&ft(e,r[o+1],r[o],t.bt)&&o++,!ft(e,i,r[o],t.bt));)r[n]=r[o],n=o,o<<=1;r[n]=i},t.Yt=(e,S,I,x,F,J)=>(x||(x=8),F||(F=8),J||(J=0),e.Zt=null,-1==S&&(S=6),1>F||F>9||8!=x||9>I||I>15||0>S||S>9||0>J||J>2?-2:(e.$t=t,l=I,c=1<<l,u=c-1,b=F+7,y=1<<b,k=y-1,g=n.floor((b+3-1)/3),a=new i(2*c),h=[],d=[],j=1<<F+6,t.qt=new i(4*j),s=4*j,t.Gt=new o(j),t.Jt=new i(j),E=S,D=J,(e=>(e.te=e.ee=0,e.Zt=null,t.pending=0,t.ne=0,r=113,f=0,K.ct=P,K.ut=et.Ft,L.ct=R,L.ut=et.Ot,T.ct=H,T.ut=et.Wt,W=0,q=0,O=8,G(),(()=>{w=2*c,d[y-1]=0;for(let t=0;y-1>t;t++)d[t]=0;B=ot[E].Kt,U=ot[E].Ht,M=ot[E].Lt,V=ot[E].Tt,_=0,v=0,A=0,m=C=2,z=0,p=0})(),0))(e))),t.re=()=>42!=r&&113!=r&&666!=r?-2:(t.Jt=null,t.Gt=null,t.qt=null,d=null,h=null,a=null,t.$t=null,113==r?-3:0),t.ie=(t,e,n)=>{let r=0;return-1==e&&(e=6),0>e||e>9||0>n||n>2?-2:(ot[E].jt!=ot[e].jt&&0!==t.te&&(r=t.st(1)),E!=e&&(E=e,B=ot[E].Kt,U=ot[E].Ht,M=ot[E].Lt,V=ot[E].Tt),D=n,r)},t.oe=(t,e,n)=>{let i,o=n,s=0;if(!e||42!=r)return-2;if(3>o)return 0;for(o>c-262&&(o=c-262,s=n-o),a.set(e.subarray(s,s+o),0),_=o,v=o,p=255&a[0],p=(p<<g^255&a[1])&k,i=0;o-3>=i;i++)p=(p<<g^255&a[i+2])&k,h[i&u]=d[p],d[p]=i;return 0},t.st=(n,i)=>{let o,w,b,V,U;if(i>4||0>i)return-2;if(!n.se||!n.fe&&0!==n.Qt||666==r&&4!=i)return n.Zt=st[4],-2;if(0===n.ce)return n.Zt=st[7],-5;var M;if(e=n,V=f,f=i,42==r&&(w=8+(l-8<<4)<<8,b=(E-1&255)>>1,b>3&&(b=3),w|=b<<6,0!==_&&(w|=32),w+=31-w%31,r=113,N((M=w)>>8&255),N(255&M)),0!==t.pending){if(e.Nt(),0===e.ce)return f=-1,0}else if(0===e.Qt&&V>=i&&4!=i)return e.Zt=st[7],-5;if(666==r&&0!==e.Qt)return n.Zt=st[7],-5;if(0!==e.Qt||0!==A||0!=i&&666!=r){switch(U=-1,ot[E].jt){case 0:U=(t=>{let n,r=65535;for(r>s-5&&(r=s-5);;){if(1>=A){if(ut(),0===A&&0==t)return 0;if(0===A)break}if(_+=A,A=0,n=v+r,(0===_||_>=n)&&(A=_-n,_=n,lt(!1),0===e.ce))return 0;if(_-v>=c-262&&(lt(!1),0===e.ce))return 0}return lt(4==t),0===e.ce?4==t?2:0:4==t?3:1})(i);break;case 1:U=(t=>{let n,r=0;for(;;){if(262>A){if(ut(),262>A&&0==t)return 0;if(0===A)break}if(3>A||(p=(p<<g^255&a[_+2])&k,r=65535&d[p],h[_&u]=d[p],d[p]=_),0===r||(_-r&65535)>c-262||2!=D&&(m=at(r)),3>m)n=nt(0,255&a[_]),A--,_++;else if(n=nt(_-I,m-3),A-=m,m>B||3>A)_+=m,m=0,p=255&a[_],p=(p<<g^255&a[_+1])&k;else{m--;do{_++,p=(p<<g^255&a[_+2])&k,r=65535&d[p],h[_&u]=d[p],d[p]=_}while(0!=--m);_++}if(n&&(lt(!1),0===e.ce))return 0}return lt(4==t),0===e.ce?4==t?2:0:4==t?3:1})(i);break;case 2:U=(t=>{let n,r,i=0;for(;;){if(262>A){if(ut(),262>A&&0==t)return 0;if(0===A)break}if(3>A||(p=(p<<g^255&a[_+2])&k,i=65535&d[p],h[_&u]=d[p],d[p]=_),C=m,S=I,m=2,0!==i&&B>C&&c-262>=(_-i&65535)&&(2!=D&&(m=at(i)),5>=m&&(1==D||3==m&&_-I>4096)&&(m=2)),3>C||m>C)if(0!==z){if(n=nt(0,255&a[_-1]),n&&lt(!1),_++,A--,0===e.ce)return 0}else z=1,_++,A--;else{r=_+A-3,n=nt(_-1-S,C-3),A-=C-1,C-=2;do{++_>r||(p=(p<<g^255&a[_+2])&k,i=65535&d[p],h[_&u]=d[p],d[p]=_)}while(0!=--C);if(z=0,m=2,_++,n&&(lt(!1),0===e.ce))return 0}}return 0!==z&&(n=nt(0,255&a[_-1]),z=0),lt(4==t),0===e.ce?4==t?2:0:4==t?3:1})(i)}if(2!=U&&3!=U||(r=666),0==U||2==U)return 0===e.ce&&(f=-1),0;if(1==U){if(1==i)X(2,3),Y(256,et.Rt),$(),9>1+O+10-q&&(X(2,3),Y(256,et.Rt),$()),O=7;else if(ct(0,0,!1),3==i)for(o=0;y>o;o++)d[o]=0;if(e.Nt(),0===e.ce)return f=-1,0}}return 4!=i?0:1}}function lt(){const t=this;t.le=0,t.ue=0,t.Qt=0,t.te=0,t.ce=0,t.ee=0}function ut(t){const e=new lt,o=(s=t&&t.rt?t.rt:65536)+5*(n.floor(s/16383)+1);var s;const f=new i(o);let c=t?t.level:-1;void 0===c&&(c=-1),e.Yt(c),e.se=f,this.append=(t,n)=>{let s,c,l=0,u=0,a=0;const w=[];if(t.length){e.le=0,e.fe=t,e.Qt=t.length;do{if(e.ue=0,e.ce=o,s=e.st(0),0!=s)throw new r("deflating: "+e.Zt);e.ue&&(e.ue==o?w.push(new i(f)):w.push(f.slice(0,e.ue))),a+=e.ue,n&&e.le>0&&e.le!=l&&(n(e.le),l=e.le)}while(e.Qt>0||0===e.ce);return w.length>1?(c=new i(a),w.forEach((t=>{c.set(t,u),u+=t.length}))):c=w[0]||new i(0),c}},this.flush=()=>{let t,n,s=0,c=0;const l=[];do{if(e.ue=0,e.ce=o,t=e.st(4),1!=t&&0!=t)throw new r("deflating: "+e.Zt);o-e.ce>0&&l.push(f.slice(0,e.ue)),c+=e.ue}while(e.Qt>0||0===e.ce);return e.re(),n=new i(c),l.forEach((t=>{n.set(t,s),s+=t.length})),n}}lt.prototype={Yt:function(t,e){const n=this;return n.$t=new ct,e||(e=15),n.$t.Yt(n,t,e)},st:function(t){const e=this;return e.$t?e.$t.st(e,t):-2},re:function(){const t=this;if(!t.$t)return-2;const e=t.$t.re();return t.$t=null,e},ie:function(t,e){const n=this;return n.$t?n.$t.ie(n,t,e):-2},oe:function(t,e){const n=this;return n.$t?n.$t.oe(n,t,e):-2},Xt:function(t,e,n){const r=this;let i=r.Qt;return i>n&&(i=n),0===i?0:(r.Qt-=i,t.set(r.fe.subarray(r.le,r.le+i),e),r.le+=i,r.te+=i,i)},Nt:function(){const t=this;let e=t.$t.pending;e>t.ce&&(e=t.ce),0!==e&&(t.se.set(t.$t.qt.subarray(t.$t.ne,t.$t.ne+e),t.ue),t.ue+=e,t.$t.ne+=e,t.ee+=e,t.ce-=e,t.$t.pending-=e,0===t.$t.pending&&(t.$t.ne=0))}};const at=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],wt=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],ht=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],dt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],pt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],yt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],bt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];function kt(){let t,e,n,r,i,o;function s(t,e,s,f,c,l,u,a,w,h,d){let p,y,b,k,g,v,m,S,z,_,I,A,C,V,B;_=0,g=s;do{n[t[e+_]]++,_++,g--}while(0!==g);if(n[0]==s)return u[0]=-1,a[0]=0,0;for(S=a[0],v=1;15>=v&&0===n[v];v++);for(m=v,v>S&&(S=v),g=15;0!==g&&0===n[g];g--);for(b=g,S>g&&(S=g),a[0]=S,V=1<<v;g>v;v++,V<<=1)if(0>(V-=n[v]))return-3;if(0>(V-=n[g]))return-3;for(n[g]+=V,o[1]=v=0,_=1,C=2;0!=--g;)o[C]=v+=n[_],C++,_++;g=0,_=0;do{0!==(v=t[e+_])&&(d[o[v]++]=g),_++}while(++g<s);for(s=o[b],o[0]=g=0,_=0,k=-1,A=-S,i[0]=0,I=0,B=0;b>=m;m++)for(p=n[m];0!=p--;){for(;m>A+S;){if(k++,A+=S,B=b-A,B=B>S?S:B,(y=1<<(v=m-A))>p+1&&(y-=p+1,C=m,B>v))for(;++v<B&&(y<<=1)>n[++C];)y-=n[C];if(B=1<<v,h[0]+B>1440)return-3;i[k]=I=h[0],h[0]+=B,0!==k?(o[k]=g,r[0]=v,r[1]=S,v=g>>>A-S,r[2]=I-i[k-1]-v,w.set(r,3*(i[k-1]+v))):u[0]=I}for(r[1]=m-A,s>_?d[_]<f?(r[0]=256>d[_]?0:96,r[2]=d[_++]):(r[0]=l[d[_]-f]+16+64,r[2]=c[d[_++]-f]):r[0]=192,y=1<<m-A,v=g>>>A;B>v;v+=y)w.set(r,3*(I+v));for(v=1<<m-1;0!=(g&v);v>>>=1)g^=v;for(g^=v,z=(1<<A)-1;(g&z)!=o[k];)k--,A-=S,z=(1<<A)-1}return 0!==V&&1!=b?-5:0}function c(s){let c;for(t||(t=[],e=[],n=new f(16),r=[],i=new f(15),o=new f(16)),e.length<s&&(e=[]),c=0;s>c;c++)e[c]=0;for(c=0;16>c;c++)n[c]=0;for(c=0;3>c;c++)r[c]=0;i.set(n.subarray(0,15),0),o.set(n.subarray(0,16),0)}this.ae=(n,r,i,o,f)=>{let l;return c(19),t[0]=0,l=s(n,0,19,19,null,null,i,r,o,t,e),-3==l?f.Zt="oversubscribed dynamic bit lengths tree":-5!=l&&0!==r[0]||(f.Zt="incomplete dynamic bit lengths tree",l=-3),l},this.we=(n,r,i,o,f,l,u,a,w)=>{let h;return c(288),t[0]=0,h=s(i,0,n,257,dt,pt,l,o,a,t,e),0!=h||0===o[0]?(-3==h?w.Zt="oversubscribed literal/length tree":-4!=h&&(w.Zt="incomplete literal/length tree",h=-3),h):(c(288),h=s(i,n,r,0,yt,bt,u,f,a,t,e),0!=h||0===f[0]&&n>257?(-3==h?w.Zt="oversubscribed distance tree":-5==h?(w.Zt="incomplete distance tree",h=-3):-4!=h&&(w.Zt="empty distance tree with lengths",h=-3),h):0)}}function gt(){const t=this;let e,n,r,i,o=0,s=0,f=0,c=0,l=0,u=0,a=0,w=0,h=0,d=0;function p(t,e,n,r,i,o,s,f){let c,l,u,a,w,h,d,p,y,b,k,g,v,m,S,z;d=f.le,p=f.Qt,w=s.he,h=s.de,y=s.write,b=y<s.read?s.read-y-1:s.end-y,k=at[t],g=at[e];do{for(;20>h;)p--,w|=(255&f.pe(d++))<<h,h+=8;if(c=w&k,l=n,u=r,z=3*(u+c),0!==(a=l[z]))for(;;){if(w>>=l[z+1],h-=l[z+1],0!=(16&a)){for(a&=15,v=l[z+2]+(w&at[a]),w>>=a,h-=a;15>h;)p--,w|=(255&f.pe(d++))<<h,h+=8;for(c=w&g,l=i,u=o,z=3*(u+c),a=l[z];;){if(w>>=l[z+1],h-=l[z+1],0!=(16&a)){for(a&=15;a>h;)p--,w|=(255&f.pe(d++))<<h,h+=8;if(m=l[z+2]+(w&at[a]),w>>=a,h-=a,b-=v,m>y){S=y-m;do{S+=s.end}while(0>S);if(a=s.end-S,v>a){if(v-=a,y-S>0&&a>y-S)do{s.ye[y++]=s.ye[S++]}while(0!=--a);else s.ye.set(s.ye.subarray(S,S+a),y),y+=a,S+=a,a=0;S=0}}else S=y-m,y-S>0&&2>y-S?(s.ye[y++]=s.ye[S++],s.ye[y++]=s.ye[S++],v-=2):(s.ye.set(s.ye.subarray(S,S+2),y),y+=2,S+=2,v-=2);if(y-S>0&&v>y-S)do{s.ye[y++]=s.ye[S++]}while(0!=--v);else s.ye.set(s.ye.subarray(S,S+v),y),y+=v,S+=v,v=0;break}if(0!=(64&a))return f.Zt="invalid distance code",v=f.Qt-p,v=v>h>>3?h>>3:v,p+=v,d-=v,h-=v<<3,s.he=w,s.de=h,f.Qt=p,f.te+=d-f.le,f.le=d,s.write=y,-3;c+=l[z+2],c+=w&at[a],z=3*(u+c),a=l[z]}break}if(0!=(64&a))return 0!=(32&a)?(v=f.Qt-p,v=v>h>>3?h>>3:v,p+=v,d-=v,h-=v<<3,s.he=w,s.de=h,f.Qt=p,f.te+=d-f.le,f.le=d,s.write=y,1):(f.Zt="invalid literal/length code",v=f.Qt-p,v=v>h>>3?h>>3:v,p+=v,d-=v,h-=v<<3,s.he=w,s.de=h,f.Qt=p,f.te+=d-f.le,f.le=d,s.write=y,-3);if(c+=l[z+2],c+=w&at[a],z=3*(u+c),0===(a=l[z])){w>>=l[z+1],h-=l[z+1],s.ye[y++]=l[z+2],b--;break}}else w>>=l[z+1],h-=l[z+1],s.ye[y++]=l[z+2],b--}while(b>=258&&p>=10);return v=f.Qt-p,v=v>h>>3?h>>3:v,p+=v,d-=v,h-=v<<3,s.he=w,s.de=h,f.Qt=p,f.te+=d-f.le,f.le=d,s.write=y,0}t.init=(t,o,s,f,c,l)=>{e=0,a=t,w=o,r=s,h=f,i=c,d=l,n=null},t.be=(t,y,b)=>{let k,g,v,m,S,z,_,I=0,A=0,C=0;for(C=y.le,m=y.Qt,I=t.he,A=t.de,S=t.write,z=S<t.read?t.read-S-1:t.end-S;;)switch(e){case 0:if(z>=258&&m>=10&&(t.he=I,t.de=A,y.Qt=m,y.te+=C-y.le,y.le=C,t.write=S,b=p(a,w,r,h,i,d,t,y),C=y.le,m=y.Qt,I=t.he,A=t.de,S=t.write,z=S<t.read?t.read-S-1:t.end-S,0!=b)){e=1==b?7:9;break}f=a,n=r,s=h,e=1;case 1:for(k=f;k>A;){if(0===m)return t.he=I,t.de=A,y.Qt=m,y.te+=C-y.le,y.le=C,t.write=S,t.ke(y,b);b=0,m--,I|=(255&y.pe(C++))<<A,A+=8}if(g=3*(s+(I&at[k])),I>>>=n[g+1],A-=n[g+1],v=n[g],0===v){c=n[g+2],e=6;break}if(0!=(16&v)){l=15&v,o=n[g+2],e=2;break}if(0==(64&v)){f=v,s=g/3+n[g+2];break}if(0!=(32&v)){e=7;break}return e=9,y.Zt="invalid literal/length code",b=-3,t.he=I,t.de=A,y.Qt=m,y.te+=C-y.le,y.le=C,t.write=S,t.ke(y,b);case 2:for(k=l;k>A;){if(0===m)return t.he=I,t.de=A,y.Qt=m,y.te+=C-y.le,y.le=C,t.write=S,t.ke(y,b);b=0,m--,I|=(255&y.pe(C++))<<A,A+=8}o+=I&at[k],I>>=k,A-=k,f=w,n=i,s=d,e=3;case 3:for(k=f;k>A;){if(0===m)return t.he=I,t.de=A,y.Qt=m,y.te+=C-y.le,y.le=C,t.write=S,t.ke(y,b);b=0,m--,I|=(255&y.pe(C++))<<A,A+=8}if(g=3*(s+(I&at[k])),I>>=n[g+1],A-=n[g+1],v=n[g],0!=(16&v)){l=15&v,u=n[g+2],e=4;break}if(0==(64&v)){f=v,s=g/3+n[g+2];break}return e=9,y.Zt="invalid distance code",b=-3,t.he=I,t.de=A,y.Qt=m,y.te+=C-y.le,y.le=C,t.write=S,t.ke(y,b);case 4:for(k=l;k>A;){if(0===m)return t.he=I,t.de=A,y.Qt=m,y.te+=C-y.le,y.le=C,t.write=S,t.ke(y,b);b=0,m--,I|=(255&y.pe(C++))<<A,A+=8}u+=I&at[k],I>>=k,A-=k,e=5;case 5:for(_=S-u;0>_;)_+=t.end;for(;0!==o;){if(0===z&&(S==t.end&&0!==t.read&&(S=0,z=S<t.read?t.read-S-1:t.end-S),0===z&&(t.write=S,b=t.ke(y,b),S=t.write,z=S<t.read?t.read-S-1:t.end-S,S==t.end&&0!==t.read&&(S=0,z=S<t.read?t.read-S-1:t.end-S),0===z)))return t.he=I,t.de=A,y.Qt=m,y.te+=C-y.le,y.le=C,t.write=S,t.ke(y,b);t.ye[S++]=t.ye[_++],z--,_==t.end&&(_=0),o--}e=0;break;case 6:if(0===z&&(S==t.end&&0!==t.read&&(S=0,z=S<t.read?t.read-S-1:t.end-S),0===z&&(t.write=S,b=t.ke(y,b),S=t.write,z=S<t.read?t.read-S-1:t.end-S,S==t.end&&0!==t.read&&(S=0,z=S<t.read?t.read-S-1:t.end-S),0===z)))return t.he=I,t.de=A,y.Qt=m,y.te+=C-y.le,y.le=C,t.write=S,t.ke(y,b);b=0,t.ye[S++]=c,z--,e=0;break;case 7:if(A>7&&(A-=8,m++,C--),t.write=S,b=t.ke(y,b),S=t.write,z=S<t.read?t.read-S-1:t.end-S,t.read!=t.write)return t.he=I,t.de=A,y.Qt=m,y.te+=C-y.le,y.le=C,t.write=S,t.ke(y,b);e=8;case 8:return b=1,t.he=I,t.de=A,y.Qt=m,y.te+=C-y.le,y.le=C,t.write=S,t.ke(y,b);case 9:return b=-3,t.he=I,t.de=A,y.Qt=m,y.te+=C-y.le,y.le=C,t.write=S,t.ke(y,b);default:return b=-2,t.he=I,t.de=A,y.Qt=m,y.te+=C-y.le,y.le=C,t.write=S,t.ke(y,b)}},t.ge=()=>{}}kt.ve=(t,e,n,r)=>(t[0]=9,e[0]=5,n[0]=wt,r[0]=ht,0);const vt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function mt(t,e){const n=this;let r,o=0,s=0,c=0,l=0;const u=[0],a=[0],w=new gt;let h=0,d=new f(4320);const p=new kt;n.de=0,n.he=0,n.ye=new i(e),n.end=e,n.read=0,n.write=0,n.reset=(t,e)=>{e&&(e[0]=0),6==o&&w.ge(t),o=0,n.de=0,n.he=0,n.read=n.write=0},n.reset(t,null),n.ke=(t,e)=>{let r,i,o;return i=t.ue,o=n.read,r=(o>n.write?n.end:n.write)-o,r>t.ce&&(r=t.ce),0!==r&&-5==e&&(e=0),t.ce-=r,t.ee+=r,t.se.set(n.ye.subarray(o,o+r),i),i+=r,o+=r,o==n.end&&(o=0,n.write==n.end&&(n.write=0),r=n.write-o,r>t.ce&&(r=t.ce),0!==r&&-5==e&&(e=0),t.ce-=r,t.ee+=r,t.se.set(n.ye.subarray(o,o+r),i),i+=r,o+=r),t.ue=i,n.read=o,e},n.be=(t,e)=>{let i,f,y,b,k,g,v,m;for(b=t.le,k=t.Qt,f=n.he,y=n.de,g=n.write,v=g<n.read?n.read-g-1:n.end-g;;){let S,z,_,I,A,C,V,B;switch(o){case 0:for(;3>y;){if(0===k)return n.he=f,n.de=y,t.Qt=k,t.te+=b-t.le,t.le=b,n.write=g,n.ke(t,e);e=0,k--,f|=(255&t.pe(b++))<<y,y+=8}switch(i=7&f,h=1&i,i>>>1){case 0:f>>>=3,y-=3,i=7&y,f>>>=i,y-=i,o=1;break;case 1:S=[],z=[],_=[[]],I=[[]],kt.ve(S,z,_,I),w.init(S[0],z[0],_[0],0,I[0],0),f>>>=3,y-=3,o=6;break;case 2:f>>>=3,y-=3,o=3;break;case 3:return f>>>=3,y-=3,o=9,t.Zt="invalid block type",e=-3,n.he=f,n.de=y,t.Qt=k,t.te+=b-t.le,t.le=b,n.write=g,n.ke(t,e)}break;case 1:for(;32>y;){if(0===k)return n.he=f,n.de=y,t.Qt=k,t.te+=b-t.le,t.le=b,n.write=g,n.ke(t,e);e=0,k--,f|=(255&t.pe(b++))<<y,y+=8}if((~f>>>16&65535)!=(65535&f))return o=9,t.Zt="invalid stored block lengths",e=-3,n.he=f,n.de=y,t.Qt=k,t.te+=b-t.le,t.le=b,n.write=g,n.ke(t,e);s=65535&f,f=y=0,o=0!==s?2:0!==h?7:0;break;case 2:if(0===k)return n.he=f,n.de=y,t.Qt=k,t.te+=b-t.le,t.le=b,n.write=g,n.ke(t,e);if(0===v&&(g==n.end&&0!==n.read&&(g=0,v=g<n.read?n.read-g-1:n.end-g),0===v&&(n.write=g,e=n.ke(t,e),g=n.write,v=g<n.read?n.read-g-1:n.end-g,g==n.end&&0!==n.read&&(g=0,v=g<n.read?n.read-g-1:n.end-g),0===v)))return n.he=f,n.de=y,t.Qt=k,t.te+=b-t.le,t.le=b,n.write=g,n.ke(t,e);if(e=0,i=s,i>k&&(i=k),i>v&&(i=v),n.ye.set(t.Xt(b,i),g),b+=i,k-=i,g+=i,v-=i,0!=(s-=i))break;o=0!==h?7:0;break;case 3:for(;14>y;){if(0===k)return n.he=f,n.de=y,t.Qt=k,t.te+=b-t.le,t.le=b,n.write=g,n.ke(t,e);e=0,k--,f|=(255&t.pe(b++))<<y,y+=8}if(c=i=16383&f,(31&i)>29||(i>>5&31)>29)return o=9,t.Zt="too many length or distance symbols",e=-3,n.he=f,n.de=y,t.Qt=k,t.te+=b-t.le,t.le=b,n.write=g,n.ke(t,e);if(i=258+(31&i)+(i>>5&31),!r||r.length<i)r=[];else for(m=0;i>m;m++)r[m]=0;f>>>=14,y-=14,l=0,o=4;case 4:for(;4+(c>>>10)>l;){for(;3>y;){if(0===k)return n.he=f,n.de=y,t.Qt=k,t.te+=b-t.le,t.le=b,n.write=g,n.ke(t,e);e=0,k--,f|=(255&t.pe(b++))<<y,y+=8}r[vt[l++]]=7&f,f>>>=3,y-=3}for(;19>l;)r[vt[l++]]=0;if(u[0]=7,i=p.ae(r,u,a,d,t),0!=i)return-3==(e=i)&&(r=null,o=9),n.he=f,n.de=y,t.Qt=k,t.te+=b-t.le,t.le=b,n.write=g,n.ke(t,e);l=0,o=5;case 5:for(;i=c,258+(31&i)+(i>>5&31)>l;){let s,w;for(i=u[0];i>y;){if(0===k)return n.he=f,n.de=y,t.Qt=k,t.te+=b-t.le,t.le=b,n.write=g,n.ke(t,e);e=0,k--,f|=(255&t.pe(b++))<<y,y+=8}if(i=d[3*(a[0]+(f&at[i]))+1],w=d[3*(a[0]+(f&at[i]))+2],16>w)f>>>=i,y-=i,r[l++]=w;else{for(m=18==w?7:w-14,s=18==w?11:3;i+m>y;){if(0===k)return n.he=f,n.de=y,t.Qt=k,t.te+=b-t.le,t.le=b,n.write=g,n.ke(t,e);e=0,k--,f|=(255&t.pe(b++))<<y,y+=8}if(f>>>=i,y-=i,s+=f&at[m],f>>>=m,y-=m,m=l,i=c,m+s>258+(31&i)+(i>>5&31)||16==w&&1>m)return r=null,o=9,t.Zt="invalid bit length repeat",e=-3,n.he=f,n.de=y,t.Qt=k,t.te+=b-t.le,t.le=b,n.write=g,n.ke(t,e);w=16==w?r[m-1]:0;do{r[m++]=w}while(0!=--s);l=m}}if(a[0]=-1,A=[],C=[],V=[],B=[],A[0]=9,C[0]=6,i=c,i=p.we(257+(31&i),1+(i>>5&31),r,A,C,V,B,d,t),0!=i)return-3==i&&(r=null,o=9),e=i,n.he=f,n.de=y,t.Qt=k,t.te+=b-t.le,t.le=b,n.write=g,n.ke(t,e);w.init(A[0],C[0],d,V[0],d,B[0]),o=6;case 6:if(n.he=f,n.de=y,t.Qt=k,t.te+=b-t.le,t.le=b,n.write=g,1!=(e=w.be(n,t,e)))return n.ke(t,e);if(e=0,w.ge(t),b=t.le,k=t.Qt,f=n.he,y=n.de,g=n.write,v=g<n.read?n.read-g-1:n.end-g,0===h){o=0;break}o=7;case 7:if(n.write=g,e=n.ke(t,e),g=n.write,v=g<n.read?n.read-g-1:n.end-g,n.read!=n.write)return n.he=f,n.de=y,t.Qt=k,t.te+=b-t.le,t.le=b,n.write=g,n.ke(t,e);o=8;case 8:return e=1,n.he=f,n.de=y,t.Qt=k,t.te+=b-t.le,t.le=b,n.write=g,n.ke(t,e);case 9:return e=-3,n.he=f,n.de=y,t.Qt=k,t.te+=b-t.le,t.le=b,n.write=g,n.ke(t,e);default:return e=-2,n.he=f,n.de=y,t.Qt=k,t.te+=b-t.le,t.le=b,n.write=g,n.ke(t,e)}}},n.ge=t=>{n.reset(t,null),n.ye=null,d=null},n.me=(t,e,r)=>{n.ye.set(t.subarray(e,e+r),0),n.read=n.write=r},n.Se=()=>1==o?1:0}const St=[0,0,255,255];function zt(){const t=this;function e(t){return t&&t.ze?(t.te=t.ee=0,t.Zt=null,t.ze.mode=7,t.ze._e.reset(t,null),0):-2}t.mode=0,t.method=0,t.Ie=[0],t.Ae=0,t.marker=0,t.Ce=0,t.Ve=e=>(t._e&&t._e.ge(e),t._e=null,0),t.Be=(n,r)=>(n.Zt=null,t._e=null,8>r||r>15?(t.Ve(n),-2):(t.Ce=r,n.ze._e=new mt(n,1<<r),e(n),0)),t.it=(t,e)=>{let n,r;if(!t||!t.ze||!t.fe)return-2;const i=t.ze;for(e=4==e?-5:0,n=-5;;)switch(i.mode){case 0:if(0===t.Qt)return n;if(n=e,t.Qt--,t.te++,8!=(15&(i.method=t.pe(t.le++)))){i.mode=13,t.Zt="unknown compression method",i.marker=5;break}if(8+(i.method>>4)>i.Ce){i.mode=13,t.Zt="invalid win size",i.marker=5;break}i.mode=1;case 1:if(0===t.Qt)return n;if(n=e,t.Qt--,t.te++,r=255&t.pe(t.le++),((i.method<<8)+r)%31!=0){i.mode=13,t.Zt="incorrect header check",i.marker=5;break}if(0==(32&r)){i.mode=7;break}i.mode=2;case 2:if(0===t.Qt)return n;n=e,t.Qt--,t.te++,i.Ae=(255&t.pe(t.le++))<<24&4278190080,i.mode=3;case 3:if(0===t.Qt)return n;n=e,t.Qt--,t.te++,i.Ae+=(255&t.pe(t.le++))<<16&16711680,i.mode=4;case 4:if(0===t.Qt)return n;n=e,t.Qt--,t.te++,i.Ae+=(255&t.pe(t.le++))<<8&65280,i.mode=5;case 5:return 0===t.Qt?n:(n=e,t.Qt--,t.te++,i.Ae+=255&t.pe(t.le++),i.mode=6,2);case 6:return i.mode=13,t.Zt="need dictionary",i.marker=0,-2;case 7:if(n=i._e.be(t,n),-3==n){i.mode=13,i.marker=0;break}if(0==n&&(n=e),1!=n)return n;n=e,i._e.reset(t,i.Ie),i.mode=12;case 12:return t.Qt=0,1;case 13:return-3;default:return-2}},t.Ee=(t,e,n)=>{let r=0,i=n;if(!t||!t.ze||6!=t.ze.mode)return-2;const o=t.ze;return i<1<<o.Ce||(i=(1<<o.Ce)-1,r=n-i),o._e.me(e,r,i),o.mode=7,0},t.De=t=>{let n,r,i,o,s;if(!t||!t.ze)return-2;const f=t.ze;if(13!=f.mode&&(f.mode=13,f.marker=0),0===(n=t.Qt))return-5;for(r=t.le,i=f.marker;0!==n&&4>i;)t.pe(r)==St[i]?i++:i=0!==t.pe(r)?0:4-i,r++,n--;return t.te+=r-t.le,t.le=r,t.Qt=n,f.marker=i,4!=i?-3:(o=t.te,s=t.ee,e(t),t.te=o,t.ee=s,f.mode=7,0)},t.Ue=t=>t&&t.ze&&t.ze._e?t.ze._e.Se():-2}function _t(){}function It(t){const e=new _t,o=t&&t.rt?n.floor(2*t.rt):131072,s=new i(o);let f=!1;e.Be(),e.se=s,this.append=(t,n)=>{const c=[];let l,u,a=0,w=0,h=0;if(0!==t.length){e.le=0,e.fe=t,e.Qt=t.length;do{if(e.ue=0,e.ce=o,0!==e.Qt||f||(e.le=0,f=!0),l=e.it(0),f&&-5===l){if(0!==e.Qt)throw new r("inflating: bad input")}else if(0!==l&&1!==l)throw new r("inflating: "+e.Zt);if((f||1===l)&&e.Qt===t.length)throw new r("inflating: bad input");e.ue&&(e.ue===o?c.push(new i(s)):c.push(s.slice(0,e.ue))),h+=e.ue,n&&e.le>0&&e.le!=a&&(n(e.le),a=e.le)}while(e.Qt>0||0===e.ce);return c.length>1?(u=new i(h),c.forEach((t=>{u.set(t,w),w+=t.length}))):u=c[0]||new i(0),u}},this.flush=()=>{e.Ve()}}_t.prototype={Be:function(t){const e=this;return e.ze=new zt,t||(t=15),e.ze.Be(e,t)},it:function(t){const e=this;return e.ze?e.ze.it(e,t):-2},Ve:function(){const t=this;if(!t.ze)return-2;const e=t.ze.Ve(t);return t.ze=null,e},De:function(){const t=this;return t.ze?t.ze.De(t):-2},Ee:function(t,e){const n=this;return n.ze?n.ze.Ee(n,t,e):-2},pe:function(t){return this.fe[t]},Xt:function(t,e){return this.fe.subarray(t,t+e)}},self.initCodec=()=>{self.Deflate=ut,self.Inflate=It};\n'],{type:"text/javascript"}))],deflate:[We]}}),e.BlobReader=$e,e.BlobWriter=je,e.Data64URIReader=class extends t{constructor(e){super();let t=(this.dataURI=e).length;for(;"="==e.charAt(t-1);)t--;this.dataStart=e.indexOf(",")+1,this.size=H.floor(.75*(t-this.dataStart))}readUint8Array(e,t){var n=new N(t),r=4*H.floor(e/3),i=atob(this.dataURI.substring(r+this.dataStart,4*H.ceil((e+t)/3)+this.dataStart)),s=e-3*H.floor(r/4);for(let e=s;s+t>e;e++)n[e-s]=i.charCodeAt(e);return n}},e.Data64URIWriter=class extends s{constructor(e){super(),this.data="data:"+(e||"")+";base64,",this.pending=[]}writeUint8Array(e){super.writeUint8Array(e);let t=0,n=this.pending;var r=this.pending.length;for(this.pending="",t=0;t<3*H.floor((r+e.length)/3)-r;t++)n+=c.fromCharCode(e[t]);for(;t<e.length;t++)this.pending+=c.fromCharCode(e[t]);2<n.length?this.data+=m(n):this.pending=n}getData(){return this.data+m(this.pending)}},e.ERR_ABORT=He,e.ERR_BAD_FORMAT=St,e.ERR_CENTRAL_DIRECTORY_NOT_FOUND=Rt,e.ERR_DUPLICATED_NAME=Lt,e.ERR_ENCRYPTED=Dt,e.ERR_EOCDR_LOCATOR_ZIP64_NOT_FOUND=zt,e.ERR_EOCDR_NOT_FOUND=_t,e.ERR_EOCDR_ZIP64_NOT_FOUND=At,e.ERR_EXTRAFIELD_ZIP64_NOT_FOUND=Et,e.ERR_HTTP_RANGE=Pe,e.ERR_INVALID_COMMENT=Mt,e.ERR_INVALID_ENCRYPTION_STRENGTH=Ot,e.ERR_INVALID_ENTRY_COMMENT=Ht,e.ERR_INVALID_ENTRY_NAME=Nt,e.ERR_INVALID_EXTRAFIELD_DATA=Pt,e.ERR_INVALID_EXTRAFIELD_TYPE=Kt,e.ERR_INVALID_PASSWORD=te,e.ERR_INVALID_SIGNATURE=De,e.ERR_INVALID_VERSION=Zt,e.ERR_LOCAL_FILE_HEADER_NOT_FOUND=Ct,e.ERR_UNSUPPORTED_COMPRESSION=xt,e.ERR_UNSUPPORTED_ENCRYPTION=Ft,e.ERR_UNSUPPORTED_FORMAT=qt,e.HttpRangeReader=class extends ut{constructor(e,t={}){t.useRangeHeader=!0,super(e,t)}},e.HttpReader=ut,e.Reader=t,e.TextReader=class extends t{constructor(e){super(),this.blobReader=new $e(new i([e],{type:qe}))}init(){super.init(),this.blobReader.init(),this.size=this.blobReader.size}readUint8Array(e,t){return this.blobReader.readUint8Array(e,t)}},e.TextWriter=class extends s{constructor(e){super(),this.encoding=e,this.blob=new i([],{type:qe})}writeUint8Array(e){super.writeUint8Array(e),this.blob=new i([this.blob,e.buffer],{type:qe})}getData(){if(this.blob.text)return this.blob.text();{let n=new y;return new Z((t,e)=>{n.onload=e=>t(e.target.result),n.onerror=()=>e(n.error),n.readAsText(this.blob,this.encoding)})}}},e.Uint8ArrayReader=class extends t{constructor(e){super(),this.array=e,this.size=e.length}readUint8Array(e,t){return this.array.slice(e,e+t)}},e.Uint8ArrayWriter=class extends s{constructor(){super(),this.array=new N(0)}writeUint8Array(e){super.writeUint8Array(e);var t=this.array;this.array=new N(t.length+e.length),this.array.set(t),this.array.set(e,t.length)}getData(){return this.array}},e.WritableStreamWriter=class extends s{constructor(e){super(),this.writableStream=e,this.writer=e.getWriter()}async writeUint8Array(e){return await this.writer.ready,this.writer.write(e)}async getData(){return await this.writer.ready,await this.writer.close(),this.writableStream}},e.Writer=s,e.ZipReader=class{constructor(e,t={}){L.assign(this,{reader:e,options:t,config:r})}async*getEntriesGenerator(c={}){let f=this,d=f.reader;if(d.initialized||await d.init(),d.size<22)throw new Q(St);var i=await(async(r,i)=>{let s=new N(4);return z(s).setUint32(0,101010256,!0),await e(22)||await e(H.min(1048582,i));async function e(e){var t=i-e,n=await k(r,t,e);for(let e=n.length-22;0<=e;e--)if(n[e]==s[0]&&n[e+1]==s[1]&&n[e+2]==s[2]&&n[e+3]==s[3])return{offset:t+e,buffer:n.slice(e,e+22).buffer}}})(d,d.size);if(!i)throw new Q(_t);let e=z(i),s=A(e,12),a=A(e,16),u=_(e,8),h=0;if(a==O||s==O||u==K){let e=z(await k(d,i.offset-20,20));if(A(e,0)!=wt)throw new Q(At);a=Vt(e,8);let t=await k(d,a,56),n=z(t),r=i.offset-20-56;if(A(n,0)!=pt&&a!=r){let e=a;a=r,h=a-e,t=await k(d,a,56),n=z(t)}if(A(n,0)!=pt)throw new Q(zt);u=Vt(n,32),s=Vt(n,40),a-=s}if(a<0||a>=d.size)throw new Q(St);let p=0,w=await k(d,a,s),g=z(w);if(s){let t=i.offset-s;if(A(g,p)!=ht&&a!=t){let e=a;a=t,h=a-e,w=await k(d,a,s),g=z(w)}}if(a<0||a>=d.size)throw new Q(St);for(let l=0;u>l;l++){let n=new It(d,f.config,f.options);if(A(g,p)!=ht)throw new Q(Rt);Ut(n,g,p+6);let e=!!n.bitFlag.languageEncodingFlag,t=p+46,r=t+n.filenameLength,i=r+n.extraFieldLength,s=_(g,p+4),a=0==(0&s);L.assign(n,{versionMadeBy:s,msDosCompatible:a,compressedSize:0,uncompressedSize:0,commentLength:_(g,p+32),directory:a&&16==(16&S(g,p+38)),offset:A(g,p+42)+h,internalFileAttribute:A(g,p+34),externalFileAttribute:A(g,p+38),rawFilename:w.subarray(t,r),filenameUTF8:e,commentUTF8:e,rawExtraField:w.subarray(r,i)});var y=i+n.commentLength,m=(n.rawComment=w.subarray(i,y),v(f,c,"filenameEncoding")),b=v(f,c,"commentEncoding"),[m,b]=await Z.all([bt(n.rawFilename,n.filenameUTF8?"utf-8":m||"cp437"),bt(n.rawComment,n.commentUTF8?"utf-8":b||"cp437")]);n.filename=m,n.comment=b,!n.directory&&n.filename.endsWith("/")&&(n.directory=!0),await Bt(n,n,g,p+6);let o=new kt(n);if(o.getData=(e,t)=>n.getData(e,o,t),p=y,c.onprogress)try{c.onprogress(l+1,u,new kt(n))}catch(c){}yield o}return!0}async getEntries(e={}){var t=[],n=this.getEntriesGenerator(e);let r=n.next();for(;!(await r).done;)t.push((await r).value),r=n.next();return t}async close(){}},e.ZipWriter=class{constructor(e,t={}){L.assign(this,{writer:e,options:t,config:r,files:new R,offset:e.size,pendingCompressedSize:0,pendingEntries:[]})}async add(c="",f,d={}){let u=this;if($t>=u.config.maxWorkers)return new Z((e,t)=>u.pendingEntries.push({name:c,reader:f,options:d,resolve:e,reject:t}));$t++;try{{var h=u;var p=c;var w=f;var g=d;if(p=p.trim(),g.directory&&!p.endsWith("/")?p+="/":g.directory=p.endsWith("/"),h.files.has(p))throw new Q(Lt);var y=ee(p);if(y.length>K)throw new Q(Nt);var m=g.comment||"",b=ee(m);if(b.length>K)throw new Q(Ht);var v=h.options.version||g.version||0;if(v>K)throw new Q(Zt);var k=h.options.versionMadeBy||g.versionMadeBy||20;if(k>K)throw new Q(Zt);var S=P(h,g,"lastModDate")||new W,_=P(h,g,"lastAccessDate"),A=P(h,g,"creationDate"),z=P(h,g,"password"),R=P(h,g,"encryptionStrength")||3,C=P(h,g,"zipCrypto");if(void 0!==z&&(R<1||3<R))throw new Q(Ot);let r=new N(0);var E=g.extraField;if(E){let t=0,n=0;E.forEach(e=>t+=4+e.length),r=new N(t),E.forEach((e,t)=>{if(t>K)throw new Q(Kt);if(e.length>K)throw new Q(Pt);$(r,new G([t]),n),$(r,new G([e.length]),n+2),$(r,e,n+4),n+=4+e.length})}let e=P(h,g,"extendedTimestamp"),t=(void 0===e&&(e=!0),0),n=P(h,g,"keepOrder"),i=(void 0===n&&(n=!0),0),s=P(h,g,"msDosCompatible");void 0===s&&(s=!0);var D=P(h,g,"internalFileAttribute")||0,F=P(h,g,"externalFileAttribute")||0;w&&(w.initialized||await w.init(),i=w.size,t=(x=i)+5*(H.floor(x/16383)+1));let a=g.zip64||h.options.zip64||!1;if(h.offset+h.pendingCompressedSize>=O||i>=O||t>=O){if(!1===g.zip64||!1===h.options.zip64||!n)throw new Q(qt);a=!0}h.pendingCompressedSize+=t,await Z.resolve();var x=P(h,g,"level"),T=P(h,g,"useWebWorkers"),I=P(h,g,"bufferedWrite");let o=P(h,g,"dataDescriptor"),l=P(h,g,"dataDescriptorSignature");var U=P(h,g,"signal"),w=((o=void 0===o?!0:o)&&void 0===l&&(l=!0),await(async(s,r,i,a)=>{var o,l=s.files,c=s.writer,f=B.from(l.values()).pop();let d,u,h,p={};l.set(r,p);try{let e,t,n;if(a.keepOrder&&(e=f&&f.lock),p.lock=n=new Z(e=>h=e),a.bufferedWrite||s.lockWrite||!a.dataDescriptor?((t=new je).init(),d=!0):(s.lockWrite=new Z(e=>u=e),c.initialized||await c.init(),t=c),(p=await(async(t,n,r,i)=>{var{rawFilename:e,lastAccessDate:s,creationDate:a,password:o,level:l,zip64:c,zipCrypto:f,dataDescriptor:d,dataDescriptorSignature:u,directory:h,version:p,versionMadeBy:w,rawComment:g,rawExtraField:y,useWebWorkers:W,onprogress:Q,signal:V,encryptionStrength:m,extendedTimestamp:b,msDosCompatible:v,internalFileAttribute:k,externalFileAttribute:S}=i,_=!(!o||!o.length),A=0!==l&&!h;let z,R,C;if(_&&!f){let e=j(z=new N(Xt.length+2));q(e,0,39169),$(z,Xt,2),Jt(e,8,m)}else z=new N(0);if(b){let e=j(C=new N(9+(s?4:0)+(a?4:0)));q(e,0,21589),q(e,2,C.length-4),Jt(e,4,1+(s?2:0)+(a?4:0)),X(e,5,H.floor(i.lastModDate.getTime()/1e3)),s&&X(e,9,H.floor(s.getTime()/1e3)),a&&X(e,13,H.floor(a.getTime()/1e3));try{let e=j(R=new N(36)),t=Gt(i.lastModDate);q(e,0,10),q(e,2,32),q(e,8,1),q(e,10,24),Y(e,12,t),Y(e,20,Gt(s)||t),Y(e,28,Gt(a)||t)}catch(t){R=new N(0)}}else R=C=new N(0);p={version:p||20,versionMadeBy:w,zip64:c,directory:!!h,filenameUTF8:!0,rawFilename:e,commentUTF8:!0,rawComment:g,rawExtraFieldZip64:new N(c?28:0),rawExtraFieldExtendedTimestamp:C,rawExtraFieldNTFS:R,rawExtraFieldAES:z,rawExtraField:y,extendedTimestamp:b,msDosCompatible:v,internalFileAttribute:k,externalFileAttribute:S};let E=p.uncompressedSize=0,D=2048,F=(d&&(D|=8),0);A&&(F=8),c&&(p.version=45<p.version?p.version:45),_&&(D|=1,f||(p.version=51<p.version?p.version:51,F=99,A&&(p.rawExtraFieldAES[9]=8))),p.compressionMethod=F;w=p.headerArray=new N(26),h=j(w),q(h,0,p.version),q(h,2,D),q(h,4,F),g=new J(1),y=j(g),b=i.lastModDate<yt?yt:i.lastModDate>gt?gt:i.lastModDate,q(y,0,(b.getHours()<<6|b.getMinutes())<<5|b.getSeconds()/2),q(y,2,(b.getFullYear()-1980<<4|b.getMonth()+1)<<5|b.getDate()),v=g[0],X(h,6,v),q(h,22,e.length),k=z.length+C.length+R.length+p.rawExtraField.length,q(h,24,k),S=new N(30+e.length+k);let x,T=(X(j(S),0,67324752),$(S,w,4),$(S,e,30),$(S,z,30+e.length),$(S,C,30+e.length+z.length),$(S,R,30+e.length+z.length+C.length),$(S,p.rawExtraField,30+e.length+z.length+C.length+R.length),0);if(t){E=p.uncompressedSize=t.size;let e=await Le(r.Deflate,{codecType:Ce,level:l,password:o,encryptionStrength:m,zipCrypto:_&&f,passwordVerification:_&&f&&v>>8&255,signed:!0,compressed:A,encrypted:_,useWebWorkers:W},r);await n.writeUint8Array(S),p.dataWritten=!0,x=await Ne(e,t,n,0,E,r,{onprogress:Q,signal:V}),T=x.length}else await n.writeUint8Array(S),p.dataWritten=!0;let I,U=new N(0),B=0;if(d&&(U=new N(c?u?24:20:u?16:12),I=j(U),u)&&(B=4,X(I,0,134695760)),t){let e=x.signature;if(_&&!f||void 0===e||(X(h,10,e),p.signature=e,d&&X(I,B,e)),c){let e=j(p.rawExtraFieldZip64);q(e,0,1),q(e,2,24),X(h,14,O),Y(e,12,M(T)),X(h,18,O),Y(e,4,M(E)),d&&(Y(I,B+4,M(T)),Y(I,B+12,M(E)))}else X(h,14,T),X(h,18,E),d&&(X(I,B+4,T),X(I,B+8,E))}d&&await n.writeUint8Array(U);i=S.length+T+U.length;return L.assign(p,{compressedSize:T,lastModDate:b,rawLastModDate:v,creationDate:a,lastAccessDate:s,encrypted:_,length:i}),p})(i,t,s.config,a)).lock=n,l.set(r,p),p.filename=r,d){let r=0,i=t.getData();for(await Z.all([s.lockWrite,e]);(o=B.from(l.values()).find(e=>e.writingBufferedData))&&await o.lock,o&&o.lock;);if(p.writingBufferedData=!0,!a.dataDescriptor){let e=await jt(i,0,26),t=new V(e);p.encrypted&&!a.zipCrypto||X(t,14,p.signature),p.zip64?(X(t,18,O),X(t,22,O)):(X(t,18,p.compressedSize),X(t,22,p.uncompressedSize)),await c.writeUint8Array(new N(e)),r=26}{var[w,g,y=0]=[c,i,r];let n=536870912;await async function e(){var t;y<g.size&&(t=await jt(g,y,y+n),await w.writeUint8Array(new N(t)),y+=n,await e())}()}await 0,delete p.writingBufferedData}if(p.offset=s.offset,p.zip64)Y(j(p.rawExtraFieldZip64),20,M(p.offset));else if(p.offset>=O)throw new Q(qt);return s.offset+=p.length,p}catch(e){throw(d&&p.writingBufferedData||!d&&p.dataWritten)&&(e.corruptedEntry=s.hasCorruptedEntries=!0,p.uncompressedSize)&&(s.offset+=p.uncompressedSize),l.delete(r),e}finally{h(),u&&u()}})(h,p,w,L.assign({},g,{rawFilename:y,rawComment:b,version:v,versionMadeBy:k,lastModDate:S,lastAccessDate:_,creationDate:A,rawExtraField:r,zip64:a,password:z,level:x,useWebWorkers:T,encryptionStrength:R,extendedTimestamp:e,zipCrypto:C,bufferedWrite:I,keepOrder:n,dataDescriptor:o,dataDescriptorSignature:l,signal:U,msDosCompatible:s,internalFileAttribute:D,externalFileAttribute:F})));return await(t&&(h.pendingCompressedSize-=t),L.assign(w,{name:p,comment:m,extraField:E}),new kt(w));return await void 0}}finally{$t--;let e=u.pendingEntries.shift();e&&u.add(e.name,e.reader,e.options).then(e.resolve).catch(e.reject)}}async close(s=new N(0),a={}){{var m=this,o=s,b=a;let e=m.writer,g=m.files,y=0,t=0,n=m.offset,r=g.size;for(let[,e]of g)t+=46+e.rawFilename.length+e.rawComment.length+e.rawExtraFieldZip64.length+e.rawExtraFieldAES.length+e.rawExtraFieldExtendedTimestamp.length+e.rawExtraFieldNTFS.length+e.rawExtraField.length;let i=b.zip64||m.options.zip64||!1;if(n>=O||t>=O||r>=K){if(!1===b.zip64||!1===m.options.zip64)throw new Q(qt);i=!0}var v=new N(t+(i?98:22)),k=j(v);if(o&&o.length){if(o.length>K)throw new Q(Mt);q(k,y+20,o.length)}for(let[p,w]of B.from(g.values()).entries()){let{rawFilename:e,rawExtraFieldZip64:t,rawExtraFieldAES:n,rawExtraField:r,rawComment:i,versionMadeBy:s,headerArray:a,directory:o,zip64:l,msDosCompatible:c,internalFileAttribute:f,externalFileAttribute:d}=w,u,h;if(w.extendedTimestamp){h=w.rawExtraFieldNTFS;let e=j(u=new N(9));q(e,0,21589),q(e,2,u.length-4),Jt(e,4,1),X(e,5,H.floor(w.lastModDate.getTime()/1e3))}else h=u=new N(0);var S=t.length+n.length+u.length+h.length+r.length;if(X(k,y,ht),q(k,y+4,s),$(v,a,y+6),q(k,y+30,S),q(k,y+32,i.length),X(k,y+34,f),d?X(k,y+38,d):o&&c&&Jt(k,y+38,16),X(k,y+42,l?O:w.offset),$(v,e,y+46),$(v,t,y+46+e.length),$(v,n,y+46+e.length+t.length),$(v,u,y+46+e.length+t.length+n.length),$(v,h,y+46+e.length+t.length+n.length+u.length),$(v,r,y+46+e.length+t.length+n.length+u.length+h.length),$(v,i,y+46+e.length+S),y+=46+e.length+S+i.length,b.onprogress)try{b.onprogress(p+1,g.size,new kt(w))}catch(m){}}i&&(X(k,y,pt),Y(k,y+4,M(44)),q(k,y+12,45),q(k,y+14,45),Y(k,y+24,M(r)),Y(k,y+32,M(r)),Y(k,y+40,M(t)),Y(k,y+48,M(n)),X(k,y+56,wt),Y(k,y+64,M(n)+M(t)),X(k,y+72,1),r=K,n=O,t=O,y+=76),X(k,y,101010256),q(k,y+8,r),q(k,y+10,r),X(k,y+12,t),X(k,y+16,n),await e.writeUint8Array(v),o&&o.length&&await e.writeUint8Array(o)}return await 0,this.writer.getData()}},e.configure=C,e.getMimeType=()=>"application/octet-stream",e.initShimAsyncCodec=(e,t={},n)=>({Deflate:E(e.Deflate,t.deflate,n),Inflate:E(e.Inflate,t.inflate,n)}),e.terminateWorkers=()=>{l.forEach(e=>{Me(e),e.terminate()})},L.defineProperty(e,"__esModule",{value:!0})});