var __assign=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},__extends=this&&this.__extends||(()=>{var n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])});return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}})(),ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,debugObjectHost=((e=>{function t(){}var r;(r=e.SyntaxKind||(e.SyntaxKind={}))[r.Unknown=0]="Unknown",r[r.EndOfFileToken=1]="EndOfFileToken",r[r.SingleLineCommentTrivia=2]="SingleLineCommentTrivia",r[r.MultiLineCommentTrivia=3]="MultiLineCommentTrivia",r[r.NewLineTrivia=4]="NewLineTrivia",r[r.WhitespaceTrivia=5]="WhitespaceTrivia",r[r.ShebangTrivia=6]="ShebangTrivia",r[r.ConflictMarkerTrivia=7]="ConflictMarkerTrivia",r[r.NumericLiteral=8]="NumericLiteral",r[r.StringLiteral=9]="StringLiteral",r[r.JsxText=10]="JsxText",r[r.JsxTextAllWhiteSpaces=11]="JsxTextAllWhiteSpaces",r[r.RegularExpressionLiteral=12]="RegularExpressionLiteral",r[r.NoSubstitutionTemplateLiteral=13]="NoSubstitutionTemplateLiteral",r[r.TemplateHead=14]="TemplateHead",r[r.TemplateMiddle=15]="TemplateMiddle",r[r.TemplateTail=16]="TemplateTail",r[r.OpenBraceToken=17]="OpenBraceToken",r[r.CloseBraceToken=18]="CloseBraceToken",r[r.OpenParenToken=19]="OpenParenToken",r[r.CloseParenToken=20]="CloseParenToken",r[r.OpenBracketToken=21]="OpenBracketToken",r[r.CloseBracketToken=22]="CloseBracketToken",r[r.DotToken=23]="DotToken",r[r.DotDotDotToken=24]="DotDotDotToken",r[r.SemicolonToken=25]="SemicolonToken",r[r.CommaToken=26]="CommaToken",r[r.LessThanToken=27]="LessThanToken",r[r.LessThanSlashToken=28]="LessThanSlashToken",r[r.GreaterThanToken=29]="GreaterThanToken",r[r.LessThanEqualsToken=30]="LessThanEqualsToken",r[r.GreaterThanEqualsToken=31]="GreaterThanEqualsToken",r[r.EqualsEqualsToken=32]="EqualsEqualsToken",r[r.ExclamationEqualsToken=33]="ExclamationEqualsToken",r[r.EqualsEqualsEqualsToken=34]="EqualsEqualsEqualsToken",r[r.ExclamationEqualsEqualsToken=35]="ExclamationEqualsEqualsToken",r[r.EqualsGreaterThanToken=36]="EqualsGreaterThanToken",r[r.PlusToken=37]="PlusToken",r[r.MinusToken=38]="MinusToken",r[r.AsteriskToken=39]="AsteriskToken",r[r.AsteriskAsteriskToken=40]="AsteriskAsteriskToken",r[r.SlashToken=41]="SlashToken",r[r.PercentToken=42]="PercentToken",r[r.PlusPlusToken=43]="PlusPlusToken",r[r.MinusMinusToken=44]="MinusMinusToken",r[r.LessThanLessThanToken=45]="LessThanLessThanToken",r[r.GreaterThanGreaterThanToken=46]="GreaterThanGreaterThanToken",r[r.GreaterThanGreaterThanGreaterThanToken=47]="GreaterThanGreaterThanGreaterThanToken",r[r.AmpersandToken=48]="AmpersandToken",r[r.BarToken=49]="BarToken",r[r.CaretToken=50]="CaretToken",r[r.ExclamationToken=51]="ExclamationToken",r[r.TildeToken=52]="TildeToken",r[r.AmpersandAmpersandToken=53]="AmpersandAmpersandToken",r[r.BarBarToken=54]="BarBarToken",r[r.QuestionToken=55]="QuestionToken",r[r.ColonToken=56]="ColonToken",r[r.AtToken=57]="AtToken",r[r.EqualsToken=58]="EqualsToken",r[r.PlusEqualsToken=59]="PlusEqualsToken",r[r.MinusEqualsToken=60]="MinusEqualsToken",r[r.AsteriskEqualsToken=61]="AsteriskEqualsToken",r[r.AsteriskAsteriskEqualsToken=62]="AsteriskAsteriskEqualsToken",r[r.SlashEqualsToken=63]="SlashEqualsToken",r[r.PercentEqualsToken=64]="PercentEqualsToken",r[r.LessThanLessThanEqualsToken=65]="LessThanLessThanEqualsToken",r[r.GreaterThanGreaterThanEqualsToken=66]="GreaterThanGreaterThanEqualsToken",r[r.GreaterThanGreaterThanGreaterThanEqualsToken=67]="GreaterThanGreaterThanGreaterThanEqualsToken",r[r.AmpersandEqualsToken=68]="AmpersandEqualsToken",r[r.BarEqualsToken=69]="BarEqualsToken",r[r.CaretEqualsToken=70]="CaretEqualsToken",r[r.Identifier=71]="Identifier",r[r.BreakKeyword=72]="BreakKeyword",r[r.CaseKeyword=73]="CaseKeyword",r[r.CatchKeyword=74]="CatchKeyword",r[r.ClassKeyword=75]="ClassKeyword",r[r.ConstKeyword=76]="ConstKeyword",r[r.ContinueKeyword=77]="ContinueKeyword",r[r.DebuggerKeyword=78]="DebuggerKeyword",r[r.DefaultKeyword=79]="DefaultKeyword",r[r.DeleteKeyword=80]="DeleteKeyword",r[r.DoKeyword=81]="DoKeyword",r[r.ElseKeyword=82]="ElseKeyword",r[r.EnumKeyword=83]="EnumKeyword",r[r.ExportKeyword=84]="ExportKeyword",r[r.ExtendsKeyword=85]="ExtendsKeyword",r[r.FalseKeyword=86]="FalseKeyword",r[r.FinallyKeyword=87]="FinallyKeyword",r[r.ForKeyword=88]="ForKeyword",r[r.FunctionKeyword=89]="FunctionKeyword",r[r.IfKeyword=90]="IfKeyword",r[r.ImportKeyword=91]="ImportKeyword",r[r.InKeyword=92]="InKeyword",r[r.InstanceOfKeyword=93]="InstanceOfKeyword",r[r.NewKeyword=94]="NewKeyword",r[r.NullKeyword=95]="NullKeyword",r[r.ReturnKeyword=96]="ReturnKeyword",r[r.SuperKeyword=97]="SuperKeyword",r[r.SwitchKeyword=98]="SwitchKeyword",r[r.ThisKeyword=99]="ThisKeyword",r[r.ThrowKeyword=100]="ThrowKeyword",r[r.TrueKeyword=101]="TrueKeyword",r[r.TryKeyword=102]="TryKeyword",r[r.TypeOfKeyword=103]="TypeOfKeyword",r[r.VarKeyword=104]="VarKeyword",r[r.VoidKeyword=105]="VoidKeyword",r[r.WhileKeyword=106]="WhileKeyword",r[r.WithKeyword=107]="WithKeyword",r[r.ImplementsKeyword=108]="ImplementsKeyword",r[r.InterfaceKeyword=109]="InterfaceKeyword",r[r.LetKeyword=110]="LetKeyword",r[r.PackageKeyword=111]="PackageKeyword",r[r.PrivateKeyword=112]="PrivateKeyword",r[r.ProtectedKeyword=113]="ProtectedKeyword",r[r.PublicKeyword=114]="PublicKeyword",r[r.StaticKeyword=115]="StaticKeyword",r[r.YieldKeyword=116]="YieldKeyword",r[r.AbstractKeyword=117]="AbstractKeyword",r[r.AsKeyword=118]="AsKeyword",r[r.AnyKeyword=119]="AnyKeyword",r[r.AsyncKeyword=120]="AsyncKeyword",r[r.AwaitKeyword=121]="AwaitKeyword",r[r.BooleanKeyword=122]="BooleanKeyword",r[r.ConstructorKeyword=123]="ConstructorKeyword",r[r.DeclareKeyword=124]="DeclareKeyword",r[r.GetKeyword=125]="GetKeyword",r[r.IsKeyword=126]="IsKeyword",r[r.KeyOfKeyword=127]="KeyOfKeyword",r[r.ModuleKeyword=128]="ModuleKeyword",r[r.NamespaceKeyword=129]="NamespaceKeyword",r[r.NeverKeyword=130]="NeverKeyword",r[r.ReadonlyKeyword=131]="ReadonlyKeyword",r[r.RequireKeyword=132]="RequireKeyword",r[r.NumberKeyword=133]="NumberKeyword",r[r.ObjectKeyword=134]="ObjectKeyword",r[r.SetKeyword=135]="SetKeyword",r[r.StringKeyword=136]="StringKeyword",r[r.SymbolKeyword=137]="SymbolKeyword",r[r.TypeKeyword=138]="TypeKeyword",r[r.UndefinedKeyword=139]="UndefinedKeyword",r[r.FromKeyword=140]="FromKeyword",r[r.GlobalKeyword=141]="GlobalKeyword",r[r.OfKeyword=142]="OfKeyword",r[r.QualifiedName=143]="QualifiedName",r[r.ComputedPropertyName=144]="ComputedPropertyName",r[r.TypeParameter=145]="TypeParameter",r[r.Parameter=146]="Parameter",r[r.Decorator=147]="Decorator",r[r.PropertySignature=148]="PropertySignature",r[r.PropertyDeclaration=149]="PropertyDeclaration",r[r.MethodSignature=150]="MethodSignature",r[r.MethodDeclaration=151]="MethodDeclaration",r[r.Constructor=152]="Constructor",r[r.GetAccessor=153]="GetAccessor",r[r.SetAccessor=154]="SetAccessor",r[r.CallSignature=155]="CallSignature",r[r.ConstructSignature=156]="ConstructSignature",r[r.IndexSignature=157]="IndexSignature",r[r.TypePredicate=158]="TypePredicate",r[r.TypeReference=159]="TypeReference",r[r.FunctionType=160]="FunctionType",r[r.ConstructorType=161]="ConstructorType",r[r.TypeQuery=162]="TypeQuery",r[r.TypeLiteral=163]="TypeLiteral",r[r.ArrayType=164]="ArrayType",r[r.TupleType=165]="TupleType",r[r.UnionType=166]="UnionType",r[r.IntersectionType=167]="IntersectionType",r[r.ParenthesizedType=168]="ParenthesizedType",r[r.ThisType=169]="ThisType",r[r.TypeOperator=170]="TypeOperator",r[r.IndexedAccessType=171]="IndexedAccessType",r[r.MappedType=172]="MappedType",r[r.LiteralType=173]="LiteralType",r[r.ObjectBindingPattern=174]="ObjectBindingPattern",r[r.ArrayBindingPattern=175]="ArrayBindingPattern",r[r.BindingElement=176]="BindingElement",r[r.ArrayLiteralExpression=177]="ArrayLiteralExpression",r[r.ObjectLiteralExpression=178]="ObjectLiteralExpression",r[r.PropertyAccessExpression=179]="PropertyAccessExpression",r[r.ElementAccessExpression=180]="ElementAccessExpression",r[r.CallExpression=181]="CallExpression",r[r.NewExpression=182]="NewExpression",r[r.TaggedTemplateExpression=183]="TaggedTemplateExpression",r[r.TypeAssertionExpression=184]="TypeAssertionExpression",r[r.ParenthesizedExpression=185]="ParenthesizedExpression",r[r.FunctionExpression=186]="FunctionExpression",r[r.ArrowFunction=187]="ArrowFunction",r[r.DeleteExpression=188]="DeleteExpression",r[r.TypeOfExpression=189]="TypeOfExpression",r[r.VoidExpression=190]="VoidExpression",r[r.AwaitExpression=191]="AwaitExpression",r[r.PrefixUnaryExpression=192]="PrefixUnaryExpression",r[r.PostfixUnaryExpression=193]="PostfixUnaryExpression",r[r.BinaryExpression=194]="BinaryExpression",r[r.ConditionalExpression=195]="ConditionalExpression",r[r.TemplateExpression=196]="TemplateExpression",r[r.YieldExpression=197]="YieldExpression",r[r.SpreadElement=198]="SpreadElement",r[r.ClassExpression=199]="ClassExpression",r[r.OmittedExpression=200]="OmittedExpression",r[r.ExpressionWithTypeArguments=201]="ExpressionWithTypeArguments",r[r.AsExpression=202]="AsExpression",r[r.NonNullExpression=203]="NonNullExpression",r[r.MetaProperty=204]="MetaProperty",r[r.TemplateSpan=205]="TemplateSpan",r[r.SemicolonClassElement=206]="SemicolonClassElement",r[r.Block=207]="Block",r[r.VariableStatement=208]="VariableStatement",r[r.EmptyStatement=209]="EmptyStatement",r[r.ExpressionStatement=210]="ExpressionStatement",r[r.IfStatement=211]="IfStatement",r[r.DoStatement=212]="DoStatement",r[r.WhileStatement=213]="WhileStatement",r[r.ForStatement=214]="ForStatement",r[r.ForInStatement=215]="ForInStatement",r[r.ForOfStatement=216]="ForOfStatement",r[r.ContinueStatement=217]="ContinueStatement",r[r.BreakStatement=218]="BreakStatement",r[r.ReturnStatement=219]="ReturnStatement",r[r.WithStatement=220]="WithStatement",r[r.SwitchStatement=221]="SwitchStatement",r[r.LabeledStatement=222]="LabeledStatement",r[r.ThrowStatement=223]="ThrowStatement",r[r.TryStatement=224]="TryStatement",r[r.DebuggerStatement=225]="DebuggerStatement",r[r.VariableDeclaration=226]="VariableDeclaration",r[r.VariableDeclarationList=227]="VariableDeclarationList",r[r.FunctionDeclaration=228]="FunctionDeclaration",r[r.ClassDeclaration=229]="ClassDeclaration",r[r.InterfaceDeclaration=230]="InterfaceDeclaration",r[r.TypeAliasDeclaration=231]="TypeAliasDeclaration",r[r.EnumDeclaration=232]="EnumDeclaration",r[r.ModuleDeclaration=233]="ModuleDeclaration",r[r.ModuleBlock=234]="ModuleBlock",r[r.CaseBlock=235]="CaseBlock",r[r.NamespaceExportDeclaration=236]="NamespaceExportDeclaration",r[r.ImportEqualsDeclaration=237]="ImportEqualsDeclaration",r[r.ImportDeclaration=238]="ImportDeclaration",r[r.ImportClause=239]="ImportClause",r[r.NamespaceImport=240]="NamespaceImport",r[r.NamedImports=241]="NamedImports",r[r.ImportSpecifier=242]="ImportSpecifier",r[r.ExportAssignment=243]="ExportAssignment",r[r.ExportDeclaration=244]="ExportDeclaration",r[r.NamedExports=245]="NamedExports",r[r.ExportSpecifier=246]="ExportSpecifier",r[r.MissingDeclaration=247]="MissingDeclaration",r[r.ExternalModuleReference=248]="ExternalModuleReference",r[r.JsxElement=249]="JsxElement",r[r.JsxSelfClosingElement=250]="JsxSelfClosingElement",r[r.JsxOpeningElement=251]="JsxOpeningElement",r[r.JsxClosingElement=252]="JsxClosingElement",r[r.JsxAttribute=253]="JsxAttribute",r[r.JsxAttributes=254]="JsxAttributes",r[r.JsxSpreadAttribute=255]="JsxSpreadAttribute",r[r.JsxExpression=256]="JsxExpression",r[r.CaseClause=257]="CaseClause",r[r.DefaultClause=258]="DefaultClause",r[r.HeritageClause=259]="HeritageClause",r[r.CatchClause=260]="CatchClause",r[r.PropertyAssignment=261]="PropertyAssignment",r[r.ShorthandPropertyAssignment=262]="ShorthandPropertyAssignment",r[r.SpreadAssignment=263]="SpreadAssignment",r[r.EnumMember=264]="EnumMember",r[r.SourceFile=265]="SourceFile",r[r.Bundle=266]="Bundle",r[r.JSDocTypeExpression=267]="JSDocTypeExpression",r[r.JSDocAllType=268]="JSDocAllType",r[r.JSDocUnknownType=269]="JSDocUnknownType",r[r.JSDocNullableType=270]="JSDocNullableType",r[r.JSDocNonNullableType=271]="JSDocNonNullableType",r[r.JSDocOptionalType=272]="JSDocOptionalType",r[r.JSDocFunctionType=273]="JSDocFunctionType",r[r.JSDocVariadicType=274]="JSDocVariadicType",r[r.JSDocComment=275]="JSDocComment",r[r.JSDocTag=276]="JSDocTag",r[r.JSDocAugmentsTag=277]="JSDocAugmentsTag",r[r.JSDocClassTag=278]="JSDocClassTag",r[r.JSDocParameterTag=279]="JSDocParameterTag",r[r.JSDocReturnTag=280]="JSDocReturnTag",r[r.JSDocTypeTag=281]="JSDocTypeTag",r[r.JSDocTemplateTag=282]="JSDocTemplateTag",r[r.JSDocTypedefTag=283]="JSDocTypedefTag",r[r.JSDocPropertyTag=284]="JSDocPropertyTag",r[r.JSDocTypeLiteral=285]="JSDocTypeLiteral",r[r.SyntaxList=286]="SyntaxList",r[r.NotEmittedStatement=287]="NotEmittedStatement",r[r.PartiallyEmittedExpression=288]="PartiallyEmittedExpression",r[r.CommaListExpression=289]="CommaListExpression",r[r.MergeDeclarationMarker=290]="MergeDeclarationMarker",r[r.EndOfDeclarationMarker=291]="EndOfDeclarationMarker",r[r.Count=292]="Count",r[r.FirstAssignment=58]="FirstAssignment",r[r.LastAssignment=70]="LastAssignment",r[r.FirstCompoundAssignment=59]="FirstCompoundAssignment",r[r.LastCompoundAssignment=70]="LastCompoundAssignment",r[r.FirstReservedWord=72]="FirstReservedWord",r[r.LastReservedWord=107]="LastReservedWord",r[r.FirstKeyword=72]="FirstKeyword",r[r.LastKeyword=142]="LastKeyword",r[r.FirstFutureReservedWord=108]="FirstFutureReservedWord",r[r.LastFutureReservedWord=116]="LastFutureReservedWord",r[r.FirstTypeNode=158]="FirstTypeNode",r[r.LastTypeNode=173]="LastTypeNode",r[r.FirstPunctuation=17]="FirstPunctuation",r[r.LastPunctuation=70]="LastPunctuation",r[r.FirstToken=0]="FirstToken",r[r.LastToken=142]="LastToken",r[r.FirstTriviaToken=2]="FirstTriviaToken",r[r.LastTriviaToken=7]="LastTriviaToken",r[r.FirstLiteralToken=8]="FirstLiteralToken",r[r.LastLiteralToken=13]="LastLiteralToken",r[r.FirstTemplateToken=13]="FirstTemplateToken",r[r.LastTemplateToken=16]="LastTemplateToken",r[r.FirstBinaryOperator=27]="FirstBinaryOperator",r[r.LastBinaryOperator=70]="LastBinaryOperator",r[r.FirstNode=143]="FirstNode",r[r.FirstJSDocNode=267]="FirstJSDocNode",r[r.LastJSDocNode=285]="LastJSDocNode",r[r.FirstJSDocTagNode=276]="FirstJSDocTagNode",r[r.LastJSDocTagNode=285]="LastJSDocTagNode",(r=e.NodeFlags||(e.NodeFlags={}))[r.None=0]="None",r[r.Let=1]="Let",r[r.Const=2]="Const",r[r.NestedNamespace=4]="NestedNamespace",r[r.Synthesized=8]="Synthesized",r[r.Namespace=16]="Namespace",r[r.ExportContext=32]="ExportContext",r[r.ContainsThis=64]="ContainsThis",r[r.HasImplicitReturn=128]="HasImplicitReturn",r[r.HasExplicitReturn=256]="HasExplicitReturn",r[r.GlobalAugmentation=512]="GlobalAugmentation",r[r.HasAsyncFunctions=1024]="HasAsyncFunctions",r[r.DisallowInContext=2048]="DisallowInContext",r[r.YieldContext=4096]="YieldContext",r[r.DecoratorContext=8192]="DecoratorContext",r[r.AwaitContext=16384]="AwaitContext",r[r.ThisNodeHasError=32768]="ThisNodeHasError",r[r.JavaScriptFile=65536]="JavaScriptFile",r[r.ThisNodeOrAnySubNodesHasError=131072]="ThisNodeOrAnySubNodesHasError",r[r.HasAggregatedChildData=262144]="HasAggregatedChildData",r[r.PossiblyContainsDynamicImport=524288]="PossiblyContainsDynamicImport",r[r.JSDoc=1048576]="JSDoc",r[r.BlockScoped=3]="BlockScoped",r[r.ReachabilityCheckFlags=384]="ReachabilityCheckFlags",r[r.ReachabilityAndEmitFlags=1408]="ReachabilityAndEmitFlags",r[r.ContextFlags=96256]="ContextFlags",r[r.TypeExcludesFlags=20480]="TypeExcludesFlags",(r=e.ModifierFlags||(e.ModifierFlags={}))[r.None=0]="None",r[r.Export=1]="Export",r[r.Ambient=2]="Ambient",r[r.Public=4]="Public",r[r.Private=8]="Private",r[r.Protected=16]="Protected",r[r.Static=32]="Static",r[r.Readonly=64]="Readonly",r[r.Abstract=128]="Abstract",r[r.Async=256]="Async",r[r.Default=512]="Default",r[r.Const=2048]="Const",r[r.HasComputedFlags=536870912]="HasComputedFlags",r[r.AccessibilityModifier=28]="AccessibilityModifier",r[r.ParameterPropertyModifier=92]="ParameterPropertyModifier",r[r.NonPublicAccessibilityModifier=24]="NonPublicAccessibilityModifier",r[r.TypeScriptModifier=2270]="TypeScriptModifier",r[r.ExportDefault=513]="ExportDefault",(r=e.JsxFlags||(e.JsxFlags={}))[r.None=0]="None",r[r.IntrinsicNamedElement=1]="IntrinsicNamedElement",r[r.IntrinsicIndexedElement=2]="IntrinsicIndexedElement",r[r.IntrinsicElement=3]="IntrinsicElement",(r=e.RelationComparisonResult||(e.RelationComparisonResult={}))[r.Succeeded=1]="Succeeded",r[r.Failed=2]="Failed",r[r.FailedAndReported=3]="FailedAndReported",(r=e.GeneratedIdentifierKind||(e.GeneratedIdentifierKind={}))[r.None=0]="None",r[r.Auto=1]="Auto",r[r.Loop=2]="Loop",r[r.Unique=3]="Unique",r[r.Node=4]="Node",(r=e.NumericLiteralFlags||(e.NumericLiteralFlags={}))[r.None=0]="None",r[r.Scientific=2]="Scientific",r[r.Octal=4]="Octal",r[r.HexSpecifier=8]="HexSpecifier",r[r.BinarySpecifier=16]="BinarySpecifier",r[r.OctalSpecifier=32]="OctalSpecifier",r[r.BinaryOrOctalSpecifier=48]="BinaryOrOctalSpecifier",(r=e.FlowFlags||(e.FlowFlags={}))[r.Unreachable=1]="Unreachable",r[r.Start=2]="Start",r[r.BranchLabel=4]="BranchLabel",r[r.LoopLabel=8]="LoopLabel",r[r.Assignment=16]="Assignment",r[r.TrueCondition=32]="TrueCondition",r[r.FalseCondition=64]="FalseCondition",r[r.SwitchClause=128]="SwitchClause",r[r.ArrayMutation=256]="ArrayMutation",r[r.Referenced=512]="Referenced",r[r.Shared=1024]="Shared",r[r.PreFinally=2048]="PreFinally",r[r.AfterFinally=4096]="AfterFinally",r[r.Label=12]="Label",r[r.Condition=96]="Condition",e.OperationCanceledException=t,(r=e.StructureIsReused||(e.StructureIsReused={}))[r.Not=0]="Not",r[r.SafeModules=1]="SafeModules",r[r.Completely=2]="Completely",(r=e.ExitStatus||(e.ExitStatus={}))[r.Success=0]="Success",r[r.DiagnosticsPresent_OutputsSkipped=1]="DiagnosticsPresent_OutputsSkipped",r[r.DiagnosticsPresent_OutputsGenerated=2]="DiagnosticsPresent_OutputsGenerated",(r=e.NodeBuilderFlags||(e.NodeBuilderFlags={}))[r.None=0]="None",r[r.NoTruncation=1]="NoTruncation",r[r.WriteArrayAsGenericType=2]="WriteArrayAsGenericType",r[r.WriteTypeArgumentsOfSignature=32]="WriteTypeArgumentsOfSignature",r[r.UseFullyQualifiedType=64]="UseFullyQualifiedType",r[r.SuppressAnyReturnType=256]="SuppressAnyReturnType",r[r.WriteTypeParametersInQualifiedName=512]="WriteTypeParametersInQualifiedName",r[r.AllowThisInObjectLiteral=1024]="AllowThisInObjectLiteral",r[r.AllowQualifedNameInPlaceOfIdentifier=2048]="AllowQualifedNameInPlaceOfIdentifier",r[r.AllowAnonymousIdentifier=8192]="AllowAnonymousIdentifier",r[r.AllowEmptyUnionOrIntersection=16384]="AllowEmptyUnionOrIntersection",r[r.AllowEmptyTuple=32768]="AllowEmptyTuple",r[r.IgnoreErrors=60416]="IgnoreErrors",r[r.InObjectTypeLiteral=1048576]="InObjectTypeLiteral",r[r.InTypeAlias=8388608]="InTypeAlias",(r=e.TypeFormatFlags||(e.TypeFormatFlags={}))[r.None=0]="None",r[r.WriteArrayAsGenericType=1]="WriteArrayAsGenericType",r[r.UseTypeOfFunction=4]="UseTypeOfFunction",r[r.NoTruncation=8]="NoTruncation",r[r.WriteArrowStyleSignature=16]="WriteArrowStyleSignature",r[r.WriteOwnNameForAnyLike=32]="WriteOwnNameForAnyLike",r[r.WriteTypeArgumentsOfSignature=64]="WriteTypeArgumentsOfSignature",r[r.InElementType=128]="InElementType",r[r.UseFullyQualifiedType=256]="UseFullyQualifiedType",r[r.InFirstTypeArgument=512]="InFirstTypeArgument",r[r.InTypeAlias=1024]="InTypeAlias",r[r.SuppressAnyReturnType=4096]="SuppressAnyReturnType",r[r.AddUndefined=8192]="AddUndefined",r[r.WriteClassExpressionAsTypeLiteral=16384]="WriteClassExpressionAsTypeLiteral",r[r.InArrayType=32768]="InArrayType",r[r.UseAliasDefinedOutsideCurrentScope=65536]="UseAliasDefinedOutsideCurrentScope",(r=e.SymbolFormatFlags||(e.SymbolFormatFlags={}))[r.None=0]="None",r[r.WriteTypeParametersOrArguments=1]="WriteTypeParametersOrArguments",r[r.UseOnlyExternalAliasing=2]="UseOnlyExternalAliasing",(r=e.SymbolAccessibility||(e.SymbolAccessibility={}))[r.Accessible=0]="Accessible",r[r.NotAccessible=1]="NotAccessible",r[r.CannotBeNamed=2]="CannotBeNamed",(r=e.SyntheticSymbolKind||(e.SyntheticSymbolKind={}))[r.UnionOrIntersection=0]="UnionOrIntersection",r[r.Spread=1]="Spread",(r=e.TypePredicateKind||(e.TypePredicateKind={}))[r.This=0]="This",r[r.Identifier=1]="Identifier",(r=e.TypeReferenceSerializationKind||(e.TypeReferenceSerializationKind={}))[r.Unknown=0]="Unknown",r[r.TypeWithConstructSignatureAndValue=1]="TypeWithConstructSignatureAndValue",r[r.VoidNullableOrNeverType=2]="VoidNullableOrNeverType",r[r.NumberLikeType=3]="NumberLikeType",r[r.StringLikeType=4]="StringLikeType",r[r.BooleanType=5]="BooleanType",r[r.ArrayLikeType=6]="ArrayLikeType",r[r.ESSymbolType=7]="ESSymbolType",r[r.Promise=8]="Promise",r[r.TypeWithCallSignature=9]="TypeWithCallSignature",r[r.ObjectType=10]="ObjectType",(r=e.SymbolFlags||(e.SymbolFlags={}))[r.None=0]="None",r[r.FunctionScopedVariable=1]="FunctionScopedVariable",r[r.BlockScopedVariable=2]="BlockScopedVariable",r[r.Property=4]="Property",r[r.EnumMember=8]="EnumMember",r[r.Function=16]="Function",r[r.Class=32]="Class",r[r.Interface=64]="Interface",r[r.ConstEnum=128]="ConstEnum",r[r.RegularEnum=256]="RegularEnum",r[r.ValueModule=512]="ValueModule",r[r.NamespaceModule=1024]="NamespaceModule",r[r.TypeLiteral=2048]="TypeLiteral",r[r.ObjectLiteral=4096]="ObjectLiteral",r[r.Method=8192]="Method",r[r.Constructor=16384]="Constructor",r[r.GetAccessor=32768]="GetAccessor",r[r.SetAccessor=65536]="SetAccessor",r[r.Signature=131072]="Signature",r[r.TypeParameter=262144]="TypeParameter",r[r.TypeAlias=524288]="TypeAlias",r[r.ExportValue=1048576]="ExportValue",r[r.Alias=2097152]="Alias",r[r.Prototype=4194304]="Prototype",r[r.ExportStar=8388608]="ExportStar",r[r.Optional=16777216]="Optional",r[r.Transient=33554432]="Transient",r[r.Enum=384]="Enum",r[r.Variable=3]="Variable",r[r.Value=107455]="Value",r[r.Type=793064]="Type",r[r.Namespace=1920]="Namespace",r[r.Module=1536]="Module",r[r.Accessor=98304]="Accessor",r[r.FunctionScopedVariableExcludes=107454]="FunctionScopedVariableExcludes",r[r.BlockScopedVariableExcludes=107455]="BlockScopedVariableExcludes",r[r.ParameterExcludes=107455]="ParameterExcludes",r[r.PropertyExcludes=0]="PropertyExcludes",r[r.EnumMemberExcludes=900095]="EnumMemberExcludes",r[r.FunctionExcludes=106927]="FunctionExcludes",r[r.ClassExcludes=899519]="ClassExcludes",r[r.InterfaceExcludes=792968]="InterfaceExcludes",r[r.RegularEnumExcludes=899327]="RegularEnumExcludes",r[r.ConstEnumExcludes=899967]="ConstEnumExcludes",r[r.ValueModuleExcludes=106639]="ValueModuleExcludes",r[r.NamespaceModuleExcludes=0]="NamespaceModuleExcludes",r[r.MethodExcludes=99263]="MethodExcludes",r[r.GetAccessorExcludes=41919]="GetAccessorExcludes",r[r.SetAccessorExcludes=74687]="SetAccessorExcludes",r[r.TypeParameterExcludes=530920]="TypeParameterExcludes",r[r.TypeAliasExcludes=793064]="TypeAliasExcludes",r[r.AliasExcludes=2097152]="AliasExcludes",r[r.ModuleMember=2623475]="ModuleMember",r[r.ExportHasLocal=944]="ExportHasLocal",r[r.HasExports=1952]="HasExports",r[r.HasMembers=6240]="HasMembers",r[r.BlockScoped=418]="BlockScoped",r[r.PropertyOrAccessor=98308]="PropertyOrAccessor",r[r.ClassMember=106500]="ClassMember",r[r.Classifiable=788448]="Classifiable",(r=e.EnumKind||(e.EnumKind={}))[r.Numeric=0]="Numeric",r[r.Literal=1]="Literal",(r=e.CheckFlags||(e.CheckFlags={}))[r.Instantiated=1]="Instantiated",r[r.SyntheticProperty=2]="SyntheticProperty",r[r.SyntheticMethod=4]="SyntheticMethod",r[r.Readonly=8]="Readonly",r[r.Partial=16]="Partial",r[r.HasNonUniformType=32]="HasNonUniformType",r[r.ContainsPublic=64]="ContainsPublic",r[r.ContainsProtected=128]="ContainsProtected",r[r.ContainsPrivate=256]="ContainsPrivate",r[r.ContainsStatic=512]="ContainsStatic",r[r.Synthetic=6]="Synthetic",(r=e.InternalSymbolName||(e.InternalSymbolName={})).Call="__call",r.Constructor="__constructor",r.New="__new",r.Index="__index",r.ExportStar="__export",r.Global="__global",r.Missing="__missing",r.Type="__type",r.Object="__object",r.JSXAttributes="__jsxAttributes",r.Class="__class",r.Function="__function",r.Computed="__computed",r.Resolving="__resolving__",r.ExportEquals="export=",r.Default="default",(r=e.NodeCheckFlags||(e.NodeCheckFlags={}))[r.TypeChecked=1]="TypeChecked",r[r.LexicalThis=2]="LexicalThis",r[r.CaptureThis=4]="CaptureThis",r[r.CaptureNewTarget=8]="CaptureNewTarget",r[r.SuperInstance=256]="SuperInstance",r[r.SuperStatic=512]="SuperStatic",r[r.ContextChecked=1024]="ContextChecked",r[r.AsyncMethodWithSuper=2048]="AsyncMethodWithSuper",r[r.AsyncMethodWithSuperBinding=4096]="AsyncMethodWithSuperBinding",r[r.CaptureArguments=8192]="CaptureArguments",r[r.EnumValuesComputed=16384]="EnumValuesComputed",r[r.LexicalModuleMergesWithClass=32768]="LexicalModuleMergesWithClass",r[r.LoopWithCapturedBlockScopedBinding=65536]="LoopWithCapturedBlockScopedBinding",r[r.CapturedBlockScopedBinding=131072]="CapturedBlockScopedBinding",r[r.BlockScopedBindingInLoop=262144]="BlockScopedBindingInLoop",r[r.ClassWithBodyScopedClassBinding=524288]="ClassWithBodyScopedClassBinding",r[r.BodyScopedClassBinding=1048576]="BodyScopedClassBinding",r[r.NeedsLoopOutParameter=2097152]="NeedsLoopOutParameter",r[r.AssignmentsMarked=4194304]="AssignmentsMarked",r[r.ClassWithConstructorReference=8388608]="ClassWithConstructorReference",r[r.ConstructorReferenceInClass=16777216]="ConstructorReferenceInClass",(r=e.TypeFlags||(e.TypeFlags={}))[r.Any=1]="Any",r[r.String=2]="String",r[r.Number=4]="Number",r[r.Boolean=8]="Boolean",r[r.Enum=16]="Enum",r[r.StringLiteral=32]="StringLiteral",r[r.NumberLiteral=64]="NumberLiteral",r[r.BooleanLiteral=128]="BooleanLiteral",r[r.EnumLiteral=256]="EnumLiteral",r[r.ESSymbol=512]="ESSymbol",r[r.Void=1024]="Void",r[r.Undefined=2048]="Undefined",r[r.Null=4096]="Null",r[r.Never=8192]="Never",r[r.TypeParameter=16384]="TypeParameter",r[r.Object=32768]="Object",r[r.Union=65536]="Union",r[r.Intersection=131072]="Intersection",r[r.Index=262144]="Index",r[r.IndexedAccess=524288]="IndexedAccess",r[r.FreshLiteral=1048576]="FreshLiteral",r[r.ContainsWideningType=2097152]="ContainsWideningType",r[r.ContainsObjectLiteral=4194304]="ContainsObjectLiteral",r[r.ContainsAnyFunctionType=8388608]="ContainsAnyFunctionType",r[r.NonPrimitive=16777216]="NonPrimitive",r[r.JsxAttributes=33554432]="JsxAttributes",r[r.MarkerType=67108864]="MarkerType",r[r.Nullable=6144]="Nullable",r[r.Literal=224]="Literal",r[r.Unit=6368]="Unit",r[r.StringOrNumberLiteral=96]="StringOrNumberLiteral",r[r.DefinitelyFalsy=7392]="DefinitelyFalsy",r[r.PossiblyFalsy=7406]="PossiblyFalsy",r[r.Intrinsic=16793231]="Intrinsic",r[r.Primitive=8190]="Primitive",r[r.StringLike=262178]="StringLike",r[r.NumberLike=84]="NumberLike",r[r.BooleanLike=136]="BooleanLike",r[r.EnumLike=272]="EnumLike",r[r.UnionOrIntersection=196608]="UnionOrIntersection",r[r.StructuredType=229376]="StructuredType",r[r.StructuredOrTypeVariable=1032192]="StructuredOrTypeVariable",r[r.TypeVariable=540672]="TypeVariable",r[r.Narrowable=17810175]="Narrowable",r[r.NotUnionOrUnit=16810497]="NotUnionOrUnit",r[r.RequiresWidening=6291456]="RequiresWidening",r[r.PropagatingFlags=14680064]="PropagatingFlags",(r=e.ObjectFlags||(e.ObjectFlags={}))[r.Class=1]="Class",r[r.Interface=2]="Interface",r[r.Reference=4]="Reference",r[r.Tuple=8]="Tuple",r[r.Anonymous=16]="Anonymous",r[r.Mapped=32]="Mapped",r[r.Instantiated=64]="Instantiated",r[r.ObjectLiteral=128]="ObjectLiteral",r[r.EvolvingArray=256]="EvolvingArray",r[r.ObjectLiteralPatternWithComputedProperties=512]="ObjectLiteralPatternWithComputedProperties",r[r.ClassOrInterface=3]="ClassOrInterface",(r=e.Variance||(e.Variance={}))[r.Invariant=0]="Invariant",r[r.Covariant=1]="Covariant",r[r.Contravariant=2]="Contravariant",r[r.Bivariant=3]="Bivariant",r[r.Independent=4]="Independent",(r=e.SignatureKind||(e.SignatureKind={}))[r.Call=0]="Call",r[r.Construct=1]="Construct",(r=e.IndexKind||(e.IndexKind={}))[r.String=0]="String",r[r.Number=1]="Number",(r=e.InferencePriority||(e.InferencePriority={}))[r.Contravariant=1]="Contravariant",r[r.NakedTypeVariable=2]="NakedTypeVariable",r[r.MappedType=4]="MappedType",r[r.ReturnType=8]="ReturnType",(r=e.InferenceFlags||(e.InferenceFlags={}))[r.InferUnionTypes=1]="InferUnionTypes",r[r.NoDefault=2]="NoDefault",r[r.AnyDefault=4]="AnyDefault",(r=e.Ternary||(e.Ternary={}))[r.False=0]="False",r[r.Maybe=1]="Maybe",r[r.True=-1]="True",(r=e.SpecialPropertyAssignmentKind||(e.SpecialPropertyAssignmentKind={}))[r.None=0]="None",r[r.ExportsProperty=1]="ExportsProperty",r[r.ModuleExports=2]="ModuleExports",r[r.PrototypeProperty=3]="PrototypeProperty",r[r.ThisProperty=4]="ThisProperty",r[r.Property=5]="Property",(r=e.DiagnosticCategory||(e.DiagnosticCategory={}))[r.Warning=0]="Warning",r[r.Error=1]="Error",r[r.Message=2]="Message",(r=e.ModuleResolutionKind||(e.ModuleResolutionKind={}))[r.Classic=1]="Classic",r[r.NodeJs=2]="NodeJs",(r=e.ModuleKind||(e.ModuleKind={}))[r.None=0]="None",r[r.CommonJS=1]="CommonJS",r[r.AMD=2]="AMD",r[r.UMD=3]="UMD",r[r.System=4]="System",r[r.ES2015=5]="ES2015",r[r.ESNext=6]="ESNext",(r=e.JsxEmit||(e.JsxEmit={}))[r.None=0]="None",r[r.Preserve=1]="Preserve",r[r.React=2]="React",r[r.ReactNative=3]="ReactNative",(r=e.NewLineKind||(e.NewLineKind={}))[r.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",r[r.LineFeed=1]="LineFeed",(r=e.ScriptKind||(e.ScriptKind={}))[r.Unknown=0]="Unknown",r[r.JS=1]="JS",r[r.JSX=2]="JSX",r[r.TS=3]="TS",r[r.TSX=4]="TSX",r[r.External=5]="External",r[r.JSON=6]="JSON",(r=e.ScriptTarget||(e.ScriptTarget={}))[r.ES3=0]="ES3",r[r.ES5=1]="ES5",r[r.ES2015=2]="ES2015",r[r.ES2016=3]="ES2016",r[r.ES2017=4]="ES2017",r[r.ESNext=5]="ESNext",r[r.Latest=5]="Latest",(r=e.LanguageVariant||(e.LanguageVariant={}))[r.Standard=0]="Standard",r[r.JSX=1]="JSX",(r=e.DiagnosticStyle||(e.DiagnosticStyle={}))[r.Simple=0]="Simple",r[r.Pretty=1]="Pretty",(r=e.WatchDirectoryFlags||(e.WatchDirectoryFlags={}))[r.None=0]="None",r[r.Recursive=1]="Recursive",(r=e.CharacterCodes||(e.CharacterCodes={}))[r.nullCharacter=0]="nullCharacter",r[r.maxAsciiCharacter=127]="maxAsciiCharacter",r[r.lineFeed=10]="lineFeed",r[r.carriageReturn=13]="carriageReturn",r[r.lineSeparator=8232]="lineSeparator",r[r.paragraphSeparator=8233]="paragraphSeparator",r[r.nextLine=133]="nextLine",r[r.space=32]="space",r[r.nonBreakingSpace=160]="nonBreakingSpace",r[r.enQuad=8192]="enQuad",r[r.emQuad=8193]="emQuad",r[r.enSpace=8194]="enSpace",r[r.emSpace=8195]="emSpace",r[r.threePerEmSpace=8196]="threePerEmSpace",r[r.fourPerEmSpace=8197]="fourPerEmSpace",r[r.sixPerEmSpace=8198]="sixPerEmSpace",r[r.figureSpace=8199]="figureSpace",r[r.punctuationSpace=8200]="punctuationSpace",r[r.thinSpace=8201]="thinSpace",r[r.hairSpace=8202]="hairSpace",r[r.zeroWidthSpace=8203]="zeroWidthSpace",r[r.narrowNoBreakSpace=8239]="narrowNoBreakSpace",r[r.ideographicSpace=12288]="ideographicSpace",r[r.mathematicalSpace=8287]="mathematicalSpace",r[r.ogham=5760]="ogham",r[r._=95]="_",r[r.$=36]="$",r[r._0=48]="_0",r[r._1=49]="_1",r[r._2=50]="_2",r[r._3=51]="_3",r[r._4=52]="_4",r[r._5=53]="_5",r[r._6=54]="_6",r[r._7=55]="_7",r[r._8=56]="_8",r[r._9=57]="_9",r[r.a=97]="a",r[r.b=98]="b",r[r.c=99]="c",r[r.d=100]="d",r[r.e=101]="e",r[r.f=102]="f",r[r.g=103]="g",r[r.h=104]="h",r[r.i=105]="i",r[r.j=106]="j",r[r.k=107]="k",r[r.l=108]="l",r[r.m=109]="m",r[r.n=110]="n",r[r.o=111]="o",r[r.p=112]="p",r[r.q=113]="q",r[r.r=114]="r",r[r.s=115]="s",r[r.t=116]="t",r[r.u=117]="u",r[r.v=118]="v",r[r.w=119]="w",r[r.x=120]="x",r[r.y=121]="y",r[r.z=122]="z",r[r.A=65]="A",r[r.B=66]="B",r[r.C=67]="C",r[r.D=68]="D",r[r.E=69]="E",r[r.F=70]="F",r[r.G=71]="G",r[r.H=72]="H",r[r.I=73]="I",r[r.J=74]="J",r[r.K=75]="K",r[r.L=76]="L",r[r.M=77]="M",r[r.N=78]="N",r[r.O=79]="O",r[r.P=80]="P",r[r.Q=81]="Q",r[r.R=82]="R",r[r.S=83]="S",r[r.T=84]="T",r[r.U=85]="U",r[r.V=86]="V",r[r.W=87]="W",r[r.X=88]="X",r[r.Y=89]="Y",r[r.Z=90]="Z",r[r.ampersand=38]="ampersand",r[r.asterisk=42]="asterisk",r[r.at=64]="at",r[r.backslash=92]="backslash",r[r.backtick=96]="backtick",r[r.bar=124]="bar",r[r.caret=94]="caret",r[r.closeBrace=125]="closeBrace",r[r.closeBracket=93]="closeBracket",r[r.closeParen=41]="closeParen",r[r.colon=58]="colon",r[r.comma=44]="comma",r[r.dot=46]="dot",r[r.doubleQuote=34]="doubleQuote",r[r.equals=61]="equals",r[r.exclamation=33]="exclamation",r[r.greaterThan=62]="greaterThan",r[r.hash=35]="hash",r[r.lessThan=60]="lessThan",r[r.minus=45]="minus",r[r.openBrace=123]="openBrace",r[r.openBracket=91]="openBracket",r[r.openParen=40]="openParen",r[r.percent=37]="percent",r[r.plus=43]="plus",r[r.question=63]="question",r[r.semicolon=59]="semicolon",r[r.singleQuote=39]="singleQuote",r[r.slash=47]="slash",r[r.tilde=126]="tilde",r[r.backspace=8]="backspace",r[r.formFeed=12]="formFeed",r[r.byteOrderMark=65279]="byteOrderMark",r[r.tab=9]="tab",r[r.verticalTab=11]="verticalTab",(r=e.Extension||(e.Extension={})).Ts=".ts",r.Tsx=".tsx",r.Dts=".d.ts",r.Js=".js",r.Jsx=".jsx",r.Json=".json",(r=e.TransformFlags||(e.TransformFlags={}))[r.None=0]="None",r[r.TypeScript=1]="TypeScript",r[r.ContainsTypeScript=2]="ContainsTypeScript",r[r.ContainsJsx=4]="ContainsJsx",r[r.ContainsESNext=8]="ContainsESNext",r[r.ContainsES2017=16]="ContainsES2017",r[r.ContainsES2016=32]="ContainsES2016",r[r.ES2015=64]="ES2015",r[r.ContainsES2015=128]="ContainsES2015",r[r.Generator=256]="Generator",r[r.ContainsGenerator=512]="ContainsGenerator",r[r.DestructuringAssignment=1024]="DestructuringAssignment",r[r.ContainsDestructuringAssignment=2048]="ContainsDestructuringAssignment",r[r.ContainsDecorators=4096]="ContainsDecorators",r[r.ContainsPropertyInitializer=8192]="ContainsPropertyInitializer",r[r.ContainsLexicalThis=16384]="ContainsLexicalThis",r[r.ContainsCapturedLexicalThis=32768]="ContainsCapturedLexicalThis",r[r.ContainsLexicalThisInComputedPropertyName=65536]="ContainsLexicalThisInComputedPropertyName",r[r.ContainsDefaultValueAssignments=131072]="ContainsDefaultValueAssignments",r[r.ContainsParameterPropertyAssignments=262144]="ContainsParameterPropertyAssignments",r[r.ContainsSpread=524288]="ContainsSpread",r[r.ContainsObjectSpread=1048576]="ContainsObjectSpread",r[r.ContainsRest=524288]="ContainsRest",r[r.ContainsObjectRest=1048576]="ContainsObjectRest",r[r.ContainsComputedPropertyName=2097152]="ContainsComputedPropertyName",r[r.ContainsBlockScopedBinding=4194304]="ContainsBlockScopedBinding",r[r.ContainsBindingPattern=8388608]="ContainsBindingPattern",r[r.ContainsYield=16777216]="ContainsYield",r[r.ContainsHoistedDeclarationOrCompletion=33554432]="ContainsHoistedDeclarationOrCompletion",r[r.ContainsDynamicImport=67108864]="ContainsDynamicImport",r[r.HasComputedFlags=536870912]="HasComputedFlags",r[r.AssertTypeScript=3]="AssertTypeScript",r[r.AssertJsx=4]="AssertJsx",r[r.AssertESNext=8]="AssertESNext",r[r.AssertES2017=16]="AssertES2017",r[r.AssertES2016=32]="AssertES2016",r[r.AssertES2015=192]="AssertES2015",r[r.AssertGenerator=768]="AssertGenerator",r[r.AssertDestructuringAssignment=3072]="AssertDestructuringAssignment",r[r.NodeExcludes=536872257]="NodeExcludes",r[r.ArrowFunctionExcludes=601249089]="ArrowFunctionExcludes",r[r.FunctionExcludes=601281857]="FunctionExcludes",r[r.ConstructorExcludes=601015617]="ConstructorExcludes",r[r.MethodOrAccessorExcludes=601015617]="MethodOrAccessorExcludes",r[r.ClassExcludes=539358529]="ClassExcludes",r[r.ModuleExcludes=574674241]="ModuleExcludes",r[r.TypeExcludes=-3]="TypeExcludes",r[r.ObjectLiteralExcludes=540087617]="ObjectLiteralExcludes",r[r.ArrayLiteralOrCallOrNewExcludes=537396545]="ArrayLiteralOrCallOrNewExcludes",r[r.VariableDeclarationListExcludes=546309441]="VariableDeclarationListExcludes",r[r.ParameterExcludes=536872257]="ParameterExcludes",r[r.CatchClauseExcludes=537920833]="CatchClauseExcludes",r[r.BindingPatternExcludes=537396545]="BindingPatternExcludes",r[r.TypeScriptClassSyntaxMask=274432]="TypeScriptClassSyntaxMask",r[r.ES2015FunctionSyntaxMask=163840]="ES2015FunctionSyntaxMask",(r=e.EmitFlags||(e.EmitFlags={}))[r.SingleLine=1]="SingleLine",r[r.AdviseOnEmitNode=2]="AdviseOnEmitNode",r[r.NoSubstitution=4]="NoSubstitution",r[r.CapturesThis=8]="CapturesThis",r[r.NoLeadingSourceMap=16]="NoLeadingSourceMap",r[r.NoTrailingSourceMap=32]="NoTrailingSourceMap",r[r.NoSourceMap=48]="NoSourceMap",r[r.NoNestedSourceMaps=64]="NoNestedSourceMaps",r[r.NoTokenLeadingSourceMaps=128]="NoTokenLeadingSourceMaps",r[r.NoTokenTrailingSourceMaps=256]="NoTokenTrailingSourceMaps",r[r.NoTokenSourceMaps=384]="NoTokenSourceMaps",r[r.NoLeadingComments=512]="NoLeadingComments",r[r.NoTrailingComments=1024]="NoTrailingComments",r[r.NoComments=1536]="NoComments",r[r.NoNestedComments=2048]="NoNestedComments",r[r.HelperName=4096]="HelperName",r[r.ExportName=8192]="ExportName",r[r.LocalName=16384]="LocalName",r[r.InternalName=32768]="InternalName",r[r.Indented=65536]="Indented",r[r.NoIndentation=131072]="NoIndentation",r[r.AsyncFunctionBody=262144]="AsyncFunctionBody",r[r.ReuseTempVariableScope=524288]="ReuseTempVariableScope",r[r.CustomPrologue=1048576]="CustomPrologue",r[r.NoHoisting=2097152]="NoHoisting",r[r.HasEndOfDeclarationMarker=4194304]="HasEndOfDeclarationMarker",r[r.Iterator=8388608]="Iterator",r[r.NoAsciiEscaping=16777216]="NoAsciiEscaping",r[r.TypeScriptClassWrapper=33554432]="TypeScriptClassWrapper",(r=e.ExternalEmitHelpers||(e.ExternalEmitHelpers={}))[r.Extends=1]="Extends",r[r.Assign=2]="Assign",r[r.Rest=4]="Rest",r[r.Decorate=8]="Decorate",r[r.Metadata=16]="Metadata",r[r.Param=32]="Param",r[r.Awaiter=64]="Awaiter",r[r.Generator=128]="Generator",r[r.Values=256]="Values",r[r.Read=512]="Read",r[r.Spread=1024]="Spread",r[r.Await=2048]="Await",r[r.AsyncGenerator=4096]="AsyncGenerator",r[r.AsyncDelegator=8192]="AsyncDelegator",r[r.AsyncValues=16384]="AsyncValues",r[r.ExportStar=32768]="ExportStar",r[r.MakeTemplateObject=65536]="MakeTemplateObject",r[r.FirstEmitHelper=1]="FirstEmitHelper",r[r.LastEmitHelper=65536]="LastEmitHelper",r[r.ForOfIncludes=256]="ForOfIncludes",r[r.ForAwaitOfIncludes=16384]="ForAwaitOfIncludes",r[r.AsyncGeneratorIncludes=6144]="AsyncGeneratorIncludes",r[r.AsyncDelegatorIncludes=26624]="AsyncDelegatorIncludes",r[r.SpreadIncludes=1536]="SpreadIncludes",(r=e.EmitHint||(e.EmitHint={}))[r.SourceFile=0]="SourceFile",r[r.Expression=1]="Expression",r[r.IdentifierName=2]="IdentifierName",r[r.MappedTypeParameter=3]="MappedTypeParameter",r[r.Unspecified=4]="Unspecified"})(ts=ts||{}),(ts||(ts={})).timestamp="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:Date.now||function(){return+new Date},(n=>{var e,t,i,a,r,s,o;e=n.performance||(n.performance={}),r="function"==typeof onProfilerEvent&&!0===onProfilerEvent.profiler?onProfilerEvent:function(e){},s=!1,o=0,e.mark=function(e){s&&(i.set(e,n.timestamp()),t.set(e,(t.get(e)||0)+1),r(e))},e.measure=function(e,t,r){s&&(r=r&&i.get(r)||n.timestamp(),t=t&&i.get(t)||o,a.set(e,(a.get(e)||0)+(r-t)))},e.getCount=function(e){return t&&t.get(e)||0},e.getDuration=function(e){return a&&a.get(e)||0},e.forEachMeasure=function(r){a.forEach(function(e,t){r(t,e)})},e.enable=function(){t=n.createMap(),i=n.createMap(),a=n.createMap(),s=!0,o=n.timestamp()},e.disable=function(){s=!1}})(ts=ts||{}),(e=>{e.versionMajorMinor="2.6",e.version=e.versionMajorMinor+".1"})(ts=ts||{}),(t=>{t.isExternalModuleNameRelative=function(e){return t.pathIsRelative(e)||t.isRootedDiskPath(e)}})(ts=ts||{}),(g=>{function R(){var e=Object.create(null);return e.__=void 0,delete e.__,e}function h(){return new n}g.collator="object"==typeof Intl&&"function"==typeof Intl.Collator?new Intl.Collator(void 0,{usage:"sort",sensitivity:"accent"}):void 0,g.localeCompareIsCorrect=g.collator&&g.collator.compare("a","B")<0,g.createMap=h,g.createUnderscoreEscapedMap=function(){return new n},g.createSymbolTable=function(e){var t=h();if(e)for(var r=0,n=e;r<n.length;r++){var i=n[r];t.set(i.escapedName,i)}return t},g.createMapFromTemplate=function(e){var t,r=new n;for(t in e)c.call(e,t)&&r.set(t,e[t]);return r};var e,n="undefined"!=typeof Map&&"entries"in Map.prototype?Map:(e=(()=>{function e(e,t){this.index=0,this.data=e,this.selector=t,this.keys=Object.keys(e)}return e.prototype.next=function(){var e=this.index;return e<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[e]),done:!1}):{value:void 0,done:!0}},e})(),t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,t){return this.has(e)||this.size++,this.data[e]=t,this},t.prototype.has=function(e){return e in this.data},t.prototype.delete=function(e){return!!this.has(e)&&(this.size--,delete this.data[e],!0)},t.prototype.clear=function(){this.data=R(),this.size=0},t.prototype.keys=function(){return new e(this.data,function(e,t){return t})},t.prototype.values=function(){return new e(this.data,function(e,t){return e[t]})},t.prototype.entries=function(){return new e(this.data,function(e,t){return[t,e[t]]})},t.prototype.forEach=function(e){for(var t in this.data)e(this.data[t],t)},t);function t(){this.data=R(),this.size=0}function r(e,t){if(e)for(var r=0;r<e.length;r++){var n=t(e[r],r);if(n)return n}}function i(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(t(n,r))return n}}function M(e,t){for(var r=0;r<e.length;r++)if(t(e[r],r))return r;return-1}function a(e,t){if(e)for(var r=0,n=e;r<n.length;r++)if(n[r]===t)return!0;return!1}function U(e,t,r){for(var n=r||0;n<e.length;n++)if(a(t,e.charCodeAt(n)))return n;return-1}function B(e,t){for(var r=0,n=0;n<e.length;n++)t(e[n],n,e)&&(e[r]=e[n],r++);e.length=r}function y(e,t){if(e)for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}function j(e){if(e)for(var t=[],r=0,n=e;r<n.length;r++){var i=n[r];i&&(l(i)?o(t,i):t.push(i))}return t}function K(e,t){if(e)for(var r=[],n=0;n<e.length;n++){var i=t(e[n],n);i&&(l(i)?o(r,i):r.push(i))}return r}function v(e,t){if(e){if(!t)return 0<e.length;for(var r=0,n=e;r<n.length;r++)if(t(n[r]))return!0}return!1}function z(e,t){var r;if(e){r=[];e:for(var n=0,i=e;n<i.length;n++){for(var a=i[n],s=0,o=r;s<o.length;s++){var c=o[s];if(t?t(c,a):c===a)continue e}r.push(a)}}return r}function s(e,t,r){if(!e||!t)return e===t;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!(r?r(e[n],t[n]):e[n]===t[n]))return!1;return!0}function $(e,t){return t<0?e.length+t:t}function o(e,t,r,n){if(void 0!==t&&0!==t.length){if(void 0===e)return t.slice(r,n);r=void 0===r?0:$(t,r),n=void 0===n?t.length:$(t,n);for(var i=r;i<n&&i<t.length;i++)void 0!==t[i]&&e.push(t[i])}return e}function J(e,t){return!a(e,t)&&(e.push(t),!0)}function q(e,t){if(e&&(t=$(e,t))<e.length)return e[t]}function m(e){return q(e,-1)}function V(e,t,r,n,i){if(e&&0<e.length){var a=e.length;if(0<a){var s=void 0===n||n<0?0:n,o=void 0===i||a-1<s+i?a-1:s+i,c=void 0;for(arguments.length<=2?(c=e[s],s++):c=r;s<=o;)c=t(c,e[s],s),s++;return c}}return r}g.toPath=function(e,t,r){return r(T(e)?S(e):_e(e,t))},(I=g.Comparison||(g.Comparison={}))[I.LessThan=-1]="LessThan",I[I.EqualTo=0]="EqualTo",I[I.GreaterThan=1]="GreaterThan",g.length=function(e){return e?e.length:0},g.forEach=r,g.firstDefined=function(e,t){for(var r=0;r<e.length;r++){var n=t(e[r],r);if(void 0!==n)return n}},g.findAncestor=function(e,t){for(;e;){var r=t(e);if("quit"===r)return;if(r)return e;e=e.parent}},g.zipWith=function(e,t,r){var n=[];P.assert(e.length===t.length);for(var i=0;i<e.length;i++)n.push(r(e[i],t[i],i));return n},g.zipToMap=function(e,t){P.assert(e.length===t.length);for(var r=h(),n=0;n<e.length;++n)r.set(e[n],t[n]);return r},g.every=function(e,t){if(e)for(var r=0;r<e.length;r++)if(!t(e[r],r))return!1;return!0},g.find=i,g.findLast=function(e,t){for(var r=e.length-1;0<=r;r--){var n=e[r];if(t(n,r))return n}},g.findIndex=M,g.findMap=function(e,t){for(var r=0;r<e.length;r++){var n=t(e[r],r);if(n)return n}P.fail()},g.contains=a,g.indexOf=function(e,t){if(e)for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1},g.indexOfAnyCharCode=U,g.countWhere=function(e,t){var r=0;if(e)for(var n=0;n<e.length;n++)t(e[n],n)&&r++;return r},g.filter=function(e,t){if(e){for(var r=e.length,n=0;n<r&&t(e[n]);)n++;if(n<r){var i=e.slice(0,n);for(n++;n<r;){var a=e[n];t(a)&&i.push(a),n++}return i}}return e},g.filterMutate=B,g.clear=function(e){e.length=0},g.map=y,g.sameMap=function(e,t){var r;if(e)for(var n,i=0;i<e.length;i++)r?r.push(t(e[i],i)):(n=e[i])!==(n=t(n,i))&&(r=e.slice(0,i)).push(n);return r||e},g.flatten=j,g.flatMap=K,g.flatMapIter=function(e,t){for(var r=[];;){var n=e.next(),i=n.value;if(n.done)break;n=t(i);n&&(l(n)?r.push.apply(r,n):r.push(n))}return r},g.sameFlatMap=function(e,t){var r;if(e)for(var n=0;n<e.length;n++){var i=e[n],a=t(i,n);(r||i!==a||l(a))&&(r=r||e.slice(0,n),l(a)?o(r,a):r.push(a))}return r||e},g.mapDefined=function(e,t){var r=[];if(e)for(var n=0;n<e.length;n++){var i=t(e[n],n);void 0!==i&&r.push(i)}return r},g.mapDefinedIter=function(e,t){for(var r=[];;){var n=e.next(),i=n.value;if(n.done)break;n=t(i);void 0!==n&&r.push(n)}return r},g.span=function(e,t){if(e){for(var r=0;r<e.length;r++)if(!t(e[r],r))return[e.slice(0,r),e.slice(r)];return[e.slice(0),[]]}},g.spanMap=function(e,t,r){if(e)for(var n,i=[],a=e.length,s=void 0,o=void 0,c=0,l=0;c<a;){for(;l<a;){o=t(e[l],l);if(0===l)s=o;else if(o!==s)break;l++}c<l&&((n=r(e.slice(c,l),s,c,l))&&i.push(n),c=l),s=o,l++}return i},g.mapEntries=function(e,r){var n;if(e)return n=h(),e.forEach(function(e,t){t=r(t,e),e=t[0];n.set(e,t[1])}),n},g.some=v,g.concatenate=function(e,t){return v(t)?v(e)?e.concat(t):t:e},g.deduplicate=z,g.arrayIsEqualTo=s,g.changesAffectModuleResolution=function(e,t){return!(e&&e.module===t.module&&e.moduleResolution===t.moduleResolution&&e.noResolve===t.noResolve&&e.target===t.target&&e.noLib===t.noLib&&e.jsx===t.jsx&&e.allowJs===t.allowJs&&e.rootDir===t.rootDir&&e.configFilePath===t.configFilePath&&e.baseUrl===t.baseUrl&&e.maxNodeModuleJsDepth===t.maxNodeModuleJsDepth&&s(e.lib,t.lib)&&s(e.typeRoots,t.typeRoots)&&s(e.rootDirs,t.rootDirs)&&W(e.paths,t.paths))},g.compact=function(e){var t;if(e)for(var r=0;r<e.length;r++){var n=e[r];!t&&n||(t=t||e.slice(0,r),n&&t.push(n))}return t||e},g.relativeComplement=function(e,t,r,n,i){if(void 0===r&&(r=_),void 0===n&&(n=0),void 0===i&&(i=0),!t||!e||0===t.length||0===e.length)return t;var a=[];e:for(;i<t.length;i++){t:for(;n<e.length;n++)switch(r(t[i],e[n])){case-1:break t;case 0:continue e;case 1:continue}a.push(t[i])}return a},g.sum=function(e,t){for(var r=0,n=0,i=e;n<i.length;n++)r+=i[n][t];return r},g.append=function(e,t){if(void 0!==t){if(void 0===e)return[t];e.push(t)}return e},g.addRange=o,g.pushIfUnique=J,g.appendIfUnique=function(e,t){return e?(J(e,t),e):[t]},g.stableSort=function(r,n){return void 0===n&&(n=_),r.map(function(e,t){return t}).sort(function(e,t){return n(r[e],r[t])||_(e,t)}).map(function(e){return r[e]})},g.rangeEquals=function(e,t,r,n){for(;r<n;){if(e[r]!==t[r])return!1;r++}return!0},g.elementAt=q,g.firstOrUndefined=function(e){return q(e,0)},g.first=function(e){return P.assert(0!==e.length),e[0]},g.lastOrUndefined=m,g.last=function(e){return P.assert(0!==e.length),e[e.length-1]},g.singleOrUndefined=function(e){return e&&1===e.length?e[0]:void 0},g.singleOrMany=function(e){return e&&1===e.length?e[0]:e},g.replaceElement=function(e,t,r){return(e=e.slice(0))[t]=r,e},g.binarySearch=function(e,t,r,n){if(!e||0===e.length)return-1;var i=n||0,a=e.length-1;for(r=void 0!==r?r:function(e,t){return e<t?-1:t<e?1:0};i<=a;){var s=i+(a-i>>1),o=e[s];if(0===r(o,t))return s;0<r(o,t)?a=s-1:i=s+1}return~i},g.reduceLeft=V,g.reduceRight=function(e,t,r,n,i){if(e){var a=e.length;if(0<a){var s=void 0===n||a-1<n?a-1:n,o=void 0===i||s-i<0?0:s-i,c=void 0;for(arguments.length<=2?(c=e[s],s--):c=r;o<=s;)c=t(c,e[s],s),s--;return c}}return r};var c=Object.prototype.hasOwnProperty;function H(e,t){return c.call(e,t)}function G(e,r){e.forEach(function(e,t){r.set(t,e)})}function W(e,t,r){if(e!==t){if(!e||!t)return!1;for(var n in e)if(c.call(e,n)&&(c.call(t,n),r?!r(e[n],t[n]):e[n]!==t[n]))return!1;for(var n in t)if(c.call(t,n)&&!c.call(e,n))return!1}return!0}function Q(e,t,r){for(var n=h(),i=0,a=e;i<a.length;i++){var s=a[i];n.set(t(s),r?r(s):s)}return n}function Y(e,t){var r=this.get(e);return r?r.push(t):this.set(e,r=[t]),r}function X(e,t){var r=this.get(e);r&&(Qe(r,t),r.length||this.delete(e))}function l(e){return Array.isArray?Array.isArray(e):e instanceof Array}function u(e){return"string"==typeof e}function Z(e){var t;return function(){return e&&(t=e(),e=void 0),t}}function d(t,r,n,i,e){if(e){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return function(e){return V(a,function(e,t){return t(e)},e)}}return i?function(e){return i(n(r(t(e))))}:n?function(e){return n(r(t(e)))}:r?function(e){return r(t(e))}:t?function(e){return t(e)}:function(e){return e}}function p(e,r,n){return n=n||0,e.replace(/{(\d+)}/g,function(e,t){return r[+t+n]})}function f(e){return g.localizedDiagnosticMessages&&g.localizedDiagnosticMessages[e.key]||e.message}function _(e,t){return e===t?0:void 0===e||void 0!==t&&e<t?-1:1}function x(e,t,r){if(e===t)return 0;if(void 0===e)return-1;if(void 0===t)return 1;if(r){if(g.collator)return(r=g.localeCompareIsCorrect?g.collator.compare(e,t):e.localeCompare(t,void 0,{usage:"sort",sensitivity:"accent"}))<0?-1:0<r?1:0;if((e=e.toUpperCase())===(t=t.toUpperCase()))return 0}return e<t?-1:1}function ee(e,t){return x(e,t,!0)}function te(e){return e.file?e.file.fileName:void 0}function re(e,t){return _(te(e),te(t))||_(e.start,t.start)||_(e.length,t.length)||_(e.code,t.code)||((e,t)=>{for(;e&&t;){var r=u(e)?e:e.messageText,n=u(t)?t:t.messageText,r=_(r,n);if(r)return r;e=u(e)?void 0:e.next,t=u(t)?void 0:t.next}return e||t?e?1:-1:0})(e.messageText,t.messageText)||0}function ne(e){if(e.length<2)return e;for(var t=[e[0]],r=e[0],n=1;n<e.length;n++){var i=e[n];0===re(i,r)||(t.push(i),r=i)}return t}function b(e){return e.replace(/\\/g,"/")}function k(e){var t,r;return 47===e.charCodeAt(0)?47!==e.charCodeAt(1)?1:(r=e.indexOf("/",2))<0?2:(t=e.indexOf("/",r+1))<0?r+1:t+1:58===e.charCodeAt(1)?47===e.charCodeAt(2)?3:2:0===e.lastIndexOf("file:///",0)?"file:///".length:-1!==(r=e.indexOf("://"))?r+"://".length:0}g.hasProperty=H,g.getProperty=function(e,t){return c.call(e,t)?e[t]:void 0},g.getOwnKeys=function(e){var t,r=[];for(t in e)c.call(e,t)&&r.push(t);return r},g.getOwnValues=function(e){var t,r=[];for(t in e)c.call(e,t)&&r.push(e[t]);return r},g.arrayFrom=function(e,t){for(var r,n=[],i=e.next(),a=i.value,s=i.done;!s;a=(r=e.next()).value,s=r.done)n.push(t?t(a):a);return n},g.forEachEntry=function(e,t){for(var r=e.entries(),n=(e=r.next()).value,i=e.done;!i;n=(a=r.next()).value,i=a.done){var a=n[0],a=t(n[1],a);if(a)return a}},g.forEachKey=function(e,t){for(var r=e.keys(),n=(e=r.next()).value,i=e.done;!i;n=(a=r.next()).value,i=a.done){var a=t(n);if(a)return a}},g.copyEntries=G,g.assign=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0,i=t;n<i.length;n++){var a,s=i[n];for(a in s)H(s,a)&&(e[a]=s[a])}return e},g.equalOwnProperties=W,g.arrayToMap=Q,g.arrayToNumericMap=function(e,t){for(var r=[],n=0,i=e;n<i.length;n++){var a=i[n];r[t(a)]=a}return r},g.arrayToSet=function(e,t){return Q(e,t||function(e){return e},function(){return!0})},g.cloneMap=function(e){var t=h();return G(e,t),t},g.clone=function(e){var t,r={};for(t in e)c.call(e,t)&&(r[t]=e[t]);return r},g.extend=function(e,t){var r,n={};for(r in t)c.call(t,r)&&(n[r]=t[r]);for(r in e)c.call(e,r)&&(n[r]=e[r]);return n},g.createMultiMap=function(){var e=h();return e.add=Y,e.remove=X,e},g.isArray=l,g.isString=u,g.tryCast=function(e,t){return void 0!==e&&t(e)?e:void 0},g.cast=function(e,t){if(void 0!==e&&t(e))return e;P.fail("Invalid cast. The supplied value did not pass the test '"+P.getFunctionName(t)+"'.")},g.noop=function(){},g.returnFalse=function(){return!1},g.returnTrue=function(){return!0},g.identity=function(e){return e},g.notImplemented=function(){throw new Error("Not implemented")},g.memoize=Z,g.chain=function(t,r,n,i,e){if(e){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return function(t){return d.apply(void 0,y(a,function(e){return e(t)}))}}return i?function(e){return d(t(e),r(e),n(e),i(e))}:n?function(e){return d(t(e),r(e),n(e))}:r?function(e){return d(t(e),r(e))}:t?function(e){return d(t(e))}:function(e){return function(e){return e}}},g.compose=d,g.formatStringFromArgs=p,g.localizedDiagnosticMessages=void 0,g.getLocaleSpecificMessage=f,g.createFileDiagnostic=function(e,t,r,n){P.assertGreaterThanOrEqual(t,0),P.assertGreaterThanOrEqual(r,0),e&&(P.assertLessThanOrEqual(t,e.text.length),P.assertLessThanOrEqual(t+r,e.text.length));var i=f(n);return{file:e,start:t,length:r,messageText:i=4<arguments.length?p(i,arguments,4):i,category:n.category,code:n.code}},g.formatMessage=function(e,t){return t=f(t),t=2<arguments.length?p(t,arguments,2):t},g.createCompilerDiagnostic=function(e){var t=f(e);return{file:void 0,start:void 0,length:void 0,messageText:t=1<arguments.length?p(t,arguments,1):t,category:e.category,code:e.code}},g.createCompilerDiagnosticFromMessageChain=function(e){return{file:void 0,start:void 0,length:void 0,code:e.code,category:e.category,messageText:e.next?e:e.messageText}},g.chainDiagnosticMessages=function(e,t){var r=f(t);return{messageText:r=2<arguments.length?p(r,arguments,2):r,category:t.category,code:t.code,next:e}},g.concatenateDiagnosticMessageChains=function(e,t){for(var r=e;r.next;)r=r.next;return r.next=t,e},g.compareValues=_,g.compareStrings=x,g.compareStringsCaseInsensitive=ee,g.compareDiagnostics=re,g.sortAndDeduplicateDiagnostics=function(e){return ne(e.sort(re))},g.deduplicateSortedDiagnostics=ne,g.normalizeSlashes=b,g.getRootLength=k,g.directorySeparator="/";var ie=47;function ae(e,t){for(var r=[],n=0,i=e.substr(t).split(g.directorySeparator);n<i.length;n++){var a=i[n];"."!==a&&(".."===a&&0<r.length&&".."!==m(r)?r.pop():a&&r.push(a))}return r}function S(e){return se(e).path}function se(e){var t,r=k(e=b(e)),n=e.substr(0,r),r=ae(e,r);return r.length?(t=n+r.join(g.directorySeparator),{path:oe(e)?t+g.directorySeparator:t,parts:r}):{path:n,parts:r}}function oe(e){return e.charCodeAt(e.length-1)===ie}function ce(e){return e.substr(0,Math.max(k(e),e.lastIndexOf(g.directorySeparator)))}function le(e){return e&&!T(e)&&xe(e,"://")}function ue(e){return e.target||0}function de(e){return"number"==typeof e.module?e.module:2<=ue(e)?g.ModuleKind.ES2015:g.ModuleKind.CommonJS}function pe(e){for(var t=!1,r=0;r<e.length;r++)if(42===e.charCodeAt(r)){if(t)return!1;t=!0}return!0}function T(e){return e&&0!==k(e)}function fe(e,t){var r=ae(e,t);return[e.substr(0,t)].concat(r)}function C(e,t){var r=k(e=b(e));return 0===r&&(r=k(e=D(b(t),e))),fe(e,r)}function _e(e,t){return me(C(e,t))}function me(e){if(e&&e.length)return e[0]+e.slice(1).join(g.directorySeparator)}function ge(e,t){if(le(e)){for(var r,n=e,i=n.length,a=n.indexOf("://")+"://".length;a<i&&47===n.charCodeAt(a);)a++;return a===i?[n]:-1!==(r=n.indexOf(g.directorySeparator,a))?fe(n,a=r+1):[n+g.directorySeparator]}return C(e,t)}function he(e,t,r,n,i){var a,s=ge(t,r),o=ge(e,r);for(1<o.length&&""===m(o)&&o.pop(),a=0;a<s.length&&a<o.length&&n(o[a])===n(s[a]);a++);if(a){for(var c="",t=s.slice(a,s.length);a<o.length;a++)""!==o[a]&&(c=c+".."+g.directorySeparator);return c+t.join(g.directorySeparator)}e=me(s);return e=i&&T(e)?"file:///"+e:e}function E(e){var t;if(void 0!==e)return(t=e.lastIndexOf(g.directorySeparator))<0?e:e.substring(t+1)}function D(e,t){return e&&e.length?t&&t.length?0!==k(t)?t:e.charAt(e.length-1)===g.directorySeparator?e+t:e+g.directorySeparator+t:e:t}function A(e){return e.charAt(e.length-1)===g.directorySeparator?e.substr(0,e.length-1):e}function ye(e,t,r,n){if(void 0===e||void 0===t)return!1;if(e!==t&&(e=A(e))!==(t=A(t))){var i=C(e,r),a=C(t,r);if(a.length<i.length)return!1;for(var s=0;s<i.length;s++)if(0!==x(i[s],a[s],n))return!1}return!0}function ve(e,t){return 0===e.lastIndexOf(t,0)}function be(e,t){var r=e.length-t.length;return 0<=r&&e.indexOf(t,r)===r}function xe(e,t){return-1!==e.indexOf(t)}function ke(e){return xe(E(e),".")}function w(e,t){return e.length>t.length&&be(e,t)}function Se(e,t){for(var r=0,n=t;r<n.length;r++)if(w(e,n[r]))return!0;return!1}g.normalizePath=S,g.normalizePathAndParts=se,g.pathEndsWithDirectorySeparator=oe,g.getDirectoryPath=ce,g.isUrl=le,g.pathIsRelative=function(e){return/^\.\.?($|[\\/])/.test(e)},g.moduleHasNonRelativeName=function(e){return!g.isExternalModuleNameRelative(e)},g.getEmitScriptTarget=ue,g.getEmitModuleKind=de,g.getEmitModuleResolutionKind=function(e){var t=e.moduleResolution;return t=void 0===t?de(e)===g.ModuleKind.CommonJS?g.ModuleResolutionKind.NodeJs:g.ModuleResolutionKind.Classic:t},g.hasZeroOrOneAsteriskCharacter=pe,g.isRootedDiskPath=T,g.convertToRelativePath=function(e,t,r){return T(e)?he(t,e,t,r,!1):e},g.getNormalizedPathComponents=C,g.getNormalizedAbsolutePath=_e,g.getNormalizedPathFromPathComponents=me,g.getRelativePathToDirectoryOrUrl=he,g.getBaseFileName=E,g.combinePaths=D,g.removeTrailingDirectorySeparator=A,g.ensureTrailingDirectorySeparator=function(e){return e.charAt(e.length-1)!==g.directorySeparator?e+g.directorySeparator:e},g.comparePaths=function(e,t,r,n){if(e===t)return 0;if(void 0===e)return-1;if(void 0===t)return 1;e=A(e),t=A(t);for(var i=C(e,r),a=C(t,r),s=Math.min(i.length,a.length),o=0;o<s;o++){var c=x(i[o],a[o],n);if(0!==c)return c}return _(i.length,a.length)},g.containsPath=ye,g.startsWith=ve,g.removePrefix=function(e,t){return ve(e,t)?e.substr(t.length):e},g.endsWith=be,g.stringContains=xe,g.hasExtension=ke,g.fileExtensionIs=w,g.fileExtensionIsOneOf=Se;var Te=/[^\w\s\/]/g,Ce=[42,63],Ee=(g.commonPackageFolders=["node_modules","bower_components","jspm_packages"],"(?!("+g.commonPackageFolders.join("|")+")(/|$))"),De={singleAsteriskRegexFragment:"([^./]|(\\.(?!min\\.js$))?)*",doubleAsteriskRegexFragment:"(/"+Ee+"[^/.][^/]*)*?",replaceWildcardCharacter:function(e){return Oe(e,De.singleAsteriskRegexFragment)}},Ae={singleAsteriskRegexFragment:"[^/]*",doubleAsteriskRegexFragment:"(/"+Ee+"[^/.][^/]*)*?",replaceWildcardCharacter:function(e){return Oe(e,Ae.singleAsteriskRegexFragment)}},we={singleAsteriskRegexFragment:"[^/]*",doubleAsteriskRegexFragment:"(/.+?)?",replaceWildcardCharacter:function(e){return Oe(e,we.singleAsteriskRegexFragment)}},Ne={files:De,directories:Ae,exclude:we};function N(e,t,r){e=Ie(e,t,r);if(e&&e.length)return"^("+e.map(function(e){return"("+e+")"}).join("|")+")"+("exclude"===r?"($|/)":"$")}function Ie(e,t,r){if(void 0!==e&&0!==e.length)return K(e,function(e){return e&&((e,t,r,n)=>{var i=n.singleAsteriskRegexFragment,a=n.doubleAsteriskRegexFragment,s=n.replaceWildcardCharacter,o="",c=!1,l=!1,e=m(n=C(e,t));if("exclude"===r||"**"!==e){n[0]=A(n[0]),Pe(e)&&n.push("**","*");for(var u=0,d=0,p=n;d<p.length;d++){var f,_=p[d];if("**"===_){if(c)return;o+=a,c=!0}else"directories"===r&&(o+="(",u++),l&&(o+=g.directorySeparator),"exclude"!==r?(f="",42===_.charCodeAt(0)?(f+="([^./]"+i+")?",_=_.substr(1)):63===_.charCodeAt(0)&&(f+="[^./]",_=_.substr(1)),(f+=_.replace(Te,s))!==_&&(o+=Ee),o+=f):o+=_.replace(Te,s);l=!0}for(;0<u;)o+=")?",u--;return o}})(e,t,r,Ne[r])})}function Pe(e){return!/[.*?]/.test(e)}function Oe(e,t){return"*"===e?t:"?"===e?"[^/]":"\\"+e}function Fe(e,t,r,n,i){e=S(e);i=D(i=S(i),e);return{includeFilePatterns:y(Ie(r,i,"files"),function(e){return"^"+e+"$"}),includeFilePattern:N(r,i,"files"),includeDirectoryPattern:N(r,i,"directories"),excludePattern:N(t,i,"exclude"),basePaths:((r,e,n)=>{var i=[r];if(e){for(var t=[],a=0,s=e;a<s.length;a++){var o=s[a],o=T(o)?o:S(D(r,o));t.push((e=>{var t=U(e,Ce);return t<0?ke(e)?A(ce(e)):e:e.substring(0,e.lastIndexOf(g.directorySeparator,t))})(o))}t.sort(n?x:ee);for(var c=0,l=t;c<l.length;c++)(t=>{g.every(i,function(e){return!ye(e,t,r,!n)})&&i.push(t)})(l[c])}return i})(e,r,n)}}function Le(e,_,t,r,n,i,a,m){for(var e=Fe(e=S(e),t,r,n,i=S(i)),s=n?"":"i",g=e.includeFilePatterns&&e.includeFilePatterns.map(function(e){return new RegExp(e,s)}),h=e.includeDirectoryPattern&&new RegExp(e.includeDirectoryPattern,s),y=e.excludePattern&&new RegExp(e.excludePattern,s),v=g?g.map(function(){return[]}):[[]],b=n?x:ee,o=0,c=e.basePaths;o<c.length;o++){var l=c[o];!function e(n,i,t){var r=m(n),a=r.files,r=r.directories;a=a.slice().sort(b);var s=function(e){var t=D(n,e),r=D(i,e);return _&&!Se(t,_)||y&&y.test(r)?"continue":void(g?-1!==(e=M(g,function(e){return e.test(r)}))&&v[e].push(t):v[0].push(t))};for(var o=0,c=a;o<c.length;o++){var l=c[o];s(l)}if(void 0!==t&&0===--t)return;r=r.slice().sort(b);for(var u=0,d=r;u<d.length;u++){var l=d[u],p=D(n,l),f=D(i,l);h&&!h.test(f)||y&&y.test(f)||e(p,f,t)}}(l,D(i,l),a)}return j(v)}function Re(e){switch(e.substr(e.lastIndexOf(".")).toLowerCase()){case".js":return 1;case".jsx":return 2;case".ts":return 3;case".tsx":return 4;case".json":return 6;default:return 0}}g.getRegularExpressionForWildcard=N,g.isImplicitGlob=Pe,g.getFileMatcherPatterns=Fe,g.matchFiles=Le,g.ensureScriptKind=function(e,t){return t||Re(e)||3},g.getScriptKindFromFileName=Re,g.supportedTypeScriptExtensions=[".ts",".tsx",".d.ts"],g.supportedTypescriptExtensionsForExtractExtension=[".d.ts",".ts",".tsx"],g.supportedJavascriptExtensions=[".js",".jsx"];var Me=g.supportedTypeScriptExtensions.concat(g.supportedJavascriptExtensions);function Ue(e,t){e=e&&e.allowJs;return t&&0!==t.length&&e?z(Me.concat(t.map(function(e){return e.extension}))):e?Me:g.supportedTypeScriptExtensions}function Be(e,t){return e<2?0:e<t.length?2:t.length}g.getSupportedExtensions=Ue,g.hasJavaScriptFileExtension=function(t){return r(g.supportedJavascriptExtensions,function(e){return w(t,e)})},g.hasTypeScriptFileExtension=function(t){return r(g.supportedTypeScriptExtensions,function(e){return w(t,e)})},g.isSupportedSourceFileName=function(e,t,r){if(e)for(var n=0,i=Ue(t,r);n<i.length;n++)if(w(e,i[n]))return!0;return!1},(I=g.ExtensionPriority||(g.ExtensionPriority={}))[I.TypeScriptFiles=0]="TypeScriptFiles",I[I.DeclarationAndJavaScriptFiles=2]="DeclarationAndJavaScriptFiles",I[I.Highest=0]="Highest",I[I.Lowest=2]="Lowest",g.getExtensionPriority=function(e,t){for(var r=t.length-1;0<=r;r--)if(w(e,t[r]))return Be(r,t);return 0},g.adjustExtensionPriority=Be,g.getNextLowestExtensionPriority=function(e,t){return e<2?2:t.length};var I,P,O,je=[".d.ts",".ts",".js",".tsx",".jsx"];function Ke(e){for(var t=0,r=je;t<r.length;t++){var n=ze(e,r[t]);if(void 0!==n)return n}return e}function ze(e,t){return w(e,t)?$e(e,t):void 0}function $e(e,t){return e.substring(0,e.length-t.length)}function Je(e,t){this.flags=e,this.escapedName=t,this.declarations=void 0}function qe(e,t){this.flags=t,P.isDebugging&&(this.checker=e)}function Ve(){}function F(e,t,r){this.id=0,this.kind=e,this.pos=t,this.end=r,this.flags=0,this.modifierFlagsCache=0,this.transformFlags=0,this.parent=void 0,this.original=void 0}function He(e,t,r){this.fileName=e,this.text=t,this.skipTrivia=r||function(e){return e}}function L(e,t){e=new Error(e?"Debug Failure. "+e:"Debug Failure.");throw Error.captureStackTrace&&Error.captureStackTrace(e,t||L),e}function Ge(e,t){for(var r=t;r<e.length-1;r++)e[r]=e[r+1];e.pop()}function We(e,t){e[t]=e[e.length-1],e.pop()}function Qe(e,t){for(var r=e,n=function(e){return e===t},i=0;i<r.length;i++)if(n(r[i])){We(r,i);break}}function Ye(e){return e?function(e){return e}:function(e){return e.toLowerCase()}}function Xe(e,t,r){for(var n=void 0,i=-1,a=0,s=e;a<s.length;a++){var o=s[a],c=t(o);Ze(c,r)&&c.prefix.length>i&&(i=c.prefix.length,n=o)}return n}function Ze(e,t){var r=e.prefix,e=e.suffix;return t.length>=r.length+e.length&&ve(t,r)&&be(t,e)}function et(e){P.assert(pe(e));var t=e.indexOf("*");return-1===t?void 0:{prefix:e.substr(0,t),suffix:e.substr(t+1)}}function tt(t){return i(g.supportedTypescriptExtensionsForExtractExtension,function(e){return w(t,e)})||i(g.supportedJavascriptExtensions,function(e){return w(t,e)})}g.removeFileExtension=Ke,g.tryRemoveExtension=ze,g.removeExtension=$e,g.changeExtension=function(e,t){return Ke(e)+t},g.objectAllocator={getNodeConstructor:function(){return F},getTokenConstructor:function(){return F},getIdentifierConstructor:function(){return F},getSourceFileConstructor:function(){return F},getSymbolConstructor:function(){return Je},getTypeConstructor:function(){return qe},getSignatureConstructor:function(){return Ve},getSourceMapSourceConstructor:function(){return He}},(I=g.AssertionLevel||(g.AssertionLevel={}))[I.None=0]="None",I[I.Normal=1]="Normal",I[I.Aggressive=2]="Aggressive",I[I.VeryAggressive=3]="VeryAggressive",(O=P=g.Debug||(g.Debug={})).currentAssertionLevel=0,O.isDebugging=!1,O.shouldAssert=function(e){return O.currentAssertionLevel>=e},O.assert=function e(t,r,n,i){t||(n&&(r+="\r\nVerbose Debug Information: "+("string"==typeof n?n:n())),L(r?"False expression: "+r:"False expression.",i||e))},O.assertEqual=function(e,t,r,n){e!==t&&L("Expected "+e+" === "+t+". "+(r?n?r+" "+n:r:""))},O.assertLessThan=function(e,t,r){t<=e&&L("Expected "+e+" < "+t+". "+(r||""))},O.assertLessThanOrEqual=function(e,t){t<e&&L("Expected "+e+" <= "+t)},O.assertGreaterThanOrEqual=function(e,t){e<t&&L("Expected "+e+" >= "+t)},O.fail=L,O.assertNever=function e(t,r,n){return L(r||"Illegal value: "+t,n||e)},O.getFunctionName=function(e){return"function"!=typeof e?"":e.hasOwnProperty("name")?e.name:(e=Function.prototype.toString.call(e),(e=/^function\s+([\w\$]+)\s*\(/.exec(e))?e[1]:"")},g.orderedRemoveItem=function(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return Ge(e,r),!0;return!1},g.orderedRemoveItemAt=Ge,g.unorderedRemoveItemAt=We,g.unorderedRemoveItem=Qe,g.createGetCanonicalFileName=Ye,g.matchPatternOrExact=function(e,t){for(var r=[],n=0,i=e;n<i.length;n++){var a=i[n],s=et(a);if(s)r.push(s);else if(a===t)return a}return Xe(r,function(e){return e},t)},g.patternText=function(e){return e.prefix+"*"+e.suffix},g.matchedText=function(e,t){return P.assert(Ze(e,t)),t.substr(e.prefix.length,t.length-e.suffix.length)},g.findBestPatternMatch=Xe,g.tryParsePattern=et,g.positionIsSynthesized=function(e){return!(0<=e)},g.extensionIsTypeScript=function(e){return".ts"===e||".tsx"===e||".d.ts"===e},g.extensionFromPath=function(e){var t=tt(e);if(void 0!==t)return t;P.fail("File "+e+" has unknown extension.")},g.isAnySupportedFileExtension=function(e){return void 0!==tt(e)},g.tryGetExtensionFromPath=tt,g.getAnyExtensionFromPath=function(e){var t=(e=E(e)).lastIndexOf(".");if(0<=t)return e.substring(t)},g.isCheckJsEnabledForFile=function(e,t){return e.checkJsDirective?e.checkJsDirective.enabled:t.checkJs},g.and=function(t,r){return function(e){return t(e)&&r(e)}},g.assertTypeIsNever=function(e){},g.createCachedDirectoryStructureHost=function(o){var n=h(),c=Z(function(){return o.getCurrentDirectory()}),r=Ye(o.useCaseSensitiveFileNames);return{useCaseSensitiveFileNames:o.useCaseSensitiveFileNames,newLine:o.newLine,readFile:function(e,t){return o.readFile(e,t)},write:function(e){return o.write(e)},writeFile:function(e,t,r){var n=i(l(e));n&&m(n,a(e),!0);return o.writeFile(e,t,r)},fileExists:function(e){var t=i(l(e));return t&&f(t.files,a(e))||o.fileExists(e)},directoryExists:function(e){var t=l(e);return n.has(t)||o.directoryExists(e)},createDirectory:function(e){var t=i(l(e)),r=a(e);t&&_(t.directories,r,!0);o.createDirectory(e)},getCurrentDirectory:c,getDirectories:function(e){var t=l(e),t=p(e,t);if(t)return t.directories.slice();return o.getDirectories(e)},readDirectory:function(e,t,r,n,i){var a=l(e),s=p(e,a);if(s)return Le(e,t,r,n,o.useCaseSensitiveFileNames,c(),i,function(e){var t=l(e);return t!==a?u(t)||d(e,t):s});return o.readDirectory(e,t,r,n,i)},addOrDeleteFileOrDirectory:function(e,t){if(u(t))o.directoryExists(e)||n.delete(t);else{var r=i(t);if(r){e=a(e);if(r)return t={fileExists:o.fileExists(t),directoryExists:o.directoryExists(t)},m(r,e,t.fileExists),_(r.directories,e,t.directoryExists),t}}},addOrDeleteFile:function(e,t,r){r!==g.FileWatcherEventKind.Changed&&(t=i(t))&&m(t,a(e),r===g.FileWatcherEventKind.Created)},clearCache:function(){n.clear()},exit:function(e){return o.exit(e)}};function l(e){return g.toPath(e,c(),r)}function u(e){return n.get(e)}function i(e){return u(ce(e))}function a(e){return E(S(e))}function d(e,t){e={files:y(o.readDirectory(e,void 0,void 0,["*.*"]),a)||[],directories:o.getDirectories(e)||[]};return n.set(t,e),e}function p(e,t){var r=u(t);if(r)return r;try{return d(e,t)}catch(e){P.assert(!n.has(t))}}function s(e,t){return r(e)===r(t)}function f(e,t){return v(e,function(e){return s(e,t)})}function _(e,t,r){f(e,t)?r||B(e,function(e){return!s(e,t)}):r&&e.push(t)}function m(e,t,r){_(e.files,t,r)}}})(ts=ts||{}),(y=>{var v,e,i,a;function b(){if("undefined"!=typeof process){var e=process.version;if(e){var t=e.indexOf(".");if(-1!==t)return parseInt(e.substring(1,t))}}}function t(){var l=require("fs"),t=require("path"),e=require("os"),r=require("crypto"),i=process.env.TSC_NONPOLLING_WATCHER;n=y.createMap(),o=y.createMultiMap();var n,o,a={addFile:function(e,t){return((e,t)=>{o.add(e,t)})(e,t),(s=>{var e=n.get(s);e?e.referenceCount+=1:((e=p(s||".",function(e,t){var r=s,n=y.isString(t)?y.getNormalizedAbsolutePath(t,r):void 0;if("change"===e||"rename"===e){t=o.get(n);if(t)for(var i=0,a=t;i<a.length;i++)(0,a[i])(n,v.Changed)}})).referenceCount=1,n.set(s,e))})(y.getDirectoryPath(e)),{fileName:e,callback:t}},removeFile:function(e){((e,t)=>{o.remove(e,t)})(e.fileName,e.callback),(e=>{var e=y.getDirectoryPath(e),t=n.get(e);t&&(--t.referenceCount,t.referenceCount<=0)&&(t.close(),n.delete(e))})(e.fileName)}},c=4<=b();var s=e.platform(),u="win32"!==s&&"win64"!==s&&!m(__filename.replace(/\w/g,function(e){var t=e.toUpperCase();return e===t?e.toLowerCase():t}));function d(i,a,e){return l.watchFile(i,{persistent:!0,interval:e||250},t),{close:function(){return l.unwatchFile(i,t)}};function t(e,t){var r=0==+e.mtime,n=0==+t.mtime,r=!r&&n?v.Created:r&&!n?v.Deleted:v.Changed;r===v.Changed&&+e.mtime<=+t.mtime||a(i,r)}}function p(r,n,t){var i,a=(g(r)?s:o)();return{close:function(){a.close()}};function s(){void 0===i&&(i=!c||"win32"!==process.platform&&"darwin"!==process.platform?{persistent:!0}:{persistent:!0,recursive:!!t});var e=l.watch(r,i,n);return e.on("error",function(){g(r)||(a=o(),n("rename",""))}),e}function o(){return d(r,function(e,t){t===v.Created&&g(r)&&(a.close(),a=s(),n("rename",""))})}}function f(e){try{for(var t=l.readdirSync(e||".").sort(),r=[],n=[],i=0,a=t;i<a.length;i++){var s=a[i];if("."!==s&&".."!==s){var o=y.combinePaths(e,s),c=void 0;try{c=l.statSync(o)}catch(e){continue}c.isFile()?r.push(s):c.isDirectory()&&n.push(s)}}return{files:r,directories:n}}catch(e){return{files:[],directories:[]}}}function _(e,t){try{var r=l.statSync(e);switch(t){case 0:return r.isFile();case 1:return r.isDirectory()}}catch(e){return!1}}function m(e){return _(e,0)}function g(e){return _(e,1)}var h={args:process.argv.slice(2),newLine:e.EOL,useCaseSensitiveFileNames:u,write:function(e){process.stdout.write(e)},readFile:function(e,t){if(m(e)){var r=l.readFileSync(e),n=r.length;if(2<=n&&254===r[0]&&255===r[1]){n&=-2;for(var i=0;i<n;i+=2){var a=r[i];r[i]=r[i+1],r[i+1]=a}return r.toString("utf16le",2)}return 2<=n&&255===r[0]&&254===r[1]?r.toString("utf16le",2):3<=n&&239===r[0]&&187===r[1]&&191===r[2]?r.toString("utf8",3):r.toString("utf8")}},writeFile:function(e,t,r){var n;r&&(t="\ufeff"+t);try{n=l.openSync(e,"w"),l.writeSync(n,t,void 0,"utf8")}finally{void 0!==n&&l.closeSync(n)}},watchFile:function(e,t,r){var n;return i?(n=a.addFile(e,t),{close:function(){return a.removeFile(n)}}):d(e,t,r)},watchDirectory:function(r,n,e){return p(r,function(e,t){"rename"===e&&n(t&&y.normalizePath(y.combinePaths(r,t)))},e)},resolvePath:function(e){return t.resolve(e)},fileExists:m,directoryExists:g,createDirectory:function(e){h.directoryExists(e)||l.mkdirSync(e)},getExecutingFilePath:function(){return __filename},getCurrentDirectory:function(){return process.cwd()},getDirectories:function(t){return y.filter(l.readdirSync(t),function(e){return _(y.combinePaths(t,e),1)})},getEnvironmentVariable:function(e){return process.env[e]||""},readDirectory:function(e,t,r,n,i){return y.matchFiles(e,t,r,n,u,process.cwd(),i,f)},getModifiedTime:function(e){try{return l.statSync(e).mtime}catch(e){}},createHash:function(e){var t=r.createHash("md5");return t.update(e),t.digest("hex")},getMemoryUsage:function(){return global.gc&&global.gc(),process.memoryUsage().heapUsed},getFileSize:function(e){try{var t=l.statSync(e);if(t.isFile())return t.size}catch(e){}return 0},exit:function(e){process.exit(e)},realpath:function(e){return l.realpathSync(e)},debugMode:y.some(process.execArgv,function(e){return/^--(inspect|debug)(-brk)?(=\d+)?$/i.test(e)}),tryEnableSourceMapsForHost:function(){try{require("source-map-support").install()}catch(e){}},setTimeout:setTimeout,clearTimeout:clearTimeout};return h}y.setStackTraceLimit=function(){Error.stackTraceLimit<100&&(Error.stackTraceLimit=100)},(e=v=y.FileWatcherEventKind||(y.FileWatcherEventKind={}))[e.Created=0]="Created",e[e.Changed=1]="Changed",e[e.Deleted=2]="Deleted",y.getNodeMajorVersion=b,y.sys=("undefined"!=typeof ChakraHost?i={newLine:ChakraHost.newLine||"\r\n",args:ChakraHost.args,useCaseSensitiveFileNames:!!ChakraHost.useCaseSensitiveFileNames,write:ChakraHost.echo,readFile:function(e,t){return ChakraHost.readFile(e)},writeFile:function(e,t,r){r&&(t="\ufeff"+t),ChakraHost.writeFile(e,t)},resolvePath:ChakraHost.resolvePath,fileExists:ChakraHost.fileExists,directoryExists:ChakraHost.directoryExists,createDirectory:ChakraHost.createDirectory,getExecutingFilePath:function(){return ChakraHost.executingFile},getCurrentDirectory:function(){return ChakraHost.currentDirectory},getDirectories:ChakraHost.getDirectories,getEnvironmentVariable:ChakraHost.getEnvironmentVariable||function(){return""},readDirectory:function(e,t,r,n,i){r=y.getFileMatcherPatterns(e,r,n,!!ChakraHost.useCaseSensitiveFileNames,ChakraHost.currentDirectory);return ChakraHost.readDirectory(e,t,r.basePaths,r.excludePattern,r.includeFilePattern,r.includeDirectoryPattern)},exit:ChakraHost.quit,realpath:ChakraHost.realpath&&function(e){return ChakraHost.realpath(e)}}:"undefined"!=typeof process&&process.nextTick&&!process.browser&&"undefined"!=typeof require&&(i=t()),i&&(a=i.writeFile,i.writeFile=function(e,t,r){var n=y.getDirectoryPath(y.normalizeSlashes(e));n&&!i.directoryExists(n)&&!function e(t,r){var n=y.getDirectoryPath(t),i=""!==n&&t!==n&&!r.directoryExists(n);i&&e(n,r),!i&&r.directoryExists(t)||r.createDirectory(t)}(n,i),a.call(i,e,t,r)}),i),y.sys&&y.sys.getEnvironmentVariable&&(y.Debug.currentAssertionLevel=/^development$/i.test(y.sys.getEnvironmentVariable("NODE_ENV"))?1:0),y.sys&&y.sys.debugMode&&(y.Debug.isDebugging=!0)})(ts=ts||{}),(e=>{function t(e,t,r,n){return{code:e,category:t,key:r,message:n}}e.Diagnostics={Unterminated_string_literal:t(1002,e.DiagnosticCategory.Error,"Unterminated_string_literal_1002","Unterminated string literal."),Identifier_expected:t(1003,e.DiagnosticCategory.Error,"Identifier_expected_1003","Identifier expected."),_0_expected:t(1005,e.DiagnosticCategory.Error,"_0_expected_1005","'{0}' expected."),A_file_cannot_have_a_reference_to_itself:t(1006,e.DiagnosticCategory.Error,"A_file_cannot_have_a_reference_to_itself_1006","A file cannot have a reference to itself."),Trailing_comma_not_allowed:t(1009,e.DiagnosticCategory.Error,"Trailing_comma_not_allowed_1009","Trailing comma not allowed."),Asterisk_Slash_expected:t(1010,e.DiagnosticCategory.Error,"Asterisk_Slash_expected_1010","'*/' expected."),Unexpected_token:t(1012,e.DiagnosticCategory.Error,"Unexpected_token_1012","Unexpected token."),A_rest_parameter_must_be_last_in_a_parameter_list:t(1014,e.DiagnosticCategory.Error,"A_rest_parameter_must_be_last_in_a_parameter_list_1014","A rest parameter must be last in a parameter list."),Parameter_cannot_have_question_mark_and_initializer:t(1015,e.DiagnosticCategory.Error,"Parameter_cannot_have_question_mark_and_initializer_1015","Parameter cannot have question mark and initializer."),A_required_parameter_cannot_follow_an_optional_parameter:t(1016,e.DiagnosticCategory.Error,"A_required_parameter_cannot_follow_an_optional_parameter_1016","A required parameter cannot follow an optional parameter."),An_index_signature_cannot_have_a_rest_parameter:t(1017,e.DiagnosticCategory.Error,"An_index_signature_cannot_have_a_rest_parameter_1017","An index signature cannot have a rest parameter."),An_index_signature_parameter_cannot_have_an_accessibility_modifier:t(1018,e.DiagnosticCategory.Error,"An_index_signature_parameter_cannot_have_an_accessibility_modifier_1018","An index signature parameter cannot have an accessibility modifier."),An_index_signature_parameter_cannot_have_a_question_mark:t(1019,e.DiagnosticCategory.Error,"An_index_signature_parameter_cannot_have_a_question_mark_1019","An index signature parameter cannot have a question mark."),An_index_signature_parameter_cannot_have_an_initializer:t(1020,e.DiagnosticCategory.Error,"An_index_signature_parameter_cannot_have_an_initializer_1020","An index signature parameter cannot have an initializer."),An_index_signature_must_have_a_type_annotation:t(1021,e.DiagnosticCategory.Error,"An_index_signature_must_have_a_type_annotation_1021","An index signature must have a type annotation."),An_index_signature_parameter_must_have_a_type_annotation:t(1022,e.DiagnosticCategory.Error,"An_index_signature_parameter_must_have_a_type_annotation_1022","An index signature parameter must have a type annotation."),An_index_signature_parameter_type_must_be_string_or_number:t(1023,e.DiagnosticCategory.Error,"An_index_signature_parameter_type_must_be_string_or_number_1023","An index signature parameter type must be 'string' or 'number'."),readonly_modifier_can_only_appear_on_a_property_declaration_or_index_signature:t(1024,e.DiagnosticCategory.Error,"readonly_modifier_can_only_appear_on_a_property_declaration_or_index_signature_1024","'readonly' modifier can only appear on a property declaration or index signature."),Accessibility_modifier_already_seen:t(1028,e.DiagnosticCategory.Error,"Accessibility_modifier_already_seen_1028","Accessibility modifier already seen."),_0_modifier_must_precede_1_modifier:t(1029,e.DiagnosticCategory.Error,"_0_modifier_must_precede_1_modifier_1029","'{0}' modifier must precede '{1}' modifier."),_0_modifier_already_seen:t(1030,e.DiagnosticCategory.Error,"_0_modifier_already_seen_1030","'{0}' modifier already seen."),_0_modifier_cannot_appear_on_a_class_element:t(1031,e.DiagnosticCategory.Error,"_0_modifier_cannot_appear_on_a_class_element_1031","'{0}' modifier cannot appear on a class element."),super_must_be_followed_by_an_argument_list_or_member_access:t(1034,e.DiagnosticCategory.Error,"super_must_be_followed_by_an_argument_list_or_member_access_1034","'super' must be followed by an argument list or member access."),Only_ambient_modules_can_use_quoted_names:t(1035,e.DiagnosticCategory.Error,"Only_ambient_modules_can_use_quoted_names_1035","Only ambient modules can use quoted names."),Statements_are_not_allowed_in_ambient_contexts:t(1036,e.DiagnosticCategory.Error,"Statements_are_not_allowed_in_ambient_contexts_1036","Statements are not allowed in ambient contexts."),A_declare_modifier_cannot_be_used_in_an_already_ambient_context:t(1038,e.DiagnosticCategory.Error,"A_declare_modifier_cannot_be_used_in_an_already_ambient_context_1038","A 'declare' modifier cannot be used in an already ambient context."),Initializers_are_not_allowed_in_ambient_contexts:t(1039,e.DiagnosticCategory.Error,"Initializers_are_not_allowed_in_ambient_contexts_1039","Initializers are not allowed in ambient contexts."),_0_modifier_cannot_be_used_in_an_ambient_context:t(1040,e.DiagnosticCategory.Error,"_0_modifier_cannot_be_used_in_an_ambient_context_1040","'{0}' modifier cannot be used in an ambient context."),_0_modifier_cannot_be_used_with_a_class_declaration:t(1041,e.DiagnosticCategory.Error,"_0_modifier_cannot_be_used_with_a_class_declaration_1041","'{0}' modifier cannot be used with a class declaration."),_0_modifier_cannot_be_used_here:t(1042,e.DiagnosticCategory.Error,"_0_modifier_cannot_be_used_here_1042","'{0}' modifier cannot be used here."),_0_modifier_cannot_appear_on_a_data_property:t(1043,e.DiagnosticCategory.Error,"_0_modifier_cannot_appear_on_a_data_property_1043","'{0}' modifier cannot appear on a data property."),_0_modifier_cannot_appear_on_a_module_or_namespace_element:t(1044,e.DiagnosticCategory.Error,"_0_modifier_cannot_appear_on_a_module_or_namespace_element_1044","'{0}' modifier cannot appear on a module or namespace element."),A_0_modifier_cannot_be_used_with_an_interface_declaration:t(1045,e.DiagnosticCategory.Error,"A_0_modifier_cannot_be_used_with_an_interface_declaration_1045","A '{0}' modifier cannot be used with an interface declaration."),A_declare_modifier_is_required_for_a_top_level_declaration_in_a_d_ts_file:t(1046,e.DiagnosticCategory.Error,"A_declare_modifier_is_required_for_a_top_level_declaration_in_a_d_ts_file_1046","A 'declare' modifier is required for a top level declaration in a .d.ts file."),A_rest_parameter_cannot_be_optional:t(1047,e.DiagnosticCategory.Error,"A_rest_parameter_cannot_be_optional_1047","A rest parameter cannot be optional."),A_rest_parameter_cannot_have_an_initializer:t(1048,e.DiagnosticCategory.Error,"A_rest_parameter_cannot_have_an_initializer_1048","A rest parameter cannot have an initializer."),A_set_accessor_must_have_exactly_one_parameter:t(1049,e.DiagnosticCategory.Error,"A_set_accessor_must_have_exactly_one_parameter_1049","A 'set' accessor must have exactly one parameter."),A_set_accessor_cannot_have_an_optional_parameter:t(1051,e.DiagnosticCategory.Error,"A_set_accessor_cannot_have_an_optional_parameter_1051","A 'set' accessor cannot have an optional parameter."),A_set_accessor_parameter_cannot_have_an_initializer:t(1052,e.DiagnosticCategory.Error,"A_set_accessor_parameter_cannot_have_an_initializer_1052","A 'set' accessor parameter cannot have an initializer."),A_set_accessor_cannot_have_rest_parameter:t(1053,e.DiagnosticCategory.Error,"A_set_accessor_cannot_have_rest_parameter_1053","A 'set' accessor cannot have rest parameter."),A_get_accessor_cannot_have_parameters:t(1054,e.DiagnosticCategory.Error,"A_get_accessor_cannot_have_parameters_1054","A 'get' accessor cannot have parameters."),Type_0_is_not_a_valid_async_function_return_type_in_ES5_SlashES3_because_it_does_not_refer_to_a_Promise_compatible_constructor_value:t(1055,e.DiagnosticCategory.Error,"Type_0_is_not_a_valid_async_function_return_type_in_ES5_SlashES3_because_it_does_not_refer_to_a_Prom_1055","Type '{0}' is not a valid async function return type in ES5/ES3 because it does not refer to a Promise-compatible constructor value."),Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher:t(1056,e.DiagnosticCategory.Error,"Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher_1056","Accessors are only available when targeting ECMAScript 5 and higher."),An_async_function_or_method_must_have_a_valid_awaitable_return_type:t(1057,e.DiagnosticCategory.Error,"An_async_function_or_method_must_have_a_valid_awaitable_return_type_1057","An async function or method must have a valid awaitable return type."),The_return_type_of_an_async_function_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member:t(1058,e.DiagnosticCategory.Error,"The_return_type_of_an_async_function_must_either_be_a_valid_promise_or_must_not_contain_a_callable_t_1058","The return type of an async function must either be a valid promise or must not contain a callable 'then' member."),A_promise_must_have_a_then_method:t(1059,e.DiagnosticCategory.Error,"A_promise_must_have_a_then_method_1059","A promise must have a 'then' method."),The_first_parameter_of_the_then_method_of_a_promise_must_be_a_callback:t(1060,e.DiagnosticCategory.Error,"The_first_parameter_of_the_then_method_of_a_promise_must_be_a_callback_1060","The first parameter of the 'then' method of a promise must be a callback."),Enum_member_must_have_initializer:t(1061,e.DiagnosticCategory.Error,"Enum_member_must_have_initializer_1061","Enum member must have initializer."),Type_is_referenced_directly_or_indirectly_in_the_fulfillment_callback_of_its_own_then_method:t(1062,e.DiagnosticCategory.Error,"Type_is_referenced_directly_or_indirectly_in_the_fulfillment_callback_of_its_own_then_method_1062","Type is referenced directly or indirectly in the fulfillment callback of its own 'then' method."),An_export_assignment_cannot_be_used_in_a_namespace:t(1063,e.DiagnosticCategory.Error,"An_export_assignment_cannot_be_used_in_a_namespace_1063","An export assignment cannot be used in a namespace."),The_return_type_of_an_async_function_or_method_must_be_the_global_Promise_T_type:t(1064,e.DiagnosticCategory.Error,"The_return_type_of_an_async_function_or_method_must_be_the_global_Promise_T_type_1064","The return type of an async function or method must be the global Promise<T> type."),In_ambient_enum_declarations_member_initializer_must_be_constant_expression:t(1066,e.DiagnosticCategory.Error,"In_ambient_enum_declarations_member_initializer_must_be_constant_expression_1066","In ambient enum declarations member initializer must be constant expression."),Unexpected_token_A_constructor_method_accessor_or_property_was_expected:t(1068,e.DiagnosticCategory.Error,"Unexpected_token_A_constructor_method_accessor_or_property_was_expected_1068","Unexpected token. A constructor, method, accessor, or property was expected."),_0_modifier_cannot_appear_on_a_type_member:t(1070,e.DiagnosticCategory.Error,"_0_modifier_cannot_appear_on_a_type_member_1070","'{0}' modifier cannot appear on a type member."),_0_modifier_cannot_appear_on_an_index_signature:t(1071,e.DiagnosticCategory.Error,"_0_modifier_cannot_appear_on_an_index_signature_1071","'{0}' modifier cannot appear on an index signature."),A_0_modifier_cannot_be_used_with_an_import_declaration:t(1079,e.DiagnosticCategory.Error,"A_0_modifier_cannot_be_used_with_an_import_declaration_1079","A '{0}' modifier cannot be used with an import declaration."),Invalid_reference_directive_syntax:t(1084,e.DiagnosticCategory.Error,"Invalid_reference_directive_syntax_1084","Invalid 'reference' directive syntax."),Octal_literals_are_not_available_when_targeting_ECMAScript_5_and_higher_Use_the_syntax_0:t(1085,e.DiagnosticCategory.Error,"Octal_literals_are_not_available_when_targeting_ECMAScript_5_and_higher_Use_the_syntax_0_1085","Octal literals are not available when targeting ECMAScript 5 and higher. Use the syntax '{0}'."),An_accessor_cannot_be_declared_in_an_ambient_context:t(1086,e.DiagnosticCategory.Error,"An_accessor_cannot_be_declared_in_an_ambient_context_1086","An accessor cannot be declared in an ambient context."),_0_modifier_cannot_appear_on_a_constructor_declaration:t(1089,e.DiagnosticCategory.Error,"_0_modifier_cannot_appear_on_a_constructor_declaration_1089","'{0}' modifier cannot appear on a constructor declaration."),_0_modifier_cannot_appear_on_a_parameter:t(1090,e.DiagnosticCategory.Error,"_0_modifier_cannot_appear_on_a_parameter_1090","'{0}' modifier cannot appear on a parameter."),Only_a_single_variable_declaration_is_allowed_in_a_for_in_statement:t(1091,e.DiagnosticCategory.Error,"Only_a_single_variable_declaration_is_allowed_in_a_for_in_statement_1091","Only a single variable declaration is allowed in a 'for...in' statement."),Type_parameters_cannot_appear_on_a_constructor_declaration:t(1092,e.DiagnosticCategory.Error,"Type_parameters_cannot_appear_on_a_constructor_declaration_1092","Type parameters cannot appear on a constructor declaration."),Type_annotation_cannot_appear_on_a_constructor_declaration:t(1093,e.DiagnosticCategory.Error,"Type_annotation_cannot_appear_on_a_constructor_declaration_1093","Type annotation cannot appear on a constructor declaration."),An_accessor_cannot_have_type_parameters:t(1094,e.DiagnosticCategory.Error,"An_accessor_cannot_have_type_parameters_1094","An accessor cannot have type parameters."),A_set_accessor_cannot_have_a_return_type_annotation:t(1095,e.DiagnosticCategory.Error,"A_set_accessor_cannot_have_a_return_type_annotation_1095","A 'set' accessor cannot have a return type annotation."),An_index_signature_must_have_exactly_one_parameter:t(1096,e.DiagnosticCategory.Error,"An_index_signature_must_have_exactly_one_parameter_1096","An index signature must have exactly one parameter."),_0_list_cannot_be_empty:t(1097,e.DiagnosticCategory.Error,"_0_list_cannot_be_empty_1097","'{0}' list cannot be empty."),Type_parameter_list_cannot_be_empty:t(1098,e.DiagnosticCategory.Error,"Type_parameter_list_cannot_be_empty_1098","Type parameter list cannot be empty."),Type_argument_list_cannot_be_empty:t(1099,e.DiagnosticCategory.Error,"Type_argument_list_cannot_be_empty_1099","Type argument list cannot be empty."),Invalid_use_of_0_in_strict_mode:t(1100,e.DiagnosticCategory.Error,"Invalid_use_of_0_in_strict_mode_1100","Invalid use of '{0}' in strict mode."),with_statements_are_not_allowed_in_strict_mode:t(1101,e.DiagnosticCategory.Error,"with_statements_are_not_allowed_in_strict_mode_1101","'with' statements are not allowed in strict mode."),delete_cannot_be_called_on_an_identifier_in_strict_mode:t(1102,e.DiagnosticCategory.Error,"delete_cannot_be_called_on_an_identifier_in_strict_mode_1102","'delete' cannot be called on an identifier in strict mode."),A_for_await_of_statement_is_only_allowed_within_an_async_function_or_async_generator:t(1103,e.DiagnosticCategory.Error,"A_for_await_of_statement_is_only_allowed_within_an_async_function_or_async_generator_1103","A 'for-await-of' statement is only allowed within an async function or async generator."),A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement:t(1104,e.DiagnosticCategory.Error,"A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement_1104","A 'continue' statement can only be used within an enclosing iteration statement."),A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement:t(1105,e.DiagnosticCategory.Error,"A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement_1105","A 'break' statement can only be used within an enclosing iteration or switch statement."),Jump_target_cannot_cross_function_boundary:t(1107,e.DiagnosticCategory.Error,"Jump_target_cannot_cross_function_boundary_1107","Jump target cannot cross function boundary."),A_return_statement_can_only_be_used_within_a_function_body:t(1108,e.DiagnosticCategory.Error,"A_return_statement_can_only_be_used_within_a_function_body_1108","A 'return' statement can only be used within a function body."),Expression_expected:t(1109,e.DiagnosticCategory.Error,"Expression_expected_1109","Expression expected."),Type_expected:t(1110,e.DiagnosticCategory.Error,"Type_expected_1110","Type expected."),A_default_clause_cannot_appear_more_than_once_in_a_switch_statement:t(1113,e.DiagnosticCategory.Error,"A_default_clause_cannot_appear_more_than_once_in_a_switch_statement_1113","A 'default' clause cannot appear more than once in a 'switch' statement."),Duplicate_label_0:t(1114,e.DiagnosticCategory.Error,"Duplicate_label_0_1114","Duplicate label '{0}'."),A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement:t(1115,e.DiagnosticCategory.Error,"A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement_1115","A 'continue' statement can only jump to a label of an enclosing iteration statement."),A_break_statement_can_only_jump_to_a_label_of_an_enclosing_statement:t(1116,e.DiagnosticCategory.Error,"A_break_statement_can_only_jump_to_a_label_of_an_enclosing_statement_1116","A 'break' statement can only jump to a label of an enclosing statement."),An_object_literal_cannot_have_multiple_properties_with_the_same_name_in_strict_mode:t(1117,e.DiagnosticCategory.Error,"An_object_literal_cannot_have_multiple_properties_with_the_same_name_in_strict_mode_1117","An object literal cannot have multiple properties with the same name in strict mode."),An_object_literal_cannot_have_multiple_get_Slashset_accessors_with_the_same_name:t(1118,e.DiagnosticCategory.Error,"An_object_literal_cannot_have_multiple_get_Slashset_accessors_with_the_same_name_1118","An object literal cannot have multiple get/set accessors with the same name."),An_object_literal_cannot_have_property_and_accessor_with_the_same_name:t(1119,e.DiagnosticCategory.Error,"An_object_literal_cannot_have_property_and_accessor_with_the_same_name_1119","An object literal cannot have property and accessor with the same name."),An_export_assignment_cannot_have_modifiers:t(1120,e.DiagnosticCategory.Error,"An_export_assignment_cannot_have_modifiers_1120","An export assignment cannot have modifiers."),Octal_literals_are_not_allowed_in_strict_mode:t(1121,e.DiagnosticCategory.Error,"Octal_literals_are_not_allowed_in_strict_mode_1121","Octal literals are not allowed in strict mode."),A_tuple_type_element_list_cannot_be_empty:t(1122,e.DiagnosticCategory.Error,"A_tuple_type_element_list_cannot_be_empty_1122","A tuple type element list cannot be empty."),Variable_declaration_list_cannot_be_empty:t(1123,e.DiagnosticCategory.Error,"Variable_declaration_list_cannot_be_empty_1123","Variable declaration list cannot be empty."),Digit_expected:t(1124,e.DiagnosticCategory.Error,"Digit_expected_1124","Digit expected."),Hexadecimal_digit_expected:t(1125,e.DiagnosticCategory.Error,"Hexadecimal_digit_expected_1125","Hexadecimal digit expected."),Unexpected_end_of_text:t(1126,e.DiagnosticCategory.Error,"Unexpected_end_of_text_1126","Unexpected end of text."),Invalid_character:t(1127,e.DiagnosticCategory.Error,"Invalid_character_1127","Invalid character."),Declaration_or_statement_expected:t(1128,e.DiagnosticCategory.Error,"Declaration_or_statement_expected_1128","Declaration or statement expected."),Statement_expected:t(1129,e.DiagnosticCategory.Error,"Statement_expected_1129","Statement expected."),case_or_default_expected:t(1130,e.DiagnosticCategory.Error,"case_or_default_expected_1130","'case' or 'default' expected."),Property_or_signature_expected:t(1131,e.DiagnosticCategory.Error,"Property_or_signature_expected_1131","Property or signature expected."),Enum_member_expected:t(1132,e.DiagnosticCategory.Error,"Enum_member_expected_1132","Enum member expected."),Variable_declaration_expected:t(1134,e.DiagnosticCategory.Error,"Variable_declaration_expected_1134","Variable declaration expected."),Argument_expression_expected:t(1135,e.DiagnosticCategory.Error,"Argument_expression_expected_1135","Argument expression expected."),Property_assignment_expected:t(1136,e.DiagnosticCategory.Error,"Property_assignment_expected_1136","Property assignment expected."),Expression_or_comma_expected:t(1137,e.DiagnosticCategory.Error,"Expression_or_comma_expected_1137","Expression or comma expected."),Parameter_declaration_expected:t(1138,e.DiagnosticCategory.Error,"Parameter_declaration_expected_1138","Parameter declaration expected."),Type_parameter_declaration_expected:t(1139,e.DiagnosticCategory.Error,"Type_parameter_declaration_expected_1139","Type parameter declaration expected."),Type_argument_expected:t(1140,e.DiagnosticCategory.Error,"Type_argument_expected_1140","Type argument expected."),String_literal_expected:t(1141,e.DiagnosticCategory.Error,"String_literal_expected_1141","String literal expected."),Line_break_not_permitted_here:t(1142,e.DiagnosticCategory.Error,"Line_break_not_permitted_here_1142","Line break not permitted here."),or_expected:t(1144,e.DiagnosticCategory.Error,"or_expected_1144","'{' or ';' expected."),Declaration_expected:t(1146,e.DiagnosticCategory.Error,"Declaration_expected_1146","Declaration expected."),Import_declarations_in_a_namespace_cannot_reference_a_module:t(1147,e.DiagnosticCategory.Error,"Import_declarations_in_a_namespace_cannot_reference_a_module_1147","Import declarations in a namespace cannot reference a module."),Cannot_use_imports_exports_or_module_augmentations_when_module_is_none:t(1148,e.DiagnosticCategory.Error,"Cannot_use_imports_exports_or_module_augmentations_when_module_is_none_1148","Cannot use imports, exports, or module augmentations when '--module' is 'none'."),File_name_0_differs_from_already_included_file_name_1_only_in_casing:t(1149,e.DiagnosticCategory.Error,"File_name_0_differs_from_already_included_file_name_1_only_in_casing_1149","File name '{0}' differs from already included file name '{1}' only in casing."),new_T_cannot_be_used_to_create_an_array_Use_new_Array_T_instead:t(1150,e.DiagnosticCategory.Error,"new_T_cannot_be_used_to_create_an_array_Use_new_Array_T_instead_1150","'new T[]' cannot be used to create an array. Use 'new Array<T>()' instead."),const_declarations_must_be_initialized:t(1155,e.DiagnosticCategory.Error,"const_declarations_must_be_initialized_1155","'const' declarations must be initialized."),const_declarations_can_only_be_declared_inside_a_block:t(1156,e.DiagnosticCategory.Error,"const_declarations_can_only_be_declared_inside_a_block_1156","'const' declarations can only be declared inside a block."),let_declarations_can_only_be_declared_inside_a_block:t(1157,e.DiagnosticCategory.Error,"let_declarations_can_only_be_declared_inside_a_block_1157","'let' declarations can only be declared inside a block."),Unterminated_template_literal:t(1160,e.DiagnosticCategory.Error,"Unterminated_template_literal_1160","Unterminated template literal."),Unterminated_regular_expression_literal:t(1161,e.DiagnosticCategory.Error,"Unterminated_regular_expression_literal_1161","Unterminated regular expression literal."),An_object_member_cannot_be_declared_optional:t(1162,e.DiagnosticCategory.Error,"An_object_member_cannot_be_declared_optional_1162","An object member cannot be declared optional."),A_yield_expression_is_only_allowed_in_a_generator_body:t(1163,e.DiagnosticCategory.Error,"A_yield_expression_is_only_allowed_in_a_generator_body_1163","A 'yield' expression is only allowed in a generator body."),Computed_property_names_are_not_allowed_in_enums:t(1164,e.DiagnosticCategory.Error,"Computed_property_names_are_not_allowed_in_enums_1164","Computed property names are not allowed in enums."),A_computed_property_name_in_an_ambient_context_must_directly_refer_to_a_built_in_symbol:t(1165,e.DiagnosticCategory.Error,"A_computed_property_name_in_an_ambient_context_must_directly_refer_to_a_built_in_symbol_1165","A computed property name in an ambient context must directly refer to a built-in symbol."),A_computed_property_name_in_a_class_property_declaration_must_directly_refer_to_a_built_in_symbol:t(1166,e.DiagnosticCategory.Error,"A_computed_property_name_in_a_class_property_declaration_must_directly_refer_to_a_built_in_symbol_1166","A computed property name in a class property declaration must directly refer to a built-in symbol."),A_computed_property_name_in_a_method_overload_must_directly_refer_to_a_built_in_symbol:t(1168,e.DiagnosticCategory.Error,"A_computed_property_name_in_a_method_overload_must_directly_refer_to_a_built_in_symbol_1168","A computed property name in a method overload must directly refer to a built-in symbol."),A_computed_property_name_in_an_interface_must_directly_refer_to_a_built_in_symbol:t(1169,e.DiagnosticCategory.Error,"A_computed_property_name_in_an_interface_must_directly_refer_to_a_built_in_symbol_1169","A computed property name in an interface must directly refer to a built-in symbol."),A_computed_property_name_in_a_type_literal_must_directly_refer_to_a_built_in_symbol:t(1170,e.DiagnosticCategory.Error,"A_computed_property_name_in_a_type_literal_must_directly_refer_to_a_built_in_symbol_1170","A computed property name in a type literal must directly refer to a built-in symbol."),A_comma_expression_is_not_allowed_in_a_computed_property_name:t(1171,e.DiagnosticCategory.Error,"A_comma_expression_is_not_allowed_in_a_computed_property_name_1171","A comma expression is not allowed in a computed property name."),extends_clause_already_seen:t(1172,e.DiagnosticCategory.Error,"extends_clause_already_seen_1172","'extends' clause already seen."),extends_clause_must_precede_implements_clause:t(1173,e.DiagnosticCategory.Error,"extends_clause_must_precede_implements_clause_1173","'extends' clause must precede 'implements' clause."),Classes_can_only_extend_a_single_class:t(1174,e.DiagnosticCategory.Error,"Classes_can_only_extend_a_single_class_1174","Classes can only extend a single class."),implements_clause_already_seen:t(1175,e.DiagnosticCategory.Error,"implements_clause_already_seen_1175","'implements' clause already seen."),Interface_declaration_cannot_have_implements_clause:t(1176,e.DiagnosticCategory.Error,"Interface_declaration_cannot_have_implements_clause_1176","Interface declaration cannot have 'implements' clause."),Binary_digit_expected:t(1177,e.DiagnosticCategory.Error,"Binary_digit_expected_1177","Binary digit expected."),Octal_digit_expected:t(1178,e.DiagnosticCategory.Error,"Octal_digit_expected_1178","Octal digit expected."),Unexpected_token_expected:t(1179,e.DiagnosticCategory.Error,"Unexpected_token_expected_1179","Unexpected token. '{' expected."),Property_destructuring_pattern_expected:t(1180,e.DiagnosticCategory.Error,"Property_destructuring_pattern_expected_1180","Property destructuring pattern expected."),Array_element_destructuring_pattern_expected:t(1181,e.DiagnosticCategory.Error,"Array_element_destructuring_pattern_expected_1181","Array element destructuring pattern expected."),A_destructuring_declaration_must_have_an_initializer:t(1182,e.DiagnosticCategory.Error,"A_destructuring_declaration_must_have_an_initializer_1182","A destructuring declaration must have an initializer."),An_implementation_cannot_be_declared_in_ambient_contexts:t(1183,e.DiagnosticCategory.Error,"An_implementation_cannot_be_declared_in_ambient_contexts_1183","An implementation cannot be declared in ambient contexts."),Modifiers_cannot_appear_here:t(1184,e.DiagnosticCategory.Error,"Modifiers_cannot_appear_here_1184","Modifiers cannot appear here."),Merge_conflict_marker_encountered:t(1185,e.DiagnosticCategory.Error,"Merge_conflict_marker_encountered_1185","Merge conflict marker encountered."),A_rest_element_cannot_have_an_initializer:t(1186,e.DiagnosticCategory.Error,"A_rest_element_cannot_have_an_initializer_1186","A rest element cannot have an initializer."),A_parameter_property_may_not_be_declared_using_a_binding_pattern:t(1187,e.DiagnosticCategory.Error,"A_parameter_property_may_not_be_declared_using_a_binding_pattern_1187","A parameter property may not be declared using a binding pattern."),Only_a_single_variable_declaration_is_allowed_in_a_for_of_statement:t(1188,e.DiagnosticCategory.Error,"Only_a_single_variable_declaration_is_allowed_in_a_for_of_statement_1188","Only a single variable declaration is allowed in a 'for...of' statement."),The_variable_declaration_of_a_for_in_statement_cannot_have_an_initializer:t(1189,e.DiagnosticCategory.Error,"The_variable_declaration_of_a_for_in_statement_cannot_have_an_initializer_1189","The variable declaration of a 'for...in' statement cannot have an initializer."),The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer:t(1190,e.DiagnosticCategory.Error,"The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer_1190","The variable declaration of a 'for...of' statement cannot have an initializer."),An_import_declaration_cannot_have_modifiers:t(1191,e.DiagnosticCategory.Error,"An_import_declaration_cannot_have_modifiers_1191","An import declaration cannot have modifiers."),Module_0_has_no_default_export:t(1192,e.DiagnosticCategory.Error,"Module_0_has_no_default_export_1192","Module '{0}' has no default export."),An_export_declaration_cannot_have_modifiers:t(1193,e.DiagnosticCategory.Error,"An_export_declaration_cannot_have_modifiers_1193","An export declaration cannot have modifiers."),Export_declarations_are_not_permitted_in_a_namespace:t(1194,e.DiagnosticCategory.Error,"Export_declarations_are_not_permitted_in_a_namespace_1194","Export declarations are not permitted in a namespace."),Catch_clause_variable_cannot_have_a_type_annotation:t(1196,e.DiagnosticCategory.Error,"Catch_clause_variable_cannot_have_a_type_annotation_1196","Catch clause variable cannot have a type annotation."),Catch_clause_variable_cannot_have_an_initializer:t(1197,e.DiagnosticCategory.Error,"Catch_clause_variable_cannot_have_an_initializer_1197","Catch clause variable cannot have an initializer."),An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive:t(1198,e.DiagnosticCategory.Error,"An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive_1198","An extended Unicode escape value must be between 0x0 and 0x10FFFF inclusive."),Unterminated_Unicode_escape_sequence:t(1199,e.DiagnosticCategory.Error,"Unterminated_Unicode_escape_sequence_1199","Unterminated Unicode escape sequence."),Line_terminator_not_permitted_before_arrow:t(1200,e.DiagnosticCategory.Error,"Line_terminator_not_permitted_before_arrow_1200","Line terminator not permitted before arrow."),Import_assignment_cannot_be_used_when_targeting_ECMAScript_modules_Consider_using_import_Asterisk_as_ns_from_mod_import_a_from_mod_import_d_from_mod_or_another_module_format_instead:t(1202,e.DiagnosticCategory.Error,"Import_assignment_cannot_be_used_when_targeting_ECMAScript_modules_Consider_using_import_Asterisk_as_1202","Import assignment cannot be used when targeting ECMAScript modules. Consider using 'import * as ns from \"mod\"', 'import {a} from \"mod\"', 'import d from \"mod\"', or another module format instead."),Export_assignment_cannot_be_used_when_targeting_ECMAScript_modules_Consider_using_export_default_or_another_module_format_instead:t(1203,e.DiagnosticCategory.Error,"Export_assignment_cannot_be_used_when_targeting_ECMAScript_modules_Consider_using_export_default_or__1203","Export assignment cannot be used when targeting ECMAScript modules. Consider using 'export default' or another module format instead."),Cannot_re_export_a_type_when_the_isolatedModules_flag_is_provided:t(1205,e.DiagnosticCategory.Error,"Cannot_re_export_a_type_when_the_isolatedModules_flag_is_provided_1205","Cannot re-export a type when the '--isolatedModules' flag is provided."),Decorators_are_not_valid_here:t(1206,e.DiagnosticCategory.Error,"Decorators_are_not_valid_here_1206","Decorators are not valid here."),Decorators_cannot_be_applied_to_multiple_get_Slashset_accessors_of_the_same_name:t(1207,e.DiagnosticCategory.Error,"Decorators_cannot_be_applied_to_multiple_get_Slashset_accessors_of_the_same_name_1207","Decorators cannot be applied to multiple get/set accessors of the same name."),Cannot_compile_namespaces_when_the_isolatedModules_flag_is_provided:t(1208,e.DiagnosticCategory.Error,"Cannot_compile_namespaces_when_the_isolatedModules_flag_is_provided_1208","Cannot compile namespaces when the '--isolatedModules' flag is provided."),Ambient_const_enums_are_not_allowed_when_the_isolatedModules_flag_is_provided:t(1209,e.DiagnosticCategory.Error,"Ambient_const_enums_are_not_allowed_when_the_isolatedModules_flag_is_provided_1209","Ambient const enums are not allowed when the '--isolatedModules' flag is provided."),Invalid_use_of_0_Class_definitions_are_automatically_in_strict_mode:t(1210,e.DiagnosticCategory.Error,"Invalid_use_of_0_Class_definitions_are_automatically_in_strict_mode_1210","Invalid use of '{0}'. Class definitions are automatically in strict mode."),A_class_declaration_without_the_default_modifier_must_have_a_name:t(1211,e.DiagnosticCategory.Error,"A_class_declaration_without_the_default_modifier_must_have_a_name_1211","A class declaration without the 'default' modifier must have a name."),Identifier_expected_0_is_a_reserved_word_in_strict_mode:t(1212,e.DiagnosticCategory.Error,"Identifier_expected_0_is_a_reserved_word_in_strict_mode_1212","Identifier expected. '{0}' is a reserved word in strict mode."),Identifier_expected_0_is_a_reserved_word_in_strict_mode_Class_definitions_are_automatically_in_strict_mode:t(1213,e.DiagnosticCategory.Error,"Identifier_expected_0_is_a_reserved_word_in_strict_mode_Class_definitions_are_automatically_in_stric_1213","Identifier expected. '{0}' is a reserved word in strict mode. Class definitions are automatically in strict mode."),Identifier_expected_0_is_a_reserved_word_in_strict_mode_Modules_are_automatically_in_strict_mode:t(1214,e.DiagnosticCategory.Error,"Identifier_expected_0_is_a_reserved_word_in_strict_mode_Modules_are_automatically_in_strict_mode_1214","Identifier expected. '{0}' is a reserved word in strict mode. Modules are automatically in strict mode."),Invalid_use_of_0_Modules_are_automatically_in_strict_mode:t(1215,e.DiagnosticCategory.Error,"Invalid_use_of_0_Modules_are_automatically_in_strict_mode_1215","Invalid use of '{0}'. Modules are automatically in strict mode."),Identifier_expected_esModule_is_reserved_as_an_exported_marker_when_transforming_ECMAScript_modules:t(1216,e.DiagnosticCategory.Error,"Identifier_expected_esModule_is_reserved_as_an_exported_marker_when_transforming_ECMAScript_modules_1216","Identifier expected. '__esModule' is reserved as an exported marker when transforming ECMAScript modules."),Export_assignment_is_not_supported_when_module_flag_is_system:t(1218,e.DiagnosticCategory.Error,"Export_assignment_is_not_supported_when_module_flag_is_system_1218","Export assignment is not supported when '--module' flag is 'system'."),Experimental_support_for_decorators_is_a_feature_that_is_subject_to_change_in_a_future_release_Set_the_experimentalDecorators_option_to_remove_this_warning:t(1219,e.DiagnosticCategory.Error,"Experimental_support_for_decorators_is_a_feature_that_is_subject_to_change_in_a_future_release_Set_t_1219","Experimental support for decorators is a feature that is subject to change in a future release. Set the 'experimentalDecorators' option to remove this warning."),Generators_are_only_available_when_targeting_ECMAScript_2015_or_higher:t(1220,e.DiagnosticCategory.Error,"Generators_are_only_available_when_targeting_ECMAScript_2015_or_higher_1220","Generators are only available when targeting ECMAScript 2015 or higher."),Generators_are_not_allowed_in_an_ambient_context:t(1221,e.DiagnosticCategory.Error,"Generators_are_not_allowed_in_an_ambient_context_1221","Generators are not allowed in an ambient context."),An_overload_signature_cannot_be_declared_as_a_generator:t(1222,e.DiagnosticCategory.Error,"An_overload_signature_cannot_be_declared_as_a_generator_1222","An overload signature cannot be declared as a generator."),_0_tag_already_specified:t(1223,e.DiagnosticCategory.Error,"_0_tag_already_specified_1223","'{0}' tag already specified."),Signature_0_must_be_a_type_predicate:t(1224,e.DiagnosticCategory.Error,"Signature_0_must_be_a_type_predicate_1224","Signature '{0}' must be a type predicate."),Cannot_find_parameter_0:t(1225,e.DiagnosticCategory.Error,"Cannot_find_parameter_0_1225","Cannot find parameter '{0}'."),Type_predicate_0_is_not_assignable_to_1:t(1226,e.DiagnosticCategory.Error,"Type_predicate_0_is_not_assignable_to_1_1226","Type predicate '{0}' is not assignable to '{1}'."),Parameter_0_is_not_in_the_same_position_as_parameter_1:t(1227,e.DiagnosticCategory.Error,"Parameter_0_is_not_in_the_same_position_as_parameter_1_1227","Parameter '{0}' is not in the same position as parameter '{1}'."),A_type_predicate_is_only_allowed_in_return_type_position_for_functions_and_methods:t(1228,e.DiagnosticCategory.Error,"A_type_predicate_is_only_allowed_in_return_type_position_for_functions_and_methods_1228","A type predicate is only allowed in return type position for functions and methods."),A_type_predicate_cannot_reference_a_rest_parameter:t(1229,e.DiagnosticCategory.Error,"A_type_predicate_cannot_reference_a_rest_parameter_1229","A type predicate cannot reference a rest parameter."),A_type_predicate_cannot_reference_element_0_in_a_binding_pattern:t(1230,e.DiagnosticCategory.Error,"A_type_predicate_cannot_reference_element_0_in_a_binding_pattern_1230","A type predicate cannot reference element '{0}' in a binding pattern."),An_export_assignment_can_only_be_used_in_a_module:t(1231,e.DiagnosticCategory.Error,"An_export_assignment_can_only_be_used_in_a_module_1231","An export assignment can only be used in a module."),An_import_declaration_can_only_be_used_in_a_namespace_or_module:t(1232,e.DiagnosticCategory.Error,"An_import_declaration_can_only_be_used_in_a_namespace_or_module_1232","An import declaration can only be used in a namespace or module."),An_export_declaration_can_only_be_used_in_a_module:t(1233,e.DiagnosticCategory.Error,"An_export_declaration_can_only_be_used_in_a_module_1233","An export declaration can only be used in a module."),An_ambient_module_declaration_is_only_allowed_at_the_top_level_in_a_file:t(1234,e.DiagnosticCategory.Error,"An_ambient_module_declaration_is_only_allowed_at_the_top_level_in_a_file_1234","An ambient module declaration is only allowed at the top level in a file."),A_namespace_declaration_is_only_allowed_in_a_namespace_or_module:t(1235,e.DiagnosticCategory.Error,"A_namespace_declaration_is_only_allowed_in_a_namespace_or_module_1235","A namespace declaration is only allowed in a namespace or module."),The_return_type_of_a_property_decorator_function_must_be_either_void_or_any:t(1236,e.DiagnosticCategory.Error,"The_return_type_of_a_property_decorator_function_must_be_either_void_or_any_1236","The return type of a property decorator function must be either 'void' or 'any'."),The_return_type_of_a_parameter_decorator_function_must_be_either_void_or_any:t(1237,e.DiagnosticCategory.Error,"The_return_type_of_a_parameter_decorator_function_must_be_either_void_or_any_1237","The return type of a parameter decorator function must be either 'void' or 'any'."),Unable_to_resolve_signature_of_class_decorator_when_called_as_an_expression:t(1238,e.DiagnosticCategory.Error,"Unable_to_resolve_signature_of_class_decorator_when_called_as_an_expression_1238","Unable to resolve signature of class decorator when called as an expression."),Unable_to_resolve_signature_of_parameter_decorator_when_called_as_an_expression:t(1239,e.DiagnosticCategory.Error,"Unable_to_resolve_signature_of_parameter_decorator_when_called_as_an_expression_1239","Unable to resolve signature of parameter decorator when called as an expression."),Unable_to_resolve_signature_of_property_decorator_when_called_as_an_expression:t(1240,e.DiagnosticCategory.Error,"Unable_to_resolve_signature_of_property_decorator_when_called_as_an_expression_1240","Unable to resolve signature of property decorator when called as an expression."),Unable_to_resolve_signature_of_method_decorator_when_called_as_an_expression:t(1241,e.DiagnosticCategory.Error,"Unable_to_resolve_signature_of_method_decorator_when_called_as_an_expression_1241","Unable to resolve signature of method decorator when called as an expression."),abstract_modifier_can_only_appear_on_a_class_method_or_property_declaration:t(1242,e.DiagnosticCategory.Error,"abstract_modifier_can_only_appear_on_a_class_method_or_property_declaration_1242","'abstract' modifier can only appear on a class, method, or property declaration."),_0_modifier_cannot_be_used_with_1_modifier:t(1243,e.DiagnosticCategory.Error,"_0_modifier_cannot_be_used_with_1_modifier_1243","'{0}' modifier cannot be used with '{1}' modifier."),Abstract_methods_can_only_appear_within_an_abstract_class:t(1244,e.DiagnosticCategory.Error,"Abstract_methods_can_only_appear_within_an_abstract_class_1244","Abstract methods can only appear within an abstract class."),Method_0_cannot_have_an_implementation_because_it_is_marked_abstract:t(1245,e.DiagnosticCategory.Error,"Method_0_cannot_have_an_implementation_because_it_is_marked_abstract_1245","Method '{0}' cannot have an implementation because it is marked abstract."),An_interface_property_cannot_have_an_initializer:t(1246,e.DiagnosticCategory.Error,"An_interface_property_cannot_have_an_initializer_1246","An interface property cannot have an initializer."),A_type_literal_property_cannot_have_an_initializer:t(1247,e.DiagnosticCategory.Error,"A_type_literal_property_cannot_have_an_initializer_1247","A type literal property cannot have an initializer."),A_class_member_cannot_have_the_0_keyword:t(1248,e.DiagnosticCategory.Error,"A_class_member_cannot_have_the_0_keyword_1248","A class member cannot have the '{0}' keyword."),A_decorator_can_only_decorate_a_method_implementation_not_an_overload:t(1249,e.DiagnosticCategory.Error,"A_decorator_can_only_decorate_a_method_implementation_not_an_overload_1249","A decorator can only decorate a method implementation, not an overload."),Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5:t(1250,e.DiagnosticCategory.Error,"Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_1250","Function declarations are not allowed inside blocks in strict mode when targeting 'ES3' or 'ES5'."),Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_Class_definitions_are_automatically_in_strict_mode:t(1251,e.DiagnosticCategory.Error,"Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_Class_d_1251","Function declarations are not allowed inside blocks in strict mode when targeting 'ES3' or 'ES5'. Class definitions are automatically in strict mode."),Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_Modules_are_automatically_in_strict_mode:t(1252,e.DiagnosticCategory.Error,"Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_Modules_1252","Function declarations are not allowed inside blocks in strict mode when targeting 'ES3' or 'ES5'. Modules are automatically in strict mode."),_0_tag_cannot_be_used_independently_as_a_top_level_JSDoc_tag:t(1253,e.DiagnosticCategory.Error,"_0_tag_cannot_be_used_independently_as_a_top_level_JSDoc_tag_1253","'{0}' tag cannot be used independently as a top level JSDoc tag."),A_const_initializer_in_an_ambient_context_must_be_a_string_or_numeric_literal:t(1254,e.DiagnosticCategory.Error,"A_const_initializer_in_an_ambient_context_must_be_a_string_or_numeric_literal_1254","A 'const' initializer in an ambient context must be a string or numeric literal."),with_statements_are_not_allowed_in_an_async_function_block:t(1300,e.DiagnosticCategory.Error,"with_statements_are_not_allowed_in_an_async_function_block_1300","'with' statements are not allowed in an async function block."),await_expression_is_only_allowed_within_an_async_function:t(1308,e.DiagnosticCategory.Error,"await_expression_is_only_allowed_within_an_async_function_1308","'await' expression is only allowed within an async function."),can_only_be_used_in_an_object_literal_property_inside_a_destructuring_assignment:t(1312,e.DiagnosticCategory.Error,"can_only_be_used_in_an_object_literal_property_inside_a_destructuring_assignment_1312","'=' can only be used in an object literal property inside a destructuring assignment."),The_body_of_an_if_statement_cannot_be_the_empty_statement:t(1313,e.DiagnosticCategory.Error,"The_body_of_an_if_statement_cannot_be_the_empty_statement_1313","The body of an 'if' statement cannot be the empty statement."),Global_module_exports_may_only_appear_in_module_files:t(1314,e.DiagnosticCategory.Error,"Global_module_exports_may_only_appear_in_module_files_1314","Global module exports may only appear in module files."),Global_module_exports_may_only_appear_in_declaration_files:t(1315,e.DiagnosticCategory.Error,"Global_module_exports_may_only_appear_in_declaration_files_1315","Global module exports may only appear in declaration files."),Global_module_exports_may_only_appear_at_top_level:t(1316,e.DiagnosticCategory.Error,"Global_module_exports_may_only_appear_at_top_level_1316","Global module exports may only appear at top level."),A_parameter_property_cannot_be_declared_using_a_rest_parameter:t(1317,e.DiagnosticCategory.Error,"A_parameter_property_cannot_be_declared_using_a_rest_parameter_1317","A parameter property cannot be declared using a rest parameter."),An_abstract_accessor_cannot_have_an_implementation:t(1318,e.DiagnosticCategory.Error,"An_abstract_accessor_cannot_have_an_implementation_1318","An abstract accessor cannot have an implementation."),A_default_export_can_only_be_used_in_an_ECMAScript_style_module:t(1319,e.DiagnosticCategory.Error,"A_default_export_can_only_be_used_in_an_ECMAScript_style_module_1319","A default export can only be used in an ECMAScript-style module."),Type_of_await_operand_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member:t(1320,e.DiagnosticCategory.Error,"Type_of_await_operand_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member_1320","Type of 'await' operand must either be a valid promise or must not contain a callable 'then' member."),Type_of_yield_operand_in_an_async_generator_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member:t(1321,e.DiagnosticCategory.Error,"Type_of_yield_operand_in_an_async_generator_must_either_be_a_valid_promise_or_must_not_contain_a_cal_1321","Type of 'yield' operand in an async generator must either be a valid promise or must not contain a callable 'then' member."),Type_of_iterated_elements_of_a_yield_Asterisk_operand_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member:t(1322,e.DiagnosticCategory.Error,"Type_of_iterated_elements_of_a_yield_Asterisk_operand_must_either_be_a_valid_promise_or_must_not_con_1322","Type of iterated elements of a 'yield*' operand must either be a valid promise or must not contain a callable 'then' member."),Dynamic_import_cannot_be_used_when_targeting_ECMAScript_2015_modules:t(1323,e.DiagnosticCategory.Error,"Dynamic_import_cannot_be_used_when_targeting_ECMAScript_2015_modules_1323","Dynamic import cannot be used when targeting ECMAScript 2015 modules."),Dynamic_import_must_have_one_specifier_as_an_argument:t(1324,e.DiagnosticCategory.Error,"Dynamic_import_must_have_one_specifier_as_an_argument_1324","Dynamic import must have one specifier as an argument."),Specifier_of_dynamic_import_cannot_be_spread_element:t(1325,e.DiagnosticCategory.Error,"Specifier_of_dynamic_import_cannot_be_spread_element_1325","Specifier of dynamic import cannot be spread element."),Dynamic_import_cannot_have_type_arguments:t(1326,e.DiagnosticCategory.Error,"Dynamic_import_cannot_have_type_arguments_1326","Dynamic import cannot have type arguments"),String_literal_with_double_quotes_expected:t(1327,e.DiagnosticCategory.Error,"String_literal_with_double_quotes_expected_1327","String literal with double quotes expected."),Property_value_can_only_be_string_literal_numeric_literal_true_false_null_object_literal_or_array_literal:t(1328,e.DiagnosticCategory.Error,"Property_value_can_only_be_string_literal_numeric_literal_true_false_null_object_literal_or_array_li_1328","Property value can only be string literal, numeric literal, 'true', 'false', 'null', object literal or array literal."),_0_accepts_too_few_arguments_to_be_used_as_a_decorator_here_Did_you_mean_to_call_it_first_and_write_0:t(1329,e.DiagnosticCategory.Error,"_0_accepts_too_few_arguments_to_be_used_as_a_decorator_here_Did_you_mean_to_call_it_first_and_write__1329","'{0}' accepts too few arguments to be used as a decorator here. Did you mean to call it first and write '@{0}()'?"),Duplicate_identifier_0:t(2300,e.DiagnosticCategory.Error,"Duplicate_identifier_0_2300","Duplicate identifier '{0}'."),Initializer_of_instance_member_variable_0_cannot_reference_identifier_1_declared_in_the_constructor:t(2301,e.DiagnosticCategory.Error,"Initializer_of_instance_member_variable_0_cannot_reference_identifier_1_declared_in_the_constructor_2301","Initializer of instance member variable '{0}' cannot reference identifier '{1}' declared in the constructor."),Static_members_cannot_reference_class_type_parameters:t(2302,e.DiagnosticCategory.Error,"Static_members_cannot_reference_class_type_parameters_2302","Static members cannot reference class type parameters."),Circular_definition_of_import_alias_0:t(2303,e.DiagnosticCategory.Error,"Circular_definition_of_import_alias_0_2303","Circular definition of import alias '{0}'."),Cannot_find_name_0:t(2304,e.DiagnosticCategory.Error,"Cannot_find_name_0_2304","Cannot find name '{0}'."),Module_0_has_no_exported_member_1:t(2305,e.DiagnosticCategory.Error,"Module_0_has_no_exported_member_1_2305","Module '{0}' has no exported member '{1}'."),File_0_is_not_a_module:t(2306,e.DiagnosticCategory.Error,"File_0_is_not_a_module_2306","File '{0}' is not a module."),Cannot_find_module_0:t(2307,e.DiagnosticCategory.Error,"Cannot_find_module_0_2307","Cannot find module '{0}'."),Module_0_has_already_exported_a_member_named_1_Consider_explicitly_re_exporting_to_resolve_the_ambiguity:t(2308,e.DiagnosticCategory.Error,"Module_0_has_already_exported_a_member_named_1_Consider_explicitly_re_exporting_to_resolve_the_ambig_2308","Module {0} has already exported a member named '{1}'. Consider explicitly re-exporting to resolve the ambiguity."),An_export_assignment_cannot_be_used_in_a_module_with_other_exported_elements:t(2309,e.DiagnosticCategory.Error,"An_export_assignment_cannot_be_used_in_a_module_with_other_exported_elements_2309","An export assignment cannot be used in a module with other exported elements."),Type_0_recursively_references_itself_as_a_base_type:t(2310,e.DiagnosticCategory.Error,"Type_0_recursively_references_itself_as_a_base_type_2310","Type '{0}' recursively references itself as a base type."),A_class_may_only_extend_another_class:t(2311,e.DiagnosticCategory.Error,"A_class_may_only_extend_another_class_2311","A class may only extend another class."),An_interface_may_only_extend_a_class_or_another_interface:t(2312,e.DiagnosticCategory.Error,"An_interface_may_only_extend_a_class_or_another_interface_2312","An interface may only extend a class or another interface."),Type_parameter_0_has_a_circular_constraint:t(2313,e.DiagnosticCategory.Error,"Type_parameter_0_has_a_circular_constraint_2313","Type parameter '{0}' has a circular constraint."),Generic_type_0_requires_1_type_argument_s:t(2314,e.DiagnosticCategory.Error,"Generic_type_0_requires_1_type_argument_s_2314","Generic type '{0}' requires {1} type argument(s)."),Type_0_is_not_generic:t(2315,e.DiagnosticCategory.Error,"Type_0_is_not_generic_2315","Type '{0}' is not generic."),Global_type_0_must_be_a_class_or_interface_type:t(2316,e.DiagnosticCategory.Error,"Global_type_0_must_be_a_class_or_interface_type_2316","Global type '{0}' must be a class or interface type."),Global_type_0_must_have_1_type_parameter_s:t(2317,e.DiagnosticCategory.Error,"Global_type_0_must_have_1_type_parameter_s_2317","Global type '{0}' must have {1} type parameter(s)."),Cannot_find_global_type_0:t(2318,e.DiagnosticCategory.Error,"Cannot_find_global_type_0_2318","Cannot find global type '{0}'."),Named_property_0_of_types_1_and_2_are_not_identical:t(2319,e.DiagnosticCategory.Error,"Named_property_0_of_types_1_and_2_are_not_identical_2319","Named property '{0}' of types '{1}' and '{2}' are not identical."),Interface_0_cannot_simultaneously_extend_types_1_and_2:t(2320,e.DiagnosticCategory.Error,"Interface_0_cannot_simultaneously_extend_types_1_and_2_2320","Interface '{0}' cannot simultaneously extend types '{1}' and '{2}'."),Excessive_stack_depth_comparing_types_0_and_1:t(2321,e.DiagnosticCategory.Error,"Excessive_stack_depth_comparing_types_0_and_1_2321","Excessive stack depth comparing types '{0}' and '{1}'."),Type_0_is_not_assignable_to_type_1:t(2322,e.DiagnosticCategory.Error,"Type_0_is_not_assignable_to_type_1_2322","Type '{0}' is not assignable to type '{1}'."),Cannot_redeclare_exported_variable_0:t(2323,e.DiagnosticCategory.Error,"Cannot_redeclare_exported_variable_0_2323","Cannot redeclare exported variable '{0}'."),Property_0_is_missing_in_type_1:t(2324,e.DiagnosticCategory.Error,"Property_0_is_missing_in_type_1_2324","Property '{0}' is missing in type '{1}'."),Property_0_is_private_in_type_1_but_not_in_type_2:t(2325,e.DiagnosticCategory.Error,"Property_0_is_private_in_type_1_but_not_in_type_2_2325","Property '{0}' is private in type '{1}' but not in type '{2}'."),Types_of_property_0_are_incompatible:t(2326,e.DiagnosticCategory.Error,"Types_of_property_0_are_incompatible_2326","Types of property '{0}' are incompatible."),Property_0_is_optional_in_type_1_but_required_in_type_2:t(2327,e.DiagnosticCategory.Error,"Property_0_is_optional_in_type_1_but_required_in_type_2_2327","Property '{0}' is optional in type '{1}' but required in type '{2}'."),Types_of_parameters_0_and_1_are_incompatible:t(2328,e.DiagnosticCategory.Error,"Types_of_parameters_0_and_1_are_incompatible_2328","Types of parameters '{0}' and '{1}' are incompatible."),Index_signature_is_missing_in_type_0:t(2329,e.DiagnosticCategory.Error,"Index_signature_is_missing_in_type_0_2329","Index signature is missing in type '{0}'."),Index_signatures_are_incompatible:t(2330,e.DiagnosticCategory.Error,"Index_signatures_are_incompatible_2330","Index signatures are incompatible."),this_cannot_be_referenced_in_a_module_or_namespace_body:t(2331,e.DiagnosticCategory.Error,"this_cannot_be_referenced_in_a_module_or_namespace_body_2331","'this' cannot be referenced in a module or namespace body."),this_cannot_be_referenced_in_current_location:t(2332,e.DiagnosticCategory.Error,"this_cannot_be_referenced_in_current_location_2332","'this' cannot be referenced in current location."),this_cannot_be_referenced_in_constructor_arguments:t(2333,e.DiagnosticCategory.Error,"this_cannot_be_referenced_in_constructor_arguments_2333","'this' cannot be referenced in constructor arguments."),this_cannot_be_referenced_in_a_static_property_initializer:t(2334,e.DiagnosticCategory.Error,"this_cannot_be_referenced_in_a_static_property_initializer_2334","'this' cannot be referenced in a static property initializer."),super_can_only_be_referenced_in_a_derived_class:t(2335,e.DiagnosticCategory.Error,"super_can_only_be_referenced_in_a_derived_class_2335","'super' can only be referenced in a derived class."),super_cannot_be_referenced_in_constructor_arguments:t(2336,e.DiagnosticCategory.Error,"super_cannot_be_referenced_in_constructor_arguments_2336","'super' cannot be referenced in constructor arguments."),Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors:t(2337,e.DiagnosticCategory.Error,"Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors_2337","Super calls are not permitted outside constructors or in nested functions inside constructors."),super_property_access_is_permitted_only_in_a_constructor_member_function_or_member_accessor_of_a_derived_class:t(2338,e.DiagnosticCategory.Error,"super_property_access_is_permitted_only_in_a_constructor_member_function_or_member_accessor_of_a_der_2338","'super' property access is permitted only in a constructor, member function, or member accessor of a derived class."),Property_0_does_not_exist_on_type_1:t(2339,e.DiagnosticCategory.Error,"Property_0_does_not_exist_on_type_1_2339","Property '{0}' does not exist on type '{1}'."),Only_public_and_protected_methods_of_the_base_class_are_accessible_via_the_super_keyword:t(2340,e.DiagnosticCategory.Error,"Only_public_and_protected_methods_of_the_base_class_are_accessible_via_the_super_keyword_2340","Only public and protected methods of the base class are accessible via the 'super' keyword."),Property_0_is_private_and_only_accessible_within_class_1:t(2341,e.DiagnosticCategory.Error,"Property_0_is_private_and_only_accessible_within_class_1_2341","Property '{0}' is private and only accessible within class '{1}'."),An_index_expression_argument_must_be_of_type_string_number_symbol_or_any:t(2342,e.DiagnosticCategory.Error,"An_index_expression_argument_must_be_of_type_string_number_symbol_or_any_2342","An index expression argument must be of type 'string', 'number', 'symbol', or 'any'."),This_syntax_requires_an_imported_helper_named_1_but_module_0_has_no_exported_member_1:t(2343,e.DiagnosticCategory.Error,"This_syntax_requires_an_imported_helper_named_1_but_module_0_has_no_exported_member_1_2343","This syntax requires an imported helper named '{1}', but module '{0}' has no exported member '{1}'."),Type_0_does_not_satisfy_the_constraint_1:t(2344,e.DiagnosticCategory.Error,"Type_0_does_not_satisfy_the_constraint_1_2344","Type '{0}' does not satisfy the constraint '{1}'."),Argument_of_type_0_is_not_assignable_to_parameter_of_type_1:t(2345,e.DiagnosticCategory.Error,"Argument_of_type_0_is_not_assignable_to_parameter_of_type_1_2345","Argument of type '{0}' is not assignable to parameter of type '{1}'."),Call_target_does_not_contain_any_signatures:t(2346,e.DiagnosticCategory.Error,"Call_target_does_not_contain_any_signatures_2346","Call target does not contain any signatures."),Untyped_function_calls_may_not_accept_type_arguments:t(2347,e.DiagnosticCategory.Error,"Untyped_function_calls_may_not_accept_type_arguments_2347","Untyped function calls may not accept type arguments."),Value_of_type_0_is_not_callable_Did_you_mean_to_include_new:t(2348,e.DiagnosticCategory.Error,"Value_of_type_0_is_not_callable_Did_you_mean_to_include_new_2348","Value of type '{0}' is not callable. Did you mean to include 'new'?"),Cannot_invoke_an_expression_whose_type_lacks_a_call_signature_Type_0_has_no_compatible_call_signatures:t(2349,e.DiagnosticCategory.Error,"Cannot_invoke_an_expression_whose_type_lacks_a_call_signature_Type_0_has_no_compatible_call_signatur_2349","Cannot invoke an expression whose type lacks a call signature. Type '{0}' has no compatible call signatures."),Only_a_void_function_can_be_called_with_the_new_keyword:t(2350,e.DiagnosticCategory.Error,"Only_a_void_function_can_be_called_with_the_new_keyword_2350","Only a void function can be called with the 'new' keyword."),Cannot_use_new_with_an_expression_whose_type_lacks_a_call_or_construct_signature:t(2351,e.DiagnosticCategory.Error,"Cannot_use_new_with_an_expression_whose_type_lacks_a_call_or_construct_signature_2351","Cannot use 'new' with an expression whose type lacks a call or construct signature."),Type_0_cannot_be_converted_to_type_1:t(2352,e.DiagnosticCategory.Error,"Type_0_cannot_be_converted_to_type_1_2352","Type '{0}' cannot be converted to type '{1}'."),Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1:t(2353,e.DiagnosticCategory.Error,"Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1_2353","Object literal may only specify known properties, and '{0}' does not exist in type '{1}'."),This_syntax_requires_an_imported_helper_but_module_0_cannot_be_found:t(2354,e.DiagnosticCategory.Error,"This_syntax_requires_an_imported_helper_but_module_0_cannot_be_found_2354","This syntax requires an imported helper but module '{0}' cannot be found."),A_function_whose_declared_type_is_neither_void_nor_any_must_return_a_value:t(2355,e.DiagnosticCategory.Error,"A_function_whose_declared_type_is_neither_void_nor_any_must_return_a_value_2355","A function whose declared type is neither 'void' nor 'any' must return a value."),An_arithmetic_operand_must_be_of_type_any_number_or_an_enum_type:t(2356,e.DiagnosticCategory.Error,"An_arithmetic_operand_must_be_of_type_any_number_or_an_enum_type_2356","An arithmetic operand must be of type 'any', 'number' or an enum type."),The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_or_a_property_access:t(2357,e.DiagnosticCategory.Error,"The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_or_a_property_access_2357","The operand of an increment or decrement operator must be a variable or a property access."),The_left_hand_side_of_an_instanceof_expression_must_be_of_type_any_an_object_type_or_a_type_parameter:t(2358,e.DiagnosticCategory.Error,"The_left_hand_side_of_an_instanceof_expression_must_be_of_type_any_an_object_type_or_a_type_paramete_2358","The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter."),The_right_hand_side_of_an_instanceof_expression_must_be_of_type_any_or_of_a_type_assignable_to_the_Function_interface_type:t(2359,e.DiagnosticCategory.Error,"The_right_hand_side_of_an_instanceof_expression_must_be_of_type_any_or_of_a_type_assignable_to_the_F_2359","The right-hand side of an 'instanceof' expression must be of type 'any' or of a type assignable to the 'Function' interface type."),The_left_hand_side_of_an_in_expression_must_be_of_type_any_string_number_or_symbol:t(2360,e.DiagnosticCategory.Error,"The_left_hand_side_of_an_in_expression_must_be_of_type_any_string_number_or_symbol_2360","The left-hand side of an 'in' expression must be of type 'any', 'string', 'number', or 'symbol'."),The_right_hand_side_of_an_in_expression_must_be_of_type_any_an_object_type_or_a_type_parameter:t(2361,e.DiagnosticCategory.Error,"The_right_hand_side_of_an_in_expression_must_be_of_type_any_an_object_type_or_a_type_parameter_2361","The right-hand side of an 'in' expression must be of type 'any', an object type or a type parameter."),The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type:t(2362,e.DiagnosticCategory.Error,"The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type_2362","The left-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type."),The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type:t(2363,e.DiagnosticCategory.Error,"The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type_2363","The right-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type."),The_left_hand_side_of_an_assignment_expression_must_be_a_variable_or_a_property_access:t(2364,e.DiagnosticCategory.Error,"The_left_hand_side_of_an_assignment_expression_must_be_a_variable_or_a_property_access_2364","The left-hand side of an assignment expression must be a variable or a property access."),Operator_0_cannot_be_applied_to_types_1_and_2:t(2365,e.DiagnosticCategory.Error,"Operator_0_cannot_be_applied_to_types_1_and_2_2365","Operator '{0}' cannot be applied to types '{1}' and '{2}'."),Function_lacks_ending_return_statement_and_return_type_does_not_include_undefined:t(2366,e.DiagnosticCategory.Error,"Function_lacks_ending_return_statement_and_return_type_does_not_include_undefined_2366","Function lacks ending return statement and return type does not include 'undefined'."),Type_parameter_name_cannot_be_0:t(2368,e.DiagnosticCategory.Error,"Type_parameter_name_cannot_be_0_2368","Type parameter name cannot be '{0}'."),A_parameter_property_is_only_allowed_in_a_constructor_implementation:t(2369,e.DiagnosticCategory.Error,"A_parameter_property_is_only_allowed_in_a_constructor_implementation_2369","A parameter property is only allowed in a constructor implementation."),A_rest_parameter_must_be_of_an_array_type:t(2370,e.DiagnosticCategory.Error,"A_rest_parameter_must_be_of_an_array_type_2370","A rest parameter must be of an array type."),A_parameter_initializer_is_only_allowed_in_a_function_or_constructor_implementation:t(2371,e.DiagnosticCategory.Error,"A_parameter_initializer_is_only_allowed_in_a_function_or_constructor_implementation_2371","A parameter initializer is only allowed in a function or constructor implementation."),Parameter_0_cannot_be_referenced_in_its_initializer:t(2372,e.DiagnosticCategory.Error,"Parameter_0_cannot_be_referenced_in_its_initializer_2372","Parameter '{0}' cannot be referenced in its initializer."),Initializer_of_parameter_0_cannot_reference_identifier_1_declared_after_it:t(2373,e.DiagnosticCategory.Error,"Initializer_of_parameter_0_cannot_reference_identifier_1_declared_after_it_2373","Initializer of parameter '{0}' cannot reference identifier '{1}' declared after it."),Duplicate_string_index_signature:t(2374,e.DiagnosticCategory.Error,"Duplicate_string_index_signature_2374","Duplicate string index signature."),Duplicate_number_index_signature:t(2375,e.DiagnosticCategory.Error,"Duplicate_number_index_signature_2375","Duplicate number index signature."),A_super_call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_initialized_properties_or_has_parameter_properties:t(2376,e.DiagnosticCategory.Error,"A_super_call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_initialized_proper_2376","A 'super' call must be the first statement in the constructor when a class contains initialized properties or has parameter properties."),Constructors_for_derived_classes_must_contain_a_super_call:t(2377,e.DiagnosticCategory.Error,"Constructors_for_derived_classes_must_contain_a_super_call_2377","Constructors for derived classes must contain a 'super' call."),A_get_accessor_must_return_a_value:t(2378,e.DiagnosticCategory.Error,"A_get_accessor_must_return_a_value_2378","A 'get' accessor must return a value."),Getter_and_setter_accessors_do_not_agree_in_visibility:t(2379,e.DiagnosticCategory.Error,"Getter_and_setter_accessors_do_not_agree_in_visibility_2379","Getter and setter accessors do not agree in visibility."),get_and_set_accessor_must_have_the_same_type:t(2380,e.DiagnosticCategory.Error,"get_and_set_accessor_must_have_the_same_type_2380","'get' and 'set' accessor must have the same type."),A_signature_with_an_implementation_cannot_use_a_string_literal_type:t(2381,e.DiagnosticCategory.Error,"A_signature_with_an_implementation_cannot_use_a_string_literal_type_2381","A signature with an implementation cannot use a string literal type."),Specialized_overload_signature_is_not_assignable_to_any_non_specialized_signature:t(2382,e.DiagnosticCategory.Error,"Specialized_overload_signature_is_not_assignable_to_any_non_specialized_signature_2382","Specialized overload signature is not assignable to any non-specialized signature."),Overload_signatures_must_all_be_exported_or_non_exported:t(2383,e.DiagnosticCategory.Error,"Overload_signatures_must_all_be_exported_or_non_exported_2383","Overload signatures must all be exported or non-exported."),Overload_signatures_must_all_be_ambient_or_non_ambient:t(2384,e.DiagnosticCategory.Error,"Overload_signatures_must_all_be_ambient_or_non_ambient_2384","Overload signatures must all be ambient or non-ambient."),Overload_signatures_must_all_be_public_private_or_protected:t(2385,e.DiagnosticCategory.Error,"Overload_signatures_must_all_be_public_private_or_protected_2385","Overload signatures must all be public, private or protected."),Overload_signatures_must_all_be_optional_or_required:t(2386,e.DiagnosticCategory.Error,"Overload_signatures_must_all_be_optional_or_required_2386","Overload signatures must all be optional or required."),Function_overload_must_be_static:t(2387,e.DiagnosticCategory.Error,"Function_overload_must_be_static_2387","Function overload must be static."),Function_overload_must_not_be_static:t(2388,e.DiagnosticCategory.Error,"Function_overload_must_not_be_static_2388","Function overload must not be static."),Function_implementation_name_must_be_0:t(2389,e.DiagnosticCategory.Error,"Function_implementation_name_must_be_0_2389","Function implementation name must be '{0}'."),Constructor_implementation_is_missing:t(2390,e.DiagnosticCategory.Error,"Constructor_implementation_is_missing_2390","Constructor implementation is missing."),Function_implementation_is_missing_or_not_immediately_following_the_declaration:t(2391,e.DiagnosticCategory.Error,"Function_implementation_is_missing_or_not_immediately_following_the_declaration_2391","Function implementation is missing or not immediately following the declaration."),Multiple_constructor_implementations_are_not_allowed:t(2392,e.DiagnosticCategory.Error,"Multiple_constructor_implementations_are_not_allowed_2392","Multiple constructor implementations are not allowed."),Duplicate_function_implementation:t(2393,e.DiagnosticCategory.Error,"Duplicate_function_implementation_2393","Duplicate function implementation."),Overload_signature_is_not_compatible_with_function_implementation:t(2394,e.DiagnosticCategory.Error,"Overload_signature_is_not_compatible_with_function_implementation_2394","Overload signature is not compatible with function implementation."),Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local:t(2395,e.DiagnosticCategory.Error,"Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local_2395","Individual declarations in merged declaration '{0}' must be all exported or all local."),Duplicate_identifier_arguments_Compiler_uses_arguments_to_initialize_rest_parameters:t(2396,e.DiagnosticCategory.Error,"Duplicate_identifier_arguments_Compiler_uses_arguments_to_initialize_rest_parameters_2396","Duplicate identifier 'arguments'. Compiler uses 'arguments' to initialize rest parameters."),Declaration_name_conflicts_with_built_in_global_identifier_0:t(2397,e.DiagnosticCategory.Error,"Declaration_name_conflicts_with_built_in_global_identifier_0_2397","Declaration name conflicts with built-in global identifier '{0}'."),Duplicate_identifier_this_Compiler_uses_variable_declaration_this_to_capture_this_reference:t(2399,e.DiagnosticCategory.Error,"Duplicate_identifier_this_Compiler_uses_variable_declaration_this_to_capture_this_reference_2399","Duplicate identifier '_this'. Compiler uses variable declaration '_this' to capture 'this' reference."),Expression_resolves_to_variable_declaration_this_that_compiler_uses_to_capture_this_reference:t(2400,e.DiagnosticCategory.Error,"Expression_resolves_to_variable_declaration_this_that_compiler_uses_to_capture_this_reference_2400","Expression resolves to variable declaration '_this' that compiler uses to capture 'this' reference."),Duplicate_identifier_super_Compiler_uses_super_to_capture_base_class_reference:t(2401,e.DiagnosticCategory.Error,"Duplicate_identifier_super_Compiler_uses_super_to_capture_base_class_reference_2401","Duplicate identifier '_super'. Compiler uses '_super' to capture base class reference."),Expression_resolves_to_super_that_compiler_uses_to_capture_base_class_reference:t(2402,e.DiagnosticCategory.Error,"Expression_resolves_to_super_that_compiler_uses_to_capture_base_class_reference_2402","Expression resolves to '_super' that compiler uses to capture base class reference."),Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_type_2:t(2403,e.DiagnosticCategory.Error,"Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_t_2403","Subsequent variable declarations must have the same type.  Variable '{0}' must be of type '{1}', but here has type '{2}'."),The_left_hand_side_of_a_for_in_statement_cannot_use_a_type_annotation:t(2404,e.DiagnosticCategory.Error,"The_left_hand_side_of_a_for_in_statement_cannot_use_a_type_annotation_2404","The left-hand side of a 'for...in' statement cannot use a type annotation."),The_left_hand_side_of_a_for_in_statement_must_be_of_type_string_or_any:t(2405,e.DiagnosticCategory.Error,"The_left_hand_side_of_a_for_in_statement_must_be_of_type_string_or_any_2405","The left-hand side of a 'for...in' statement must be of type 'string' or 'any'."),The_left_hand_side_of_a_for_in_statement_must_be_a_variable_or_a_property_access:t(2406,e.DiagnosticCategory.Error,"The_left_hand_side_of_a_for_in_statement_must_be_a_variable_or_a_property_access_2406","The left-hand side of a 'for...in' statement must be a variable or a property access."),The_right_hand_side_of_a_for_in_statement_must_be_of_type_any_an_object_type_or_a_type_parameter:t(2407,e.DiagnosticCategory.Error,"The_right_hand_side_of_a_for_in_statement_must_be_of_type_any_an_object_type_or_a_type_parameter_2407","The right-hand side of a 'for...in' statement must be of type 'any', an object type or a type parameter."),Setters_cannot_return_a_value:t(2408,e.DiagnosticCategory.Error,"Setters_cannot_return_a_value_2408","Setters cannot return a value."),Return_type_of_constructor_signature_must_be_assignable_to_the_instance_type_of_the_class:t(2409,e.DiagnosticCategory.Error,"Return_type_of_constructor_signature_must_be_assignable_to_the_instance_type_of_the_class_2409","Return type of constructor signature must be assignable to the instance type of the class."),The_with_statement_is_not_supported_All_symbols_in_a_with_block_will_have_type_any:t(2410,e.DiagnosticCategory.Error,"The_with_statement_is_not_supported_All_symbols_in_a_with_block_will_have_type_any_2410","The 'with' statement is not supported. All symbols in a 'with' block will have type 'any'."),Property_0_of_type_1_is_not_assignable_to_string_index_type_2:t(2411,e.DiagnosticCategory.Error,"Property_0_of_type_1_is_not_assignable_to_string_index_type_2_2411","Property '{0}' of type '{1}' is not assignable to string index type '{2}'."),Property_0_of_type_1_is_not_assignable_to_numeric_index_type_2:t(2412,e.DiagnosticCategory.Error,"Property_0_of_type_1_is_not_assignable_to_numeric_index_type_2_2412","Property '{0}' of type '{1}' is not assignable to numeric index type '{2}'."),Numeric_index_type_0_is_not_assignable_to_string_index_type_1:t(2413,e.DiagnosticCategory.Error,"Numeric_index_type_0_is_not_assignable_to_string_index_type_1_2413","Numeric index type '{0}' is not assignable to string index type '{1}'."),Class_name_cannot_be_0:t(2414,e.DiagnosticCategory.Error,"Class_name_cannot_be_0_2414","Class name cannot be '{0}'."),Class_0_incorrectly_extends_base_class_1:t(2415,e.DiagnosticCategory.Error,"Class_0_incorrectly_extends_base_class_1_2415","Class '{0}' incorrectly extends base class '{1}'."),Class_static_side_0_incorrectly_extends_base_class_static_side_1:t(2417,e.DiagnosticCategory.Error,"Class_static_side_0_incorrectly_extends_base_class_static_side_1_2417","Class static side '{0}' incorrectly extends base class static side '{1}'."),Class_0_incorrectly_implements_interface_1:t(2420,e.DiagnosticCategory.Error,"Class_0_incorrectly_implements_interface_1_2420","Class '{0}' incorrectly implements interface '{1}'."),A_class_may_only_implement_another_class_or_interface:t(2422,e.DiagnosticCategory.Error,"A_class_may_only_implement_another_class_or_interface_2422","A class may only implement another class or interface."),Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_accessor:t(2423,e.DiagnosticCategory.Error,"Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_access_2423","Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member accessor."),Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_property:t(2424,e.DiagnosticCategory.Error,"Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_proper_2424","Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member property."),Class_0_defines_instance_member_property_1_but_extended_class_2_defines_it_as_instance_member_function:t(2425,e.DiagnosticCategory.Error,"Class_0_defines_instance_member_property_1_but_extended_class_2_defines_it_as_instance_member_functi_2425","Class '{0}' defines instance member property '{1}', but extended class '{2}' defines it as instance member function."),Class_0_defines_instance_member_accessor_1_but_extended_class_2_defines_it_as_instance_member_function:t(2426,e.DiagnosticCategory.Error,"Class_0_defines_instance_member_accessor_1_but_extended_class_2_defines_it_as_instance_member_functi_2426","Class '{0}' defines instance member accessor '{1}', but extended class '{2}' defines it as instance member function."),Interface_name_cannot_be_0:t(2427,e.DiagnosticCategory.Error,"Interface_name_cannot_be_0_2427","Interface name cannot be '{0}'."),All_declarations_of_0_must_have_identical_type_parameters:t(2428,e.DiagnosticCategory.Error,"All_declarations_of_0_must_have_identical_type_parameters_2428","All declarations of '{0}' must have identical type parameters."),Interface_0_incorrectly_extends_interface_1:t(2430,e.DiagnosticCategory.Error,"Interface_0_incorrectly_extends_interface_1_2430","Interface '{0}' incorrectly extends interface '{1}'."),Enum_name_cannot_be_0:t(2431,e.DiagnosticCategory.Error,"Enum_name_cannot_be_0_2431","Enum name cannot be '{0}'."),In_an_enum_with_multiple_declarations_only_one_declaration_can_omit_an_initializer_for_its_first_enum_element:t(2432,e.DiagnosticCategory.Error,"In_an_enum_with_multiple_declarations_only_one_declaration_can_omit_an_initializer_for_its_first_enu_2432","In an enum with multiple declarations, only one declaration can omit an initializer for its first enum element."),A_namespace_declaration_cannot_be_in_a_different_file_from_a_class_or_function_with_which_it_is_merged:t(2433,e.DiagnosticCategory.Error,"A_namespace_declaration_cannot_be_in_a_different_file_from_a_class_or_function_with_which_it_is_merg_2433","A namespace declaration cannot be in a different file from a class or function with which it is merged."),A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged:t(2434,e.DiagnosticCategory.Error,"A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged_2434","A namespace declaration cannot be located prior to a class or function with which it is merged."),Ambient_modules_cannot_be_nested_in_other_modules_or_namespaces:t(2435,e.DiagnosticCategory.Error,"Ambient_modules_cannot_be_nested_in_other_modules_or_namespaces_2435","Ambient modules cannot be nested in other modules or namespaces."),Ambient_module_declaration_cannot_specify_relative_module_name:t(2436,e.DiagnosticCategory.Error,"Ambient_module_declaration_cannot_specify_relative_module_name_2436","Ambient module declaration cannot specify relative module name."),Module_0_is_hidden_by_a_local_declaration_with_the_same_name:t(2437,e.DiagnosticCategory.Error,"Module_0_is_hidden_by_a_local_declaration_with_the_same_name_2437","Module '{0}' is hidden by a local declaration with the same name."),Import_name_cannot_be_0:t(2438,e.DiagnosticCategory.Error,"Import_name_cannot_be_0_2438","Import name cannot be '{0}'."),Import_or_export_declaration_in_an_ambient_module_declaration_cannot_reference_module_through_relative_module_name:t(2439,e.DiagnosticCategory.Error,"Import_or_export_declaration_in_an_ambient_module_declaration_cannot_reference_module_through_relati_2439","Import or export declaration in an ambient module declaration cannot reference module through relative module name."),Import_declaration_conflicts_with_local_declaration_of_0:t(2440,e.DiagnosticCategory.Error,"Import_declaration_conflicts_with_local_declaration_of_0_2440","Import declaration conflicts with local declaration of '{0}'."),Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module:t(2441,e.DiagnosticCategory.Error,"Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module_2441","Duplicate identifier '{0}'. Compiler reserves name '{1}' in top level scope of a module."),Types_have_separate_declarations_of_a_private_property_0:t(2442,e.DiagnosticCategory.Error,"Types_have_separate_declarations_of_a_private_property_0_2442","Types have separate declarations of a private property '{0}'."),Property_0_is_protected_but_type_1_is_not_a_class_derived_from_2:t(2443,e.DiagnosticCategory.Error,"Property_0_is_protected_but_type_1_is_not_a_class_derived_from_2_2443","Property '{0}' is protected but type '{1}' is not a class derived from '{2}'."),Property_0_is_protected_in_type_1_but_public_in_type_2:t(2444,e.DiagnosticCategory.Error,"Property_0_is_protected_in_type_1_but_public_in_type_2_2444","Property '{0}' is protected in type '{1}' but public in type '{2}'."),Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses:t(2445,e.DiagnosticCategory.Error,"Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses_2445","Property '{0}' is protected and only accessible within class '{1}' and its subclasses."),Property_0_is_protected_and_only_accessible_through_an_instance_of_class_1:t(2446,e.DiagnosticCategory.Error,"Property_0_is_protected_and_only_accessible_through_an_instance_of_class_1_2446","Property '{0}' is protected and only accessible through an instance of class '{1}'."),The_0_operator_is_not_allowed_for_boolean_types_Consider_using_1_instead:t(2447,e.DiagnosticCategory.Error,"The_0_operator_is_not_allowed_for_boolean_types_Consider_using_1_instead_2447","The '{0}' operator is not allowed for boolean types. Consider using '{1}' instead."),Block_scoped_variable_0_used_before_its_declaration:t(2448,e.DiagnosticCategory.Error,"Block_scoped_variable_0_used_before_its_declaration_2448","Block-scoped variable '{0}' used before its declaration."),Class_0_used_before_its_declaration:t(2449,e.DiagnosticCategory.Error,"Class_0_used_before_its_declaration_2449","Class '{0}' used before its declaration."),Enum_0_used_before_its_declaration:t(2450,e.DiagnosticCategory.Error,"Enum_0_used_before_its_declaration_2450","Enum '{0}' used before its declaration."),Cannot_redeclare_block_scoped_variable_0:t(2451,e.DiagnosticCategory.Error,"Cannot_redeclare_block_scoped_variable_0_2451","Cannot redeclare block-scoped variable '{0}'."),An_enum_member_cannot_have_a_numeric_name:t(2452,e.DiagnosticCategory.Error,"An_enum_member_cannot_have_a_numeric_name_2452","An enum member cannot have a numeric name."),The_type_argument_for_type_parameter_0_cannot_be_inferred_from_the_usage_Consider_specifying_the_type_arguments_explicitly:t(2453,e.DiagnosticCategory.Error,"The_type_argument_for_type_parameter_0_cannot_be_inferred_from_the_usage_Consider_specifying_the_typ_2453","The type argument for type parameter '{0}' cannot be inferred from the usage. Consider specifying the type arguments explicitly."),Variable_0_is_used_before_being_assigned:t(2454,e.DiagnosticCategory.Error,"Variable_0_is_used_before_being_assigned_2454","Variable '{0}' is used before being assigned."),Type_argument_candidate_1_is_not_a_valid_type_argument_because_it_is_not_a_supertype_of_candidate_0:t(2455,e.DiagnosticCategory.Error,"Type_argument_candidate_1_is_not_a_valid_type_argument_because_it_is_not_a_supertype_of_candidate_0_2455","Type argument candidate '{1}' is not a valid type argument because it is not a supertype of candidate '{0}'."),Type_alias_0_circularly_references_itself:t(2456,e.DiagnosticCategory.Error,"Type_alias_0_circularly_references_itself_2456","Type alias '{0}' circularly references itself."),Type_alias_name_cannot_be_0:t(2457,e.DiagnosticCategory.Error,"Type_alias_name_cannot_be_0_2457","Type alias name cannot be '{0}'."),An_AMD_module_cannot_have_multiple_name_assignments:t(2458,e.DiagnosticCategory.Error,"An_AMD_module_cannot_have_multiple_name_assignments_2458","An AMD module cannot have multiple name assignments."),Type_0_has_no_property_1_and_no_string_index_signature:t(2459,e.DiagnosticCategory.Error,"Type_0_has_no_property_1_and_no_string_index_signature_2459","Type '{0}' has no property '{1}' and no string index signature."),Type_0_has_no_property_1:t(2460,e.DiagnosticCategory.Error,"Type_0_has_no_property_1_2460","Type '{0}' has no property '{1}'."),Type_0_is_not_an_array_type:t(2461,e.DiagnosticCategory.Error,"Type_0_is_not_an_array_type_2461","Type '{0}' is not an array type."),A_rest_element_must_be_last_in_a_destructuring_pattern:t(2462,e.DiagnosticCategory.Error,"A_rest_element_must_be_last_in_a_destructuring_pattern_2462","A rest element must be last in a destructuring pattern."),A_binding_pattern_parameter_cannot_be_optional_in_an_implementation_signature:t(2463,e.DiagnosticCategory.Error,"A_binding_pattern_parameter_cannot_be_optional_in_an_implementation_signature_2463","A binding pattern parameter cannot be optional in an implementation signature."),A_computed_property_name_must_be_of_type_string_number_symbol_or_any:t(2464,e.DiagnosticCategory.Error,"A_computed_property_name_must_be_of_type_string_number_symbol_or_any_2464","A computed property name must be of type 'string', 'number', 'symbol', or 'any'."),this_cannot_be_referenced_in_a_computed_property_name:t(2465,e.DiagnosticCategory.Error,"this_cannot_be_referenced_in_a_computed_property_name_2465","'this' cannot be referenced in a computed property name."),super_cannot_be_referenced_in_a_computed_property_name:t(2466,e.DiagnosticCategory.Error,"super_cannot_be_referenced_in_a_computed_property_name_2466","'super' cannot be referenced in a computed property name."),A_computed_property_name_cannot_reference_a_type_parameter_from_its_containing_type:t(2467,e.DiagnosticCategory.Error,"A_computed_property_name_cannot_reference_a_type_parameter_from_its_containing_type_2467","A computed property name cannot reference a type parameter from its containing type."),Cannot_find_global_value_0:t(2468,e.DiagnosticCategory.Error,"Cannot_find_global_value_0_2468","Cannot find global value '{0}'."),The_0_operator_cannot_be_applied_to_type_symbol:t(2469,e.DiagnosticCategory.Error,"The_0_operator_cannot_be_applied_to_type_symbol_2469","The '{0}' operator cannot be applied to type 'symbol'."),Symbol_reference_does_not_refer_to_the_global_Symbol_constructor_object:t(2470,e.DiagnosticCategory.Error,"Symbol_reference_does_not_refer_to_the_global_Symbol_constructor_object_2470","'Symbol' reference does not refer to the global Symbol constructor object."),A_computed_property_name_of_the_form_0_must_be_of_type_symbol:t(2471,e.DiagnosticCategory.Error,"A_computed_property_name_of_the_form_0_must_be_of_type_symbol_2471","A computed property name of the form '{0}' must be of type 'symbol'."),Spread_operator_in_new_expressions_is_only_available_when_targeting_ECMAScript_5_and_higher:t(2472,e.DiagnosticCategory.Error,"Spread_operator_in_new_expressions_is_only_available_when_targeting_ECMAScript_5_and_higher_2472","Spread operator in 'new' expressions is only available when targeting ECMAScript 5 and higher."),Enum_declarations_must_all_be_const_or_non_const:t(2473,e.DiagnosticCategory.Error,"Enum_declarations_must_all_be_const_or_non_const_2473","Enum declarations must all be const or non-const."),In_const_enum_declarations_member_initializer_must_be_constant_expression:t(2474,e.DiagnosticCategory.Error,"In_const_enum_declarations_member_initializer_must_be_constant_expression_2474","In 'const' enum declarations member initializer must be constant expression."),const_enums_can_only_be_used_in_property_or_index_access_expressions_or_the_right_hand_side_of_an_import_declaration_or_export_assignment:t(2475,e.DiagnosticCategory.Error,"const_enums_can_only_be_used_in_property_or_index_access_expressions_or_the_right_hand_side_of_an_im_2475","'const' enums can only be used in property or index access expressions or the right hand side of an import declaration or export assignment."),A_const_enum_member_can_only_be_accessed_using_a_string_literal:t(2476,e.DiagnosticCategory.Error,"A_const_enum_member_can_only_be_accessed_using_a_string_literal_2476","A const enum member can only be accessed using a string literal."),const_enum_member_initializer_was_evaluated_to_a_non_finite_value:t(2477,e.DiagnosticCategory.Error,"const_enum_member_initializer_was_evaluated_to_a_non_finite_value_2477","'const' enum member initializer was evaluated to a non-finite value."),const_enum_member_initializer_was_evaluated_to_disallowed_value_NaN:t(2478,e.DiagnosticCategory.Error,"const_enum_member_initializer_was_evaluated_to_disallowed_value_NaN_2478","'const' enum member initializer was evaluated to disallowed value 'NaN'."),Property_0_does_not_exist_on_const_enum_1:t(2479,e.DiagnosticCategory.Error,"Property_0_does_not_exist_on_const_enum_1_2479","Property '{0}' does not exist on 'const' enum '{1}'."),let_is_not_allowed_to_be_used_as_a_name_in_let_or_const_declarations:t(2480,e.DiagnosticCategory.Error,"let_is_not_allowed_to_be_used_as_a_name_in_let_or_const_declarations_2480","'let' is not allowed to be used as a name in 'let' or 'const' declarations."),Cannot_initialize_outer_scoped_variable_0_in_the_same_scope_as_block_scoped_declaration_1:t(2481,e.DiagnosticCategory.Error,"Cannot_initialize_outer_scoped_variable_0_in_the_same_scope_as_block_scoped_declaration_1_2481","Cannot initialize outer scoped variable '{0}' in the same scope as block scoped declaration '{1}'."),The_left_hand_side_of_a_for_of_statement_cannot_use_a_type_annotation:t(2483,e.DiagnosticCategory.Error,"The_left_hand_side_of_a_for_of_statement_cannot_use_a_type_annotation_2483","The left-hand side of a 'for...of' statement cannot use a type annotation."),Export_declaration_conflicts_with_exported_declaration_of_0:t(2484,e.DiagnosticCategory.Error,"Export_declaration_conflicts_with_exported_declaration_of_0_2484","Export declaration conflicts with exported declaration of '{0}'."),The_left_hand_side_of_a_for_of_statement_must_be_a_variable_or_a_property_access:t(2487,e.DiagnosticCategory.Error,"The_left_hand_side_of_a_for_of_statement_must_be_a_variable_or_a_property_access_2487","The left-hand side of a 'for...of' statement must be a variable or a property access."),Type_must_have_a_Symbol_iterator_method_that_returns_an_iterator:t(2488,e.DiagnosticCategory.Error,"Type_must_have_a_Symbol_iterator_method_that_returns_an_iterator_2488","Type must have a '[Symbol.iterator]()' method that returns an iterator."),An_iterator_must_have_a_next_method:t(2489,e.DiagnosticCategory.Error,"An_iterator_must_have_a_next_method_2489","An iterator must have a 'next()' method."),The_type_returned_by_the_next_method_of_an_iterator_must_have_a_value_property:t(2490,e.DiagnosticCategory.Error,"The_type_returned_by_the_next_method_of_an_iterator_must_have_a_value_property_2490","The type returned by the 'next()' method of an iterator must have a 'value' property."),The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern:t(2491,e.DiagnosticCategory.Error,"The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern_2491","The left-hand side of a 'for...in' statement cannot be a destructuring pattern."),Cannot_redeclare_identifier_0_in_catch_clause:t(2492,e.DiagnosticCategory.Error,"Cannot_redeclare_identifier_0_in_catch_clause_2492","Cannot redeclare identifier '{0}' in catch clause."),Tuple_type_0_with_length_1_cannot_be_assigned_to_tuple_with_length_2:t(2493,e.DiagnosticCategory.Error,"Tuple_type_0_with_length_1_cannot_be_assigned_to_tuple_with_length_2_2493","Tuple type '{0}' with length '{1}' cannot be assigned to tuple with length '{2}'."),Using_a_string_in_a_for_of_statement_is_only_supported_in_ECMAScript_5_and_higher:t(2494,e.DiagnosticCategory.Error,"Using_a_string_in_a_for_of_statement_is_only_supported_in_ECMAScript_5_and_higher_2494","Using a string in a 'for...of' statement is only supported in ECMAScript 5 and higher."),Type_0_is_not_an_array_type_or_a_string_type:t(2495,e.DiagnosticCategory.Error,"Type_0_is_not_an_array_type_or_a_string_type_2495","Type '{0}' is not an array type or a string type."),The_arguments_object_cannot_be_referenced_in_an_arrow_function_in_ES3_and_ES5_Consider_using_a_standard_function_expression:t(2496,e.DiagnosticCategory.Error,"The_arguments_object_cannot_be_referenced_in_an_arrow_function_in_ES3_and_ES5_Consider_using_a_stand_2496","The 'arguments' object cannot be referenced in an arrow function in ES3 and ES5. Consider using a standard function expression."),Module_0_resolves_to_a_non_module_entity_and_cannot_be_imported_using_this_construct:t(2497,e.DiagnosticCategory.Error,"Module_0_resolves_to_a_non_module_entity_and_cannot_be_imported_using_this_construct_2497","Module '{0}' resolves to a non-module entity and cannot be imported using this construct."),Module_0_uses_export_and_cannot_be_used_with_export_Asterisk:t(2498,e.DiagnosticCategory.Error,"Module_0_uses_export_and_cannot_be_used_with_export_Asterisk_2498","Module '{0}' uses 'export =' and cannot be used with 'export *'."),An_interface_can_only_extend_an_identifier_Slashqualified_name_with_optional_type_arguments:t(2499,e.DiagnosticCategory.Error,"An_interface_can_only_extend_an_identifier_Slashqualified_name_with_optional_type_arguments_2499","An interface can only extend an identifier/qualified-name with optional type arguments."),A_class_can_only_implement_an_identifier_Slashqualified_name_with_optional_type_arguments:t(2500,e.DiagnosticCategory.Error,"A_class_can_only_implement_an_identifier_Slashqualified_name_with_optional_type_arguments_2500","A class can only implement an identifier/qualified-name with optional type arguments."),A_rest_element_cannot_contain_a_binding_pattern:t(2501,e.DiagnosticCategory.Error,"A_rest_element_cannot_contain_a_binding_pattern_2501","A rest element cannot contain a binding pattern."),_0_is_referenced_directly_or_indirectly_in_its_own_type_annotation:t(2502,e.DiagnosticCategory.Error,"_0_is_referenced_directly_or_indirectly_in_its_own_type_annotation_2502","'{0}' is referenced directly or indirectly in its own type annotation."),Cannot_find_namespace_0:t(2503,e.DiagnosticCategory.Error,"Cannot_find_namespace_0_2503","Cannot find namespace '{0}'."),Type_must_have_a_Symbol_asyncIterator_method_that_returns_an_async_iterator:t(2504,e.DiagnosticCategory.Error,"Type_must_have_a_Symbol_asyncIterator_method_that_returns_an_async_iterator_2504","Type must have a '[Symbol.asyncIterator]()' method that returns an async iterator."),A_generator_cannot_have_a_void_type_annotation:t(2505,e.DiagnosticCategory.Error,"A_generator_cannot_have_a_void_type_annotation_2505","A generator cannot have a 'void' type annotation."),_0_is_referenced_directly_or_indirectly_in_its_own_base_expression:t(2506,e.DiagnosticCategory.Error,"_0_is_referenced_directly_or_indirectly_in_its_own_base_expression_2506","'{0}' is referenced directly or indirectly in its own base expression."),Type_0_is_not_a_constructor_function_type:t(2507,e.DiagnosticCategory.Error,"Type_0_is_not_a_constructor_function_type_2507","Type '{0}' is not a constructor function type."),No_base_constructor_has_the_specified_number_of_type_arguments:t(2508,e.DiagnosticCategory.Error,"No_base_constructor_has_the_specified_number_of_type_arguments_2508","No base constructor has the specified number of type arguments."),Base_constructor_return_type_0_is_not_a_class_or_interface_type:t(2509,e.DiagnosticCategory.Error,"Base_constructor_return_type_0_is_not_a_class_or_interface_type_2509","Base constructor return type '{0}' is not a class or interface type."),Base_constructors_must_all_have_the_same_return_type:t(2510,e.DiagnosticCategory.Error,"Base_constructors_must_all_have_the_same_return_type_2510","Base constructors must all have the same return type."),Cannot_create_an_instance_of_the_abstract_class_0:t(2511,e.DiagnosticCategory.Error,"Cannot_create_an_instance_of_the_abstract_class_0_2511","Cannot create an instance of the abstract class '{0}'."),Overload_signatures_must_all_be_abstract_or_non_abstract:t(2512,e.DiagnosticCategory.Error,"Overload_signatures_must_all_be_abstract_or_non_abstract_2512","Overload signatures must all be abstract or non-abstract."),Abstract_method_0_in_class_1_cannot_be_accessed_via_super_expression:t(2513,e.DiagnosticCategory.Error,"Abstract_method_0_in_class_1_cannot_be_accessed_via_super_expression_2513","Abstract method '{0}' in class '{1}' cannot be accessed via super expression."),Classes_containing_abstract_methods_must_be_marked_abstract:t(2514,e.DiagnosticCategory.Error,"Classes_containing_abstract_methods_must_be_marked_abstract_2514","Classes containing abstract methods must be marked abstract."),Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_class_2:t(2515,e.DiagnosticCategory.Error,"Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_class_2_2515","Non-abstract class '{0}' does not implement inherited abstract member '{1}' from class '{2}'."),All_declarations_of_an_abstract_method_must_be_consecutive:t(2516,e.DiagnosticCategory.Error,"All_declarations_of_an_abstract_method_must_be_consecutive_2516","All declarations of an abstract method must be consecutive."),Cannot_assign_an_abstract_constructor_type_to_a_non_abstract_constructor_type:t(2517,e.DiagnosticCategory.Error,"Cannot_assign_an_abstract_constructor_type_to_a_non_abstract_constructor_type_2517","Cannot assign an abstract constructor type to a non-abstract constructor type."),A_this_based_type_guard_is_not_compatible_with_a_parameter_based_type_guard:t(2518,e.DiagnosticCategory.Error,"A_this_based_type_guard_is_not_compatible_with_a_parameter_based_type_guard_2518","A 'this'-based type guard is not compatible with a parameter-based type guard."),An_async_iterator_must_have_a_next_method:t(2519,e.DiagnosticCategory.Error,"An_async_iterator_must_have_a_next_method_2519","An async iterator must have a 'next()' method."),Duplicate_identifier_0_Compiler_uses_declaration_1_to_support_async_functions:t(2520,e.DiagnosticCategory.Error,"Duplicate_identifier_0_Compiler_uses_declaration_1_to_support_async_functions_2520","Duplicate identifier '{0}'. Compiler uses declaration '{1}' to support async functions."),Expression_resolves_to_variable_declaration_0_that_compiler_uses_to_support_async_functions:t(2521,e.DiagnosticCategory.Error,"Expression_resolves_to_variable_declaration_0_that_compiler_uses_to_support_async_functions_2521","Expression resolves to variable declaration '{0}' that compiler uses to support async functions."),The_arguments_object_cannot_be_referenced_in_an_async_function_or_method_in_ES3_and_ES5_Consider_using_a_standard_function_or_method:t(2522,e.DiagnosticCategory.Error,"The_arguments_object_cannot_be_referenced_in_an_async_function_or_method_in_ES3_and_ES5_Consider_usi_2522","The 'arguments' object cannot be referenced in an async function or method in ES3 and ES5. Consider using a standard function or method."),yield_expressions_cannot_be_used_in_a_parameter_initializer:t(2523,e.DiagnosticCategory.Error,"yield_expressions_cannot_be_used_in_a_parameter_initializer_2523","'yield' expressions cannot be used in a parameter initializer."),await_expressions_cannot_be_used_in_a_parameter_initializer:t(2524,e.DiagnosticCategory.Error,"await_expressions_cannot_be_used_in_a_parameter_initializer_2524","'await' expressions cannot be used in a parameter initializer."),Initializer_provides_no_value_for_this_binding_element_and_the_binding_element_has_no_default_value:t(2525,e.DiagnosticCategory.Error,"Initializer_provides_no_value_for_this_binding_element_and_the_binding_element_has_no_default_value_2525","Initializer provides no value for this binding element and the binding element has no default value."),A_this_type_is_available_only_in_a_non_static_member_of_a_class_or_interface:t(2526,e.DiagnosticCategory.Error,"A_this_type_is_available_only_in_a_non_static_member_of_a_class_or_interface_2526","A 'this' type is available only in a non-static member of a class or interface."),The_inferred_type_of_0_references_an_inaccessible_this_type_A_type_annotation_is_necessary:t(2527,e.DiagnosticCategory.Error,"The_inferred_type_of_0_references_an_inaccessible_this_type_A_type_annotation_is_necessary_2527","The inferred type of '{0}' references an inaccessible 'this' type. A type annotation is necessary."),A_module_cannot_have_multiple_default_exports:t(2528,e.DiagnosticCategory.Error,"A_module_cannot_have_multiple_default_exports_2528","A module cannot have multiple default exports."),Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module_containing_async_functions:t(2529,e.DiagnosticCategory.Error,"Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module_containing_async_func_2529","Duplicate identifier '{0}'. Compiler reserves name '{1}' in top level scope of a module containing async functions."),Property_0_is_incompatible_with_index_signature:t(2530,e.DiagnosticCategory.Error,"Property_0_is_incompatible_with_index_signature_2530","Property '{0}' is incompatible with index signature."),Object_is_possibly_null:t(2531,e.DiagnosticCategory.Error,"Object_is_possibly_null_2531","Object is possibly 'null'."),Object_is_possibly_undefined:t(2532,e.DiagnosticCategory.Error,"Object_is_possibly_undefined_2532","Object is possibly 'undefined'."),Object_is_possibly_null_or_undefined:t(2533,e.DiagnosticCategory.Error,"Object_is_possibly_null_or_undefined_2533","Object is possibly 'null' or 'undefined'."),A_function_returning_never_cannot_have_a_reachable_end_point:t(2534,e.DiagnosticCategory.Error,"A_function_returning_never_cannot_have_a_reachable_end_point_2534","A function returning 'never' cannot have a reachable end point."),Enum_type_0_has_members_with_initializers_that_are_not_literals:t(2535,e.DiagnosticCategory.Error,"Enum_type_0_has_members_with_initializers_that_are_not_literals_2535","Enum type '{0}' has members with initializers that are not literals."),Type_0_cannot_be_used_to_index_type_1:t(2536,e.DiagnosticCategory.Error,"Type_0_cannot_be_used_to_index_type_1_2536","Type '{0}' cannot be used to index type '{1}'."),Type_0_has_no_matching_index_signature_for_type_1:t(2537,e.DiagnosticCategory.Error,"Type_0_has_no_matching_index_signature_for_type_1_2537","Type '{0}' has no matching index signature for type '{1}'."),Type_0_cannot_be_used_as_an_index_type:t(2538,e.DiagnosticCategory.Error,"Type_0_cannot_be_used_as_an_index_type_2538","Type '{0}' cannot be used as an index type."),Cannot_assign_to_0_because_it_is_not_a_variable:t(2539,e.DiagnosticCategory.Error,"Cannot_assign_to_0_because_it_is_not_a_variable_2539","Cannot assign to '{0}' because it is not a variable."),Cannot_assign_to_0_because_it_is_a_constant_or_a_read_only_property:t(2540,e.DiagnosticCategory.Error,"Cannot_assign_to_0_because_it_is_a_constant_or_a_read_only_property_2540","Cannot assign to '{0}' because it is a constant or a read-only property."),The_target_of_an_assignment_must_be_a_variable_or_a_property_access:t(2541,e.DiagnosticCategory.Error,"The_target_of_an_assignment_must_be_a_variable_or_a_property_access_2541","The target of an assignment must be a variable or a property access."),Index_signature_in_type_0_only_permits_reading:t(2542,e.DiagnosticCategory.Error,"Index_signature_in_type_0_only_permits_reading_2542","Index signature in type '{0}' only permits reading."),Duplicate_identifier_newTarget_Compiler_uses_variable_declaration_newTarget_to_capture_new_target_meta_property_reference:t(2543,e.DiagnosticCategory.Error,"Duplicate_identifier_newTarget_Compiler_uses_variable_declaration_newTarget_to_capture_new_target_me_2543","Duplicate identifier '_newTarget'. Compiler uses variable declaration '_newTarget' to capture 'new.target' meta-property reference."),Expression_resolves_to_variable_declaration_newTarget_that_compiler_uses_to_capture_new_target_meta_property_reference:t(2544,e.DiagnosticCategory.Error,"Expression_resolves_to_variable_declaration_newTarget_that_compiler_uses_to_capture_new_target_meta__2544","Expression resolves to variable declaration '_newTarget' that compiler uses to capture 'new.target' meta-property reference."),A_mixin_class_must_have_a_constructor_with_a_single_rest_parameter_of_type_any:t(2545,e.DiagnosticCategory.Error,"A_mixin_class_must_have_a_constructor_with_a_single_rest_parameter_of_type_any_2545","A mixin class must have a constructor with a single rest parameter of type 'any[]'."),Property_0_has_conflicting_declarations_and_is_inaccessible_in_type_1:t(2546,e.DiagnosticCategory.Error,"Property_0_has_conflicting_declarations_and_is_inaccessible_in_type_1_2546","Property '{0}' has conflicting declarations and is inaccessible in type '{1}'."),The_type_returned_by_the_next_method_of_an_async_iterator_must_be_a_promise_for_a_type_with_a_value_property:t(2547,e.DiagnosticCategory.Error,"The_type_returned_by_the_next_method_of_an_async_iterator_must_be_a_promise_for_a_type_with_a_value__2547","The type returned by the 'next()' method of an async iterator must be a promise for a type with a 'value' property."),Type_0_is_not_an_array_type_or_does_not_have_a_Symbol_iterator_method_that_returns_an_iterator:t(2548,e.DiagnosticCategory.Error,"Type_0_is_not_an_array_type_or_does_not_have_a_Symbol_iterator_method_that_returns_an_iterator_2548","Type '{0}' is not an array type or does not have a '[Symbol.iterator]()' method that returns an iterator."),Type_0_is_not_an_array_type_or_a_string_type_or_does_not_have_a_Symbol_iterator_method_that_returns_an_iterator:t(2549,e.DiagnosticCategory.Error,"Type_0_is_not_an_array_type_or_a_string_type_or_does_not_have_a_Symbol_iterator_method_that_returns__2549","Type '{0}' is not an array type or a string type or does not have a '[Symbol.iterator]()' method that returns an iterator."),Generic_type_instantiation_is_excessively_deep_and_possibly_infinite:t(2550,e.DiagnosticCategory.Error,"Generic_type_instantiation_is_excessively_deep_and_possibly_infinite_2550","Generic type instantiation is excessively deep and possibly infinite."),Property_0_does_not_exist_on_type_1_Did_you_mean_2:t(2551,e.DiagnosticCategory.Error,"Property_0_does_not_exist_on_type_1_Did_you_mean_2_2551","Property '{0}' does not exist on type '{1}'. Did you mean '{2}'?"),Cannot_find_name_0_Did_you_mean_1:t(2552,e.DiagnosticCategory.Error,"Cannot_find_name_0_Did_you_mean_1_2552","Cannot find name '{0}'. Did you mean '{1}'?"),Computed_values_are_not_permitted_in_an_enum_with_string_valued_members:t(2553,e.DiagnosticCategory.Error,"Computed_values_are_not_permitted_in_an_enum_with_string_valued_members_2553","Computed values are not permitted in an enum with string valued members."),Expected_0_arguments_but_got_1:t(2554,e.DiagnosticCategory.Error,"Expected_0_arguments_but_got_1_2554","Expected {0} arguments, but got {1}."),Expected_at_least_0_arguments_but_got_1:t(2555,e.DiagnosticCategory.Error,"Expected_at_least_0_arguments_but_got_1_2555","Expected at least {0} arguments, but got {1}."),Expected_0_arguments_but_got_a_minimum_of_1:t(2556,e.DiagnosticCategory.Error,"Expected_0_arguments_but_got_a_minimum_of_1_2556","Expected {0} arguments, but got a minimum of {1}."),Expected_at_least_0_arguments_but_got_a_minimum_of_1:t(2557,e.DiagnosticCategory.Error,"Expected_at_least_0_arguments_but_got_a_minimum_of_1_2557","Expected at least {0} arguments, but got a minimum of {1}."),Expected_0_type_arguments_but_got_1:t(2558,e.DiagnosticCategory.Error,"Expected_0_type_arguments_but_got_1_2558","Expected {0} type arguments, but got {1}."),Type_0_has_no_properties_in_common_with_type_1:t(2559,e.DiagnosticCategory.Error,"Type_0_has_no_properties_in_common_with_type_1_2559","Type '{0}' has no properties in common with type '{1}'."),Value_of_type_0_has_no_properties_in_common_with_type_1_Did_you_mean_to_call_it:t(2560,e.DiagnosticCategory.Error,"Value_of_type_0_has_no_properties_in_common_with_type_1_Did_you_mean_to_call_it_2560","Value of type '{0}' has no properties in common with type '{1}'. Did you mean to call it?"),Object_literal_may_only_specify_known_properties_but_0_does_not_exist_in_type_1_Did_you_mean_to_write_2:t(2561,e.DiagnosticCategory.Error,"Object_literal_may_only_specify_known_properties_but_0_does_not_exist_in_type_1_Did_you_mean_to_writ_2561","Object literal may only specify known properties, but '{0}' does not exist in type '{1}'. Did you mean to write '{2}'?"),Base_class_expressions_cannot_reference_class_type_parameters:t(2562,e.DiagnosticCategory.Error,"Base_class_expressions_cannot_reference_class_type_parameters_2562","Base class expressions cannot reference class type parameters."),The_containing_function_or_module_body_is_too_large_for_control_flow_analysis:t(2563,e.DiagnosticCategory.Error,"The_containing_function_or_module_body_is_too_large_for_control_flow_analysis_2563","The containing function or module body is too large for control flow analysis."),JSX_element_attributes_type_0_may_not_be_a_union_type:t(2600,e.DiagnosticCategory.Error,"JSX_element_attributes_type_0_may_not_be_a_union_type_2600","JSX element attributes type '{0}' may not be a union type."),The_return_type_of_a_JSX_element_constructor_must_return_an_object_type:t(2601,e.DiagnosticCategory.Error,"The_return_type_of_a_JSX_element_constructor_must_return_an_object_type_2601","The return type of a JSX element constructor must return an object type."),JSX_element_implicitly_has_type_any_because_the_global_type_JSX_Element_does_not_exist:t(2602,e.DiagnosticCategory.Error,"JSX_element_implicitly_has_type_any_because_the_global_type_JSX_Element_does_not_exist_2602","JSX element implicitly has type 'any' because the global type 'JSX.Element' does not exist."),Property_0_in_type_1_is_not_assignable_to_type_2:t(2603,e.DiagnosticCategory.Error,"Property_0_in_type_1_is_not_assignable_to_type_2_2603","Property '{0}' in type '{1}' is not assignable to type '{2}'."),JSX_element_type_0_does_not_have_any_construct_or_call_signatures:t(2604,e.DiagnosticCategory.Error,"JSX_element_type_0_does_not_have_any_construct_or_call_signatures_2604","JSX element type '{0}' does not have any construct or call signatures."),JSX_element_type_0_is_not_a_constructor_function_for_JSX_elements:t(2605,e.DiagnosticCategory.Error,"JSX_element_type_0_is_not_a_constructor_function_for_JSX_elements_2605","JSX element type '{0}' is not a constructor function for JSX elements."),Property_0_of_JSX_spread_attribute_is_not_assignable_to_target_property:t(2606,e.DiagnosticCategory.Error,"Property_0_of_JSX_spread_attribute_is_not_assignable_to_target_property_2606","Property '{0}' of JSX spread attribute is not assignable to target property."),JSX_element_class_does_not_support_attributes_because_it_does_not_have_a_0_property:t(2607,e.DiagnosticCategory.Error,"JSX_element_class_does_not_support_attributes_because_it_does_not_have_a_0_property_2607","JSX element class does not support attributes because it does not have a '{0}' property."),The_global_type_JSX_0_may_not_have_more_than_one_property:t(2608,e.DiagnosticCategory.Error,"The_global_type_JSX_0_may_not_have_more_than_one_property_2608","The global type 'JSX.{0}' may not have more than one property."),JSX_spread_child_must_be_an_array_type:t(2609,e.DiagnosticCategory.Error,"JSX_spread_child_must_be_an_array_type_2609","JSX spread child must be an array type."),Cannot_augment_module_0_with_value_exports_because_it_resolves_to_a_non_module_entity:t(2649,e.DiagnosticCategory.Error,"Cannot_augment_module_0_with_value_exports_because_it_resolves_to_a_non_module_entity_2649","Cannot augment module '{0}' with value exports because it resolves to a non-module entity."),A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_members_defined_in_other_enums:t(2651,e.DiagnosticCategory.Error,"A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_memb_2651","A member initializer in a enum declaration cannot reference members declared after it, including members defined in other enums."),Merged_declaration_0_cannot_include_a_default_export_declaration_Consider_adding_a_separate_export_default_0_declaration_instead:t(2652,e.DiagnosticCategory.Error,"Merged_declaration_0_cannot_include_a_default_export_declaration_Consider_adding_a_separate_export_d_2652","Merged declaration '{0}' cannot include a default export declaration. Consider adding a separate 'export default {0}' declaration instead."),Non_abstract_class_expression_does_not_implement_inherited_abstract_member_0_from_class_1:t(2653,e.DiagnosticCategory.Error,"Non_abstract_class_expression_does_not_implement_inherited_abstract_member_0_from_class_1_2653","Non-abstract class expression does not implement inherited abstract member '{0}' from class '{1}'."),Exported_external_package_typings_file_cannot_contain_tripleslash_references_Please_contact_the_package_author_to_update_the_package_definition:t(2654,e.DiagnosticCategory.Error,"Exported_external_package_typings_file_cannot_contain_tripleslash_references_Please_contact_the_pack_2654","Exported external package typings file cannot contain tripleslash references. Please contact the package author to update the package definition."),Exported_external_package_typings_file_0_is_not_a_module_Please_contact_the_package_author_to_update_the_package_definition:t(2656,e.DiagnosticCategory.Error,"Exported_external_package_typings_file_0_is_not_a_module_Please_contact_the_package_author_to_update_2656","Exported external package typings file '{0}' is not a module. Please contact the package author to update the package definition."),JSX_expressions_must_have_one_parent_element:t(2657,e.DiagnosticCategory.Error,"JSX_expressions_must_have_one_parent_element_2657","JSX expressions must have one parent element."),Type_0_provides_no_match_for_the_signature_1:t(2658,e.DiagnosticCategory.Error,"Type_0_provides_no_match_for_the_signature_1_2658","Type '{0}' provides no match for the signature '{1}'."),super_is_only_allowed_in_members_of_object_literal_expressions_when_option_target_is_ES2015_or_higher:t(2659,e.DiagnosticCategory.Error,"super_is_only_allowed_in_members_of_object_literal_expressions_when_option_target_is_ES2015_or_highe_2659","'super' is only allowed in members of object literal expressions when option 'target' is 'ES2015' or higher."),super_can_only_be_referenced_in_members_of_derived_classes_or_object_literal_expressions:t(2660,e.DiagnosticCategory.Error,"super_can_only_be_referenced_in_members_of_derived_classes_or_object_literal_expressions_2660","'super' can only be referenced in members of derived classes or object literal expressions."),Cannot_export_0_Only_local_declarations_can_be_exported_from_a_module:t(2661,e.DiagnosticCategory.Error,"Cannot_export_0_Only_local_declarations_can_be_exported_from_a_module_2661","Cannot export '{0}'. Only local declarations can be exported from a module."),Cannot_find_name_0_Did_you_mean_the_static_member_1_0:t(2662,e.DiagnosticCategory.Error,"Cannot_find_name_0_Did_you_mean_the_static_member_1_0_2662","Cannot find name '{0}'. Did you mean the static member '{1}.{0}'?"),Cannot_find_name_0_Did_you_mean_the_instance_member_this_0:t(2663,e.DiagnosticCategory.Error,"Cannot_find_name_0_Did_you_mean_the_instance_member_this_0_2663","Cannot find name '{0}'. Did you mean the instance member 'this.{0}'?"),Invalid_module_name_in_augmentation_module_0_cannot_be_found:t(2664,e.DiagnosticCategory.Error,"Invalid_module_name_in_augmentation_module_0_cannot_be_found_2664","Invalid module name in augmentation, module '{0}' cannot be found."),Invalid_module_name_in_augmentation_Module_0_resolves_to_an_untyped_module_at_1_which_cannot_be_augmented:t(2665,e.DiagnosticCategory.Error,"Invalid_module_name_in_augmentation_Module_0_resolves_to_an_untyped_module_at_1_which_cannot_be_augm_2665","Invalid module name in augmentation. Module '{0}' resolves to an untyped module at '{1}', which cannot be augmented."),Exports_and_export_assignments_are_not_permitted_in_module_augmentations:t(2666,e.DiagnosticCategory.Error,"Exports_and_export_assignments_are_not_permitted_in_module_augmentations_2666","Exports and export assignments are not permitted in module augmentations."),Imports_are_not_permitted_in_module_augmentations_Consider_moving_them_to_the_enclosing_external_module:t(2667,e.DiagnosticCategory.Error,"Imports_are_not_permitted_in_module_augmentations_Consider_moving_them_to_the_enclosing_external_mod_2667","Imports are not permitted in module augmentations. Consider moving them to the enclosing external module."),export_modifier_cannot_be_applied_to_ambient_modules_and_module_augmentations_since_they_are_always_visible:t(2668,e.DiagnosticCategory.Error,"export_modifier_cannot_be_applied_to_ambient_modules_and_module_augmentations_since_they_are_always__2668","'export' modifier cannot be applied to ambient modules and module augmentations since they are always visible."),Augmentations_for_the_global_scope_can_only_be_directly_nested_in_external_modules_or_ambient_module_declarations:t(2669,e.DiagnosticCategory.Error,"Augmentations_for_the_global_scope_can_only_be_directly_nested_in_external_modules_or_ambient_module_2669","Augmentations for the global scope can only be directly nested in external modules or ambient module declarations."),Augmentations_for_the_global_scope_should_have_declare_modifier_unless_they_appear_in_already_ambient_context:t(2670,e.DiagnosticCategory.Error,"Augmentations_for_the_global_scope_should_have_declare_modifier_unless_they_appear_in_already_ambien_2670","Augmentations for the global scope should have 'declare' modifier unless they appear in already ambient context."),Cannot_augment_module_0_because_it_resolves_to_a_non_module_entity:t(2671,e.DiagnosticCategory.Error,"Cannot_augment_module_0_because_it_resolves_to_a_non_module_entity_2671","Cannot augment module '{0}' because it resolves to a non-module entity."),Cannot_assign_a_0_constructor_type_to_a_1_constructor_type:t(2672,e.DiagnosticCategory.Error,"Cannot_assign_a_0_constructor_type_to_a_1_constructor_type_2672","Cannot assign a '{0}' constructor type to a '{1}' constructor type."),Constructor_of_class_0_is_private_and_only_accessible_within_the_class_declaration:t(2673,e.DiagnosticCategory.Error,"Constructor_of_class_0_is_private_and_only_accessible_within_the_class_declaration_2673","Constructor of class '{0}' is private and only accessible within the class declaration."),Constructor_of_class_0_is_protected_and_only_accessible_within_the_class_declaration:t(2674,e.DiagnosticCategory.Error,"Constructor_of_class_0_is_protected_and_only_accessible_within_the_class_declaration_2674","Constructor of class '{0}' is protected and only accessible within the class declaration."),Cannot_extend_a_class_0_Class_constructor_is_marked_as_private:t(2675,e.DiagnosticCategory.Error,"Cannot_extend_a_class_0_Class_constructor_is_marked_as_private_2675","Cannot extend a class '{0}'. Class constructor is marked as private."),Accessors_must_both_be_abstract_or_non_abstract:t(2676,e.DiagnosticCategory.Error,"Accessors_must_both_be_abstract_or_non_abstract_2676","Accessors must both be abstract or non-abstract."),A_type_predicate_s_type_must_be_assignable_to_its_parameter_s_type:t(2677,e.DiagnosticCategory.Error,"A_type_predicate_s_type_must_be_assignable_to_its_parameter_s_type_2677","A type predicate's type must be assignable to its parameter's type."),Type_0_is_not_comparable_to_type_1:t(2678,e.DiagnosticCategory.Error,"Type_0_is_not_comparable_to_type_1_2678","Type '{0}' is not comparable to type '{1}'."),A_function_that_is_called_with_the_new_keyword_cannot_have_a_this_type_that_is_void:t(2679,e.DiagnosticCategory.Error,"A_function_that_is_called_with_the_new_keyword_cannot_have_a_this_type_that_is_void_2679","A function that is called with the 'new' keyword cannot have a 'this' type that is 'void'."),A_0_parameter_must_be_the_first_parameter:t(2680,e.DiagnosticCategory.Error,"A_0_parameter_must_be_the_first_parameter_2680","A '{0}' parameter must be the first parameter."),A_constructor_cannot_have_a_this_parameter:t(2681,e.DiagnosticCategory.Error,"A_constructor_cannot_have_a_this_parameter_2681","A constructor cannot have a 'this' parameter."),get_and_set_accessor_must_have_the_same_this_type:t(2682,e.DiagnosticCategory.Error,"get_and_set_accessor_must_have_the_same_this_type_2682","'get' and 'set' accessor must have the same 'this' type."),this_implicitly_has_type_any_because_it_does_not_have_a_type_annotation:t(2683,e.DiagnosticCategory.Error,"this_implicitly_has_type_any_because_it_does_not_have_a_type_annotation_2683","'this' implicitly has type 'any' because it does not have a type annotation."),The_this_context_of_type_0_is_not_assignable_to_method_s_this_of_type_1:t(2684,e.DiagnosticCategory.Error,"The_this_context_of_type_0_is_not_assignable_to_method_s_this_of_type_1_2684","The 'this' context of type '{0}' is not assignable to method's 'this' of type '{1}'."),The_this_types_of_each_signature_are_incompatible:t(2685,e.DiagnosticCategory.Error,"The_this_types_of_each_signature_are_incompatible_2685","The 'this' types of each signature are incompatible."),_0_refers_to_a_UMD_global_but_the_current_file_is_a_module_Consider_adding_an_import_instead:t(2686,e.DiagnosticCategory.Error,"_0_refers_to_a_UMD_global_but_the_current_file_is_a_module_Consider_adding_an_import_instead_2686","'{0}' refers to a UMD global, but the current file is a module. Consider adding an import instead."),All_declarations_of_0_must_have_identical_modifiers:t(2687,e.DiagnosticCategory.Error,"All_declarations_of_0_must_have_identical_modifiers_2687","All declarations of '{0}' must have identical modifiers."),Cannot_find_type_definition_file_for_0:t(2688,e.DiagnosticCategory.Error,"Cannot_find_type_definition_file_for_0_2688","Cannot find type definition file for '{0}'."),Cannot_extend_an_interface_0_Did_you_mean_implements:t(2689,e.DiagnosticCategory.Error,"Cannot_extend_an_interface_0_Did_you_mean_implements_2689","Cannot extend an interface '{0}'. Did you mean 'implements'?"),An_import_path_cannot_end_with_a_0_extension_Consider_importing_1_instead:t(2691,e.DiagnosticCategory.Error,"An_import_path_cannot_end_with_a_0_extension_Consider_importing_1_instead_2691","An import path cannot end with a '{0}' extension. Consider importing '{1}' instead."),_0_is_a_primitive_but_1_is_a_wrapper_object_Prefer_using_0_when_possible:t(2692,e.DiagnosticCategory.Error,"_0_is_a_primitive_but_1_is_a_wrapper_object_Prefer_using_0_when_possible_2692","'{0}' is a primitive, but '{1}' is a wrapper object. Prefer using '{0}' when possible."),_0_only_refers_to_a_type_but_is_being_used_as_a_value_here:t(2693,e.DiagnosticCategory.Error,"_0_only_refers_to_a_type_but_is_being_used_as_a_value_here_2693","'{0}' only refers to a type, but is being used as a value here."),Namespace_0_has_no_exported_member_1:t(2694,e.DiagnosticCategory.Error,"Namespace_0_has_no_exported_member_1_2694","Namespace '{0}' has no exported member '{1}'."),Left_side_of_comma_operator_is_unused_and_has_no_side_effects:t(2695,e.DiagnosticCategory.Error,"Left_side_of_comma_operator_is_unused_and_has_no_side_effects_2695","Left side of comma operator is unused and has no side effects."),The_Object_type_is_assignable_to_very_few_other_types_Did_you_mean_to_use_the_any_type_instead:t(2696,e.DiagnosticCategory.Error,"The_Object_type_is_assignable_to_very_few_other_types_Did_you_mean_to_use_the_any_type_instead_2696","The 'Object' type is assignable to very few other types. Did you mean to use the 'any' type instead?"),An_async_function_or_method_must_return_a_Promise_Make_sure_you_have_a_declaration_for_Promise_or_include_ES2015_in_your_lib_option:t(2697,e.DiagnosticCategory.Error,"An_async_function_or_method_must_return_a_Promise_Make_sure_you_have_a_declaration_for_Promise_or_in_2697","An async function or method must return a 'Promise'. Make sure you have a declaration for 'Promise' or include 'ES2015' in your `--lib` option."),Spread_types_may_only_be_created_from_object_types:t(2698,e.DiagnosticCategory.Error,"Spread_types_may_only_be_created_from_object_types_2698","Spread types may only be created from object types."),Static_property_0_conflicts_with_built_in_property_Function_0_of_constructor_function_1:t(2699,e.DiagnosticCategory.Error,"Static_property_0_conflicts_with_built_in_property_Function_0_of_constructor_function_1_2699","Static property '{0}' conflicts with built-in property 'Function.{0}' of constructor function '{1}'."),Rest_types_may_only_be_created_from_object_types:t(2700,e.DiagnosticCategory.Error,"Rest_types_may_only_be_created_from_object_types_2700","Rest types may only be created from object types."),The_target_of_an_object_rest_assignment_must_be_a_variable_or_a_property_access:t(2701,e.DiagnosticCategory.Error,"The_target_of_an_object_rest_assignment_must_be_a_variable_or_a_property_access_2701","The target of an object rest assignment must be a variable or a property access."),_0_only_refers_to_a_type_but_is_being_used_as_a_namespace_here:t(2702,e.DiagnosticCategory.Error,"_0_only_refers_to_a_type_but_is_being_used_as_a_namespace_here_2702","'{0}' only refers to a type, but is being used as a namespace here."),The_operand_of_a_delete_operator_must_be_a_property_reference:t(2703,e.DiagnosticCategory.Error,"The_operand_of_a_delete_operator_must_be_a_property_reference_2703","The operand of a delete operator must be a property reference."),The_operand_of_a_delete_operator_cannot_be_a_read_only_property:t(2704,e.DiagnosticCategory.Error,"The_operand_of_a_delete_operator_cannot_be_a_read_only_property_2704","The operand of a delete operator cannot be a read-only property."),An_async_function_or_method_in_ES5_SlashES3_requires_the_Promise_constructor_Make_sure_you_have_a_declaration_for_the_Promise_constructor_or_include_ES2015_in_your_lib_option:t(2705,e.DiagnosticCategory.Error,"An_async_function_or_method_in_ES5_SlashES3_requires_the_Promise_constructor_Make_sure_you_have_a_de_2705","An async function or method in ES5/ES3 requires the 'Promise' constructor.  Make sure you have a declaration for the 'Promise' constructor or include 'ES2015' in your `--lib` option."),Required_type_parameters_may_not_follow_optional_type_parameters:t(2706,e.DiagnosticCategory.Error,"Required_type_parameters_may_not_follow_optional_type_parameters_2706","Required type parameters may not follow optional type parameters."),Generic_type_0_requires_between_1_and_2_type_arguments:t(2707,e.DiagnosticCategory.Error,"Generic_type_0_requires_between_1_and_2_type_arguments_2707","Generic type '{0}' requires between {1} and {2} type arguments."),Cannot_use_namespace_0_as_a_value:t(2708,e.DiagnosticCategory.Error,"Cannot_use_namespace_0_as_a_value_2708","Cannot use namespace '{0}' as a value."),Cannot_use_namespace_0_as_a_type:t(2709,e.DiagnosticCategory.Error,"Cannot_use_namespace_0_as_a_type_2709","Cannot use namespace '{0}' as a type."),_0_are_specified_twice_The_attribute_named_0_will_be_overwritten:t(2710,e.DiagnosticCategory.Error,"_0_are_specified_twice_The_attribute_named_0_will_be_overwritten_2710","'{0}' are specified twice. The attribute named '{0}' will be overwritten."),A_dynamic_import_call_returns_a_Promise_Make_sure_you_have_a_declaration_for_Promise_or_include_ES2015_in_your_lib_option:t(2711,e.DiagnosticCategory.Error,"A_dynamic_import_call_returns_a_Promise_Make_sure_you_have_a_declaration_for_Promise_or_include_ES20_2711","A dynamic import call returns a 'Promise'. Make sure you have a declaration for 'Promise' or include 'ES2015' in your `--lib` option."),A_dynamic_import_call_in_ES5_SlashES3_requires_the_Promise_constructor_Make_sure_you_have_a_declaration_for_the_Promise_constructor_or_include_ES2015_in_your_lib_option:t(2712,e.DiagnosticCategory.Error,"A_dynamic_import_call_in_ES5_SlashES3_requires_the_Promise_constructor_Make_sure_you_have_a_declarat_2712","A dynamic import call in ES5/ES3 requires the 'Promise' constructor.  Make sure you have a declaration for the 'Promise' constructor or include 'ES2015' in your `--lib` option."),Cannot_access_0_1_because_0_is_a_type_but_not_a_namespace_Did_you_mean_to_retrieve_the_type_of_the_property_1_in_0_with_0_1:t(2713,e.DiagnosticCategory.Error,"Cannot_access_0_1_because_0_is_a_type_but_not_a_namespace_Did_you_mean_to_retrieve_the_type_of_the_p_2713","Cannot access '{0}.{1}' because '{0}' is a type, but not a namespace. Did you mean to retrieve the type of the property '{1}' in '{0}' with '{0}[\"{1}\"]'?"),The_expression_of_an_export_assignment_must_be_an_identifier_or_qualified_name_in_an_ambient_context:t(2714,e.DiagnosticCategory.Error,"The_expression_of_an_export_assignment_must_be_an_identifier_or_qualified_name_in_an_ambient_context_2714","The expression of an export assignment must be an identifier or qualified name in an ambient context."),Type_parameter_0_has_a_circular_default:t(2716,e.DiagnosticCategory.Error,"Type_parameter_0_has_a_circular_default_2716","Type parameter '{0}' has a circular default."),Import_declaration_0_is_using_private_name_1:t(4e3,e.DiagnosticCategory.Error,"Import_declaration_0_is_using_private_name_1_4000","Import declaration '{0}' is using private name '{1}'."),Type_parameter_0_of_exported_class_has_or_is_using_private_name_1:t(4002,e.DiagnosticCategory.Error,"Type_parameter_0_of_exported_class_has_or_is_using_private_name_1_4002","Type parameter '{0}' of exported class has or is using private name '{1}'."),Type_parameter_0_of_exported_interface_has_or_is_using_private_name_1:t(4004,e.DiagnosticCategory.Error,"Type_parameter_0_of_exported_interface_has_or_is_using_private_name_1_4004","Type parameter '{0}' of exported interface has or is using private name '{1}'."),Type_parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1:t(4006,e.DiagnosticCategory.Error,"Type_parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1_4006","Type parameter '{0}' of constructor signature from exported interface has or is using private name '{1}'."),Type_parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1:t(4008,e.DiagnosticCategory.Error,"Type_parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1_4008","Type parameter '{0}' of call signature from exported interface has or is using private name '{1}'."),Type_parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:t(4010,e.DiagnosticCategory.Error,"Type_parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1_4010","Type parameter '{0}' of public static method from exported class has or is using private name '{1}'."),Type_parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:t(4012,e.DiagnosticCategory.Error,"Type_parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1_4012","Type parameter '{0}' of public method from exported class has or is using private name '{1}'."),Type_parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1:t(4014,e.DiagnosticCategory.Error,"Type_parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1_4014","Type parameter '{0}' of method from exported interface has or is using private name '{1}'."),Type_parameter_0_of_exported_function_has_or_is_using_private_name_1:t(4016,e.DiagnosticCategory.Error,"Type_parameter_0_of_exported_function_has_or_is_using_private_name_1_4016","Type parameter '{0}' of exported function has or is using private name '{1}'."),Implements_clause_of_exported_class_0_has_or_is_using_private_name_1:t(4019,e.DiagnosticCategory.Error,"Implements_clause_of_exported_class_0_has_or_is_using_private_name_1_4019","Implements clause of exported class '{0}' has or is using private name '{1}'."),extends_clause_of_exported_class_0_has_or_is_using_private_name_1:t(4020,e.DiagnosticCategory.Error,"extends_clause_of_exported_class_0_has_or_is_using_private_name_1_4020","'extends' clause of exported class '{0}' has or is using private name '{1}'."),extends_clause_of_exported_interface_0_has_or_is_using_private_name_1:t(4022,e.DiagnosticCategory.Error,"extends_clause_of_exported_interface_0_has_or_is_using_private_name_1_4022","'extends' clause of exported interface '{0}' has or is using private name '{1}'."),Exported_variable_0_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:t(4023,e.DiagnosticCategory.Error,"Exported_variable_0_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named_4023","Exported variable '{0}' has or is using name '{1}' from external module {2} but cannot be named."),Exported_variable_0_has_or_is_using_name_1_from_private_module_2:t(4024,e.DiagnosticCategory.Error,"Exported_variable_0_has_or_is_using_name_1_from_private_module_2_4024","Exported variable '{0}' has or is using name '{1}' from private module '{2}'."),Exported_variable_0_has_or_is_using_private_name_1:t(4025,e.DiagnosticCategory.Error,"Exported_variable_0_has_or_is_using_private_name_1_4025","Exported variable '{0}' has or is using private name '{1}'."),Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:t(4026,e.DiagnosticCategory.Error,"Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot__4026","Public static property '{0}' of exported class has or is using name '{1}' from external module {2} but cannot be named."),Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:t(4027,e.DiagnosticCategory.Error,"Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2_4027","Public static property '{0}' of exported class has or is using name '{1}' from private module '{2}'."),Public_static_property_0_of_exported_class_has_or_is_using_private_name_1:t(4028,e.DiagnosticCategory.Error,"Public_static_property_0_of_exported_class_has_or_is_using_private_name_1_4028","Public static property '{0}' of exported class has or is using private name '{1}'."),Public_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:t(4029,e.DiagnosticCategory.Error,"Public_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_name_4029","Public property '{0}' of exported class has or is using name '{1}' from external module {2} but cannot be named."),Public_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:t(4030,e.DiagnosticCategory.Error,"Public_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2_4030","Public property '{0}' of exported class has or is using name '{1}' from private module '{2}'."),Public_property_0_of_exported_class_has_or_is_using_private_name_1:t(4031,e.DiagnosticCategory.Error,"Public_property_0_of_exported_class_has_or_is_using_private_name_1_4031","Public property '{0}' of exported class has or is using private name '{1}'."),Property_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2:t(4032,e.DiagnosticCategory.Error,"Property_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2_4032","Property '{0}' of exported interface has or is using name '{1}' from private module '{2}'."),Property_0_of_exported_interface_has_or_is_using_private_name_1:t(4033,e.DiagnosticCategory.Error,"Property_0_of_exported_interface_has_or_is_using_private_name_1_4033","Property '{0}' of exported interface has or is using private name '{1}'."),Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:t(4034,e.DiagnosticCategory.Error,"Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_name_1_from_private_4034","Parameter '{0}' of public static property setter from exported class has or is using name '{1}' from private module '{2}'."),Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_private_name_1:t(4035,e.DiagnosticCategory.Error,"Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_private_name_1_4035","Parameter '{0}' of public static property setter from exported class has or is using private name '{1}'."),Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:t(4036,e.DiagnosticCategory.Error,"Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_4036","Parameter '{0}' of public property setter from exported class has or is using name '{1}' from private module '{2}'."),Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_private_name_1:t(4037,e.DiagnosticCategory.Error,"Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_private_name_1_4037","Parameter '{0}' of public property setter from exported class has or is using private name '{1}'."),Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:t(4038,e.DiagnosticCategory.Error,"Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_externa_4038","Return type of public static property getter from exported class has or is using name '{0}' from external module {1} but cannot be named."),Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:t(4039,e.DiagnosticCategory.Error,"Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_private_4039","Return type of public static property getter from exported class has or is using name '{0}' from private module '{1}'."),Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_name_0:t(4040,e.DiagnosticCategory.Error,"Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_name_0_4040","Return type of public static property getter from exported class has or is using private name '{0}'."),Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:t(4041,e.DiagnosticCategory.Error,"Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_external_modul_4041","Return type of public property getter from exported class has or is using name '{0}' from external module {1} but cannot be named."),Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:t(4042,e.DiagnosticCategory.Error,"Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_4042","Return type of public property getter from exported class has or is using name '{0}' from private module '{1}'."),Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_name_0:t(4043,e.DiagnosticCategory.Error,"Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_name_0_4043","Return type of public property getter from exported class has or is using private name '{0}'."),Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:t(4044,e.DiagnosticCategory.Error,"Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_name_0_from_private_mod_4044","Return type of constructor signature from exported interface has or is using name '{0}' from private module '{1}'."),Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_0:t(4045,e.DiagnosticCategory.Error,"Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_0_4045","Return type of constructor signature from exported interface has or is using private name '{0}'."),Return_type_of_call_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:t(4046,e.DiagnosticCategory.Error,"Return_type_of_call_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1_4046","Return type of call signature from exported interface has or is using name '{0}' from private module '{1}'."),Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_name_0:t(4047,e.DiagnosticCategory.Error,"Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_name_0_4047","Return type of call signature from exported interface has or is using private name '{0}'."),Return_type_of_index_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:t(4048,e.DiagnosticCategory.Error,"Return_type_of_index_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1_4048","Return type of index signature from exported interface has or is using name '{0}' from private module '{1}'."),Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_name_0:t(4049,e.DiagnosticCategory.Error,"Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_name_0_4049","Return type of index signature from exported interface has or is using private name '{0}'."),Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:t(4050,e.DiagnosticCategory.Error,"Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_external_module__4050","Return type of public static method from exported class has or is using name '{0}' from external module {1} but cannot be named."),Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:t(4051,e.DiagnosticCategory.Error,"Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_private_module_1_4051","Return type of public static method from exported class has or is using name '{0}' from private module '{1}'."),Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_name_0:t(4052,e.DiagnosticCategory.Error,"Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_name_0_4052","Return type of public static method from exported class has or is using private name '{0}'."),Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:t(4053,e.DiagnosticCategory.Error,"Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_c_4053","Return type of public method from exported class has or is using name '{0}' from external module {1} but cannot be named."),Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:t(4054,e.DiagnosticCategory.Error,"Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_private_module_1_4054","Return type of public method from exported class has or is using name '{0}' from private module '{1}'."),Return_type_of_public_method_from_exported_class_has_or_is_using_private_name_0:t(4055,e.DiagnosticCategory.Error,"Return_type_of_public_method_from_exported_class_has_or_is_using_private_name_0_4055","Return type of public method from exported class has or is using private name '{0}'."),Return_type_of_method_from_exported_interface_has_or_is_using_name_0_from_private_module_1:t(4056,e.DiagnosticCategory.Error,"Return_type_of_method_from_exported_interface_has_or_is_using_name_0_from_private_module_1_4056","Return type of method from exported interface has or is using name '{0}' from private module '{1}'."),Return_type_of_method_from_exported_interface_has_or_is_using_private_name_0:t(4057,e.DiagnosticCategory.Error,"Return_type_of_method_from_exported_interface_has_or_is_using_private_name_0_4057","Return type of method from exported interface has or is using private name '{0}'."),Return_type_of_exported_function_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:t(4058,e.DiagnosticCategory.Error,"Return_type_of_exported_function_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named_4058","Return type of exported function has or is using name '{0}' from external module {1} but cannot be named."),Return_type_of_exported_function_has_or_is_using_name_0_from_private_module_1:t(4059,e.DiagnosticCategory.Error,"Return_type_of_exported_function_has_or_is_using_name_0_from_private_module_1_4059","Return type of exported function has or is using name '{0}' from private module '{1}'."),Return_type_of_exported_function_has_or_is_using_private_name_0:t(4060,e.DiagnosticCategory.Error,"Return_type_of_exported_function_has_or_is_using_private_name_0_4060","Return type of exported function has or is using private name '{0}'."),Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:t(4061,e.DiagnosticCategory.Error,"Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_can_4061","Parameter '{0}' of constructor from exported class has or is using name '{1}' from external module {2} but cannot be named."),Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_private_module_2:t(4062,e.DiagnosticCategory.Error,"Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_private_module_2_4062","Parameter '{0}' of constructor from exported class has or is using name '{1}' from private module '{2}'."),Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_name_1:t(4063,e.DiagnosticCategory.Error,"Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_name_1_4063","Parameter '{0}' of constructor from exported class has or is using private name '{1}'."),Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:t(4064,e.DiagnosticCategory.Error,"Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_name_1_from_private_mod_4064","Parameter '{0}' of constructor signature from exported interface has or is using name '{1}' from private module '{2}'."),Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1:t(4065,e.DiagnosticCategory.Error,"Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1_4065","Parameter '{0}' of constructor signature from exported interface has or is using private name '{1}'."),Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:t(4066,e.DiagnosticCategory.Error,"Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2_4066","Parameter '{0}' of call signature from exported interface has or is using name '{1}' from private module '{2}'."),Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1:t(4067,e.DiagnosticCategory.Error,"Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1_4067","Parameter '{0}' of call signature from exported interface has or is using private name '{1}'."),Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:t(4068,e.DiagnosticCategory.Error,"Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_external_module__4068","Parameter '{0}' of public static method from exported class has or is using name '{1}' from external module {2} but cannot be named."),Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:t(4069,e.DiagnosticCategory.Error,"Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_private_module_2_4069","Parameter '{0}' of public static method from exported class has or is using name '{1}' from private module '{2}'."),Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:t(4070,e.DiagnosticCategory.Error,"Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1_4070","Parameter '{0}' of public static method from exported class has or is using private name '{1}'."),Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:t(4071,e.DiagnosticCategory.Error,"Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_c_4071","Parameter '{0}' of public method from exported class has or is using name '{1}' from external module {2} but cannot be named."),Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:t(4072,e.DiagnosticCategory.Error,"Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_private_module_2_4072","Parameter '{0}' of public method from exported class has or is using name '{1}' from private module '{2}'."),Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:t(4073,e.DiagnosticCategory.Error,"Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1_4073","Parameter '{0}' of public method from exported class has or is using private name '{1}'."),Parameter_0_of_method_from_exported_interface_has_or_is_using_name_1_from_private_module_2:t(4074,e.DiagnosticCategory.Error,"Parameter_0_of_method_from_exported_interface_has_or_is_using_name_1_from_private_module_2_4074","Parameter '{0}' of method from exported interface has or is using name '{1}' from private module '{2}'."),Parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1:t(4075,e.DiagnosticCategory.Error,"Parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1_4075","Parameter '{0}' of method from exported interface has or is using private name '{1}'."),Parameter_0_of_exported_function_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:t(4076,e.DiagnosticCategory.Error,"Parameter_0_of_exported_function_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named_4076","Parameter '{0}' of exported function has or is using name '{1}' from external module {2} but cannot be named."),Parameter_0_of_exported_function_has_or_is_using_name_1_from_private_module_2:t(4077,e.DiagnosticCategory.Error,"Parameter_0_of_exported_function_has_or_is_using_name_1_from_private_module_2_4077","Parameter '{0}' of exported function has or is using name '{1}' from private module '{2}'."),Parameter_0_of_exported_function_has_or_is_using_private_name_1:t(4078,e.DiagnosticCategory.Error,"Parameter_0_of_exported_function_has_or_is_using_private_name_1_4078","Parameter '{0}' of exported function has or is using private name '{1}'."),Exported_type_alias_0_has_or_is_using_private_name_1:t(4081,e.DiagnosticCategory.Error,"Exported_type_alias_0_has_or_is_using_private_name_1_4081","Exported type alias '{0}' has or is using private name '{1}'."),Default_export_of_the_module_has_or_is_using_private_name_0:t(4082,e.DiagnosticCategory.Error,"Default_export_of_the_module_has_or_is_using_private_name_0_4082","Default export of the module has or is using private name '{0}'."),Type_parameter_0_of_exported_type_alias_has_or_is_using_private_name_1:t(4083,e.DiagnosticCategory.Error,"Type_parameter_0_of_exported_type_alias_has_or_is_using_private_name_1_4083","Type parameter '{0}' of exported type alias has or is using private name '{1}'."),Conflicting_definitions_for_0_found_at_1_and_2_Consider_installing_a_specific_version_of_this_library_to_resolve_the_conflict:t(4090,e.DiagnosticCategory.Message,"Conflicting_definitions_for_0_found_at_1_and_2_Consider_installing_a_specific_version_of_this_librar_4090","Conflicting definitions for '{0}' found at '{1}' and '{2}'. Consider installing a specific version of this library to resolve the conflict."),Parameter_0_of_index_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:t(4091,e.DiagnosticCategory.Error,"Parameter_0_of_index_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2_4091","Parameter '{0}' of index signature from exported interface has or is using name '{1}' from private module '{2}'."),Parameter_0_of_index_signature_from_exported_interface_has_or_is_using_private_name_1:t(4092,e.DiagnosticCategory.Error,"Parameter_0_of_index_signature_from_exported_interface_has_or_is_using_private_name_1_4092","Parameter '{0}' of index signature from exported interface has or is using private name '{1}'."),Property_0_of_exported_class_expression_may_not_be_private_or_protected:t(4094,e.DiagnosticCategory.Error,"Property_0_of_exported_class_expression_may_not_be_private_or_protected_4094","Property '{0}' of exported class expression may not be private or protected."),The_current_host_does_not_support_the_0_option:t(5001,e.DiagnosticCategory.Error,"The_current_host_does_not_support_the_0_option_5001","The current host does not support the '{0}' option."),Cannot_find_the_common_subdirectory_path_for_the_input_files:t(5009,e.DiagnosticCategory.Error,"Cannot_find_the_common_subdirectory_path_for_the_input_files_5009","Cannot find the common subdirectory path for the input files."),File_specification_cannot_end_in_a_recursive_directory_wildcard_Asterisk_Asterisk_Colon_0:t(5010,e.DiagnosticCategory.Error,"File_specification_cannot_end_in_a_recursive_directory_wildcard_Asterisk_Asterisk_Colon_0_5010","File specification cannot end in a recursive directory wildcard ('**'): '{0}'."),File_specification_cannot_contain_multiple_recursive_directory_wildcards_Asterisk_Asterisk_Colon_0:t(5011,e.DiagnosticCategory.Error,"File_specification_cannot_contain_multiple_recursive_directory_wildcards_Asterisk_Asterisk_Colon_0_5011","File specification cannot contain multiple recursive directory wildcards ('**'): '{0}'."),Cannot_read_file_0_Colon_1:t(5012,e.DiagnosticCategory.Error,"Cannot_read_file_0_Colon_1_5012","Cannot read file '{0}': {1}."),Failed_to_parse_file_0_Colon_1:t(5014,e.DiagnosticCategory.Error,"Failed_to_parse_file_0_Colon_1_5014","Failed to parse file '{0}': {1}."),Unknown_compiler_option_0:t(5023,e.DiagnosticCategory.Error,"Unknown_compiler_option_0_5023","Unknown compiler option '{0}'."),Compiler_option_0_requires_a_value_of_type_1:t(5024,e.DiagnosticCategory.Error,"Compiler_option_0_requires_a_value_of_type_1_5024","Compiler option '{0}' requires a value of type {1}."),Could_not_write_file_0_Colon_1:t(5033,e.DiagnosticCategory.Error,"Could_not_write_file_0_Colon_1_5033","Could not write file '{0}': {1}."),Option_project_cannot_be_mixed_with_source_files_on_a_command_line:t(5042,e.DiagnosticCategory.Error,"Option_project_cannot_be_mixed_with_source_files_on_a_command_line_5042","Option 'project' cannot be mixed with source files on a command line."),Option_isolatedModules_can_only_be_used_when_either_option_module_is_provided_or_option_target_is_ES2015_or_higher:t(5047,e.DiagnosticCategory.Error,"Option_isolatedModules_can_only_be_used_when_either_option_module_is_provided_or_option_target_is_ES_5047","Option 'isolatedModules' can only be used when either option '--module' is provided or option 'target' is 'ES2015' or higher."),Option_0_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided:t(5051,e.DiagnosticCategory.Error,"Option_0_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided_5051","Option '{0} can only be used when either option '--inlineSourceMap' or option '--sourceMap' is provided."),Option_0_cannot_be_specified_without_specifying_option_1:t(5052,e.DiagnosticCategory.Error,"Option_0_cannot_be_specified_without_specifying_option_1_5052","Option '{0}' cannot be specified without specifying option '{1}'."),Option_0_cannot_be_specified_with_option_1:t(5053,e.DiagnosticCategory.Error,"Option_0_cannot_be_specified_with_option_1_5053","Option '{0}' cannot be specified with option '{1}'."),A_tsconfig_json_file_is_already_defined_at_Colon_0:t(5054,e.DiagnosticCategory.Error,"A_tsconfig_json_file_is_already_defined_at_Colon_0_5054","A 'tsconfig.json' file is already defined at: '{0}'."),Cannot_write_file_0_because_it_would_overwrite_input_file:t(5055,e.DiagnosticCategory.Error,"Cannot_write_file_0_because_it_would_overwrite_input_file_5055","Cannot write file '{0}' because it would overwrite input file."),Cannot_write_file_0_because_it_would_be_overwritten_by_multiple_input_files:t(5056,e.DiagnosticCategory.Error,"Cannot_write_file_0_because_it_would_be_overwritten_by_multiple_input_files_5056","Cannot write file '{0}' because it would be overwritten by multiple input files."),Cannot_find_a_tsconfig_json_file_at_the_specified_directory_Colon_0:t(5057,e.DiagnosticCategory.Error,"Cannot_find_a_tsconfig_json_file_at_the_specified_directory_Colon_0_5057","Cannot find a tsconfig.json file at the specified directory: '{0}'."),The_specified_path_does_not_exist_Colon_0:t(5058,e.DiagnosticCategory.Error,"The_specified_path_does_not_exist_Colon_0_5058","The specified path does not exist: '{0}'."),Invalid_value_for_reactNamespace_0_is_not_a_valid_identifier:t(5059,e.DiagnosticCategory.Error,"Invalid_value_for_reactNamespace_0_is_not_a_valid_identifier_5059","Invalid value for '--reactNamespace'. '{0}' is not a valid identifier."),Option_paths_cannot_be_used_without_specifying_baseUrl_option:t(5060,e.DiagnosticCategory.Error,"Option_paths_cannot_be_used_without_specifying_baseUrl_option_5060","Option 'paths' cannot be used without specifying '--baseUrl' option."),Pattern_0_can_have_at_most_one_Asterisk_character:t(5061,e.DiagnosticCategory.Error,"Pattern_0_can_have_at_most_one_Asterisk_character_5061","Pattern '{0}' can have at most one '*' character."),Substitution_0_in_pattern_1_in_can_have_at_most_one_Asterisk_character:t(5062,e.DiagnosticCategory.Error,"Substitution_0_in_pattern_1_in_can_have_at_most_one_Asterisk_character_5062","Substitution '{0}' in pattern '{1}' in can have at most one '*' character."),Substitutions_for_pattern_0_should_be_an_array:t(5063,e.DiagnosticCategory.Error,"Substitutions_for_pattern_0_should_be_an_array_5063","Substitutions for pattern '{0}' should be an array."),Substitution_0_for_pattern_1_has_incorrect_type_expected_string_got_2:t(5064,e.DiagnosticCategory.Error,"Substitution_0_for_pattern_1_has_incorrect_type_expected_string_got_2_5064","Substitution '{0}' for pattern '{1}' has incorrect type, expected 'string', got '{2}'."),File_specification_cannot_contain_a_parent_directory_that_appears_after_a_recursive_directory_wildcard_Asterisk_Asterisk_Colon_0:t(5065,e.DiagnosticCategory.Error,"File_specification_cannot_contain_a_parent_directory_that_appears_after_a_recursive_directory_wildca_5065","File specification cannot contain a parent directory ('..') that appears after a recursive directory wildcard ('**'): '{0}'."),Substitutions_for_pattern_0_shouldn_t_be_an_empty_array:t(5066,e.DiagnosticCategory.Error,"Substitutions_for_pattern_0_shouldn_t_be_an_empty_array_5066","Substitutions for pattern '{0}' shouldn't be an empty array."),Invalid_value_for_jsxFactory_0_is_not_a_valid_identifier_or_qualified_name:t(5067,e.DiagnosticCategory.Error,"Invalid_value_for_jsxFactory_0_is_not_a_valid_identifier_or_qualified_name_5067","Invalid value for 'jsxFactory'. '{0}' is not a valid identifier or qualified-name."),Concatenate_and_emit_output_to_single_file:t(6001,e.DiagnosticCategory.Message,"Concatenate_and_emit_output_to_single_file_6001","Concatenate and emit output to single file."),Generates_corresponding_d_ts_file:t(6002,e.DiagnosticCategory.Message,"Generates_corresponding_d_ts_file_6002","Generates corresponding '.d.ts' file."),Specify_the_location_where_debugger_should_locate_map_files_instead_of_generated_locations:t(6003,e.DiagnosticCategory.Message,"Specify_the_location_where_debugger_should_locate_map_files_instead_of_generated_locations_6003","Specify the location where debugger should locate map files instead of generated locations."),Specify_the_location_where_debugger_should_locate_TypeScript_files_instead_of_source_locations:t(6004,e.DiagnosticCategory.Message,"Specify_the_location_where_debugger_should_locate_TypeScript_files_instead_of_source_locations_6004","Specify the location where debugger should locate TypeScript files instead of source locations."),Watch_input_files:t(6005,e.DiagnosticCategory.Message,"Watch_input_files_6005","Watch input files."),Redirect_output_structure_to_the_directory:t(6006,e.DiagnosticCategory.Message,"Redirect_output_structure_to_the_directory_6006","Redirect output structure to the directory."),Do_not_erase_const_enum_declarations_in_generated_code:t(6007,e.DiagnosticCategory.Message,"Do_not_erase_const_enum_declarations_in_generated_code_6007","Do not erase const enum declarations in generated code."),Do_not_emit_outputs_if_any_errors_were_reported:t(6008,e.DiagnosticCategory.Message,"Do_not_emit_outputs_if_any_errors_were_reported_6008","Do not emit outputs if any errors were reported."),Do_not_emit_comments_to_output:t(6009,e.DiagnosticCategory.Message,"Do_not_emit_comments_to_output_6009","Do not emit comments to output."),Do_not_emit_outputs:t(6010,e.DiagnosticCategory.Message,"Do_not_emit_outputs_6010","Do not emit outputs."),Allow_default_imports_from_modules_with_no_default_export_This_does_not_affect_code_emit_just_typechecking:t(6011,e.DiagnosticCategory.Message,"Allow_default_imports_from_modules_with_no_default_export_This_does_not_affect_code_emit_just_typech_6011","Allow default imports from modules with no default export. This does not affect code emit, just typechecking."),Skip_type_checking_of_declaration_files:t(6012,e.DiagnosticCategory.Message,"Skip_type_checking_of_declaration_files_6012","Skip type checking of declaration files."),Do_not_resolve_the_real_path_of_symlinks:t(6013,e.DiagnosticCategory.Message,"Do_not_resolve_the_real_path_of_symlinks_6013","Do not resolve the real path of symlinks."),Specify_ECMAScript_target_version_Colon_ES3_default_ES5_ES2015_ES2016_ES2017_or_ESNEXT:t(6015,e.DiagnosticCategory.Message,"Specify_ECMAScript_target_version_Colon_ES3_default_ES5_ES2015_ES2016_ES2017_or_ESNEXT_6015","Specify ECMAScript target version: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017', or 'ESNEXT'."),Specify_module_code_generation_Colon_none_commonjs_amd_system_umd_es2015_or_ESNext:t(6016,e.DiagnosticCategory.Message,"Specify_module_code_generation_Colon_none_commonjs_amd_system_umd_es2015_or_ESNext_6016","Specify module code generation: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', or 'ESNext'."),Print_this_message:t(6017,e.DiagnosticCategory.Message,"Print_this_message_6017","Print this message."),Print_the_compiler_s_version:t(6019,e.DiagnosticCategory.Message,"Print_the_compiler_s_version_6019","Print the compiler's version."),Compile_the_project_given_the_path_to_its_configuration_file_or_to_a_folder_with_a_tsconfig_json:t(6020,e.DiagnosticCategory.Message,"Compile_the_project_given_the_path_to_its_configuration_file_or_to_a_folder_with_a_tsconfig_json_6020","Compile the project given the path to its configuration file, or to a folder with a 'tsconfig.json'."),Syntax_Colon_0:t(6023,e.DiagnosticCategory.Message,"Syntax_Colon_0_6023","Syntax: {0}"),options:t(6024,e.DiagnosticCategory.Message,"options_6024","options"),file:t(6025,e.DiagnosticCategory.Message,"file_6025","file"),Examples_Colon_0:t(6026,e.DiagnosticCategory.Message,"Examples_Colon_0_6026","Examples: {0}"),Options_Colon:t(6027,e.DiagnosticCategory.Message,"Options_Colon_6027","Options:"),Version_0:t(6029,e.DiagnosticCategory.Message,"Version_0_6029","Version {0}"),Insert_command_line_options_and_files_from_a_file:t(6030,e.DiagnosticCategory.Message,"Insert_command_line_options_and_files_from_a_file_6030","Insert command line options and files from a file."),File_change_detected_Starting_incremental_compilation:t(6032,e.DiagnosticCategory.Message,"File_change_detected_Starting_incremental_compilation_6032","File change detected. Starting incremental compilation..."),KIND:t(6034,e.DiagnosticCategory.Message,"KIND_6034","KIND"),FILE:t(6035,e.DiagnosticCategory.Message,"FILE_6035","FILE"),VERSION:t(6036,e.DiagnosticCategory.Message,"VERSION_6036","VERSION"),LOCATION:t(6037,e.DiagnosticCategory.Message,"LOCATION_6037","LOCATION"),DIRECTORY:t(6038,e.DiagnosticCategory.Message,"DIRECTORY_6038","DIRECTORY"),STRATEGY:t(6039,e.DiagnosticCategory.Message,"STRATEGY_6039","STRATEGY"),FILE_OR_DIRECTORY:t(6040,e.DiagnosticCategory.Message,"FILE_OR_DIRECTORY_6040","FILE OR DIRECTORY"),Compilation_complete_Watching_for_file_changes:t(6042,e.DiagnosticCategory.Message,"Compilation_complete_Watching_for_file_changes_6042","Compilation complete. Watching for file changes."),Generates_corresponding_map_file:t(6043,e.DiagnosticCategory.Message,"Generates_corresponding_map_file_6043","Generates corresponding '.map' file."),Compiler_option_0_expects_an_argument:t(6044,e.DiagnosticCategory.Error,"Compiler_option_0_expects_an_argument_6044","Compiler option '{0}' expects an argument."),Unterminated_quoted_string_in_response_file_0:t(6045,e.DiagnosticCategory.Error,"Unterminated_quoted_string_in_response_file_0_6045","Unterminated quoted string in response file '{0}'."),Argument_for_0_option_must_be_Colon_1:t(6046,e.DiagnosticCategory.Error,"Argument_for_0_option_must_be_Colon_1_6046","Argument for '{0}' option must be: {1}."),Locale_must_be_of_the_form_language_or_language_territory_For_example_0_or_1:t(6048,e.DiagnosticCategory.Error,"Locale_must_be_of_the_form_language_or_language_territory_For_example_0_or_1_6048","Locale must be of the form <language> or <language>-<territory>. For example '{0}' or '{1}'."),Unsupported_locale_0:t(6049,e.DiagnosticCategory.Error,"Unsupported_locale_0_6049","Unsupported locale '{0}'."),Unable_to_open_file_0:t(6050,e.DiagnosticCategory.Error,"Unable_to_open_file_0_6050","Unable to open file '{0}'."),Corrupted_locale_file_0:t(6051,e.DiagnosticCategory.Error,"Corrupted_locale_file_0_6051","Corrupted locale file {0}."),Raise_error_on_expressions_and_declarations_with_an_implied_any_type:t(6052,e.DiagnosticCategory.Message,"Raise_error_on_expressions_and_declarations_with_an_implied_any_type_6052","Raise error on expressions and declarations with an implied 'any' type."),File_0_not_found:t(6053,e.DiagnosticCategory.Error,"File_0_not_found_6053","File '{0}' not found."),File_0_has_unsupported_extension_The_only_supported_extensions_are_1:t(6054,e.DiagnosticCategory.Error,"File_0_has_unsupported_extension_The_only_supported_extensions_are_1_6054","File '{0}' has unsupported extension. The only supported extensions are {1}."),Suppress_noImplicitAny_errors_for_indexing_objects_lacking_index_signatures:t(6055,e.DiagnosticCategory.Message,"Suppress_noImplicitAny_errors_for_indexing_objects_lacking_index_signatures_6055","Suppress noImplicitAny errors for indexing objects lacking index signatures."),Do_not_emit_declarations_for_code_that_has_an_internal_annotation:t(6056,e.DiagnosticCategory.Message,"Do_not_emit_declarations_for_code_that_has_an_internal_annotation_6056","Do not emit declarations for code that has an '@internal' annotation."),Specify_the_root_directory_of_input_files_Use_to_control_the_output_directory_structure_with_outDir:t(6058,e.DiagnosticCategory.Message,"Specify_the_root_directory_of_input_files_Use_to_control_the_output_directory_structure_with_outDir_6058","Specify the root directory of input files. Use to control the output directory structure with --outDir."),File_0_is_not_under_rootDir_1_rootDir_is_expected_to_contain_all_source_files:t(6059,e.DiagnosticCategory.Error,"File_0_is_not_under_rootDir_1_rootDir_is_expected_to_contain_all_source_files_6059","File '{0}' is not under 'rootDir' '{1}'. 'rootDir' is expected to contain all source files."),Specify_the_end_of_line_sequence_to_be_used_when_emitting_files_Colon_CRLF_dos_or_LF_unix:t(6060,e.DiagnosticCategory.Message,"Specify_the_end_of_line_sequence_to_be_used_when_emitting_files_Colon_CRLF_dos_or_LF_unix_6060","Specify the end of line sequence to be used when emitting files: 'CRLF' (dos) or 'LF' (unix)."),NEWLINE:t(6061,e.DiagnosticCategory.Message,"NEWLINE_6061","NEWLINE"),Option_0_can_only_be_specified_in_tsconfig_json_file:t(6064,e.DiagnosticCategory.Error,"Option_0_can_only_be_specified_in_tsconfig_json_file_6064","Option '{0}' can only be specified in 'tsconfig.json' file."),Enables_experimental_support_for_ES7_decorators:t(6065,e.DiagnosticCategory.Message,"Enables_experimental_support_for_ES7_decorators_6065","Enables experimental support for ES7 decorators."),Enables_experimental_support_for_emitting_type_metadata_for_decorators:t(6066,e.DiagnosticCategory.Message,"Enables_experimental_support_for_emitting_type_metadata_for_decorators_6066","Enables experimental support for emitting type metadata for decorators."),Enables_experimental_support_for_ES7_async_functions:t(6068,e.DiagnosticCategory.Message,"Enables_experimental_support_for_ES7_async_functions_6068","Enables experimental support for ES7 async functions."),Specify_module_resolution_strategy_Colon_node_Node_js_or_classic_TypeScript_pre_1_6:t(6069,e.DiagnosticCategory.Message,"Specify_module_resolution_strategy_Colon_node_Node_js_or_classic_TypeScript_pre_1_6_6069","Specify module resolution strategy: 'node' (Node.js) or 'classic' (TypeScript pre-1.6)."),Initializes_a_TypeScript_project_and_creates_a_tsconfig_json_file:t(6070,e.DiagnosticCategory.Message,"Initializes_a_TypeScript_project_and_creates_a_tsconfig_json_file_6070","Initializes a TypeScript project and creates a tsconfig.json file."),Successfully_created_a_tsconfig_json_file:t(6071,e.DiagnosticCategory.Message,"Successfully_created_a_tsconfig_json_file_6071","Successfully created a tsconfig.json file."),Suppress_excess_property_checks_for_object_literals:t(6072,e.DiagnosticCategory.Message,"Suppress_excess_property_checks_for_object_literals_6072","Suppress excess property checks for object literals."),Stylize_errors_and_messages_using_color_and_context_experimental:t(6073,e.DiagnosticCategory.Message,"Stylize_errors_and_messages_using_color_and_context_experimental_6073","Stylize errors and messages using color and context (experimental)."),Do_not_report_errors_on_unused_labels:t(6074,e.DiagnosticCategory.Message,"Do_not_report_errors_on_unused_labels_6074","Do not report errors on unused labels."),Report_error_when_not_all_code_paths_in_function_return_a_value:t(6075,e.DiagnosticCategory.Message,"Report_error_when_not_all_code_paths_in_function_return_a_value_6075","Report error when not all code paths in function return a value."),Report_errors_for_fallthrough_cases_in_switch_statement:t(6076,e.DiagnosticCategory.Message,"Report_errors_for_fallthrough_cases_in_switch_statement_6076","Report errors for fallthrough cases in switch statement."),Do_not_report_errors_on_unreachable_code:t(6077,e.DiagnosticCategory.Message,"Do_not_report_errors_on_unreachable_code_6077","Do not report errors on unreachable code."),Disallow_inconsistently_cased_references_to_the_same_file:t(6078,e.DiagnosticCategory.Message,"Disallow_inconsistently_cased_references_to_the_same_file_6078","Disallow inconsistently-cased references to the same file."),Specify_library_files_to_be_included_in_the_compilation_Colon:t(6079,e.DiagnosticCategory.Message,"Specify_library_files_to_be_included_in_the_compilation_Colon_6079","Specify library files to be included in the compilation: "),Specify_JSX_code_generation_Colon_preserve_react_native_or_react:t(6080,e.DiagnosticCategory.Message,"Specify_JSX_code_generation_Colon_preserve_react_native_or_react_6080","Specify JSX code generation: 'preserve', 'react-native', or 'react'."),File_0_has_an_unsupported_extension_so_skipping_it:t(6081,e.DiagnosticCategory.Message,"File_0_has_an_unsupported_extension_so_skipping_it_6081","File '{0}' has an unsupported extension, so skipping it."),Only_amd_and_system_modules_are_supported_alongside_0:t(6082,e.DiagnosticCategory.Error,"Only_amd_and_system_modules_are_supported_alongside_0_6082","Only 'amd' and 'system' modules are supported alongside --{0}."),Base_directory_to_resolve_non_absolute_module_names:t(6083,e.DiagnosticCategory.Message,"Base_directory_to_resolve_non_absolute_module_names_6083","Base directory to resolve non-absolute module names."),Deprecated_Use_jsxFactory_instead_Specify_the_object_invoked_for_createElement_when_targeting_react_JSX_emit:t(6084,e.DiagnosticCategory.Message,"Deprecated_Use_jsxFactory_instead_Specify_the_object_invoked_for_createElement_when_targeting_react__6084","[Deprecated] Use '--jsxFactory' instead. Specify the object invoked for createElement when targeting 'react' JSX emit"),Enable_tracing_of_the_name_resolution_process:t(6085,e.DiagnosticCategory.Message,"Enable_tracing_of_the_name_resolution_process_6085","Enable tracing of the name resolution process."),Resolving_module_0_from_1:t(6086,e.DiagnosticCategory.Message,"Resolving_module_0_from_1_6086","======== Resolving module '{0}' from '{1}'. ========"),Explicitly_specified_module_resolution_kind_Colon_0:t(6087,e.DiagnosticCategory.Message,"Explicitly_specified_module_resolution_kind_Colon_0_6087","Explicitly specified module resolution kind: '{0}'."),Module_resolution_kind_is_not_specified_using_0:t(6088,e.DiagnosticCategory.Message,"Module_resolution_kind_is_not_specified_using_0_6088","Module resolution kind is not specified, using '{0}'."),Module_name_0_was_successfully_resolved_to_1:t(6089,e.DiagnosticCategory.Message,"Module_name_0_was_successfully_resolved_to_1_6089","======== Module name '{0}' was successfully resolved to '{1}'. ========"),Module_name_0_was_not_resolved:t(6090,e.DiagnosticCategory.Message,"Module_name_0_was_not_resolved_6090","======== Module name '{0}' was not resolved. ========"),paths_option_is_specified_looking_for_a_pattern_to_match_module_name_0:t(6091,e.DiagnosticCategory.Message,"paths_option_is_specified_looking_for_a_pattern_to_match_module_name_0_6091","'paths' option is specified, looking for a pattern to match module name '{0}'."),Module_name_0_matched_pattern_1:t(6092,e.DiagnosticCategory.Message,"Module_name_0_matched_pattern_1_6092","Module name '{0}', matched pattern '{1}'."),Trying_substitution_0_candidate_module_location_Colon_1:t(6093,e.DiagnosticCategory.Message,"Trying_substitution_0_candidate_module_location_Colon_1_6093","Trying substitution '{0}', candidate module location: '{1}'."),Resolving_module_name_0_relative_to_base_url_1_2:t(6094,e.DiagnosticCategory.Message,"Resolving_module_name_0_relative_to_base_url_1_2_6094","Resolving module name '{0}' relative to base url '{1}' - '{2}'."),Loading_module_as_file_Slash_folder_candidate_module_location_0_target_file_type_1:t(6095,e.DiagnosticCategory.Message,"Loading_module_as_file_Slash_folder_candidate_module_location_0_target_file_type_1_6095","Loading module as file / folder, candidate module location '{0}', target file type '{1}'."),File_0_does_not_exist:t(6096,e.DiagnosticCategory.Message,"File_0_does_not_exist_6096","File '{0}' does not exist."),File_0_exist_use_it_as_a_name_resolution_result:t(6097,e.DiagnosticCategory.Message,"File_0_exist_use_it_as_a_name_resolution_result_6097","File '{0}' exist - use it as a name resolution result."),Loading_module_0_from_node_modules_folder_target_file_type_1:t(6098,e.DiagnosticCategory.Message,"Loading_module_0_from_node_modules_folder_target_file_type_1_6098","Loading module '{0}' from 'node_modules' folder, target file type '{1}'."),Found_package_json_at_0:t(6099,e.DiagnosticCategory.Message,"Found_package_json_at_0_6099","Found 'package.json' at '{0}'."),package_json_does_not_have_a_0_field:t(6100,e.DiagnosticCategory.Message,"package_json_does_not_have_a_0_field_6100","'package.json' does not have a '{0}' field."),package_json_has_0_field_1_that_references_2:t(6101,e.DiagnosticCategory.Message,"package_json_has_0_field_1_that_references_2_6101","'package.json' has '{0}' field '{1}' that references '{2}'."),Allow_javascript_files_to_be_compiled:t(6102,e.DiagnosticCategory.Message,"Allow_javascript_files_to_be_compiled_6102","Allow javascript files to be compiled."),Option_0_should_have_array_of_strings_as_a_value:t(6103,e.DiagnosticCategory.Error,"Option_0_should_have_array_of_strings_as_a_value_6103","Option '{0}' should have array of strings as a value."),Checking_if_0_is_the_longest_matching_prefix_for_1_2:t(6104,e.DiagnosticCategory.Message,"Checking_if_0_is_the_longest_matching_prefix_for_1_2_6104","Checking if '{0}' is the longest matching prefix for '{1}' - '{2}'."),Expected_type_of_0_field_in_package_json_to_be_string_got_1:t(6105,e.DiagnosticCategory.Message,"Expected_type_of_0_field_in_package_json_to_be_string_got_1_6105","Expected type of '{0}' field in 'package.json' to be 'string', got '{1}'."),baseUrl_option_is_set_to_0_using_this_value_to_resolve_non_relative_module_name_1:t(6106,e.DiagnosticCategory.Message,"baseUrl_option_is_set_to_0_using_this_value_to_resolve_non_relative_module_name_1_6106","'baseUrl' option is set to '{0}', using this value to resolve non-relative module name '{1}'."),rootDirs_option_is_set_using_it_to_resolve_relative_module_name_0:t(6107,e.DiagnosticCategory.Message,"rootDirs_option_is_set_using_it_to_resolve_relative_module_name_0_6107","'rootDirs' option is set, using it to resolve relative module name '{0}'."),Longest_matching_prefix_for_0_is_1:t(6108,e.DiagnosticCategory.Message,"Longest_matching_prefix_for_0_is_1_6108","Longest matching prefix for '{0}' is '{1}'."),Loading_0_from_the_root_dir_1_candidate_location_2:t(6109,e.DiagnosticCategory.Message,"Loading_0_from_the_root_dir_1_candidate_location_2_6109","Loading '{0}' from the root dir '{1}', candidate location '{2}'."),Trying_other_entries_in_rootDirs:t(6110,e.DiagnosticCategory.Message,"Trying_other_entries_in_rootDirs_6110","Trying other entries in 'rootDirs'."),Module_resolution_using_rootDirs_has_failed:t(6111,e.DiagnosticCategory.Message,"Module_resolution_using_rootDirs_has_failed_6111","Module resolution using 'rootDirs' has failed."),Do_not_emit_use_strict_directives_in_module_output:t(6112,e.DiagnosticCategory.Message,"Do_not_emit_use_strict_directives_in_module_output_6112","Do not emit 'use strict' directives in module output."),Enable_strict_null_checks:t(6113,e.DiagnosticCategory.Message,"Enable_strict_null_checks_6113","Enable strict null checks."),Unknown_option_excludes_Did_you_mean_exclude:t(6114,e.DiagnosticCategory.Error,"Unknown_option_excludes_Did_you_mean_exclude_6114","Unknown option 'excludes'. Did you mean 'exclude'?"),Raise_error_on_this_expressions_with_an_implied_any_type:t(6115,e.DiagnosticCategory.Message,"Raise_error_on_this_expressions_with_an_implied_any_type_6115","Raise error on 'this' expressions with an implied 'any' type."),Resolving_type_reference_directive_0_containing_file_1_root_directory_2:t(6116,e.DiagnosticCategory.Message,"Resolving_type_reference_directive_0_containing_file_1_root_directory_2_6116","======== Resolving type reference directive '{0}', containing file '{1}', root directory '{2}'. ========"),Resolving_using_primary_search_paths:t(6117,e.DiagnosticCategory.Message,"Resolving_using_primary_search_paths_6117","Resolving using primary search paths..."),Resolving_from_node_modules_folder:t(6118,e.DiagnosticCategory.Message,"Resolving_from_node_modules_folder_6118","Resolving from node_modules folder..."),Type_reference_directive_0_was_successfully_resolved_to_1_primary_Colon_2:t(6119,e.DiagnosticCategory.Message,"Type_reference_directive_0_was_successfully_resolved_to_1_primary_Colon_2_6119","======== Type reference directive '{0}' was successfully resolved to '{1}', primary: {2}. ========"),Type_reference_directive_0_was_not_resolved:t(6120,e.DiagnosticCategory.Message,"Type_reference_directive_0_was_not_resolved_6120","======== Type reference directive '{0}' was not resolved. ========"),Resolving_with_primary_search_path_0:t(6121,e.DiagnosticCategory.Message,"Resolving_with_primary_search_path_0_6121","Resolving with primary search path '{0}'."),Root_directory_cannot_be_determined_skipping_primary_search_paths:t(6122,e.DiagnosticCategory.Message,"Root_directory_cannot_be_determined_skipping_primary_search_paths_6122","Root directory cannot be determined, skipping primary search paths."),Resolving_type_reference_directive_0_containing_file_1_root_directory_not_set:t(6123,e.DiagnosticCategory.Message,"Resolving_type_reference_directive_0_containing_file_1_root_directory_not_set_6123","======== Resolving type reference directive '{0}', containing file '{1}', root directory not set. ========"),Type_declaration_files_to_be_included_in_compilation:t(6124,e.DiagnosticCategory.Message,"Type_declaration_files_to_be_included_in_compilation_6124","Type declaration files to be included in compilation."),Looking_up_in_node_modules_folder_initial_location_0:t(6125,e.DiagnosticCategory.Message,"Looking_up_in_node_modules_folder_initial_location_0_6125","Looking up in 'node_modules' folder, initial location '{0}'."),Containing_file_is_not_specified_and_root_directory_cannot_be_determined_skipping_lookup_in_node_modules_folder:t(6126,e.DiagnosticCategory.Message,"Containing_file_is_not_specified_and_root_directory_cannot_be_determined_skipping_lookup_in_node_mod_6126","Containing file is not specified and root directory cannot be determined, skipping lookup in 'node_modules' folder."),Resolving_type_reference_directive_0_containing_file_not_set_root_directory_1:t(6127,e.DiagnosticCategory.Message,"Resolving_type_reference_directive_0_containing_file_not_set_root_directory_1_6127","======== Resolving type reference directive '{0}', containing file not set, root directory '{1}'. ========"),Resolving_type_reference_directive_0_containing_file_not_set_root_directory_not_set:t(6128,e.DiagnosticCategory.Message,"Resolving_type_reference_directive_0_containing_file_not_set_root_directory_not_set_6128","======== Resolving type reference directive '{0}', containing file not set, root directory not set. ========"),Resolving_real_path_for_0_result_1:t(6130,e.DiagnosticCategory.Message,"Resolving_real_path_for_0_result_1_6130","Resolving real path for '{0}', result '{1}'."),Cannot_compile_modules_using_option_0_unless_the_module_flag_is_amd_or_system:t(6131,e.DiagnosticCategory.Error,"Cannot_compile_modules_using_option_0_unless_the_module_flag_is_amd_or_system_6131","Cannot compile modules using option '{0}' unless the '--module' flag is 'amd' or 'system'."),File_name_0_has_a_1_extension_stripping_it:t(6132,e.DiagnosticCategory.Message,"File_name_0_has_a_1_extension_stripping_it_6132","File name '{0}' has a '{1}' extension - stripping it."),_0_is_declared_but_its_value_is_never_read:t(6133,e.DiagnosticCategory.Error,"_0_is_declared_but_its_value_is_never_read_6133","'{0}' is declared but its value is never read."),Report_errors_on_unused_locals:t(6134,e.DiagnosticCategory.Message,"Report_errors_on_unused_locals_6134","Report errors on unused locals."),Report_errors_on_unused_parameters:t(6135,e.DiagnosticCategory.Message,"Report_errors_on_unused_parameters_6135","Report errors on unused parameters."),The_maximum_dependency_depth_to_search_under_node_modules_and_load_JavaScript_files:t(6136,e.DiagnosticCategory.Message,"The_maximum_dependency_depth_to_search_under_node_modules_and_load_JavaScript_files_6136","The maximum dependency depth to search under node_modules and load JavaScript files."),Cannot_import_type_declaration_files_Consider_importing_0_instead_of_1:t(6137,e.DiagnosticCategory.Error,"Cannot_import_type_declaration_files_Consider_importing_0_instead_of_1_6137","Cannot import type declaration files. Consider importing '{0}' instead of '{1}'."),Property_0_is_declared_but_its_value_is_never_read:t(6138,e.DiagnosticCategory.Error,"Property_0_is_declared_but_its_value_is_never_read_6138","Property '{0}' is declared but its value is never read."),Import_emit_helpers_from_tslib:t(6139,e.DiagnosticCategory.Message,"Import_emit_helpers_from_tslib_6139","Import emit helpers from 'tslib'."),Auto_discovery_for_typings_is_enabled_in_project_0_Running_extra_resolution_pass_for_module_1_using_cache_location_2:t(6140,e.DiagnosticCategory.Error,"Auto_discovery_for_typings_is_enabled_in_project_0_Running_extra_resolution_pass_for_module_1_using__6140","Auto discovery for typings is enabled in project '{0}'. Running extra resolution pass for module '{1}' using cache location '{2}'."),Parse_in_strict_mode_and_emit_use_strict_for_each_source_file:t(6141,e.DiagnosticCategory.Message,"Parse_in_strict_mode_and_emit_use_strict_for_each_source_file_6141",'Parse in strict mode and emit "use strict" for each source file.'),Module_0_was_resolved_to_1_but_jsx_is_not_set:t(6142,e.DiagnosticCategory.Error,"Module_0_was_resolved_to_1_but_jsx_is_not_set_6142","Module '{0}' was resolved to '{1}', but '--jsx' is not set."),Module_0_was_resolved_as_locally_declared_ambient_module_in_file_1:t(6144,e.DiagnosticCategory.Message,"Module_0_was_resolved_as_locally_declared_ambient_module_in_file_1_6144","Module '{0}' was resolved as locally declared ambient module in file '{1}'."),Module_0_was_resolved_as_ambient_module_declared_in_1_since_this_file_was_not_modified:t(6145,e.DiagnosticCategory.Message,"Module_0_was_resolved_as_ambient_module_declared_in_1_since_this_file_was_not_modified_6145","Module '{0}' was resolved as ambient module declared in '{1}' since this file was not modified."),Specify_the_JSX_factory_function_to_use_when_targeting_react_JSX_emit_e_g_React_createElement_or_h:t(6146,e.DiagnosticCategory.Message,"Specify_the_JSX_factory_function_to_use_when_targeting_react_JSX_emit_e_g_React_createElement_or_h_6146","Specify the JSX factory function to use when targeting 'react' JSX emit, e.g. 'React.createElement' or 'h'."),Resolution_for_module_0_was_found_in_cache:t(6147,e.DiagnosticCategory.Message,"Resolution_for_module_0_was_found_in_cache_6147","Resolution for module '{0}' was found in cache."),Directory_0_does_not_exist_skipping_all_lookups_in_it:t(6148,e.DiagnosticCategory.Message,"Directory_0_does_not_exist_skipping_all_lookups_in_it_6148","Directory '{0}' does not exist, skipping all lookups in it."),Show_diagnostic_information:t(6149,e.DiagnosticCategory.Message,"Show_diagnostic_information_6149","Show diagnostic information."),Show_verbose_diagnostic_information:t(6150,e.DiagnosticCategory.Message,"Show_verbose_diagnostic_information_6150","Show verbose diagnostic information."),Emit_a_single_file_with_source_maps_instead_of_having_a_separate_file:t(6151,e.DiagnosticCategory.Message,"Emit_a_single_file_with_source_maps_instead_of_having_a_separate_file_6151","Emit a single file with source maps instead of having a separate file."),Emit_the_source_alongside_the_sourcemaps_within_a_single_file_requires_inlineSourceMap_or_sourceMap_to_be_set:t(6152,e.DiagnosticCategory.Message,"Emit_the_source_alongside_the_sourcemaps_within_a_single_file_requires_inlineSourceMap_or_sourceMap__6152","Emit the source alongside the sourcemaps within a single file; requires '--inlineSourceMap' or '--sourceMap' to be set."),Transpile_each_file_as_a_separate_module_similar_to_ts_transpileModule:t(6153,e.DiagnosticCategory.Message,"Transpile_each_file_as_a_separate_module_similar_to_ts_transpileModule_6153","Transpile each file as a separate module (similar to 'ts.transpileModule')."),Print_names_of_generated_files_part_of_the_compilation:t(6154,e.DiagnosticCategory.Message,"Print_names_of_generated_files_part_of_the_compilation_6154","Print names of generated files part of the compilation."),Print_names_of_files_part_of_the_compilation:t(6155,e.DiagnosticCategory.Message,"Print_names_of_files_part_of_the_compilation_6155","Print names of files part of the compilation."),The_locale_used_when_displaying_messages_to_the_user_e_g_en_us:t(6156,e.DiagnosticCategory.Message,"The_locale_used_when_displaying_messages_to_the_user_e_g_en_us_6156","The locale used when displaying messages to the user (e.g. 'en-us')"),Do_not_generate_custom_helper_functions_like_extends_in_compiled_output:t(6157,e.DiagnosticCategory.Message,"Do_not_generate_custom_helper_functions_like_extends_in_compiled_output_6157","Do not generate custom helper functions like '__extends' in compiled output."),Do_not_include_the_default_library_file_lib_d_ts:t(6158,e.DiagnosticCategory.Message,"Do_not_include_the_default_library_file_lib_d_ts_6158","Do not include the default library file (lib.d.ts)."),Do_not_add_triple_slash_references_or_imported_modules_to_the_list_of_compiled_files:t(6159,e.DiagnosticCategory.Message,"Do_not_add_triple_slash_references_or_imported_modules_to_the_list_of_compiled_files_6159","Do not add triple-slash references or imported modules to the list of compiled files."),Deprecated_Use_skipLibCheck_instead_Skip_type_checking_of_default_library_declaration_files:t(6160,e.DiagnosticCategory.Message,"Deprecated_Use_skipLibCheck_instead_Skip_type_checking_of_default_library_declaration_files_6160","[Deprecated] Use '--skipLibCheck' instead. Skip type checking of default library declaration files."),List_of_folders_to_include_type_definitions_from:t(6161,e.DiagnosticCategory.Message,"List_of_folders_to_include_type_definitions_from_6161","List of folders to include type definitions from."),Disable_size_limitations_on_JavaScript_projects:t(6162,e.DiagnosticCategory.Message,"Disable_size_limitations_on_JavaScript_projects_6162","Disable size limitations on JavaScript projects."),The_character_set_of_the_input_files:t(6163,e.DiagnosticCategory.Message,"The_character_set_of_the_input_files_6163","The character set of the input files."),Emit_a_UTF_8_Byte_Order_Mark_BOM_in_the_beginning_of_output_files:t(6164,e.DiagnosticCategory.Message,"Emit_a_UTF_8_Byte_Order_Mark_BOM_in_the_beginning_of_output_files_6164","Emit a UTF-8 Byte Order Mark (BOM) in the beginning of output files."),Do_not_truncate_error_messages:t(6165,e.DiagnosticCategory.Message,"Do_not_truncate_error_messages_6165","Do not truncate error messages."),Output_directory_for_generated_declaration_files:t(6166,e.DiagnosticCategory.Message,"Output_directory_for_generated_declaration_files_6166","Output directory for generated declaration files."),A_series_of_entries_which_re_map_imports_to_lookup_locations_relative_to_the_baseUrl:t(6167,e.DiagnosticCategory.Message,"A_series_of_entries_which_re_map_imports_to_lookup_locations_relative_to_the_baseUrl_6167","A series of entries which re-map imports to lookup locations relative to the 'baseUrl'."),List_of_root_folders_whose_combined_content_represents_the_structure_of_the_project_at_runtime:t(6168,e.DiagnosticCategory.Message,"List_of_root_folders_whose_combined_content_represents_the_structure_of_the_project_at_runtime_6168","List of root folders whose combined content represents the structure of the project at runtime."),Show_all_compiler_options:t(6169,e.DiagnosticCategory.Message,"Show_all_compiler_options_6169","Show all compiler options."),Deprecated_Use_outFile_instead_Concatenate_and_emit_output_to_single_file:t(6170,e.DiagnosticCategory.Message,"Deprecated_Use_outFile_instead_Concatenate_and_emit_output_to_single_file_6170","[Deprecated] Use '--outFile' instead. Concatenate and emit output to single file"),Command_line_Options:t(6171,e.DiagnosticCategory.Message,"Command_line_Options_6171","Command-line Options"),Basic_Options:t(6172,e.DiagnosticCategory.Message,"Basic_Options_6172","Basic Options"),Strict_Type_Checking_Options:t(6173,e.DiagnosticCategory.Message,"Strict_Type_Checking_Options_6173","Strict Type-Checking Options"),Module_Resolution_Options:t(6174,e.DiagnosticCategory.Message,"Module_Resolution_Options_6174","Module Resolution Options"),Source_Map_Options:t(6175,e.DiagnosticCategory.Message,"Source_Map_Options_6175","Source Map Options"),Additional_Checks:t(6176,e.DiagnosticCategory.Message,"Additional_Checks_6176","Additional Checks"),Experimental_Options:t(6177,e.DiagnosticCategory.Message,"Experimental_Options_6177","Experimental Options"),Advanced_Options:t(6178,e.DiagnosticCategory.Message,"Advanced_Options_6178","Advanced Options"),Provide_full_support_for_iterables_in_for_of_spread_and_destructuring_when_targeting_ES5_or_ES3:t(6179,e.DiagnosticCategory.Message,"Provide_full_support_for_iterables_in_for_of_spread_and_destructuring_when_targeting_ES5_or_ES3_6179","Provide full support for iterables in 'for-of', spread, and destructuring when targeting 'ES5' or 'ES3'."),Enable_all_strict_type_checking_options:t(6180,e.DiagnosticCategory.Message,"Enable_all_strict_type_checking_options_6180","Enable all strict type-checking options."),List_of_language_service_plugins:t(6181,e.DiagnosticCategory.Message,"List_of_language_service_plugins_6181","List of language service plugins."),Scoped_package_detected_looking_in_0:t(6182,e.DiagnosticCategory.Message,"Scoped_package_detected_looking_in_0_6182","Scoped package detected, looking in '{0}'"),Reusing_resolution_of_module_0_to_file_1_from_old_program:t(6183,e.DiagnosticCategory.Message,"Reusing_resolution_of_module_0_to_file_1_from_old_program_6183","Reusing resolution of module '{0}' to file '{1}' from old program."),Reusing_module_resolutions_originating_in_0_since_resolutions_are_unchanged_from_old_program:t(6184,e.DiagnosticCategory.Message,"Reusing_module_resolutions_originating_in_0_since_resolutions_are_unchanged_from_old_program_6184","Reusing module resolutions originating in '{0}' since resolutions are unchanged from old program."),Disable_strict_checking_of_generic_signatures_in_function_types:t(6185,e.DiagnosticCategory.Message,"Disable_strict_checking_of_generic_signatures_in_function_types_6185","Disable strict checking of generic signatures in function types."),Enable_strict_checking_of_function_types:t(6186,e.DiagnosticCategory.Message,"Enable_strict_checking_of_function_types_6186","Enable strict checking of function types."),Variable_0_implicitly_has_an_1_type:t(7005,e.DiagnosticCategory.Error,"Variable_0_implicitly_has_an_1_type_7005","Variable '{0}' implicitly has an '{1}' type."),Parameter_0_implicitly_has_an_1_type:t(7006,e.DiagnosticCategory.Error,"Parameter_0_implicitly_has_an_1_type_7006","Parameter '{0}' implicitly has an '{1}' type."),Member_0_implicitly_has_an_1_type:t(7008,e.DiagnosticCategory.Error,"Member_0_implicitly_has_an_1_type_7008","Member '{0}' implicitly has an '{1}' type."),new_expression_whose_target_lacks_a_construct_signature_implicitly_has_an_any_type:t(7009,e.DiagnosticCategory.Error,"new_expression_whose_target_lacks_a_construct_signature_implicitly_has_an_any_type_7009","'new' expression, whose target lacks a construct signature, implicitly has an 'any' type."),_0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type:t(7010,e.DiagnosticCategory.Error,"_0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type_7010","'{0}', which lacks return-type annotation, implicitly has an '{1}' return type."),Function_expression_which_lacks_return_type_annotation_implicitly_has_an_0_return_type:t(7011,e.DiagnosticCategory.Error,"Function_expression_which_lacks_return_type_annotation_implicitly_has_an_0_return_type_7011","Function expression, which lacks return-type annotation, implicitly has an '{0}' return type."),Construct_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type:t(7013,e.DiagnosticCategory.Error,"Construct_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type_7013","Construct signature, which lacks return-type annotation, implicitly has an 'any' return type."),Element_implicitly_has_an_any_type_because_index_expression_is_not_of_type_number:t(7015,e.DiagnosticCategory.Error,"Element_implicitly_has_an_any_type_because_index_expression_is_not_of_type_number_7015","Element implicitly has an 'any' type because index expression is not of type 'number'."),Could_not_find_a_declaration_file_for_module_0_1_implicitly_has_an_any_type:t(7016,e.DiagnosticCategory.Error,"Could_not_find_a_declaration_file_for_module_0_1_implicitly_has_an_any_type_7016","Could not find a declaration file for module '{0}'. '{1}' implicitly has an 'any' type."),Element_implicitly_has_an_any_type_because_type_0_has_no_index_signature:t(7017,e.DiagnosticCategory.Error,"Element_implicitly_has_an_any_type_because_type_0_has_no_index_signature_7017","Element implicitly has an 'any' type because type '{0}' has no index signature."),Object_literal_s_property_0_implicitly_has_an_1_type:t(7018,e.DiagnosticCategory.Error,"Object_literal_s_property_0_implicitly_has_an_1_type_7018","Object literal's property '{0}' implicitly has an '{1}' type."),Rest_parameter_0_implicitly_has_an_any_type:t(7019,e.DiagnosticCategory.Error,"Rest_parameter_0_implicitly_has_an_any_type_7019","Rest parameter '{0}' implicitly has an 'any[]' type."),Call_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type:t(7020,e.DiagnosticCategory.Error,"Call_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type_7020","Call signature, which lacks return-type annotation, implicitly has an 'any' return type."),_0_implicitly_has_type_any_because_it_does_not_have_a_type_annotation_and_is_referenced_directly_or_indirectly_in_its_own_initializer:t(7022,e.DiagnosticCategory.Error,"_0_implicitly_has_type_any_because_it_does_not_have_a_type_annotation_and_is_referenced_directly_or__7022","'{0}' implicitly has type 'any' because it does not have a type annotation and is referenced directly or indirectly in its own initializer."),_0_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions:t(7023,e.DiagnosticCategory.Error,"_0_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_reference_7023","'{0}' implicitly has return type 'any' because it does not have a return type annotation and is referenced directly or indirectly in one of its return expressions."),Function_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions:t(7024,e.DiagnosticCategory.Error,"Function_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_ref_7024","Function implicitly has return type 'any' because it does not have a return type annotation and is referenced directly or indirectly in one of its return expressions."),Generator_implicitly_has_type_0_because_it_does_not_yield_any_values_Consider_supplying_a_return_type:t(7025,e.DiagnosticCategory.Error,"Generator_implicitly_has_type_0_because_it_does_not_yield_any_values_Consider_supplying_a_return_typ_7025","Generator implicitly has type '{0}' because it does not yield any values. Consider supplying a return type."),JSX_element_implicitly_has_type_any_because_no_interface_JSX_0_exists:t(7026,e.DiagnosticCategory.Error,"JSX_element_implicitly_has_type_any_because_no_interface_JSX_0_exists_7026","JSX element implicitly has type 'any' because no interface 'JSX.{0}' exists."),Unreachable_code_detected:t(7027,e.DiagnosticCategory.Error,"Unreachable_code_detected_7027","Unreachable code detected."),Unused_label:t(7028,e.DiagnosticCategory.Error,"Unused_label_7028","Unused label."),Fallthrough_case_in_switch:t(7029,e.DiagnosticCategory.Error,"Fallthrough_case_in_switch_7029","Fallthrough case in switch."),Not_all_code_paths_return_a_value:t(7030,e.DiagnosticCategory.Error,"Not_all_code_paths_return_a_value_7030","Not all code paths return a value."),Binding_element_0_implicitly_has_an_1_type:t(7031,e.DiagnosticCategory.Error,"Binding_element_0_implicitly_has_an_1_type_7031","Binding element '{0}' implicitly has an '{1}' type."),Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_parameter_type_annotation:t(7032,e.DiagnosticCategory.Error,"Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_parameter_type_annotation_7032","Property '{0}' implicitly has type 'any', because its set accessor lacks a parameter type annotation."),Property_0_implicitly_has_type_any_because_its_get_accessor_lacks_a_return_type_annotation:t(7033,e.DiagnosticCategory.Error,"Property_0_implicitly_has_type_any_because_its_get_accessor_lacks_a_return_type_annotation_7033","Property '{0}' implicitly has type 'any', because its get accessor lacks a return type annotation."),Variable_0_implicitly_has_type_1_in_some_locations_where_its_type_cannot_be_determined:t(7034,e.DiagnosticCategory.Error,"Variable_0_implicitly_has_type_1_in_some_locations_where_its_type_cannot_be_determined_7034","Variable '{0}' implicitly has type '{1}' in some locations where its type cannot be determined."),Try_npm_install_types_Slash_0_if_it_exists_or_add_a_new_declaration_d_ts_file_containing_declare_module_0:t(7035,e.DiagnosticCategory.Error,"Try_npm_install_types_Slash_0_if_it_exists_or_add_a_new_declaration_d_ts_file_containing_declare_mod_7035","Try `npm install @types/{0}` if it exists or add a new declaration (.d.ts) file containing `declare module '{0}';`"),Dynamic_import_s_specifier_must_be_of_type_string_but_here_has_type_0:t(7036,e.DiagnosticCategory.Error,"Dynamic_import_s_specifier_must_be_of_type_string_but_here_has_type_0_7036","Dynamic import's specifier must be of type 'string', but here has type '{0}'."),You_cannot_rename_this_element:t(8e3,e.DiagnosticCategory.Error,"You_cannot_rename_this_element_8000","You cannot rename this element."),You_cannot_rename_elements_that_are_defined_in_the_standard_TypeScript_library:t(8001,e.DiagnosticCategory.Error,"You_cannot_rename_elements_that_are_defined_in_the_standard_TypeScript_library_8001","You cannot rename elements that are defined in the standard TypeScript library."),import_can_only_be_used_in_a_ts_file:t(8002,e.DiagnosticCategory.Error,"import_can_only_be_used_in_a_ts_file_8002","'import ... =' can only be used in a .ts file."),export_can_only_be_used_in_a_ts_file:t(8003,e.DiagnosticCategory.Error,"export_can_only_be_used_in_a_ts_file_8003","'export=' can only be used in a .ts file."),type_parameter_declarations_can_only_be_used_in_a_ts_file:t(8004,e.DiagnosticCategory.Error,"type_parameter_declarations_can_only_be_used_in_a_ts_file_8004","'type parameter declarations' can only be used in a .ts file."),implements_clauses_can_only_be_used_in_a_ts_file:t(8005,e.DiagnosticCategory.Error,"implements_clauses_can_only_be_used_in_a_ts_file_8005","'implements clauses' can only be used in a .ts file."),interface_declarations_can_only_be_used_in_a_ts_file:t(8006,e.DiagnosticCategory.Error,"interface_declarations_can_only_be_used_in_a_ts_file_8006","'interface declarations' can only be used in a .ts file."),module_declarations_can_only_be_used_in_a_ts_file:t(8007,e.DiagnosticCategory.Error,"module_declarations_can_only_be_used_in_a_ts_file_8007","'module declarations' can only be used in a .ts file."),type_aliases_can_only_be_used_in_a_ts_file:t(8008,e.DiagnosticCategory.Error,"type_aliases_can_only_be_used_in_a_ts_file_8008","'type aliases' can only be used in a .ts file."),_0_can_only_be_used_in_a_ts_file:t(8009,e.DiagnosticCategory.Error,"_0_can_only_be_used_in_a_ts_file_8009","'{0}' can only be used in a .ts file."),types_can_only_be_used_in_a_ts_file:t(8010,e.DiagnosticCategory.Error,"types_can_only_be_used_in_a_ts_file_8010","'types' can only be used in a .ts file."),type_arguments_can_only_be_used_in_a_ts_file:t(8011,e.DiagnosticCategory.Error,"type_arguments_can_only_be_used_in_a_ts_file_8011","'type arguments' can only be used in a .ts file."),parameter_modifiers_can_only_be_used_in_a_ts_file:t(8012,e.DiagnosticCategory.Error,"parameter_modifiers_can_only_be_used_in_a_ts_file_8012","'parameter modifiers' can only be used in a .ts file."),non_null_assertions_can_only_be_used_in_a_ts_file:t(8013,e.DiagnosticCategory.Error,"non_null_assertions_can_only_be_used_in_a_ts_file_8013","'non-null assertions' can only be used in a .ts file."),enum_declarations_can_only_be_used_in_a_ts_file:t(8015,e.DiagnosticCategory.Error,"enum_declarations_can_only_be_used_in_a_ts_file_8015","'enum declarations' can only be used in a .ts file."),type_assertion_expressions_can_only_be_used_in_a_ts_file:t(8016,e.DiagnosticCategory.Error,"type_assertion_expressions_can_only_be_used_in_a_ts_file_8016","'type assertion expressions' can only be used in a .ts file."),Octal_literal_types_must_use_ES2015_syntax_Use_the_syntax_0:t(8017,e.DiagnosticCategory.Error,"Octal_literal_types_must_use_ES2015_syntax_Use_the_syntax_0_8017","Octal literal types must use ES2015 syntax. Use the syntax '{0}'."),Octal_literals_are_not_allowed_in_enums_members_initializer_Use_the_syntax_0:t(8018,e.DiagnosticCategory.Error,"Octal_literals_are_not_allowed_in_enums_members_initializer_Use_the_syntax_0_8018","Octal literals are not allowed in enums members initializer. Use the syntax '{0}'."),Report_errors_in_js_files:t(8019,e.DiagnosticCategory.Message,"Report_errors_in_js_files_8019","Report errors in .js files."),JSDoc_types_can_only_be_used_inside_documentation_comments:t(8020,e.DiagnosticCategory.Error,"JSDoc_types_can_only_be_used_inside_documentation_comments_8020","JSDoc types can only be used inside documentation comments."),JSDoc_typedef_tag_should_either_have_a_type_annotation_or_be_followed_by_property_or_member_tags:t(8021,e.DiagnosticCategory.Error,"JSDoc_typedef_tag_should_either_have_a_type_annotation_or_be_followed_by_property_or_member_tags_8021","JSDoc '@typedef' tag should either have a type annotation or be followed by '@property' or '@member' tags."),JSDoc_0_is_not_attached_to_a_class:t(8022,e.DiagnosticCategory.Error,"JSDoc_0_is_not_attached_to_a_class_8022","JSDoc '@{0}' is not attached to a class."),JSDoc_0_1_does_not_match_the_extends_2_clause:t(8023,e.DiagnosticCategory.Error,"JSDoc_0_1_does_not_match_the_extends_2_clause_8023","JSDoc '@{0} {1}' does not match the 'extends {2}' clause."),JSDoc_param_tag_has_name_0_but_there_is_no_parameter_with_that_name:t(8024,e.DiagnosticCategory.Error,"JSDoc_param_tag_has_name_0_but_there_is_no_parameter_with_that_name_8024","JSDoc '@param' tag has name '{0}', but there is no parameter with that name."),Class_declarations_cannot_have_more_than_one_augments_or_extends_tag:t(8025,e.DiagnosticCategory.Error,"Class_declarations_cannot_have_more_than_one_augments_or_extends_tag_8025","Class declarations cannot have more than one `@augments` or `@extends` tag."),Only_identifiers_Slashqualified_names_with_optional_type_arguments_are_currently_supported_in_a_class_extends_clause:t(9002,e.DiagnosticCategory.Error,"Only_identifiers_Slashqualified_names_with_optional_type_arguments_are_currently_supported_in_a_clas_9002","Only identifiers/qualified-names with optional type arguments are currently supported in a class 'extends' clause."),class_expressions_are_not_currently_supported:t(9003,e.DiagnosticCategory.Error,"class_expressions_are_not_currently_supported_9003","'class' expressions are not currently supported."),Language_service_is_disabled:t(9004,e.DiagnosticCategory.Error,"Language_service_is_disabled_9004","Language service is disabled."),JSX_attributes_must_only_be_assigned_a_non_empty_expression:t(17e3,e.DiagnosticCategory.Error,"JSX_attributes_must_only_be_assigned_a_non_empty_expression_17000","JSX attributes must only be assigned a non-empty 'expression'."),JSX_elements_cannot_have_multiple_attributes_with_the_same_name:t(17001,e.DiagnosticCategory.Error,"JSX_elements_cannot_have_multiple_attributes_with_the_same_name_17001","JSX elements cannot have multiple attributes with the same name."),Expected_corresponding_JSX_closing_tag_for_0:t(17002,e.DiagnosticCategory.Error,"Expected_corresponding_JSX_closing_tag_for_0_17002","Expected corresponding JSX closing tag for '{0}'."),JSX_attribute_expected:t(17003,e.DiagnosticCategory.Error,"JSX_attribute_expected_17003","JSX attribute expected."),Cannot_use_JSX_unless_the_jsx_flag_is_provided:t(17004,e.DiagnosticCategory.Error,"Cannot_use_JSX_unless_the_jsx_flag_is_provided_17004","Cannot use JSX unless the '--jsx' flag is provided."),A_constructor_cannot_contain_a_super_call_when_its_class_extends_null:t(17005,e.DiagnosticCategory.Error,"A_constructor_cannot_contain_a_super_call_when_its_class_extends_null_17005","A constructor cannot contain a 'super' call when its class extends 'null'."),An_unary_expression_with_the_0_operator_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses:t(17006,e.DiagnosticCategory.Error,"An_unary_expression_with_the_0_operator_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_ex_17006","An unary expression with the '{0}' operator is not allowed in the left-hand side of an exponentiation expression. Consider enclosing the expression in parentheses."),A_type_assertion_expression_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses:t(17007,e.DiagnosticCategory.Error,"A_type_assertion_expression_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Con_17007","A type assertion expression is not allowed in the left-hand side of an exponentiation expression. Consider enclosing the expression in parentheses."),JSX_element_0_has_no_corresponding_closing_tag:t(17008,e.DiagnosticCategory.Error,"JSX_element_0_has_no_corresponding_closing_tag_17008","JSX element '{0}' has no corresponding closing tag."),super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class:t(17009,e.DiagnosticCategory.Error,"super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class_17009","'super' must be called before accessing 'this' in the constructor of a derived class."),Unknown_type_acquisition_option_0:t(17010,e.DiagnosticCategory.Error,"Unknown_type_acquisition_option_0_17010","Unknown type acquisition option '{0}'."),super_must_be_called_before_accessing_a_property_of_super_in_the_constructor_of_a_derived_class:t(17011,e.DiagnosticCategory.Error,"super_must_be_called_before_accessing_a_property_of_super_in_the_constructor_of_a_derived_class_17011","'super' must be called before accessing a property of 'super' in the constructor of a derived class."),_0_is_not_a_valid_meta_property_for_keyword_1_Did_you_mean_2:t(17012,e.DiagnosticCategory.Error,"_0_is_not_a_valid_meta_property_for_keyword_1_Did_you_mean_2_17012","'{0}' is not a valid meta-property for keyword '{1}'. Did you mean '{2}'?"),Meta_property_0_is_only_allowed_in_the_body_of_a_function_declaration_function_expression_or_constructor:t(17013,e.DiagnosticCategory.Error,"Meta_property_0_is_only_allowed_in_the_body_of_a_function_declaration_function_expression_or_constru_17013","Meta-property '{0}' is only allowed in the body of a function declaration, function expression, or constructor."),Circularity_detected_while_resolving_configuration_Colon_0:t(18e3,e.DiagnosticCategory.Error,"Circularity_detected_while_resolving_configuration_Colon_0_18000","Circularity detected while resolving configuration: {0}"),A_path_in_an_extends_option_must_be_relative_or_rooted_but_0_is_not:t(18001,e.DiagnosticCategory.Error,"A_path_in_an_extends_option_must_be_relative_or_rooted_but_0_is_not_18001","A path in an 'extends' option must be relative or rooted, but '{0}' is not."),The_files_list_in_config_file_0_is_empty:t(18002,e.DiagnosticCategory.Error,"The_files_list_in_config_file_0_is_empty_18002","The 'files' list in config file '{0}' is empty."),No_inputs_were_found_in_config_file_0_Specified_include_paths_were_1_and_exclude_paths_were_2:t(18003,e.DiagnosticCategory.Error,"No_inputs_were_found_in_config_file_0_Specified_include_paths_were_1_and_exclude_paths_were_2_18003","No inputs were found in config file '{0}'. Specified 'include' paths were '{1}' and 'exclude' paths were '{2}'."),Add_missing_super_call:t(90001,e.DiagnosticCategory.Message,"Add_missing_super_call_90001","Add missing 'super()' call."),Make_super_call_the_first_statement_in_the_constructor:t(90002,e.DiagnosticCategory.Message,"Make_super_call_the_first_statement_in_the_constructor_90002","Make 'super()' call the first statement in the constructor."),Change_extends_to_implements:t(90003,e.DiagnosticCategory.Message,"Change_extends_to_implements_90003","Change 'extends' to 'implements'."),Remove_declaration_for_Colon_0:t(90004,e.DiagnosticCategory.Message,"Remove_declaration_for_Colon_0_90004","Remove declaration for: '{0}'."),Implement_interface_0:t(90006,e.DiagnosticCategory.Message,"Implement_interface_0_90006","Implement interface '{0}'."),Implement_inherited_abstract_class:t(90007,e.DiagnosticCategory.Message,"Implement_inherited_abstract_class_90007","Implement inherited abstract class."),Add_this_to_unresolved_variable:t(90008,e.DiagnosticCategory.Message,"Add_this_to_unresolved_variable_90008","Add 'this.' to unresolved variable."),Adding_a_tsconfig_json_file_will_help_organize_projects_that_contain_both_TypeScript_and_JavaScript_files_Learn_more_at_https_Colon_Slash_Slashaka_ms_Slashtsconfig:t(90009,e.DiagnosticCategory.Error,"Adding_a_tsconfig_json_file_will_help_organize_projects_that_contain_both_TypeScript_and_JavaScript__90009","Adding a tsconfig.json file will help organize projects that contain both TypeScript and JavaScript files. Learn more at https://aka.ms/tsconfig."),Type_0_is_not_assignable_to_type_1_Two_different_types_with_this_name_exist_but_they_are_unrelated:t(90010,e.DiagnosticCategory.Error,"Type_0_is_not_assignable_to_type_1_Two_different_types_with_this_name_exist_but_they_are_unrelated_90010","Type '{0}' is not assignable to type '{1}'. Two different types with this name exist, but they are unrelated."),Import_0_from_1:t(90013,e.DiagnosticCategory.Message,"Import_0_from_1_90013","Import '{0}' from \"{1}\"."),Change_0_to_1:t(90014,e.DiagnosticCategory.Message,"Change_0_to_1_90014","Change '{0}' to '{1}'."),Add_0_to_existing_import_declaration_from_1:t(90015,e.DiagnosticCategory.Message,"Add_0_to_existing_import_declaration_from_1_90015","Add '{0}' to existing import declaration from \"{1}\"."),Declare_property_0:t(90016,e.DiagnosticCategory.Message,"Declare_property_0_90016","Declare property '{0}'."),Add_index_signature_for_property_0:t(90017,e.DiagnosticCategory.Message,"Add_index_signature_for_property_0_90017","Add index signature for property '{0}'."),Disable_checking_for_this_file:t(90018,e.DiagnosticCategory.Message,"Disable_checking_for_this_file_90018","Disable checking for this file."),Ignore_this_error_message:t(90019,e.DiagnosticCategory.Message,"Ignore_this_error_message_90019","Ignore this error message."),Initialize_property_0_in_the_constructor:t(90020,e.DiagnosticCategory.Message,"Initialize_property_0_in_the_constructor_90020","Initialize property '{0}' in the constructor."),Initialize_static_property_0:t(90021,e.DiagnosticCategory.Message,"Initialize_static_property_0_90021","Initialize static property '{0}'."),Change_spelling_to_0:t(90022,e.DiagnosticCategory.Message,"Change_spelling_to_0_90022","Change spelling to '{0}'."),Declare_method_0:t(90023,e.DiagnosticCategory.Message,"Declare_method_0_90023","Declare method '{0}'."),Declare_static_method_0:t(90024,e.DiagnosticCategory.Message,"Declare_static_method_0_90024","Declare static method '{0}'."),Prefix_0_with_an_underscore:t(90025,e.DiagnosticCategory.Message,"Prefix_0_with_an_underscore_90025","Prefix '{0}' with an underscore."),Rewrite_as_the_indexed_access_type_0:t(90026,e.DiagnosticCategory.Message,"Rewrite_as_the_indexed_access_type_0_90026","Rewrite as the indexed access type '{0}'."),Declare_static_property_0:t(90027,e.DiagnosticCategory.Message,"Declare_static_property_0_90027","Declare static property '{0}'."),Call_decorator_expression:t(90028,e.DiagnosticCategory.Message,"Call_decorator_expression_90028","Call decorator expression."),Convert_function_to_an_ES2015_class:t(95001,e.DiagnosticCategory.Message,"Convert_function_to_an_ES2015_class_95001","Convert function to an ES2015 class"),Convert_function_0_to_class:t(95002,e.DiagnosticCategory.Message,"Convert_function_0_to_class_95002","Convert function '{0}' to class"),Extract_symbol:t(95003,e.DiagnosticCategory.Message,"Extract_symbol_95003","Extract symbol"),Extract_to_0_in_1:t(95004,e.DiagnosticCategory.Message,"Extract_to_0_in_1_95004","Extract to {0} in {1}"),Extract_function:t(95005,e.DiagnosticCategory.Message,"Extract_function_95005","Extract function"),Extract_constant:t(95006,e.DiagnosticCategory.Message,"Extract_constant_95006","Extract constant"),Extract_to_0_in_enclosing_scope:t(95007,e.DiagnosticCategory.Message,"Extract_to_0_in_enclosing_scope_95007","Extract to {0} in enclosing scope"),Extract_to_0_in_1_scope:t(95008,e.DiagnosticCategory.Message,"Extract_to_0_in_1_scope_95008","Extract to {0} in {1} scope"),Annotate_with_type_from_JSDoc:t(95009,e.DiagnosticCategory.Message,"Annotate_with_type_from_JSDoc_95009","Annotate with type from JSDoc"),Annotate_with_types_from_JSDoc:t(95010,e.DiagnosticCategory.Message,"Annotate_with_types_from_JSDoc_95010","Annotate with types from JSDoc"),Infer_type_of_0_from_usage:t(95011,e.DiagnosticCategory.Message,"Infer_type_of_0_from_usage_95011","Infer type of '{0}' from usage."),Infer_parameter_types_from_usage:t(95012,e.DiagnosticCategory.Message,"Infer_parameter_types_from_usage_95012","Infer parameter types from usage.")}})(ts=ts||{}),(L=>{function e(e){return 71<=e}L.tokenIsIdentifierOrKeyword=e;var R=L.createMapFromTemplate({abstract:117,any:119,as:118,boolean:122,break:72,case:73,catch:74,class:75,continue:77,const:76,constructor:123,debugger:78,declare:124,default:79,delete:80,do:81,else:82,enum:83,export:84,extends:85,false:86,finally:87,for:88,from:140,function:89,get:125,if:90,implements:108,import:91,in:92,instanceof:93,interface:109,is:126,keyof:127,let:110,module:128,namespace:129,never:130,new:94,null:95,number:133,object:134,package:111,private:112,protected:113,public:114,readonly:131,require:132,global:141,return:96,set:135,static:115,string:136,super:97,switch:98,symbol:137,this:99,throw:100,true:101,try:102,type:138,typeof:103,undefined:139,var:104,void:105,while:106,with:107,yield:116,async:120,await:121,of:142,"{":17,"}":18,"(":19,")":20,"[":21,"]":22,".":23,"...":24,";":25,",":26,"<":27,">":29,"<=":30,">=":31,"==":32,"!=":33,"===":34,"!==":35,"=>":36,"+":37,"-":38,"**":40,"*":39,"/":41,"%":42,"++":43,"--":44,"<<":45,"</":28,">>":46,">>>":47,"&":48,"|":49,"^":50,"!":51,"~":52,"&&":53,"||":54,"?":55,":":56,"=":58,"+=":59,"-=":60,"*=":61,"**=":62,"/=":63,"%=":64,"<<=":65,">>=":66,">>>=":67,"&=":68,"|=":69,"^=":70,"@":57}),r=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1569,1594,1600,1610,1649,1747,1749,1749,1765,1766,1786,1788,1808,1808,1810,1836,1920,1957,2309,2361,2365,2365,2384,2384,2392,2401,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2784,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2877,2877,2908,2909,2911,2913,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3294,3294,3296,3297,3333,3340,3342,3344,3346,3368,3370,3385,3424,3425,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3805,3840,3840,3904,3911,3913,3946,3976,3979,4096,4129,4131,4135,4137,4138,4176,4181,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6067,6176,6263,6272,6312,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8319,8319,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12329,12337,12341,12344,12346,12353,12436,12445,12446,12449,12538,12540,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65138,65140,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],n=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,768,846,864,866,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1155,1158,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1425,1441,1443,1465,1467,1469,1471,1471,1473,1474,1476,1476,1488,1514,1520,1522,1569,1594,1600,1621,1632,1641,1648,1747,1749,1756,1759,1768,1770,1773,1776,1788,1808,1836,1840,1866,1920,1968,2305,2307,2309,2361,2364,2381,2384,2388,2392,2403,2406,2415,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2492,2494,2500,2503,2504,2507,2509,2519,2519,2524,2525,2527,2531,2534,2545,2562,2562,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2649,2652,2654,2654,2662,2676,2689,2691,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2784,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2876,2883,2887,2888,2891,2893,2902,2903,2908,2909,2911,2913,2918,2927,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3006,3010,3014,3016,3018,3021,3031,3031,3047,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3134,3140,3142,3144,3146,3149,3157,3158,3168,3169,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3262,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3297,3302,3311,3330,3331,3333,3340,3342,3344,3346,3368,3370,3385,3390,3395,3398,3400,3402,3405,3415,3415,3424,3425,3430,3439,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3805,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3946,3953,3972,3974,3979,3984,3991,3993,4028,4038,4038,4096,4129,4131,4135,4137,4138,4140,4146,4150,4153,4160,4169,4176,4185,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,4969,4977,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6099,6112,6121,6160,6169,6176,6263,6272,6313,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8255,8256,8319,8319,8400,8412,8417,8417,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12335,12337,12341,12344,12346,12353,12436,12441,12442,12445,12446,12449,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65056,65059,65075,65076,65101,65103,65136,65138,65140,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65381,65470,65474,65479,65482,65487,65490,65495,65498,65500],i=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2208,2208,2210,2220,2308,2361,2365,2365,2384,2384,2392,2401,2417,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7401,7404,7406,7409,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42647,42656,42735,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],a=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1319,1329,1366,1369,1369,1377,1415,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1520,1522,1552,1562,1568,1641,1646,1747,1749,1756,1759,1768,1770,1788,1791,1791,1808,1866,1869,1969,1984,2037,2042,2042,2048,2093,2112,2139,2208,2208,2210,2220,2276,2302,2304,2403,2406,2415,2417,2423,2425,2431,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2902,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3140,3142,3144,3146,3149,3157,3158,3160,3161,3168,3171,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3299,3302,3311,3313,3314,3330,3331,3333,3340,3342,3344,3346,3386,3389,3396,3398,3400,3402,3406,3415,3415,3424,3427,3430,3439,3450,3455,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5908,5920,5940,5952,5971,5984,5996,5998,6e3,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6157,6160,6169,6176,6263,6272,6314,6320,6389,6400,6428,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6617,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6912,6987,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7376,7378,7380,7414,7424,7654,7676,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8204,8205,8255,8256,8276,8276,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,11823,11823,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12442,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42647,42655,42737,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43047,43072,43123,43136,43204,43216,43225,43232,43255,43259,43259,43264,43309,43312,43347,43360,43388,43392,43456,43471,43481,43520,43574,43584,43597,43600,43609,43616,43638,43642,43643,43648,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65062,65075,65076,65101,65103,65136,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500];function s(e,t){if(!(e<t[0]))for(var r,n=0,i=t.length;n+1<i;){if(r=n+(i-n)/2,t[r-=r%2]<=e&&e<=t[1+r])return!0;e<t[r]?i=r:n=2+r}return!1}function o(e,t){return s(e,1<=t?i:r)}L.isUnicodeIdentifierStart=o,c=[],R.forEach(function(e,t){c[e]=t});var c,t=c;function l(e){for(var t=new Array,r=0,n=0;r<e.length;){var i=e.charCodeAt(r);switch(r++,i){case 13:10===e.charCodeAt(r)&&r++;case 10:t.push(n),n=r;break;default:127<i&&B(i)&&(t.push(n),n=r)}}return t.push(n),t}function u(e,t,r,n){L.Debug.assert(0<=t&&t<e.length);r=e[t]+r;return t<e.length-1?L.Debug.assert(r<e[t+1]):void 0!==n&&L.Debug.assert(r<=n.length),r}function d(e){return e.lineMap||(e.lineMap=l(e.text))}function p(e,t){var r=L.binarySearch(e,t);return r<0&&L.Debug.assert(-1!==(r=~r-1),"position cannot precede the beginning of the file"),{line:r,character:t-e[r]}}function M(e){return U(e)||B(e)}function U(e){return 32===e||9===e||11===e||12===e||160===e||133===e||5760===e||8192<=e&&e<=8203||8239===e||8287===e||12288===e||65279===e}function B(e){return 10===e||13===e||8232===e||8233===e}function j(e){return 48<=e&&e<=57}function K(e){return 48<=e&&e<=55}L.tokenToString=function(e){return t[e]},L.stringToToken=function(e){return R.get(e)},L.computeLineStarts=l,L.getPositionOfLineAndCharacter=function(e,t,r){return u(d(e),t,r,e.text)},L.computePositionOfLineAndCharacter=u,L.getLineStarts=d,L.computeLineAndCharacterOfPosition=p,L.getLineAndCharacterOfPosition=function(e,t){return p(d(e),t)},L.isWhiteSpaceLike=M,L.isWhiteSpaceSingleLine=U,L.isLineBreak=B,L.isOctalDigit=K,L.couldStartTrivia=function(e,t){var r=e.charCodeAt(t);switch(r){case 13:case 10:case 9:case 11:case 12:case 32:case 47:case 60:case 124:case 61:case 62:return!0;case 35:return 0===t;default:return 127<r}},L.skipTrivia=function(e,t,r,n){if(void 0===n&&(n=!1),L.positionIsSynthesized(t))return t;for(;;){var i=e.charCodeAt(t);switch(i){case 13:10===e.charCodeAt(t+1)&&t++;case 10:if(t++,r)return t;continue;case 9:case 11:case 12:case 32:t++;continue;case 47:if(n)break;if(47===e.charCodeAt(t+1)){for(t+=2;t<e.length&&!B(e.charCodeAt(t));)t++;continue}if(42!==e.charCodeAt(t+1))break;for(t+=2;t<e.length;){if(42===e.charCodeAt(t)&&47===e.charCodeAt(t+1)){t+=2;break}t++}continue;case 60:case 124:case 61:case 62:if(z(e,t)){t=$(e,t);continue}break;case 35:if(0===t&&J(e,t)){t=q(e,t);continue}break;default:if(127<i&&M(i)){t++;continue}}return t}};var f="<<<<<<<".length;function z(e,t){if(L.Debug.assert(0<=t),0===t||B(e.charCodeAt(t-1))){var r=e.charCodeAt(t);if(t+f<e.length){for(var n=0;n<f;n++)if(e.charCodeAt(t+n)!==r)return;return 61===r||32===e.charCodeAt(t+f)}}}function $(e,t,r){r&&r(L.Diagnostics.Merge_conflict_marker_encountered,f);var n=e.charCodeAt(t),i=e.length;if(60===n||62===n)for(;t<i&&!B(e.charCodeAt(t));)t++;else for(L.Debug.assert(124===n||61===n);t<i;){var a=e.charCodeAt(t);if((61===a||62===a)&&a!==n&&z(e,t))break;t++}return t}var _=/^#!.*/;function J(e,t){return L.Debug.assert(0===t),_.test(e)}function q(e,t){return t+=_.exec(e)[0].length}function m(e,t,r,n,i,a,s){var o,c,l,u,d=!1,p=n||0===r,f=s;e:for(;0<=r&&r<t.length;){var _=t.charCodeAt(r);switch(_){case 13:10===t.charCodeAt(r+1)&&r++;case 10:if(r++,n)break e;p=!0,d&&(u=!0);continue;case 9:case 11:case 12:case 32:r++;continue;case 47:var m=t.charCodeAt(r+1),g=!1;if(47!==m&&42!==m)break e;var h=47===m?2:3,y=r;if(r+=2,47===m)for(;r<t.length;){if(B(t.charCodeAt(r))){g=!0;break}r++}else for(;r<t.length;){if(42===t.charCodeAt(r)&&47===t.charCodeAt(r+1)){r+=2;break}r++}if(p){if(d){if(f=i(o,c,l,u,a,f),!e&&f)return f;d=!1}o=y,c=r,l=h,u=g,d=!0}continue;default:if(127<_&&M(_)){d&&B(_)&&(u=!0),r++;continue}break e}}return f=d?i(o,c,l,u,a,f):f}function g(e,t,r,n,i){return m(!0,e,t,!1,r,n,i)}function h(e,t,r,n,i){return m(!0,e,t,!0,r,n,i)}function y(e,t,r,n,i,a){return(a=a||[]).push({kind:r,pos:e,end:t,hasTrailingNewLine:n}),a}function V(e,t){return 65<=e&&e<=90||97<=e&&e<=122||36===e||95===e||127<e&&o(e,t)}function H(e,t){return 65<=e&&e<=90||97<=e&&e<=122||48<=e&&e<=57||36===e||95===e||127<e&&s(e,1<=t?a:n)}L.forEachLeadingCommentRange=function(e,t,r,n){return m(!1,e,t,!1,r,n)},L.forEachTrailingCommentRange=function(e,t,r,n){return m(!1,e,t,!0,r,n)},L.reduceEachLeadingCommentRange=g,L.reduceEachTrailingCommentRange=h,L.getLeadingCommentRanges=function(e,t){return g(e,t,y,void 0,void 0)},L.getTrailingCommentRanges=function(e,t){return h(e,t,y,void 0,void 0)},L.getShebang=function(e){if(e=_.exec(e))return e[0]},L.isIdentifierStart=V,L.isIdentifierPart=H,L.isIdentifierText=function(e,t){if(!V(e.charCodeAt(0),t))return!1;for(var r=1;r<e.length;r++)if(!H(e.charCodeAt(r),t))return!1;return!0},L.createScanner=function(a,s,o,p,r,e,t){var f,_,m,g,h,y,v,b,x,c;return void 0===o&&(o=0),O(p,e,t),{getStartPos:function(){return m},getTextPos:function(){return f},getToken:function(){return h},getTokenPos:function(){return g},getTokenText:function(){return p.substring(g,f)},getTokenValue:function(){return y},hasExtendedUnicodeEscape:function(){return b},hasPrecedingLineBreak:function(){return v},isIdentifier:function(){return 71===h||107<h},isReservedWord:function(){return 72<=h&&h<=107},isUnterminated:function(){return x},getNumericLiteralFlags:function(){return c},reScanGreaterToken:function(){if(29===h){if(62===p.charCodeAt(f))return h=62===p.charCodeAt(f+1)?61===p.charCodeAt(f+2)?(f+=3,67):(f+=2,47):61===p.charCodeAt(f+1)?(f+=2,66):(f++,46);if(61===p.charCodeAt(f))return f++,h=31}return h},reScanSlashToken:function(){if(41===h||63===h){for(var e=g+1,t=!1,r=!1;;){if(_<=e){x=!0,l(L.Diagnostics.Unterminated_regular_expression_literal);break}var n=p.charCodeAt(e);if(B(n)){x=!0,l(L.Diagnostics.Unterminated_regular_expression_literal);break}if(t)t=!1;else{if(47===n&&!r){e++;break}91===n?r=!0:92===n?t=!0:93===n&&(r=!1)}e++}for(;e<_&&H(p.charCodeAt(e),a);)e++;f=e,y=p.substring(g,f),h=12}return h},reScanTemplateToken:function(){return L.Debug.assert(18===h,"'reScanTemplateToken' should only be called on a '}'"),f=g,h=S()},scanJsxIdentifier:function(){if(71<=h){for(var e=f;f<_;){var t=p.charCodeAt(f);if(45!==t&&!(e===f?V:H)(t,a))break;f++}y+=p.substr(e,f-e)}return h},scanJsxAttributeValue:function(){switch(m=f,p.charCodeAt(f)){case 34:case 39:return y=k(!1),h=9;default:return N()}},reScanJsxToken:function(){return f=g=m,h=I()},scanJsxToken:I,scanJSDocToken:function(){if(_<=f)return h=1;g=m=f;var e=p.charCodeAt(f);switch(e){case 9:case 11:case 12:case 32:for(;f<_&&U(p.charCodeAt(f));)f++;return h=5;case 64:return f++,h=57;case 10:case 13:return f++,h=4;case 42:return f++,h=39;case 123:return f++,h=17;case 125:return f++,h=18;case 91:return f++,h=21;case 93:return f++,h=22;case 60:return f++,h=27;case 62:return f++,h=29;case 61:return f++,h=58;case 44:return f++,h=26;case 46:return f++,h=23}{if(V(e,5)){for(f++;H(p.charCodeAt(f),5)&&f<_;)f++;return h=71}return f+=1,h=0}},scan:N,getText:function(){return p},setText:O,setScriptTarget:function(e){a=e},setLanguageVariant:function(e){o=e},setOnError:function(e){r=e},setTextPos:F,tryScan:function(e){return P(e,!1)},lookAhead:function(e){return P(e,!0)},scanRange:function(e,t,r){var n=_,i=f,a=m,s=g,o=h,c=v,l=y,u=b,d=x,e=(O(p,e,t),r());return _=n,f=i,m=a,g=s,h=o,v=c,y=l,b=u,x=d,e}};function l(e,t){r&&r(e,t||0)}function u(){for(var e=f;j(p.charCodeAt(f));)f++;if(46===p.charCodeAt(f))for(f++;j(p.charCodeAt(f));)f++;var t=f;if(69===p.charCodeAt(f)||101===p.charCodeAt(f))if(f++,c=2,43!==p.charCodeAt(f)&&45!==p.charCodeAt(f)||f++,j(p.charCodeAt(f))){for(f++;j(p.charCodeAt(f));)f++;t=f}else l(L.Diagnostics.Digit_expected);return""+ +p.substring(e,t)}function n(e){return i(e,!1)}function d(e){return i(e,!0)}function i(e,t){for(var r=0,n=0;r<e||t;){var i=p.charCodeAt(f);if(48<=i&&i<=57)n=16*n+i-48;else if(65<=i&&i<=70)n=16*n+i-65+10;else{if(!(97<=i&&i<=102))break;n=16*n+i-97+10}f++,r++}return n=r<e?-1:n}function k(e){void 0===e&&(e=!0);for(var t=p.charCodeAt(f),r="",n=++f;;){if(_<=f){r+=p.substring(n,f),x=!0,l(L.Diagnostics.Unterminated_string_literal);break}var i=p.charCodeAt(f);if(i===t){r+=p.substring(n,f),f++;break}if(92===i&&e)r=(r+=p.substring(n,f))+T(),n=f;else{if(B(i)){r+=p.substring(n,f),x=!0,l(L.Diagnostics.Unterminated_string_literal);break}f++}}return r}function S(){for(var e,t=96===p.charCodeAt(f),r=++f,n="";;){if(_<=f){n+=p.substring(r,f),x=!0,l(L.Diagnostics.Unterminated_template_literal),e=t?13:16;break}var i=p.charCodeAt(f);if(96===i){n+=p.substring(r,f),f++,e=t?13:16;break}if(36===i&&f+1<_&&123===p.charCodeAt(f+1)){n+=p.substring(r,f),f+=2,e=t?14:15;break}92===i?(n=(n+=p.substring(r,f))+T(),r=f):13===i?(n+=p.substring(r,f),++f<_&&10===p.charCodeAt(f)&&f++,n+="\n",r=f):f++}return L.Debug.assert(void 0!==e),y=n,e}function T(){if(_<=++f)return l(L.Diagnostics.Unexpected_end_of_text),"";var e,t,r=p.charCodeAt(f);switch(f++,r){case 48:return"\0";case 98:return"\b";case 116:return"\t";case 110:return"\n";case 118:return"\v";case 102:return"\f";case 114:return"\r";case 39:return"'";case 34:return'"';case 117:return f<_&&123===p.charCodeAt(f)?(b=!0,f++,e=d(1),t=!1,e<0?(l(L.Diagnostics.Hexadecimal_digit_expected),t=!0):1114111<e&&(l(L.Diagnostics.An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive),t=!0),_<=f?(l(L.Diagnostics.Unexpected_end_of_text),t=!0):125===p.charCodeAt(f)?f++:(l(L.Diagnostics.Unterminated_Unicode_escape_sequence),t=!0),t?"":(t=e,L.Debug.assert(0<=t&&t<=1114111),t<=65535?String.fromCharCode(t):(e=Math.floor((t-65536)/1024)+55296,t=(t-65536)%1024+56320,String.fromCharCode(e,t)))):C(4);case 120:return C(2);case 13:f<_&&10===p.charCodeAt(f)&&f++;case 10:case 8232:case 8233:return"";default:return String.fromCharCode(r)}}function C(e){e=n(e);return 0<=e?String.fromCharCode(e):(l(L.Diagnostics.Hexadecimal_digit_expected),"")}function E(){var e,t;return f+5<_&&117===p.charCodeAt(f+1)?(e=f,f+=2,t=n(4),f=e,t):-1}function D(){for(var e="",t=f;f<_;){var r=p.charCodeAt(f);if(H(r,a))f++;else{if(92!==r)break;if(!(0<=(r=E())&&H(r,a)))break;e=(e+=p.substring(t,f))+String.fromCharCode(r),t=f+=6}}return e+=p.substring(t,f)}function A(){var e=y.length;if(2<=e&&e<=11){e=y.charCodeAt(0);if(97<=e&&e<=122&&void 0!==(h=R.get(y)))return h}return h=71}function w(e){L.Debug.assert(2===e||8===e,"Expected either base 2 or base 8");for(var t=0,r=0;;){var n=p.charCodeAt(f),i=n-48;if(!j(n)||e<=i)break;t=t*e+i,f++,r++}return 0===r?-1:t}function N(){for(m=f,x=v=b=!1,c=0;;){if(_<=(g=f))return h=1;var e,t=p.charCodeAt(f);if(35===t&&0===f&&J(p,f)){if(f=q(p,f),s)continue;return h=6}switch(t){case 10:case 13:if(v=!0,s){f++;continue}return 13===t&&f+1<_&&10===p.charCodeAt(f+1)?f+=2:f++,h=4;case 9:case 11:case 12:case 32:if(s){f++;continue}for(;f<_&&U(p.charCodeAt(f));)f++;return h=5;case 33:return 61===p.charCodeAt(f+1)?h=61===p.charCodeAt(f+2)?(f+=3,35):(f+=2,33):(f++,h=51);case 34:case 39:return y=k(),h=9;case 96:return h=S();case 37:return 61===p.charCodeAt(f+1)?(f+=2,h=64):(f++,h=42);case 38:return 38===p.charCodeAt(f+1)?(f+=2,h=53):h=61===p.charCodeAt(f+1)?(f+=2,68):(f++,48);case 40:return f++,h=19;case 41:return f++,h=20;case 42:return 61===p.charCodeAt(f+1)?(f+=2,h=61):h=42===p.charCodeAt(f+1)?61===p.charCodeAt(f+2)?(f+=3,62):(f+=2,40):(f++,39);case 43:return 43===p.charCodeAt(f+1)?(f+=2,h=43):h=61===p.charCodeAt(f+1)?(f+=2,59):(f++,37);case 44:return f++,h=26;case 45:return 45===p.charCodeAt(f+1)?(f+=2,h=44):h=61===p.charCodeAt(f+1)?(f+=2,60):(f++,38);case 46:return j(p.charCodeAt(f+1))?(y=u(),h=8):h=46===p.charCodeAt(f+1)&&46===p.charCodeAt(f+2)?(f+=3,24):(f++,23);case 47:if(47===p.charCodeAt(f+1)){for(f+=2;f<_&&!B(p.charCodeAt(f));)f++;if(s)continue;return h=2}if(42!==p.charCodeAt(f+1))return h=61===p.charCodeAt(f+1)?(f+=2,63):(f++,41);f+=2;for(var r=!1;f<_;){var n=p.charCodeAt(f);if(42===n&&47===p.charCodeAt(f+1)){f+=2,r=!0;break}B(n)&&(v=!0),f++}if(r||l(L.Diagnostics.Asterisk_Slash_expected),s)continue;return x=!r,h=3;case 48:if(f+2<_&&(88===p.charCodeAt(f+1)||120===p.charCodeAt(f+1)))return f+=2,(e=d(1))<0&&(l(L.Diagnostics.Hexadecimal_digit_expected),e=0),y=""+e,h=c=8;if(f+2<_&&(66===p.charCodeAt(f+1)||98===p.charCodeAt(f+1)))return f+=2,(e=w(2))<0&&(l(L.Diagnostics.Binary_digit_expected),e=0),y=""+e,c=16,h=8;if(f+2<_&&(79===p.charCodeAt(f+1)||111===p.charCodeAt(f+1)))return f+=2,(e=w(8))<0&&(l(L.Diagnostics.Octal_digit_expected),e=0),y=""+e,c=32,h=8;if(f+1<_&&K(p.charCodeAt(f+1)))return y=""+(()=>{for(var e=f;K(p.charCodeAt(f));)f++;return+p.substring(e,f)})(),c=4,h=8;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return y=u(),h=8;case 58:return f++,h=56;case 59:return f++,h=25;case 60:if(z(p,f)){if(f=$(p,f,l),s)continue;return h=7}return 60===p.charCodeAt(f+1)?h=61===p.charCodeAt(f+2)?(f+=3,65):(f+=2,45):h=61===p.charCodeAt(f+1)?(f+=2,30):1===o&&47===p.charCodeAt(f+1)&&42!==p.charCodeAt(f+2)?(f+=2,28):(f++,27);case 61:if(z(p,f)){if(f=$(p,f,l),s)continue;return h=7}return 61===p.charCodeAt(f+1)?h=61===p.charCodeAt(f+2)?(f+=3,34):(f+=2,32):h=62===p.charCodeAt(f+1)?(f+=2,36):(f++,58);case 62:if(z(p,f)){if(f=$(p,f,l),s)continue;return h=7}return f++,h=29;case 63:return f++,h=55;case 91:return f++,h=21;case 93:return f++,h=22;case 94:return 61===p.charCodeAt(f+1)?(f+=2,h=70):(f++,h=50);case 123:return f++,h=17;case 124:if(z(p,f)){if(f=$(p,f,l),s)continue;return h=7}return 124===p.charCodeAt(f+1)?(f+=2,h=54):h=61===p.charCodeAt(f+1)?(f+=2,69):(f++,49);case 125:return f++,h=18;case 126:return f++,h=52;case 64:return f++,h=57;case 92:var i=E();return 0<=i&&V(i,a)?(f+=6,y=String.fromCharCode(i)+D(),h=A()):(l(L.Diagnostics.Invalid_character),f++,h=0);default:if(V(t,a)){for(f++;f<_&&H(t=p.charCodeAt(f),a);)f++;return y=p.substring(g,f),92===t&&(y+=D()),h=A()}if(U(t)){f++;continue}if(B(t)){v=!0,f++;continue}return l(L.Diagnostics.Invalid_character),f++,h=0}}}function I(){if(m=g=f,_<=f)return h=1;var e=p.charCodeAt(f);if(60===e)return h=47===p.charCodeAt(f+1)?(f+=2,28):(f++,27);if(123===e)return f++,h=17;for(var t=0;f<_&&123!==(e=p.charCodeAt(f));){if(60===e){if(z(p,f))return f=$(p,f,l),h=7;break}B(e)&&0===t?t=-1:M(e)||(t=f),f++}return-1===t?11:10}function P(e,t){var r=f,n=m,i=g,a=h,s=y,o=v,e=e();return e&&!t||(f=r,m=n,g=i,h=a,y=s,v=o),e}function O(e,t,r){p=e||"",_=void 0===r?p.length:t+r,F(t||0)}function F(e){L.Debug.assert(0<=e),g=m=f=e,y=void(h=0),x=b=v=!1}}})(ts=ts||{}),(v=>{v.emptyArray=[],v.emptyMap=v.createMap(),v.externalHelpersModuleNameText="tslib",v.getDeclarationOfKind=function(e,t){if(e=e.declarations)for(var r=0,n=e;r<n.length;r++){var i=n[r];if(i.kind===t)return i}},t="";var t,r={string:function(){return t},writeKeyword:e,writeOperator:e,writePunctuation:e,writeSpace:e,writeStringLiteral:e,writeParameter:e,writeProperty:e,writeSymbol:e,writeLine:function(){return t+=" "},increaseIndent:v.noop,decreaseIndent:v.noop,clear:function(){return t=""},trackSymbol:v.noop,reportInaccessibleThisError:v.noop,reportPrivateInBaseOfClassExpression:v.noop};function e(e){return t+=e}function n(e){return e.end-e.pos}function R(e){var t;return 262144&(t=e).flags||(0==(32768&t.flags)&&!v.forEachChild(t,R)||(t.flags|=131072),t.flags|=262144),0!=(131072&e.flags)}function a(e){for(;e&&265!==e.kind;)e=e.parent;return e}function M(e,t){v.Debug.assert(0<=e);var r=v.getLineStarts(t),n=t.text;if(e+1===r.length)return n.length-1;var i=r[e],a=r[e+1]-1;for(v.Debug.assert(v.isLineBreak(n.charCodeAt(a)));i<=a&&v.isLineBreak(n.charCodeAt(a));)a--;return a}function c(e){return void 0===e||e.pos===e.end&&0<=e.pos&&1!==e.kind}function U(e){return!c(e)}function B(e,t){return 42===e.charCodeAt(t.pos+1)&&33===e.charCodeAt(t.pos+2)}function i(e,t,r){return c(e)?e.pos:v.isJSDocNode(e)?v.skipTrivia((t||a(e)).text,e.pos,!1,!0):r&&v.hasJSDocNodes(e)?i(e.jsDoc[0]):286===e.kind&&0<e._children.length?i(e._children[0],t,r):v.skipTrivia((t||a(e)).text,e.pos)}function s(e,t,r){return void 0===r&&(r=!1),c(t)?"":(e=e.text).substring(r?t.pos:v.skipTrivia(e,t.pos),t.end)}function j(e,t){return c(t)?"":e.substring(v.skipTrivia(e,t.pos),t.end)}function o(e,t){return void 0===t&&(t=!1),s(a(e),e,t)}function K(e,t){e=e.pos,t=t.pos;return e<t?-1:t<e?1:0}function z(e){e=e.emitNode;return e&&e.flags}function l(e){return 2<=e.length&&95===e.charCodeAt(0)&&95===e.charCodeAt(1)?"_"+e:e}function $(e){e=ke(e);return 226===e.kind&&260===e.parent.kind}function u(e){return e&&233===e.kind&&(9===e.name.kind||q(e))}function J(e){return v.isModuleDeclaration(e)&&9===e.name.kind}function q(e){return!!(512&e.flags)}function V(e,t){switch(e.kind){case 265:case 235:case 260:case 233:case 214:case 215:case 216:case 152:case 151:case 153:case 154:case 228:case 186:case 187:return!0;case 207:return t&&!v.isFunctionLike(t)}return!1}function H(e){return 0===n(e)?"(Missing)":o(e)}function G(e){switch(e.kind){case 71:return e.escapedText;case 9:case 8:return l(e.text);case 144:if(me(e.expression))return l(e.expression.text)}}function W(e,t,r,n,i,a){t=p(e,t);return v.createFileDiagnostic(e,t.start,t.length,r,n,i,a)}function d(e,t){e=v.createScanner(e.languageVersion,!0,e.languageVariant,e.text,void 0,t),e.scan(),t=e.getTokenPos();return v.createTextSpanFromBounds(t,e.getTextPos())}function p(e,t){var r,n=t;switch(t.kind){case 265:var i=v.skipTrivia(e.text,0,!1);return i===e.text.length?v.createTextSpan(0,0):d(e,i);case 226:case 176:case 229:case 199:case 230:case 233:case 232:case 264:case 228:case 186:case 151:case 153:case 154:case 231:n=t.name;break;case 187:var i=e,a=t,s=v.skipTrivia(i.text,a.pos);if(a.body&&207===a.body.kind){var o=v.getLineAndCharacterOfPosition(i,a.body.pos).line;if(o<v.getLineAndCharacterOfPosition(i,a.body.end).line)return v.createTextSpan(s,M(o,i)-s+1)}return v.createTextSpanFromBounds(s,a.end)}return void 0===n?d(e,t.pos):(r=c(n)?n.pos:v.skipTrivia(e.text,n.pos),v.createTextSpanFromBounds(r,n.end))}function Q(e){return!!(2&v.getCombinedNodeFlags(e))||!!(2048&v.getCombinedModifierFlags(e))}v.usingSingleLineStringWriter=function(e){var t=r.string();try{return e(r),r.string()}finally{r.clear(),r.writeKeyword(t)}},v.getFullWidth=n,v.getResolvedModule=function(e,t){return e&&e.resolvedModules&&e.resolvedModules.get(t)},v.setResolvedModule=function(e,t,r){e.resolvedModules||(e.resolvedModules=v.createMap()),e.resolvedModules.set(t,r)},v.setResolvedTypeReferenceDirective=function(e,t,r){e.resolvedTypeReferenceDirectiveNames||(e.resolvedTypeReferenceDirectiveNames=v.createMap()),e.resolvedTypeReferenceDirectiveNames.set(t,r)},v.moduleResolutionIsEqualTo=function(e,t){return e.isExternalLibraryImport===t.isExternalLibraryImport&&e.extension===t.extension&&e.resolvedFileName===t.resolvedFileName&&(e=e.packageId,t=t.packageId,e===t||e&&t&&e.name===t.name&&e.subModuleName===t.subModuleName&&e.version===t.version)},v.typeDirectiveIsEqualTo=function(e,t){return e.resolvedFileName===t.resolvedFileName&&e.primary===t.primary},v.hasChangesInResolutions=function(e,t,r,n){v.Debug.assert(e.length===t.length);for(var i=0;i<e.length;i++){var a=t[i],s=r&&r.get(e[i]);if(s?!a||!n(s,a):a)return!0}return!1},v.containsParseError=R,v.getSourceFileOfNode=a,v.isStatementWithLocals=function(e){switch(e.kind){case 207:case 235:case 214:case 215:case 216:return!0}return!1},v.getStartPositionOfLine=function(e,t){return v.Debug.assert(0<=e),v.getLineStarts(t)[e]},v.nodePosToString=function(e){var t=a(e),e=v.getLineAndCharacterOfPosition(t,e.pos);return t.fileName+"("+(e.line+1)+","+(e.character+1)+")"},v.getEndLinePosition=M,v.nodeIsMissing=c,v.nodeIsPresent=U,v.isRecognizedTripleSlashComment=function(e,t,r){return 47===e.charCodeAt(t+1)&&t+2<r&&47===e.charCodeAt(t+2)&&!!((e=e.substring(t,r)).match(v.fullTripleSlashReferencePathRegEx)||e.match(v.fullTripleSlashAMDReferencePathRegEx)||e.match(Y)||e.match(X))},v.isPinnedComment=B,v.getTokenPosOfNode=i,v.getNonDecoratorTokenPosOfNode=function(e,t){return c(e)||!e.decorators?i(e,t):v.skipTrivia((t||a(e)).text,e.decorators.end)},v.getSourceTextOfNodeFromSourceFile=s,v.getTextOfNodeFromSourceText=j,v.getTextOfNode=o,v.indexOfNode=function(e,t){return v.binarySearch(e,t,K)},v.getEmitFlags=z,v.getLiteralText=function(e,t){if(!Se(e)&&e.parent)return s(t,e);var r=16777216&z(e)?Pe:Me;switch(e.kind){case 9:return e.singleQuote?"'"+r(e.text,39)+"'":'"'+r(e.text,34)+'"';case 13:return"`"+r(e.text,96)+"`";case 14:return"`"+r(e.text,96)+"${";case 15:return"}"+r(e.text,96)+"${";case 16:return"}"+r(e.text,96)+"`";case 8:case 12:return e.text}v.Debug.fail("Literal kind '"+e.kind+"' not accounted for.")},v.getTextOfConstantValue=function(e){return v.isString(e)?'"'+Me(e)+'"':""+e},v.escapeLeadingUnderscores=l,v.escapeIdentifier=function(e){return e},v.makeIdentifierFromModuleName=function(e){return v.getBaseFileName(e).replace(/^(\d)/,"_$1").replace(/\W/g,"_")},v.isBlockOrCatchScoped=function(e){return 0!=(3&v.getCombinedNodeFlags(e))||$(e)},v.isCatchClauseVariableDeclarationOrBindingElement=$,v.isAmbientModule=u,v.isModuleWithStringLiteralName=J,v.isNonGlobalAmbientModule=function(e){return v.isModuleDeclaration(e)&&v.isStringLiteral(e.name)},v.isShorthandAmbientModuleSymbol=function(e){return(e=e.valueDeclaration)&&233===e.kind&&!e.body},v.isBlockScopedContainerTopLevel=function(e){return 265===e.kind||233===e.kind||v.isFunctionLike(e)},v.isGlobalScopeAugmentation=q,v.isExternalModuleAugmentation=function(e){if(e&&u(e))switch(e.parent.kind){case 265:return v.isExternalModule(e.parent);case 234:return u(e.parent.parent)&&!v.isExternalModule(e.parent.parent.parent)}return!1},v.isEffectiveExternalModule=function(e,t){return v.isExternalModule(e)||t.isolatedModules},v.isBlockScope=V,v.isDeclarationWithTypeParameters=function(e){switch(e.kind){case 155:case 156:case 150:case 157:case 160:case 161:case 273:case 229:case 199:case 230:case 231:case 282:case 228:case 151:case 152:case 153:case 154:case 186:case 187:return!0;default:return v.assertTypeIsNever(e),!1}},v.isAnyImportSyntax=function(e){switch(e.kind){case 238:case 237:return!0;default:return!1}},v.getEnclosingBlockScopeContainer=function(e){for(var t=e.parent;t;){if(V(t,t.parent))return t;t=t.parent}},v.declarationNameToString=H,v.getNameFromIndexInfo=function(e){return e.declaration?H(e.declaration.parameters[0].name):void 0},v.getTextOfPropertyName=G,v.entityNameToString=function e(t){switch(t.kind){case 71:return 0===n(t)?v.idText(t):o(t);case 143:return e(t.left)+"."+e(t.right);case 179:return e(t.expression)+"."+e(t.name)}},v.createDiagnosticForNode=function(e,t,r,n,i){return W(a(e),e,t,r,n,i)},v.createDiagnosticForNodeInSourceFile=W,v.createDiagnosticForNodeFromMessageChain=function(e,t){var r=a(e),e=p(r,e);return{file:r,start:e.start,length:e.length,code:t.code,category:t.category,messageText:t.next?t:t.messageText}},v.getSpanOfTokenAtPosition=d,v.getErrorSpanForNode=p,v.isExternalOrCommonJsModule=function(e){return void 0!==(e.externalModuleIndicator||e.commonJsModuleIndicator)},v.isConstEnumDeclaration=function(e){return 232===e.kind&&Q(e)},v.isConst=Q,v.isLet=function(e){return!!(1&v.getCombinedNodeFlags(e))},v.isSuperCall=function(e){return 181===e.kind&&97===e.expression.kind},v.isImportCall=function(e){return 181===e.kind&&91===e.expression.kind},v.isPrologueDirective=function(e){return 210===e.kind&&9===e.expression.kind},v.getLeadingCommentRangesOfNode=function(e,t){return 10!==e.kind?v.getLeadingCommentRanges(t.text,e.pos):void 0},v.getJSDocCommentRanges=function(e,r,t){let n=146===e.kind||145===e.kind||186===e.kind||187===e.kind||185===e.kind?v.concatenate(v.getTrailingCommentRanges(r,e.pos),v.getLeadingCommentRanges(r,e.pos)):v.getLeadingCommentRanges(r,e.pos),i=t?.emitBlockCommentsAsJsDocs;return v.filter(n,function(e){return t=e,42===r.charCodeAt(t.pos+1)&&42===r.charCodeAt(t.pos+2)&&47!==r.charCodeAt(t.pos+3)||i&&(t=e,47===r.charCodeAt(t.pos+0))&&47===r.charCodeAt(t.pos+1)&&37===r.charCodeAt(t.pos+2);var t})},v.fullTripleSlashReferencePathRegEx=/^(\/\/\/\s*<reference\s+path\s*=\s*)('|")(.+?)\2.*?\/>/;var f,Y=/^(\/\/\/\s*<reference\s+types\s*=\s*)('|")(.+?)\2.*?\/>/,X=(v.fullTripleSlashAMDReferencePathRegEx=/^(\/\/\/\s*<amd-dependency\s+path\s*=\s*)('|")(.+?)\2.*?\/>/,/^(\/\/\/\s*<reference\s+no-default-lib\s*=\s*)('|")(.+?)\2\s*\/>/);function Z(e){if(158<=e.kind&&e.kind<=173)return!0;switch(e.kind){case 119:case 133:case 136:case 122:case 137:case 139:case 130:return!0;case 105:return 190!==e.parent.kind;case 201:return!w(e);case 71:(143===e.parent.kind&&e.parent.right===e||179===e.parent.kind&&e.parent.name===e)&&(e=e.parent),v.Debug.assert(71===e.kind||143===e.kind||179===e.kind,"'node' was expected to be a qualified name, identifier or property access in 'isPartOfTypeNode'.");case 143:case 179:case 99:var t=e.parent;if(162===t.kind)return!1;if(158<=t.kind&&t.kind<=173)return!0;switch(t.kind){case 201:return!w(t);case 145:return e===t.constraint;case 149:case 148:case 146:case 226:return e===t.type;case 228:case 186:case 187:case 152:case 151:case 150:case 153:case 154:return e===t.type;case 155:case 156:case 157:case 184:return e===t.type;case 181:case 182:return t.typeArguments&&0<=v.indexOf(t.typeArguments,e);case 183:return!1}}return!1}function ee(e){if(e)switch(e.kind){case 176:case 264:case 146:case 261:case 149:case 148:case 262:case 226:return!0}return!1}function te(e,t){for(;;){if(!(e=e.parent))return;switch(e.kind){case 144:if(v.isClassLike(e.parent.parent))return e;e=e.parent;break;case 147:146===e.parent.kind&&v.isClassElement(e.parent.parent)?e=e.parent.parent:v.isClassElement(e.parent)&&(e=e.parent);break;case 187:if(!t)continue;case 228:case 186:case 233:case 149:case 148:case 151:case 150:case 152:case 153:case 154:case 155:case 156:case 157:case 232:case 265:return e}}}function re(e){switch(e.kind){case 229:return!0;case 149:return 229===e.parent.kind;case 153:case 154:case 151:return void 0!==e.body&&229===e.parent.kind;case 146:return void 0!==e.parent.body&&(152===e.parent.kind||151===e.parent.kind||154===e.parent.kind)&&229===e.parent.parent.kind}return!1}function _(e){return void 0!==e.decorators&&re(e)}function ne(e){return _(e)||ie(e)}function ie(e){switch(e.kind){case 229:return v.forEach(e.members,ne);case 151:case 154:return v.forEach(e.parameters,_)}}function m(e){var t=e.parent;return(251===t.kind||250===t.kind||252===t.kind)&&t.tagName===e}function ae(e){switch(e.kind){case 97:case 95:case 101:case 86:case 12:case 177:case 178:case 179:case 180:case 181:case 182:case 183:case 202:case 184:case 203:case 185:case 186:case 199:case 187:case 190:case 188:case 189:case 192:case 193:case 194:case 195:case 198:case 196:case 13:case 200:case 249:case 250:case 197:case 191:case 204:return!0;case 143:for(;143===e.parent.kind;)e=e.parent;return 162===e.parent.kind||m(e);case 71:if(162===e.parent.kind||m(e))return!0;case 8:case 9:case 99:return se(e);default:return!1}}function se(e){var t=e.parent;switch(t.kind){case 226:case 146:case 149:case 148:case 264:case 261:case 176:return t.initializer===e;case 210:case 211:case 212:case 213:case 219:case 220:case 221:case 257:case 223:return t.expression===e;case 214:return t.initializer===e&&227!==t.initializer.kind||t.condition===e||t.incrementor===e;case 215:case 216:return t.initializer===e&&227!==t.initializer.kind||t.expression===e;case 184:case 202:case 205:case 144:return e===t.expression;case 147:case 256:case 255:case 263:return!0;case 201:return t.expression===e&&w(t);default:return ae(t)}}function oe(e){return 237===e.kind&&248===e.moduleReference.kind}function ce(e){return g(e)}function g(e){return e&&!!(65536&e.flags)}function le(e){if(g(e)&&58===e.operatorToken.kind&&179===e.left.kind){e=e.left;if(71===e.expression.kind)return"exports"===(t=e.expression).escapedText?1:"module"===t.escapedText&&"exports"===e.name.escapedText?2:5;if(99===e.expression.kind)return 4;if(179===e.expression.kind){var t=e.expression;if(71===t.expression.kind){if("module"===t.expression.escapedText&&"exports"===t.name.escapedText)return 1;if("prototype"===t.name.escapedText)return 3}}}return 0}function h(e){return v.isExpressionStatement(e)&&e.expression&&v.isBinaryExpression(e.expression)&&58===e.expression.operatorToken.kind&&e.expression.right}function y(e,t){return v.isVariableStatement(e)&&0<e.declarationList.declarations.length&&(!t||e.declarationList.declarations[0].initializer===t)&&e.declarationList.declarations[0].initializer}function b(e,t){return v.isVariableStatement(e)&&0<e.declarationList.declarations.length&&(!t||e.declarationList.declarations[0]===t)&&e.declarationList.declarations[0]}function x(e){return 233===e.kind&&e.body&&233===e.body.kind&&e.body}function ue(e){var n;return function e(t){var r=t.parent;r&&(261===r.kind||x(r))&&e(r);r&&r.parent&&(b(r.parent,t)||h(r.parent))&&e(r.parent);r&&r.parent&&r.parent.parent&&y(r.parent.parent,t)&&e(r.parent.parent);146===t.kind&&(n=v.addRange(n,v.getJSDocParameterTags(t)));ee(t)&&t.initializer&&v.hasJSDocNodes(t.initializer)&&(n=v.addRange(n,t.initializer.jsDoc));v.hasJSDocNodes(t)&&(n=v.addRange(n,t.jsDoc))}(e),n||v.emptyArray}function de(e){return v.Debug.assert(275===e.parent.kind),e.parent.parent}function pe(e){return void 0!==e.dotDotDotToken}function fe(e){for(var t=e.parent;;){switch(t.kind){case 194:var r=t.operatorToken.kind;return A(r)&&t.left===e?58===r?1:2:0;case 192:case 193:r=t.operator;return 43===r||44===r?2:0;case 215:case 216:return t.initializer===e?1:0;case 185:case 177:case 198:e=t;break;case 262:if(t.name!==e)return 0;e=t.parent;break;case 261:if(t.name===e)return 0;e=t.parent;break;default:return 0}t=e.parent}}function _e(e){return N(e.expression)}function k(e,t){if(e)for(var r=0,n=e;r<n.length;r++){var i=n[r];if(i.token===t)return i}}function me(e){e=e.kind;return 9===e||8===e}function ge(e){e=v.getNameOfDeclaration(e);return e&&he(e)}function he(e){return 144===e.kind&&!me(e.expression)&&!ye(e.expression)}function ye(e){return v.isPropertyAccessExpression(e)&&xe(e.expression)}function ve(e){if(71===e.kind)return e.escapedText;if(9===e.kind||8===e.kind)return l(e.text);if(144===e.kind){e=e.expression;if(ye(e))return be(v.idText(e.name));if(9===e.kind||8===e.kind)return l(e.text)}}function be(e){return"__@"+e}function xe(e){return 71===e.kind&&"Symbol"===e.escapedText}function ke(e){for(;176===e.kind;)e=e.parent.parent;return e}function Se(e){return v.positionIsSynthesized(e.pos)||v.positionIsSynthesized(e.end)}function Te(e,t,r){switch(e){case 182:return r?0:1;case 192:case 189:case 190:case 188:case 191:case 195:case 197:return 1;case 194:switch(t){case 40:case 58:case 59:case 60:case 62:case 61:case 63:case 64:case 65:case 66:case 67:case 68:case 70:case 69:return 1}}return 0}function Ce(e){return 194===e.kind?e.operatorToken.kind:192===e.kind||193===e.kind?e.operator:e.kind}function Ee(e,t,r){switch(e){case 99:case 97:case 71:case 95:case 101:case 86:case 8:case 9:case 177:case 178:case 186:case 187:case 199:case 249:case 250:case 12:case 13:case 196:case 185:case 200:return 19;case 183:case 179:case 180:return 18;case 182:return r?18:17;case 181:return 17;case 193:return 16;case 192:case 189:case 190:case 188:case 191:return 15;case 194:switch(t){case 51:case 52:return 15;case 40:case 39:case 41:case 42:return 14;case 37:case 38:return 13;case 45:case 46:case 47:return 12;case 27:case 30:case 29:case 31:case 92:case 93:return 11;case 32:case 34:case 33:case 35:return 10;case 48:return 9;case 50:return 8;case 49:return 7;case 53:return 6;case 54:return 5;case 58:case 59:case 60:case 62:case 61:case 63:case 64:case 65:case 66:case 67:case 68:case 70:case 69:return 3;case 26:return 0;default:return-1}case 195:return 4;case 197:return 2;case 198:return 1;case 289:return 0;default:return-1}}v.isPartOfTypeNode=Z,v.isChildOfNodeWithKind=function(e,t){for(;e;){if(e.kind===t)return!0;e=e.parent}return!1},v.forEachReturnStatement=function(e,r){return function e(t){switch(t.kind){case 219:return r(t);case 235:case 207:case 211:case 212:case 213:case 214:case 215:case 216:case 220:case 221:case 257:case 258:case 222:case 224:case 260:return v.forEachChild(t,e)}}(e)},v.forEachYieldExpression=function(e,n){return function e(t){switch(t.kind){case 197:n(t);var r=t.expression;return void(r&&e(r));case 232:case 230:case 233:case 231:case 229:case 199:return;default:v.isFunctionLike(t)?(r=t.name)&&144===r.kind&&e(r.expression):Z(t)||v.forEachChild(t,e)}}(e)},v.getRestParameterElementType=function(e){return e&&164===e.kind?e.elementType:e&&159===e.kind?v.singleOrUndefined(e.typeArguments):void 0},v.isVariableLike=ee,v.introducesArgumentsExoticObject=function(e){switch(e.kind){case 151:case 150:case 152:case 153:case 154:case 228:case 186:return!0}return!1},v.unwrapInnermostStatementOfLabel=function(e,t){for(;;){if(t&&t(e),222!==e.statement.kind)return e.statement;e=e.statement}},v.isFunctionBlock=function(e){return e&&207===e.kind&&v.isFunctionLike(e.parent)},v.isObjectLiteralMethod=function(e){return e&&151===e.kind&&178===e.parent.kind},v.isObjectLiteralOrClassExpressionMethod=function(e){return 151===e.kind&&(178===e.parent.kind||199===e.parent.kind)},v.isIdentifierTypePredicate=function(e){return e&&1===e.kind},v.isThisTypePredicate=function(e){return e&&0===e.kind},v.getPropertyAssignment=function(e,t,r){return v.filter(e.properties,function(e){if(261===e.kind)return e=G(e.name),t===e||r&&r===e})},v.getContainingFunction=function(e){return v.findAncestor(e.parent,v.isFunctionLike)},v.getContainingClass=function(e){return v.findAncestor(e.parent,v.isClassLike)},v.getThisContainer=te,v.getNewTargetContainer=function(e){var t=te(e,!1);if(t)switch(t.kind){case 152:case 228:case 186:return t}},v.getSuperContainer=function(e,t){for(;;){if(!(e=e.parent))return e;switch(e.kind){case 144:e=e.parent;break;case 228:case 186:case 187:if(!t)continue;case 149:case 148:case 151:case 150:case 152:case 153:case 154:return e;case 147:146===e.parent.kind&&v.isClassElement(e.parent.parent)?e=e.parent.parent:v.isClassElement(e.parent)&&(e=e.parent)}}},v.getImmediatelyInvokedFunctionExpression=function(e){if(186===e.kind||187===e.kind){for(var t=e,r=e.parent;185===r.kind;)r=(t=r).parent;if(181===r.kind&&r.expression===t)return r}},v.isSuperProperty=function(e){var t=e.kind;return(179===t||180===t)&&97===e.expression.kind},v.getEntityNameFromTypeNode=function(e){switch(e.kind){case 159:return e.typeName;case 201:return N(e.expression)?e.expression:void 0;case 71:case 143:return e}},v.getInvokedExpression=function(e){return 183===e.kind?e.tag:v.isJsxOpeningLikeElement(e)?e.tagName:e.expression},v.nodeCanBeDecorated=re,v.nodeIsDecorated=_,v.nodeOrChildIsDecorated=ne,v.childIsDecorated=ie,v.isJSXTagName=m,v.isPartOfExpression=ae,v.isInExpressionContext=se,v.isExternalModuleImportEqualsDeclaration=oe,v.getExternalModuleImportEqualsDeclarationExpression=function(e){return v.Debug.assert(oe(e)),e.moduleReference.expression},v.isInternalModuleImportEqualsDeclaration=function(e){return 237===e.kind&&248!==e.moduleReference.kind},v.isSourceFileJavaScript=ce,v.isInJavaScriptFile=g,v.isInJSDoc=function(e){return e&&!!(1048576&e.flags)},v.isJSDocIndexSignature=function(e){return v.isTypeReferenceNode(e)&&v.isIdentifier(e.typeName)&&"Object"===e.typeName.escapedText&&e.typeArguments&&2===e.typeArguments.length&&(136===e.typeArguments[0].kind||133===e.typeArguments[0].kind)},v.isRequireCall=function(e,t){var r;return 181===e.kind&&(r=e.expression,e=e.arguments,71===r.kind)&&"require"===r.escapedText&&1===e.length&&(r=e[0],!t||9===r.kind||13===r.kind)},v.isSingleOrDoubleQuote=function(e){return 39===e||34===e},v.isStringDoubleQuoted=function(e,t){return 34===s(t,e).charCodeAt(0)},v.isDeclarationOfFunctionOrClassExpression=function(e){return!(!e.valueDeclaration||226!==e.valueDeclaration.kind)&&(e=e.valueDeclaration).initializer&&(186===e.initializer.kind||199===e.initializer.kind)},v.getRightMostAssignedExpression=function(e){for(;nt(e,!0);)e=e.right;return e},v.isExportsIdentifier=function(e){return v.isIdentifier(e)&&"exports"===e.escapedText},v.isModuleExportsPropertyAccessExpression=function(e){return v.isPropertyAccessExpression(e)&&v.isIdentifier(e.expression)&&"module"===e.expression.escapedText&&"exports"===e.name.escapedText},v.getSpecialPropertyAssignmentKind=le,v.getExternalModuleName=function(e){if(238===e.kind)return e.moduleSpecifier;if(237===e.kind){var t=e.moduleReference;if(248===t.kind)return t.expression}return 244===e.kind?e.moduleSpecifier:J(e)?e.name:void 0},v.getNamespaceDeclarationNode=function(e){return 237===e.kind?e:(e=e.importClause)&&e.namedBindings&&240===e.namedBindings.kind?e.namedBindings:void 0},v.isDefaultImport=function(e){return 238===e.kind&&e.importClause&&!!e.importClause.name},v.hasQuestionToken=function(e){if(e)switch(e.kind){case 146:case 151:case 150:case 262:case 261:case 149:case 148:return void 0!==e.questionToken}return!1},v.isJSDocConstructSignature=function(e){return 273===e.kind&&0<e.parameters.length&&e.parameters[0].name&&"new"===e.parameters[0].name.escapedText},v.getAllJSDocs=function(e){return v.isJSDocTypedefTag(e)?[e.parent]:ue(e)},v.getSourceOfAssignment=h,v.getSingleInitializerOfVariableStatement=y,v.getSingleVariableOfVariableStatement=b,v.getNestedModuleDeclaration=x,v.getJSDocCommentsAndTags=ue,v.getParameterSymbolFromJSDoc=function(e){var t;return e.symbol||(v.isIdentifier(e.name)&&(t=e.name.escapedText,e=h(e=de(e))||y(e)||b(e)||x(e)||e)&&v.isFunctionLike(e)?(e=v.find(e.parameters,function(e){return 71===e.name.kind&&e.name.escapedText===t}))&&e.symbol:void 0)},v.getJSDocHost=de,v.getTypeParameterFromJsDoc=function(e){var t=e.name.escapedText,e=e.parent.parent.parent.typeParameters;return v.find(e,function(e){return e.name.escapedText===t})},v.hasRestParameter=function(e){return(e=v.lastOrUndefined(e.parameters))&&pe(e)},v.isRestParameter=pe,(f=v.AssignmentKind||(v.AssignmentKind={}))[f.None=0]="None",f[f.Definite=1]="Definite",f[f.Compound=2]="Compound",v.getAssignmentTargetKind=fe,v.isAssignmentTarget=function(e){return 0!==fe(e)},v.isDeleteTarget=function(e){if(179!==e.kind&&180!==e.kind)return!1;for(e=e.parent;e&&185===e.kind;)e=e.parent;return e&&188===e.kind},v.isNodeDescendantOf=function(e,t){for(;e;){if(e===t)return!0;e=e.parent}return!1},v.isInAmbientContext=function(e){for(;e;){if(D(e,2)||265===e.kind&&e.isDeclarationFile)return!0;e=e.parent}return!1},v.isDeclarationName=function(e){switch(e.kind){case 71:case 9:case 8:return v.isDeclaration(e.parent)&&e.parent.name===e;default:return!1}},v.isAnyDeclarationName=function(e){switch(e.kind){case 71:case 9:case 8:var t;return v.isDeclaration(e.parent)?e.parent.name===e:(t=e.parent.parent,v.isBinaryExpression(t)&&0!==le(t)&&v.getNameOfDeclaration(t)===e);default:return!1}},v.isLiteralComputedPropertyDeclarationName=function(e){return(9===e.kind||8===e.kind)&&144===e.parent.kind&&v.isDeclaration(e.parent.parent)},v.isIdentifierName=function(e){var t=e.parent;switch(t.kind){case 149:case 148:case 151:case 150:case 153:case 154:case 264:case 261:case 179:return t.name===e;case 143:if(t.right!==e)return!1;for(;143===t.kind;)t=t.parent;return 162===t.kind;case 176:case 242:return t.propertyName===e;case 246:case 253:return!0}return!1},v.isAliasSymbolDeclaration=function(e){return 237===e.kind||236===e.kind||239===e.kind&&!!e.name||240===e.kind||242===e.kind||246===e.kind||243===e.kind&&_e(e)},v.exportAssignmentIsAlias=_e,v.getClassExtendsHeritageClauseElement=function(e){return(e=k(e.heritageClauses,85))&&0<e.types.length?e.types[0]:void 0},v.getClassImplementsHeritageClauseElements=function(e){return(e=k(e.heritageClauses,108))?e.types:void 0},v.getInterfaceBaseTypeNodes=function(e){return(e=k(e.heritageClauses,85))?e.types:void 0},v.getHeritageClause=k,v.tryResolveScriptReference=function(e,t,r){if(!e.getCompilerOptions().noResolve)return t=v.isRootedDiskPath(r.fileName)?r.fileName:v.combinePaths(v.getDirectoryPath(t.fileName),r.fileName),e.getSourceFile(t)},v.getAncestor=function(e,t){for(;e;){if(e.kind===t)return e;e=e.parent}},v.getFileReferenceFromReferencePath=function(e,t){var r=new RegExp(X.source,"gim");if(/^\/\/\/\s*<reference\s+/gim.test(e))return r.test(e)?{isNoDefaultLib:!0}:(e=!(r=v.fullTripleSlashReferencePathRegEx.exec(e))&&Y.exec(e),(r=r||e)?{fileReference:{pos:t=t.pos+r[1].length+r[2].length,end:t+r[3].length,fileName:r[3]},isNoDefaultLib:!1,isTypeReferenceDirective:!!e}:{diagnosticMessage:v.Diagnostics.Invalid_reference_directive_syntax,isNoDefaultLib:!1})},v.isKeyword=function(e){return 72<=e&&e<=142},v.isTrivia=function(e){return 2<=e&&e<=7},(f=v.FunctionFlags||(v.FunctionFlags={}))[f.Normal=0]="Normal",f[f.Generator=1]="Generator",f[f.Async=2]="Async",f[f.Invalid=4]="Invalid",f[f.AsyncGenerator=3]="AsyncGenerator",v.getFunctionFlags=function(e){if(!e)return 4;var t=0;switch(e.kind){case 228:case 186:case 151:e.asteriskToken&&(t|=1);case 187:D(e,256)&&(t|=2)}return e.body||(t|=4),t},v.isAsyncFunction=function(e){switch(e.kind){case 228:case 186:case 187:case 151:return void 0!==e.body&&void 0===e.asteriskToken&&D(e,256)}return!1},v.isStringOrNumericLiteral=me,v.hasDynamicName=ge,v.isDynamicName=he,v.isWellKnownSymbolSyntactically=ye,v.getPropertyNameForPropertyNameNode=ve,v.getTextOfIdentifierOrLiteral=function(e){if(e){if(71===e.kind)return v.idText(e);if(9===e.kind||8===e.kind)return e.text}},v.getEscapedTextOfIdentifierOrLiteral=function(e){if(e){if(71===e.kind)return e.escapedText;if(9===e.kind||8===e.kind)return l(e.text)}},v.getPropertyNameForKnownSymbolName=be,v.isESSymbolIdentifier=xe,v.isPushOrUnshiftIdentifier=function(e){return"push"===e.escapedText||"unshift"===e.escapedText},v.isParameterDeclaration=function(e){return 146===ke(e).kind},v.getRootDeclaration=ke,v.nodeStartsNewLexicalEnvironment=function(e){return 152===(e=e.kind)||186===e||228===e||187===e||151===e||153===e||154===e||233===e||265===e},v.nodeIsSynthesized=Se,v.getOriginalSourceFile=function(e){return v.getParseTreeNode(e,v.isSourceFile)||e},(f=v.Associativity||(v.Associativity={}))[f.Left=0]="Left",f[f.Right=1]="Right",v.getExpressionAssociativity=function(e){var t=Ce(e),r=182===e.kind&&void 0!==e.arguments;return Te(e.kind,t,r)},v.getOperatorAssociativity=Te,v.getExpressionPrecedence=function(e){var t=Ce(e),r=182===e.kind&&void 0!==e.arguments;return Ee(e.kind,t,r)},v.getOperator=Ce,v.getOperatorPrecedence=Ee,v.createDiagnosticCollection=function(){var n=[],i=v.createMap(),r=!1,a=0;return{add:function(e){var t;e.file?(t=i.get(e.file.fileName))||(t=[],i.set(e.file.fileName,t)):t=n;t.push(e),r=!0,a++},getGlobalDiagnostics:function(){return s(),n},getDiagnostics:function(e){if(s(),e)return i.get(e)||[];var t=[];function r(e){t.push(e)}return v.forEach(n,r),i.forEach(function(e){v.forEach(e,r)}),v.sortAndDeduplicateDiagnostics(t)},getModificationCount:function(){return a},reattachFileDiagnostics:function(t){v.forEach(i.get(t.fileName),function(e){return e.file=t})}};function s(){r&&(r=!1,n=v.sortAndDeduplicateDiagnostics(n),i.forEach(function(e,t){i.set(t,v.sortAndDeduplicateDiagnostics(e))}))}};var De=/[\\\"\u0000-\u001f\t\v\f\b\r\n\u2028\u2029\u0085]/g,Ae=/[\\\'\u0000-\u001f\t\v\f\b\r\n\u2028\u2029\u0085]/g,we=/[\\\`\u0000-\u001f\t\v\f\b\r\n\u2028\u2029\u0085]/g,Ne=v.createMapFromTemplate({"\0":"\\0","\t":"\\t","\v":"\\v","\f":"\\f","\b":"\\b","\r":"\\r","\n":"\\n","\\":"\\\\",'"':'\\"',"'":"\\'","`":"\\`","\u2028":"\\u2028","\u2029":"\\u2029","":"\\u0085"}),Ie=/\\0[0-9]/g;function Pe(e,t){return e.replace(96===t?we:39===t?Ae:De,Fe).replace(Ie,Oe)}function Oe(e){return"\\x00"+e.charAt(e.length-1)}function Fe(e){return Ne.get(e)||Le(e.charCodeAt(0))}function Le(e){return"\\u"+("0000"+e.toString(16).toUpperCase()).slice(-4)}v.escapeString=Pe,v.isIntrinsicJsxName=function(e){return(e=e.substr(0,1)).toLowerCase()===e};var Re=/[^\u0000-\u007F]/g;function Me(e,t){return e=Pe(e,t),Re.test(e)?e.replace(Re,function(e){return Le(e.charCodeAt(0))}):e}v.escapeNonAsciiString=Me;var S=["","    "];function T(e){return void 0===S[e]&&(S[e]=T(e-1)+S[1]),S[e]}function C(){return S[1].length}function Ue(e,t){return t.moduleName||Be(e,t.fileName)}function Be(t,e){function r(e){return t.getCanonicalFileName(e)}var n=v.toPath(t.getCommonSourceDirectory(),t.getCurrentDirectory(),r),e=v.getNormalizedAbsolutePath(e,t.getCurrentDirectory()),e=v.getRelativePathToDirectoryOrUrl(n,e,n,r,!1);return v.removeFileExtension(e)}function je(e,t,r){return!(t.noEmitForJsFiles&&ce(e)||e.isDeclarationFile||r(e))}function Ke(e,t,r){var e=v.getNormalizedAbsolutePath(e.fileName,t.getCurrentDirectory()),n=t.getCommonSourceDirectory(),e=0===t.getCanonicalFileName(e).indexOf(t.getCanonicalFileName(n))?e.substring(n.length):e;return v.combinePaths(r,e)}function ze(e,t){return v.getLineAndCharacterOfPosition(e,t).line}function E(e,t){return v.computeLineAndCharacterOfPosition(e,t).line}function $e(e){var t;if(e&&0<e.parameters.length)return t=2===e.parameters.length&&Je(e.parameters[0]),e.parameters[t?1:0]}function Je(e){return qe(e.name)}function qe(e){return e&&71===e.kind&&Ve(e)}function Ve(e){return 99===e.originalKeywordKind}function He(e,t){return e.type||(t||g(e)?v.getJSDocType(e):void 0)}function Ge(e,t,r,n){We(e,t,r.pos,n)}function We(e,t,r,n){n&&n.length&&r!==n[0].pos&&E(e,r)!==E(e,n[0].pos)&&t.writeLine()}function Qe(e,t,r,n,i,a,s,o){if(n&&0<n.length){i&&r.write(" ");for(var c=!1,l=0,u=n;l<u.length;l++){var d=u[l];c&&(r.write(" "),c=!1),o(e,t,r,d.pos,d.end,s),d.hasTrailingNewLine?r.writeLine():c=!0}c&&a&&r.write(" ")}}function Ye(e,t,r){for(var n=0;t<r&&v.isWhiteSpaceSingleLine(e.charCodeAt(t));t++)9===e.charCodeAt(t)?n+=C()-n%C():n++;return n}function D(e,t){return!!Xe(e,t)}function Xe(e,t){return Ze(e)&t}function Ze(e){var t;return 536870912&e.modifierFlagsCache?-536870913&e.modifierFlagsCache:(t=et(e),e.modifierFlagsCache=536870912|t,t)}function et(e){var t=0;if(e.modifiers)for(var r=0,n=e.modifiers;r<n.length;r++)t|=tt(n[r].kind);return(4&e.flags||71===e.kind&&e.isInJSDocNamespace)&&(t|=1),t}function tt(e){switch(e){case 115:return 32;case 114:return 4;case 113:return 16;case 112:return 8;case 117:return 128;case 84:return 1;case 124:return 2;case 76:return 2048;case 79:return 512;case 120:return 256;case 131:return 64}return 0}function A(e){return 58<=e&&e<=70}function rt(e){if(201===e.kind&&85===e.parent.token&&v.isClassLike(e.parent.parent))return e.parent.parent}function nt(e,t){return v.isBinaryExpression(e)&&(t?58===e.operatorToken.kind:A(e.operatorToken.kind))&&v.isLeftHandSideExpression(e.left)}function w(e){return void 0!==rt(e)}function N(e){return 71===e.kind||179===e.kind&&N(e.expression)}v.getIndentString=T,v.getIndentSize=C,v.createTextWriter=function(e){var r,t,n,i,a;function s(e){e&&e.length&&(n&&(r+=T(t),n=!1),r+=e)}function o(){r="",n=!(t=0),a=i=0}return o(),{write:s,rawWrite:function(e){void 0!==e&&(n=n&&!1,r+=e)},writeTextOfNode:function(e,t){s(j(e,t))},writeLiteral:function(e){var t;e&&e.length&&(s(e),1<(t=v.computeLineStarts(e)).length)&&(i=i+t.length-1,a=r.length-e.length+v.lastOrUndefined(t))},writeLine:function(){n||(i++,a=(r+=e).length,n=!0)},increaseIndent:function(){t++},decreaseIndent:function(){t--},getIndent:function(){return t},getTextPos:function(){return r.length},getLine:function(){return i+1},getColumn:function(){return n?t*C()+1:r.length-a+1},getText:function(){return r},isAtStartOfLine:function(){return n},reset:o}},v.getResolvedExternalModuleName=Ue,v.getExternalModuleNameFromDeclaration=function(e,t,r){if((t=t.getExternalModuleFileFromDeclaration(r))&&!t.isDeclarationFile)return Ue(e,t)},v.getExternalModuleNameFromPath=Be,v.getOwnEmitOutputFilePath=function(e,t,r){var n=t.getCompilerOptions();return(t=n.outDir?v.removeFileExtension(Ke(e,t,n.outDir)):v.removeFileExtension(e.fileName))+r},v.getDeclarationEmitOutputFilePath=function(e,t){var r=t.getCompilerOptions(),t=(r=r.declarationDir||r.outDir)?Ke(e,t,r):e.fileName;return v.removeFileExtension(t)+".d.ts"},v.getSourceFilesToEmit=function(t,e){function r(e){return t.isSourceFileFromExternalLibrary(e)}var n,i,a=t.getCompilerOptions();return a.outFile||a.out?(i=v.getEmitModuleKind(a),n=i===v.ModuleKind.AMD||i===v.ModuleKind.System,v.filter(t.getSourceFiles(),function(e){return(n||!v.isExternalModule(e))&&je(e,a,r)})):(i=void 0===e?t.getSourceFiles():[e],v.filter(i,function(e){return je(e,a,r)}))},v.sourceFileMayBeEmitted=je,v.getSourceFilePathInNewDir=Ke,v.writeFile=function(e,t,r,n,i,a){e.writeFile(r,n,i,function(e){t.add(v.createCompilerDiagnostic(v.Diagnostics.Could_not_write_file_0_Colon_1,r,e))},a)},v.getLineOfLocalPosition=ze,v.getLineOfLocalPositionFromLineMap=E,v.getFirstConstructorWithBody=function(e){return v.forEach(e.members,function(e){if(152===e.kind&&U(e.body))return e})},v.getSetAccessorTypeAnnotationNode=function(e){return(e=$e(e))&&e.type},v.getThisParameter=function(e){if(e.parameters.length){e=e.parameters[0];if(Je(e))return e}},v.parameterIsThisKeyword=Je,v.isThisIdentifier=qe,v.identifierIsThisKeyword=Ve,v.getAllAccessorDeclarations=function(e,t){var r,n,i,a;return ge(t)?153===(r=t).kind?i=t:154===t.kind?a=t:v.Debug.fail("Accessor has wrong kind"):v.forEach(e,function(e){153!==e.kind&&154!==e.kind||D(e,32)!==D(t,32)||ve(e.name)===ve(t.name)&&(r?n=n||e:r=e,153===e.kind&&(i=i||e),154===e.kind)&&(a=a||e)}),{firstAccessor:r,secondAccessor:n,getAccessor:i,setAccessor:a}},v.getEffectiveTypeAnnotationNode=He,v.getEffectiveReturnTypeNode=function(e,t){return e.type||(t||g(e)?v.getJSDocReturnType(e):void 0)},v.getEffectiveTypeParameterDeclarations=function(e,t){return e.typeParameters||(t||g(e)?(t=v.getJSDocTemplateTag(e))&&t.typeParameters:void 0)},v.getEffectiveSetAccessorTypeAnnotationNode=function(e,t){return(e=$e(e))&&He(e,t)},v.emitNewLineBeforeLeadingComments=Ge,v.emitNewLineBeforeLeadingCommentsOfPosition=We,v.emitNewLineBeforeLeadingCommentOfPosition=function(e,t,r,n){r!==n&&E(e,r)!==E(e,n)&&t.writeLine()},v.emitComments=Qe,v.emitDetachedComments=function(t,e,r,n,i,a,s){var o,c;if(s?0===i.pos&&(o=v.filter(v.getLeadingCommentRanges(t,i.pos),function(e){return B(t,e)})):o=v.getLeadingCommentRanges(t,i.pos),o){for(var l=[],u=void 0,d=0,p=o;d<p.length;d++){var f=p[d];if(u)if(E(e,u.end)+2<=E(e,f.pos))break;l.push(f),u=f}l.length&&E(e,v.lastOrUndefined(l).end)+2<=E(e,v.skipTrivia(t,i.pos))&&(Ge(e,r,i,o),Qe(t,e,r,l,!1,!0,a,n),c={nodePos:i.pos,detachedCommentEndPos:v.lastOrUndefined(l).end})}return c},v.writeCommentRange=function(e,t,r,n,i,a){if(42===e.charCodeAt(n+1))for(var s=v.computeLineAndCharacterOfPosition(t,n),o=t.length,c=void 0,l=n,u=s.line;l<i;u++){var d=u+1===o?e.length+1:t[u+1];if(l!==n){void 0===c&&(c=Ye(e,t[s.line],n));var p=r.getIndent()*C()-c+Ye(e,l,d);if(0<p){var f=p%C(),p=T((p-f)/C());for(r.rawWrite(p);f;)r.rawWrite(" "),f--}else r.rawWrite("")}y=h=g=m=_=p=void 0;var p=e,_=i,m=r,g=a,h=l,y=d;y=Math.min(_,y-1),(p=p.substring(h,y).replace(/^\s+|\s+$/g,""))?(m.write(p),y!==_&&m.writeLine()):m.writeLiteral(g),l=d}else r.write(e.substring(n,i))},v.hasModifiers=function(e){return 0!==Ze(e)},v.hasModifier=D,v.getSelectedModifierFlags=Xe,v.getModifierFlags=Ze,v.getModifierFlagsNoCache=et,v.modifierToFlag=tt,v.isLogicalOperator=function(e){return 54===e||53===e||51===e},v.isAssignmentOperator=A,v.tryGetClassExtendingExpressionWithTypeArguments=rt,v.isAssignmentExpression=nt,v.isDestructuringAssignment=function(e){return!!nt(e,!0)&&(178===(e=e.left.kind)||177===e)},v.isExpressionWithTypeArgumentsInClassExtendsClause=w,v.isExpressionWithTypeArgumentsInClassImplementsClause=function(e){return 201===e.kind&&N(e.expression)&&e.parent&&108===e.parent.token&&e.parent.parent&&v.isClassLike(e.parent.parent)},v.isEntityNameExpression=N,v.isRightSideOfQualifiedNameOrPropertyAccess=function(e){return 143===e.parent.kind&&e.parent.right===e||179===e.parent.kind&&e.parent.name===e},v.isEmptyObjectLiteral=function(e){return 178===e.kind&&0===e.properties.length},v.isEmptyArrayLiteral=function(e){return 177===e.kind&&0===e.elements.length},v.getLocalSymbolForExportDefault=function(e){return(t=e)&&0<v.length(t.declarations)&&D(t.declarations[0],512)?e.declarations[0].localSymbol:void 0;var t},v.tryExtractTypeScriptExtension=function(t){return v.find(v.supportedTypescriptExtensionsForExtractExtension,function(e){return v.fileExtensionIs(t,e)})};var I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function P(e,t,r){void 0===e&&(e=0);var n=(e=>{var t,r=[];for(t in e){var n=e[t];"number"==typeof n&&r.push([n,t])}return v.stableSort(r,function(e,t){return v.compareValues(e[0],t[0])})})(t);if(0===e)return 0<n.length&&0===n[0][0]?n[0][1]:"0";if(r){for(var i="",a=e,s=n.length-1;0<=s&&0!==a;s--){var o=n[s],c=o[0],l=o[1];0!==c&&(a&c)===c&&(a&=~c,i=l+(i?", ":"")+i)}if(0===a)return i}else for(var u=0,d=n;u<d.length;u++){var p=d[u],c=p[0],l=p[1];if(c===e)return l}return e.toString()}function O(e,t){return{pos:e,end:t}}function it(e,t){return O(t,e.end)}function at(e){return e.decorators&&0<e.decorators.length?it(e,e.decorators.end):e}function st(e,t,r){return F(L(e,r),t.end,r)}function F(e,t,r){return e===t||ze(r,e)===ze(r,t)}function L(e,t){return v.positionIsSynthesized(e.pos)?-1:v.skipTrivia(t.text,e.pos)}function ot(e){return void 0!==e.initializer}function ct(e){return 33554432&e.flags?e.checkFlags:0}function lt(e){var t=e.parent;if(!t)return 0;switch(t.kind){case 193:case 192:var r=t.operator;return 43===r||44===r?n():0;case 194:return t.left===e&&A(t.operatorToken.kind)?n():0;case 179:return t.name!==e?0:lt(t);default:return 0}function n(){return t.parent&&210===t.parent.kind?1:2}}v.convertToBase64=function(e){for(var t,r,n,i,a="",s=(e=>{for(var t=[],r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);i<128?t.push(i):i<2048?(t.push(i>>6|192),t.push(63&i|128)):i<65536?(t.push(i>>12|224),t.push(i>>6&63|128),t.push(63&i|128)):i<131072?(t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(63&i|128)):v.Debug.assert(!1,"Unexpected code point")}return t})(e),o=0,c=s.length;o<c;)t=s[o]>>2,r=(3&s[o])<<4|s[o+1]>>4,n=(15&s[o+1])<<2|s[o+2]>>6,i=63&s[o+2],c<=o+1?n=i=64:c<=o+2&&(i=64),a+=I.charAt(t)+I.charAt(r)+I.charAt(n)+I.charAt(i),o+=3;return a},v.getNewLineCharacter=function(e,t){switch(e.newLine){case 0:return"\r\n";case 1:return"\n"}return t?t.newLine:v.sys?v.sys.newLine:"\r\n"},v.formatSyntaxKind=function(e){return P(e,v.SyntaxKind,!1)},v.formatModifierFlags=function(e){return P(e,v.ModifierFlags,!0)},v.formatTransformFlags=function(e){return P(e,v.TransformFlags,!0)},v.formatEmitFlags=function(e){return P(e,v.EmitFlags,!0)},v.formatSymbolFlags=function(e){return P(e,v.SymbolFlags,!0)},v.formatTypeFlags=function(e){return P(e,v.TypeFlags,!0)},v.formatObjectFlags=function(e){return P(e,v.ObjectFlags,!0)},v.createRange=O,v.moveRangeEnd=function(e,t){return O(e.pos,t)},v.moveRangePos=it,v.moveRangePastDecorators=at,v.moveRangePastModifiers=function(e){return e.modifiers&&0<e.modifiers.length?it(e,e.modifiers.end):at(e)},v.isCollapsedRange=function(e){return e.pos===e.end},v.createTokenRange=function(e,t){return O(e,e+v.tokenToString(t).length)},v.rangeIsOnSingleLine=function(e,t){return st(e,e,t)},v.rangeStartPositionsAreOnSameLine=function(e,t,r){return F(L(e,r),L(t,r),r)},v.rangeEndPositionsAreOnSameLine=function(e,t,r){return F(e.end,t.end,r)},v.rangeStartIsOnSameLineAsRangeEnd=st,v.rangeEndIsOnSameLineAsRangeStart=function(e,t,r){return F(e.end,L(t,r),r)},v.positionsAreOnSameLine=F,v.getStartPositionOfRange=L,v.isDeclarationNameOfEnumOrNamespace=function(e){var t=v.getParseTreeNode(e);if(t)switch(t.parent.kind){case 232:case 233:return t===t.parent.name}return!1},v.getInitializedVariables=function(e){return v.filter(e.declarations,ot)},v.isWatchSet=function(e){return e.watch&&e.hasOwnProperty("watch")},v.getCheckFlags=ct,v.getDeclarationModifierFlagsFromSymbol=function(e){var t;return e.valueDeclaration?(t=v.getCombinedModifierFlags(e.valueDeclaration),e.parent&&32&e.parent.flags?t:-29&t):6&ct(e)?(256&(t=e.checkFlags)?8:64&t?4:16)|(512&t?32:0):4194304&e.flags?36:0},v.levenshtein=function(e,t){for(var r=new Array(t.length+1),n=new Array(t.length+1),i=0;i<t.length+1;i++)n[r[i]=i]=-1;for(i=1;i<e.length+1;i++){n[0]=i;for(var a=1;a<t.length+1;a++)n[a]=Math.min(r[a]+1,n[a-1]+1,r[a-1]+(e[i-1]===t[a-1]?0:2));var s=r,r=n,n=s}return r[r.length-1]},v.skipAlias=function(e,t){return 2097152&e.flags?t.getAliasedSymbol(e):e},v.getCombinedLocalAndExportSymbolFlags=function(e){return e.exportSymbol?e.exportSymbol.flags|e.flags:e.flags},v.isWriteOnlyAccess=function(e){return 1===lt(e)},v.isWriteAccess=function(e){return 0!==lt(e)},v.compareDataObjects=function e(t,r){if(!t||!r||Object.keys(t).length!==Object.keys(r).length)return!1;for(var n in t)if("object"==typeof t[n]){if(!e(t[n],r[n]))return!1}else if("function"!=typeof t[n]&&t[n]!==r[n])return!1;return!0},v.clearMap=function(e,t){e.forEach(t),e.clear()},v.mutateMap=function(n,i,e){var r=e.createNewValue,a=e.onDeleteValue,s=e.onExistingValue;n.forEach(function(e,t){var r=i.get(t);void 0===r?(n.delete(t),a(e,t)):s&&s(e,r,t)}),i.forEach(function(e,t){n.has(t)||n.set(t,r(t,e))})},v.forEachAncestorDirectory=function(e,t){for(;;){var r=t(e);if(void 0!==r)return r;r=v.getDirectoryPath(e);if(r===e)return;e=r}}})(ts=ts||{}),(p=>{function f(e){return e.start+e.length}function t(e){return 0===e.length}function r(e,t){if(e<0)throw new Error("start < 0");if(t<0)throw new Error("length < 0");return{start:e,length:t}}function _(e,t){return r(e,t-e)}function m(e,t){if(t<0)throw new Error("newLength < 0");return{span:e,newLength:t}}function n(e){return!!p.isBindingPattern(e)&&p.every(e.elements,i)}function i(e){return!!p.isOmittedExpression(e)||n(e.name)}function a(e){for(;e&&(176===e.kind||p.isBindingPattern(e));)e=e.parent;return e}function s(e,t){if(e)for(;void 0!==e.original;)e=e.original;return!t||t(e)?e:void 0}function o(e){return 0==(8&e.flags)}function c(e){return 3<=e.length&&95===e.charCodeAt(0)&&95===e.charCodeAt(1)&&95===e.charCodeAt(2)?e.substr(1):e}function l(e){e=d(e);return p.isIdentifier(e)?e:void 0}function u(e){return e.name||(e=>{var t=e.parent.parent;if(t){if(p.isDeclaration(t))return l(t);switch(t.kind){case 208:return t.declarationList&&t.declarationList.declarations[0]?l(t.declarationList.declarations[0]):void 0;case 210:var r=t.expression;switch(r.kind){case 179:return r.name;case 180:var n=r.argumentExpression;if(p.isIdentifier(n))return n}return;case 1:return;case 185:return l(t.expression);case 222:return p.isDeclaration(t.statement)||p.isExpression(t.statement)?l(t.statement):void 0;default:p.Debug.assertNever(t,"Found typedef tag attached to node which it should not be!")}}})(e)}function d(e){if(e){switch(e.kind){case 284:case 279:var t=e.name;if(143===t.kind)return t.right;break;case 194:var r=e;switch(p.getSpecialPropertyAssignmentKind(r)){case 1:case 4:case 5:case 3:return r.left.name;default:return}case 283:return u(e);case 243:t=e.expression;return p.isIdentifier(t)?t:void 0}return e.name}}function g(e){var t;if(e.name&&p.isIdentifier(e.name))return t=e.name.escapedText,y(e.parent).filter(function(e){return p.isJSDocParameterTag(e)&&p.isIdentifier(e.name)&&e.name.escapedText===t})}function h(e){return v(e,280)}function y(e){var t=e.jsDocCache;return void 0===t&&(e.jsDocCache=t=p.flatMap(p.getJSDocCommentsAndTags(e),function(e){return p.isJSDoc(e)?e.tags:e})),t}function v(e,t){e=y(e);return p.find(e,function(e){return e.kind===t})}p.getDefaultLibFileName=function(e){switch(e.target){case 5:return"lib.esnext.full.d.ts";case 4:return"lib.es2017.full.d.ts";case 3:return"lib.es2016.full.d.ts";case 2:return"lib.es6.d.ts";default:return"lib.d.ts"}},p.textSpanEnd=f,p.textSpanIsEmpty=t,p.textSpanContainsPosition=function(e,t){return t>=e.start&&t<f(e)},p.textSpanContainsTextSpan=function(e,t){return t.start>=e.start&&f(t)<=f(e)},p.textSpanOverlapsWith=function(e,t){return Math.max(e.start,t.start)<Math.min(f(e),f(t))},p.textSpanOverlap=function(e,t){var r=Math.max(e.start,t.start),e=Math.min(f(e),f(t));if(r<e)return _(r,e)},p.textSpanIntersectsWithTextSpan=function(e,t){return t.start<=f(e)&&f(t)>=e.start},p.textSpanIntersectsWith=function(e,t,r){return t<=f(e)&&t+r>=e.start},p.decodedTextSpanIntersectsWith=function(e,t,r,n){return r<=e+t&&e<=r+n},p.textSpanIntersectsWithPosition=function(e,t){return t<=f(e)&&t>=e.start},p.textSpanIntersection=function(e,t){var r=Math.max(e.start,t.start),e=Math.min(f(e),f(t));if(r<=e)return _(r,e)},p.createTextSpan=r,p.createTextSpanFromBounds=_,p.textChangeRangeNewSpan=function(e){return r(e.span.start,e.newLength)},p.textChangeRangeIsUnchanged=function(e){return t(e.span)&&0===e.newLength},p.createTextChangeRange=m,p.unchangedTextChangeRange=m(r(0,0),0),p.collapseTextChangeRangesAcrossMultipleVersions=function(e){if(0===e.length)return p.unchangedTextChangeRange;if(1===e.length)return e[0];for(var t=e[0],r=t.span.start,n=f(t.span),i=r+t.newLength,a=1;a<e.length;a++)var s=r,o=n,c=i,l=(d=e[a]).span.start,u=f(d.span),d=l+d.newLength,r=Math.min(s,l),n=Math.max(o,o+(u-c)),i=Math.max(d,d+(c-u));return m(_(r,n),i-r)},p.getTypeParameterOwner=function(e){if(e&&145===e.kind)for(var t=e;t;t=t.parent)if(p.isFunctionLike(t)||p.isClassLike(t)||230===t.kind)return t},p.isParameterPropertyDeclaration=function(e){return p.hasModifier(e,92)&&152===e.parent.kind&&p.isClassLike(e.parent.parent)},p.isEmptyBindingPattern=n,p.isEmptyBindingElement=i,p.getCombinedModifierFlags=function(e){e=a(e);var t=p.getModifierFlags(e);return(e=226===e.kind?e.parent:e)&&227===e.kind&&(t|=p.getModifierFlags(e),e=e.parent),e&&208===e.kind&&(t|=p.getModifierFlags(e)),t},p.getCombinedNodeFlags=function(e){var t=(e=a(e)).flags;return(e=226===e.kind?e.parent:e)&&227===e.kind&&(t|=e.flags,e=e.parent),e&&208===e.kind&&(t|=e.flags),t},p.validateLocaleAndSetLanguage=function(e,i,t){var r;function n(e,t,r){var n=p.normalizePath(i.getExecutingFilePath()),n=p.getDirectoryPath(n),n=p.combinePaths(n,e),n=i.resolvePath(p.combinePaths(n=t?n+"-"+t:n,"diagnosticMessages.generated.json"));if(i.fileExists(n)){e="";try{e=i.readFile(n)}catch(e){return void(r&&r.push(p.createCompilerDiagnostic(p.Diagnostics.Unable_to_open_file_0,n)))}try{p.localizedDiagnosticMessages=JSON.parse(e)}catch(e){return void(r&&r.push(p.createCompilerDiagnostic(p.Diagnostics.Corrupted_locale_file_0,n)))}return 1}}(e=/^([a-z]+)([_\-]([a-z]+))?$/.exec(e.toLowerCase()))?n(r=e[1],e[3],t)||n(r,void 0,t):t&&t.push(p.createCompilerDiagnostic(p.Diagnostics.Locale_must_be_of_the_form_language_or_language_territory_For_example_0_or_1,"en","ja-jp"))},p.getOriginalNode=s,p.isParseTreeNode=o,p.getParseTreeNode=function(e,t){return void 0!==e&&!o(e)&&(!o(e=s(e))||t&&!t(e))?void 0:e},p.unescapeLeadingUnderscores=c,p.idText=function(e){return c(e.escapedText)},p.symbolName=function(e){return c(e.escapedName)},p.unescapeIdentifier=function(e){return e},p.getNameOfJSDocTypedef=u,p.getNameOfDeclaration=d,p.getJSDocParameterTags=g,p.hasJSDocParameterTags=function(e){return!!v(e,279)},p.getJSDocAugmentsTag=function(e){return v(e,277)},p.getJSDocClassTag=function(e){return v(e,278)},p.getJSDocReturnTag=h,p.getJSDocTemplateTag=function(e){return v(e,282)},p.getJSDocTypeTag=function(e){if((e=v(e,281))&&e.typeExpression&&e.typeExpression.type)return e},p.getJSDocType=function(e){var t=v(e,281);return t||146!==e.kind||(e=g(e))&&(t=p.find(e,function(e){return!!e.typeExpression})),t&&t.typeExpression&&t.typeExpression.type},p.getJSDocReturnType=function(e){return(e=h(e))&&e.typeExpression&&e.typeExpression.type},p.getJSDocTags=y,p.getAllJSDocTagsOfKind=function(e,t){return e=y(e),p.filter(e,function(e){return e.kind===t})}})(ts=ts||{}),(e=>{e.isNumericLiteral=function(e){return 8===e.kind},e.isStringLiteral=function(e){return 9===e.kind},e.isJsxText=function(e){return 10===e.kind},e.isRegularExpressionLiteral=function(e){return 12===e.kind},e.isNoSubstitutionTemplateLiteral=function(e){return 13===e.kind},e.isTemplateHead=function(e){return 14===e.kind},e.isTemplateMiddle=function(e){return 15===e.kind},e.isTemplateTail=function(e){return 16===e.kind},e.isIdentifier=function(e){return 71===e.kind},e.isQualifiedName=function(e){return 143===e.kind},e.isComputedPropertyName=function(e){return 144===e.kind},e.isTypeParameterDeclaration=function(e){return 145===e.kind},e.isParameter=function(e){return 146===e.kind},e.isDecorator=function(e){return 147===e.kind},e.isPropertySignature=function(e){return 148===e.kind},e.isPropertyDeclaration=function(e){return 149===e.kind},e.isMethodSignature=function(e){return 150===e.kind},e.isMethodDeclaration=function(e){return 151===e.kind},e.isConstructorDeclaration=function(e){return 152===e.kind},e.isGetAccessorDeclaration=function(e){return 153===e.kind},e.isSetAccessorDeclaration=function(e){return 154===e.kind},e.isCallSignatureDeclaration=function(e){return 155===e.kind},e.isConstructSignatureDeclaration=function(e){return 156===e.kind},e.isIndexSignatureDeclaration=function(e){return 157===e.kind},e.isTypePredicateNode=function(e){return 158===e.kind},e.isTypeReferenceNode=function(e){return 159===e.kind},e.isFunctionTypeNode=function(e){return 160===e.kind},e.isConstructorTypeNode=function(e){return 161===e.kind},e.isTypeQueryNode=function(e){return 162===e.kind},e.isTypeLiteralNode=function(e){return 163===e.kind},e.isArrayTypeNode=function(e){return 164===e.kind},e.isTupleTypeNode=function(e){return 165===e.kind},e.isUnionTypeNode=function(e){return 166===e.kind},e.isIntersectionTypeNode=function(e){return 167===e.kind},e.isParenthesizedTypeNode=function(e){return 168===e.kind},e.isThisTypeNode=function(e){return 169===e.kind},e.isTypeOperatorNode=function(e){return 170===e.kind},e.isIndexedAccessTypeNode=function(e){return 171===e.kind},e.isMappedTypeNode=function(e){return 172===e.kind},e.isLiteralTypeNode=function(e){return 173===e.kind},e.isObjectBindingPattern=function(e){return 174===e.kind},e.isArrayBindingPattern=function(e){return 175===e.kind},e.isBindingElement=function(e){return 176===e.kind},e.isArrayLiteralExpression=function(e){return 177===e.kind},e.isObjectLiteralExpression=function(e){return 178===e.kind},e.isPropertyAccessExpression=function(e){return 179===e.kind},e.isElementAccessExpression=function(e){return 180===e.kind},e.isCallExpression=function(e){return 181===e.kind},e.isNewExpression=function(e){return 182===e.kind},e.isTaggedTemplateExpression=function(e){return 183===e.kind},e.isTypeAssertion=function(e){return 184===e.kind},e.isParenthesizedExpression=function(e){return 185===e.kind},e.skipPartiallyEmittedExpressions=function(e){for(;288===e.kind;)e=e.expression;return e},e.isFunctionExpression=function(e){return 186===e.kind},e.isArrowFunction=function(e){return 187===e.kind},e.isDeleteExpression=function(e){return 188===e.kind},e.isTypeOfExpression=function(e){return 191===e.kind},e.isVoidExpression=function(e){return 190===e.kind},e.isAwaitExpression=function(e){return 191===e.kind},e.isPrefixUnaryExpression=function(e){return 192===e.kind},e.isPostfixUnaryExpression=function(e){return 193===e.kind},e.isBinaryExpression=function(e){return 194===e.kind},e.isConditionalExpression=function(e){return 195===e.kind},e.isTemplateExpression=function(e){return 196===e.kind},e.isYieldExpression=function(e){return 197===e.kind},e.isSpreadElement=function(e){return 198===e.kind},e.isClassExpression=function(e){return 199===e.kind},e.isOmittedExpression=function(e){return 200===e.kind},e.isExpressionWithTypeArguments=function(e){return 201===e.kind},e.isAsExpression=function(e){return 202===e.kind},e.isNonNullExpression=function(e){return 203===e.kind},e.isMetaProperty=function(e){return 204===e.kind},e.isTemplateSpan=function(e){return 205===e.kind},e.isSemicolonClassElement=function(e){return 206===e.kind},e.isBlock=function(e){return 207===e.kind},e.isVariableStatement=function(e){return 208===e.kind},e.isEmptyStatement=function(e){return 209===e.kind},e.isExpressionStatement=function(e){return 210===e.kind},e.isIfStatement=function(e){return 211===e.kind},e.isDoStatement=function(e){return 212===e.kind},e.isWhileStatement=function(e){return 213===e.kind},e.isForStatement=function(e){return 214===e.kind},e.isForInStatement=function(e){return 215===e.kind},e.isForOfStatement=function(e){return 216===e.kind},e.isContinueStatement=function(e){return 217===e.kind},e.isBreakStatement=function(e){return 218===e.kind},e.isReturnStatement=function(e){return 219===e.kind},e.isWithStatement=function(e){return 220===e.kind},e.isSwitchStatement=function(e){return 221===e.kind},e.isLabeledStatement=function(e){return 222===e.kind},e.isThrowStatement=function(e){return 223===e.kind},e.isTryStatement=function(e){return 224===e.kind},e.isDebuggerStatement=function(e){return 225===e.kind},e.isVariableDeclaration=function(e){return 226===e.kind},e.isVariableDeclarationList=function(e){return 227===e.kind},e.isFunctionDeclaration=function(e){return 228===e.kind},e.isClassDeclaration=function(e){return 229===e.kind},e.isInterfaceDeclaration=function(e){return 230===e.kind},e.isTypeAliasDeclaration=function(e){return 231===e.kind},e.isEnumDeclaration=function(e){return 232===e.kind},e.isModuleDeclaration=function(e){return 233===e.kind},e.isModuleBlock=function(e){return 234===e.kind},e.isCaseBlock=function(e){return 235===e.kind},e.isNamespaceExportDeclaration=function(e){return 236===e.kind},e.isImportEqualsDeclaration=function(e){return 237===e.kind},e.isImportDeclaration=function(e){return 238===e.kind},e.isImportClause=function(e){return 239===e.kind},e.isNamespaceImport=function(e){return 240===e.kind},e.isNamedImports=function(e){return 241===e.kind},e.isImportSpecifier=function(e){return 242===e.kind},e.isExportAssignment=function(e){return 243===e.kind},e.isExportDeclaration=function(e){return 244===e.kind},e.isNamedExports=function(e){return 245===e.kind},e.isExportSpecifier=function(e){return 246===e.kind},e.isMissingDeclaration=function(e){return 247===e.kind},e.isExternalModuleReference=function(e){return 248===e.kind},e.isJsxElement=function(e){return 249===e.kind},e.isJsxSelfClosingElement=function(e){return 250===e.kind},e.isJsxOpeningElement=function(e){return 251===e.kind},e.isJsxClosingElement=function(e){return 252===e.kind},e.isJsxAttribute=function(e){return 253===e.kind},e.isJsxAttributes=function(e){return 254===e.kind},e.isJsxSpreadAttribute=function(e){return 255===e.kind},e.isJsxExpression=function(e){return 256===e.kind},e.isCaseClause=function(e){return 257===e.kind},e.isDefaultClause=function(e){return 258===e.kind},e.isHeritageClause=function(e){return 259===e.kind},e.isCatchClause=function(e){return 260===e.kind},e.isPropertyAssignment=function(e){return 261===e.kind},e.isShorthandPropertyAssignment=function(e){return 262===e.kind},e.isSpreadAssignment=function(e){return 263===e.kind},e.isEnumMember=function(e){return 264===e.kind},e.isSourceFile=function(e){return 265===e.kind},e.isBundle=function(e){return 266===e.kind},e.isJSDocTypeExpression=function(e){return 267===e.kind},e.isJSDocAllType=function(e){return 268===e.kind},e.isJSDocUnknownType=function(e){return 269===e.kind},e.isJSDocNullableType=function(e){return 270===e.kind},e.isJSDocNonNullableType=function(e){return 271===e.kind},e.isJSDocOptionalType=function(e){return 272===e.kind},e.isJSDocFunctionType=function(e){return 273===e.kind},e.isJSDocVariadicType=function(e){return 274===e.kind},e.isJSDoc=function(e){return 275===e.kind},e.isJSDocAugmentsTag=function(e){return 277===e.kind},e.isJSDocParameterTag=function(e){return 279===e.kind},e.isJSDocReturnTag=function(e){return 280===e.kind},e.isJSDocTypeTag=function(e){return 281===e.kind},e.isJSDocTemplateTag=function(e){return 282===e.kind},e.isJSDocTypedefTag=function(e){return 283===e.kind},e.isJSDocPropertyTag=function(e){return 284===e.kind},e.isJSDocPropertyLikeTag=function(e){return 284===e.kind||279===e.kind},e.isJSDocTypeLiteral=function(e){return 285===e.kind}})(ts=ts||{}),(r=>{function t(e){return 143<=e}function n(e){return 8<=e&&e<=13}function i(e){switch(e){case 117:case 120:case 76:case 124:case 79:case 84:case 114:case 112:case 113:case 131:case 115:return!0}return!1}function a(e){return e&&o(e.kind)}function s(e){switch(e){case 228:case 151:case 152:case 153:case 154:case 186:case 187:return!0;default:return!1}}function o(e){switch(e){case 150:case 155:case 156:case 157:case 160:case 273:case 161:return!0;default:return s(e)}}function c(e){switch(e.kind){case 174:case 178:return!0}return!1}function l(e){switch(e.kind){case 175:case 177:return!0}return!1}function u(e){switch(e){case 179:case 180:case 182:case 181:case 249:case 250:case 183:case 177:case 185:case 178:case 199:case 186:case 71:case 12:case 8:case 9:case 13:case 196:case 86:case 95:case 99:case 101:case 97:case 203:case 204:case 91:return!0;default:return!1}}function d(e){switch(e){case 192:case 193:case 188:case 189:case 190:case 191:case 184:return!0;default:return u(e)}}function p(e){var t=r.skipPartiallyEmittedExpressions(e).kind;switch(t){case 195:case 197:case 187:case 194:case 198:case 202:case 200:case 289:case 288:return!0;default:return d(t)}}function f(e){return 288===e.kind}function _(e){return 287===e.kind}function m(e){return 228===e||247===e||229===e||230===e||231===e||232===e||233===e||238===e||237===e||244===e||243===e||236===e}function g(e){return 218===e||217===e||225===e||212===e||210===e||209===e||215===e||216===e||214===e||211===e||222===e||219===e||221===e||223===e||224===e||208===e||213===e||220===e||287===e||291===e||290===e}function h(e){return 276<=e.kind&&e.kind<=285}r.isSyntaxList=function(e){return 286===e.kind},r.isNode=function(e){return t(e.kind)},r.isNodeKind=t,r.isToken=function(e){return 0<=e.kind&&e.kind<=142},r.isNodeArray=function(e){return e.hasOwnProperty("pos")&&e.hasOwnProperty("end")},r.isLiteralKind=n,r.isLiteralExpression=function(e){return n(e.kind)},r.isTemplateLiteralKind=function(e){return 13<=e&&e<=16},r.isTemplateMiddleOrTemplateTail=function(e){return 15===(e=e.kind)||16===e},r.isStringTextContainingNode=function(e){switch(e.kind){case 9:case 14:case 15:case 16:case 13:return!0;default:return!1}},r.isGeneratedIdentifier=function(e){return r.isIdentifier(e)&&0<e.autoGenerateKind},r.isModifierKind=i,r.isModifier=function(e){return i(e.kind)},r.isEntityName=function(e){return 143===(e=e.kind)||71===e},r.isPropertyName=function(e){return 71===(e=e.kind)||9===e||8===e||144===e},r.isBindingName=function(e){return 71===(e=e.kind)||174===e||175===e},r.isFunctionLike=a,r.isFunctionLikeDeclaration=function(e){return e&&s(e.kind)},r.isFunctionLikeKind=o,r.isFunctionOrModuleBlock=function(e){return r.isSourceFile(e)||r.isModuleBlock(e)||r.isBlock(e)&&a(e.parent)},r.isClassElement=function(e){return 152===(e=e.kind)||149===e||151===e||153===e||154===e||157===e||206===e||247===e},r.isClassLike=function(e){return e&&(229===e.kind||199===e.kind)},r.isAccessor=function(e){return e&&(153===e.kind||154===e.kind)},r.isTypeElement=function(e){return 156===(e=e.kind)||155===e||148===e||150===e||157===e||247===e},r.isObjectLiteralElementLike=function(e){return 261===(e=e.kind)||262===e||263===e||151===e||153===e||154===e||247===e},r.isTypeNode=function(e){return 158<=(e=e.kind)&&e<=173||119===e||133===e||134===e||122===e||136===e||137===e||99===e||105===e||139===e||95===e||130===e||201===e||268===e||269===e||270===e||271===e||272===e||273===e||274===e},r.isFunctionOrConstructorTypeNode=function(e){switch(e.kind){case 160:case 161:return!0}return!1},r.isBindingPattern=function(e){return!!e&&(175===(e=e.kind)||174===e)},r.isAssignmentPattern=function(e){return 177===(e=e.kind)||178===e},r.isArrayBindingElement=function(e){return 176===(e=e.kind)||200===e},r.isDeclarationBindingElement=function(e){switch(e.kind){case 226:case 146:case 176:return!0}return!1},r.isBindingOrAssignmentPattern=function(e){return c(e)||l(e)},r.isObjectBindingOrAssignmentPattern=c,r.isArrayBindingOrAssignmentPattern=l,r.isPropertyAccessOrQualifiedName=function(e){return 179===(e=e.kind)||143===e},r.isCallLikeExpression=function(e){switch(e.kind){case 251:case 250:case 181:case 182:case 183:case 147:return!0;default:return!1}},r.isCallOrNewExpression=function(e){return 181===e.kind||182===e.kind},r.isTemplateLiteral=function(e){return 196===(e=e.kind)||13===e},r.isLeftHandSideExpression=function(e){return u(r.skipPartiallyEmittedExpressions(e).kind)},r.isUnaryExpression=function(e){return d(r.skipPartiallyEmittedExpressions(e).kind)},r.isUnaryExpressionWithWrite=function(e){switch(e.kind){case 193:return!0;case 192:return 43===e.operator||44===e.operator;default:return!1}},r.isExpression=p,r.isAssertionExpression=function(e){return 184===(e=e.kind)||202===e},r.isPartiallyEmittedExpression=f,r.isNotEmittedStatement=_,r.isNotEmittedOrPartiallyEmittedNode=function(e){return _(e)||f(e)},r.isIterationStatement=function e(t,r){switch(t.kind){case 214:case 215:case 216:case 212:case 213:return!0;case 222:return r&&e(t.statement,r)}return!1},r.isForInOrOfStatement=function(e){return 215===e.kind||216===e.kind},r.isConciseBody=function(e){return r.isBlock(e)||p(e)},r.isFunctionBody=function(e){return r.isBlock(e)},r.isForInitializer=function(e){return r.isVariableDeclarationList(e)||p(e)},r.isModuleBody=function(e){return 234===(e=e.kind)||233===e||71===e},r.isNamespaceBody=function(e){return 234===(e=e.kind)||233===e},r.isJSDocNamespaceBody=function(e){return 71===(e=e.kind)||233===e},r.isNamedImportBindings=function(e){return 241===(e=e.kind)||240===e},r.isModuleOrEnumDeclaration=function(e){return 233===e.kind||232===e.kind},r.isDeclaration=function(e){return 145===e.kind?282!==e.parent.kind||r.isInJavaScriptFile(e):187===(e=e.kind)||176===e||229===e||199===e||152===e||232===e||264===e||246===e||228===e||186===e||153===e||239===e||237===e||242===e||230===e||253===e||151===e||150===e||233===e||236===e||240===e||146===e||261===e||149===e||148===e||154===e||262===e||231===e||145===e||226===e||283===e},r.isDeclarationStatement=function(e){return m(e.kind)},r.isStatementButNotDeclaration=function(e){return g(e.kind)},r.isStatement=function(e){var t=e.kind;return g(t)||m(t)||(e=>207===e.kind&&(void 0===e.parent||224!==e.parent.kind&&260!==e.parent.kind)&&!r.isFunctionBlock(e))(e)},r.isModuleReference=function(e){return 248===(e=e.kind)||143===e||71===e},r.isJsxTagNameExpression=function(e){return 99===(e=e.kind)||71===e||179===e},r.isJsxChild=function(e){return 249===(e=e.kind)||256===e||250===e||10===e},r.isJsxAttributeLike=function(e){return 253===(e=e.kind)||255===e},r.isStringLiteralOrJsxExpression=function(e){return 9===(e=e.kind)||256===e},r.isJsxOpeningLikeElement=function(e){return 251===(e=e.kind)||250===e},r.isCaseOrDefaultClause=function(e){return 257===(e=e.kind)||258===e},r.isJSDocNode=function(e){return 267<=e.kind&&e.kind<=285},r.isJSDocCommentContainingNode=function(e){return 275===e.kind||h(e)},r.isJSDocTag=h,r.isSetAccessor=function(e){return 154===e.kind},r.isGetAccessor=function(e){return 153===e.kind},r.hasJSDocNodes=function(e){return!!e.jsDoc&&0<e.jsDoc.length}})(ts=ts||{}),(N=>{var n,i,d,p,k,e,f,_,m,g,h,y,V,I,P,H,G,W,c,v,Q,O,Y,o,X;function a(e,t){return t&&e(t)}function s(e,t,r){if(r){if(t)return t(r);for(var n=0,i=r;n<i.length;n++){var a=e(i[n]);if(a)return a}}}function S(e,t,r){if(e&&!(e.kind<=142))switch(e.kind){case 143:return a(t,e.left)||a(t,e.right);case 145:return a(t,e.name)||a(t,e.constraint)||a(t,e.default)||a(t,e.expression);case 262:return s(t,r,e.decorators)||s(t,r,e.modifiers)||a(t,e.name)||a(t,e.questionToken)||a(t,e.equalsToken)||a(t,e.objectAssignmentInitializer);case 263:return a(t,e.expression);case 146:case 149:case 148:case 261:case 226:case 176:return s(t,r,e.decorators)||s(t,r,e.modifiers)||a(t,e.propertyName)||a(t,e.dotDotDotToken)||a(t,e.name)||a(t,e.questionToken)||a(t,e.type)||a(t,e.initializer);case 160:case 161:case 155:case 156:case 157:return s(t,r,e.decorators)||s(t,r,e.modifiers)||s(t,r,e.typeParameters)||s(t,r,e.parameters)||a(t,e.type);case 151:case 150:case 152:case 153:case 154:case 186:case 228:case 187:return s(t,r,e.decorators)||s(t,r,e.modifiers)||a(t,e.asteriskToken)||a(t,e.name)||a(t,e.questionToken)||s(t,r,e.typeParameters)||s(t,r,e.parameters)||a(t,e.type)||a(t,e.equalsGreaterThanToken)||a(t,e.body);case 159:return a(t,e.typeName)||s(t,r,e.typeArguments);case 158:return a(t,e.parameterName)||a(t,e.type);case 162:return a(t,e.exprName);case 163:return s(t,r,e.members);case 164:return a(t,e.elementType);case 165:return s(t,r,e.elementTypes);case 166:case 167:return s(t,r,e.types);case 168:case 170:return a(t,e.type);case 171:return a(t,e.objectType)||a(t,e.indexType);case 172:return a(t,e.readonlyToken)||a(t,e.typeParameter)||a(t,e.questionToken)||a(t,e.type);case 173:return a(t,e.literal);case 174:case 175:case 177:return s(t,r,e.elements);case 178:return s(t,r,e.properties);case 179:return a(t,e.expression)||a(t,e.name);case 180:return a(t,e.expression)||a(t,e.argumentExpression);case 181:case 182:return a(t,e.expression)||s(t,r,e.typeArguments)||s(t,r,e.arguments);case 183:return a(t,e.tag)||a(t,e.template);case 184:return a(t,e.type)||a(t,e.expression);case 185:case 188:case 189:case 190:return a(t,e.expression);case 192:return a(t,e.operand);case 197:return a(t,e.asteriskToken)||a(t,e.expression);case 191:return a(t,e.expression);case 193:return a(t,e.operand);case 194:return a(t,e.left)||a(t,e.operatorToken)||a(t,e.right);case 202:return a(t,e.expression)||a(t,e.type);case 203:return a(t,e.expression);case 204:return a(t,e.name);case 195:return a(t,e.condition)||a(t,e.questionToken)||a(t,e.whenTrue)||a(t,e.colonToken)||a(t,e.whenFalse);case 198:return a(t,e.expression);case 207:case 234:return s(t,r,e.statements);case 265:return s(t,r,e.statements)||a(t,e.endOfFileToken);case 208:return s(t,r,e.decorators)||s(t,r,e.modifiers)||a(t,e.declarationList);case 227:return s(t,r,e.declarations);case 210:return a(t,e.expression);case 211:return a(t,e.expression)||a(t,e.thenStatement)||a(t,e.elseStatement);case 212:return a(t,e.statement)||a(t,e.expression);case 213:return a(t,e.expression)||a(t,e.statement);case 214:return a(t,e.initializer)||a(t,e.condition)||a(t,e.incrementor)||a(t,e.statement);case 215:return a(t,e.initializer)||a(t,e.expression)||a(t,e.statement);case 216:return a(t,e.awaitModifier)||a(t,e.initializer)||a(t,e.expression)||a(t,e.statement);case 217:case 218:return a(t,e.label);case 219:return a(t,e.expression);case 220:return a(t,e.expression)||a(t,e.statement);case 221:return a(t,e.expression)||a(t,e.caseBlock);case 235:return s(t,r,e.clauses);case 257:return a(t,e.expression)||s(t,r,e.statements);case 258:return s(t,r,e.statements);case 222:return a(t,e.label)||a(t,e.statement);case 223:return a(t,e.expression);case 224:return a(t,e.tryBlock)||a(t,e.catchClause)||a(t,e.finallyBlock);case 260:return a(t,e.variableDeclaration)||a(t,e.block);case 147:return a(t,e.expression);case 229:case 199:case 230:return s(t,r,e.decorators)||s(t,r,e.modifiers)||a(t,e.name)||s(t,r,e.typeParameters)||s(t,r,e.heritageClauses)||s(t,r,e.members);case 231:return s(t,r,e.decorators)||s(t,r,e.modifiers)||a(t,e.name)||s(t,r,e.typeParameters)||a(t,e.type);case 232:return s(t,r,e.decorators)||s(t,r,e.modifiers)||a(t,e.name)||s(t,r,e.members);case 264:return a(t,e.name)||a(t,e.initializer);case 233:return s(t,r,e.decorators)||s(t,r,e.modifiers)||a(t,e.name)||a(t,e.body);case 237:return s(t,r,e.decorators)||s(t,r,e.modifiers)||a(t,e.name)||a(t,e.moduleReference);case 238:return s(t,r,e.decorators)||s(t,r,e.modifiers)||a(t,e.importClause)||a(t,e.moduleSpecifier);case 239:return a(t,e.name)||a(t,e.namedBindings);case 236:case 240:return a(t,e.name);case 241:case 245:return s(t,r,e.elements);case 244:return s(t,r,e.decorators)||s(t,r,e.modifiers)||a(t,e.exportClause)||a(t,e.moduleSpecifier);case 242:case 246:return a(t,e.propertyName)||a(t,e.name);case 243:return s(t,r,e.decorators)||s(t,r,e.modifiers)||a(t,e.expression);case 196:return a(t,e.head)||s(t,r,e.templateSpans);case 205:return a(t,e.expression)||a(t,e.literal);case 144:return a(t,e.expression);case 259:return s(t,r,e.types);case 201:return a(t,e.expression)||s(t,r,e.typeArguments);case 248:return a(t,e.expression);case 247:return s(t,r,e.decorators);case 289:return s(t,r,e.elements);case 249:return a(t,e.openingElement)||s(t,r,e.children)||a(t,e.closingElement);case 250:case 251:return a(t,e.tagName)||a(t,e.attributes);case 254:return s(t,r,e.properties);case 253:return a(t,e.name)||a(t,e.initializer);case 255:return a(t,e.expression);case 256:return a(t,e.dotDotDotToken)||a(t,e.expression);case 252:return a(t,e.tagName);case 267:case 271:case 270:case 272:return a(t,e.type);case 273:return s(t,r,e.parameters)||a(t,e.type);case 274:return a(t,e.type);case 275:return s(t,r,e.tags);case 279:case 284:return e.isNameFirst?a(t,e.name)||a(t,e.typeExpression):a(t,e.typeExpression)||a(t,e.name);case 280:case 281:return a(t,e.typeExpression);case 277:return a(t,e.class);case 282:return s(t,r,e.typeParameters);case 283:return e.typeExpression&&267===e.typeExpression.kind?a(t,e.typeExpression)||a(t,e.fullName):a(t,e.fullName)||a(t,e.typeExpression);case 285:if(e.jsDocPropertyTags)for(var n=0,i=e.jsDocPropertyTags;n<i.length;n++)a(t,i[n]);return;case 288:return a(t,e.expression)}}function Z(e){return 4===e||2===e||1===e||6===e?1:0}function ee(e,t,r,n){f=N.objectAllocator.getNodeConstructor(),_=N.objectAllocator.getTokenConstructor(),m=N.objectAllocator.getIdentifierConstructor(),g=N.objectAllocator.getSourceFileConstructor(),P=e,V=r,y=[],c=0,G=N.createMap(),H=W=0,v=1===n||2===n||6===n?65536:0,o=!1,O.setText(P),O.setOnError(he),O.setScriptTarget(t),O.setLanguageVariant(Z(n))}function te(){O.setText(""),O.setOnError(void 0),P=V=G=h=y=void 0}function T(e){var t=N.getJSDocCommentRanges(e,h.text,h.compileOptions);if(t)for(var r=0,n=t;r<n.length;r++){var i=n[r],i=Q.parseJSDocComment(e,i.pos,i.end-i.pos,h.compileOptions);i&&(e.jsDoc||(e.jsDoc=[]),e.jsDoc.push(i))}return e}function re(e){var s=e;S(e,function e(t){if(t.parent!==s){var r=t.parent=s;if(S(s=t,e),N.hasJSDocNodes(t))for(var n=0,i=t.jsDoc;n<i.length;n++){var a=i[n];a.parent=t,S(s=a,e)}s=r}})}function ne(e,t,r,n){var i=new g(265,0,P.length);return H++,i.text=P,i.bindDiagnostics=[],i.languageVersion=t,i.fileName=N.normalizePath(e),i.languageVariant=Z(r),i.isDeclarationFile=N.fileExtensionIs(i.fileName,".d.ts"),i.scriptKind=r,i.compileOptions=n,i}function ie(e,t){e?v|=t:v&=~t}function ae(e){ie(e,2048)}function se(e){ie(e,4096)}function oe(e){ie(e,8192)}function ce(e){ie(e,16384)}function le(e,t){var r,e=e&v;return e?(ie(!1,e),r=t(),ie(!0,e),r):t()}function ue(e,t){var r,e=e&~v;return e?(ie(!0,e),r=t(),ie(!1,e),r):t()}function l(e){return le(2048,e)}function de(e){return ue(16384,e)}function t(e){return 0!=(v&e)}function pe(){return t(4096)}function fe(){return t(2048)}function _e(){return t(8192)}function me(){return t(16384)}function ge(e,t){var r=O.getTokenPos();F(r,O.getTextPos()-r,e,t)}function F(e,t,r,n){var i=N.lastOrUndefined(y);i&&e===i.start||y.push(N.createFileDiagnostic(h,e,t,r,n)),o=!0}function he(e,t){F(O.getTextPos(),t||0,e)}function L(){return O.getStartPos()}function C(){return I=O.scan()}function ye(){return I=O.reScanGreaterToken()}function r(){I=O.scanJsxIdentifier()}function ve(){I=O.scanJsxToken()}function be(e,t){var r=I,n=y.length,i=o,a=v,e=t?O.lookAhead(e):O.tryScan(e);return N.Debug.assert(a===v),e&&!t||(I=r,y.length=n,o=i),e}function E(e){return be(e,!0)}function R(e){return be(e,!1)}function D(){return 71===I||!(116===I&&pe()||121===I&&me())&&107<I}function M(e,t,r){return void 0===r&&(r=!0),I===e?(r&&C(),!0):(t?ge(t):ge(N.Diagnostics._0_expected,N.tokenToString(e)),!1)}function U(e){return I===e&&(C(),!0)}function u(e){if(I===e)return b()}function xe(e,t,r,n){return u(e)||Se(e,t,r,n)}function b(){var e=B(I);return C(),K(e)}function ke(){return 25===I||18===I||1===I||O.hasPrecedingLineBreak()}function A(){ke()?25===I&&C():M(25)}function B(e,t){return H++,0<=t||(t=O.getStartPos()),new(N.isNodeKind(e)?f:71===e?m:_)(e,t,t)}function j(e,t,r){var n=e.length,n=1<=n&&n<=4?e.slice():e;return n.pos=t,n.end=void 0===r?O.getStartPos():r,n}function K(e,t){return e.end=void 0===t?O.getStartPos():t,v&&(e.flags|=v),o&&(o=!1,e.flags|=32768),e}function Se(e,t,r,n){t?F(O.getStartPos(),0,r,n):ge(r,n);t=B(e,O.getStartPos());return 71===e?t.escapedText="":(N.isLiteralKind(e)||N.isTemplateLiteralKind(e))&&(t.text=""),K(t)}function Te(e){var t=G.get(e);return void 0===t&&G.set(e,t=e),t}function Ce(e,t){return W++,e?(e=B(71),71!==I&&(e.originalKeywordKind=I),e.escapedText=N.escapeLeadingUnderscores(Te(O.getTokenValue())),C(),K(e)):Se(71,1===I,t||N.Diagnostics.Identifier_expected)}function w(e){return Ce(D(),e)}function Ee(e){return Ce(N.tokenIsIdentifierOrKeyword(I),e)}function De(){return N.tokenIsIdentifierOrKeyword(I)||9===I||8===I}function Ae(e){var t;return 9===I||8===I?((t=Xe()).text=Te(t.text),t):e&&21===I?(t=B(144),M(21),t.expression=l(J),M(22),K(t)):Ee()}function we(){return Ae(!0)}function Ne(e){return I===e&&R(Pe)}function Ie(){return C(),!O.hasPrecedingLineBreak()&&Oe()}function Pe(){return 76===I?83===C():84===I?(C(),79===I?E(Fe):39!==I&&118!==I&&17!==I&&Oe()):(79===I?Fe:115===I?(C(),Oe):Ie)()}function Oe(){return 21===I||17===I||39===I||24===I||De()}function Fe(){return C(),75===I||89===I||109===I||117===I&&E(xr)||120===I&&E(kr)}function Le(e,t){if(Je(e))return 1;switch(e){case 0:case 1:case 3:return(25!==I||!t)&&Er();case 2:return 73===I||79===I;case 4:return E(_t);case 5:return E($r)||25===I&&!t;case 6:return 21===I||De();case 12:return 21===I||39===I||24===I||De();case 17:return De();case 9:return 21===I||24===I||De();case 7:return 17===I?E(Re):t?D()&&!Be():Lt()&&!Be();case 8:return Pr();case 10:return 26===I||24===I||Pr();case 18:return D();case 11:case 15:return 26===I||24===I||Rt();case 16:return st();case 19:case 20:return 26===I||Ct();case 21:return en();case 22:return N.tokenIsIdentifierOrKeyword(I);case 13:return N.tokenIsIdentifierOrKeyword(I)||17===I;case 14:return 1}N.Debug.fail("Non-exhaustive case in 'isListElement'.")}function Re(){var e;return N.Debug.assert(17===I),18!==C()||26===(e=C())||17===e||85===e||108===e}function Me(){return C(),D()}function Ue(){return C(),N.tokenIsIdentifierOrKeyword(I)}function Be(){return(108===I||85===I)&&E(je)}function je(){return C(),Rt()}function Ke(e){if(1===I)return 1;switch(e){case 1:case 2:case 4:case 5:case 6:case 12:case 9:case 22:return 18===I;case 3:return 18===I||73===I||79===I;case 7:return 17===I||85===I||108===I;case 8:return ke()||qt(I)||36===I;case 18:return 29===I||19===I||17===I||85===I||108===I;case 11:return 20===I||25===I;case 15:case 20:case 10:return 22===I;case 16:case 17:return 20===I||22===I;case 19:return 26!==I;case 21:return 17===I||18===I;case 13:return 29===I||41===I;case 14:return 27===I&&E(sn)}}function ze(e,t){for(var r=c,n=(c|=1<<e,[]),i=L();!Ke(e);)if(Le(e,!1)){var a=$e(e,t);n.push(a)}else if(qe(e))break;return c=r,j(n,i)}function $e(e,t){var e=Je(e);return e?(e=e,O.setTextPos(e.end),C(),e):t()}function Je(e){if(!o&&V){var t=V.currentNode(O.getStartPos());if(!N.nodeIsMissing(t)&&!t.intersectsChange&&!N.containsParseError(t)){var r=96256&t.flags;if(r===v&&((e,t)=>{switch(t){case 5:return(e=>{if(e)switch(e.kind){case 152:case 157:case 153:case 154:case 149:case 206:return 1;case 151:var t=e;return!(71===t.name.kind&&123===t.name.originalKeywordKind)}})(e);case 2:return(e=>{if(e)switch(e.kind){case 257:case 258:return 1}})(e);case 0:case 1:case 3:return(e=>{if(e)switch(e.kind){case 228:case 208:case 207:case 211:case 210:case 223:case 219:case 221:case 218:case 217:case 215:case 216:case 214:case 213:case 220:case 209:case 224:case 222:case 212:case 225:case 238:case 237:case 244:case 243:case 233:case 229:case 230:case 232:case 231:return 1}})(e);case 6:return 264===e.kind;case 4:return(e=>{if(e)switch(e.kind){case 156:case 150:case 157:case 148:case 155:return 1}})(e);case 8:return(e=>226===e.kind&&void 0===e.initializer)(e);case 16:return(e=>146===e.kind&&void 0===e.initializer)(e);case 17:return}})(t,e))return t}}}function qe(e){if(ge((e=>{switch(e){case 0:case 1:return N.Diagnostics.Declaration_or_statement_expected;case 2:return N.Diagnostics.case_or_default_expected;case 3:return N.Diagnostics.Statement_expected;case 17:case 4:return N.Diagnostics.Property_or_signature_expected;case 5:return N.Diagnostics.Unexpected_token_A_constructor_method_accessor_or_property_was_expected;case 6:return N.Diagnostics.Enum_member_expected;case 7:return N.Diagnostics.Expression_expected;case 8:return N.Diagnostics.Variable_declaration_expected;case 9:return N.Diagnostics.Property_destructuring_pattern_expected;case 10:return N.Diagnostics.Array_element_destructuring_pattern_expected;case 11:return N.Diagnostics.Argument_expression_expected;case 12:return N.Diagnostics.Property_assignment_expected;case 15:return N.Diagnostics.Expression_or_comma_expected;case 16:return N.Diagnostics.Parameter_declaration_expected;case 18:return N.Diagnostics.Type_parameter_declaration_expected;case 19:return N.Diagnostics.Type_argument_expected;case 20:return N.Diagnostics.Type_expected;case 21:return N.Diagnostics.Unexpected_token_expected;case 22:case 13:case 14:return N.Diagnostics.Identifier_expected}})(e)),(()=>{for(var e=0;e<23;e++)if(c&1<<e&&(Le(e,!0)||Ke(e)))return 1})())return 1;C()}function z(e,t,r){for(var n=c,i=(c|=1<<e,[]),a=L(),s=-1;;)if(Le(e,!1)){var o=O.getStartPos();if(i.push($e(e,t)),s=O.getTokenPos(),!U(26)){if(s=-1,Ke(e))break;M(26),r&&25===I&&!O.hasPrecedingLineBreak()&&C(),o===O.getStartPos()&&C()}}else{if(Ke(e))break;if(qe(e))break}c=n;n=j(i,a);return 0<=s&&(n.hasTrailingComma=!0),n}function Ve(){return j([],L())}function He(e,t,r,n){return M(r)?(r=z(e,t),M(n),r):Ve()}function Ge(e,t){for(var r=(e?Ee:w)(t),n=O.getStartPos();U(23);){if(27===I){r.jsdocDotPos=n;break}n=O.getStartPos(),r=We(r,Qe(e))}return r}function We(e,t){var r=B(143,e.pos);return r.left=e,r.right=t,K(r)}function Qe(e){if(O.hasPrecedingLineBreak()&&N.tokenIsIdentifierOrKeyword(I)&&E(br))return Se(71,!0,N.Diagnostics.Identifier_expected);return(e?Ee:w)()}function Ye(){for(var e=B(196),t=(e.head=(r=Ze(I),N.Debug.assert(14===r.kind,"Template head has wrong token kind"),r),N.Debug.assert(14===e.head.kind,"Template head has wrong token kind"),[]),r=L();t.push((()=>{var e,t=B(205);return t.expression=l(J),e=18===I?(I=O.reScanTemplateToken(),(()=>{var e=Ze(I);return N.Debug.assert(15===e.kind||16===e.kind,"Template fragment has wrong token kind"),e})()):xe(16,!1,N.Diagnostics._0_expected,N.tokenToString(18)),t.literal=e,K(t)})()),15===N.lastOrUndefined(t).literal.kind;);return e.templateSpans=j(t,r),K(e)}function Xe(){return Ze(I)}function Ze(e){var e=B(e),t=O.getTokenValue();return e.text=t,O.hasExtendedUnicodeEscape()&&(e.hasExtendedUnicodeEscape=!0),O.isUnterminated()&&(e.isUnterminated=!0),8===e.kind&&(e.numericLiteralFlags=O.getNumericLiteralFlags()),C(),K(e),e}function et(){var e=B(159);return e.typeName=Ge(!0,N.Diagnostics.Type_expected),O.hasPrecedingLineBreak()||27!==I||(e.typeArguments=He(19,$,27,29)),K(e)}function tt(){var e=B(146);return 99!==I&&94!==I||(e.name=Ee(),M(56)),e.type=$(),K(e)}function rt(e){e=B(e);return C(),e.type=Tt(),K(e)}function nt(){var e=B(145);return e.name=w(),U(85)&&(Ct()||!Rt()?e.constraint=$():e.expression=Wt()),U(58)&&(e.default=$()),K(e)}function it(){if(27===I)return He(18,nt,27,29)}function at(){if(U(56))return $()}function st(){return 24===I||Pr()||N.isModifierKind(I)||57===I||Ct(!0)}function ot(e){var t=B(146);return 99===I?(t.name=Ce(!0),t.type=at(),K(t)):(t.decorators=Jr(),t.modifiers=qr(),t.dotDotDotToken=u(24),t.name=Or(),0===N.getFullWidth(t.name)&&!N.hasModifiers(t)&&N.isModifierKind(I)&&C(),t.questionToken=u(55),t.type=at(),t.initializer=Mt(!0,e),T(K(t)))}function ct(e,t,r){32&t||(r.typeParameters=it()),r.parameters=(e=>{var t,r,n;return M(19)?(t=pe(),r=me(),se(!!(1&e)),ce(!!(2&e)),n=z(16,32&e?tt:function(){return ot(!!(8&e))}),se(t),ce(r),!M(20)&&8&e?void 0:n):8&e?void 0:Ve()})(t),r.type=((e,t)=>36===e?(M(e),1):U(56)||t&&36===I&&(ge(N.Diagnostics._0_expected,N.tokenToString(56)),C(),1))(e,!!(4&t))?(()=>{var e,t=D()&&R(Pt),r=$();return t?((e=B(158,t.pos)).parameterName=t,e.type=r,K(e)):r})():void 0}function lt(){U(26)||A()}function ut(e){var t=B(e);return 156===e&&M(94),ct(56,4,t),lt(),T(K(t))}function dt(){return 21===I&&E(pt)}function pt(){if(C(),24===I||22===I)return!0;if(N.isModifierKind(I)){if(C(),D())return!0}else{if(!D())return!1;C()}return 56===I||26===I||55===I&&(C(),56===I||26===I||22===I)}function ft(e,t,r){e=B(157,e);return e.decorators=t,e.modifiers=r,e.parameters=He(16,ot,21,22),e.type=Ft(),lt(),T(K(e))}function _t(){if(19===I||27===I)return!0;for(var e;N.isModifierKind(I);)e=!0,C();return 21===I||(De()&&(e=!0,C()),!!e&&(19===I||27===I||55===I||56===I||26===I||ke()))}function mt(){var e,t,r,n,i;return 19===I||27===I?ut(155):94===I&&E(gt)?ut(156):(e=L(),t=qr(),dt()?ft(e,void 0,t):(e=e,t=t,n=we(),i=u(55),19===I||27===I?((r=B(150,e)).modifiers=t,r.name=n,r.questionToken=i,ct(56,4,r),lt(),T(K(r))):((r=B(148,e)).modifiers=t,r.name=n,r.questionToken=i,r.type=Ft(),58===I&&(r.initializer=Kr()),lt(),T(K(r)))))}function gt(){return C(),19===I||27===I}function ht(){var e;return M(17)?(e=ze(4,mt),M(18)):e=Ve(),e}function yt(){return C(),131===I&&C(),21===I&&Me()&&92===C()}function vt(){var e,t=B(172);return M(17),t.readonlyToken=u(131),M(21),t.typeParameter=((e=B(145)).name=w(),M(92),e.constraint=$(),K(e)),M(22),t.questionToken=u(55),t.type=Ft(),A(),M(18),K(t)}function bt(e){var t=B(e);return 161===e&&M(94),ct(36,4,t),T(K(t))}function xt(){var e=b();return 23===I?void 0:e}function kt(e){var t,r=B(173),n=(e&&((t=B(192)).operator=38,C()),101===I||86===I?b():Ze(I));return e&&(t.operand=n,K(t),n=t),r.literal=n,K(r)}function St(){return 8===C()}function Tt(){switch(I){case 119:case 136:case 133:case 122:case 137:case 139:case 130:case 134:return R(xt)||et();case 39:return a=B(268),C(),K(a);case 55:return a=O.getStartPos(),C(),26===I||18===I||20===I||29===I||58===I||49===I?K(i=B(269,a)):((i=B(270,a)).type=$(),K(i));case 89:return E(an)?(n=B(273),C(),ct(56,36,n),T(K(n))):((n=B(159)).typeName=Ee(),K(n));case 24:return rt(274);case 51:return rt(271);case 13:case 9:case 8:case 101:case 86:return kt();case 38:return E(St)?kt(!0):et();case 105:case 95:return b();case 99:i=B(169),C();n=K(i);return 126!==I||O.hasPrecedingLineBreak()?n:(t=n,C(),(r=B(158,t.pos)).parameterName=t,r.type=$(),K(r));case 103:return t=B(162),M(103),t.exprName=Ge(!0),K(t);case 17:return E(yt)?vt():((r=B(163)).members=ht(),K(r));case 21:return(e=B(165)).elementTypes=He(20,$,21,22),K(e);case 19:return e=B(168),M(19),e.type=$(),M(20),K(e);default:return et()}var e,t,r,n,i,a}function Ct(e){switch(I){case 119:case 136:case 133:case 122:case 137:case 105:case 139:case 95:case 99:case 103:case 130:case 17:case 21:case 27:case 49:case 48:case 94:case 9:case 8:case 101:case 86:case 134:case 39:case 55:case 51:case 24:return!0;case 38:return!e&&E(St);case 19:return!e&&E(Et);default:return D()}}function Et(){return C(),20===I||st()||Ct()}function Dt(e,t){C();e=B(e,t.pos);return e.type=t,K(e)}function At(){if(127===I)return e=127,t=B(170),M(e),t.operator=e,t.type=At(),K(t);for(var e,t,r,n=Tt();!O.hasPrecedingLineBreak();)switch(I){case 58:if(!(1048576&v))return n;n=Dt(272,n);break;case 51:n=Dt(271,n);break;case 55:n=Dt(270,n);break;case 21:M(21),n=(Ct()?((r=B(171,n.pos)).objectType=n,r.indexType=$()):(r=B(164,n.pos)).elementType=n,M(22),K(r));break;default:return n}return n}function wt(e,t,r){U(r);var n=t();if(I===r){for(var i=[n];U(r);)i.push(t());e=B(e,n.pos);e.types=j(i,n.pos),n=K(e)}return n}function Nt(){return wt(167,At,48)}function It(){if(C(),20===I||24===I)return!0;if(N.isModifierKind(I)&&qr(),D()||99===I?(C(),1):21===I||17===I?(e=y.length,Or(),e===y.length):void 0){if(56===I||26===I||55===I||58===I)return!0;if(20===I&&(C(),36===I))return!0}var e;return!1}function Pt(){var e=w();if(126===I&&!O.hasPrecedingLineBreak())return C(),e}function $(){return le(20480,Ot)}function Ot(){return 27===I||19===I&&E(It)?bt(160):94===I?bt(161):wt(166,Nt,49)}function Ft(){return U(56)?$():void 0}function Lt(){switch(I){case 99:case 97:case 95:case 101:case 86:case 8:case 9:case 13:case 14:case 19:case 21:case 17:case 89:case 75:case 94:case 41:case 63:case 71:return!0;case 91:return E(gt);default:return D()}}function Rt(){if(Lt())return!0;switch(I){case 37:case 38:case 52:case 51:case 80:case 103:case 105:case 43:case 44:case 27:case 121:case 116:return!0;default:return(()=>(!fe()||92!==I)&&0<Ht())()?!0:D()}}function J(){for(var e,t=_e(),r=(t&&oe(!1),q());e=u(26);)r=Gt(r,e,q());return t&&oe(!0),r}function Mt(e,t){if(58!==I){if(O.hasPrecedingLineBreak()||e&&17===I||!Rt())return;if(e&&t)return(e=Se(71,!0,N.Diagnostics._0_expected,"=")).escapedText="= not found",e}return M(58),q()}function q(){var e,t,r,n;return(()=>116===I&&(pe()||E(Sr)))()?(e=B(197),C(),O.hasPrecedingLineBreak()||39!==I&&!Rt()||(e.asteriskToken=u(39),e.expression=q()),K(e)):(()=>{var e,t,r=19!==I&&27!==I&&120!==I?36!==I?0:1:E(Bt);return 0!==r&&(r=1===r?zt(!0):R(jt))?(e=N.hasModifier(r,256),t=I,r.equalsGreaterThanToken=xe(36,!1,N.Diagnostics._0_expected,"=>"),r.body=36===t||17===t?$t(e):w(),T(K(r))):void 0})()||(()=>{var e;if(120===I&&1===E(Kt))return e=Vr(),Ut(Jt(0),e)})()||(71===(e=Jt(0)).kind&&36===I?Ut(e):N.isLeftHandSideExpression(e)&&N.isAssignmentOperator(ye())?Gt(e,b(),q()):(t=e,(n=u(55))?((r=B(195,t.pos)).condition=t,r.questionToken=n,r.whenTrue=le(Y,q),r.colonToken=xe(56,!1,N.Diagnostics._0_expected,N.tokenToString(56)),r.whenFalse=q(),K(r)):t))}function Ut(e,t){N.Debug.assert(36===I,"parseSimpleArrowFunctionExpression should only have been called if we had a =>"),t?(r=B(187,t.pos)).modifiers=t:r=B(187,e.pos);var r,n=B(146,e.pos);return n.name=e,K(n),r.parameters=j([n],n.pos,n.end),r.equalsGreaterThanToken=xe(36,!1,N.Diagnostics._0_expected,"=>"),r.body=$t(!!t),T(K(r))}function Bt(){if(120===I){if(C(),O.hasPrecedingLineBreak())return 0;if(19!==I&&27!==I)return 0}var e=I,t=C();if(19!==e)return N.Debug.assert(27===e),D()?1===h.languageVariant?E(function(){var e=C();if(85===e)switch(C()){case 58:case 29:return!1;default:return!0}else if(26===e)return!0;return!1})?1:0:2:0;if(20===t)switch(C()){case 36:case 56:case 17:return 1;default:return 0}return 21===t||17===t?2:24===t?1:D()?56===C()?1:2:0}function jt(){return zt(!1)}function Kt(){if(120===I){if(C(),O.hasPrecedingLineBreak()||36===I)return 0;var e=Jt(0);if(!O.hasPrecedingLineBreak()&&71===e.kind&&36===I)return 1}return 0}function zt(e){var t=B(187),r=(t.modifiers=Vr(),N.hasModifier(t,256)?2:0);if(ct(56,r|(e?0:8),t),t.parameters&&(e||!(36!==I&&17!==I||N.find(t.parameters,function(e){return e.initializer&&N.isIdentifier(e.initializer)&&"= not found"===e.initializer.escapedText}))))return t}function $t(e){return 17===I?mr(e?2:0):25===I||89===I||75===I||!Er()||17!==I&&89!==I&&75!==I&&57!==I&&Rt()?e?de(q):le(16384,q):mr(16|(e?2:0))}function Jt(e){return Vt(e,Wt())}function qt(e){return 92===e||142===e}function Vt(e,t){for(;;){ye();var r=Ht();if(!(40===I?e<=r:e<r))break;if(92===I&&fe())break;if(118===I){if(O.hasPrecedingLineBreak())break;C(),n=t,i=$(),a=void 0,(a=B(202,n.pos)).expression=n,a.type=i,t=K(a)}else t=Gt(t,b(),Jt(r))}var n,i,a;return t}function Ht(){switch(I){case 54:return 1;case 53:return 2;case 49:return 3;case 50:return 4;case 48:return 5;case 32:case 33:case 34:case 35:return 6;case 27:case 29:case 30:case 31:case 93:case 92:case 118:return 7;case 45:case 46:case 47:return 8;case 37:case 38:return 9;case 39:case 41:case 42:return 10;case 40:return 11}return-1}function Gt(e,t,r){var n=B(194,e.pos);return n.left=e,n.operatorToken=t,n.right=r,K(n)}function Wt(){var e,t,r;return(()=>{switch(I){case 37:case 38:case 52:case 51:case 80:case 103:case 105:case 121:return;case 27:if(1!==h.languageVariant)return;default:return 1}})()?(e=Yt(),40===I?Vt(Ht(),e):e):(e=I,t=Qt(),40===I&&(r=N.skipTrivia(P,t.pos),184===t.kind?F(r,t.end-r,N.Diagnostics.A_type_assertion_expression_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses):F(r,t.end-r,N.Diagnostics.An_unary_expression_with_the_0_operator_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses,N.tokenToString(e))),t)}function Qt(){switch(I){case 37:case 38:case 52:case 51:return(r=B(192)).operator=I,C(),r.operand=Qt(),K(r);case 80:return r=B(188),C(),r.expression=Qt(),K(r);case 103:return t=B(189),C(),t.expression=Qt(),K(t);case 105:return t=B(190),C(),t.expression=Qt(),K(t);case 27:return e=B(184),M(27),e.type=$(),M(29),e.expression=Qt(),K(e);case 121:if(121===I&&(me()||E(Sr)))return e=B(191),C(),e.expression=Qt(),K(e);default:return Yt()}var e,t,r}function Yt(){var e,t;return 43===I||44===I?((t=B(192)).operator=I,C(),t.operand=Xt(),K(t)):1===h.languageVariant&&27===I&&E(Ue)?er(!0):(e=Xt(),N.Debug.assert(N.isLeftHandSideExpression(e)),43!==I&&44!==I||O.hasPrecedingLineBreak()?e:((t=B(193,e.pos)).operand=e,t.operator=I,C(),K(t)))}function Xt(){for(var e,t=(91===I&&E(gt)?(h.flags|=524288,b):97===I?()=>{var e,t=b();return 19===I||23===I||21===I?t:((e=B(179,t.pos)).expression=t,xe(23,!1,N.Diagnostics.super_must_be_followed_by_an_argument_list_or_member_access),e.name=Qe(!0),K(e))}:Zt)(),r=t;;){if(r=ir(r),27===I){var n=R(sr);if(!n)return r;(e=B(181,r.pos)).expression=r,e.typeArguments=n}else{if(19!==I)return r;(e=B(181,r.pos)).expression=r}e.arguments=ar(),r=K(e)}}function Zt(){return ir((()=>{switch(I){case 8:case 9:case 13:return Xe();case 99:case 97:case 95:case 101:case 86:return b();case 19:return(()=>{var e=B(185);return M(19),e.expression=l(J),M(20),T(K(e))})();case 21:return(()=>{var e=B(177);return M(21),O.hasPrecedingLineBreak()&&(e.multiLine=!0),e.elements=z(15,or),M(22),K(e)})();case 17:return dr();case 120:if(E(kr))return pr();break;case 75:return Wr(O.getStartPos(),void 0,void 0,199);case 89:return pr();case 94:return(()=>{var e,t=O.getStartPos();return(M(94),U(23))?((e=B(204,t)).keywordToken=94,e.name=Ee()):((e=B(182,t)).expression=Zt(),e.typeArguments=R(sr),!e.typeArguments&&19!==I||(e.arguments=ar())),K(e)})();case 41:case 63:if(12===(I=O.reScanSlashToken()))return Xe();break;case 14:return Ye()}return w(N.Diagnostics.Expression_expected)})())}function er(e){var t=(e=>{var t,r=O.getStartPos(),n=(M(27),tr()),i=(()=>{var e=B(254);return e.properties=ze(13,nr),K(e)})();return 29===I?(t=B(251,r),ve()):(M(41),e?M(29):(M(29,void 0,!1),ve()),t=B(250,r)),t.tagName=n,t.attributes=i,K(t)})(e),r=251===t.kind?((r=B(249,t.pos)).openingElement=t,r.children=(e=>{var t=[],r=L(),n=c;for(c|=16384;;){if(28===(I=O.reScanJsxToken()))break;if(1===I){F(e.pos,e.end-e.pos,N.Diagnostics.JSX_element_0_has_no_corresponding_closing_tag,N.getTextOfNodeFromSourceText(P,e));break}if(7===I)break;var i=(()=>{switch(I){case 10:case 11:return(()=>{var e=B(10,O.getStartPos());return e.containsOnlyWhiteSpaces=11===I,I=O.scanJsxToken(),K(e)})();case 17:return rr(!1);case 27:return er(!1)}N.Debug.fail("Unknown JSX child kind "+I)})();i&&t.push(i)}return c=n,j(t,r)})(r.openingElement.tagName),r.closingElement=(e=>{var t=B(252);return M(28),t.tagName=tr(),e?M(29):(M(29,void 0,!1),ve()),K(t)})(e),function e(t,r){return t.kind===r.kind&&(71===t.kind?t.escapedText===r.escapedText:99===t.kind||t.name.escapedText===r.name.escapedText&&e(t.expression,r.expression))}(r.openingElement.tagName,r.closingElement.tagName)||F(r.closingElement.pos,r.closingElement.end-r.closingElement.pos,N.Diagnostics.Expected_corresponding_JSX_closing_tag_for_0,N.getTextOfNodeFromSourceText(P,r.openingElement.tagName)),K(r)):(N.Debug.assert(250===t.kind),t);if(e&&27===I){t=R(function(){return er(!0)});if(t)return ge(N.Diagnostics.JSX_expressions_must_have_one_parent_element),(e=B(194,r.pos)).end=t.end,e.left=r,e.right=t,e.operatorToken=Se(26,!1,void 0),e.operatorToken.pos=e.operatorToken.end=e.right.pos,e}return r}function tr(){r();for(var e=(99===I?b:Ee)();U(23);){var t=B(179,e.pos);t.expression=e,t.name=Qe(!0),e=K(t)}return e}function rr(e){var t=B(256);return M(17),18!==I&&(t.dotDotDotToken=u(24),t.expression=q()),e?M(18):(M(18,void 0,!1),ve()),K(t)}function nr(){var e;return 17===I?(e=B(255),M(17),M(24),e.expression=J(),M(18)):(r(),(e=B(253)).name=Ee(),58===I&&(9===(I=O.scanJsxAttributeValue())?e.initializer=Xe():e.initializer=rr(!0))),K(e)}function ir(e){for(;;)if(u(23)){var t=B(179,e.pos);t.expression=e,t.name=Qe(!0),e=K(t)}else if(51!==I||O.hasPrecedingLineBreak())if(!_e()&&U(21)){t=B(180,e.pos);t.expression=e,22!==I&&(t.argumentExpression=l(J),9!==t.argumentExpression.kind&&8!==t.argumentExpression.kind||((r=t.argumentExpression).text=Te(r.text))),M(22),e=K(t)}else{if(13!==I&&14!==I)return e;var r=B(183,e.pos);r.tag=e,r.template=(13===I?Xe:Ye)(),e=K(r)}else{C();var n=B(203,e.pos);n.expression=e,e=K(n)}}function ar(){M(19);var e=z(11,cr);return M(20),e}function sr(){var e;if(U(27))return e=z(19,$),M(29)&&e&&(()=>{switch(I){case 19:case 23:case 20:case 22:case 56:case 25:case 55:case 32:case 34:case 33:case 35:case 53:case 54:case 50:case 48:case 49:case 18:case 1:return 1;default:return}})()?e:void 0}function or(){return 24===I?(e=B(198),M(24),e.expression=q(),K(e)):26===I?B(200):q();var e}function cr(){return le(Y,or)}function lr(e,t,r){return Ne(125)?zr(153,e,t,r):Ne(135)?zr(154,e,t,r):void 0}function ur(){var e,t,r,n,i,a,s=O.getStartPos();return u(24)?((n=B(263,s)).expression=q(),T(K(n))):lr(s,n=Jr(),e=qr())||(i=u(39),a=D(),t=we(),r=u(55),i||19===I||27===I?Br(s,n,e,i,t,r):a&&(26===I||18===I||58===I)?((n=B(262,s)).name=t,n.questionToken=r,(i=u(58))&&(n.equalsToken=i,n.objectAssignmentInitializer=l(q)),T(K(n))):((a=B(261,s)).modifiers=e,a.name=t,a.questionToken=r,M(56),a.initializer=l(q),T(K(a))))}function dr(){var e=B(178);return M(17),O.hasPrecedingLineBreak()&&(e.multiLine=!0),e.properties=z(12,ur,!0),M(18),K(e)}function pr(){var e=_e(),t=(e&&oe(!1),B(186)),r=(t.modifiers=qr(),M(89),t.asteriskToken=u(39),t.asteriskToken?1:0),n=N.hasModifier(t,256)?2:0;return t.name=r&&n?ue(20480,fr):r?ue(4096,fr):n?de(fr):fr(),ct(56,r|n,t),t.body=mr(r|n),e&&oe(!0),T(K(t))}function fr(){return D()?w():void 0}function _r(e,t){var r=B(207);return M(17,t)||e?(O.hasPrecedingLineBreak()&&(r.multiLine=!0),r.statements=ze(1,x),M(18)):r.statements=Ve(),K(r)}function mr(e,t){var r=pe(),n=(se(!!(1&e)),me()),i=(ce(!!(2&e)),_e()),e=(i&&oe(!1),_r(!!(16&e),t));return i&&oe(!0),se(r),ce(n),e}function gr(){var e,t=L(),r=(M(88),u(121)),n=(M(19),void 0);return 25!==I&&(n=104===I||110===I||76===I?Lr(!0):ue(2048,J)),(r=(r?M:U)(142)?((e=B(216,t)).awaitModifier=r,e.initializer=n,e.expression=l(q),M(20),e):U(92)?((r=B(215,t)).initializer=n,r.expression=l(J),M(20),r):((e=B(214,t)).initializer=n,M(25),25!==I&&20!==I&&(e.condition=l(J)),M(25),20!==I&&(e.incrementor=l(J)),M(20),e)).statement=x(),K(r)}function hr(e){var t=B(e);return M(218===e?72:77),ke()||(t.label=w()),A(),K(t)}function yr(){return 73===I?(e=B(257),M(73),e.expression=l(J),M(56),e.statements=ze(3,x),K(e)):(e=B(258),M(79),M(56),e.statements=ze(3,x),K(e));var e}function vr(){var e=B(224);return M(102),e.tryBlock=_r(!1),e.catchClause=74===I?(()=>{var e=B(260);return M(74),U(19)?(e.variableDeclaration=Fr(),M(20)):e.variableDeclaration=void 0,e.block=_r(!1),K(e)})():void 0,e.catchClause&&87!==I||(M(87),e.finallyBlock=_r(!1)),K(e)}function br(){return C(),N.tokenIsIdentifierOrKeyword(I)&&!O.hasPrecedingLineBreak()}function xr(){return C(),75===I&&!O.hasPrecedingLineBreak()}function kr(){return C(),89===I&&!O.hasPrecedingLineBreak()}function Sr(){return C(),(N.tokenIsIdentifierOrKeyword(I)||8===I||9===I)&&!O.hasPrecedingLineBreak()}function Tr(){for(;;)switch(I){case 104:case 110:case 76:case 89:case 75:case 83:return!0;case 109:case 138:return C(),!O.hasPrecedingLineBreak()&&D();case 128:case 129:return C(),!O.hasPrecedingLineBreak()&&(D()||9===I);case 117:case 120:case 124:case 112:case 113:case 114:case 131:if(C(),O.hasPrecedingLineBreak())return!1;continue;case 141:return C(),17===I||71===I||84===I;case 91:return C(),9===I||39===I||17===I||N.tokenIsIdentifierOrKeyword(I);case 84:if(C(),58===I||39===I||17===I||79===I||118===I)return!0;continue;case 115:C();continue;default:return!1}}function Cr(){return E(Tr)}function Er(){switch(I){case 57:case 25:case 17:case 104:case 110:case 89:case 75:case 83:case 90:case 81:case 106:case 88:case 77:case 72:case 96:case 107:case 98:case 100:case 102:case 78:case 74:case 87:return!0;case 91:return Cr()||E(gt);case 76:case 84:return Cr();case 120:case 124:case 109:case 128:case 129:case 138:case 141:return!0;case 114:case 112:case 113:case 115:case 131:return Cr()||!E(br);default:return Rt()}}function Dr(){return C(),D()||17===I||21===I}function x(){switch(I){case 25:return i=B(209),M(25),K(i);case 17:return _r(!1);case 104:return Mr(O.getStartPos(),void 0,void 0);case 110:if(E(Dr))return Mr(O.getStartPos(),void 0,void 0);break;case 89:return Ur(O.getStartPos(),void 0,void 0);case 75:return Gr(O.getStartPos(),void 0,void 0);case 90:return i=B(211),M(90),M(19),i.expression=l(J),M(20),i.thenStatement=x(),i.elseStatement=U(82)?x():void 0,K(i);case 81:return n=B(212),M(81),n.statement=x(),M(106),M(19),n.expression=l(J),M(20),U(25),K(n);case 106:return n=B(213),M(106),M(19),n.expression=l(J),M(20),n.statement=x(),K(n);case 88:return gr();case 77:return hr(217);case 72:return hr(218);case 96:return r=B(219),M(96),ke()||(r.expression=l(J)),A(),K(r);case 107:return r=B(220),M(107),M(19),r.expression=l(J),M(20),r.statement=x(),K(r);case 98:return e=B(221),M(98),M(19),e.expression=l(J),M(20),t=B(235,O.getStartPos()),M(17),t.clauses=ze(2,yr),M(18),e.caseBlock=K(t),K(e);case 100:return t=B(223),M(100),t.expression=O.hasPrecedingLineBreak()?void 0:l(J),A(),K(t);case 102:case 74:case 87:return vr();case 78:return e=B(225),M(78),A(),K(e);case 57:return Ar();case 120:case 109:case 138:case 128:case 129:case 124:case 76:case 83:case 84:case 91:case 112:case 113:case 114:case 117:case 115:case 131:case 141:if(Cr())return Ar()}var e,t,r,n,i,a,s,o;return s=O.getStartPos(),71===(o=l(J)).kind&&U(56)?((a=B(222,s)).label=o,a.statement=x(),T(K(a))):((a=B(210,s)).expression=o,A(),T(K(a)))}function Ar(){var e=L(),t=Jr(),r=qr();switch(I){case 104:case 110:case 76:return Mr(e,t,r);case 89:return Ur(e,t,r);case 75:return Gr(e,t,r);case 109:var n=e,i=t,a=r;return(n=B(230,n)).decorators=i,n.modifiers=a,M(109),n.name=w(),n.typeParameters=it(),n.heritageClauses=Qr(),n.members=ht(),T(K(n));case 138:i=e,a=t,n=r;return(i=B(231,i)).decorators=a,i.modifiers=n,M(138),i.name=w(),i.typeParameters=it(),M(58),i.type=$(),A(),T(K(i));case 83:var s=e,o=t,c=r;return(s=B(232,s)).decorators=o,s.modifiers=c,M(83),s.name=w(),M(17)?(s.members=z(6,tn),M(18)):s.members=Ve(),T(K(s));case 141:case 128:case 129:var o=e,c=t,s=r,l=0;if(141===I)return nn(o,c,s);if(U(129))l|=16;else if(M(128),9===I)return nn(o,c,s);return function e(t,r,n,i){t=B(233,t);var a=16&i;t.decorators=r;t.modifiers=n;t.flags|=i;t.name=w();t.body=U(23)?e(L(),void 0,void 0,4|a):rn();return T(K(t))}(o,c,s,l);case 91:var l=e,u=t,d=r;M(91);var p,f,_,m,g,h=O.getStartPos();return D()&&(p=w(),26!==I)&&140!==I?(_=u,m=d,g=p,(f=B(237,f=l)).decorators=_,f.modifiers=m,f.name=g,M(58),f.moduleReference=132===I&&E(an)?(()=>{var e=B(248);return M(132),M(19),e.expression=on(),M(20),K(e)})():Ge(!1),A(),T(K(f))):((l=B(238,l)).decorators=u,l.modifiers=d,!p&&39!==I&&17!==I||(l.importClause=((e,t)=>(t=B(239,t),e&&(t.name=e),t.name&&!U(26)||(t.namedBindings=39===I?(()=>{var e=B(240);return M(39),M(118),e.name=w(),K(e)})():cn(241)),K(t)))(p,h),M(140)),l.moduleSpecifier=on(),A(),K(l));case 84:switch(C(),I){case 79:case 58:var y=e,v=t,b=r;return(y=B(243,y)).decorators=v,y.modifiers=b,U(58)?y.isExportEquals=!0:M(79),y.expression=q(),A(),K(y);case 118:v=e,b=t,y=r;return(v=B(236,v)).decorators=b,v.modifiers=y,M(118),M(129),v.name=w(),A(),K(v);default:var x=e,k=t,S=r;return(x=B(244,x)).decorators=k,x.modifiers=S,(U(39)||(x.exportClause=cn(245),140===I)||9===I&&!O.hasPrecedingLineBreak())&&(M(140),x.moduleSpecifier=on()),A(),K(x)}default:if(t||r)return(_=Se(247,!0,N.Diagnostics.Declaration_expected)).pos=e,_.decorators=t,_.modifiers=r,K(_)}}function wr(e,t){if(17===I||!ke())return mr(e,t);A()}function Nr(){var e;return 26===I?B(200):((e=B(176)).dotDotDotToken=u(24),e.name=Or(),e.initializer=Mt(!1),K(e))}function Ir(){var e=B(176),t=(e.dotDotDotToken=u(24),D()),r=we();return t&&56!==I?e.name=r:(M(56),e.propertyName=r,e.name=Or()),e.initializer=Mt(!1),K(e)}function Pr(){return 17===I||21===I||D()}function Or(){var e;return 21===I?(e=B(175),M(21),e.elements=z(10,Nr),M(22),K(e)):17===I?(e=B(174),M(17),e.elements=z(9,Ir),M(18),K(e)):w()}function Fr(){var e=B(226);return e.name=Or(),e.type=Ft(),qt(I)||(e.initializer=Kr()),K(e)}function Lr(e){var t,r=B(227);switch(I){case 104:break;case 110:r.flags|=1;break;case 76:r.flags|=2;break;default:N.Debug.fail()}return C(),142===I&&E(Rr)?r.declarations=Ve():(t=fe(),ae(e),r.declarations=z(8,Fr),ae(t)),K(r)}function Rr(){return Me()&&20===C()}function Mr(e,t,r){e=B(208,e);return e.decorators=t,e.modifiers=r,e.declarationList=Lr(!1),A(),T(K(e))}function Ur(e,t,r){e=B(228,e),e.decorators=t,e.modifiers=r,M(89),e.asteriskToken=u(39),e.name=(N.hasModifier(e,512)?fr:w)(),t=e.asteriskToken?1:0,r=N.hasModifier(e,256)?2:0;return ct(56,t|r,e),e.body=wr(t|r,N.Diagnostics.or_expected),T(K(e))}function Br(e,t,r,n,i,a,s){e=B(151,e),e.decorators=t,e.modifiers=r,e.asteriskToken=n,e.name=i,e.questionToken=a,t=n?1:0,r=N.hasModifier(e,256)?2:0;return ct(56,t|r,e),e.body=wr(t|r,s),T(K(e))}function jr(e,t,r,n,i){e=B(149,e);return e.decorators=t,e.modifiers=r,e.name=n,e.questionToken=i,e.type=Ft(),e.initializer=N.hasModifier(e,32)?l(Kr):le(6144,Kr),A(),T(K(e))}function Kr(){return Mt(!1)}function zr(e,t,r,n){e=B(e,t);return e.decorators=r,e.modifiers=n,e.name=we(),ct(56,0,e),e.body=wr(0),T(K(e))}function $r(){var e;if(57===I)return!0;for(;N.isModifierKind(I);){if((e=>{switch(e){case 114:case 112:case 113:case 115:case 131:return 1;default:return}})(e=I))return!0;C()}if(39===I)return!0;if(De()&&(e=I,C()),21===I)return!0;if(void 0!==e){if(!N.isKeyword(e)||135===e||125===e)return!0;switch(I){case 19:case 27:case 56:case 58:case 55:return!0;default:return ke()}}return!1}function Jr(){for(var e,t=L();;){var r=L();if(!U(57))break;r=B(147,r);r.expression=ue(8192,Xt),K(r),(e=e||[]).push(r)}return e&&j(e,t)}function qr(e){for(var t,r=L();;){var n=O.getStartPos(),i=I;if(76===I&&e){if(!R(Ie))break}else if(!N.isModifierKind(I)||!R(Pe))break;i=K(B(i,n));(t=t||[]).push(i)}return t&&j(t,r)}function Vr(){var e,t;return 120===I&&(e=O.getStartPos(),t=I,C(),t=j([K(B(t,e))],e)),t}function Hr(){var e,t,r,n,i,a,s,o,c;return 25===I?(e=B(206),C(),K(e)):(e=L(),t=Jr(),r=qr(!0),lr(e,t,r)||(123===I?(n=t,i=r,(a=B(152,a=e)).decorators=n,a.modifiers=i,M(123),ct(56,0,a),a.body=wr(0,N.Diagnostics.or_expected),T(K(a))):dt()?ft(e,t,r):N.tokenIsIdentifierOrKeyword(I)||9===I||8===I||39===I||21===I?(n=e,i=t,a=r,c=u(39),s=we(),o=u(55),c||19===I||27===I?Br(n,i,a,c,s,o,N.Diagnostics.or_expected):jr(n,i,a,s,o)):t||r?(c=Se(71,!0,N.Diagnostics.Declaration_expected),jr(e,t,r,c,void 0)):void N.Debug.fail("Should not have attempted to parse class member declaration.")))}function Gr(e,t,r){return Wr(e,t,r,229)}function Wr(e,t,r,n){n=B(n,e);return n.decorators=t,n.modifiers=r,M(75),n.name=!D()||108===I&&E(Ue)?void 0:w(),n.typeParameters=it(),n.heritageClauses=Qr(),M(17)?(n.members=ze(5,Hr),M(18)):n.members=Ve(),T(K(n))}function Qr(){if(en())return ze(21,Yr)}function Yr(){var e,t=I;if(85===t||108===t)return(e=B(259)).token=t,C(),e.types=z(7,Xr),K(e)}function Xr(){var e=B(201);return e.expression=Xt(),e.typeArguments=Zr(),K(e)}function Zr(){return 27===I?He(19,$,27,29):void 0}function en(){return 85===I||108===I}function tn(){var e=B(264,O.getStartPos());return e.name=we(),e.initializer=l(Kr),T(K(e))}function rn(){var e=B(234,O.getStartPos());return M(17)?(e.statements=ze(1,x),M(18)):e.statements=Ve(),K(e)}function nn(e,t,r){e=B(233,e);return e.decorators=t,e.modifiers=r,141===I?(e.name=w(),e.flags|=512):(e.name=Xe(),e.name.text=Te(e.name.text)),17===I?e.body=rn():A(),K(e)}function an(){return 19===C()}function sn(){return 41===C()}function on(){var e;return 9===I?((e=Xe()).text=Te(e.text),e):J()}function cn(e){var t=B(e);return t.elements=He(22,241===e?un:ln,17,18),K(t)}function ln(){return dn(246)}function un(){return dn(242)}function dn(e){var t=B(e),r=N.isKeyword(I)&&!D(),n=O.getTokenPos(),i=O.getTextPos(),a=Ee();return 118===I?(t.propertyName=a,M(118),r=N.isKeyword(I)&&!D(),n=O.getTokenPos(),i=O.getTextPos(),t.name=Ee()):t.name=a,242===e&&r&&F(n,i-n,N.Diagnostics.Identifier_expected),K(t)}function pn(e){var t=B(267,O.getTokenPos());if(M(17)||!e)return t.type=ue(1048576,$),M(18),re(t),K(t)}function fn(d,e,t){var p,f,_,m,r,g=P,h=(d=d||0,void 0===e?g.length:d+e),y=(e=h-d,N.Debug.assert(0<=d),N.Debug.assert(d<=h),N.Debug.assert(h<=g.length),[]);return t?.emitBlockCommentsAsJsDocs&&(t=d,47==(r=g).charCodeAt(t))&&47==r.charCodeAt(t+1)&&37==r.charCodeAt(t+2)?O.scanRange(d,e,function(){for(;1!==I&&4!==I;)y.push(O.getTokenText()),A();var e;v(y),b(y),(e=B(275,d)).tags=p&&j(p,f,_),e.comment=y.length?y.join(""):void 0,m=K(e,h)}):(r=d,47===(t=g).charCodeAt(r)&&42===t.charCodeAt(r+1)&&42===t.charCodeAt(r+2)&&42!==t.charCodeAt(r+3)&&O.scanRange(d+3,e-5,function(){var e,t=!0,r=1,n=void 0,i=d-Math.max(g.lastIndexOf("\n",d),0)+4;function a(e){n=n||i,y.push(e),i+=e.length}for(A();5===I;)A();for(4===I&&(i=r=0,A());1!==I;){switch(I){case 57:if(0===r||1===r){b(y),o=l=c=s=void 0;var s=i;N.Debug.assert(57===I);var o,c=B(57,O.getTokenPos()),l=(c.end=O.getTextPos(),A(),w());if(x(),l){if(l)switch(l.escapedText){case"augments":case"extends":o=((e,t)=>{var r=B(277,e.pos);return r.atToken=e,r.tagName=t,r.class=(()=>{var e=U(17),t=((t=B(201)).expression=(()=>{for(var e=w(!0);U(23);){var t=B(179,e.pos);t.expression=e,t.name=w(),e=K(t)}return e})(),t.typeArguments=Zr(),K(t));return e&&M(18),t})(),K(r)})(c,l);break;case"class":case"constructor":o=((e,t)=>{var r=B(278,e.pos);return r.atToken=e,r.tagName=t,K(r)})(c,l);break;case"arg":case"argument":case"param":o=C(c,l,1);break;case"return":case"returns":o=((e,t)=>{N.forEach(p,function(e){return 280===e.kind})&&F(t.pos,O.getTokenPos()-t.pos,N.Diagnostics._0_tag_already_specified,t.escapedText);var r=B(280,e.pos);return r.atToken=e,r.tagName=t,r.typeExpression=S(),K(r)})(c,l);break;case"template":o=((e,t)=>{N.forEach(p,function(e){return 282===e.kind})&&F(t.pos,O.getTokenPos()-t.pos,N.Diagnostics._0_tag_already_specified,t.escapedText);for(var r=[],n=L();;){var i=w();if(x(),!i)return void F(O.getStartPos(),0,N.Diagnostics.Identifier_expected);var a=B(145,i.pos);if(a.name=i,K(a),r.push(a),26!==I)break;A(),x()}var s=B(282,e.pos);return s.atToken=e,s.tagName=t,s.typeParameters=j(r,n),K(s),s})(c,l);break;case"type":o=E(c,l);break;case"typedef":o=((e,t)=>{var r=S(),n=(x(),B(283,e.pos));if(n.atToken=e,n.tagName=t,n.fullName=function e(t){var r=O.getTokenPos();var n=w();if(n&&U(23))return(r=B(233,r)).flags|=t,r.name=n,r.body=e(4),K(r);n&&4&t&&(n.isInJSDocNamespace=!0);return n}(0),n.fullName)for(var i=n.fullName;;){if(71===i.kind||!i.body){n.name=71===i.kind?i:i.name;break}i=i.body}if(x(),!(n.typeExpression=r)||T(r.type)){for(var a=void 0,s=void 0,o=void 0,c=O.getStartPos();a=R(function(){return D(0)});)if(s=s||B(285,c),281===a.kind){if(o)break;o=a}else s.jsDocPropertyTags||(s.jsDocPropertyTags=[]),s.jsDocPropertyTags.push(a);s&&(r&&164===r.type.kind&&(s.isArrayType=!0),n.typeExpression=o&&o.typeExpression&&!T(o.typeExpression.type)?o.typeExpression:K(s))}return K(n)})(c,l);break;default:o=k(c,l)}else o=k(c,l);o&&((e,t)=>{e.comment=t.join(""),p?p.push(e):(p=[e],f=e.pos),_=e.end})(o,(t=>{var r,e,n=[],i=0;function a(e){r=r||t,n.push(e),t+=e.length}for(;57!==I&&1!==I;){switch(I){case 4:1<=i&&(i=0,n.push(O.getTokenText())),t=0;break;case 57:break;case 5:2===i?a(O.getTokenText()):(e=O.getTokenText(),void 0!==r&&t+e.length>r&&n.push(e.slice(r-t-1)),t+=e.length);break;case 39:if(0===i){i=1,t+=O.getTokenText().length;break}default:i=2,a(O.getTokenText())}if(57===I)break;A()}return v(n),b(n),n})(s+o.end-o.pos))}t=!1,n=void(r=0),i++}else a(O.getTokenText());break;case 4:y.push(O.getTokenText()),i=r=0;break;case 39:s=O.getTokenText();1===r||2===r?(r=2,a(s)):(r=1,i+=s.length);break;case 71:a(O.getTokenText()),r=2;break;case 5:var u=O.getTokenText();2===r?y.push(u):void 0!==n&&i+u.length>n&&y.push(u.slice(n-i-1)),i+=u.length;break;case 1:break;default:r=2,a(O.getTokenText())}t?A():t=!0}v(y),b(y),(e=B(275,d)).tags=p&&j(p,f,_),e.comment=y.length?y.join(""):void 0,m=K(e,h)})),m;function v(e){for(;e.length&&("\n"===e[0]||"\r"===e[0]);)e.shift()}function b(e){for(;e.length&&("\n"===e[e.length-1]||"\r"===e[e.length-1]);)e.pop()}function x(){for(;5===I||4===I;)A()}function k(e,t){var r=B(276,e.pos);return r.atToken=e,r.tagName=t,K(r)}function S(){return x(),17===I?pn():void 0}function c(){var e=U(21),t=(()=>{var e=w(!0);for(U(21)&&M(22);U(23);){var t=w(!0);U(21)&&M(22),e=We(e,t)}return e})();return e&&(x(),u(58)&&J(),M(22)),{name:t,isBracketed:e}}function T(e){switch(e.kind){case 134:return!0;case 164:return T(e.elementType);default:return N.isTypeReferenceNode(e)&&N.isIdentifier(e.typeName)&&"Object"===e.typeName.escapedText}}function C(e,t,r){var n=S(),i=!n,a=(x(),c()),s=a.name,a=a.isBracketed,r=(x(),i&&(n=S()),B(1===r?279:284,e.pos)),o=((e,t)=>{if(e&&T(e.type)){for(var r=B(267,O.getTokenPos()),n=void 0,i=void 0,a=O.getStartPos(),s=void 0;n=R(function(){return D(1,t)});)(s=s||[]).push(n);if(s)return(i=B(285,a)).jsDocPropertyTags=s,164===e.type.kind&&(i.isArrayType=!0),r.type=K(i),K(r)}})(n,s);return o&&(n=o,i=!0),r.atToken=e,r.tagName=t,r.typeExpression=n,r.name=s,r.isNameFirst=i,r.isBracketed=a,K(r)}function E(e,t){N.forEach(p,function(e){return 281===e.kind})&&F(t.pos,O.getTokenPos()-t.pos,N.Diagnostics._0_tag_already_specified,t.escapedText);var r=B(281,e.pos);return r.atToken=e,r.tagName=t,r.typeExpression=pn(!0),K(r)}function D(e,t){for(var r,n=!0,i=!1;;)switch(A(),I){case 57:if(n)return!((r=(e=>{N.Debug.assert(57===I);var t=B(57,O.getStartPos()),r=(t.end=O.getTextPos(),A(),w());if(x(),r)switch(r.escapedText){case"type":return 0===e&&E(t,r);case"prop":case"property":return 0===e&&C(t,r,e);case"arg":case"argument":case"param":return 1===e&&C(t,r,e)}return!1})(e))&&279===r.kind&&(N.isIdentifier(r.name)||!((e,t)=>{for(;!N.isIdentifier(e)||!N.isIdentifier(t);){if(N.isIdentifier(e)||N.isIdentifier(t)||e.right.escapedText!==t.right.escapedText)return;e=e.left,t=t.left}return e.escapedText===t.escapedText})(t,r.name.left)))&&r;i=!1;break;case 4:i=!(n=!0);break;case 39:i&&(n=!1),i=!0;break;case 71:n=!1;break;case 1:return!1}}function A(){I=O.scanJSDocToken()}function w(e){var t,r,n;return void 0===e&&(e=!1),N.tokenIsIdentifierOrKeyword(I)?(t=O.getTokenPos(),r=O.getTextPos(),(n=B(71,t)).escapedText=N.escapeLeadingUnderscores(g.substring(t,r)),K(n,r),A(),n):e?Se(71,!0,N.Diagnostics.Identifier_expected):void ge(N.Diagnostics.Identifier_expected)}}function _n(e,t,i,a,s,o){function c(e){var t="";if(o&&mn(e)&&(t=a.substring(e.pos,e.end)),e._children&&(e._children=void 0),e.pos+=i,e.end+=i,o&&mn(e)&&N.Debug.assert(t===s.substring(e.pos,e.end)),S(e,c,l),N.hasJSDocNodes(e))for(var r=0,n=e.jsDoc;r<n.length;r++)S(n[r],c,l);hn(e,o)}function l(e){e._children=void 0,e.pos+=i,e.end+=i;for(var t=0,r=e;t<r.length;t++)c(r[t])}(t?l:c)(e)}function mn(e){switch(e.kind){case 9:case 8:case 71:return 1}}function gn(e,t,r,n,i){N.Debug.assert(e.end>=t,"Adjusting an element that was entirely before the change range"),N.Debug.assert(e.pos<=r,"Adjusting an element that was entirely after the change range"),N.Debug.assert(e.pos<=e.end),e.pos=Math.min(e.pos,n),e.end>=r?e.end+=i:e.end=Math.min(e.end,n),N.Debug.assert(e.pos<=e.end),e.parent&&(N.Debug.assert(e.pos>=e.parent.pos),N.Debug.assert(e.end<=e.parent.end))}function hn(e,t){var r;t&&(r=e.pos,S(e,function(e){N.Debug.assert(e.pos>=r),r=e.end}),N.Debug.assert(r<=e.end))}function yn(e,t,r,n){var i,e=e.text;r&&(N.Debug.assert(e.length-r.span.length+r.newLength===t.length),n||N.Debug.shouldAssert(3))&&(n=e.substr(0,r.span.start),i=t.substr(0,r.span.start),N.Debug.assert(n===i),n=e.substring(N.textSpanEnd(r.span),e.length),i=t.substring(N.textSpanEnd(N.textChangeRangeNewSpan(r)),t.length),N.Debug.assert(n===i))}N.createNode=function(e,t,r){return new(265===e?p=p||N.objectAllocator.getSourceFileConstructor():71===e?d=d||N.objectAllocator.getIdentifierConstructor():N.isNodeKind(e)?n=n||N.objectAllocator.getNodeConstructor():i=i||N.objectAllocator.getTokenConstructor())(e,t,r)},N.forEachChild=S,N.createSourceFile=function(e,t,r,n,i,a){return void 0===n&&(n=!1),N.performance.mark("beforeParse"),e=k.parseSourceFile(e,t,r,void 0,n,i,a),N.performance.mark("afterParse"),N.performance.measure("Parse","beforeParse","afterParse"),e},N.parseIsolatedEntityName=function(e,t){return k.parseIsolatedEntityName(e,t)},N.parseJsonText=function(e,t){return k.parseJsonText(e,t)},N.isExternalModule=function(e){return void 0!==e.externalModuleIndicator},N.updateSourceFile=function(e,t,r,n){return(t=X.updateSourceFile(e,t,r,n)).flags|=524288&e.flags,t},N.parseIsolatedJSDocComment=function(e,t,r){return(e=k.JSDocParser.parseIsolatedJSDocComment(e,t,r))&&e.jsDoc&&k.fixupParentReferences(e.jsDoc),e},N.parseJSDocTypeExpressionForTests=function(e,t,r){return k.JSDocParser.parseJSDocTypeExpressionForTests(e,t,r)},e=k=k||{},O=N.createScanner(5,!0),o=!(Y=10240),e.parseSourceFile=function(e,t,r,n,i,a,s){return ee(t,r,n,a=N.ensureScriptKind(e,a)),t=((e,t,r,n,i)=>{(h=ne(e,t,n,i)).flags=v,C();for(var a,s=h,o=N.createScanner(s.languageVersion,!1,0,P),c=[],l=[],u=[],d=void 0;;){var p=o.scan();if(2!==p){if(N.isTrivia(p))continue;break}var f,_,p={kind:o.getToken(),pos:o.getTokenPos(),end:o.getTextPos()},m=P.substring(p.pos,p.end),g=N.getFileReferenceFromReferencePath(m,p);g?(f=g.fileReference,s.hasNoDefaultLib=g.isNoDefaultLib,_=g.diagnosticMessage,f&&(g.isTypeReferenceDirective?l:c).push(f),_&&y.push(N.createFileDiagnostic(s,p.pos,p.end-p.pos,_))):((g=/^\/\/\/\s*<amd-module\s+name\s*=\s*('|")(.+?)\1/gim.exec(m))&&(a&&y.push(N.createFileDiagnostic(s,p.pos,p.end-p.pos,N.Diagnostics.An_AMD_module_cannot_have_multiple_name_assignments)),a=g[2]),/^\/\/\/\s*<amd-dependency\s/gim.exec(m)&&(f=/\spath\s*=\s*('|")(.+?)\1/gim.exec(m),_=/\sname\s*=\s*('|")(.+?)\1/gim.exec(m),f)&&(g={path:f[2],name:_?_[2]:void 0},u.push(g)),(g=/^\/\/\/?\s*(@ts-check|@ts-nocheck)\s*$/gim.exec(m))&&(d={enabled:0===N.compareStrings(g[1],"@ts-check",!0),end:p.end,pos:p.pos}))}s.referencedFiles=c,s.typeReferenceDirectives=l,s.amdDependencies=u,s.moduleName=a,s.checkJsDirective=d,h.statements=ze(0,x),N.Debug.assert(1===I),h.endOfFileToken=T(b());e=h;return e.externalModuleIndicator=N.forEach(e.statements,function(e){return N.hasModifier(e,1)||237===e.kind&&248===e.moduleReference.kind||238===e.kind||243===e.kind||244===e.kind?e:void 0}),h.nodeCount=H,h.identifierCount=W,h.identifiers=G,h.parseDiagnostics=y,r&&re(h),h})(e,r,i,a,s),te(),t},e.parseIsolatedEntityName=function(e,t){return ee(e,t,void 0,1),C(),e=Ge(!0),t=1===I&&!y.length,te(),t?e:void 0},e.parseJsonText=function(e,t){return ee(t,2,void 0,6),t=h=ne(e,2,6),C(),1===I?h.endOfFileToken=b():17===I||E(function(){return 9===I})?(t.jsonObject=dr(),h.endOfFileToken=xe(1,!1,N.Diagnostics.Unexpected_token)):M(17),h.parseDiagnostics=y,te(),t},e.fixupParentReferences=re,(e=Q=e.JSDocParser||(e.JSDocParser={})).parseJSDocTypeExpressionForTests=function(e,t,r){return ee(e,5,void 0,1),h=ne("file.js",5,1),O.setText(e,t,r),I=O.scan(),e=pn(),t=y,te(),e?{jsDocTypeExpression:e,diagnostics:t}:void 0},e.parseJSDocTypeExpression=pn,e.parseIsolatedJSDocComment=function(e,t,r){return ee(e,5,void 0,1),h={languageVariant:0,text:e},e=fn(t,r),t=y,te(),e?{jsDoc:e,diagnostics:t}:void 0},e.parseJSDocComment=function(e,t,r,n){var i=I,a=y.length,s=o;return(t=fn(t,r,n))&&(t.parent=e),N.isInJavaScriptFile(e)&&(h.jsDocDiagnostics||(h.jsDocDiagnostics=[]),(r=h.jsDocDiagnostics).push.apply(r,y)),I=i,y.length=a,o=s,t},e.parseJSDocCommentWorker=fn,(X||(X={})).updateSourceFile=function(e,t,r,n){var i,a,s,o,c,l,u,d,p,f,_,m,g,h,y,v;return n=n||N.Debug.shouldAssert(2),yn(e,t,r,n),N.textChangeRangeIsUnchanged(r)?e:0===e.statements.length?k.parseSourceFile(e.fileName,t,e.languageVersion,void 0,!0,e.scriptKind):(N.Debug.assert(!(p=e).hasBeenIncrementallyParsed),p.hasBeenIncrementallyParsed=!0,i=e.text,o=(s=e).statements,c=0,N.Debug.assert(c<o.length),l=o[c],u=-1,a={currentNode:function(e){function n(e){return a>=e.pos&&a<e.end&&(S(e,n,i),!0)}function i(e){if(a>=e.pos&&a<e.end)for(var t=0;t<e.length;t++){var r=e[t];if(r){if(r.pos===a)return o=e,c=t,l=r,!0;if(r.pos<a&&a<r.end)return S(r,n,i),!0}}return!1}var a;return e===u||(l=l&&l.end===e&&c<o.length-1?o[++c]:l)&&l.pos===e||(a=e,c=-1,l=o=void 0,S(s,n,i)),u=e,N.Debug.assert(!l||l.pos===e),l}},d=((e,t)=>{for(var r=t.span.start,n=0;0<r&&n<=1;n++){var i=((e,r)=>{var n,i=e;return S(e,function e(t){if(N.nodeIsMissing(t))return;{if(!(t.pos<=r))return N.Debug.assert(t.pos>r),!0;{if(t.pos>=i.pos&&(i=t),r<t.end)return S(t,e),!0;N.Debug.assert(t.end<=r),n=t}}}),i=n&&(e=(e=>{for(;;){var t=(e=>{var t=void 0;return S(e,function(e){N.nodeIsPresent(e)&&(t=e)}),t})(e);if(!t)return e;e=t}})(n)).pos>i.pos?e:i})(e,r),i=(N.Debug.assert(i.pos<=r),i.pos);r=Math.max(0,i-1)}var a=N.createTextSpanFromBounds(r,N.textSpanEnd(t.span)),t=t.newLength+(t.span.start-r);return N.createTextChangeRange(a,t)})(e,r),yn(e,t,d,n),N.Debug.assert(d.span.start<=r.span.start),N.Debug.assert(N.textSpanEnd(d.span)===N.textSpanEnd(r.span)),N.Debug.assert(N.textSpanEnd(N.textChangeRangeNewSpan(d))===N.textSpanEnd(N.textChangeRangeNewSpan(r))),r=N.textChangeRangeNewSpan(d).length-d.span.length,p=p,f=d.span.start,_=N.textSpanEnd(d.span),m=N.textSpanEnd(N.textChangeRangeNewSpan(d)),g=r,h=i,y=t,v=n,b(p),k.parseSourceFile(e.fileName,t,e.languageVersion,a,!0,e.scriptKind));function b(e){var t;N.Debug.assert(e.pos<=e.end),e.pos>_?_n(e,!1,g,h,y,v):f<=(t=e.end)?(e.intersectsChange=!0,e._children=void 0,gn(e,f,_,m,g),S(e,b,x),hn(e,v)):N.Debug.assert(t<f)}function x(e){if(N.Debug.assert(e.pos<=e.end),e.pos>_)_n(e,!0,g,h,y,v);else{var t=e.end;if(f<=t){e.intersectsChange=!0,e._children=void 0,gn(e,f,_,m,g);for(var r=0,n=e;r<n.length;r++)b(n[r])}else N.Debug.assert(t<f)}}}})(ts=ts||{}),(q=>{var e;function ce(e){var t,r;return 230===e.kind||231===e.kind?0:q.isConstEnumDeclaration(e)?2:238!==e.kind&&237!==e.kind||q.hasModifier(e,1)?234===e.kind?(t=0,q.forEachChild(e,function(e){switch(ce(e)){case 0:return!1;case 2:return!(t=2);case 1:return t=1,!0}}),t):233===e.kind?(r=e.body)?ce(r):1:71===e.kind&&e.isInJSDocNamespace?0:1:0}(e=q.ModuleInstanceState||(q.ModuleInstanceState={}))[e.NonInstantiated=0]="NonInstantiated",e[e.Instantiated=1]="Instantiated",e[e.ConstEnumOnly=2]="ConstEnumOnly",q.getModuleInstanceState=ce,Y={flags:1},le={flags:1},X=a=0;var B,j,r,x,k,S,n,O,K,z,$,J,V,H,G,W,Q,F,T,i,L,C,a,Y,le,X,s=function(e,t){B=e,j=t,r=q.getEmitScriptTarget(j),e=B,T=!((void 0===(t=t).alwaysStrict?!t.strict:!t.alwaysStrict)||e.isDeclarationFile)||!!e.externalModuleIndicator,L=q.createUnderscoreEscapedMap(),a=0,C=B.isDeclarationFile,i=q.objectAllocator.getSymbolConstructor(),B.locals||(oe(B),B.symbolCount=a,B.classifiableNames=L),W=H=V=J=$=z=K=n=S=k=x=r=j=B=void 0,Q=O=!1,X=F=0};function Z(e,t,r,n,i){return q.createDiagnosticForNodeInSourceFile(q.getSourceFileOfNode(e)||B,e,t,r,n,i)}function E(e,t){return a++,new i(e,t)}function R(e,t,r){e.flags|=r,(t.symbol=e).declarations?e.declarations.push(t):e.declarations=[t],1952&r&&!e.exports&&(e.exports=q.createSymbolTable()),6240&r&&!e.members&&(e.members=q.createSymbolTable()),107455&r&&((r=e.valueDeclaration)&&(r.kind===t.kind||233!==r.kind)||(e.valueDeclaration=t))}function M(e){if(243===e.kind)return e.isExportEquals?"export=":"default";var t,r=q.getNameOfDeclaration(e);if(r)return q.isAmbientModule(e)?(t=q.getTextOfIdentifierOrLiteral(r),q.isGlobalScopeAugmentation(e)?"__global":'"'+t+'"'):144===r.kind?(t=r.expression,q.isStringOrNumericLiteral(t)?q.escapeLeadingUnderscores(t.text):(q.Debug.assert(q.isWellKnownSymbolSyntactically(t)),q.getPropertyNameForKnownSymbolName(q.idText(t.name)))):q.getEscapedTextOfIdentifierOrLiteral(r);switch(e.kind){case 152:return"__constructor";case 160:case 155:return"__call";case 161:case 156:return"__new";case 157:return"__index";case 244:return"__export";case 194:if(2===q.getSpecialPropertyAssignmentKind(e))return"export=";q.Debug.fail("Unknown binary declaration kind");break;case 228:case 229:return q.hasModifier(e,512)?"default":void 0;case 273:return q.isJSDocConstructSignature(e)?"__new":"__call";case 146:q.Debug.assert(273===e.parent.kind);var n=e.parent;return"arg"+q.indexOf(n.parameters,e);case 283:n=q.getNameOfJSDocTypedef(e);return void 0!==n?n.escapedText:void 0}}function u(e){return e.name?q.declarationNameToString(e.name):q.unescapeLeadingUnderscores(M(e))}function D(e,t,r,n,i,a){q.Debug.assert(!q.hasDynamicName(r));var s,o,c=q.hasModifier(r,512),l=c&&t?"default":M(r);if(void 0===l)s=E(0,"__missing");else if(s=e.get(l),788448&n&&L.set(l,!0),s){if(a&&!s.isReplaceableByMethod)return s;s.flags&i&&(s.isReplaceableByMethod?e.set(l,s=E(0,l)):(r.name&&(r.name.parent=r),o=2&s.flags?q.Diagnostics.Cannot_redeclare_block_scoped_variable_0:q.Diagnostics.Duplicate_identifier_0,s.declarations&&s.declarations.length&&(c||s.declarations&&s.declarations.length&&(c||243===r.kind&&!r.isExportEquals))&&(o=q.Diagnostics.A_module_cannot_have_multiple_default_exports),q.forEach(s.declarations,function(e){B.bindDiagnostics.push(Z(q.getNameOfDeclaration(e)||e,o,u(e)))}),B.bindDiagnostics.push(Z(q.getNameOfDeclaration(r)||r,o,u(r))),s=E(0,l)))}else e.set(l,s=E(0,l)),a&&(s.isReplaceableByMethod=!0);return R(s,r,n),s.parent=t,s}function o(e,t,r){var n,i=1&q.getCombinedModifierFlags(e);return 2097152&t?246===e.kind||237===e.kind&&i?D(k.symbol.exports,k.symbol,e,t,r):D(k.locals,void 0,e,t,r):(283===e.kind&&q.Debug.assert(q.isInJavaScriptFile(e)),n=283===e.kind&&e.name&&71===e.name.kind&&e.name.isInJSDocNamespace,!q.isAmbientModule(e)&&(i||32&k.flags)||n?((i=D(k.locals,void 0,e,107455&t?1048576:0,r)).exportSymbol=D(k.symbol.exports,k.symbol,e,t,r),e.localSymbol=i):D(k.locals,void 0,e,t,r))}function U(e){var t;C?c(e):536870912&e.transformFlags?(C=!0,c(e),C=!1,X|=e.transformFlags&~g(e.kind)):(t=X,X=0,c(e),X=t|Le(e,X))}function ue(e){if(void 0!==e)if(C)q.forEach(e,oe);else{for(var t=X,r=X=0,n=0,i=e;n<i.length;n++){var a=i[n];oe(a),r|=-536870913&a.transformFlags}e.transformFlags=536870912|r,X|=t}}function ee(e){q.forEachChild(e,oe,ue)}function c(e){if(q.hasJSDocNodes(e))if(q.isInJavaScriptFile(e))for(var t=0,r=e.jsDoc;t<r.length;t++)oe(r[t]);else for(var n=0,R=e.jsDoc;n<R.length;n++)!function t(e,r){r.parent=e;q.forEachChild(r,function(e){return t(r,e)})}(e,R[n]);var i,a,s,o,c,l,u;if((e=>1&K.flags&&(K===Y&&(q.isStatementButNotDeclaration(e)&&209!==e.kind||229===e.kind||233===e.kind&&(e=>1===(e=ce(e))||2===e&&j.preserveConstEnums)(e)||232===e.kind&&(!q.isConstEnumDeclaration(e)||j.preserveConstEnums))&&(K=le,!j.allowUnreachableCode)&&!q.isInAmbientContext(e)&&(208!==e.kind||3&q.getCombinedNodeFlags(e.declarationList)||q.forEach(e.declarationList.declarations,function(e){return e.initializer}))&&Ce(e,q.Diagnostics.Unreachable_code_detected),1))(e))ee(e);else switch(e.kind){case 213:o=e,c=de(),l=re(),u=re(),ne(c,K),K=c,ae(o.expression,l,u),K=ie(l),ge(o.statement,u,c),ne(c,K),K=ie(u);break;case 212:l=e,o=de(),c=222===l.parent.kind?q.lastOrUndefined(W):void 0,u=c?c.continueTarget:re(),c=c?c.breakTarget:re(),ne(o,K),K=o,ge(l.statement,c,u),ne(u,K),K=ie(u),ae(l.expression,o,c),K=ie(c);break;case 214:p=e,f=de(),d=re(),s=re(),oe(p.initializer),ne(f,K),K=f,ae(p.condition,d,s),K=ie(d),ge(p.statement,s,f),oe(p.incrementor),ne(f,K),K=ie(s);break;case 215:case 216:var d=e,p=de(),f=re();ne(p,K),K=p,216===d.kind&&oe(d.awaitModifier),oe(d.expression),ne(f,K),oe(d.initializer),227!==d.initializer.kind&&se(d.initializer),ge(d.statement,f,p),ne(p,K),K=ie(f);break;case 211:s=e,_=re(),g=re(),m=re(),ae(s.expression,_,g),K=ie(_),oe(s.thenStatement),ne(m,K),K=ie(g),oe(s.elseStatement),ne(m,K),K=ie(m);break;case 219:case 223:var _=e;oe(_.expression),219===_.kind&&(Q=!0,J)&&ne(J,K),K=Y;break;case 218:case 217:var m,g=e;oe(g.label),g.label?(m=(e=>{if(W)for(var t=0,r=W;t<r.length;t++){var n=r[t];if(n.name===e)return n}})(g.label.escapedText))&&(m.referenced=!0,he(g,m.breakTarget,m.continueTarget)):he(g,z,$);break;case 224:var h=e,y=re(),v=K,b=(oe(h.tryBlock),ne(y,K),K),x=Y;h.catchClause&&(K=v,oe(h.catchClause),ne(y,K),x=K),h.finallyBlock?(ne(y,v={flags:2048,antecedent:v,lock:{}}),K=ie(y),oe(h.finallyBlock),1&K.flags||1&b.flags&&1&x.flags&&(K=b===le||x===le?le:Y),1&K.flags||(h={flags:4096,antecedent:K},v.lock=h,K=h)):K=ie(y);break;case 221:b=e,x=re(),v=(oe(b.expression),z),h=G,y=(z=x,G=K,oe(b.caseBlock),ne(x,K),q.forEach(b.caseBlock.clauses,function(e){return 258===e.kind}));b.possiblyExhaustive=!y&&!x.antecedents,y||ne(x,pe(G,b,0,0)),z=v,G=h,K=ie(x);break;case 235:for(var M=e,k=X,S=(X=0,M.clauses),U=Y,T=0;T<S.length;T++){for(var C=T;!S[T].statements.length&&T+1<S.length;)oe(S[T]),T++;var E=re(),C=(ne(E,pe(G,M.parent,C,T+1)),ne(E,U),K=ie(E),S[T]);oe(C),1&(U=K).flags||T===S.length-1||!j.noFallthroughCasesInSwitch||Ce(C,q.Diagnostics.Fallthrough_case_in_switch)}S.transformFlags=536870912|X,X|=k;break;case 257:k=K,K=G,oe((D=e).expression),K=k,ue(D.statements);break;case 222:var D=e,A=de(),w=re(),A=(oe(D.label),ne(A,K),((e,t,r)=>((W=W||[]).push(e={name:e,breakTarget:t,continueTarget:r,referenced:!1}),e))(D.label.escapedText,w,A));oe(D.statement),W.pop(),A.referenced||j.allowUnusedLabels||B.bindDiagnostics.push(Z(D.label,q.Diagnostics.Unused_label)),D.statement&&212===D.statement.kind||(ne(w,K),K=ie(w));break;case 192:A=e;51===A.operator?(w=V,V=H,H=w,ee(A),H=V,V=w):(ee(A),43!==A.operator&&44!==A.operator||se(A.operand));break;case 193:ee(I=e),43!==I.operator&&44!==I.operator||se(I.operand);break;case 194:var N,I=e,P=I.operatorToken.kind;53===P||54===P?(e=>{for(;185===e.parent.kind||192===e.parent.kind&&51===e.parent.operator;)e=e.parent;return!(e=>{var t=e.parent;switch(t.kind){case 211:case 213:case 212:return t.expression===e;case 214:case 195:return t.condition===e}})(e)&&!me(e.parent)})(I)?(N=re(),ye(I,N,N),K=ie(N)):ye(I,V,H):(ee(I),q.isAssignmentOperator(P)&&!q.isAssignmentTarget(I)&&(se(I.left),58===P)&&180===I.left.kind&&te(I.left.expression)&&(K=_e(K,I)));break;case 188:ee(N=e),179===N.expression.kind&&se(N.expression);break;case 195:P=e,a=re(),F=re(),O=re(),ae(P.condition,a,F),K=ie(a),oe(P.questionToken),oe(P.whenTrue),ne(O,K),K=ie(F),oe(P.colonToken),oe(P.whenFalse),ne(O,K),K=ie(O);break;case 226:ee(a=e),(a.initializer||q.isForInOrOfStatement(a.parent.parent))&&function e(t){var r=q.isOmittedExpression(t)?void 0:t.name;if(q.isBindingPattern(r))for(var n=0,i=r.elements;n<i.length;n++){var a=i[n];e(a)}else K=fe(K,t)}(a);break;case 181:for(var O,F=e,L=F.expression;185===L.kind;)L=L.expression;186===L.kind||187===L.kind?(ue(F.typeArguments),ue(F.arguments),oe(F.expression)):ee(F),179===F.expression.kind&&te((O=F.expression).expression)&&q.isPushOrUnshiftIdentifier(O.name)&&(K=_e(K,F));break;case 275:q.forEachChild(e,function(e){283!==e.kind&&oe(e)});break;case 283:i=e,q.forEachChild(i,function(e){i.fullName&&e===i.name&&71!==i.fullName.kind||oe(e)});break;default:ee(e)}}function l(e){switch(e.kind){case 71:case 99:case 179:return A(e);case 181:var t=e;if(t.arguments)for(var r=0,n=t.arguments;r<n.length;r++)if(A(n[r]))return!0;return!(179!==t.expression.kind||!A(t.expression.expression));case 185:return l(e.expression);case 194:var i=e;switch(i.operatorToken.kind){case 58:return A(i.left);case 32:case 33:case 34:case 35:return te(i.left)||te(i.right)||d(i.right,i.left)||d(i.left,i.right);case 93:return te(i.left);case 26:return l(i.right)}return!1;case 192:return 51===e.operator&&l(e.operand)}return!1}function A(e){return 71===e.kind||99===e.kind||97===e.kind||179===e.kind&&A(e.expression)}function d(e,t){return 189===e.kind&&te(e.expression)&&9===t.kind}function te(e){switch(e.kind){case 185:return te(e.expression);case 194:switch(e.operatorToken.kind){case 58:return te(e.left);case 26:return te(e.right)}}return A(e)}function re(){return{flags:4,antecedents:void 0}}function de(){return{flags:8,antecedents:void 0}}function p(e){e.flags|=512&e.flags?1024:512}function ne(e,t){1&t.flags||q.contains(e.antecedents,t)||((e.antecedents||(e.antecedents=[])).push(t),p(t))}function f(e,t,r){return 1&t.flags?t:r?101===r.kind&&64&e||86===r.kind&&32&e?Y:l(r)?(p(t),{flags:e,expression:r,antecedent:t}):t:32&e?t:Y}function pe(e,t,r,n){return l(t.expression)?(p(e),{flags:128,switchStatement:t,clauseStart:r,clauseEnd:n,antecedent:e}):e}function fe(e,t){return p(e),{flags:16,antecedent:e,node:t}}function _e(e,t){return p(e),{flags:256,antecedent:e,node:t}}function ie(e){var t=e.antecedents;return t?1===t.length?t[0]:e:Y}function me(e){for(;;)if(185===e.kind)e=e.expression;else{if(192!==e.kind||51!==e.operator)return 194===e.kind&&(53===e.operatorToken.kind||54===e.operatorToken.kind);e=e.operand}}function ae(e,t,r){var n=V,i=H;V=t,H=r,oe(e),V=n,H=i,e&&me(e)||(ne(t,f(32,K,e)),ne(r,f(64,K,e)))}function ge(e,t,r){var n=z,i=$;z=t,$=r,oe(e),z=n,$=i}function he(e,t,r){e=218===e.kind?t:r;e&&(ne(e,K),K=Y)}function _(e){194===e.kind&&58===e.operatorToken.kind?se(e.left):se(e)}function se(e){if(A(e))K=fe(K,e);else if(177===e.kind)for(var t=0,r=e.elements;t<r.length;t++){var n=r[t];198===n.kind?se(n.expression):_(n)}else if(178===e.kind)for(var i=0,a=e.properties;i<a.length;i++){var s=a[i];261===s.kind?_(s.initializer):262===s.kind?se(s.name):263===s.kind&&se(s.expression)}}function ye(e,t,r){var n=re();53===e.operatorToken.kind?ae(e.left,n,r):ae(e.left,t,n),K=ie(n),oe(e.operatorToken),ae(e.right,t,r)}function ve(e){n&&(n.nextContainer=e),n=e}function w(e,t,r){switch(k.kind){case 233:return o(e,t,r);case 265:return n=e,i=t,a=r,q.isExternalModule(B)?o(n,i,a):D(B.locals,void 0,n,i,a);case 199:case 229:return n=e,i=t,a=r,q.hasModifier(n,32)?D(k.symbol.exports,k.symbol,n,i,a):D(k.symbol.members,k.symbol,n,i,a);case 232:return D(k.symbol.exports,k.symbol,e,t,r);case 163:case 285:case 178:case 230:case 254:return D(k.symbol.members,k.symbol,e,t,r);case 160:case 161:case 155:case 156:case 157:case 151:case 150:case 152:case 153:case 154:case 228:case 186:case 187:case 273:case 231:case 172:return D(k.locals,void 0,e,t,r)}var n,i,a}function be(e){q.isInAmbientContext(e)&&!(e=>{if((e=265===e.kind?e:e.body)&&(265===e.kind||234===e.kind))for(var t=0,r=e.statements;t<r.length;t++){var n=r[t];if(244===n.kind||243===n.kind)return 1}})(e)?e.flags|=32:e.flags&=-33}function xe(e){var t=ce(e),r=0!==t;return w(e,r?512:1024,r?106639:0),t}function N(e,t,r){r=E(t,r);8&t&&(r.parent=k.symbol),R(r,e,t)}function I(e,t,r){switch(S.kind){case 233:o(e,t,r);break;case 265:if(q.isExternalModule(k)){o(e,t,r);break}default:S.locals||(S.locals=q.createSymbolTable(),ve(S)),D(S.locals,void 0,e,t,r)}}function ke(e){!(T&&108<=e.originalKeywordKind&&e.originalKeywordKind<=116)||q.isIdentifierName(e)||q.isInAmbientContext(e)||B.parseDiagnostics.length||B.bindDiagnostics.push(Z(e,(e=>q.getContainingClass(e)?q.Diagnostics.Identifier_expected_0_is_a_reserved_word_in_strict_mode_Class_definitions_are_automatically_in_strict_mode:B.externalModuleIndicator?q.Diagnostics.Identifier_expected_0_is_a_reserved_word_in_strict_mode_Modules_are_automatically_in_strict_mode:q.Diagnostics.Identifier_expected_0_is_a_reserved_word_in_strict_mode)(e),q.declarationNameToString(e)))}function P(e,t){var r,n;t&&71===t.kind&&(n=r=t,!q.isIdentifier(n)||"eval"!==n.escapedText&&"arguments"!==n.escapedText||(n=q.getErrorSpanForNode(B,t),B.bindDiagnostics.push(q.createFileDiagnostic(B,n.start,n.length,(e=>q.getContainingClass(e)?q.Diagnostics.Invalid_use_of_0_Class_definitions_are_automatically_in_strict_mode:B.externalModuleIndicator?q.Diagnostics.Invalid_use_of_0_Modules_are_automatically_in_strict_mode:q.Diagnostics.Invalid_use_of_0_in_strict_mode)(e),q.idText(r)))))}function Se(e){T&&P(e,e.name)}function Te(e){var t;r<2&&(265===S.kind||233===S.kind||q.isFunctionLike(S)||(t=q.getErrorSpanForNode(B,e),B.bindDiagnostics.push(q.createFileDiagnostic(B,t.start,t.length,q.getContainingClass(e)?q.Diagnostics.Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_Class_definitions_are_automatically_in_strict_mode:B.externalModuleIndicator?q.Diagnostics.Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_Modules_are_automatically_in_strict_mode:q.Diagnostics.Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5))))}function Ce(e,t,r,n,i){e=q.getSpanOfTokenAtPosition(B,e.pos);B.bindDiagnostics.push(q.createFileDiagnostic(B,e.start,e.length,t,r,n,i))}function oe(e){if(e){e.parent=x;var t,r,n,i,a,s,o,c,l,u,d,p=T;if(q.isInJavaScriptFile(e)){var f=e;if(q.hasJSDocNodes(f))for(var _=0,m=f.jsDoc;_<m.length;_++){var g=m[_];if(g.tags)for(var h=0,y=g.tags;h<y.length;h++){var v,b=y[h];283===b.kind&&(v=x,x=g,oe(b),x=v)}}}(e=>{switch(e.kind){case 71:if(e.isInJSDocNamespace){for(var t=e.parent;t&&283!==t.kind;)t=t.parent;I(t,524288,793064);break}case 99:return K&&(q.isExpression(e)||262===x.kind)&&(e.flowNode=K),ke(e);case 179:K&&A(e)&&(e.flowNode=K);break;case 194:switch(q.getSpecialPropertyAssignmentKind(e)){case 1:we(e);break;case 2:(e=>{var t=q.getRightMostAssignedExpression(e.right);q.isEmptyObjectLiteral(t)||Ne(t)?Ae(e):(Ae(e),D(B.symbol.exports,B.symbol,e,1049092,0))})(e);break;case 3:(e=>{var t=e.left,r=t.expression,n=r.expression;t.parent=e,n.parent=r,Pe(n.escapedText,r.parent=t,!0)})(e);break;case 4:(e=>{q.Debug.assert(q.isInJavaScriptFile(e));var t=q.getThisContainer(e,!1);switch(t.kind){case 228:case 186:t.symbol.members=t.symbol.members||q.createSymbolTable(),D(t.symbol.members,t.symbol,e,4,0);break;case 152:case 149:case 151:case 153:case 154:var r=t.parent;D(q.hasModifier(t,32)?r.symbol.exports:r.symbol.members,r.symbol,e,4,0,!0)}})(e);break;case 5:(e=>{var t=e.left,r=t.expression;q.isIdentifier(r)&&(t.parent=e,r.parent=t,Ie(r)?we(e):Pe(r.escapedText,t,!1))})(e);break;case 0:break;default:q.Debug.fail("Unknown special property assignment kind")}return(e=>{T&&q.isLeftHandSideExpression(e.left)&&q.isAssignmentOperator(e.operatorToken.kind)&&P(e,e.left)})(e);case 260:return(e=>{T&&e.variableDeclaration&&P(e,e.variableDeclaration.name)})(e);case 188:return(e=>{T&&71===e.expression.kind&&(e=q.getErrorSpanForNode(B,e.expression),B.bindDiagnostics.push(q.createFileDiagnostic(B,e.start,e.length,q.Diagnostics.delete_cannot_be_called_on_an_identifier_in_strict_mode)))})(e);case 8:return(e=>{T&&4&e.numericLiteralFlags&&B.bindDiagnostics.push(Z(e,q.Diagnostics.Octal_literals_are_not_allowed_in_strict_mode))})(e);case 193:return(e=>{T&&P(e,e.operand)})(e);case 192:return(e=>{!T||43!==e.operator&&44!==e.operator||P(e,e.operand)})(e);case 220:return(e=>{T&&Ce(e,q.Diagnostics.with_statements_are_not_allowed_in_strict_mode)})(e);case 169:return O=!0;case 158:return(e=>{var t=e.parameterName,e=e.type;t&&71===t.kind&&ke(t),t&&169===t.kind&&(O=!0),oe(e)})(e);case 145:return w(e,262144,530920);case 146:return(e=>{var t;T&&!q.isInAmbientContext(e)&&P(e,e.name),q.isBindingPattern(e.name)?N(e,1,"__"+q.indexOf(e.parent.parameters,e)):w(e,1,107455),q.isParameterPropertyDeclaration(e)&&D((t=e.parent.parent).symbol.members,t.symbol,e,4|(e.questionToken?16777216:0),0)})(e);case 226:return Oe(e);case 176:return e.flowNode=K,Oe(e);case 149:case 148:return(e=>Fe(e,4|(e.questionToken?16777216:0),0))(e);case 261:case 262:return Fe(e,4,0);case 264:return Fe(e,8,900095);case 155:case 156:case 157:return w(e,131072,0);case 151:case 150:return Fe(e,8192|(e.questionToken?16777216:0),q.isObjectLiteralMethod(e)?0:99263);case 228:return(e=>{B.isDeclarationFile||q.isInAmbientContext(e)||q.isAsyncFunction(e)&&(F|=1024),Se(e),(T?(Te(e),I):w)(e,16,106927)})(e);case 152:return w(e,16384,0);case 153:return Fe(e,32768,41919);case 154:return Fe(e,65536,74687);case 160:case 273:case 161:return(e=>{var t=E(131072,M(e)),r=(R(t,e,131072),E(2048,"__type"));R(r,e,2048),r.members=q.createSymbolTable(),r.members.set(t.escapedName,t)})(e);case 163:case 285:case 172:return(e=>N(e,2048,"__type"))(e);case 178:return(e=>{if(0,T)for(var t=q.createUnderscoreEscapedMap(),r=0,n=e.properties;r<n.length;r++){var i,a,s=n[r];263!==s.kind&&71===s.name.kind&&(i=261===s.kind||262===s.kind||151===s.kind?1:2,(a=t.get((s=s.name).escapedText))?1==i&&1===a&&(a=q.getErrorSpanForNode(B,s),B.bindDiagnostics.push(q.createFileDiagnostic(B,a.start,a.length,q.Diagnostics.An_object_literal_cannot_have_multiple_properties_with_the_same_name_in_strict_mode))):t.set(s.escapedText,i))}N(e,4096,"__object")})(e);case 186:case 187:return(e=>{B.isDeclarationFile||q.isInAmbientContext(e)||q.isAsyncFunction(e)&&(F|=1024),K&&(e.flowNode=K),Se(e);var t=e.name?e.name.escapedText:"__function";N(e,16,t)})(e);case 181:q.isInJavaScriptFile(e)&&(e=>{!B.commonJsModuleIndicator&&q.isRequireCall(e,!1)&&Ae(e)})(e);break;case 199:case 229:return T=!0,(e=>{229===e.kind?I(e,32,899519):(t=e.name?e.name.escapedText:"__class",N(e,32,t),e.name&&L.set(e.name.escapedText,!0));var t=e.symbol,r=E(4194308,"prototype"),n=t.exports.get(r.escapedName);n&&(e.name&&(e.name.parent=e),B.bindDiagnostics.push(Z(n.declarations[0],q.Diagnostics.Duplicate_identifier_0,q.symbolName(r)))),t.exports.set(r.escapedName,r),r.parent=t})(e);case 230:return I(e,64,792968);case 231:return I(e,524288,793064);case 232:return(e=>q.isConst(e)?I(e,128,899967):I(e,256,899327))(e);case 233:return(e=>{var t,r;be(e),q.isAmbientModule(e)?(q.hasModifier(e,1)&&Ce(e,q.Diagnostics.export_modifier_cannot_be_applied_to_ambient_modules_and_module_augmentations_since_they_are_always_visible),q.isExternalModuleAugmentation(e)?xe(e):(t=void 0,9===e.name.kind&&(r=e.name.text,q.hasZeroOrOneAsteriskCharacter(r)?t=q.tryParsePattern(r):Ce(e.name,q.Diagnostics.Pattern_0_can_have_at_most_one_Asterisk_character,r)),r=w(e,512,106639),t&&(B.patternAmbientModules||(B.patternAmbientModules=[])).push({pattern:t,symbol:r}))):0!==(t=xe(e))&&(304&e.symbol.flags?e.symbol.constEnumOnlyModule=!1:(r=2===t,void 0===e.symbol.constEnumOnlyModule?e.symbol.constEnumOnlyModule=r:e.symbol.constEnumOnlyModule=e.symbol.constEnumOnlyModule&&r))})(e);case 254:return(e=>N(e,4096,"__jsxAttributes"))(e);case 253:return w(e,4,0);case 237:case 240:case 242:case 246:return w(e,2097152,2097152);case 236:return(e=>{var t;e.modifiers&&e.modifiers.length&&B.bindDiagnostics.push(Z(e,q.Diagnostics.Modifiers_cannot_appear_here)),265!==e.parent.kind?B.bindDiagnostics.push(Z(e,q.Diagnostics.Global_module_exports_may_only_appear_at_top_level)):(t=e.parent,q.isExternalModule(t)?t.isDeclarationFile?(B.symbol.globalExports=B.symbol.globalExports||q.createSymbolTable(),D(B.symbol.globalExports,B.symbol,e,2097152,2097152)):B.bindDiagnostics.push(Z(e,q.Diagnostics.Global_module_exports_may_only_appear_in_declaration_files)):B.bindDiagnostics.push(Z(e,q.Diagnostics.Global_module_exports_may_only_appear_in_module_files)))})(e);case 239:return(e=>{e.name&&w(e,2097152,2097152)})(e);case 244:return(e=>{k.symbol&&k.symbol.exports?e.exportClause||D(k.symbol.exports,k.symbol,e,8388608,0):N(e,8388608,M(e))})(e);case 243:return(e=>{var t;k.symbol&&k.symbol.exports?(t=243===e.kind&&q.exportAssignmentIsAlias(e)?2097152:4,D(k.symbol.exports,k.symbol,e,t,2097204)):N(e,2097152,M(e))})(e);case 265:return Ee(e.statements),be(B),q.isExternalModule(B)&&De();case 207:if(!q.isFunctionLike(e.parent))return;case 234:return Ee(e.statements);case 279:if(285!==e.parent.kind)break;case 284:var r=e,n=r.isBracketed||r.typeExpression&&272===r.typeExpression.type.kind?16777220:4;return w(r,n,0);case 283:r=e.fullName;if(!r||71===r.kind)I(e,524288,793064)}})(e),142<e.kind?(f=x,0===(r=(e=>{switch(e.kind){case 199:case 229:case 232:case 178:case 163:case 285:case 254:return 1;case 230:return 65;case 233:case 231:case 172:return 33;case 265:return 37;case 151:if(q.isObjectLiteralOrClassExpressionMethod(e))return 173;case 152:case 228:case 150:case 153:case 154:case 155:case 273:case 160:case 156:case 157:case 161:return 45;case 186:case 187:return 61;case 234:return 4;case 149:return e.initializer?4:0;case 260:case 214:case 215:case 216:case 235:return 2;case 207:return q.isFunctionLike(e.parent)?0:2}return 0})(x=e))?U(e):(t=e,u=k,d=S,1&(r=r)?(k=S=t,32&r&&(k.locals=q.createSymbolTable()),ve(k)):2&r&&((S=t).locals=void 0),4&r?(n=K,i=z,a=$,s=J,o=W,c=Q,l=16&r&&!q.hasModifier(t,256)&&!!q.getImmediatelyInvokedFunctionExpression(t),J=l?re():(K={flags:2},void(144&r&&(K.container=t))),W=$=z=void 0,Q=!1,U(t),t.flags&=-1409,!(1&K.flags)&&8&r&&q.nodeIsPresent(t.body)&&(t.flags|=128,Q)&&(t.flags|=256),265===t.kind&&(t.flags|=F),K=l?(ne(J,K),ie(J)):n,z=i,$=a,J=s,W=o,Q=c):64&r?(O=!1,U(t),t.flags=O?64|t.flags:-65&t.flags):U(t),k=u,S=d),x=f):C||0!=(536870912&e.transformFlags)||(X|=Le(e,0)),T=p}}function Ee(e){if(!T)for(var t=0,r=e;t<r.length;t++){var n=r[t];if(!q.isPrologueDirective(n))return;if((e=>'"use strict"'===(e=q.getTextOfNodeFromSourceText(B.text,e.expression))||"'use strict'"===e)(n))return void(T=!0)}}function De(){N(B,512,'"'+q.removeFileExtension(B.fileName)+'"')}function Ae(e){B.commonJsModuleIndicator||(B.commonJsModuleIndicator=e,B.externalModuleIndicator)||De()}function we(e){Ae(e),D(B.symbol.exports,B.symbol,e.left,1048580,0)}function Ne(e){return q.isExportsIdentifier(e)||q.isModuleExportsPropertyAccessExpression(e)||q.isIdentifier(e)&&Ie(e)}function Ie(e){e=m(e.escapedText);return e&&e.valueDeclaration&&q.isVariableDeclaration(e.valueDeclaration)&&e.valueDeclaration.initializer&&function e(t){return Ne(t)||q.isAssignmentExpression(t,!0)&&(e(t.left)||e(t.right))}(e.valueDeclaration.initializer)}function m(e){return k.symbol&&k.symbol.exports&&k.symbol.exports.get(e)||k.locals&&k.locals.get(e)}function Pe(e,t,r){e=m(e);(e=e&&q.isDeclarationOfFunctionOrClassExpression(e)?e.valueDeclaration.initializer.symbol:e)&&48&e.flags&&D(r?e.members||(e.members=q.createSymbolTable()):e.exports||(e.exports=q.createSymbolTable()),e,t,4,0)}function Oe(e){T&&P(e,e.name),q.isBindingPattern(e.name)||(q.isBlockOrCatchScoped(e)?I(e,2,107455):q.isParameterDeclaration(e)?w(e,1,107455):w(e,1,107454))}function Fe(e,t,r){return B.isDeclarationFile||q.isInAmbientContext(e)||!q.isAsyncFunction(e)||(F|=1024),K&&q.isObjectLiteralOrClassExpressionMethod(e)&&(e.flowNode=K),q.hasDynamicName(e)?N(e,t,"__computed"):w(e,t,r)}function Le(e,t){var R=e.kind;switch(R){case 181:var r=e,n=t,i=n,a=r.expression,M=a.kind;return r.typeArguments&&(i|=3),(524288&n||((e,t)=>{switch(t){case 97:return 1;case 179:case 180:return 97===e.expression.kind}})(a,M))&&(i|=192),91===a.kind&&(i|=67108864,16384&n)&&(i|=32768),r.transformFlags=536870912|i,-537396546&i;case 182:M=e,a=t,n=a;return M.typeArguments&&(n|=3),524288&a&&(n|=192),M.transformFlags=536870912|n,-537396546&n;case 233:var r=e,i=t,s=3;return 0==(2&q.getModifierFlags(r))&&(s|=i),r.transformFlags=536870912|s,-574674242&s;case 185:var s=e,o=t,c=s.expression,l=c.kind;return 202!==l&&184!==l||(o|=3),1024&c.transformFlags&&(o|=1024),s.transformFlags=536870912|o,-536872258&o;case 194:var l=e,c=t,o=l.operatorToken.kind,U=l.left.kind;return 58===o&&178===U?c|=3272:58===o&&177===U?c|=3264:40!==o&&62!==o||(c|=32),l.transformFlags=536870912|c,-536872258&c;case 210:var U=e,u=t;return 1024&U.expression.transformFlags&&(u|=192),U.transformFlags=536870912|u,-536872258&u;case 146:var u=e,d=t,p=d,f=u.name,_=u.initializer,m=u.dotDotDotToken;return(u.questionToken||u.type||4096&d||q.isThisIdentifier(f))&&(p|=3),q.hasModifier(u,92)&&(p|=262147),1048576&d&&(p|=8),(8388608&d||_||m)&&(p|=131264),u.transformFlags=536870912|p,-536872258&p;case 187:f=e,d=t,_=192|d;return(q.hasModifier(f,2270)||f.typeParameters||f.type)&&(_|=3),q.hasModifier(f,256)&&(_|=16),1048576&d&&(_|=8),16384&d&&(_|=32768),f.transformFlags=536870912|_,-601249090&_;case 186:var m=e,p=t,g=p;return(q.hasModifier(m,2270)||m.typeParameters||m.type)&&(g|=3),q.hasModifier(m,256)&&(g|=m.asteriskToken?8:16),1048576&p&&(g|=8),163840&p&&(g|=192),m.asteriskToken&&(g|=768),m.transformFlags=536870912|g,-601281858&g;case 228:var g=e,h=t,y=q.getModifierFlags(g);return!g.body||2&y?v=3:(v=33554432|h,(2270&y||g.typeParameters||g.type)&&(v|=3),256&y&&(v|=g.asteriskToken?8:16),1048576&h&&(v|=8),163840&h&&(v|=192),g.asteriskToken&&(v|=768)),g.transformFlags=536870912|v,-601281858&v;case 226:y=e,h=t;return h|=8388800,1048576&t&&(h|=8),y.type&&(h|=3),y.transformFlags=536870912|h,-536872258&h;case 227:var v=e,b=33554432|t;return 8388608&t&&(b|=192),3&v.flags&&(b|=4194496),v.transformFlags=536870912|b,-546309442&b;case 208:var b=e,B=t,x=b.declarationList.transformFlags;return q.hasModifier(b,2)?k=3:(k=B,8388608&x&&(k|=192)),b.transformFlags=536870912|k,-536872258&k;case 222:B=e,x=t;return 4194304&t&&q.isIterationStatement(B,!0)&&(x|=192),B.transformFlags=536870912|x,-536872258&x;case 229:var k=e,S=t;return q.hasModifier(k,2)?T=3:(T=192|S,(274432&S||k.typeParameters)&&(T|=3),65536&S&&(T|=16384)),k.transformFlags=536870912|T,-539358530&T;case 199:var S=e,T=t,C=192|T;return(274432&T||S.typeParameters)&&(C|=3),65536&T&&(C|=16384),S.transformFlags=536870912|C,-539358530&C;case 259:var C=e,j=t;switch(C.token){case 85:j|=192;break;case 108:j|=3;break;default:q.Debug.fail("Unexpected token for heritage clause")}return C.transformFlags=536870912|j,-536872258&j;case 260:var E=e,D=t;return E.variableDeclaration?q.isBindingPattern(E.variableDeclaration.name)&&(D|=192):D|=8,E.transformFlags=536870912|D,-537920834&D;case 201:E=e,D=t;return D|=192,E.typeArguments&&(D|=3),E.transformFlags=536870912|D,-536872258&D;case 152:var A=e,K=t,w=K;return!q.hasModifier(A,2270)&&A.body||(w|=3),1048576&K&&(w|=8),A.transformFlags=536870912|w,-601015618&w;case 149:K=e,A=t;return A|=3,K.initializer&&(A|=8192),K.transformFlags=536870912|A,-536872258&A;case 151:var w=e,N=t,I=192|N;return(w.decorators||q.hasModifier(w,2270)||w.typeParameters||w.type||!w.body)&&(I|=3),1048576&N&&(I|=8),q.hasModifier(w,256)&&(I|=w.asteriskToken?8:16),w.asteriskToken&&(I|=768),w.transformFlags=536870912|I,-601015618&I;case 153:case 154:var N=e,I=t,P=I;return(N.decorators||q.hasModifier(N,2270)||N.type||!N.body)&&(P|=3),1048576&I&&(P|=8),N.transformFlags=536870912|P,-601015618&P;case 237:var P=e,z=t;return q.isExternalModuleImportEqualsDeclaration(P)||(z|=3),P.transformFlags=536870912|z,-536872258&z;case 179:var z=e,$=t;return 97===z.expression.kind&&($|=16384),z.transformFlags=536870912|$,-536872258&$;default:var J=e,O=t,F=O,L=536872257;switch(R){case 120:case 191:F|=24;break;case 114:case 112:case 113:case 117:case 124:case 76:case 232:case 264:case 184:case 202:case 203:case 131:F|=3;break;case 249:case 250:case 251:case 10:case 252:case 253:case 254:case 255:case 256:F|=4;break;case 13:case 14:case 15:case 16:case 196:case 183:case 262:case 115:case 204:F|=192;break;case 9:J.hasExtendedUnicodeEscape&&(F|=192);break;case 8:48&J.numericLiteralFlags&&(F|=192);break;case 216:J.awaitModifier&&(F|=8),F|=192;break;case 197:F|=16777416;break;case 119:case 133:case 130:case 134:case 136:case 122:case 137:case 105:case 145:case 148:case 150:case 155:case 156:case 157:case 158:case 159:case 160:case 161:case 162:case 163:case 164:case 165:case 166:case 167:case 168:case 230:case 231:case 169:case 170:case 171:case 172:case 173:case 236:L=-(F=3);break;case 144:F|=2097152,16384&O&&(F|=65536);break;case 198:F|=524480;break;case 263:F|=1048584;break;case 97:F|=192;break;case 99:F|=16384;break;case 174:F|=8388800,524288&O&&(F|=1048584),L=537396545;break;case 175:F|=8388800,L=537396545;break;case 176:F|=192,J.dotDotDotToken&&(F|=524288);break;case 147:F|=4099;break;case 178:L=540087617,2097152&O&&(F|=192),65536&O&&(F|=16384),1048576&O&&(F|=8);break;case 177:case 182:L=537396545,524288&O&&(F|=192);break;case 212:case 213:case 214:case 215:4194304&O&&(F|=192);break;case 265:32768&O&&(F|=192);break;case 219:case 217:case 218:F|=33554432}return J.transformFlags=536870912|F,F&~L}}function g(e){if(158<=e&&e<=173)return-3;switch(e){case 181:case 182:case 177:return 537396545;case 233:return 574674241;case 146:return 536872257;case 187:return 601249089;case 186:case 228:return 601281857;case 227:return 546309441;case 229:case 199:return 539358529;case 152:return 601015617;case 151:case 153:case 154:return 601015617;case 119:case 133:case 130:case 136:case 134:case 122:case 137:case 105:case 145:case 148:case 150:case 155:case 156:case 157:case 230:case 231:return-3;case 178:return 540087617;case 260:return 537920833;case 174:case 175:return 537396545;default:return 536872257}}q.bindSourceFile=function(e,t){q.performance.mark("beforeBind"),s(e,t),q.performance.mark("afterBind"),q.performance.measure("Bind","beforeBind","afterBind")},q.computeTransformFlagsForNode=Le,q.getTransformFlagsSubtreeExclusions=g})(ts=ts||{}),(y=>{y.createGetSymbolWalker=function(i,o,d,p,f,_,m,g,h){return function(r){void 0===r&&(r=function(){return!0});var a=[],n=[];return{walkType:function(e){try{return c(e),{visitedTypes:y.getOwnValues(a),visitedSymbols:y.getOwnValues(n)}}finally{y.clear(a),y.clear(n)}},walkSymbol:function(e){try{return u(e),{visitedTypes:y.getOwnValues(a),visitedSymbols:y.getOwnValues(n)}}finally{y.clear(a),y.clear(n)}}};function c(e){var t,r,n,i;!e||a[e.id]||u((a[e.id]=e).symbol)||(32768&e.flags&&(4&(r=(t=e).objectFlags)&&(c((n=e).target),y.forEach(n.typeArguments,c)),32&r&&(c((n=e).typeParameter),c(n.constraintType),c(n.templateType),c(n.modifiersType)),3&r&&(s(i=e),y.forEach(i.typeParameters,c),y.forEach(d(i),c),c(i.thisType)),24&r)&&s(t),16384&e.flags&&c(g(e)),196608&e.flags&&y.forEach(e.types,c),262144&e.flags&&c(e.type),524288&e.flags&&(c((i=e).objectType),c(i.indexType),c(i.constraint)))}function l(e){e.typePredicate&&c(e.typePredicate.type),y.forEach(e.typeParameters,c);for(var t=0,r=e.parameters;t<r.length;t++)u(r[t]);c(i(e)),c(o(e))}function s(e){c(m(e,0));for(var t=m(e,1),t=(c(t),p(e)),r=0,n=t.callSignatures;r<n.length;r++)l(n[r]);for(var i=0,a=t.constructSignatures;i<a.length;i++)l(a[i]);for(var s=0,o=t.properties;s<o.length;s++)u(o[s])}function u(e){if(e){var t=y.getSymbolId(e);if(!n[t]){if(n[t]=e,!r(e))return!0;c(f(e)),1952&e.flags&&e.exports.forEach(u),y.forEach(e.declarations,function(e){e.type&&162===e.type.kind&&(e=e.type,u(_(h(e.exprName))))})}}}}}})(ts=ts||{}),(w=>{function N(e){e.trace(w.formatMessage.apply(void 0,arguments))}function d(e,t){return e.traceResolution&&void 0!==t.trace}function u(e,t){return t&&{path:t.path,extension:t.ext,packageId:e}}function I(e){return u(void 0,e)}var p,e;function f(e){if(e)return w.Debug.assert(w.extensionIsTypeScript(e.extension)),{fileName:e.path,packageId:e.packageId}}function _(e,t,r){return{resolvedModule:e&&{resolvedFileName:e.path,extension:e.extension,isExternalLibraryImport:t,packageId:e.packageId},failedLookupLocations:r}}function m(e,t){try{var r=t.readFile(e);return r?JSON.parse(r):{}}catch(e){return{}}}function g(e,t){var r,n,i;return e.typeRoots||(e.configFilePath?r=w.getDirectoryPath(e.configFilePath):t.getCurrentDirectory&&(r=t.getCurrentDirectory()),void 0!==r?(e=r,(n=t).directoryExists?(w.forEachAncestorDirectory(w.normalizePath(e),function(e){e=w.combinePaths(e,a);n.directoryExists(e)&&(i=i||[]).push(e)}),i):[w.combinePaths(e,a)]):void 0)}w.trace=N,w.isTraceEnabled=d,(e=p=p||{})[e.TypeScript=0]="TypeScript",e[e.JavaScript=1]="JavaScript",e[e.DtsOnly=2]="DtsOnly",w.getEffectiveTypeRoots=g;var a=w.combinePaths("node_modules","@types");function h(e,t,r,n,i,a){if(w.isExternalModuleNameRelative(t)){var s=e,o=t,c=n,l=i,u=a;if(u.compilerOptions.rootDirs){u.traceEnabled&&N(u.host,w.Diagnostics.rootDirs_option_is_set_using_it_to_resolve_relative_module_name_0,o);for(var d,p,f=w.normalizePath(w.combinePaths(r,o)),_=0,m=u.compilerOptions.rootDirs;_<m.length;_++){var g=m[_],h=w.normalizePath(g),y=(w.endsWith(h,w.directorySeparator)||(h+=w.directorySeparator),w.startsWith(f,h)&&(void 0===p||p.length<h.length));u.traceEnabled&&N(u.host,w.Diagnostics.Checking_if_0_is_the_longest_matching_prefix_for_1_2,h,f,y),y&&(p=h,d=g)}if(p){u.traceEnabled&&N(u.host,w.Diagnostics.Longest_matching_prefix_for_0_is_1,f,p);var v=f.substr(p.length),o=(u.traceEnabled&&N(u.host,w.Diagnostics.Loading_0_from_the_root_dir_1_candidate_location_2,v,p,f),c(s,f,l,!P(r,u.host),u));if(o)return o;u.traceEnabled&&N(u.host,w.Diagnostics.Trying_other_entries_in_rootDirs);for(var b=0,x=u.compilerOptions.rootDirs;b<x.length;b++){g=x[b];if(g!==d){var k=w.combinePaths(w.normalizePath(g),v),S=(u.traceEnabled&&N(u.host,w.Diagnostics.Loading_0_from_the_root_dir_1_candidate_location_2,v,g,k),w.getDirectoryPath(k)),k=c(s,k,l,!P(S,u.host),u);if(k)return k}}u.traceEnabled&&N(u.host,w.Diagnostics.Module_resolution_using_rootDirs_has_failed)}}}else{var T,C=e,r=t,E=n,D=i,A=a;if(A.compilerOptions.baseUrl)return A.traceEnabled&&N(A.host,w.Diagnostics.baseUrl_option_is_set_to_0_using_this_value_to_resolve_non_relative_module_name_1,A.compilerOptions.baseUrl,r),o=void 0,A.compilerOptions.paths&&(A.traceEnabled&&N(A.host,w.Diagnostics.paths_option_is_specified_looking_for_a_pattern_to_match_module_name_0,r),o=w.matchPatternOrExact(w.getOwnKeys(A.compilerOptions.paths),r)),o?(T=w.isString(o)?void 0:w.matchedText(o,r),o=w.isString(o)?o:w.patternText(o),A.traceEnabled&&N(A.host,w.Diagnostics.Module_name_0_matched_pattern_1,r,o),w.forEach(A.compilerOptions.paths[o],function(e){var t=T?e.replace("*",T):e,r=w.normalizePath(w.combinePaths(A.compilerOptions.baseUrl,t)),e=(A.traceEnabled&&N(A.host,w.Diagnostics.Trying_substitution_0_candidate_module_location_Colon_1,e,t),w.tryGetExtensionFromPath(r));if(void 0!==e){t=O(r,D,!1,A);if(void 0!==t)return I({path:t,ext:e})}return E(C,r,D,!P(w.getDirectoryPath(r),A.host),A)})):(o=w.normalizePath(w.combinePaths(A.compilerOptions.baseUrl,r)),A.traceEnabled&&N(A.host,w.Diagnostics.Resolving_module_name_0_relative_to_base_url_1_2,r,A.compilerOptions.baseUrl,o),E(C,o,D,!P(w.getDirectoryPath(o),A.host),A))}}function y(e,t,r,n,i){return s(e,w.getDirectoryPath(t),r,n,i,!1)}function s(n,i,a,s,o,e){var c=d(a,s),l=[],u={compilerOptions:a,host:s,traceEnabled:c},e=!e&&t(p.TypeScript)||t(p.JavaScript);return e&&e.value?_((e=e.value).resolved,e.isExternalLibraryImport,l):{resolvedModule:void 0,failedLookupLocations:l};function t(e){var t=h(e,n,i,function(e,t,r,n,i){return b(e,t,r,n,i,!0)},l,u);if(t)return U({resolved:t,isExternalLibraryImport:!1});if(w.isExternalModuleNameRelative(n))return r=(t=w.normalizePathAndParts(w.combinePaths(i,n))).path,t=t.parts,(r=b(e,r,l,!1,u,!0))&&U({resolved:r,isExternalLibraryImport:w.contains(t,"node_modules")});c&&N(s,w.Diagnostics.Loading_module_0_from_node_modules_folder_target_file_type_1,n,p[e]);var r=A(e,n,i,l,u,o);return r?(t=r.value,{value:(t=a.preserveSymlinks?t:t&&__assign({},r.value,{path:v(r.value.path,s,c),extension:r.value.extension}))&&{resolved:t,isExternalLibraryImport:!0}}):void 0}}function v(e,t,r){var n;return t.realpath?(n=w.normalizePath(t.realpath(e)),r&&N(t,w.Diagnostics.Resolving_real_path_for_0_result_1,e,n),n):e}function b(e,t,r,n,i,a){if(i.traceEnabled&&N(i.host,w.Diagnostics.Loading_module_as_file_Slash_folder_candidate_module_location_0_target_file_type_1,t,p[e]),!w.pathEndsWithDirectorySeparator(t)){n||P(s=w.getDirectoryPath(t),i.host)||(i.traceEnabled&&N(i.host,w.Diagnostics.Directory_0_does_not_exist_skipping_all_lookups_in_it,s),n=!0);var s=k(e,t,r,n,i);if(s)return I(s)}return n||P(t,i.host)||(i.traceEnabled&&N(i.host,w.Diagnostics.Directory_0_does_not_exist_skipping_all_lookups_in_it,t),n=!0),S(e,t,r,n,i,a)}function P(e,t){return!t.directoryExists||t.directoryExists(e)}function x(e,t,r,n,i){return I(k(e,t,r,n,i))}function k(e,t,r,n,i){var a,s=o(t,e,r,n,i);return s||(w.hasJavaScriptFileExtension(t)?(s=w.removeFileExtension(t),i.traceEnabled&&(a=t.substring(s.length),N(i.host,w.Diagnostics.File_name_0_has_a_1_extension_stripping_it,t,a)),o(s,e,r,n,i)):void 0)}function o(r,e,n,i,a){var t;switch(i||(t=w.getDirectoryPath(r))&&(i=!P(t,a.host)),e){case p.DtsOnly:return s(".d.ts");case p.TypeScript:return s(".ts")||s(".tsx")||s(".d.ts");case p.JavaScript:return s(".js")||s(".jsx")}function s(e){var t=O(r+e,n,i,a);return t&&{path:t,ext:e}}}function O(e,t,r,n){if(!r){if(n.host.fileExists(e))return n.traceEnabled&&N(n.host,w.Diagnostics.File_0_exist_use_it_as_a_name_resolution_result,e),e;n.traceEnabled&&N(n.host,w.Diagnostics.File_0_does_not_exist,e)}t.push(e)}function S(e,t,r,n,i,a){var a=(a=void 0===a?!0:a)?C(t,"",r,n,i):{packageJsonContent:void 0,packageId:void 0},s=a.packageJsonContent;return u(a.packageId,T(e,t,r,n,i,s))}function T(e,t,r,n,i,a){var a=a&&((e,t,r,n,i)=>{if(e=((e,n,i,a)=>{return e?t("typings")||t("types"):t("main");function t(e){if(w.hasProperty(n,e)){var t,r=n[e];if(w.isString(r))return t=w.normalizePath(w.combinePaths(i,r)),a.traceEnabled&&N(a.host,w.Diagnostics.package_json_has_0_field_1_that_references_2,e,r,t),t;a.traceEnabled&&N(a.host,w.Diagnostics.Expected_type_of_0_field_in_package_json_to_be_string_got_1,e,typeof r)}else a.traceEnabled&&N(a.host,w.Diagnostics.package_json_does_not_have_a_0_field,e)}})(t!==p.JavaScript,e,r,i)){var r=!P(w.getDirectoryPath(e),i.host),a=O(e,n,r,i);if(a){var s=a&&((e,t)=>{var r=w.tryGetExtensionFromPath(t);return void 0!==r&&((e,t)=>{switch(e){case p.JavaScript:return".js"===t||".jsx"===t;case p.TypeScript:return".ts"===t||".tsx"===t||".d.ts"===t;case p.DtsOnly:return".d.ts"===t}})(e,r)?{path:t,ext:r}:void 0})(t,a);if(s)return s;i.traceEnabled&&N(i.host,w.Diagnostics.File_0_has_an_unsupported_extension_so_skipping_it,a)}return(s=b(t===p.DtsOnly?p.TypeScript:t,e,n,r,i,!1))?(w.Debug.assert(void 0===s.packageId),{path:s.path,ext:s.extension}):void 0}})(a,e,t,r,i);return a||(a=!n&&P(t,i.host),k(e,w.combinePaths(t,"index"),r,!a,i))}function C(e,t,r,n,i){var a,s=i.host,i=i.traceEnabled,n=!n&&P(e,s),e=E(e);return n&&s.fileExists(e)?(i&&N(s,w.Diagnostics.Found_package_json_at_0,e),{found:!0,packageJsonContent:a=m(e,s),packageId:"string"==typeof a.name&&"string"==typeof a.version?{name:a.name,subModuleName:t,version:a.version}:void 0}):(n&&i&&N(s,w.Diagnostics.File_0_does_not_exist,e),r.push(e),{found:!1,packageJsonContent:void 0,packageId:void 0})}function E(e){return w.combinePaths(e,"package.json")}function c(e,t,r,n,i,a){var s,o,c=w.normalizePath(w.combinePaths(r,t)),l=C(c,"",i,!n,a),r=(l.found?(s=l.packageJsonContent,o=l.packageId):(t=(l=D(t)).packageName,""!==(l=l.rest)&&(o=C(w.combinePaths(r,t),l,i,!n,a).packageId)),k(e,c,i,!n,a)||T(e,c,i,!n,a,s));return u(o,r)}function D(e){var t=e.indexOf(w.directorySeparator);return-1===(t="@"===e[0]?e.indexOf(w.directorySeparator,t+1):t)?{packageName:e,rest:""}:{packageName:e.slice(0,t),rest:e.slice(t+1)}}function A(e,t,r,n,i,a){return F(e,t,r,n,i,!1,a)}function F(t,r,e,n,i,a,s){var o=s&&s.getOrCreateCacheForModuleName(r);return w.forEachAncestorDirectory(w.normalizeSlashes(e),function(e){if("node_modules"!==w.getBaseFileName(e))return R(o,r,e,i.traceEnabled,i.host)||U(l(t,r,e,n,i,a))})}function l(e,t,r,n,i,a){void 0===a&&(a=!1);var r=w.combinePaths(r,"node_modules"),s=P(r,i.host),a=(!s&&i.traceEnabled&&N(i.host,w.Diagnostics.Directory_0_does_not_exist_skipping_all_lookups_in_it,r),a?void 0:c(e,t,r,s,n,i));return a||(e!==p.JavaScript?(a=w.combinePaths(r,"@types"),(e=s)&&!P(a,i.host)&&(i.traceEnabled&&N(i.host,w.Diagnostics.Directory_0_does_not_exist_skipping_all_lookups_in_it,a),e=!1),c(p.DtsOnly,((e,t)=>{var r=L(e);return t.traceEnabled&&r!==e&&N(t.host,w.Diagnostics.Scoped_package_detected_looking_in_0,r),r})(t,i),a,e,n,i)):void 0)}w.resolveTypeReferenceDirective=function(n,t,e,i){var r,a=d(e,i),s={compilerOptions:e,host:i,traceEnabled:a},o=g(e,i),c=(a&&(void 0===t?void 0===o?N(i,w.Diagnostics.Resolving_type_reference_directive_0_containing_file_not_set_root_directory_not_set,n):N(i,w.Diagnostics.Resolving_type_reference_directive_0_containing_file_not_set_root_directory_1,n,o):void 0===o?N(i,w.Diagnostics.Resolving_type_reference_directive_0_containing_file_1_root_directory_not_set,n,t):N(i,w.Diagnostics.Resolving_type_reference_directive_0_containing_file_1_root_directory_2,n,t,o)),[]),l=(()=>{if(o&&o.length)return a&&N(i,w.Diagnostics.Resolving_with_primary_search_path_0,o.join(", ")),w.forEach(o,function(e){var e=w.combinePaths(e,n),t=w.getDirectoryPath(e),r=P(t,i);return!r&&a&&N(i,w.Diagnostics.Directory_0_does_not_exist_skipping_all_lookups_in_it,t),f(S(p.DtsOnly,e,c,!r,s))});a&&N(i,w.Diagnostics.Root_directory_cannot_be_determined_skipping_primary_search_paths)})(),u=!0;return l||(l=(()=>{var e=t&&w.getDirectoryPath(t);if(void 0!==e)return a&&N(i,w.Diagnostics.Looking_up_in_node_modules_folder_initial_location_0,e),!(e=f((e=A(p.DtsOnly,n,e,c,s,void 0))&&e.value))&&a&&N(i,w.Diagnostics.Type_reference_directive_0_was_not_resolved,n),e;a&&N(i,w.Diagnostics.Containing_file_is_not_specified_and_root_directory_cannot_be_determined_skipping_lookup_in_node_modules_folder)})(),u=!1),l&&(e.preserveSymlinks||(l=__assign({},l,{fileName:v(l.fileName,i,a)})),a&&N(i,w.Diagnostics.Type_reference_directive_0_was_successfully_resolved_to_1_primary_Colon_2,n,l.fileName,u),r={primary:u,resolvedFileName:l.fileName,packageId:l.packageId}),{resolvedTypeReferenceDirective:r,failedLookupLocations:c}},w.getAutomaticTypeDirectiveNames=function(e,t){if(e.types)return e.types;var r=[];if(t.directoryExists&&t.getDirectories){e=g(e,t);if(e)for(var n=0,i=e;n<i.length;n++){var a=i[n];if(t.directoryExists(a))for(var s=0,o=t.getDirectories(a);s<o.length;s++){var c=o[s],c=w.normalizePath(c),l=E(w.combinePaths(a,c));t.fileExists(l)&&null===m(l,t).typings||r.push(w.getBaseFileName(c))}}}return r},w.createModuleResolutionCache=function(o,c){var r=w.createMap(),n=w.createMap();return{getOrCreateCacheForDirectory:function(e){var e=w.toPath(e,o,c),t=r.get(e);t||(t=w.createMap(),r.set(e,t));return t},getOrCreateCacheForModuleName:function(e){if(w.isExternalModuleNameRelative(e))return;var t=n.get(e);t||(t=(()=>{var s=w.createMap();return{get:function(e){return s.get(w.toPath(e,o,c))},set:function(e,t){e=w.toPath(e,o,c);if(!s.has(e)){s.set(e,t);for(var r=t.resolvedModule&&t.resolvedModule.resolvedFileName,n=((e,t)=>{if(void 0!==t){for(var r=w.toPath(w.getDirectoryPath(t),o,c),n=0;n<Math.min(e.length,r.length)&&e.charCodeAt(n)===r.charCodeAt(n);)n++;if(!((t=e.lastIndexOf(w.directorySeparator,n))<0))return e.substr(0,t)}})(e,r),i=e;;){var a=w.getDirectoryPath(i);if(a===i||s.has(a))break;if(s.set(a,t),(i=a)===n)break}}}}})(),n.set(e,t));return t}}},w.resolveModuleName=function(e,t,r,n,i){var a=d(r,n),s=(a&&N(n,w.Diagnostics.Resolving_module_0_from_1,e,t),w.getDirectoryPath(t)),o=i&&i.getOrCreateCacheForDirectory(s),c=o&&o.get(e);if(c)a&&N(n,w.Diagnostics.Resolution_for_module_0_was_found_in_cache,e);else{var l=r.moduleResolution;switch(void 0===l?(l=w.getEmitModuleKind(r)===w.ModuleKind.CommonJS?w.ModuleResolutionKind.NodeJs:w.ModuleResolutionKind.Classic,a&&N(n,w.Diagnostics.Module_resolution_kind_is_not_specified_using_0,w.ModuleResolutionKind[l])):a&&N(n,w.Diagnostics.Explicitly_specified_module_resolution_kind_Colon_0,w.ModuleResolutionKind[l]),l){case w.ModuleResolutionKind.NodeJs:c=y(e,t,r,n,i);break;case w.ModuleResolutionKind.Classic:c=M(e,t,r,n,i);break;default:w.Debug.fail("Unexpected moduleResolution: "+l)}o&&(o.set(e,c),o=i.getOrCreateCacheForModuleName(e))&&o.set(s,c)}return a&&(c.resolvedModule?N(n,w.Diagnostics.Module_name_0_was_successfully_resolved_to_1,e,c.resolvedModule.resolvedFileName):N(n,w.Diagnostics.Module_name_0_was_not_resolved,e)),c},w.nodeModuleNameResolver=y,w.resolveJavaScriptModule=function(e,t,r){var n=(r=s(e,t,{moduleResolution:w.ModuleResolutionKind.NodeJs,allowJs:!0},r,void 0,!0)).resolvedModule,r=r.failedLookupLocations;if(n)return n.resolvedFileName;throw new Error("Could not resolve JS module '"+e+"' starting at '"+t+"'. Looked in: "+r.join(", "))},w.directoryProbablyExists=P,w.getPackageName=D;var r="__";function L(e){if(w.startsWith(e,"@")){var t=e.replace(w.directorySeparator,r);if(t!==e)return t.slice(1)}return e}function R(e,t,r,n,i){e=e&&e.get(r);if(e)return n&&N(i,w.Diagnostics.Resolution_for_module_0_was_found_in_cache,t),{value:e.resolvedModule&&{path:e.resolvedModule.resolvedFileName,extension:e.resolvedModule.extension,packageId:e.resolvedModule.packageId}}}function M(i,e,t,a,s){var o=d(t,a),c={compilerOptions:t,host:a,traceEnabled:o},l=[],u=w.getDirectoryPath(e),t=r(p.TypeScript)||r(p.JavaScript);return _(t&&t.value,!1,l);function r(r){var n,e=h(r,i,u,x,l,c);return e?{value:e}:(n=s&&s.getOrCreateCacheForModuleName(i),w.isExternalModuleNameRelative(i)?(e=w.normalizePath(w.combinePaths(u,i)),U(x(r,e,l,!1,c))):w.forEachAncestorDirectory(u,function(e){var t=R(n,i,e,o,a);return t||(t=w.normalizePath(w.combinePaths(e,i)),U(x(r,t,l,!1,c)))})||(r===p.TypeScript?F(p.DtsOnly,i,u,l,c,!0,void 0):void 0))}}function U(e){return void 0!==e?{value:e}:void 0}w.getTypesPackageName=function(e){return"@types/"+L(e)},w.getPackageNameFromAtTypesDirectory=function(e){var t=w.removePrefix(e,"@types/");return t!==e?w.stringContains(t,r)?"@"+t.replace(r,w.directorySeparator):t:e},w.classicNameResolver=M,w.loadModuleFromGlobalCache=function(e,t,r,n,i){var a=d(r,n);return a&&N(n,w.Diagnostics.Auto_discovery_for_typings_is_enabled_in_project_0_Running_extra_resolution_pass_for_module_1_using_cache_location_2,t,e,i),t=[],_(l(p.DtsOnly,e,i,t,{compilerOptions:r,host:n,traceEnabled:a}),!0,t)}})(ts=ts||{}),(Q_=>{var Y_=/^".+"$/,t=1,r=1,X_=1,Z_=1;function em(e){return e.id||(e.id=r,r++),e.id}function tm(e){return e.id||(e.id=t,t++),e.id}function rm(e,t){e=Q_.getModuleInstanceState(e);return 1===e||t&&2===e}function nm(e){switch(e.parent.kind){case 242:case 246:return 1;default:return Q_.isDeclarationName(e)}}function im(e){switch(e.kind){case 239:case 237:case 240:case 242:return!0;case 71:return 242===e.parent.kind;default:return!1}}Q_.getNodeId=em,Q_.getSymbolId=tm,Q_.isInstantiatedModule=rm,Q_.createTypeChecker=function(l,$){var ae,o,c,r=Q_.objectAllocator.getSymbolConstructor(),t=Q_.objectAllocator.getTypeConstructor(),u=Q_.objectAllocator.getSignatureConstructor(),n=0,i=0,p=0,s=0,_=Q_.createSymbolTable(),x=Q_.identity,R=l.getCompilerOptions(),J=Q_.getEmitScriptTarget(R),se=Q_.getEmitModuleKind(R),k=!!R.noUnusedLocals||!!R.noUnusedParameters,f=void 0!==R.allowSyntheticDefaultImports?R.allowSyntheticDefaultImports:se===Q_.ModuleKind.System,M=void 0===R.strictNullChecks?R.strict:R.strictNullChecks,oe=void 0===R.strictFunctionTypes?R.strict:R.strictFunctionTypes,h=void 0===R.noImplicitAny?R.strict:R.noImplicitAny,m=void 0===R.noImplicitThis?R.strict:R.noImplicitThis,a=(()=>{var s,e=l.getResolvedTypeReferenceDirectives();return e&&(s=Q_.createMap(),e.forEach(function(e,t){e&&(e=l.getSourceFile(e.resolvedFileName),s.set(e.path,t))})),{getReferencedExportContainer:e_,getReferencedImportDeclaration:t_,getReferencedDeclarationWithCollidingName:n_,isDeclarationWithCollidingName:i_,isValueAliasDeclaration:function(e){return!(e=Q_.getParseTreeNode(e))||a_(e)},hasGlobalName:b_,isReferencedAliasDeclaration:function(e,t){return!(e=Q_.getParseTreeNode(e))||function t(e,r){if(Q_.isAliasSymbolDeclaration(e)){var n=H(e);if(n&&d(n).referenced)return!0}if(r)return Q_.forEachChild(e,function(e){return t(e,r)});return!1}(e,t)},getNodeCheckFlags:function(e){return(e=Q_.getParseTreeNode(e))?p_(e):void 0},isTopLevelValueImportEqualsWithEntityName:s_,isDeclarationVisible:Yn,isImplementationOfOverload:l_,isRequiredInitializedParameter:u_,isOptionalUninitializedParameterProperty:d_,writeTypeOfDeclaration:h_,writeReturnTypeOfSignatureDeclaration:y_,writeTypeOfExpression:v_,isSymbolAccessible:Mn,isEntityNameVisible:jn,getConstantValue:function(e){return(e=Q_.getParseTreeNode(e,__))?m_(e):void 0},collectLinkedAliases:Xn,getReferencedValueDeclaration:k_,getTypeReferenceSerializationKind:g_,isOptionalParameter:Ra,moduleExportsSomeValue:Zf,isArgumentsLocalBinding:Xf,getExternalModuleFileFromDeclaration:C_,getTypeReferenceDirectivesForEntityName:function(e){var t;if(s)return t=179===e.kind||71===e.kind&&zc(e)?1156031:794600,(e=ln(e,t,!0))&&e!==U?r(e,t):void 0},getTypeReferenceDirectivesForSymbol:r,isLiteralConstDeclaration:S_,writeLiteralConstValue:T_,getJsxFactoryEntity:function(){return qe}};function r(e,t){if(s&&(e=>{if(e.declarations){for(var t=e;;){var r=kn(t);if(!r)break;t=r}if(!(t.valueDeclaration&&265===t.valueDeclaration.kind&&512&t.flags))for(var n=0,i=e.declarations;n<i.length;n++){var a=i[n],a=Q_.getSourceFileOfNode(a);if(s.has(a.path))return 1}}})(e)){for(var r,n=0,i=e.declarations;n<i.length;n++){var a=i[n];if(a.symbol&&a.symbol.flags&t){a=Q_.getSourceFileOfNode(a),a=s.get(a.path);if(!a)return;(r=r||[]).push(a)}}return r}}})(),g={typeToTypeNode:function(e,t,r){t=y(t,r),r=T(e,t);return t.encounteredError?void 0:r},indexInfoToIndexSignatureDeclaration:function(e,t,r,n){r=y(r,n),n=D(e,t,r);return r.encounteredError?void 0:n},signatureToSignatureDeclaration:function(e,t,r,n){r=y(r,n),n=ce(e,t,r);return r.encounteredError?void 0:n}};function y(e,t){return{enclosingDeclaration:e,flags:t,encounteredError:!1,symbolStack:void 0}}function T(e,h){var t=h.flags&Q_.NodeBuilderFlags.InTypeAlias;if(h.flags&=~Q_.NodeBuilderFlags.InTypeAlias,e){if(1&e.flags)return Q_.createKeywordTypeNode(119);if(2&e.flags)return Q_.createKeywordTypeNode(136);if(4&e.flags)return Q_.createKeywordTypeNode(133);if(8&e.flags)return Q_.createKeywordTypeNode(122);if(256&e.flags&&!(65536&e.flags))return s=ue(o=kn(e.symbol),h,793064,!1),o=Y(o)===e?s:Q_.createQualifiedName(s,Wn(e.symbol,h)),Q_.createTypeReferenceNode(o,void 0);if(272&e.flags)return i=ue(e.symbol,h,793064,!1),Q_.createTypeReferenceNode(i,void 0);if(32&e.flags)return Q_.createLiteralTypeNode(Q_.setEmitFlags(Q_.createLiteral(e.value),16777216));if(64&e.flags)return Q_.createLiteralTypeNode(Q_.createLiteral(e.value));if(128&e.flags)return"true"===e.intrinsicName?Q_.createTrue():Q_.createFalse();if(1024&e.flags)return Q_.createKeywordTypeNode(105);if(2048&e.flags)return Q_.createKeywordTypeNode(139);if(4096&e.flags)return Q_.createKeywordTypeNode(95);if(8192&e.flags)return Q_.createKeywordTypeNode(130);if(512&e.flags)return Q_.createKeywordTypeNode(137);if(16777216&e.flags)return Q_.createKeywordTypeNode(134);if(16384&e.flags&&e.isThisType)return h.flags&Q_.NodeBuilderFlags.InObjectTypeLiteral&&(h.encounteredError||h.flags&Q_.NodeBuilderFlags.AllowThisInObjectLiteral||(h.encounteredError=!0)),Q_.createThis();var r,n,i,a,s=P(e);if(4&s){Q_.Debug.assert(!!(32768&e.flags));var o=e,c=o.typeArguments||Q_.emptyArray;if(o.target===ge)return h.flags&Q_.NodeBuilderFlags.WriteArrayAsGenericType?(g=T(c[0],h),Q_.createTypeReferenceNode("Array",[g])):(g=T(c[0],h),Q_.createArrayTypeNode(g));if(!(8&o.target.objectFlags)){var l=o.target.outerTypeParameters,u=0,d=void 0;if(l)for(var p=l.length;u<p;){for(var f,_=u,m=es(l[u]);++u<p&&es(l[u])===m;);Q_.rangeEquals(l,c,_,u)||(_=C(c.slice(_,u),h),_=_&&Q_.createNodeArray(_),(71===(f=x(m)).kind?f:f.right).typeArguments=_,d=d?(Q_.Debug.assert(!d.right),d=k(d,f),Q_.createQualifiedName(d,void 0)):Q_.createQualifiedName(f,void 0))}var g=void 0,y=x(o.symbol),y=(g=d?(Q_.Debug.assert(!d.right),d=k(d,y)):y,void 0);return 0<c.length&&(v=(o.target.typeParameters||Q_.emptyArray).length,y=C(c.slice(u,v),h)),y&&((71===g.kind?g:g.right).typeArguments=void 0),Q_.createTypeReferenceNode(g,y)}if(0<c.length){var v=C(c.slice(0,as(o)),h);if(v&&0<v.length)return Q_.createTupleTypeNode(v)}return h.encounteredError||h.flags&Q_.NodeBuilderFlags.AllowEmptyTuple?Q_.createTupleTypeNode([]):void(h.encounteredError=!0)}return 16384&e.flags||3&s?(i=e.symbol?ue(e.symbol,h,793064,!1):Q_.createIdentifier("?"),Q_.createTypeReferenceNode(i,void 0)):!t&&e.aliasSymbol&&Rn(e.aliasSymbol,h.enclosingDeclaration)?(i=x(e.aliasSymbol),g=C(e.aliasTypeArguments,h),Q_.createTypeReferenceNode(i,g)):196608&e.flags?(y=C(65536&e.flags?Jn(e.types):e.types,h))&&0<y.length?Q_.createUnionOrIntersectionTypeNode(65536&e.flags?166:167,y):void(h.encounteredError||h.flags&Q_.NodeBuilderFlags.AllowEmptyUnionOrIntersection||(h.encounteredError=!0)):48&s?(Q_.Debug.assert(!!(32768&e.flags)),(n=(v=e).symbol)?32&n.flags&&!bi(n)||896&n.flags||(()=>{var e=!!(8192&n.flags)&&Q_.some(n.declarations,function(e){return Q_.hasModifier(e,32)}),t=!!(16&n.flags)&&(n.parent||Q_.forEach(n.declarations,function(e){return 265===e.parent.kind||234===e.parent.kind}));return(e||t)&&Q_.contains(h.symbolStack,n)})()?(t=ue(t=n,h,107455,!1),Q_.createTypeQueryNode(t)):Q_.contains(h.symbolStack,n)?(r=Vn(v))?(r=ue(r,h,793064,!1),Q_.createTypeReferenceNode(r,void 0)):Q_.createKeywordTypeNode(119):(h.symbolStack||(h.symbolStack=[]),h.symbolStack.push(n),r=b(v),h.symbolStack.pop(),r):b(v)):262144&e.flags?(a=T(e.type,h),Q_.createTypeOperatorNode(a)):524288&e.flags?(i=T(e.objectType,h),a=T(e.indexType,h),Q_.createIndexedAccessTypeNode(i,a)):void Q_.Debug.fail("Should be unreachable.")}function b(e){if(_a(e))return n=e,Q_.Debug.assert(!!(32768&n.flags)),i=n.declaration&&n.declaration.readonlyToken?Q_.createToken(131):void 0,r=n.declaration&&n.declaration.questionToken?Q_.createToken(55):void 0,t=le(da(n),h),n=T(fa(n),h),i=Q_.createMappedTypeNode(i,t,r,n),Q_.setEmitFlags(i,1);var t=ma(e);if(!t.properties.length&&!t.stringIndexInfo&&!t.numberIndexInfo){if(!t.callSignatures.length&&!t.constructSignatures.length)return Q_.setEmitFlags(Q_.createTypeLiteralNode(void 0),1);if(1===t.callSignatures.length&&!t.constructSignatures.length)return ce(t.callSignatures[0],160,h);if(1===t.constructSignatures.length&&!t.callSignatures.length)return ce(t.constructSignatures[0],161,h)}var r=h.flags,n=(h.flags|=Q_.NodeBuilderFlags.InObjectTypeLiteral,(e=>{for(var t=[],r=0,n=e.callSignatures;r<n.length;r++){var i=n[r];t.push(ce(i,155,h))}for(var a=0,s=e.constructSignatures;a<s.length;a++){i=s[a];t.push(ce(i,156,h))}if(e.stringIndexInfo&&t.push(D(e.stringIndexInfo,0,h)),e.numberIndexInfo&&t.push(D(e.numberIndexInfo,1,h)),!(e=e.properties))return t;for(var o=0,c=e;o<c.length;o++){var l=c[o],u=Q(l),d=h.enclosingDeclaration,p=(h.enclosingDeclaration=void 0,ue(l,h,107455,!0)),f=(h.enclosingDeclaration=d,16777216&l.flags?Q_.createToken(55):void 0);if(8208&l.flags&&!ga(u).length)for(var d=ee(u,0),_=0,m=d;_<m.length;_++){var g=ce(i=m[_],150,h);g.name=p,g.questionToken=f,t.push(g)}else{d=u?T(u,h):Q_.createKeywordTypeNode(119),u=Ud(l)?[Q_.createToken(131)]:void 0,l=Q_.createPropertySignature(u,p,f,d,void 0);t.push(l)}}return t.length?t:void 0})(t)),i=(h.flags=r,Q_.createTypeLiteralNode(n));return Q_.setEmitFlags(i,1)}function x(e){return 32&e.flags||!An(e.escapedName)?ue(e,h,793064,!1):Q_.createIdentifier("")}function k(e,t){if(Q_.Debug.assert(void 0===e.right),71===t.kind)return e.right=t,e;for(var r=t;71!==r.left.kind;)r=r.left;return e.right=r.left,r.left=e,t}h.encounteredError=!0}function C(e,t){if(Q_.some(e)){for(var r=[],n=0;n<e.length;++n){var i=T(e[n],t);i&&r.push(i)}return r}}function D(e,t,r){var n=Q_.getNameFromIndexInfo(e)||"x",t=Q_.createKeywordTypeNode(0===t?136:133),n=Q_.createParameter(void 0,void 0,void 0,n,void 0,t,void 0),t=T(e.type,r);return Q_.createIndexSignature(void 0,e.isReadonly?[Q_.createToken(131)]:void 0,[n],t)}function ce(e,t,r){var n,i,a=e.typeParameters&&e.typeParameters.map(function(e){return le(e,r)}),s=e.parameters.map(function(e){return b(e,r)});return e.thisParameter&&(n=b(e.thisParameter,r),s.unshift(n)),n=e.typePredicate?(i=1===(n=e.typePredicate).kind?Q_.setEmitFlags(Q_.createIdentifier(n.parameterName),16777216):Q_.createThisTypeNode(),n=T(n.type,r),Q_.createTypePredicateNode(i,n)):(i=te(e))&&T(i,r),r.flags&Q_.NodeBuilderFlags.SuppressAnyReturnType?n&&119===n.kind&&(n=void 0):n=n||Q_.createKeywordTypeNode(119),Q_.createSignatureDeclaration(t,a,s,n)}function le(e,t){var r=ue(e.symbol,t,793064,!0),n=Za(e),n=n&&T(n,t),e=Ta(e),e=e&&T(e,t);return Q_.createTypeParameterDeclaration(r,n,e)}function b(e,t){var r,n,i,a,s=Q_.getDeclarationOfKind(e,146);return Mr(e)&&e.isRestParameter?Q_.createParameter(void 0,void 0,e.isRestParameter?Q_.createToken(24):void 0,"args",void 0,T(Se,t),void 0):(r=s.modifiers&&s.modifiers.map(Q_.getSynthesizedClone),n=Q_.isRestParameter(s)?Q_.createToken(24):void 0,i=s.name?71===s.name.kind?Q_.setEmitFlags(Q_.getSynthesizedClone(s.name),16777216):function e(t){t=Q_.visitEachChild(t,e,Q_.nullTransformationContext,void 0,e);t=Q_.nodeIsSynthesized(t)?t:Q_.getSynthesizedClone(t);176===t.kind&&(t.initializer=void 0);return Q_.setEmitFlags(t,16777217)}(s.name):Q_.symbolName(e),a=Ra(s)?Q_.createToken(55):void 0,e=Q(e),s=T(e=u_(s)?yc(e,2048):e,t),Q_.createParameter(void 0,r,n,i,a,s,void 0))}function ue(e,o,t,r){var n;return!(262144&e.flags)&&(o.enclosingDeclaration||o.flags&Q_.NodeBuilderFlags.UseFullyQualifiedType)?(n=function e(t,r,n){var i=Fn(t,o.enclosingDeclaration,r,!1);var a;{var s;i&&!Ln(i[0],o.enclosingDeclaration,1===i.length?r:On(r))||(s=kn(i?i[0]:t))&&(r=e(s,On(r),!1))&&(a=s,i=r.concat(i||[t]))}if(i)return i;if(n||(a||!Q_.forEach(t.declarations,Un))&&!(6144&t.flags))return[t]}(e,t,!0),Q_.Debug.assert(n&&0<n.length)):n=[e],!r||1===n.length||o.encounteredError||o.flags&Q_.NodeBuilderFlags.AllowQualifedNameInPlaceOfIdentifier||(o.encounteredError=!0),function e(t,r){Q_.Debug.assert(t&&0<=r&&r<t.length);var n=t[r];{var i;o.flags&Q_.NodeBuilderFlags.WriteTypeParametersInQualifiedName&&0<r&&(i=t[r-1],a=void 0,1&Q_.getCheckFlags(n)?a=wi(i):524384&kf(i).flags&&(a=Ai(n)),i=C(a,o))}var a=Wn(n,o);n=Q_.setEmitFlags(Q_.createIdentifier(a,i),16777216);return 0<r?Q_.createQualifiedName(e(t,r-1),n):n}(n,n.length-1)}var de,pe,fe,_e,me,ge,he,ye,ve,be,xe,ke,Se,Te,Ce,Ee,De,Ae,we,Ne,Ie,Pe,Oe,Fe,Le,Re,Me,Ue,Be,je,Ke,ze,$e,Je,qe,Ve,He,Ge,We,Qe=Rr(4,"undefined"),Ye=(Qe.declarations=[],Rr(4,"arguments")),Xe={getNodeCount:function(){return Q_.sum(l.getSourceFiles(),"nodeCount")},getIdentifierCount:function(){return Q_.sum(l.getSourceFiles(),"identifierCount")},getSymbolCount:function(){return Q_.sum(l.getSourceFiles(),"symbolCount")+i},getTypeCount:function(){return n},isUndefinedSymbol:function(e){return e===Qe},isArgumentsSymbol:function(e){return e===Ye},isUnknownSymbol:function(e){return e===U},getMergedSymbol:xn,getDiagnostics:jf,getGlobalDiagnostics:function(){return Kf(),ar.getGlobalDiagnostics()},getTypeOfSymbolAtLocation:function(e,t){if(t=Q_.getParseTreeNode(t)){if(e=e.exportSymbol||e,71===t.kind&&(Q_.isRightSideOfQualifiedNameOrPropertyAccess(t)&&(t=t.parent),Q_.isPartOfExpression(t))&&!Q_.isAssignmentTarget(t)){var r=op(t);if(Sn(v(t).resolvedSymbol)===e)return r}return Q(e)}return q},getSymbolsOfParameterPropertyDeclaration:function(e,t){e=Q_.getParseTreeNode(e,Q_.isParameter),Q_.Debug.assert(void 0!==e,"Cannot get symbols of a synthetic parameter that cannot be resolved to a parse-tree node.");var t=Q_.escapeLeadingUnderscores(t),r=e.parent,e=e.parent.parent,r=$r(r.locals,t,107455),e=$r(e.symbol.members,t,107455);if(r&&e)return[r,e];Q_.Debug.fail("There should exist two symbols, one as property declaration and one as parameter declaration")},getDeclaredTypeOfSymbol:Y,getPropertiesOfType:X,getPropertyOfType:function(e,t){return O(e,Q_.escapeLeadingUnderscores(t))},getIndexInfoOfType:F,getSignaturesOfType:ee,getIndexTypeOfType:Ia,getBaseTypes:Ri,getBaseTypeOfLiteralType:dc,getWidenedType:Cc,getTypeFromTypeNode:function(e){return(e=Q_.getParseTreeNode(e,Q_.isTypeNode))?re(e):q},getParameterType:Ed,getReturnTypeOfSignature:te,getNullableType:yc,getNonNullableType:vc,typeToTypeNode:g.typeToTypeNode,indexInfoToIndexSignatureDeclaration:g.indexInfoToIndexSignatureDeclaration,signatureToSignatureDeclaration:g.signatureToSignatureDeclaration,getSymbolsInScope:function(e,t){if(!(e=Q_.getParseTreeNode(e)))return[];var r,n,i=e,a=t;if(zf(i))return[];for(r=Q_.createSymbolTable(),n=!1;i;){switch(i.locals&&!zr(i)&&o(i.locals,a),i.kind){case 233:o(H(i).exports,2623475&a);break;case 232:o(H(i).exports,8&a);break;case 199:i.name&&s(i.symbol,a);case 229:case 230:n||o(H(i).members,793064&a);break;case 186:i.name&&s(i.symbol,a)}Q_.introducesArgumentsExoticObject(i)&&s(Ye,a),n=Q_.hasModifier(i,32),i=i.parent}return o(Lt,a),Oa(r);function s(e,t){Q_.getCombinedLocalAndExportSymbolFlags(e)&t&&(t=e.escapedName,r.has(t)||r.set(t,e))}function o(e,t){t&&e.forEach(function(e){s(e,t)})}},getSymbolAtLocation:function(e){return(e=Q_.getParseTreeNode(e))?Wf(e):void 0},getShorthandAssignmentValueSymbol:function(e){if(e=Q_.getParseTreeNode(e))if(e&&262===e.kind)return ln(e.name,2204607)},getExportSpecifierLocalTargetSymbol:function(e){return(e=Q_.getParseTreeNode(e,Q_.isExportSpecifier))?(e=e).parent.parent.moduleSpecifier?Xr(e.parent.parent,e):ln(e.propertyName||e.name,2998271):void 0},getExportSymbolOfSymbol:function(e){return xn(e.exportSymbol||e)},getTypeAtLocation:function(e){return(e=Q_.getParseTreeNode(e))?Qf(e):q},getPropertySymbolOfDestructuringAssignment:function(e){return(e=Q_.getParseTreeNode(e,Q_.isIdentifier))?(t=function e(t){Q_.Debug.assert(178===t.kind||177===t.kind);if(216===t.parent.kind)return r=of(t.parent.expression,t.parent.awaitModifier),Gd(t,r||q);if(194===t.parent.kind)return r=op(t.parent.right),Gd(t,r||q);if(261===t.parent.kind)return Vd(e(t.parent.parent)||q,t.parent);Q_.Debug.assert(177===t.parent.kind);var r=e(t.parent);var n=cf(r||q,t.parent,!1,!1)||q;return Hd(t.parent,r,Q_.indexOf(t.parent.elements,t),n||q)}((e=e).parent.parent))&&O(t,e.escapedText):void 0;var t},signatureToString:function(e,t,r,n){return zn(e,Q_.getParseTreeNode(t),r,n)},typeToString:function(e,t,r){return W(e,Q_.getParseTreeNode(t),r)},getSymbolDisplayBuilder:Qn,symbolToString:function(e,t,r){return G(e,Q_.getParseTreeNode(t),r)},getAugmentedPropertiesOfType:function(e){e=Z(e);var t=Q_.createSymbolTable(X(e));(ee(e,0).length||ee(e,1).length)&&Q_.forEach(X(me),function(e){t.has(e.escapedName)||t.set(e.escapedName,e)});return wn(t)},getRootSymbols:function e(t){{var r,n;if(6&Q_.getCheckFlags(t))return r=[],n=t.escapedName,Q_.forEach(d(t).containingType.types,function(e){e=O(e,n);e&&r.push(e)}),r;if(33554432&t.flags){var i=t;if(i.leftSpread)return e(i.leftSpread).concat(e(i.rightSpread));if(i.syntheticOrigin)return e(i.syntheticOrigin);for(var a=void 0,s=t;s=d(s).target;)a=s;if(a)return[a]}}return[t]},getContextualType:function(e){return(e=Q_.getParseTreeNode(e,Q_.isExpression))?eu(e):void 0},getFullyQualifiedName:cn,getResolvedSignature:function(e,t,r){e=Q_.getParseTreeNode(e,Q_.isCallLikeExpression),de=r;r=e?hd(e,t):void 0;return de=void 0,r},getConstantValue:function(e){return(e=Q_.getParseTreeNode(e,__))?m_(e):void 0},isValidPropertyAccess:function(e,t){return!!(e=Q_.getParseTreeNode(e,Q_.isPropertyAccessOrQualifiedName))&&(e=e,t=Q_.escapeLeadingUnderscores(t),r=179===e.kind?e.expression:e.left,function e(t,r,n,i){if(i!==q&&!N(i)){var a=O(i,n);if(a)return Fu(t,r,i,a);if(Q_.isInJavaScriptFile(r)&&65536&i.flags)for(var s=0,o=i.types;s<o.length;s++){var c=o[s];if(e(t,r,n,c))return!0}return!1}return!0}(e,r,t,Cc(K(r))));var r},getSignatureFromDeclaration:function(e){return(e=Q_.getParseTreeNode(e,Q_.isFunctionLike))?ja(e):void 0},isImplementationOfOverload:function(e){e=Q_.getParseTreeNode(e,Q_.isFunctionLike);return e?l_(e):void 0},getImmediateAliasedSymbol:function(e){Q_.Debug.assert(0!=(2097152&e.flags),"Should only get Alias here.");var t=d(e);return t.immediateTarget||(e=Yr(e),Q_.Debug.assert(!!e),t.immediateTarget=en(e,!0)),t.immediateTarget},getAliasedSymbol:nn,getEmitResolver:function(e,t){return jf(e,t),a},getExportsOfModule:gn,getExportsAndPropertiesOfModule:function(e){var t=gn(e),r=fn(e);r!==e&&Q_.addRange(t,X(Q(r)));return t},getSymbolWalker:Q_.createGetSymbolWalker($a,te,Ri,ma,Q,Kc,Na,Za,wf),getAmbientModules:function(){pe||(pe=[],Lt.forEach(function(e,t){Y_.test(t)&&pe.push(e)}));return pe},getAllAttributesTypeFromJsxOpeningLikeElement:function(e){return(e=Q_.getParseTreeNode(e,Q_.isJsxOpeningLikeElement))?gu((e=e).tagName)?Cu(e):Eu(e,!0):void 0},getJsxIntrinsicTagNames:function(){var e=yu(fr.IntrinsicElements);return e?X(e):Q_.emptyArray},isOptionalParameter:function(e){return!!(e=Q_.getParseTreeNode(e,Q_.isParameter))&&Ra(e)},tryGetMemberInModuleExports:function(e,t){return hn(Q_.escapeLeadingUnderscores(e),t)},tryGetMemberInModuleExportsAndProperties:function(e,t){var e=Q_.escapeLeadingUnderscores(e),r=hn(e,t);if(!r){var n=fn(t);if(n!==t)return O(Q(n),e)}return r},tryFindAmbientModuleWithoutAugmentations:function(e){return La(e,!1)},getApparentType:Z,getUnionType:L,createAnonymousType:In,createSignature:ea,createSymbol:Rr,createIndexInfo:Ya,getAnyType:function(){return E},getStringType:function(){return B},getNumberType:function(){return dt},createPromiseType:wd,createArrayType:Ls,getBooleanType:function(){return _t},getVoidType:function(){return gt},getUndefinedType:function(){return ot},getNullType:function(){return lt},getESSymbolType:function(){return mt},getNeverType:function(){return ht},isSymbolAccessible:Mn,isArrayLikeType:oc,getAllPossiblePropertiesOfTypes:function(e){var t=L(e);if(!(65536&t.flags))return X(t);for(var r=Q_.createSymbolTable(),n=0,i=e;n<i.length;n++)for(var a=i[n],s=0,o=X(a);s<o.length;s++){var c=o[s].escapedName;r.has(c)||r.set(c,Ca(t,c))}return Q_.arrayFrom(r.values())},getSuggestionForNonexistentProperty:ju,getSuggestionForNonexistentSymbol:function(e,t,r){return Ku(e,Q_.escapeLeadingUnderscores(t),r)},getBaseConstraintOfType:ba,resolveName:function(e,t,r){return qr(t,Q_.escapeLeadingUnderscores(e),r,void 0,void 0,!1)},getJsxNamespace:function(){return Q_.unescapeLeadingUnderscores(Lr())}},Ze=[],et=Q_.createMap(),tt=Q_.createMap(),rt=Q_.createMap(),nt=Q_.createMap(),it=[],U=Rr(4,"unknown"),at=Rr(0,"__resolving__"),E=En(1,"any"),st=En(1,"any"),q=En(1,"unknown"),ot=En(2048,"undefined"),ct=M?ot:En(2099200,"undefined"),lt=En(4096,"null"),ut=M?lt:En(2101248,"null"),B=En(2,"string"),dt=En(4,"number"),pt=En(128,"true"),ft=En(128,"false"),_t=(e=>((e=L(e)).flags|=8,e.intrinsicName="boolean",e))([pt,ft]),mt=En(512,"symbol"),gt=En(1024,"void"),ht=En(8192,"never"),yt=En(8192,"never"),vt=En(16777216,"object"),I=In(void 0,_,Q_.emptyArray,Q_.emptyArray,void 0,void 0),e=Rr(2048,"__type"),bt=(e.members=Q_.createSymbolTable(),In(e,_,Q_.emptyArray,Q_.emptyArray,void 0,void 0)),xt=In(void 0,_,Q_.emptyArray,Q_.emptyArray,void 0,void 0),kt=(xt.instantiations=Q_.createMap(),In(void 0,_,Q_.emptyArray,Q_.emptyArray,void 0,void 0)),St=(kt.flags|=8388608,In(void 0,_,Q_.emptyArray,Q_.emptyArray,void 0,void 0)),Tt=In(void 0,_,Q_.emptyArray,Q_.emptyArray,void 0,void 0),Ct=In(void 0,_,Q_.emptyArray,Q_.emptyArray,void 0,void 0),Et=Cn(16384),Dt=Cn(16384),At=(Dt.constraint=Et,Cn(16384)),wt=ea(void 0,void 0,void 0,Q_.emptyArray,E,void 0,0,!1,!1),Nt=ea(void 0,void 0,void 0,Q_.emptyArray,q,void 0,0,!1,!1),It=ea(void 0,void 0,void 0,Q_.emptyArray,E,void 0,0,!1,!1),Pt=ea(void 0,void 0,void 0,Q_.emptyArray,yt,void 0,0,!1,!1),Ot=Ya(B,!0),Ft=Ya(E,!1),Lt=Q_.createSymbolTable(),Rt=0,Mt=0,Ut=0,Bt=!1,jt=fo(""),Kt=fo(0),zt=[],$t=[],Jt=[],qt=0,Vt=10,Ht=[],Gt=[],Wt=[],Qt=[],Yt=[],Xt=[],Zt=[],er=[],tr=[],rr=[],nr=[],ir=[],ar=Q_.createDiagnosticCollection(),sr=((e={None:0,0:"None",TypeofEQString:1,1:"TypeofEQString",TypeofEQNumber:2,2:"TypeofEQNumber",TypeofEQBoolean:4,4:"TypeofEQBoolean",TypeofEQSymbol:8,8:"TypeofEQSymbol",TypeofEQObject:16,16:"TypeofEQObject",TypeofEQFunction:32,32:"TypeofEQFunction",TypeofEQHostObject:64,64:"TypeofEQHostObject",TypeofNEString:128,128:"TypeofNEString",TypeofNENumber:256,256:"TypeofNENumber",TypeofNEBoolean:512,512:"TypeofNEBoolean",TypeofNESymbol:1024,1024:"TypeofNESymbol",TypeofNEObject:2048,2048:"TypeofNEObject",TypeofNEFunction:4096,4096:"TypeofNEFunction",TypeofNEHostObject:8192,8192:"TypeofNEHostObject",EQUndefined:16384,16384:"EQUndefined",EQNull:32768,32768:"EQNull",EQUndefinedOrNull:65536,65536:"EQUndefinedOrNull",NEUndefined:131072,131072:"NEUndefined",NENull:262144,262144:"NENull",NEUndefinedOrNull:524288,524288:"NEUndefinedOrNull",Truthy:1048576,1048576:"Truthy",Falsy:2097152,2097152:"Falsy",Discriminatable:4194304,4194304:"Discriminatable",All:8388607,8388607:"All",BaseStringStrictFacts:933633,933633:"BaseStringStrictFacts",BaseStringFacts:3145473,3145473:"BaseStringFacts",StringStrictFacts:4079361,4079361:"StringStrictFacts",StringFacts:4194049,4194049:"StringFacts",EmptyStringStrictFacts:3030785,3030785:"EmptyStringStrictFacts",EmptyStringFacts:3145473})[3145473]="EmptyStringFacts",e[e.NonEmptyStringStrictFacts=1982209]="NonEmptyStringStrictFacts",e[e.NonEmptyStringFacts=4194049]="NonEmptyStringFacts",e[e.BaseNumberStrictFacts=933506]="BaseNumberStrictFacts",e[e.BaseNumberFacts=3145346]="BaseNumberFacts",e[e.NumberStrictFacts=4079234]="NumberStrictFacts",e[e.NumberFacts=4193922]="NumberFacts",e[e.ZeroStrictFacts=3030658]="ZeroStrictFacts",e[e.ZeroFacts=3145346]="ZeroFacts",e[e.NonZeroStrictFacts=1982082]="NonZeroStrictFacts",e[e.NonZeroFacts=4193922]="NonZeroFacts",e[e.BaseBooleanStrictFacts=933252]="BaseBooleanStrictFacts",e[e.BaseBooleanFacts=3145092]="BaseBooleanFacts",e[e.BooleanStrictFacts=4078980]="BooleanStrictFacts",e[e.BooleanFacts=4193668]="BooleanFacts",e[e.FalseStrictFacts=3030404]="FalseStrictFacts",e[e.FalseFacts=3145092]="FalseFacts",e[e.TrueStrictFacts=1981828]="TrueStrictFacts",e[e.TrueFacts=4193668]="TrueFacts",e[e.SymbolStrictFacts=1981320]="SymbolStrictFacts",e[e.SymbolFacts=4193160]="SymbolFacts",e[e.ObjectStrictFacts=6166480]="ObjectStrictFacts",e[e.ObjectFacts=8378320]="ObjectFacts",e[e.FunctionStrictFacts=6164448]="FunctionStrictFacts",e[e.FunctionFacts=8376288]="FunctionFacts",e[e.UndefinedFacts=2457472]="UndefinedFacts",e[e.NullFacts=2340752]="NullFacts",Q_.createMapFromTemplate({string:1,number:2,boolean:4,symbol:8,undefined:16384,object:16,function:32})),or=Q_.createMapFromTemplate({string:128,number:256,boolean:512,symbol:1024,undefined:131072,object:2048,function:4096}),cr=Q_.createMapFromTemplate({string:B,number:dt,boolean:_t,symbol:mt,undefined:ot}),lr=L(Q_.arrayFrom(sr.keys(),fo)),ur=!1,dr=!1,pr=Q_.createUnderscoreEscapedMap(),fr={JSX:"JSX",IntrinsicElements:"IntrinsicElements",ElementClass:"ElementClass",ElementAttributesPropertyNameContainer:"ElementAttributesProperty",ElementChildrenAttributeNameContainer:"ElementChildrenAttribute",Element:"Element",IntrinsicAttributes:"IntrinsicAttributes",IntrinsicClassAttributes:"IntrinsicClassAttributes"},_r=Q_.createMap(),mr=Q_.createMap(),gr=Q_.createMap(),hr=Q_.createMap(),yr=Q_.createMap();(e=Q_.createSymbolTable()).set(Qe.escapedName,Qe);for(var vr=Q_.and(Rf,function(e){return!Q_.isAccessor(e)}),br=0,xr=l.getSourceFiles();br<xr.length;br++){var kr=xr[br];Q_.bindSourceFile(kr,R)}for(var Sr=0,Tr=l.getSourceFiles();Sr<Tr.length;Sr++){kr=Tr[Sr];Q_.isExternalOrCommonJsModule(kr)||Kr(Lt,kr.locals),kr.patternAmbientModules&&kr.patternAmbientModules.length&&(fe=Q_.concatenate(fe,kr.patternAmbientModules)),kr.moduleAugmentations.length&&(We=We||[]).push(kr.moduleAugmentations),kr.symbol&&kr.symbol.globalExports&&kr.symbol.globalExports.forEach(function(e,t){Lt.has(t)||Lt.set(t,e)})}if(We)for(var Cr=0,Er=We;Cr<Er.length;Cr++)for(var Dr=Er[Cr],Ar=0,wr=Dr;Ar<wr.length;Ar++){Nr=void 0;Pr=void 0;Ir=void 0;var Nr=wr[Ar];var Ir,Pr=Nr.parent;Pr.symbol.declarations[0]!==Pr?Q_.Debug.assert(1<Pr.symbol.declarations.length):Q_.isGlobalScopeAugmentation(Pr)?Kr(Lt,Pr.symbol.exports):(Ir=Q_.isInAmbientContext(Nr.parent.parent)?void 0:Q_.Diagnostics.Invalid_module_name_in_augmentation_module_0_cannot_be_found,(Ir=dn(Nr,Nr,Ir,!0))&&(1920&(Ir=fn(Ir)).flags?jr(Ir=33554432&Ir.flags?Ir:Br(Ir),Pr.symbol):V(Nr,Q_.Diagnostics.Cannot_augment_module_0_because_it_resolves_to_a_non_module_entity,Nr.text)))}var Or=Lt,Fr=Q_.Diagnostics.Declaration_name_conflicts_with_built_in_global_identifier_0;return e.forEach(function(e,t){var r,n,i=Or.get(t);i?Q_.forEach(i.declarations,(r=Q_.unescapeLeadingUnderscores(t),n=Fr,function(e){return ar.add(Q_.createDiagnosticForNode(e,n,r))})):Or.set(t,e)}),d(Qe).type=ct,d(Ye).type=ys("IArguments",0,!0),d(U).type=q,ge=ys("Array",1,!0),_e=ys("Object",0,!0),me=ys("Function",0,!0),ye=ys("String",0,!0),ve=ys("Number",0,!0),be=ys("Boolean",0,!0),xe=ys("RegExp",0,!0),Se=Ls(E),Te=Ls(st),he=As("ReadonlyArray",1),Ce=he?Ns(he,[E]):Se,ke=As("ThisType",1),Xe;function Lr(){return Je||(Je="React",R.jsxFactory?(qe=Q_.parseIsolatedEntityName(R.jsxFactory,J))&&(Je=wf(qe).escapedText):R.reactNamespace&&(Je=Q_.escapeLeadingUnderscores(R.reactNamespace))),Je}function V(e,t,r,n,i){e=e?Q_.createDiagnosticForNode(e,t,r,n,i):Q_.createCompilerDiagnostic(t,r,n,i);ar.add(e)}function Rr(e,t){i++;e=new r(33554432|e,t);return e.checkFlags=0,e}function Mr(e){return 0!=(33554432&e.flags)}function Ur(e,t){t.mergeId||(t.mergeId=X_,X_++),Ht[t.mergeId]=e}function Br(e){var t=Rr(e.flags,e.escapedName);return t.declarations=e.declarations?e.declarations.slice():[],t.parent=e.parent,e.valueDeclaration&&(t.valueDeclaration=e.valueDeclaration),e.constEnumOnlyModule&&(t.constEnumOnlyModule=!0),e.members&&(t.members=Q_.cloneMap(e.members)),e.exports&&(t.exports=Q_.cloneMap(e.exports)),Ur(t,e),t}function jr(e,t){var r,n,i;e.flags&(n=t.flags,i=0,2&n&&(i|=107455),1&n&&(i|=107454),4&n&&(i|=0),8&n&&(i|=900095),16&n&&(i|=106927),32&n&&(i|=899519),64&n&&(i|=792968),256&n&&(i|=899327),128&n&&(i|=899967),512&n&&(i|=106639),8192&n&&(i|=99263),32768&n&&(i|=41919),65536&n&&(i|=74687),262144&n&&(i|=530920),524288&n&&(i|=793064),2097152&n&&(i|=2097152),i)?1024&e.flags?V(Q_.getNameOfDeclaration(t.declarations[0]),Q_.Diagnostics.Cannot_augment_module_0_with_value_exports_because_it_resolves_to_a_non_module_entity,G(e)):(r=2&e.flags||2&t.flags?Q_.Diagnostics.Cannot_redeclare_block_scoped_variable_0:Q_.Diagnostics.Duplicate_identifier_0,Q_.forEach(t.declarations,function(e){V(Q_.getNameOfDeclaration(e)||e,r,G(t))}),Q_.forEach(e.declarations,function(e){V(Q_.getNameOfDeclaration(e)||e,r,G(t))})):(512&t.flags&&512&e.flags&&e.constEnumOnlyModule&&!t.constEnumOnlyModule&&(e.constEnumOnlyModule=!1),e.flags|=t.flags,t.valueDeclaration&&(!e.valueDeclaration||233===e.valueDeclaration.kind&&233!==t.valueDeclaration.kind)&&(e.valueDeclaration=t.valueDeclaration),Q_.addRange(e.declarations,t.declarations),t.members&&(e.members||(e.members=Q_.createSymbolTable()),Kr(e.members,t.members)),t.exports&&(e.exports||(e.exports=Q_.createSymbolTable()),Kr(e.exports,t.exports)),Ur(e,t))}function Kr(n,e){e.forEach(function(e,t){var r=n.get(t);r?(33554432&r.flags||(r=Br(r),n.set(t,r)),jr(r,e)):n.set(t,e)})}function d(e){return 33554432&e.flags?e:(e=tm(e),Gt[e]||(Gt[e]={}))}function v(e){e=em(e);return Wt[e]||(Wt[e]={flags:0})}function P(e){return 32768&e.flags?e.objectFlags:0}function zr(e){return 265===e.kind&&!Q_.isExternalOrCommonJsModule(e)}function $r(e,t,r){if(r){e=e.get(t);if(e){if(Q_.Debug.assert(0==(1&Q_.getCheckFlags(e)),"Should never get an instantiated symbol here."),e.flags&r)return e;if(2097152&e.flags){t=nn(e);if(t===U||t.flags&r)return e}}}}function Jr(e,t){var r,n=Q_.getSourceFileOfNode(e),i=Q_.getSourceFileOfNode(t);if(n!==i)return!!(se&&(n.externalModuleIndicator||i.externalModuleIndicator)||!R.outFile&&!R.out||zc(t)||Q_.isInAmbientContext(e))||!!c(t,e)||(r=l.getSourceFiles(),Q_.indexOf(r,n)<=Q_.indexOf(r,i));if(e.pos<=t.pos){if(176===e.kind)return(n=Q_.getAncestor(t,176))?Q_.findAncestor(n,Q_.isBindingElement)!==Q_.findAncestor(e,Q_.isBindingElement)||e.pos<n.pos:Jr(Q_.getAncestor(e,226),t);if(226!==e.kind)return!0;var a=e,s=t,o=Q_.getEnclosingBlockScopeContainer(a);switch(a.parent.parent.kind){case 208:case 214:case 216:if(Wr(s,a,o))return!1}return!(Q_.isForInOrOfStatement(a.parent.parent)&&Wr(s,a.parent.parent.expression,o))}return!!(246===t.parent.kind||243===t.parent.kind&&t.parent.isExportEquals)||!(243!==t.kind||!t.isExportEquals)||(r=Q_.getEnclosingBlockScopeContainer(e),zc(t))||c(t,e,r);function c(r,n,i){return!!Q_.findAncestor(r,function(e){if(e===i)return"quit";if(Q_.isFunctionLike(e))return!0;var t=e.parent&&149===e.parent.kind&&e.parent.initializer===e;if(t)if(Q_.hasModifier(e.parent,32)){if(151===n.kind)return!0}else if(!(149===n.kind&&!Q_.hasModifier(n,32))||Q_.getContainingClass(r)!==Q_.getContainingClass(n))return!0})}}function qr(e,t,r,n,i,a,s){return Vr(e,t,r,n,i,a,$r,s)}function Vr(e,t,r,n,i,a,s,o){var c,l,u,d,p,f,_=e,m=e,g=!1;e:for(;e;){if(e.locals&&!zr(e)&&(c=s(e.locals,t,r))){var h=!0;if(h=Q_.isFunctionLike(e)&&l&&l!==e.body&&(r&c.flags&793064&&275!==l.kind&&(h=!!(262144&c.flags)&&(l===e.type||146===l.kind||145===l.kind)),107455&r)&&1&c.flags?146===l.kind||l===e.type&&146===c.valueDeclaration.kind:h)break;c=void 0}switch(e.kind){case 265:if(!Q_.isExternalOrCommonJsModule(e))break;g=!0;case 233:var y=H(e).exports;if(265===e.kind||Q_.isAmbientModule(e)){if(c=y.get("default")){var v=Q_.getLocalSymbolForExportDefault(c);if(v&&c.flags&r&&v.escapedName===t)break e;c=void 0}v=y.get(t);if(v&&2097152===v.flags&&Q_.getDeclarationOfKind(v,246))break}if(c=s(y,t,2623475&r))break e;break;case 232:if(c=s(H(e).exports,t,8&r))break e;break;case 149:case 148:Q_.isClassLike(e.parent)&&!Q_.hasModifier(e,32)&&(y=(e=>{for(var e=e.members,t=0,r=e;t<r.length;t++){var n=r[t];if(152===n.kind&&Q_.nodeIsPresent(n.body))return n}})(e.parent))&&y.locals&&s(y.locals,t,107455&r)&&(d=e);break;case 229:case 199:case 230:if(c=s(H(e).members,t,793064&r)){if(!((e,t)=>{for(var r=0,n=e.declarations;r<n.length;r++){var i=n[r];if(145===i.kind&&i.parent===t)return 1}})(c,e)){c=void 0;break}if(l&&Q_.hasModifier(l,32))return void V(m,Q_.Diagnostics.Static_members_cannot_reference_class_type_parameters);break e}if(199===e.kind&&32&r){var b=e.name;if(b&&t===b.escapedText){c=e.symbol;break e}}break;case 201:if(l===e.expression&&85===e.parent.token){b=e.parent.parent;if(Q_.isClassLike(b)&&(c=s(H(b).members,t,793064&r)))return void(n&&V(m,Q_.Diagnostics.Base_class_expressions_cannot_reference_class_type_parameters))}break;case 144:if(x=e.parent.parent,(Q_.isClassLike(x)||230===x.kind)&&(c=s(H(x).members,t,793064&r)))return void V(m,Q_.Diagnostics.A_computed_property_name_cannot_reference_a_type_parameter_from_its_containing_type);break;case 151:case 150:case 152:case 153:case 154:case 228:case 187:if(3&r&&"arguments"===t){c=Ye;break e}break;case 186:if(3&r&&"arguments"===t){c=Ye;break e}if(16&r){var x=e.name;if(x&&t===x.escapedText){c=e.symbol;break e}}break;case 147:(e=e.parent&&146===e.parent.kind?e.parent:e).parent&&Q_.isClassElement(e.parent)&&(e=e.parent)}207!==e.kind&&(u=e),e=(l=e).parent}if(a&&c&&n&&k&&c!==u.symbol&&(c.isReferenced=!0),!c){if(l&&(Q_.Debug.assert(265===l.kind),l.commonJsModuleIndicator)&&"exports"===t)return l.symbol;c=s(Lt,t,r)}if(c){if(n){if(d)return a=d.name,void V(m,Q_.Diagnostics.Initializer_of_instance_member_variable_0_cannot_reference_identifier_1_declared_in_the_constructor,Q_.declarationNameToString(a),Hr(i));m&&(2&r||(32&r||384&r)&&107455==(107455&r))&&(2&(a=Sn(c)).flags||32&a.flags||384&a.flags)&&(a=a,p=m,Q_.Debug.assert(!!(2&a.flags||32&a.flags||384&a.flags)),f=Q_.forEach(a.declarations,function(e){return Q_.isBlockOrCatchScoped(e)||Q_.isClassLike(e)||232===e.kind?e:void 0}),Q_.Debug.assert(void 0!==f,"Declaration to checkResolvedBlockScopedVariable is undefined"),Q_.isInAmbientContext(f)||Jr(f,p)||(2&a.flags?V(p,Q_.Diagnostics.Block_scoped_variable_0_used_before_its_declaration,Q_.declarationNameToString(Q_.getNameOfDeclaration(f))):32&a.flags?V(p,Q_.Diagnostics.Class_0_used_before_its_declaration,Q_.declarationNameToString(Q_.getNameOfDeclaration(f))):256&a.flags&&V(p,Q_.Diagnostics.Enum_0_used_before_its_declaration,Q_.declarationNameToString(Q_.getNameOfDeclaration(f))))),c&&g&&107455==(107455&r)&&(a=c.declarations)&&1===a.length&&236===a[0].kind&&V(m,Q_.Diagnostics._0_refers_to_a_UMD_global_but_the_current_file_is_a_module_Consider_adding_an_import_instead,Q_.unescapeLeadingUnderscores(t))}return c}!n||m&&(((e,t,r)=>{if(!(71===e.kind&&Jf(e)||zc(e)))for(var n=Q_.getThisContainer(e,!0),i=n;i;){if(Q_.isClassLike(i.parent)){var a=H(i.parent);if(!a)break;if(O(Q(a),t))return V(e,Q_.Diagnostics.Cannot_find_name_0_Did_you_mean_the_static_member_1_0,Hr(r),G(a)),1;if(i===n&&!Q_.hasModifier(i,32))if(O(Y(a).thisType,t))return V(e,Q_.Diagnostics.Cannot_find_name_0_Did_you_mean_the_instance_member_this_0,Hr(r)),1}i=i.parent}})(m,t,i)||Gr(m)||((e,t,r)=>{if(1920===r){var r=rn(qr(e,t,792640,void 0,void 0,!1)),n=e.parent;if(r){if(Q_.isQualifiedName(n)){Q_.Debug.assert(n.left===e,"Should only be resolving left side of qualified name as a namespace");var i=n.right.escapedText;if(O(Y(r),i))return V(n,Q_.Diagnostics.Cannot_access_0_1_because_0_is_a_type_but_not_a_namespace_Did_you_mean_to_retrieve_the_type_of_the_property_1_in_0_with_0_1,Q_.unescapeLeadingUnderscores(t),Q_.unescapeLeadingUnderscores(i)),1}return V(e,Q_.Diagnostics._0_only_refers_to_a_type_but_is_being_used_as_a_namespace_here,Q_.unescapeLeadingUnderscores(t)),1}}})(m,t,r)||((e,t,r)=>{if(107455&r){if("any"===t||"string"===t||"number"===t||"boolean"===t||"never"===t)return V(e,Q_.Diagnostics._0_only_refers_to_a_type_but_is_being_used_as_a_value_here,Q_.unescapeLeadingUnderscores(t)),1;r=rn(qr(e,t,792640,void 0,void 0,!1));if(r&&!(1024&r.flags))return V(e,Q_.Diagnostics._0_only_refers_to_a_type_but_is_being_used_as_a_value_here,Q_.unescapeLeadingUnderscores(t)),1}})(m,t,r)||((e,t,r)=>{if(107031&r){if(rn(qr(e,t,1024,void 0,void 0,!1)))return V(e,Q_.Diagnostics.Cannot_use_namespace_0_as_a_value,Q_.unescapeLeadingUnderscores(t)),1}else if(792640&r)if(rn(qr(e,t,1024,void 0,void 0,!1)))return V(e,Q_.Diagnostics.Cannot_use_namespace_0_as_a_type,Q_.unescapeLeadingUnderscores(t)),1})(m,t,r))||(p=void 0,o&&qt<Vt&&(p=Ku(_,t,r))&&V(m,o,Hr(i),p),p||V(m,n,Hr(i)),qt++)}function Hr(e){return Q_.isString(e)?Q_.unescapeLeadingUnderscores(e):Q_.declarationNameToString(e)}function Gr(e){var t=function e(t){switch(t.kind){case 71:case 179:return t.parent?e(t.parent):void 0;case 201:if(Q_.isEntityNameExpression(t.expression))return t.expression;default:return}}(e),r=!(!t||!ln(t,64,!0));return r&&V(e,Q_.Diagnostics.Cannot_extend_an_interface_0_Did_you_mean_implements,Q_.getTextOfNode(t)),r}function Wr(e,t,r){return t&&!!Q_.findAncestor(e,function(e){return e===r||Q_.isFunctionLike(e)?"quit":e===t})}function Qr(e){switch(e.kind){case 237:return e;case 239:return e.parent;case 240:return e.parent.parent;case 242:return e.parent.parent.parent;default:return}}function Yr(e){return Q_.find(e.declarations,Q_.isAliasSymbolDeclaration)}function Xr(e,t,r){var n,i,a=un(e,e.moduleSpecifier),e=_n(a,e.moduleSpecifier,r);if(e){var s,t=t.propertyName||t.name;if(t.escapedText)return Q_.isShorthandAmbientModuleSymbol(a)?a:(s=void 0,s=a&&a.exports&&a.exports.get("export=")?O(Q(e),t.escapedText):((e,t)=>{if(3&e.flags){e=e.valueDeclaration.type;if(e)return rn(O(re(e),t))}})(e,t.escapedText),s=rn(s,r),(r=(e=!(e=((e,t,r)=>{if(1536&e.flags)return rn(yn(e).get(t),r)})(e,t.escapedText,r))&&f&&"default"===t.escapedText?fn(a,r)||rn(a,r):e)&&s?(r=e,(n=s)===U&&r===U?U:794600&n.flags?n:((i=Rr(n.flags|r.flags,n.escapedName)).declarations=Q_.concatenate(n.declarations,r.declarations),i.parent=n.parent||r.parent,n.valueDeclaration&&(i.valueDeclaration=n.valueDeclaration),r.members&&(i.members=r.members),n.exports&&(i.exports=n.exports),i)):e||s)||V(t,Q_.Diagnostics.Module_0_has_no_exported_member_1,cn(a),Q_.declarationNameToString(t)),r)}}function Zr(e,t,r){return e.parent.parent.moduleSpecifier?Xr(e.parent.parent,e,r):ln(e.propertyName||e.name,t,!1,r)}function en(e,t){switch(e.kind){case 237:return n=t,248===(r=e).moduleReference.kind?fn(un(r,Q_.getExternalModuleImportEqualsDeclarationExpression(r))):on(r.moduleReference,n);case 239:var r=e,n=t,i=un(r,r.parent.moduleSpecifier);if(i){var a=void 0;if((a=Q_.isShorthandAmbientModuleSymbol(i)?i:(s=i.exports.get("export="))?O(Q(s),"default"):rn(i.exports.get("default"),n))||f){if(!a&&f)return fn(i,n)||rn(i,n)}else V(r.name,Q_.Diagnostics.Module_0_has_no_default_export,G(i));return a}return;case 240:return s=t,i=e.parent.parent.moduleSpecifier,_n(un(e,i),i,s);case 242:return Xr(e.parent.parent.parent,e,t);case 246:return Zr(e,901119,t);case 243:return ln(e.expression,901119,!1,t);case 236:return fn(e.parent.symbol,t)}var s,r,n}function tn(e,t){return void 0===t&&(t=901119),e&&2097152==(e.flags&(2097152|t))}function rn(e,t){return!t&&tn(e)?nn(e):e}function nn(e){Q_.Debug.assert(0!=(2097152&e.flags),"Should only get Alias here.");var t,r,n=d(e);return n.target?n.target===at&&(n.target=U):(n.target=at,t=Yr(e),Q_.Debug.assert(!!t),r=en(t),n.target===at?n.target=r||U:V(t,Q_.Diagnostics.Circular_definition_of_import_alias_0,G(e))),n.target}function an(e){var e=H(e),t=nn(e);t&&(t===U||107455&t.flags&&!c_(t))&&sn(e)}function sn(e){var t=d(e);t.referenced||(t.referenced=!0,t=Yr(e),Q_.Debug.assert(!!t),243===t.kind?tp(t.expression):246===t.kind?tp(t.propertyName||t.name):Q_.isInternalModuleImportEqualsDeclaration(t)&&tp(t.moduleReference))}function on(e,t){return 71===(e=71===e.kind&&Q_.isRightSideOfQualifiedNameOrPropertyAccess(e)?e.parent:e).kind||143===e.parent.kind?ln(e,1920,!1,t):(Q_.Debug.assert(237===e.parent.kind),ln(e,901119,!1,t))}function cn(e){return e.parent?cn(e.parent)+"."+G(e):G(e)}function ln(e,t,r,n,i){if(!Q_.nodeIsMissing(e)){if(71===e.kind){var a=1920===t?Q_.Diagnostics.Cannot_find_namespace_0:Q_.Diagnostics.Cannot_find_name_0;if(!(a=qr(i||e,e.escapedText,t,r?void 0:a,e,!0)))return}else if(143===e.kind||179===e.kind){var s=void 0;if(143===e.kind)s=e.left;else{if(179!==e.kind||185!==e.expression.kind&&!Q_.isEntityNameExpression(e.expression))return;s=e.expression}var o=143===e.kind?e.right:e.name,s=ln(s,1920,r,!1,i);if(!s||Q_.nodeIsMissing(o))return;if(s===U)return s;if(!(a=$r(yn(s),o.escapedText,t)))return void(r||V(o,Q_.Diagnostics.Namespace_0_has_no_exported_member_1,cn(s),Q_.declarationNameToString(o)))}else{if(185===e.kind)return Q_.isEntityNameExpression(e.expression)?ln(e.expression,t,r,n,i):void 0;Q_.Debug.assertNever(e,"Unknown entity name kind.")}return Q_.Debug.assert(0==(1&Q_.getCheckFlags(a)),"Should never get an instantiated symbol here."),a.flags&t||n?a:nn(a)}}function un(e,t){return dn(e,t,Q_.Diagnostics.Cannot_find_module_0)}function dn(e,t,r,n){if(void 0===n&&(n=!1),9===t.kind||13===t.kind)return pn(e,t.text,r,t,n)}function pn(e,t,r,n,i){if(void 0===i&&(i=!1),void 0!==t){Q_.startsWith(t,"@types/")&&V(n,Q_.Diagnostics.Cannot_import_type_declaration_files_Consider_importing_0_instead_of_1,Q_.removePrefix(t,"@types/"),t);var a=La(t,!0);if(a)return a;var a=Q_.getResolvedModule(Q_.getSourceFileOfNode(e),t),e=a&&Q_.getResolutionDiagnostic(R,a),s=a&&!e&&l.getSourceFile(a.resolvedFileName);if(s)return s.symbol?xn(s.symbol):void(r&&V(n,Q_.Diagnostics.File_0_is_not_a_module,s.fileName));if(fe){var s=Q_.findBestPatternMatch(fe,function(e){return e.pattern},t);if(s)return xn(s.symbol)}a&&!Q_.extensionIsTypeScript(a.extension)&&void 0===e||e===Q_.Diagnostics.Could_not_find_a_declaration_file_for_module_0_1_implicitly_has_an_any_type?i?V(n,Q_.Diagnostics.Invalid_module_name_in_augmentation_Module_0_resolves_to_an_untyped_module_at_1_which_cannot_be_augmented,t,a.resolvedFileName):h&&r&&(s=a.isExternalLibraryImport?Q_.chainDiagnosticMessages(void 0,Q_.Diagnostics.Try_npm_install_types_Slash_0_if_it_exists_or_add_a_new_declaration_d_ts_file_containing_declare_module_0,t):void 0,s=Q_.chainDiagnosticMessages(s,Q_.Diagnostics.Could_not_find_a_declaration_file_for_module_0_1_implicitly_has_an_any_type,t,a.resolvedFileName),ar.add(Q_.createDiagnosticForNodeFromMessageChain(n,s))):r&&(e?V(n,e,t,a.resolvedFileName):(i=Q_.tryExtractTypeScriptExtension(t))?V(n,Q_.Diagnostics.An_import_path_cannot_end_with_a_0_extension_Consider_importing_1_instead,i,Q_.removeExtension(t,i)):V(n,r,t))}}function fn(e,t){return e&&xn(rn(e.exports.get("export="),t))||e}function _n(e,t,r){var n=fn(e,r);return r||!n||1539&n.flags||V(t,Q_.Diagnostics.Module_0_resolves_to_a_non_module_entity_and_cannot_be_imported_using_this_construct,G(e)),n}function mn(e){return void 0!==e.exports.get("export=")}function gn(e){return Oa(vn(e))}function hn(e,t){t=vn(t);if(t)return t.get(e)}function yn(e){return 1536&e.flags?vn(e):e.exports||_}function vn(e){var l,t=d(e);return t.resolvedExports||(t.resolvedExports=(l=[],function e(t){if(!(t&&1952&t.flags&&Q_.pushIfUnique(l,t)))return;var a=Q_.cloneMap(t.exports);t=t.exports.get("__export");if(t){for(var r=Q_.createSymbolTable(),s=Q_.createMap(),n=0,i=t.declarations;n<i.length;n++){var o=i[n],c=un(o,o.moduleSpecifier),c=e(c);bn(r,c,s,o)}s.forEach(function(e,t){e=e.exportsWithDuplicate;if("export="!==t&&e&&e.length&&!a.has(t))for(var r=0,n=e;r<n.length;r++){var i=n[r];ar.add(Q_.createDiagnosticForNode(i,Q_.Diagnostics.Module_0_has_already_exported_a_member_named_1_Consider_explicitly_re_exporting_to_resolve_the_ambiguity,s.get(t).specifierText,Q_.unescapeLeadingUnderscores(t)))}}),bn(a,r)}return a}(fn(e))||_))}function bn(n,e,i,a){e&&e.forEach(function(e,t){var r;"default"!==t&&((r=n.get(t))?i&&a&&r&&rn(r)!==rn(e)&&((r=i.get(t)).exportsWithDuplicate?r.exportsWithDuplicate.push(a):r.exportsWithDuplicate=[a]):(n.set(t,e),i&&a&&i.set(t,{specifierText:Q_.getTextOfNode(a.moduleSpecifier)})))})}function xn(e){var t;return e&&e.mergeId&&(t=Ht[e.mergeId])?t:e}function H(e){return xn(e.symbol)}function kn(e){return xn(e.parent)}function Sn(e){return e&&0!=(1048576&e.flags)?xn(e.exportSymbol):e}function Tn(e){return 107455&e.flags||2097152&e.flags&&107455&nn(e).flags}function Cn(e){e=new t(Xe,e);return n++,e.id=n,e}function En(e,t){e=Cn(e);return e.intrinsicName=t,e}function Dn(e,t){var r=Cn(32768);return r.objectFlags=e,r.symbol=t,r}function An(e){return 95===e.charCodeAt(0)&&95===e.charCodeAt(1)&&95!==e.charCodeAt(2)&&64!==e.charCodeAt(2)}function wn(e){var r;return e.forEach(function(e,t){An(t)||(r=r||[],Tn(e)&&r.push(e))}),r||Q_.emptyArray}function Nn(e,t,r,n,i,a){return e.members=t,e.properties=wn(t),e.callSignatures=r,e.constructSignatures=n,i&&(e.stringIndexInfo=i),a&&(e.numberIndexInfo=a),e}function In(e,t,r,n,i,a){return Nn(Dn(16,e),t,r,n,i,a)}function Pn(e,t){for(var r,n=e;n;n=n.parent){if(n.locals&&!zr(n)&&(r=t(n.locals)))return r;switch(n.kind){case 265:if(!Q_.isExternalOrCommonJsModule(n))break;case 233:if(r=t(H(n).exports))return r}}return t(Lt)}function On(e){return 107455===e?107455:1920}function Fn(r,n,i,a){var t;if(r&&!(e=>{if(e.declarations&&e.declarations.length){for(var t=0,r=e.declarations;t<r.length;t++)switch(r[t].kind){case 149:case 151:case 153:case 154:continue;default:return}return 1}})(r))return t=[],Pn(n,s);function s(e){if(Q_.pushIfUnique(t,e))return e=(e=>c(e.get(r.escapedName))?[r]:Q_.forEachEntry(e,function(e){var t;if(2097152&e.flags&&"export="!==e.escapedName&&!Q_.getDeclarationOfKind(e,246)&&!((t=e)&&t.declarations&&t.declarations[0]&&Q_.isNamespaceExportDeclaration(t.declarations[0])&&n&&Q_.isExternalModule(Q_.getSourceFileOfNode(n)))&&(!a||Q_.some(e.declarations,Q_.isExternalModuleImportEqualsDeclaration)))return c(e,t=nn(e))?[e]:(t=t.exports?s(t.exports):void 0)&&o(e,On(i))?[e].concat(t):void 0}))(e),t.pop(),e}function o(e,t){return!Ln(e,n,t)||!!Fn(e.parent,n,On(t),a)}function c(e,t){return r===(t||e)&&!Q_.some(e.declarations,Un)&&o(e,i)}}function Ln(t,e,r){var n=!1;return Pn(e,function(e){e=e.get(t.escapedName);return!!e&&(e===t||!!((2097152&e.flags&&!Q_.getDeclarationOfKind(e,246)?nn(e):e).flags&r)&&(n=!0))}),n}function Rn(e,t){return 0===Mn(e,t,793064,!1).accessibility}function Mn(e,t,r,n){if(!e||!t||262144&e.flags)return{accessibility:0};for(var i=e,a=r;e;){var s=Fn(e,t,a,!1);if(s)return Bn(s[0],n)||{accessibility:1,errorSymbolName:G(i,t,r),errorModuleName:e!==i?G(e,t,1920):void 0};a=On(r),e=kn(e)}var o=Q_.forEach(i.declarations,c);if(o&&o!==c(t))return{accessibility:2,errorSymbolName:G(i,t,r),errorModuleName:G(o)};return{accessibility:1,errorSymbolName:G(i,t,r)};function c(e){e=Q_.findAncestor(e,Un);return e&&H(e)}}function Un(e){return Q_.isAmbientModule(e)||265===e.kind&&Q_.isExternalOrCommonJsModule(e)}function Bn(e,r){var n;if(!Q_.forEach(e.declarations,function(e){var t;return!(Yn(e)||(t=Qr(e))&&!Q_.hasModifier(t,1)&&Yn(t.parent)&&(r&&(v(e).isVisible=!0,n=Q_.appendIfUnique(n,t)),1))}))return{accessibility:0,aliasesToMakeVisible:n}}function jn(e,t){var r=162===e.parent.kind||Q_.isExpressionWithTypeArgumentsInClassExtendsClause(e.parent)?1156031:143===e.kind||179===e.kind||237===e.parent.kind?1920:793064,e=wf(e),t=qr(t,e.escapedText,r,void 0,void 0,!1);return t&&Bn(t,!0)||{accessibility:1,errorSymbolName:Q_.getTextOfNode(e),errorNode:e}}function Kn(e,t){e.writeKeyword(Q_.tokenToString(t))}function A(e,t){e.writePunctuation(Q_.tokenToString(t))}function w(e){e.writeSpace(" ")}function G(t,r,n){return Q_.usingSingleLineStringWriter(function(e){Qn().buildSymbolDisplay(t,e,r,n)})}function zn(t,r,n,i){return Q_.usingSingleLineStringWriter(function(e){Qn().buildSignatureDisplay(t,e,r,n,i)})}function W(e,t,r){var e=g.typeToTypeNode(e,t,(e=r,n=Q_.NodeBuilderFlags.None,e&&(8&e&&(n|=Q_.NodeBuilderFlags.NoTruncation),256&e&&(n|=Q_.NodeBuilderFlags.UseFullyQualifiedType),4096&e&&(n|=Q_.NodeBuilderFlags.SuppressAnyReturnType),1&e&&(n|=Q_.NodeBuilderFlags.WriteArrayAsGenericType),64&e)&&(n|=Q_.NodeBuilderFlags.WriteTypeArgumentsOfSignature),n|Q_.NodeBuilderFlags.IgnoreErrors|Q_.NodeBuilderFlags.WriteTypeParametersInQualifiedName)),n=(Q_.Debug.assert(void 0!==e,"should always get typenode"),Q_.createTextWriter("")),i=Q_.createPrinter({removeComments:!0}),t=t&&Q_.getSourceFileOfNode(t),i=(i.writeNode(4,e,t,n),n.getText()),e=R.noErrorTruncation||8&r?void 0:100;return e&&i.length>=e?i.substr(0,e-"...".length)+"...":i}function $n(t,r,n){return Q_.usingSingleLineStringWriter(function(e){Qn().buildTypePredicateDisplay(t,e,r,n)})}function Jn(e){for(var t=[],r=0,n=0;n<e.length;n++){var i=e[n];if(r|=i.flags,!(6144&i.flags)){if(384&i.flags){var a=128&i.flags?_t:Ki(i);if(65536&a.flags){var s=a.types.length;if(n+s<=e.length&&e[n+s-1]===a.types[s-1]){t.push(a),n+=s-1;continue}}}t.push(i)}}return 4096&r&&t.push(lt),2048&r&&t.push(ot),t||e}function qn(e){return 8===e?"private":16===e?"protected":"public"}function Vn(e){if(e.symbol&&2048&e.symbol.flags){e=Q_.findAncestor(e.symbol.declarations[0].parent,function(e){return 168!==e.kind});if(231===e.kind)return H(e)}}function Hn(e){return e&&e.parent&&234===e.parent.kind&&Q_.isExternalModuleAugmentation(e.parent.parent)}function Gn(e){return 32&e.flags?'"'+Q_.escapeString(e.value)+'"':""+e.value}function Wn(e,t){if(e.declarations&&e.declarations.length){var r=e.declarations[0],n=Q_.getNameOfDeclaration(r);if(n)return Q_.declarationNameToString(n);if(r.parent&&226===r.parent.kind)return Q_.declarationNameToString(r.parent.name);switch(!t||t.encounteredError||t.flags&Q_.NodeBuilderFlags.AllowAnonymousIdentifier||(t.encounteredError=!0),r.kind){case 199:return"(Anonymous class)";case 186:case 187:return"(Anonymous function)"}}if(e.syntheticLiteralTypeOrigin){n=e.syntheticLiteralTypeOrigin.value;if(!Q_.isIdentifierText(n,R.target))return'"'+Q_.escapeString(n,34)+'"'}return Q_.symbolName(e)}function Qn(){function T(e,t){t.writeSymbol(Wn(e),e)}function C(e,a,c,t,l,r){var u;function d(e){var t,r,n,i;u?(1&l&&(1&Q_.getCheckFlags(e)?f(wi(2097152&u.flags?nn(u):u),e.mapper,a,c):o(u,a,c)),r=a,n=Wn(t=e),i=n.charCodeAt(0),!Q_.isIdentifierStart(i,J)?(A(r,21),Q_.isSingleOrDoubleQuote(i)?r.writeStringLiteral(n):r.writeSymbol(n,t),A(r,22)):(A(r,23),r.writeSymbol(n,t))):T(e,a),u=e}a.trackSymbol(e,c,t),262144&e.flags||!c&&!(256&r)?d(e):function e(t,r,n){var i,a=Fn(t,c,r,!!(2&l));if(a&&!Ln(a[0],c,1===a.length?r:On(r))||(i=kn(a?a[0]:t))&&e(i,On(r),!1),a)for(var s=0,o=a;s<o.length;s++)d(o[s]);else!n&&(!u&&Q_.forEach(t.declarations,Un)||6144&t.flags)||d(t)}(e,t,!0)}function s(e,g,h,y,v){var b=16416&y,x=!1;return k(e,y);function k(e,t){var r,n=-1025&t;if(16793231&e.flags)g.writeKeyword(32&y||!N(e)?e.intrinsicName:"any");else if(16384&e.flags&&e.isThisType)x&&g.reportInaccessibleThisError(),g.writeKeyword("this");else if(4&P(e)){var i=e,a=n,s=i.typeArguments||Q_.emptyArray;if(i.target!==ge||1&a)if(8&i.target.objectFlags)A(g,21),f(i.typeArguments.slice(0,as(i)),26),A(g,22);else if(16384&a&&i.symbol.valueDeclaration&&199===i.symbol.valueDeclaration.kind)m(i,a);else{var o=i.target.outerTypeParameters,c=0;if(o)for(var l=o.length;c<l;){for(var u=c,d=es(o[c]);++c<l&&es(o[c])===d;);Q_.rangeEquals(o,s,u,c)||(_(d,s,u,c,a),A(g,23))}var p=(i.target.typeParameters||Q_.emptyArray).length;_(i.symbol,s,c,p,a)}else k(s[0],32896),A(g,21),A(g,22)}else 256&e.flags&&!(65536&e.flags)?(C(i=kn(e.symbol),g,h,793064,0,n),Y(i)!==e&&(A(g,23),T(e.symbol,g))):3&P(e)||16656&e.flags?C(e.symbol,g,h,793064,0,n):1024&t||!e.aliasSymbol||!(65536&t||Rn(e.aliasSymbol,h))?196608&e.flags?(p=e,128&(r=n)&&A(g,19),65536&p.flags?f(Jn(p.types),49):f(p.types,48),128&r&&A(g,20)):48&P(e)?m(e,n):96&e.flags?g.writeStringLiteral(Gn(e)):262144&e.flags?(128&t&&A(g,19),g.writeKeyword("keyof"),w(g),k(e.type,128),128&t&&A(g,20)):524288&e.flags?(k(e.objectType,128),A(g,21),k(e.indexType,0),A(g,22)):(A(g,17),w(g),A(g,24),w(g),A(g,18)):(r=e.aliasTypeArguments,_(e.aliasSymbol,r,0,Q_.length(r),n))}function f(e,t){for(var r=0;r<e.length;r++)0<r&&(26!==t&&w(g),A(g,t),w(g)),k(e[r],26===t?0:128)}function _(e,t,r,n,i){if((32&e.flags||!An(e.escapedName))&&C(e,g,h,793064,0,i),r<n){for(A(g,27),k(t[r],512),r++;r<n;)A(g,26),w(g),k(t[r],0),r++;A(g,29)}}function m(e,r){var t,n=e.symbol;n?32&n.flags&&!bi(n)&&!(199===n.valueDeclaration.kind&&16384&r)||896&n.flags||(()=>{var e=!!(8192&n.flags)&&Q_.some(n.declarations,function(e){return Q_.hasModifier(e,32)}),t=!!(16&n.flags)&&(n.parent||Q_.some(n.declarations,function(e){return 265===e.parent.kind||234===e.parent.kind}));return(e||t)&&(4&r||Q_.contains(v,n))})()?i(e,r):Q_.contains(v,n)?(t=Vn(e))?C(t,g,h,793064,0,r):Kn(g,119):(v=v||[],16&e.objectFlags&&e.symbol&&32&e.symbol.flags?a(e,r):(v.push(n),a(e,r),v.pop())):a(e,r)}function i(e,t){32768&t&&A(g,19),Kn(g,103),w(g),C(e.symbol,g,h,107455,0,t),32768&t&&A(g,20)}function S(e){Ud(e)&&(Kn(g,131),w(g)),C(e,g),16777216&e.flags&&A(g,55)}function a(e,t){if(_a(e))r=e,A(g,17),g.writeLine(),g.increaseIndent(),r.declaration.readonlyToken&&(Kn(g,131),w(g)),A(g,21),T(da(r).symbol,g),w(g),Kn(g,92),w(g),k(pa(r),0),A(g,22),r.declaration.questionToken&&A(g,55),A(g,56),w(g),k(fa(r),0),A(g,25),g.writeLine(),g.decreaseIndent(),A(g,18);else{var r=ma(e);if(!r.properties.length&&!r.stringIndexInfo&&!r.numberIndexInfo){if(!r.callSignatures.length&&!r.constructSignatures.length)return A(g,17),void A(g,18);if(1===r.callSignatures.length&&!r.constructSignatures.length)return e=r.callSignatures[0],(e=!!(128&(n=t))||!!(512&n)&&(n=(e.target&&64&n?e.target:e).typeParameters)&&0!==n.length)&&A(g,19),E(r.callSignatures[0],g,h,16|b,void 0,v),void(e&&A(g,20));if(1===r.constructSignatures.length&&!r.callSignatures.length)return 128&t&&A(g,19),Kn(g,94),w(g),E(r.constructSignatures[0],g,h,16|b,void 0,v),void(128&t&&A(g,20))}for(var n=x,e=(x=!0,A(g,17),g.writeLine(),g.increaseIndent(),r),i=0,a=e.callSignatures;i<a.length;i++)E(m=a[i],g,h,b,void 0,v),A(g,25),g.writeLine();for(var s=0,o=e.constructSignatures;s<o.length;s++)E(m=o[s],g,h,b,1,v),A(g,25),g.writeLine();D(e.stringIndexInfo,g,0,h,y,v),D(e.numberIndexInfo,g,1,h,y,v);for(var c=0,l=e.properties;c<l.length;c++){var u=l[c];if(16384&y){if(4194304&u.flags)continue;24&Q_.getDeclarationModifierFlagsFromSymbol(u)&&g.reportPrivateInBaseOfClassExpression(Q_.symbolName(u))}var d=Q(u);if(8208&u.flags&&!ga(d).length)for(var p=ee(d,0),f=0,_=p;f<_.length;f++){var m=_[f];S(u),E(m,g,h,b,void 0,v),A(g,25),g.writeLine()}else S(u),A(g,56),w(g),k(d,16384&y),A(g,25),g.writeLine()}g.decreaseIndent(),A(g,18),x=n}}}function o(e,t,r,n){var i=kf(e);(32&i.flags||64&i.flags||524288&i.flags)&&d(Ai(e),t,r,n)}function a(e,t,r,n,i){T(e.symbol,t);var a=ya(e),a=(a&&(w(t),Kn(t,85),w(t),s(a,t,r,n,i)),Ta(e));a&&(w(t),A(t,58),w(t),s(a,t,r,n,i))}function c(e,t,r,n,i){var a=e.valueDeclaration,e=((a?Q_.isRestParameter(a):Mr(e)&&e.isRestParameter)&&A(t,24),a&&Q_.isBindingPattern(a.name)?l(a.name,t,r,n,i):T(e,t),a&&Ra(a)&&A(t,55),A(t,56),w(t),Q(e));s(e=a&&u_(a)?yc(e,2048):e,t,r,n,i)}function l(e,t,r,n,i){174===e.kind?(A(t,17),p(e.elements,t,function(e){u(e,t,r,n,i)}),A(t,18)):175===e.kind&&(A(t,21),p(e=e.elements,t,function(e){u(e,t,r,n,i)}),e&&e.hasTrailingComma&&A(t,26),A(t,22))}function u(e,t,r,n,i){Q_.isOmittedExpression(e)||(Q_.Debug.assert(176===e.kind),e.propertyName&&(t.writeProperty(Q_.getTextOfNode(e.propertyName)),A(t,56),w(t)),Q_.isBindingPattern(e.name)?l(e.name,t,r,n,i):(e.dotDotDotToken&&A(t,24),T(e.symbol,t)))}function d(e,t,r,n,i){e&&e.length&&(A(t,27),p(e,t,function(e){a(e,t,r,n,i)}),A(t,29))}function p(e,t,r){for(var n=0;n<e.length;n++)0<n&&(A(t,26),w(t)),r(e[n])}function f(e,t,r,n){if(e&&e.length){A(r,27);for(var i=512,a=0;a<e.length;a++)0<a&&(A(r,26),w(r),i=0),s(t(e[a]),r,n,i);A(r,29)}}function _(e,t,r,n,i,a){A(r,19),e&&c(e,r,n,i,a);for(var s=0;s<t.length;s++)(0<s||e)&&(A(r,26),w(r)),c(t[s],r,n,i,a);A(r,20)}function m(e,t,r,n,i){Q_.isIdentifierTypePredicate(e)?t.writeParameter(e.parameterName):Kn(t,99),w(t),Kn(t,126),w(t),s(e.type,t,r,n,i)}function g(e,t,r,n,i){var a=te(e);4096&n&&N(a)||(16&n?(w(t),A(t,36)):A(t,56),w(t),e.typePredicate?m(e.typePredicate,t,r,n,i):s(a,t,r,n,i))}function E(e,t,r,n,i,a){1===i&&(Kn(t,94),w(t)),e.target&&64&n?f(e.target.typeParameters,e.mapper,t,r):d(e.typeParameters,t,r,n,a),_(e.thisParameter,e.parameters,t,r,n,a),g(e,t,r,n,a)}function D(e,t,r,n,i,a){if(e){switch(e.isReadonly&&(Kn(t,131),w(t)),A(t,21),t.writeParameter(e.declaration?Q_.declarationNameToString(e.declaration.parameters[0].name):"x"),A(t,56),w(t),r){case 1:Kn(t,133);break;case 0:Kn(t,136)}A(t,22),A(t,56),w(t),s(e.type,t,n,i,a),A(t,25),t.writeLine()}}return Ge=Ge||{buildSymbolDisplay:C,buildTypeDisplay:s,buildTypeParameterDisplay:a,buildTypePredicateDisplay:m,buildParameterDisplay:c,buildDisplayForParametersAndDelimiters:_,buildDisplayForTypeParametersAndDelimiters:d,buildTypeParameterDisplayFromSymbol:o,buildSignatureDisplay:E,buildIndexSignatureDisplay:D,buildReturnTypeDisplay:g}}function Yn(t){var e;return!!t&&(void 0===(e=v(t)).isVisible&&(e.isVisible=!!(()=>{switch(t.kind){case 176:return Yn(t.parent.parent);case 226:if(Q_.isBindingPattern(t.name)&&!t.name.elements.length)return;case 233:case 229:case 230:case 231:case 228:case 232:case 237:var e;return Q_.isExternalModuleAugmentation(t)?1:(e=ri(t),(1&Q_.getCombinedModifierFlags(t)||237!==t.kind&&265!==e.kind&&Q_.isInAmbientContext(e)?Yn:zr)(e));case 149:case 148:case 153:case 154:case 151:case 150:if(Q_.hasModifier(t,24))return;case 152:case 156:case 155:case 157:case 146:case 234:case 160:case 161:case 163:case 159:case 164:case 165:case 166:case 167:case 168:return Yn(t.parent);case 239:case 240:case 242:return;case 145:case 265:case 236:return 1;default:return}})()),e.isVisible)}function Xn(e){e.parent&&243===e.parent.kind?t=qr(e.parent,e.escapedText,2998271,Q_.Diagnostics.Cannot_find_name_0,e,!1):246===e.parent.kind&&(t=Zr(e.parent,2998271));var t,n=[];return t&&function r(e){Q_.forEach(e,function(e){v(e).isVisible=!0;var t=Qr(e)||e;Q_.pushIfUnique(n,t),Q_.isInternalModuleImportEqualsDeclaration(e)&&(t=e.moduleReference,t=wf(t),e=qr(e,t.escapedText,901119,void 0,void 0,!1))&&r(e.declarations)})}(t.declarations),n}function Zn(e,t){var r=ei(e,t);if(!(0<=r))return zt.push(e),$t.push(!0),Jt.push(t),1;for(var n=zt.length,i=r;i<n;i++)$t[i]=!1}function ei(e,t){for(var r=zt.length-1;0<=r;r--){if(((e,t)=>0===t?d(e).type:2===t?d(e).declaredType:1===t?e.resolvedBaseConstructorType:3===t?e.resolvedReturnType:void Q_.Debug.fail("Unhandled TypeSystemPropertyName "+t))(zt[r],Jt[r]))return-1;if(zt[r]===e&&Jt[r]===t)return r}return-1}function ti(){return zt.pop(),Jt.pop(),$t.pop()}function ri(e){return(e=Q_.findAncestor(Q_.getRootDeclaration(e),function(e){switch(e.kind){case 226:case 227:case 242:case 241:case 240:case 239:return!1;default:return!0}}))&&e.parent}function ni(e,t){e=O(e,t);return e?Q(e):void 0}function N(e){return e&&0!=(1&e.flags)}function ii(e){var t=H(e);return t&&d(t).type||di(e,!1)}function ai(e){return 144===e.kind&&!Q_.isStringOrNumericLiteral(e.expression)}function si(e,t,r){if(8192&(e=pl(e,function(e){return!(6144&e.flags)})).flags)return I;if(65536&e.flags)return fl(e,function(e){return si(e,t,r)});for(var n=Q_.createSymbolTable(),i=Q_.createUnderscoreEscapedMap(),a=0,s=t;a<s.length;a++){var o=s[a];i.set(Q_.getTextOfPropertyName(o),!0)}for(var c=0,l=X(e);c<l.length;c++){var u=l[c],d=i.has(u.escapedName),p=24&Q_.getDeclarationModifierFlagsFromSymbol(u),f=65536&u.flags&&!(32768&u.flags);d||p||co(u)||f||n.set(u.escapedName,u)}var _=F(e,0),e=F(e,1);return In(r,n,Q_.emptyArray,Q_.emptyArray,_,e)}function oi(e){var t=e.parent,r=ii(t.parent);if(r===q)return q;if(!r)return e.initializer?np(e):r;if(N(r))return r;if(174===t.kind)if(e.dotDotDotToken){if(!_u(r))return V(e,Q_.Diagnostics.Rest_types_may_only_be_created_from_object_types),q;for(var n=[],i=0,a=t.elements;i<a.length;i++){var s=a[i];s.dotDotDotToken||n.push(s.propertyName||s.name)}c=si(r,n,e.symbol)}else{var o=e.propertyName||e.name;if(ai(o))return E;var c,l=Q_.getTextOfPropertyName(o),u=ni(r,l);if(!(c=u&&Dl(e,u)||uu(l)&&Ia(r,1)||Ia(r,0)))return V(o,Q_.Diagnostics.Type_0_has_no_property_1_and_no_string_index_signature,W(r),Q_.declarationNameToString(o)),q}else{u=cf(r,t,!1,!1);if(e.dotDotDotToken)c=Ls(u);else{l=""+Q_.indexOf(t.elements,e);if(!(c=cc(r)?ni(r,l):u))return fc(r)?V(e,Q_.Diagnostics.Tuple_type_0_with_length_1_cannot_be_assigned_to_tuple_with_length_2,W(r),as(r),t.elements.length):V(e,Q_.Diagnostics.Type_0_has_no_property_1,W(r),l),q}}return!M||!e.initializer||2048&mc(tp(e.initializer))||(c=Yc(c,131072)),e.initializer?L([c,tp(e.initializer)],!0):c}function ci(e){e=Q_.getJSDocType(e);if(e)return re(e)}function li(e){e=Q_.skipParentheses(e);return 177===e.kind&&0===e.elements.length}function ui(e,t){return M&&t?yc(e,2048):e}function di(e,t){if(215===e.parent.parent.kind)return 278528&(r=Gs(Lu(e.parent.parent.expression))).flags?r:B;if(216===e.parent.parent.kind)return of((r=e.parent.parent).expression,r.awaitModifier)||E;if(Q_.isBindingPattern(e.parent))return oi(e);var r=Q_.getEffectiveTypeAnnotationNode(e);if(r)return ui(re(r),e.questionToken&&t);if((h||Q_.isInJavaScriptFile(e))&&226===e.kind&&!Q_.isBindingPattern(e.name)&&!(1&Q_.getCombinedModifierFlags(e))&&!Q_.isInAmbientContext(e)){if(!(2&Q_.getCombinedNodeFlags(e)||e.initializer&&(r=e.initializer,95!==(r=Q_.skipParentheses(r)).kind)&&(71!==r.kind||Kc(r)!==Qe)))return st;if(e.initializer&&li(e.initializer))return Te}if(146===e.kind){var n=e.parent;if(154===n.kind&&!Q_.hasDynamicName(n)){var i=Q_.getDeclarationOfKind(e.parent.symbol,153);if(i)return i=ja(i),(a=K_(n))&&e===a?(Q_.Debug.assert(!a.type),Q(i.thisParameter)):te(i)}var a=void 0;if(a="this"===e.symbol.escapedName?Jl(n):ql(e))return ui(a,e.questionToken&&t)}return e.initializer?ui(a=np(e),e.questionToken&&t):Q_.isJsxAttribute(e)?pt:262===e.kind?Fl(e.name):Q_.isBindingPattern(e.name)?fi(e.name,!1,!0):void 0}function pi(e,t,r){return e.initializer?np(e):Q_.isBindingPattern(e.name)?fi(e.name,t,r):(r&&h&&!mi(e)&&Ec(e,E),E)}function fi(e,t,r){return 174===e.kind?(a=e,s=t,o=r,l=Q_.createSymbolTable(),u=!1,Q_.forEach(a.elements,function(e){var t=e.propertyName||e.name;ai(t)?u=!0:e.dotDotDotToken?c=Ya(E,!1):(t=Q_.getTextOfPropertyName(t),(t=Rr(4|(e.initializer?16777216:0),t)).type=pi(e,s,o),t.bindingElement=e,l.set(t.escapedName,t))}),d=In(void 0,l,Q_.emptyArray,Q_.emptyArray,c,void 0),s&&(d.pattern=a),u&&(d.objectFlags|=512),d):(n=t,i=r,d=(a=e).elements,t=Q_.lastOrUndefined(d),0===d.length||!Q_.isOmittedExpression(t)&&t.dotDotDotToken?2<=J?Os(E):Se:(t=Ms(Q_.map(d,function(e){return Q_.isOmittedExpression(e)?E:pi(e,n,i)})),n&&((t=is(t)).pattern=a),t));var n,i,a,s,o,c,l,u,d}function _i(e,t){var r=di(e,!0);return r?(t&&Dc(e,r),261===e.kind?r:Cc(r)):(r=e.dotDotDotToken?Se:E,t&&h&&(mi(e)||Ec(e,r)),r)}function mi(e){e=Q_.getRootDeclaration(e);return xp(146===e.kind?e.parent:e)}function gi(e){var t=d(e);if(!t.type){if(4194304&e.flags)return t.type=(r=Y(kn(r=e))).typeParameters?ns(r,Q_.map(r.typeParameters,function(e){return E})):r;var r=e.valueDeclaration;if(Q_.isCatchClauseVariableDeclarationOrBindingElement(r))return t.type=E;if(243===r.kind)return t.type=K(r.expression);if(Q_.isInJavaScriptFile(r)&&Q_.isJSDocPropertyLikeTag(r)&&r.typeExpression)return t.type=re(r.typeExpression.type);if(!Zn(e,0))return q;var n=void 0,n=194===r.kind||179===r.kind&&194===r.parent.kind?(e=>{for(var t,r=[],n=!1,i=!1,a=0,s=e.declarations;a<s.length;a++){var o=s[a],c=194===o.kind?o:179===o.kind?Q_.getAncestor(o,194):void 0;if(!c)return q;Q_.isPropertyAccessExpression(c.left)&&99===c.left.expression.kind&&(152===Q_.getThisContainer(c,!1).kind?n=!0:i=!0);var l=ci(c.parent);l?(l=Cc(l),t?t===q||l===q||No(t,l)||V(o=Q_.getNameOfDeclaration(o),Q_.Diagnostics.Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_type_2,Q_.declarationNameToString(o),W(t),W(l)):t=l):t||r.push(pc(tp(c.right)))}return Cc(ui(t||L(r,!0),i&&!n))})(e):_i(r,!0);ti()||(n=xi(e)),t.type=n}return t.type}function hi(e){var t;if(e)return 153===e.kind?(t=Q_.getEffectiveReturnTypeNode(e))&&re(t):(t=Q_.getEffectiveSetAccessorTypeAnnotationNode(e))&&re(t)}function yi(e){return za(ja(e))}function vi(e){var t=d(e);if(!t.type){var r=Q_.getDeclarationOfKind(e,153),n=Q_.getDeclarationOfKind(e,154);if(r&&Q_.isInJavaScriptFile(r)){var i=ci(r);if(i)return t.type=i}if(!Zn(e,0))return q;var i=void 0,a=hi(r);i=a||hi(n)||(r&&r.body?Id(r):(h&&(n?V(n,Q_.Diagnostics.Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_parameter_type_annotation,G(e)):(Q_.Debug.assert(!!r,"there must existed getter as we are current checking either setter or getter in this function"),V(r,Q_.Diagnostics.Property_0_implicitly_has_type_any_because_its_get_accessor_lacks_a_return_type_annotation,G(e)))),E)),ti()||(i=E,h&&V(Q_.getDeclarationOfKind(e,153),Q_.Diagnostics._0_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions,G(e))),t.type=i}return t.type}function bi(e){e=Li(Ui(e));return 540672&e.flags?e:void 0}function xi(e){return Q_.getEffectiveTypeAnnotationNode(e.valueDeclaration)?(V(e.valueDeclaration,Q_.Diagnostics._0_is_referenced_directly_or_indirectly_in_its_own_type_annotation,G(e)),q):(h&&V(e.valueDeclaration,Q_.Diagnostics._0_implicitly_has_type_any_because_it_does_not_have_a_type_annotation_and_is_referenced_directly_or_indirectly_in_its_own_initializer,G(e)),E)}function Q(e){if(1&Q_.getCheckFlags(e)){var t=e,r=d(t);if(!r.type)if(100===s)V(t.valueDeclaration,Q_.Diagnostics.Generic_type_instantiation_is_excessively_deep_and_possibly_infinite),r.type=q;else{if(!Zn(t,0))return q;s++;var n=j(Q(r.target),r.mapper);s--,ti()||(n=xi(t)),r.type=n}return r.type}var i,a;return 7&e.flags?gi(e):9136&e.flags?((n=d(t=e)).type||(1536&t.flags&&Q_.isShorthandAmbientModuleSymbol(t)?n.type=E:(r=Dn(16,t),32&t.flags?(i=bi(t),n.type=i?Vs([r,i]):r):n.type=M&&16777216&t.flags?yc(r,2048):r)),n.type):8&e.flags?((a=d(i=e)).type||(a.type=$i(i)),a.type):98304&e.flags?vi(e):2097152&e.flags?((e=d(a=e)).type||(a=nn(a),e.type=107455&a.flags?Q(a):q),e.type):q}function ki(e,t){return void 0!==e&&void 0!==t&&0!=(4&P(e))&&e.target===t}function Si(e){return 4&P(e)?e.target:e}function Ti(e,n){return function e(t){{var r;return 7&P(t)?(r=Si(t))===n||Q_.forEach(Ri(r),e):131072&t.flags?Q_.forEach(t.types,e):void 0}}(e)}function Ci(e,t){for(var r=0,n=t;r<n.length;r++){var i=Ji(H(n[r]));e=Q_.appendIfUnique(e,i)}return e}function Ei(e,t){for(;;){if(!(e=e.parent))return;switch(e.kind){case 229:case 199:case 230:case 155:case 156:case 150:case 160:case 161:case 273:case 228:case 151:case 186:case 187:case 231:case 282:case 172:var r,n=Ei(e,t);return 172===e.kind?Q_.append(n,Ji(H(e.typeParameter))):(n=Ci(n,Q_.getEffectiveTypeParameterDeclarations(e)||Q_.emptyArray),(r=t&&(229===e.kind||199===e.kind||230===e.kind)&&Ui(H(e)).thisType)?Q_.append(n,r):n)}}}function Di(e){return Ei(32&e.flags?e.valueDeclaration:Q_.getDeclarationOfKind(e,230))}function Ai(e){for(var t,r=0,n=e.declarations;r<n.length;r++){var i=n[r];230!==i.kind&&229!==i.kind&&199!==i.kind&&231!==i.kind||i.typeParameters&&(t=Ci(t,i.typeParameters))}return t}function wi(e){return Q_.concatenate(Di(e),Ai(e))}function Ni(e){var e=ee(e,1);return 1===e.length&&!(e=e[0]).typeParameters&&1===e.parameters.length&&e.hasRestParameter&&Cd(e.parameters[0])===Se}function Ii(e){return Mi(e)&&0<ee(e,1).length||(540672&e.flags?(e=ba(e))&&Mi(e)&&Ni(e):void 0)}function Pi(e){e=e.symbol.valueDeclaration;if(Q_.isInJavaScriptFile(e)){var t=Q_.getJSDocAugmentsTag(e);if(t)return t.class}return Q_.getClassExtendsHeritageClauseElement(e)}function Oi(e,t,r){var n=Q_.length(t),i=Q_.isInJavaScriptFile(r);return Q_.filter(ee(e,1),function(e){return(i||n>=Ua(e.typeParameters))&&n<=Q_.length(e.typeParameters)})}function Fi(e,t,r){var e=Oi(e,t,r),n=Q_.map(t,re);return Q_.sameMap(e,function(e){return Q_.some(e.typeParameters)?Ja(e,n,Q_.isInJavaScriptFile(r)):e})}function Li(e){if(!e.resolvedBaseConstructorType){var t=e.symbol.valueDeclaration,t=Q_.getClassExtendsHeritageClauseElement(t),r=Pi(e);if(!r)return e.resolvedBaseConstructorType=ot;if(!Zn(e,1))return q;var n=K(r.expression);if(t&&r!==t&&(Q_.Debug.assert(!t.typeArguments),K(t.expression)),163840&n.flags&&ma(n),!ti())return V(e.symbol.valueDeclaration,Q_.Diagnostics._0_is_referenced_directly_or_indirectly_in_its_own_base_expression,G(e.symbol)),e.resolvedBaseConstructorType=q;if(!(1&n.flags||n===ut||Ii(n)))return V(r.expression,Q_.Diagnostics.Type_0_is_not_a_constructor_function_type,W(n)),e.resolvedBaseConstructorType=q;e.resolvedBaseConstructorType=n}return e.resolvedBaseConstructorType}function Ri(e){if(!e.resolvedBaseTypes)if(8&e.objectFlags)e.resolvedBaseTypes=[Ls(L(e.typeParameters))];else if(96&e.symbol.flags){if(32&e.symbol.flags&&(e=>{e.resolvedBaseTypes=Q_.emptyArray;var t=Z(Li(e));if(163841&t.flags){var r,n=Pi(e),i=fs(n),a=t&&t.symbol?Y(t.symbol):void 0;if(t.symbol&&32&t.symbol.flags&&(e=>{var t,r=e.outerTypeParameters;return!r||(t=r.length-1,e=e.typeArguments,r[t].symbol!==e[t].symbol)})(a))r=ss(n,t.symbol,i);else if(1&t.flags)r=t;else{a=Fi(t,n.typeArguments,n);if(!a.length)return V(n.expression,Q_.Diagnostics.No_base_constructor_has_the_specified_number_of_type_arguments);r=te(a[0])}r!==q&&(Mi(r)?e===r||Ti(r,e)?V(e.symbol.valueDeclaration,Q_.Diagnostics.Type_0_recursively_references_itself_as_a_base_type,W(e,void 0,1)):e.resolvedBaseTypes=[r]:V(n.expression,Q_.Diagnostics.Base_constructor_return_type_0_is_not_a_class_or_interface_type,W(r)))}})(e),64&e.symbol.flags){var t=e;t.resolvedBaseTypes=t.resolvedBaseTypes||Q_.emptyArray;for(var r=0,n=t.symbol.declarations;r<n.length;r++){var i=n[r];if(230===i.kind&&Q_.getInterfaceBaseTypeNodes(i))for(var a=0,s=Q_.getInterfaceBaseTypeNodes(i);a<s.length;a++){var o=s[a],c=re(o);c!==q&&(Mi(c)?t===c||Ti(c,t)?V(i,Q_.Diagnostics.Type_0_recursively_references_itself_as_a_base_type,W(t,void 0,1)):t.resolvedBaseTypes===Q_.emptyArray?t.resolvedBaseTypes=[c]:t.resolvedBaseTypes.push(c):V(o,Q_.Diagnostics.An_interface_may_only_extend_a_class_or_another_interface))}}}}else Q_.Debug.fail("type must be class or interface");return e.resolvedBaseTypes}function Mi(e){return 16809985&e.flags&&!_a(e)||131072&e.flags&&!Q_.forEach(e.types,function(e){return!Mi(e)})}function Ui(e){var t,r,n,i,a=d(e);return!a.declaredType&&(t=32&e.flags?1:2,r=a.declaredType=Dn(t,e),n=Di(e),i=Ai(e),n||i||1==t||!(e=>{for(var t=0,r=e.declarations;t<r.length;t++){var n=r[t];if(230===n.kind){if(64&n.flags)return;n=Q_.getInterfaceBaseTypeNodes(n);if(n)for(var i=0,a=n;i<a.length;i++){var s=a[i];if(Q_.isEntityNameExpression(s.expression)){s=ln(s.expression,793064,!0);if(!s||!(64&s.flags)||Ui(s).thisType)return}}}}return 1})(e))&&(r.objectFlags|=4,r.typeParameters=Q_.concatenate(n,i),r.outerTypeParameters=n,r.localTypeParameters=i,r.instantiations=Q_.createMap(),r.instantiations.set(ts(r.typeParameters),r),(r.target=r).typeArguments=r.typeParameters,r.thisType=Cn(16384),r.thisType.isThisType=!0,r.thisType.symbol=e,r.thisType.constraint=r),a.declaredType}function Bi(e){var t=e.initializer;if(!t)return!Q_.isInAmbientContext(e);switch(t.kind){case 9:case 8:return 1;case 192:return 38===t.operator&&8===t.operand.kind;case 71:return Q_.nodeIsMissing(t)||H(e.parent).exports.get(t.escapedText);default:return}}function ji(e){var t=d(e);if(void 0!==t.enumKind)return t.enumKind;for(var r=!1,n=0,i=e.declarations;n<i.length;n++){var a=i[n];if(232===a.kind)for(var s=0,o=a.members;s<o.length;s++){var c=o[s];if(c.initializer&&9===c.initializer.kind)return t.enumKind=1;Bi(c)||(r=!0)}}return t.enumKind=r?0:1}function Ki(e){return 256&e.flags&&!(65536&e.flags)?Y(kn(e.symbol)):e}function zi(e){var t=d(e);if(t.declaredType)return t.declaredType;if(1===ji(e)){p++;for(var r=[],n=0,i=e.declarations;n<i.length;n++){var a=i[n];if(232===a.kind)for(var s=0,o=a.members;s<o.length;s++){var c=o[s],l=fo(f_(c),p,H(c));d(H(c)).declaredType=l,r.push(l)}}if(r.length)return 65536&(u=L(r,!1,e,void 0)).flags&&(u.flags|=256,u.symbol=e),t.declaredType=u}var u=Cn(16);return u.symbol=e,t.declaredType=u}function $i(e){var t=d(e);return t.declaredType||(e=zi(kn(e)),t.declaredType)||(t.declaredType=e),t.declaredType}function Ji(e){var t,r=d(e);return r.declaredType||((t=Cn(16384)).symbol=e,r.declaredType=t),r.declaredType}function Y(e){return qi(e)||q}function qi(e){if(96&e.flags)return Ui(e);if(524288&e.flags){var t=e,r=d(t);if(!r.declaredType){if(!Zn(t,2))return q;var n=Q_.find(t.declarations,function(e){return 283===e.kind||231===e.kind}),i=283===n.kind?n.typeExpression:n.type,i=i?re(i):q;ti()?(a=Ai(t))&&(r.typeParameters=a,r.instantiations=Q_.createMap(),r.instantiations.set(ts(a),i)):(i=q,V(n.name,Q_.Diagnostics.Type_alias_0_circularly_references_itself,G(t))),r.declaredType=i}return r.declaredType}return 262144&e.flags?Ji(e):384&e.flags?zi(e):8&e.flags?$i(e):2097152&e.flags?((n=d(a=e)).declaredType||(n.declaredType=Y(nn(a))),n.declaredType):void 0;var a}function Vi(e){switch(e.kind){case 119:case 136:case 133:case 122:case 137:case 134:case 105:case 139:case 95:case 130:case 173:return!0;case 164:return Vi(e.elementType);case 159:var t=e;if(t.typeArguments)for(var r=0,n=t.typeArguments;r<n.length;r++)if(!Vi(n[r]))return!1;return!0}return!1}function Hi(e){var t=Q_.getEffectiveTypeAnnotationNode(e);return t?Vi(t):!e.initializer}function Gi(e){if(e.declarations&&1===e.declarations.length){var t=e.declarations[0];if(t)switch(t.kind){case 149:case 148:return Hi(t);case 151:case 150:case 152:var r=t;if(152!==r.kind){var n=Q_.getEffectiveReturnTypeNode(r);if(!n||!Vi(n))return}for(var i=0,a=r.parameters;i<a.length;i++)if(!Hi(a[i]))return;return 1}}}function Wi(e,t,r){for(var n=Q_.createSymbolTable(),i=0,a=e;i<a.length;i++){var s=a[i];n.set(s.escapedName,r&&Gi(s)?s:ko(s,t))}return n}function Qi(e,t){for(var r=0,n=t;r<n.length;r++){var i=n[r];e.has(i.escapedName)||e.set(i.escapedName,i)}}function Yi(e){var t;return e.declaredProperties||(t=e.symbol,e.declaredProperties=wn(t.members),e.declaredCallSignatures=Ka(t.members.get("__call")),e.declaredConstructSignatures=Ka(t.members.get("__new")),e.declaredStringIndexInfo=Xa(t,0),e.declaredNumberIndexInfo=Xa(t,1)),e}function Xi(e,t){if(4&P(e)){var r=e.target,n=e.typeArguments;if(Q_.length(r.typeParameters)===Q_.length(n))return ns(r,Q_.concatenate(n,[t||r.thisType]))}else if(131072&e.flags)return Vs(Q_.map(e.types,function(e){return Xi(e,t)}));return e}function Zi(e,t,r,n){var i,a,s,o,c,l=Q_.rangeEquals(r,n,0,r.length)?(i=x,a=t.symbol?t.symbol.members:Q_.createSymbolTable(t.declaredProperties),s=t.declaredCallSignatures,o=t.declaredConstructSignatures,c=t.declaredStringIndexInfo,t.declaredNumberIndexInfo):(i=yo(r,n),a=Wi(t.declaredProperties,i,1===r.length),s=ho(t.declaredCallSignatures,i),o=ho(t.declaredConstructSignatures,i),c=Co(t.declaredStringIndexInfo,i),Co(t.declaredNumberIndexInfo,i)),r=Ri(t);if(r.length){t.symbol&&a===t.symbol.members&&(a=Q_.createSymbolTable(t.declaredProperties));for(var u=Q_.lastOrUndefined(n),d=0,p=r;d<p.length;d++){var f=p[d],f=u?Xi(j(f,i),u):f;Qi(a,X(f)),s=Q_.concatenate(s,ee(f,0)),o=Q_.concatenate(o,ee(f,1)),c=c||(f===E?Ya(E,!1):F(f,0)),l=l||F(f,1)}}Nn(e,a,s,o,c,l)}function ea(e,t,r,n,i,a,s,o,c){var l=new u(Xe);return l.declaration=e,l.typeParameters=t,l.parameters=n,l.thisParameter=r,l.resolvedReturnType=i,l.typePredicate=a,l.minArgumentCount=s,l.hasRestParameter=o,l.hasLiteralTypes=c,l}function ta(e){return ea(e.declaration,e.typeParameters,e.thisParameter,e.parameters,e.resolvedReturnType,e.typePredicate,e.minArgumentCount,e.hasRestParameter,e.hasLiteralTypes)}function ra(e,t,r,n,i){for(var a=0,s=e;a<s.length;a++){var o=s[a];if(nc(o,t,r,n,i,Io))return o}}function na(e,t){for(var r=Q_.map(e,function(e){return ee(e,t)}),n=void 0,i=0;i<r.length;i++)for(var a=0,s=r[i];a<s.length;a++){var o,c,l,u=s[a];n&&ra(n,u,!1,!0,!0)||(o=((e,t,r)=>{if(t.typeParameters){if(0<r)return;for(var n=1;n<e.length;n++)if(!ra(e[n],t,!1,!1,!1))return;return[t]}for(var i=void 0,n=0;n<e.length;n++){var a=n===r?t:ra(e[n],t,!0,!0,!0);if(!a)return;i=Q_.appendIfUnique(i,a)}return i})(r,u,i))&&(l=u,1<o.length&&(l=ta(u),Q_.forEach(o,function(e){return e.thisParameter})&&(c=L(Q_.map(o,function(e){return Q(e.thisParameter)||E}),!0),l.thisParameter=xc(u.thisParameter,c)),l.resolvedReturnType=void 0,l.unionSignatures=o),(n=n||[]).push(l))}return n||Q_.emptyArray}function ia(e,t){for(var r=[],n=!1,i=0,a=e;i<a.length;i++){var s=F(a[i],t);if(!s)return;r.push(s.type),n=n||s.isReadonly}return Ya(L(r,!0),n)}function aa(e,t){return e?t?Vs([e,t]):e:t}function sa(e,t){return e?t?Ya(Vs([e.type,t.type]),e.isReadonly&&t.isReadonly):e:t}function oa(e,t){return e&&t&&Ya(L([e.type,t.type]),e.isReadonly||t.isReadonly)}function ca(n){for(var i,a,s=Q_.emptyArray,o=Q_.emptyArray,c=n.types,l=Q_.countWhere(c,Ni),e=function(r){var e,t=n.types[r];0!==l&&(l!==c.length||0!==r)&&Ni(t)||((e=ee(t,1)).length&&0<l&&(e=Q_.map(e,function(e){var t=ta(e);return t.resolvedReturnType=((e,t,r)=>{for(var n=[],i=0;i<t.length;i++)i===r?n.push(e):Ni(t[i])&&n.push(te(ee(t[i],1)[0]));return Vs(n)})(te(e),c,r),t})),o=Q_.concatenate(o,e)),s=Q_.concatenate(s,ee(t,0)),i=sa(i,F(t,0)),a=sa(a,F(t,1))},t=0;t<c.length;t++)e(t);Nn(n,_,s,o,i,a)}function la(e){var t,r,n,i,a,s,o=e.symbol;e.target?Nn(e,t=Wi(ga(e.target),e.mapper,!1),n=ho(ee(e.target,0),e.mapper),s=ho(ee(e.target,1),e.mapper),r=Co(F(e.target,0),e.mapper),i=Co(F(e.target,1),e.mapper)):2048&o.flags?(n=Ka((t=o.members).get("__call")),s=Ka(t.get("__new")),Nn(e,t,n,s,r=Xa(o,0),i=Xa(o,1))):(t=_,r=void 0,o.exports&&(t=yn(o)),32&o.flags&&(704512&(n=Li(a=Ui(o))).flags?Qi(t=Q_.createSymbolTable(wn(t)),X(n)):n===E&&(r=Ya(E,!1))),i=384&o.flags?Ot:void 0,Nn(e,t,Q_.emptyArray,Q_.emptyArray,r,i),8208&o.flags&&(e.callSignatures=Ka(o)),32&o.flags&&(a=Ui(o),(s=Ka(o.members.get("__constructor"))).length||(s=(e=>{var t=ee(Li(e),1);if(0===t.length)return[ea(void 0,e.localTypeParameters,void 0,Q_.emptyArray,e,void 0,0,!1,!1)];for(var r=Pi(e),n=Q_.isInJavaScriptFile(r),i=fs(r),a=Q_.length(i),s=[],o=0,c=t;o<c.length;o++){var l=c[o],u=Ua(l.typeParameters),d=Q_.length(l.typeParameters);(n||u<=a)&&a<=d&&((d=d?qa(l,Ba(i,l.typeParameters,u,n)):ta(l)).typeParameters=e.localTypeParameters,d.resolvedReturnType=e,s.push(d))}return s})(a)),e.constructSignatures=s))}function ua(s){var o,c=Q_.createSymbolTable(),l=(Nn(s,_,Q_.emptyArray,Q_.emptyArray,void 0,void 0),da(s)),e=pa(s),u=fa(s),d=Z((e=>{var t;return e.modifiersType||(170===(t=e.declaration.typeParameter.constraint).kind?e.modifiersType=j(re(t.type),e.mapper||x):(t=(t=pa(ro(e.declaration)))&&16384&t.flags?ya(t):t,e.modifiersType=t&&262144&t.flags?j(t.type,e.mapper||x):I)),e.modifiersType})(s)),p=!!s.declaration.readonlyToken,f=!!s.declaration.questionToken;if(170===s.declaration.typeParameter.constraint.kind){for(var t=0,r=X(d);t<r.length;t++){var n=r[t];i(Hs(n),n)}(1&d.flags||F(d,0))&&i(B)}else{e=540672&e.flags?Z(e):e;dl(262144&e.flags?Gs(Z(e.type)):e,i)}function i(e,t){"object"==typeof t&&(r=t);var r,n,i,a,t=yo([l],[e]),t=s.mapper?vo(s.mapper,t):t,t=j(u,t);32&e.flags?(n=Q_.escapeLeadingUnderscores(e.value),i=O(d,n),(a=Rr(4|(f||!!(i&&16777216&i.flags)?16777216:0),n)).checkFlags=p||i&&Ud(i)?8:0,a.type=t,r&&(a.syntheticOrigin=r,a.declarations=r.declarations),a.syntheticLiteralTypeOrigin=e,c.set(n,a)):3&e.flags&&(o=Ya(t,p))}Nn(s,c,Q_.emptyArray,Q_.emptyArray,o,void 0)}function da(e){return e.typeParameter||(e.typeParameter=Ji(H(e.declaration.typeParameter)))}function pa(e){return e.constraintType||(e.constraintType=j(ya(da(e)),e.mapper||x)||q)}function fa(e){return e.templateType||(e.templateType=e.declaration.type?j(ui(re(e.declaration.type),!!e.declaration.questionToken),e.mapper||x):q)}function _a(e){return 32&P(e)&&Ys(pa(e))}function ma(e){var t,r,n,i,a;return e.members||(32768&e.flags?4&e.objectFlags?(i=Yi((n=e).target),a=Q_.concatenate(i.typeParameters,[i.thisType]),Zi(n,i,a,n.typeArguments&&n.typeArguments.length===a.length?n.typeArguments:Q_.concatenate(n.typeArguments,[n]))):3&e.objectFlags?Zi(e,Yi(e),Q_.emptyArray,Q_.emptyArray):16&e.objectFlags?la(e):32&e.objectFlags&&ua(e):65536&e.flags?(a=na((i=e).types,0),n=na(i.types,1),t=ia(i.types,0),r=ia(i.types,1),Nn(i,_,a,n,t,r)):131072&e.flags&&ca(e)),e}function ga(e){return 32768&e.flags?ma(e).properties:Q_.emptyArray}function ha(e,t){if(32768&e.flags){e=ma(e).members.get(t);if(e&&Tn(e))return e}}function X(e){return(196608&(e=Z(e)).flags?e=>{if(!e.resolvedProperties){for(var t=Q_.createSymbolTable(),r=0,n=e.types;r<n.length;r++){for(var i=0,a=X(n[r]);i<a.length;i++){var s,o=a[i];t.has(o.escapedName)||(s=Da(e,o.escapedName))&&t.set(o.escapedName,s)}if(65536&e.flags)break}e.resolvedProperties=wn(t)}return e.resolvedProperties}:ga)(e)}function ya(e){return xa(e)?Za(e):void 0}function va(e){var t,r=Zs(e);return r||(r=ba(e.objectType),t=ba(e.indexType),r||t?eo(r||e.objectType,t||e.indexType):void 0)}function ba(e){if(737280&e.flags){var t=ka(e);if(t!==St&&t!==Tt)return t}else if(262144&e.flags)return B}function xa(e){return ka(e)!==Tt}function ka(e){var t,r,n;return e.resolvedBaseConstraint||(r=[],n=o(e),e.resolvedBaseConstraint=t?Tt:Xi(n||St,e)),e.resolvedBaseConstraint;function o(e){if(!Q_.contains(r,e))return r.push(e),e=(e=>{if(16384&e.flags)return t=Za(e),e.isThisType?t:t?o(t):void 0;if(196608&e.flags){for(var t=e.types,r=[],n=0,i=t;n<i.length;n++){var a=o(i[n]);a&&r.push(a)}return 65536&e.flags&&r.length===t.length?L(r):131072&e.flags&&r.length?Vs(r):void 0}var s;return 262144&e.flags?B:524288&e.flags?(t=Zs(e))?o(t):(t=o(e.objectType),s=o(e.indexType),(t=t&&s?eo(t,s):void 0)&&t!==q?o(t):void 0):_a(e)?I:e})(e),r.pop(),e;t=!0}}function Sa(e){var t;return e.default?e.default===Ct&&(e.default=Tt):e.target?(t=Sa(e.target),e.default=t?j(t,e.mapper):St):(e.default=Ct,t=(t=e.symbol&&Q_.forEach(e.symbol.declarations,function(e){return Q_.isTypeParameterDeclaration(e)&&e.default}))?re(t):St,e.default===Ct&&(e.default=t)),e.default}function Ta(e){e=Sa(e);return e!==St&&e!==Tt?e:void 0}function Z(e){var t,e=540672&e.flags?ba(e)||I:e;return 131072&e.flags?(t=e).resolvedApparentType||(t.resolvedApparentType=Xi(t,t)):262178&e.flags?ye:84&e.flags?ve:136&e.flags?be:512&e.flags?vs(2<=J):16777216&e.flags?I:e}function Ca(e,t){for(var r,n,i=e.types,a=65536&e.flags,s=a?24:0,o=a?0:16777216,c=4,l=0,u=0,d=i;u<d.length;u++)(y=Z(d[u]))!==q&&(n=(h=O(y,t))?Q_.getDeclarationModifierFlagsFromSymbol(h):0,!h||n&s?a&&(l|=16):(o&=h.flags,r=Q_.appendIfUnique(r,h),l|=(Ud(h)?8:0)|(24&n?0:64)|(16&n?128:0)|(8&n?256:0)|(32&n?512:0),Ou(h)||(c=2)));if(r){if(1===r.length&&!(16&l))return r[0];for(var p=[],f=[],_=void 0,m=0,g=r;m<g.length;m++){(h=g[m]).declarations&&Q_.addRange(f,h.declarations);var h,y=Q(h);_?y!==_&&(l|=32):_=y,p.push(y)}i=Rr(4|o,t);return i.checkFlags=c|l,i.containingType=e,i.declarations=f,i.type=(a?L:Vs)(p),i}}function Ea(e,t){var r=e.propertyCache||(e.propertyCache=Q_.createSymbolTable()),n=r.get(t);return n||(n=Ca(e,t))&&r.set(t,n),n}function Da(e,t){e=Ea(e,t);return!e||16&Q_.getCheckFlags(e)?void 0:e}function O(e,t){if(32768&(e=Z(e)).flags){var r=ma(e),n=r.members.get(t);if(n&&Tn(n))return n;if(r===kt||r.callSignatures.length||r.constructSignatures.length){n=ha(me,t);if(n)return n}return ha(_e,t)}if(196608&e.flags)return Da(e,t)}function Aa(e,t){return 229376&e.flags?(e=ma(e),0===t?e.callSignatures:e.constructSignatures):Q_.emptyArray}function ee(e,t){return Aa(Z(e),t)}function wa(e,t){if(229376&e.flags)return e=ma(e),0===t?e.stringIndexInfo:e.numberIndexInfo}function Na(e,t){e=wa(e,t);return e&&e.type}function F(e,t){return wa(Z(e),t)}function Ia(e,t){return Na(Z(e),t)}function Pa(e,t){if(bc(e)){for(var r=[],n=0,i=X(e);n<i.length;n++){var a=i[n];0!==t&&!uu(a.escapedName)||r.push(Q(a))}if(r.length)return L(r,!0)}}function Oa(e){var r=[];return e.forEach(function(e,t){An(t)||r.push(e)}),r}function Fa(e){if(Q_.isInJavaScriptFile(e)){if(e.type&&272===e.type.kind)return!0;e=Q_.getJSDocParameterTags(e);if(e)for(var t=0,r=e;t<r.length;t++){var n=r[t];if(n.isBracketed)return!0;if(n.typeExpression)return 272===n.typeExpression.type.kind}}}function La(e,t){if(!Q_.isExternalModuleNameRelative(e))return(e=$r(Lt,'"'+e+'"',512))&&t?xn(e):e}function Ra(e){var t,r;return!(!Q_.hasQuestionToken(e)&&!Fa(e))||(e.initializer?(t=ja(r=e.parent),r=Q_.indexOf(r.parameters,e),Q_.Debug.assert(0<=r),r>=t.minArgumentCount):!!(r=Q_.getImmediatelyInvokedFunctionExpression(e.parent))&&!e.type&&!e.dotDotDotToken&&Q_.indexOf(e.parent.parameters,e)>=r.arguments.length)}function Ma(e){var t=e.parameterName;return 71===t.kind?{kind:1,parameterName:t?t.escapedText:void 0,parameterIndex:t?((e,t)=>{if(e)for(var r=0;r<e.length;r++){var n=e[r];if(71===n.name.kind&&n.name.escapedText===t.escapedText)return r}return-1})(e.parent.parameters,t):void 0,type:re(e.type)}:{kind:0,type:re(e.type)}}function Ua(e){var t,r=0;if(e)for(var n=0;n<e.length;n++)(t=e[n]).symbol&&Q_.forEach(t.symbol.declarations,function(e){return Q_.isTypeParameterDeclaration(e)&&e.default})||(r=n+1);return r}function Ba(e,t,r,n){var i=Q_.length(t);if(i){var a=Q_.length(e);if((n||r<=a)&&a<=i){e=e||[];for(var s=a;s<i;s++)e[s]=Bc(n);for(s=a;s<i;s++){var o=yo(t,e),c=Ta(t[s]);e[s]=c?j(c,o):Bc(n)}}}return e}function ja(e){var t,r=v(e);if(!r.resolvedSignature){for(var n=[],i=!1,a=0,s=void 0,o=void 0,c=Q_.getImmediatelyInvokedFunctionExpression(e),l=Q_.isJSDocConstructSignature(e),u=!c&&!l&&Q_.isInJavaScriptFile(e)&&!Q_.hasJSDocParameterTags(e),d=l?1:0;d<e.parameters.length;d++){var p=e.parameters[d],f=p.symbol;f&&4&f.flags&&!Q_.isBindingPattern(p.name)&&(f=qr(p,f.escapedName,107455,void 0,void 0,!1)),0===d&&"this"===f.escapedName?(o=!0,s=p.symbol):n.push(f),p.type&&173===p.type.kind&&(i=!0),p.initializer||p.questionToken||p.dotDotDotToken||c&&n.length>c.arguments.length&&!p.type||Fa(p)||u||(a=n.length)}153!==e.kind&&154!==e.kind||Q_.hasDynamicName(e)||o&&s||(m=153===e.kind?154:153,(m=Q_.getDeclarationOfKind(e.symbol,m))&&(s=(m=K_(m=m))&&m.symbol));var _,m=152===e.kind?Ui(xn(e.parent.symbol)):void 0,g=m?m.localTypeParameters:(Q_.forEach(Q_.getEffectiveTypeParameterDeclarations(e),function(e){e=Ji(e.symbol);t=Q_.appendIfUnique(t,e)}),t),l=((e,t,r)=>t?re(e.parameters[0].type):r||((t=Q_.getEffectiveReturnTypeNode(e))?re(t):153!==e.kind||Q_.hasDynamicName(e)?Q_.nodeIsMissing(e.body)?E:void 0:hi(Q_.getDeclarationOfKind(e.symbol,154))))(e,l,m),h=e.type&&158===e.type.kind?Ma(e.type):void 0,y=Q_.hasRestParameter(e);!y&&Q_.isInJavaScriptFile(e)&&(e=>{var t=v(e);return void 0===t.containsArgumentsReference&&(8192&t.flags?t.containsArgumentsReference=!0:t.containsArgumentsReference=function e(t){if(!t)return!1;switch(t.kind){case 71:return"arguments"===t.escapedText&&Q_.isPartOfExpression(t);case 149:case 151:case 153:case 154:return 144===t.name.kind&&e(t.name);default:return!Q_.nodeStartsNewLexicalEnvironment(t)&&!Q_.isPartOfTypeNode(t)&&Q_.forEachChild(t,e)}}(e.body)),t.containsArgumentsReference})(e)&&(y=!0,(_=Rr(3,"args")).type=Se,_.isRestParameter=!0,n.push(_)),r.resolvedSignature=ea(e,g,s,n,l,h,a,y,i)}return r.resolvedSignature}function Ka(e){if(!e)return Q_.emptyArray;for(var t=[],r=0;r<e.declarations.length;r++){var n=e.declarations[r];switch(n.kind){case 160:case 161:case 228:case 151:case 150:case 152:case 155:case 156:case 157:case 153:case 154:case 186:case 187:case 273:if(0<r&&n.body){var i=e.declarations[r-1];if(n.parent===i.parent&&n.kind===i.kind&&n.pos===i.end)break}t.push(ja(n))}}return t}function za(e){if(e.thisParameter)return Q(e.thisParameter)}function te(e){if(!e.resolvedReturnType){if(!Zn(e,3))return q;var t,r,n=void 0;n=e.target?j(te(e.target),e.mapper):e.unionSignatures?L(Q_.map(e.unionSignatures,te),!0):Id(e.declaration),ti()||(n=E,h&&(t=e.declaration,(r=Q_.getNameOfDeclaration(t))?V(r,Q_.Diagnostics._0_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions,Q_.declarationNameToString(r)):V(t,Q_.Diagnostics.Function_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions))),e.resolvedReturnType=n}return e.resolvedReturnType}function $a(e){if(e.hasRestParameter){e=Q(Q_.lastOrUndefined(e.parameters));if(4&P(e)&&e.target===ge)return e.typeArguments[0]}return E}function Ja(e,t,r){t=Ba(t,e.typeParameters,Ua(e.typeParameters),r);var r=e.instantiations||(e.instantiations=Q_.createMap()),n=ts(t),i=r.get(n);return i||r.set(n,i=qa(e,t)),i}function qa(e,t){return xo(e,yo(e.typeParameters,t),!0)}function Va(e){return e.typeParameters?e.erasedSignatureCache||(e.erasedSignatureCache=xo(e,(e=>yo(e,void 0))(e.typeParameters),!0)):e}function Ha(e){return e.typeParameters?e.canonicalSignatureCache||(e.canonicalSignatureCache=Ja(t=e,Q_.map(t.typeParameters,function(e){return e.target&&!ya(e.target)?e.target:e}),Q_.isInJavaScriptFile(t.declaration))):e;var t}function Ga(e){var t,r;return e.isolatedSignatureType||(t=152===e.declaration.kind||156===e.declaration.kind,(r=Dn(16)).members=_,r.properties=Q_.emptyArray,r.callSignatures=t?Q_.emptyArray:[e],r.constructSignatures=t?[e]:Q_.emptyArray,e.isolatedSignatureType=r),e.isolatedSignatureType}function Wa(e){return e.members.get("__index")}function Qa(e,t){var r=1===t?133:136,t=Wa(e);if(t)for(var n=0,i=t.declarations;n<i.length;n++){var a=i[n];if(1===a.parameters.length){var s=a.parameters[0];if(s&&s.type&&s.type.kind===r)return a}}}function Ya(e,t,r){return{type:e,isReadonly:t,declaration:r}}function Xa(e,t){e=Qa(e,t);if(e)return Ya(e.type?re(e.type):E,Q_.hasModifier(e,64),e)}function Za(e){var t,r;return e.constraint||(e.target?(r=ya(e.target),e.constraint=r?j(r,e.mapper):St):(t=(r=e).symbol&&Q_.getDeclarationOfKind(r.symbol,145).constraint,e.constraint=t?re(t):St)),e.constraint===St?void 0:e.constraint}function es(e){return H(Q_.getDeclarationOfKind(e.symbol,145).parent)}function ts(e){var t="";if(e)for(var r=e.length,n=0;n<r;){for(var i=e[n].id,a=1;n+a<r&&e[n+a].id===i+a;)a++;t.length&&(t+=","),t+=i,1<a&&(t+=":"+a),n+=a}return t}function rs(e,t){for(var r=0,n=0,i=e;n<i.length;n++){var a=i[n];a.flags&t||(r|=a.flags)}return 14680064&r}function ns(e,t){var r=ts(t),n=e.instantiations.get(r);return n||(n=Dn(4,e.symbol),e.instantiations.set(r,n),n.flags|=t?rs(t,0):0,n.target=e,n.typeArguments=t),n}function is(e){var t=Cn(e.flags);return t.symbol=e.symbol,t.objectFlags=e.objectFlags,t.target=e.target,t.typeArguments=e.typeArguments,t}function as(e){return Q_.length(e.target.typeParameters)}function ss(e,t,r){var n,i,a,t=Y(xn(t)),s=t.localTypeParameters;return s?(n=Q_.length(e.typeArguments),i=Ua(s),!(a=Q_.isInJavaScriptFile(e))&&(n<i||n>s.length)?(V(e,i===s.length?Q_.Diagnostics.Generic_type_0_requires_1_type_argument_s:Q_.Diagnostics.Generic_type_0_requires_between_1_and_2_type_arguments,W(t,void 0,1),i,s.length),q):ns(t,Q_.concatenate(t.outerTypeParameters,Ba(r,s,i,a)))):e.typeArguments?(V(e,Q_.Diagnostics.Type_0_is_not_generic,W(t)),q):t}function os(e,t,r){var n,i,a,s,o,c=Y(t),l=d(t).typeParameters;return l?(i=Q_.length(e.typeArguments))<(n=Ua(l))||i>l.length?(V(e,n===l.length?Q_.Diagnostics.Generic_type_0_requires_1_type_argument_s:Q_.Diagnostics.Generic_type_0_requires_between_1_and_2_type_arguments,G(t),n,l.length),q):(i=r,l=Y(n=t),r=d(n),a=r.typeParameters,s=ts(i),(o=r.instantiations.get(s))||r.instantiations.set(s,o=j(l,yo(a,Ba(i,a,Ua(a),Q_.isInJavaScriptFile(n.valueDeclaration))))),o):e.typeArguments?(V(e,Q_.Diagnostics.Type_0_is_not_generic,G(t)),q):c}function cs(e){switch(e.kind){case 159:return e.typeName;case 201:var t=e.expression;if(Q_.isEntityNameExpression(t))return t}}function ls(e,t){return e&&ln(e,t)||U}function us(e,t,r){return 96&t.flags?ss(e,t,r):524288&t.flags?os(e,t,r):16&t.flags&&ds(e)&&(t.members||Q_.getJSDocClassTag(t.valueDeclaration))?vd(t):void 0}function ds(e){return 1048576&e.flags&&159===e.kind}function ps(e){var t,r,n,i=v(e);return i.resolvedType||(r=t=void 0,n=793064,ds(e)&&(r=(e=>{if(Q_.isIdentifier(e.typeName)){var t,r;if("Object"===e.typeName.escapedText)return Q_.isJSDocIndexSignature(e)?(t=re(e.typeArguments[0]),r=Ya(re(e.typeArguments[1]),!1),In(void 0,_,Q_.emptyArray,Q_.emptyArray,t===B&&r,t===dt&&r)):E;switch(e.typeName.escapedText){case"String":return B;case"Number":return dt;case"Boolean":return _t;case"Void":return gt;case"Undefined":return ot;case"Null":return lt;case"Function":case"function":return me;case"Array":case"array":return e.typeArguments&&e.typeArguments.length?void 0:Se;case"Promise":case"promise":return e.typeArguments&&e.typeArguments.length?void 0:wd(E)}}})(e),n|=107455),r=r||((e,t)=>{var r=fs(e);if(t===U)return q;var n=us(e,t,r);if(!n){if(void 0!==(n=qi(t)))return r?(V(e,Q_.Diagnostics.Type_0_is_not_generic,G(t)),q):n;if(!(107455&t.flags&&ds(e)))return q;if((n=Q(t)).symbol&&!bd(n)){t=us(e,n.symbol,r);if(t)return t}ls(cs(e),793064)}return n})(e,t=ls(cs(e),n)),i.resolvedSymbol=t,i.resolvedType=r),i.resolvedType}function fs(e){return Q_.map(e.typeArguments,re)}function _s(e){var t=v(e);return t.resolvedType||(t.resolvedType=Cc(K(e.exprName))),t.resolvedType}function ms(e,t){function r(e){for(var t=0,r=e.declarations;t<r.length;t++){var n=r[t];switch(n.kind){case 229:case 230:case 232:return n}}}var n;return e?32768&(n=Y(e)).flags?Q_.length(n.typeParameters)!==t?(V(r(e),Q_.Diagnostics.Global_type_0_must_have_1_type_parameter_s,Q_.symbolName(e),t),t?xt:I):n:(V(r(e),Q_.Diagnostics.Global_type_0_must_be_a_class_or_interface_type,Q_.symbolName(e)),t?xt:I):t?xt:I}function gs(e,t){return hs(e,107455,t?Q_.Diagnostics.Cannot_find_global_value_0:void 0)}function hs(e,t,r){return qr(void 0,e,t,r,e,!1)}function ys(e,t,r){e=hs(e,793064,r?Q_.Diagnostics.Cannot_find_global_type_0:void 0);return e||r?ms(e,t):void 0}function vs(e){return(De=De||ys("Symbol",0,e))||I}function bs(e){return(we=we||ys("Promise",1,e))||xt}function xs(e){return Ne=Ne||gs("Promise",e)}function ks(e){return(Le=Le||ys("AsyncIterable",1,e))||xt}function Ss(e){return(Re=Re||ys("AsyncIterator",1,e))||xt}function Ts(e){return(Me=Me||ys("AsyncIterableIterator",1,e))||xt}function Cs(e){return(Pe=Pe||ys("Iterable",1,e))||xt}function Es(e){return(Oe=Oe||ys("Iterator",1,e))||xt}function Ds(e){return(Fe=Fe||ys("IterableIterator",1,e))||xt}function As(e,t){void 0===t&&(t=0);e=hs(e,793064,void 0);return e&&ms(e,t)}function ws(e,t){e=hs(e,1920,void 0),e=e&&$r(e.exports,t,793064);return e&&Y(e)}function Ns(e,t){return e!==xt?ns(e,t):I}function Is(e){return Ns((Ae=Ae||ys("TypedPropertyDescriptor",1,!0))||xt,[e])}function Ps(e){return Ns(Ts(!0),[e])}function Os(e){return Ns(Cs(!0),[e])}function Fs(e){return Ns(Ds(!0),[e])}function Ls(e){return Ns(ge,[e])}function Rs(e){return Ze[e]||(Ze[e]=(e=>{for(var t=[],r=[],n=0;n<e;n++){var i=Cn(16384),a=(t.push(i),Rr(4,""+n));a.type=i,r.push(a)}var s=Dn(12);return s.typeParameters=t,s.outerTypeParameters=void 0,s.localTypeParameters=t,s.instantiations=Q_.createMap(),s.instantiations.set(ts(s.typeParameters),s),(s.target=s).typeArguments=s.typeParameters,s.thisType=Cn(16384),s.thisType.isThisType=!0,(s.thisType.constraint=s).declaredProperties=r,s.declaredCallSignatures=Q_.emptyArray,s.declaredConstructSignatures=Q_.emptyArray,s.declaredStringIndexInfo=void 0,s.declaredNumberIndexInfo=void 0,s})(e))}function Ms(e){return ns(Rs(e.length),e)}function Us(e,t){for(var r=0,n=e.length-1,i=t.id;r<=n;){var a=r+(n-r>>1),s=e[a].id;if(s===i)return a;i<s?n=a-1:r=a+1}return~r}function Bs(e,t){return 0<=Us(e,t)}function js(e,t){var r,n=t.flags;65536&n?Ks(e,t.types):1&n?e.containsAny=!0:!M&&6144&n?(2048&n&&(e.containsUndefined=!0),4096&n&&(e.containsNull=!0),2097152&n||(e.containsNonWideningType=!0)):8192&n||131072&n&&(e=>{for(var t=0,r=0,n=e.types;r<n.length;r++){var i=n[r];if(6368&i.flags&&6368&t)return 1;if(6144&(t|=i.flags)&&16809984&t)return 1}})(t)||(2&n&&(e.containsString=!0),4&n&&(e.containsNumber=!0),96&n&&(e.containsStringOrNumberLiteral=!0),(r=(r=e.length)&&t.id>e[r-1].id?~r:Us(e,t))<0&&(32768&n&&16&t.objectFlags&&t.symbol&&8208&t.symbol.flags&&zs(e,t)||e.splice(~r,0,t)))}function Ks(e,t){for(var r=0,n=t;r<n.length;r++)js(e,n[r])}function zs(e,t){for(var r=0,n=e;r<n.length;r++)if(No(n[r],t))return 1}function $s(e){if(0!==e.length&&!(e=>{var t=e[0];if(256&t.flags){for(var r=kn(t.symbol),n=1;n<e.length;n++){var i=e[n];if(!(256&i.flags)||r!==kn(i.symbol))return}return 1}})(e))for(var t=e.length;0<t;)((e,t)=>{for(var r=0,n=t;r<n.length;r++){var i=n[r];if(e!==i&&Oo(e,i))return 1}})(e[--t],e)&&Q_.orderedRemoveItemAt(e,t)}function L(e,t,r,n){if(0===e.length)return ht;if(1===e.length)return e[0];var i=[];if(Ks(i,e),i.containsAny)return E;if(t)$s(i);else if(i.containsStringOrNumberLiteral)for(var a=i,s=a.length;0<s;){var o=a[--s];(32&o.flags&&a.containsString||64&o.flags&&a.containsNumber||96&o.flags&&1048576&o.flags&&Bs(a,o.regularType))&&Q_.orderedRemoveItemAt(a,s)}return 0===i.length?i.containsNull?i.containsNonWideningType?lt:ut:i.containsUndefined?i.containsNonWideningType?ot:ct:ht:Js(i,r,n)}function Js(e,t,r){var n,i;return 0===e.length?ht:1===e.length?e[0]:(n=ts(e),(i=et.get(n))||(i=Cn(65536|rs(e,6144)),et.set(n,i),i.types=e,i.aliasSymbol=t,i.aliasTypeArguments=r),i)}function qs(e,t){for(var r,n=0,i=t;n<i.length;n++){var a=i[n];r=e,131072&(a=a).flags?qs(r,a.types):1&a.flags?r.containsAny=!0:8192&a.flags?r.containsNever=!0:16&P(a)&&Ko(a)?r.containsEmptyObject=!0:!M&&6144&a.flags||Q_.contains(r,a)||(32768&a.flags&&(r.containsObjectType=!0),65536&a.flags&&void 0===r.unionIndex&&(r.unionIndex=r.length),32768&a.flags&&16&a.objectFlags&&a.symbol&&8208&a.symbol.flags&&zs(r,a))||r.push(a)}}function Vs(e,t,r){var n,i,a;return 0===e.length?I:(qs(n=[],e),n.containsNever?ht:n.containsAny?E:(n.containsEmptyObject&&!n.containsObjectType&&n.push(I),1===n.length?n[0]:void 0!==(i=n.unionIndex)?(e=n[i],L(Q_.map(e.types,function(e){return Vs(Q_.replaceElement(n,i,e))}),!1,t,r)):(e=ts(n),(a=tt.get(e))||(a=Cn(131072|rs(n,6144)),tt.set(e,a),a.types=n,a.aliasSymbol=t,a.aliasTypeArguments=r),a)))}function Hs(e){return 24&Q_.getDeclarationModifierFlagsFromSymbol(e)||Q_.startsWith(e.escapedName,"__@")?ht:fo(Q_.symbolName(e))}function Gs(e){return zd(e,540672)?((t=e).resolvedIndexType||(t.resolvedIndexType=Cn(262144),t.resolvedIndexType.type=t),t.resolvedIndexType):32&P(e)?pa(e):1&e.flags||F(e,0)?B:L(Q_.map(X(e),Hs));var t}function Ws(e,t,r,n){var i=r&&180===r.kind?r:void 0,a=96&t.flags?Q_.escapeLeadingUnderscores(""+t.value):i&&qu(i.argumentExpression,t,!1)?Q_.getPropertyNameForKnownSymbolName(Q_.idText(i.argumentExpression.name)):void 0;if(void 0!==a){var a=O(e,a);if(a){if(i){if(Q_.isAssignmentTarget(i)&&(Bd(i,a)||jd(i)))return V(i.argumentExpression,Q_.Diagnostics.Cannot_assign_to_0_because_it_is_a_constant_or_a_read_only_property,G(a)),q;n&&(v(r).resolvedSymbol=a)}return Q(a)}}if(!(6144&t.flags)&&$d(t,262774)){if(N(e))return E;n=$d(t,84)&&F(e,1)||F(e,0)||void 0;if(n)return i&&n.isReadonly&&(Q_.isAssignmentTarget(i)||Q_.isDeleteTarget(i))&&V(i,Q_.Diagnostics.Index_signature_in_type_0_only_permits_reading,W(e)),n.type;if(i&&!Jd(e))return h&&!R.suppressImplicitAnyIndexErrors&&(Ia(e,1)?V(i.argumentExpression,Q_.Diagnostics.Element_implicitly_has_an_any_type_because_index_expression_is_not_of_type_number):V(i,Q_.Diagnostics.Element_implicitly_has_an_any_type_because_type_0_has_no_index_signature,W(e))),E}return r?(a=180===r.kind?r.argumentExpression:r.indexType,96&t.flags?V(a,Q_.Diagnostics.Property_0_does_not_exist_on_type_1,""+t.value,W(e)):6&t.flags?V(a,Q_.Diagnostics.Type_0_has_no_matching_index_signature_for_type_1,W(e),W(t)):V(a,Q_.Diagnostics.Type_0_cannot_be_used_as_an_index_type,W(t)),q):E}function Qs(e){return!!(540672&e.flags)||(32&P(e)?Ys(pa(e)):!!(196608&e.flags)&&Q_.forEach(e.types,Qs))}function Ys(e){return!!(802816&e.flags)||!!(196608&e.flags)&&Q_.forEach(e.types,Ys)}function Xs(e){return!(!(32768&e.flags)||_a(e))&&0===(e=ma(e)).properties.length&&0===e.callSignatures.length&&0===e.constructSignatures.length&&e.stringIndexInfo&&!e.numberIndexInfo}function Zs(e){var t,r=e.objectType;if(131072&r.flags&&Qs(r)&&Q_.some(r.types,Xs)){for(var n=[],i=[],a=0,s=r.types;a<s.length;a++){var o=s[a];Xs(o)?i.push(Ia(o,0)):n.push(o)}return L([eo(Vs(n),e.indexType),Vs(i)])}if(_a(r))return e=yo([da(r)],[e.indexType]),t=(t=r.mapper)?vo(t,e):e,j(fa(r),t)}function eo(e,t,r){var n,i,a,s;if(Ys(t)||(!r||180!==r.kind)&&Qs(e))return 1&e.flags?e:(i=e.id+","+t.id,(n=nt.get(i))||nt.set(i,(i=e,a=t,(s=Cn(524288)).objectType=i,s.indexType=a,n=s)),n);var o=Z(e);if(!(65536&t.flags)||8&t.flags)return Ws(o,t,r,!0);for(var c=[],l=0,u=t.types;l<u.length;l++){var d=Ws(o,u[l],r,!1);if(d===q)return q;c.push(d)}return L(c)}function to(e){var t=v(e);return t.resolvedType||(t.resolvedType=eo(re(e.objectType),re(e.indexType),e)),t.resolvedType}function ro(e){var t,r=v(e);return r.resolvedType||((t=Dn(32,e.symbol)).declaration=e,t.aliasSymbol=io(e),t.aliasTypeArguments=ao(e),pa(r.resolvedType=t)),r.resolvedType}function no(e){var t,r,n=v(e);return n.resolvedType||(t=io(e),0!==e.symbol.members.size||t?((r=Dn(16,e.symbol)).aliasSymbol=t,r.aliasTypeArguments=ao(e),Q_.isJSDocTypeLiteral(e)&&e.isArrayType&&(r=Ls(r)),n.resolvedType=r):n.resolvedType=bt),n.resolvedType}function io(e){return 231===e.parent.kind?H(e.parent):void 0}function ao(e){e=io(e);return e?Ai(e):void 0}function so(t,r,n,i){if(1&t.flags||1&r.flags)return E;if(8192&t.flags)return r;if(8192&r.flags)return t;if(65536&t.flags)return fl(t,function(e){return so(e,r,n,i)});if(65536&r.flags)return fl(r,function(e){return so(t,e,n,i)});if(16777216&r.flags)return vt;if(262654&r.flags)return t;for(var e=Q_.createSymbolTable(),a=Q_.createUnderscoreEscapedMap(),s=t===I?(h=F(r,0),F(r,1)):(h=oa(F(t,0),F(r,0)),oa(F(t,1),F(r,1))),o=0,c=X(r);o<c.length;o++){var l=65536&(p=c[o]).flags&&!(32768&p.flags);24&Q_.getDeclarationModifierFlagsFromSymbol(p)?a.set(p.escapedName,!0):co(p)||l||e.set(p.escapedName,oo(p))}for(var u=0,d=X(t);u<d.length;u++){var p,f,_,m,g=d[u];65536&g.flags&&!(32768&g.flags)||a.has(g.escapedName)||co(g)||(e.has(g.escapedName)?(f=Q(p=e.get(g.escapedName)),16777216&p.flags&&(_=Q_.concatenate(g.declarations,p.declarations),(m=Rr(4|16777216&g.flags,g.escapedName)).type=L([Q(g),Yc(f,131072)]),m.leftSpread=g,m.rightSpread=p,m.declarations=_,e.set(g.escapedName,m))):e.set(g.escapedName,oo(g)))}var h=In(void 0,e,Q_.emptyArray,Q_.emptyArray,h,s);return h.flags|=i,h.flags|=5242880,h.objectFlags|=128,h.symbol=n,h}function oo(e){var t;return Ud(e)?((t=Rr(4|16777216&e.flags,e.escapedName)).type=Q(e),t.declarations=e.declarations,t.syntheticOrigin=e,t):e}function co(e){return 8192&e.flags&&Q_.find(e.declarations,function(e){return Q_.isClassLike(e.parent)})}function lo(e,t,r){e=Cn(e);return e.symbol=r,e.value=t,e}function uo(e){var t;return 96&e.flags&&!(1048576&e.flags)?(e.freshType||(((t=lo(1048576|e.flags,e.value,e.symbol)).regularType=e).freshType=t),e.freshType):e}function po(e){return 96&e.flags&&1048576&e.flags?e.regularType:e}function fo(e,t,r){var n="number"==typeof e?"#":"@",n=t?t+n+e:n+e,i=rt.get(n);return i||rt.set(n,i=lo(("number"==typeof e?64:32)|(t?256:0),e,r)),i}function _o(e){var t,r,n=v(e);return n.resolvedType||(n.resolvedType=(e=e,t=Q_.getThisContainer(e,!1),!(r=t&&t.parent)||!Q_.isClassLike(r)&&230!==r.kind||Q_.hasModifier(t,32)||152===t.kind&&!Q_.isNodeDescendantOf(e,t.body)?(V(e,Q_.Diagnostics.A_this_type_is_available_only_in_a_non_static_member_of_a_class_or_interface),q):Ui(H(r)).thisType)),n.resolvedType}function re(e){switch(e.kind){case 119:case 268:case 269:return E;case 136:return B;case 133:return dt;case 122:return _t;case 137:return mt;case 105:return gt;case 139:return ot;case 95:return lt;case 130:return ht;case 134:return 65536&e.flags?E:vt;case 169:case 99:return _o(e);case 173:return(l=v(c=e)).resolvedType||(l.resolvedType=po(K(c.literal))),l.resolvedType;case 159:return ps(e);case 158:return _t;case 201:return ps(e);case 162:return _s(e);case 164:return(l=v(c=e)).resolvedType||(l.resolvedType=Ls(re(c.elementType))),l.resolvedType;case 165:return(o=v(s=e)).resolvedType||(o.resolvedType=Ms(Q_.map(s.elementTypes,re))),o.resolvedType;case 166:return(o=v(s=e)).resolvedType||(o.resolvedType=L(Q_.map(s.types,re),!1,io(s),ao(s))),o.resolvedType;case 167:return(a=v(i=e)).resolvedType||(a.resolvedType=Vs(Q_.map(i.types,re),io(i),ao(i))),a.resolvedType;case 270:return i=re((i=e).type),M?L([i,lt]):i;case 168:case 271:case 272:case 267:return re(e.type);case 160:case 161:case 163:case 285:case 273:return no(e);case 170:return(n=v(a=e)).resolvedType||(n.resolvedType=Gs(re(a.type))),n.resolvedType;case 171:return to(e);case 172:return ro(e);case 71:case 143:n=Wf(e);return n&&Y(n);case 274:return(r=v(t=e)).resolvedType||(t=re(t.type),r.resolvedType=t?Ls(t):q),r.resolvedType;default:return q}var t,r,n,i,a,s,o,c,l}function mo(e,t,r){if(e&&e.length){for(var n=[],i=0,a=e;i<a.length;i++){var s=a[i];n.push(r(s,t))}return n}return e}function go(e,t){return mo(e,t,j)}function ho(e,t){return mo(e,t,xo)}function yo(e,t){return Q_.Debug.assert(void 0===t||e.length===t.length),1===e.length?(c=e[0],l=t?t[0]:E,function(e){return e===c?l:e}):2===e.length?(i=e[0],a=t?t[0]:E,s=e[1],o=t?t[1]:E,function(e){return e===i?a:e===s?o:e}):(r=e,n=t,function(e){for(var t=0;t<r.length;t++)if(e===r[t])return n?n[t]:E;return e});var r,n,i,a,s,o,c,l}function vo(t,r){return function(e){return j(t(e),r)}}function bo(e){var t=Cn(16384);return t.symbol=e.symbol,t.target=e,t}function xo(e,t,r){var n,i;if(e.typeParameters&&!r){n=Q_.map(e.typeParameters,bo),t=vo(yo(e.typeParameters,n),t);for(var a=0,s=n;a<s.length;a++)s[a].mapper=t}e.typePredicate&&(r=e.typePredicate,i=t,i=Q_.isIdentifierTypePredicate(r)?{kind:1,parameterName:r.parameterName,parameterIndex:r.parameterIndex,type:j(r.type,i)}:{kind:0,type:j(r.type,i)});r=ea(e.declaration,n,e.thisParameter&&ko(e.thisParameter,t),mo(e.parameters,t,ko),void 0,i,e.minArgumentCount,e.hasRestParameter,e.hasLiteralTypes);return r.target=e,r.mapper=t,r}function ko(e,t){1&Q_.getCheckFlags(e)&&(e=(r=d(e)).target,t=vo(r.mapper,t));var r=Rr(e.flags,e.escapedName);return r.checkFlags=1,r.declarations=e.declarations,r.parent=e.parent,r.target=e,r.mapper=t,e.valueDeclaration&&(r.valueDeclaration=e.valueDeclaration),e.isRestParameter&&(r.isRestParameter=e.isRestParameter),r}function So(e,t){var n,r,i=64&e.objectFlags?e.target:e,a=i.symbol,s=d(a),o=s.typeParameters;return o||(r=Ei(n=a.declarations[0],!0)||Q_.emptyArray,o=2048&a.flags&&!i.aliasTypeArguments?Q_.filter(r,function(e){var r=e,e=n;if(r.symbol&&r.symbol.declarations&&1===r.symbol.declarations.length){var t=r.symbol.declarations[0].parent;if(Q_.findAncestor(e,function(e){return 207===e.kind?"quit":e===t}))return Q_.forEachChild(e,function e(t){switch(t.kind){case 169:return r.isThisType;case 71:return!r.isThisType&&Q_.isPartOfTypeNode(t)&&re(t)===r;case 162:return!0}return Q_.forEachChild(t,e)})}return!0}):r,(s.typeParameters=o).length&&(s.instantiations=Q_.createMap(),s.instantiations.set(ts(o),i))),o.length?(a=64&e.objectFlags?vo(e.mapper,t):t,t=ts(r=Q_.map(o,a)),(a=s.instantiations.get(t))||(o=yo(o,r),a=(32&i.objectFlags?(i,a)=>{var e=pa(i);if(262144&e.flags){var s=e.type;if(16384&s.flags){e=j(s,a);if(s!==e)return fl(e,function(e){var t,r,n;return 704513&e.flags?To(i,(t=s,r=e,n=a,function(e){return e===t?r:n(e)})):e})}}return To(i,a)}:To)(i,o),s.instantiations.set(t,a)),a):e}function To(e,t){var r=Dn(64|e.objectFlags,e.symbol);return 32&e.objectFlags&&(r.declaration=e.declaration),r.target=e,r.mapper=t,r.aliasSymbol=e.aliasSymbol,r.aliasTypeArguments=go(e.aliasTypeArguments,t),r}function j(e,t){if(e&&t!==x){if(16384&e.flags)return t(e);if(32768&e.flags){if(16&e.objectFlags)return e.symbol&&14384&e.symbol.flags&&e.symbol.declarations?So(e,t):e;if(32&e.objectFlags)return So(e,t);if(4&e.objectFlags)return ns(e.target,go(e.typeArguments,t))}if(65536&e.flags&&!(8190&e.flags))return L(go(e.types,t),!1,e.aliasSymbol,go(e.aliasTypeArguments,t));if(131072&e.flags)return Vs(go(e.types,t),e.aliasSymbol,go(e.aliasTypeArguments,t));if(262144&e.flags)return Gs(j(e.type,t));if(524288&e.flags)return eo(j(e.objectType,t),j(e.indexType,t))}return e}function Co(e,t){return e&&Ya(j(e.type,t),e.isReadonly,e.declaration)}function Eo(e){switch(Q_.Debug.assert(151!==e.kind||Q_.isObjectLiteralMethod(e)),e.kind){case 186:case 187:case 151:return Do(e);case 178:return Q_.forEach(e.properties,Eo);case 177:return Q_.forEach(e.elements,Eo);case 195:return Eo(e.whenTrue)||Eo(e.whenFalse);case 194:return 54===e.operatorToken.kind&&(Eo(e.left)||Eo(e.right));case 261:return Eo(e.initializer);case 185:return Eo(e.expression);case 254:return Q_.forEach(e.properties,Eo);case 253:return e.initializer&&Eo(e.initializer);case 256:return e.expression&&Eo(e.expression)}return!1}function Do(e){if(e.typeParameters)return!1;if(Q_.forEach(e.parameters,function(e){return!Q_.getEffectiveTypeAnnotationNode(e)}))return!0;if(187!==e.kind){var t=Q_.firstOrUndefined(e.parameters);if(!t||!Q_.parameterIsThisKeyword(t))return!0}return 207!==e.body.kind&&Eo(e.body)}function Ao(e){return(nu(e)||Q_.isObjectLiteralMethod(e))&&Do(e)}function wo(e){if(32768&e.flags){var t,r=ma(e);if(r.constructSignatures.length)return(t=Dn(16,e.symbol)).members=r.members,t.properties=r.properties,t.callSignatures=Q_.emptyArray,t.constructSignatures=Q_.emptyArray,t}else if(131072&e.flags)return Vs(Q_.map(e.types,wo));return e}function No(e,t){return Jo(e,t,hr)}function Io(e,t){return Jo(e,t,hr)?-1:0}function Po(e,t){return Jo(e,t,mr)?-1:0}function Oo(e,t){return Jo(e,t,_r)}function S(e,t){return Jo(e,t,mr)}function Fo(e,t){return Si(e)===Si(t)||Oo(e,t)&&!No(e,t)}function Lo(e,t){return Jo(e,t,gr)}function Ro(e,t,r,n,i){return qo(e,t,mr,r,n,i)}function Mo(e,t,r,n,i){qo(e,t,gr,r,n,i)}function Uo(e,t,r,n,i,a,s){if(e===t)return-1;if(!t.hasRestParameter&&e.minArgumentCount>t.parameters.length)return 0;e.typeParameters&&e.typeParameters!==t.typeParameters&&(e=Xu(e,t=Ha(t),void 0,s));var o=t.declaration?t.declaration.kind:0,c=!r&&oe&&151!==o&&150!==o&&152!==o,l=-1,o=za(e);if(o&&o!==gt){var u=za(t);if(u){if(!(y=!c&&s(o,u,!1)||s(u,o,i)))return i&&a(Q_.Diagnostics.The_this_types_of_each_signature_are_incompatible),0;l&=y}}for(var d,p=jo(e),f=jo(t),_=(u=p,o=t,d=f,(S=e).hasRestParameter===o.hasRestParameter?S.hasRestParameter?Math.max(u,d)+1:Math.min(u,d):S.hasRestParameter?d:u),m=e.parameters,g=t.parameters,h=0;h<_;h++){var y,v=h<p?Cd(m[h]):$a(e),b=h<f?Cd(g[h]):$a(t),x=r?void 0:Yu(vc(v)),k=r?void 0:Yu(vc(b));if(!(y=x&&k&&!x.typePredicate&&!k.typePredicate&&(6144&mc(v))==(6144&mc(b))?Uo(k,x,c?2:1,!1,i,a,s):!r&&!c&&s(v,b,!1)||s(b,v,i)))return i&&a(Q_.Diagnostics.Types_of_parameters_0_and_1_are_incompatible,Q_.symbolName(m[h<p?h:p]),Q_.symbolName(g[h<f?h:f])),0;l&=y}if(!n){o=te(t);if(o===gt)return l;var S=te(e);if(t.typePredicate){if(e.typePredicate)l&=((e,t,r,n,i,a,s)=>{if(e.kind!==t.kind)return i&&(a(Q_.Diagnostics.A_this_based_type_guard_is_not_compatible_with_a_parameter_based_type_guard),a(Q_.Diagnostics.Type_predicate_0_is_not_assignable_to_1,$n(e),$n(t))),0;if(1===e.kind){var o=e,c=t,r=o.parameterIndex-(Q_.getThisParameter(r)?1:0),n=c.parameterIndex-(Q_.getThisParameter(n)?1:0);if(r!=n)return i&&(a(Q_.Diagnostics.Parameter_0_is_not_in_the_same_position_as_parameter_1,o.parameterName,c.parameterName),a(Q_.Diagnostics.Type_predicate_0_is_not_assignable_to_1,$n(e),$n(t))),0}return 0===(r=s(e.type,t.type,i))&&i&&a(Q_.Diagnostics.Type_predicate_0_is_not_assignable_to_1,$n(e),$n(t)),r})(e.typePredicate,t.typePredicate,e.declaration,t.declaration,i,a,s);else if(Q_.isIdentifierTypePredicate(t.typePredicate))return i&&a(Q_.Diagnostics.Signature_0_must_be_a_type_predicate,zn(e)),0}else l&=1===r&&s(o,S,!1)||s(S,o,i)}return l}function Bo(e,t){var e=Va(e),t=Va(t),r=te(e),n=te(t);return(n===gt||Jo(n,r,mr)||Jo(r,n,mr))&&0!==Uo(e,t,0,!0,!1,void 0,Po)}function jo(e){var t=e.parameters.length;return e.hasRestParameter?t-1:t}function Ko(e){return 32768&e.flags?0===(t=ma(e)).properties.length&&0===t.callSignatures.length&&0===t.constructSignatures.length&&!t.stringIndexInfo&&!t.numberIndexInfo:!!(16777216&e.flags)||(65536&e.flags?Q_.forEach(e.types,Ko):!!(131072&e.flags)&&!Q_.forEach(e.types,function(e){return!Ko(e)}));var t}function zo(e,t,r){if(e===t)return 1;var n=tm(e)+","+tm(t),i=yr.get(n);if(void 0!==i)return i;if(e.escapedName===t.escapedName&&256&e.flags&&256&t.flags){for(var a=Q(t),s=0,o=X(Q(e));s<o.length;s++){var c=o[s];if(8&c.flags){var l=O(a,c.escapedName);if(!(l&&8&l.flags))return r&&r(Q_.Diagnostics.Property_0_is_missing_in_type_1,Q_.symbolName(c),W(Y(t),void 0,256)),void yr.set(n,!1)}}return yr.set(n,!0),1}yr.set(n,!1)}function $o(e,t,r,n){var i=e.flags,a=t.flags;if(!(8192&a)){if(1&a||8192&i)return 1;if(262178&i&&2&a)return 1;if(32&i&&256&i&&32&a&&!(256&a)&&e.value===t.value)return 1;if(84&i&&4&a)return 1;if(64&i&&256&i&&64&a&&!(256&a)&&e.value===t.value)return 1;if(136&i&&8&a)return 1;if(16&i&&16&a&&zo(e.symbol,t.symbol,n))return 1;if(256&i&&256&a){if(65536&i&&65536&a&&zo(e.symbol,t.symbol,n))return 1;if(224&i&&224&a&&e.value===t.value&&zo(kn(e.symbol),kn(t.symbol),n))return 1}if(2048&i&&(!M||3072&a))return 1;if(4096&i&&(!M||4096&a))return 1;if(32768&i&&16777216&a)return 1;if(r===mr||r===gr){if(1&i)return 1;if(68&i&&!(256&i)&&(16&a||64&a&&256&a))return 1}}}function Jo(e,t,r){if((e=96&e.flags&&1048576&e.flags?e.regularType:e)===(t=96&t.flags&&1048576&t.flags?t.regularType:t)||r!==hr&&$o(e,t,r))return!0;if(32768&e.flags&&32768&t.flags){var n=r.get(Yo(e,t,r));if(void 0!==n)return 1===n}return!!(1032192&e.flags||1032192&t.flags)&&qo(e,t,r,void 0)}function qo(e,t,S,d,r,n){var T,o,c,l,u=0,p=0,f=(0,0),_=!1,m=!1,r=(Q_.Debug.assert(S!==hr||!d,"no error reporting in identity checking"),E(e,t,!!d,r));return _?V(d,Q_.Diagnostics.Excessive_stack_depth_comparing_types_0_and_1,W(e),W(t)):T&&(n&&(T=Q_.concatenateDiagnosticMessageChains(n,T)),ar.add(Q_.createDiagnosticForNodeFromMessageChain(d,T))),0!==r;function C(e,t,r,n){Q_.Debug.assert(!!d),T=Q_.chainDiagnosticMessages(T,e,t,r,n)}function g(e,t,r){var n=W(t),i=W(r);n===i&&(n=W(t,void 0,256),i=W(r,void 0,256)),C(e=e||(S===gr?Q_.Diagnostics.Type_0_is_not_comparable_to_type_1:n===i?Q_.Diagnostics.Type_0_is_not_assignable_to_type_1_Two_different_types_with_this_name_exist_but_they_are_unrelated:Q_.Diagnostics.Type_0_is_not_assignable_to_type_1),n,i)}function E(e,t,r,n){if(96&e.flags&&1048576&e.flags&&(e=e.regularType),96&t.flags&&1048576&t.flags&&(t=t.regularType),e===t)return-1;var i,a,s,o,c,l,u;if(S===hr)return i=t,32768&(a=e).flags&&32768&i.flags?x(a,i,!1):(65536&a.flags&&65536&i.flags||131072&a.flags&&131072&i.flags)&&(s=h(a,i))&&(s&=h(i,a))?s:0;if($o(e,t,S,r?C:void 0))return-1;if(128&P(e)&&1048576&e.flags){if(function e(i,a,s){if(zd(a,32768)&&!(512&P(a))){var o=!!(33554432&i.flags);if((S===mr||S===gr)&&(ul(_e,a)||!o&&Ko(a)))return!1;if(65536&a.flags){var t=v(i,a);if(t)return e(i,t,s)}for(var r=function(e){var t,r,n;if(!Iu(a,e.escapedName,o))return s&&(Q_.Debug.assert(!!d),Q_.isJsxAttributes(d)||Q_.isJsxOpeningLikeElement(d)?C(Q_.Diagnostics.Property_0_does_not_exist_on_type_1,G(e),W(a)):(t=i.symbol&&Q_.firstOrUndefined(i.symbol.declarations),(r=void 0)!==(r=e.valueDeclaration&&Q_.findAncestor(e.valueDeclaration,function(e){return e===t})&&(n=e.valueDeclaration,Q_.Debug.assertNode(n,Q_.isObjectLiteralElementLike),d=n,Q_.isIdentifier(n.name))?ju(n.name,a):r)?C(Q_.Diagnostics.Object_literal_may_only_specify_known_properties_but_0_does_not_exist_in_type_1_Did_you_mean_to_write_2,G(e),W(a),r):C(Q_.Diagnostics.Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1,G(e),W(a)))),{value:!0}},n=0,c=ga(i);n<c.length;n++){var l=c[n],l=r(l);if("object"==typeof l)return l.value}}return!1}(e,t,r))return r&&g(n,e,t),0;(e=>{if(196608&e.flags)for(var t=!1,r=0,n=e.types;r<n.length;r++){var i=n[r];if(!(6144&i.flags)){if(t)return 1;t=!0}}})(t)&&(e=kc(e))}return S===gr||196608&e.flags||65536&t.flags||m||e===_e||!(0<X(e).length||0<ee(e,0).length||0<ee(e,1).length)||!k(t)||((e,t)=>{for(var r=!!(33554432&e.flags),n=0,i=X(e);n<i.length;n++){var a=i[n];if(Iu(t,a.escapedName,r))return 1}})(e,t)?(i=0,a=T,s=m,m=!1,65536&e.flags?i=(S===gr?b:(e,t,r)=>{for(var n=-1,e=e.types,i=0,a=e;i<a.length;i++){var s=E(a[i],t,r);if(!s)return 0;n&=s}return n})(e,t,r&&!(8190&e.flags)):(65536&t.flags?i=y(e,t,r&&!(8190&e.flags)&&!(8190&t.flags)):131072&t.flags?(m=!0,i=((e,t,r)=>{for(var n=-1,t=t.types,i=0,a=t;i<a.length;i++){var s=a[i],s=E(e,s,r);if(!s)return 0;n&=s}return n})(e,t,r)):131072&e.flags&&(i=b(e,t,!1)),!i&&(1032192&e.flags||1032192&t.flags)&&(i=x(e,t,r))&&(T=a)),m=s,!i&&r&&(32768&e.flags&&8190&t.flags?(c=t,l=W(o=e),u=W(c),(ye===o&&B===c||ve===o&&dt===c||be===o&&_t===c||vs(!1)===o&&mt===c)&&C(Q_.Diagnostics._0_is_a_primitive_but_1_is_a_wrapper_object_Prefer_using_0_when_possible,u,l)):e.symbol&&32768&e.flags&&_e===e&&C(Q_.Diagnostics.The_Object_type_is_assignable_to_very_few_other_types_Did_you_mean_to_use_the_any_type_instead),g(n,e,t)),i):(r&&(o=ee(e,0),c=ee(e,1),0<o.length&&E(te(o[0]),t,!1)||0<c.length&&E(te(c[0]),t,!1)?C(Q_.Diagnostics.Value_of_type_0_has_no_properties_in_common_with_type_1_Did_you_mean_to_call_it,W(e),W(t)):C(Q_.Diagnostics.Type_0_has_no_properties_in_common_with_type_1,W(e),W(t))),0)}function h(e,t){for(var r=-1,n=0,i=e.types;n<i.length;n++){var a=y(i[n],t,!1);if(!a)return 0;r&=a}return r}function y(e,t,r){var n=t.types;if(65536&t.flags&&Bs(n,e))return-1;for(var i=0,a=n;i<a.length;i++){var s=E(e,a[i],!1);if(s)return s}return r&&E(e,v(e,t)||n[n.length-1],!0),0}function v(e,t){var r,e=ga(e);if(e){var n=((e,t)=>{for(var r,n=0,i=e;n<i.length;n++){var a=i[n];if(Hc(t,a.escapedName)){if(r)return;r=a}}return r})(e,t);if(n)for(var i=Q(n),a=0,s=t.types;a<s.length;a++){var o=s[a],c=ni(o,n.escapedName);if(c&&E(i,c)){if(r)return;r=o}}}return r}function b(e,t,r){var n=e.types;if(65536&e.flags&&Bs(n,t))return-1;for(var i=n.length,a=0;a<i;a++){var s=E(n[a],t,r&&a===i-1);if(s)return s}return 0}function x(e,t,r){if(_)return 0;var n=Yo(e,t,S),i=S.get(n);if(void 0!==i){if(!r||2!==i)return 1===i?-1:0;S.set(n,3)}if(o){for(var a=0;a<u;a++)if(n===o[a])return 1;if(100===p)return _=!0,0}else o=[],c=[],l=[];var i=u,s=(o[u]=n,u++,c[p]=e,l[p]=t,p++,f),e=(1&f||!tc(e,c,p)||(f|=1),2&f||!tc(t,l,p)||(f|=2),3!==f?((e,t,r)=>{var n,i=T;if(16384&t.flags){if(32&P(e)&&pa(e)===Gs(t)&&!e.declaration.questionToken){var a=fa(e),s=eo(t,da(e));if(n=E(a,s,r))return n}}else if(262144&t.flags){if(262144&e.flags&&(n=E(t.type,e.type,!1)))return n;var o=(e=>(16384&e.flags?ya:524288&e.flags?va:ba)(e))(t.type);if(o&&(n=E(e,Gs(o),r)))return n}else if(524288&t.flags){o=va(t);if(o&&(n=E(e,o,r)))return T=i,n}if(16384&e.flags)if(32&P(t)&&pa(t)===Gs(e)){s=eo(e,da(t)),a=fa(t);if(n=E(s,a,r))return T=i,n}else{o=ya(e);if(o||!(16777216&t.flags))if((!o||1&o.flags)&&(o=I),n=E(o,t,r&&o!==I))return T=i,n}else if(524288&e.flags){if(o=va(e)){if(n=E(o,t,r))return T=i,n}else if(524288&t.flags&&e.indexType===t.indexType&&(n=E(e.objectType,t.objectType,r)))return n}else{if(4&P(e)&&4&P(t)&&e.target===t.target&&!(67108864&e.flags||67108864&t.flags)){s=Ho(e.target);if(n=((e,t,r,n)=>{var i=e.typeArguments||Q_.emptyArray,a=t.typeArguments||Q_.emptyArray;if(i.length!==a.length&&S===hr)return 0;for(var s=(i.length<=a.length?i:a).length,o=-1,c=0;c<s;c++){var l=c<r.length?r[c]:1;if(4!==l){var u=i[c],d=a[c],p=-1;if(1===l?p=E(u,d,n):2===l?p=E(d,u,n):3===l?p=(p=E(d,u,!1))||E(u,d,n):(p=E(u,d,n))&&(p&=E(d,u,n)),!p)return 0;o&=p}}return o})(e,t,s,r))return n;if(s!==Q_.emptyArray&&!((e,t)=>{for(var r=0;r<t.length;r++)if(1===t[r]&&1024&e.typeArguments[r].flags)return 1})(t,s)){if(!r||!Q_.some(s,function(e){return 0===e}))return 0;T=i}}a=!!(8190&e.flags);if(163840&(e=S!==hr?Z(e):e).flags&&32768&t.flags){o=r&&T===i&&!a;if((e=>32&P(e)&&e.declaration.questionToken)(t)&&!_a(e)&&Ko(e)?n=-1:_a(t)?n=_a(e)?((e,t,r)=>{var n=!!e.declaration.readonlyToken,i=!!e.declaration.questionToken,a=!!t.declaration.readonlyToken,s=!!t.declaration.questionToken,n=S===hr?n==a&&i==s:S===gr||!i||s;if(n)if(a=E(pa(t),pa(e),r))return i=yo([da(e)],[da(t)]),a&E(j(fa(e),i),fa(t),r);return 0})(e,t,o):0:(n=((e,t,r)=>{if(S===hr){var n=t;if(!(32768&(i=e).flags&&32768&n.flags))return 0;var i=ga(i),a=ga(n);if(i.length!==a.length)return 0;for(var s=-1,o=0,c=i;o<c.length;o++){var l=c[o],u=ha(n,l.escapedName);if(!u)return 0;l=rc(l,u,E);if(!l)return 0;s&=l}return s}var d=S===_r&&!(128&P(e));if(d=Fc(e,t,d))return r&&C(Q_.Diagnostics.Property_0_is_missing_in_type_1,G(d),W(e)),0;for(var p=-1,d=ga(t),f=0,_=d;f<_.length;f++){var m=_[f];if(!(4194304&m.flags)){var g=O(e,m.escapedName);if(g&&g!==m){var h=Q_.getDeclarationModifierFlagsFromSymbol(g),y=Q_.getDeclarationModifierFlagsFromSymbol(m);if(8&h||8&y){if(256&Q_.getCheckFlags(g))return r&&C(Q_.Diagnostics.Property_0_has_conflicting_declarations_and_is_inaccessible_in_type_1,G(g),W(e)),0;if(g.valueDeclaration!==m.valueDeclaration)return r&&(8&h&&8&y?C(Q_.Diagnostics.Types_have_separate_declarations_of_a_private_property_0,G(m)):C(Q_.Diagnostics.Property_0_is_private_in_type_1_but_not_in_type_2,G(m),W(8&h?e:t),W(8&h?t:e))),0}else if(16&y){if(!((n,e)=>!Xo(e,function(e){return!!(16&Q_.getDeclarationModifierFlagsFromSymbol(e))&&(t=n,r=Zo(e),!Xo(t,function(e){e=Zo(e);return!!e&&Ti(e,r)}));var t,r}))(g,m))return r&&C(Q_.Diagnostics.Property_0_is_protected_but_type_1_is_not_a_class_derived_from_2,G(m),W(Zo(g)||e),W(Zo(m)||t)),0}else if(16&h)return r&&C(Q_.Diagnostics.Property_0_is_protected_in_type_1_but_public_in_type_2,G(m),W(e),W(t)),0;y=E(Q(g),Q(m),r);if(!y)return r&&C(Q_.Diagnostics.Types_of_property_0_are_incompatible,G(m)),0;if(p&=y,S!==gr&&16777216&g.flags&&!(16777216&m.flags))return r&&C(Q_.Diagnostics.Property_0_is_optional_in_type_1_but_required_in_type_2,G(m),W(e),W(t)),0}}}return p})(e,t,o))&&(n&=D(e,t,0,o))&&(n&=D(e,t,1,o))&&(n&=N(e,t,0,a,o))&&(n&=N(e,t,1,a,o)),n)return T=i,n}}return 0})(e,t,r):1);if(f=s,p--,e){if(-1===e||0===p){for(a=i;a<u;a++)S.set(o[a],1);u=i}}else S.set(n,r?3:2),u=i;return e}function k(e){var t;return 32768&e.flags?0===(t=ma(e)).callSignatures.length&&0===t.constructSignatures.length&&!t.stringIndexInfo&&!t.numberIndexInfo&&0<t.properties.length&&Q_.every(t.properties,function(e){return!!(16777216&e.flags)}):!!(131072&e.flags)&&Q_.every(e.types,k)}function D(e,t,r,n){if(S===hr){var i=t,a=r,s=ee(e,a),o=ee(i,a);if(s.length!==o.length)return 0;for(var c=-1,l=0;l<s.length;l++){var u=nc(s[l],o[l],!1,!1,!1,E);if(!u)return 0;c&=u}return c}if(t===kt||e===kt)return-1;var d=ee(e,r),p=ee(t,r);if(1===r&&d.length&&p.length){if(ec(e)&&!ec(t))return n&&C(Q_.Diagnostics.Cannot_assign_an_abstract_constructor_type_to_a_non_abstract_constructor_type),0;if(!((e,t,r)=>!e.declaration||!t.declaration||(e=Q_.getSelectedModifierFlags(e.declaration,24),8===(t=Q_.getSelectedModifierFlags(t.declaration,24)))||16===t&&8!==e||16!==t&&!e||void(r&&C(Q_.Diagnostics.Cannot_assign_a_0_constructor_type_to_a_1_constructor_type,qn(e),qn(t))))(d[0],p[0],n))return 0}var f=-1,_=T;if(64&P(e)&&64&P(t)&&e.symbol===t.symbol)for(var m=0;m<p.length;m++){if(!(y=A(d[m],p[m],!0,n)))return 0;f&=y}else if(1===d.length&&1===p.length)i=S===gr||R.noStrictGenericChecks,f=A(d[0],p[0],i,n);else e:for(var g=0,h=p;g<h.length;g++){for(var y,v=h[g],b=n,x=0,k=d;x<k.length;x++){if(y=A(k[x],v,!0,b)){f&=y,T=_;continue e}b=!1}return b&&C(Q_.Diagnostics.Type_0_provides_no_match_for_the_signature_1,W(e),zn(v,void 0,void 0,r)),0}return f}function A(e,t,r,n){return Uo(r?Va(e):e,r?Va(t):t,0,!1,n,C,E)}function w(e,t,r){e=E(e.type,t.type,r);return!e&&r&&C(Q_.Diagnostics.Index_signatures_are_incompatible),e}function N(e,t,r,n,i){var a,s,o;return S===hr?(s=e,o=F(o=t,a=r),(s=F(s,a))||o?s&&o&&s.isReadonly===o.isReadonly?E(s.type,o.type):0:-1):!(a=F(t,r))||1&a.type.flags&&!n?-1:(s=F(e,r)||1===r&&F(e,0))?w(s,a,i):_a(e)?0===r&&E(fa(e),a.type,i):bc(e)?(o=-1,(o=0===r&&(t=F(e,1))?w(t,a,i):o)&&(o&=((e,t,r,n)=>{for(var i=-1,a=0,s=ga(e);a<s.length;a++){var o=s[a];if(0===r||uu(o.escapedName)){var c=E(Q(o),t,n);if(!c)return n&&C(Q_.Diagnostics.Property_0_is_incompatible_with_index_signature,G(o)),0;i&=c}}return i})(e,a.type,r,i)),o):(i&&C(Q_.Diagnostics.Index_signature_is_missing_in_type_0,W(e)),0)}}function Vo(e,t,r){e=ns(e,Q_.map(e.typeParameters,function(e){return e===t?r:e}));return e.flags|=67108864,e}function Ho(e){if(!oe)return Q_.emptyArray;var t=e.typeParameters||Q_.emptyArray;if(!(r=e.variances)){if(e===ge||e===he)r=[1];else{e.variances=Q_.emptyArray;for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n],s=Vo(e,a,Et),o=Vo(e,a,Dt),o=(S(o,s)?1:0)|(S(s,o)?2:0);3===o&&S(Vo(e,a,At),s)&&(o=4),r.push(o)}}e.variances=r}return r}function Go(e){return 16384&e.flags&&!Za(e)}function Wo(e){return 4&P(e)&&Q_.some(e.typeArguments,function(e){return Go(e)||Wo(e)})}function Qo(e,t,r){void 0===r&&(r=0);for(var n=""+e.target.id,i=0,a=e.typeArguments;i<a.length;i++){var s,o=a[i];Go(o)?((s=Q_.indexOf(t,o))<0&&(s=t.length,t.push(o)),n+="="+s):r<4&&Wo(o)?n+="<"+Qo(o,t,r+1)+">":n+="-"+o.id}return n}function Yo(e,t,r){return r===hr&&e.id>t.id&&(r=e,e=t,t=r),Wo(e)&&Wo(t)?Qo(e,r=[])+","+Qo(t,r):e.id+","+t.id}function Xo(e,t){if(!(6&Q_.getCheckFlags(e)))return t(e);for(var r=0,n=e.containingType.types;r<n.length;r++){var i=O(n[r],e.escapedName),i=i&&Xo(i,t);if(i)return i}}function Zo(e){return e.parent&&32&e.parent.flags?Y(kn(e)):void 0}function ec(e){if(16&P(e)){e=e.symbol;if(e&&32&e.flags){e=Sf(e);if(e&&Q_.hasModifier(e,128))return 1}}}function tc(e,t,r){if(5<=r&&32768&e.flags){var n=e.symbol;if(n)for(var i=0,a=0;a<r;a++){var s=t[a];if(32768&s.flags&&s.symbol===n&&5<=++i)return 1}}}function rc(e,t,r){if(e===t)return-1;var n=24&Q_.getDeclarationModifierFlagsFromSymbol(e);if(n!=(24&Q_.getDeclarationModifierFlagsFromSymbol(t)))return 0;if(n){if(kf(e)!==kf(t))return 0}else if((16777216&e.flags)!=(16777216&t.flags))return 0;return Ud(e)!==Ud(t)?0:r(Q(e),Q(t))}function nc(e,t,r,n,i,a){if(e===t)return-1;if(o=t,r=r,((s=e).parameters.length!==o.parameters.length||s.minArgumentCount!==o.minArgumentCount||s.hasRestParameter!==o.hasRestParameter)&&(u=s.hasRestParameter?1:0,c=o.hasRestParameter?1:0,!(r&&s.minArgumentCount<=o.minArgumentCount&&(c<u||u==c&&s.parameters.length>=o.parameters.length))))return 0;var s,o,c;if(Q_.length(e.typeParameters)!==Q_.length(t.typeParameters))return 0;e=Va(e),t=Va(t);var l=-1;if(!n){r=za(e);if(r){var u=za(t);if(u){if(!(d=a(r,u)))return 0;l&=d}}}for(var d,p=t.parameters.length,f=0;f<p;f++){if(!(d=a(ic(e,f)?$a(e):Cd(e.parameters[f]),ic(t,f)?$a(t):Cd(t.parameters[f]))))return 0;l&=d}return i||(l&=a(te(e),te(t))),l}function ic(e,t){return e.hasRestParameter&&t>=e.parameters.length-1}function ac(e){return(e=>{for(var t=0,r=e;t<r.length;t++){var n=r[t],i=dc(n),a=a||i;if(i===n||i!==a)return}return 1})(e)?L(e):Q_.reduceLeft(e,function(e,t){return Oo(e,t)?t:e})}function sc(e){return 4&P(e)&&e.target===ge}function oc(e){return 4&P(e)&&(e.target===ge||e.target===he)||!(6144&e.flags)&&S(e,Ce)}function cc(e){return!!O(e,"0")}function lc(e){return!!(6368&e.flags)}function uc(e){return!!(8&e.flags)||(65536&e.flags?!!(256&e.flags)||!Q_.forEach(e.types,function(e){return!lc(e)}):lc(e))}function dc(e){return 256&e.flags?Ki(e):32&e.flags?B:64&e.flags?dt:128&e.flags?_t:65536&e.flags?L(Q_.sameMap(e.types,dc)):e}function pc(e){return 256&e.flags?Ki(e):32&e.flags&&1048576&e.flags?B:64&e.flags&&1048576&e.flags?dt:128&e.flags?_t:65536&e.flags?L(Q_.sameMap(e.types,pc)):e}function fc(e){return 4&P(e)&&8&e.target.objectFlags}function _c(e){for(var t=0,r=0,n=e;r<n.length;r++)t|=mc(n[r]);return t}function mc(e){return 65536&e.flags?_c(e.types):32&e.flags?""===e.value?32:0:64&e.flags?0===e.value?64:0:128&e.flags?e===ft?128:0:7406&e.flags}function gc(e){return 7392&mc(e)?pl(e,function(e){return!(7392&mc(e))}):e}function hc(e){return 2&e.flags?jt:4&e.flags?Kt:8&e.flags||e===ft?ft:7168&e.flags||32&e.flags&&""===e.value||64&e.flags&&0===e.value?e:ht}function yc(e,t){t=t&~e.flags&6144;return 0==t?e:L(2048==t?[e,ot]:4096==t?[e,lt]:[e,ot,lt])}function vc(e){return M?Yc(e,524288):e}function bc(e){return e.symbol&&0!=(6656&e.symbol.flags)&&0===ee(e,0).length&&0===ee(e,1).length}function xc(e,t){var r=Rr(e.flags,e.escapedName);return r.declarations=e.declarations,r.parent=e.parent,r.type=t,(r.target=e).valueDeclaration&&(r.valueDeclaration=e.valueDeclaration),r}function kc(e){var t,r;return 128&P(e)&&1048576&e.flags?e.regularType||(r=((e,t)=>{for(var r=Q_.createSymbolTable(),n=0,i=ga(e);n<i.length;n++){var a=i[n],s=Q(a),o=t(s);r.set(a.escapedName,o===s?a:xc(a,o))}return r})(t=e,kc),(r=In(t.symbol,r,t.callSignatures,t.constructSignatures,t.stringIndexInfo,t.numberIndexInfo)).flags=-1048577&t.flags,r.objectFlags|=128,e.regularType=r):e}function Sc(e){for(var t,r,n,i=Q_.createSymbolTable(),a=0,s=ga(e);a<s.length;a++){var o=s[a];i.set(o.escapedName,4&o.flags?(n=r=void 0,r=Q(t=o),(n=Cc(r))===r?t:xc(t,n)):o)}var c=F(e,0),l=F(e,1);return In(e.symbol,i,Q_.emptyArray,Q_.emptyArray,c&&Ya(Cc(c.type),c.isReadonly),l&&Ya(Cc(l.type),l.isReadonly))}function Tc(e){return 6144&e.flags?e:Cc(e)}function Cc(e){if(6291456&e.flags){if(6144&e.flags)return E;if(128&P(e))return Sc(e);if(65536&e.flags)return L(Q_.sameMap(e.types,Tc));if(sc(e)||fc(e))return ns(e.target,Q_.sameMap(e.typeArguments,Cc))}return e}function Ec(e,t){var r,n=W(Cc(t));switch(e.kind){case 149:case 148:r=Q_.Diagnostics.Member_0_implicitly_has_an_1_type;break;case 146:r=e.dotDotDotToken?Q_.Diagnostics.Rest_parameter_0_implicitly_has_an_any_type:Q_.Diagnostics.Parameter_0_implicitly_has_an_1_type;break;case 176:r=Q_.Diagnostics.Binding_element_0_implicitly_has_an_1_type;break;case 228:case 151:case 150:case 153:case 154:case 186:case 187:if(!e.name)return void V(e,Q_.Diagnostics.Function_expression_which_lacks_return_type_annotation_implicitly_has_an_0_return_type,n);r=Q_.Diagnostics._0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type;break;default:r=Q_.Diagnostics.Variable_0_implicitly_has_an_1_type}V(e,r,Q_.declarationNameToString(Q_.getNameOfDeclaration(e)),n)}function Dc(e,t){$&&h&&2097152&t.flags&&!function e(t){var r=!1;if(65536&t.flags)for(var n=0,i=t.types;n<i.length;n++)e(l=i[n])&&(r=!0);if(sc(t)||fc(t))for(var a=0,s=t.typeArguments;a<s.length;a++)e(l=s[a])&&(r=!0);if(128&P(t))for(var o=0,c=ga(t);o<c.length;o++){var l,u=c[o];2097152&(l=Q(u)).flags&&(e(l)||V(u.valueDeclaration,Q_.Diagnostics.Object_literal_s_property_0_implicitly_has_an_1_type,Q_.symbolName(u),W(Cc(l))),r=!0)}return r}(t)&&Ec(e,t)}function Ac(e,t,r){for(var n=e.parameters.length,i=t.parameters.length,a=e.hasRestParameter&&t.hasRestParameter?Math.max(n,i):e.hasRestParameter?i:t.hasRestParameter?n:Math.min(n,i),s=0;s<a;s++)r(Ed(e,s),Ed(t,s))}function wc(e,t,r,n){var i=n?Q_.map(n,Ic):Q_.map(e.typeParameters,Nc),a=function(e){for(var t=0;t<i.length;t++)if(e===i[t].typeParameter)return i[t].isFixed=!0,Uc(a,t);return e};return a.signature=e,a.inferences=i,a.flags=t,a.compareTypes=r||Po,a}function Nc(e){return{typeParameter:e,candidates:void 0,inferredType:void 0,priority:void 0,topLevel:!0,isFixed:!1}}function Ic(e){return{typeParameter:e.typeParameter,candidates:e.candidates&&e.candidates.slice(),inferredType:e.inferredType,priority:e.priority,topLevel:e.topLevel,isFixed:e.isFixed}}function Pc(e){var t=P(e);return!!(802816&e.flags||4&t&&Q_.forEach(e.typeArguments,Pc)||16&t&&e.symbol&&10288&e.symbol.flags||32&t||196608&e.flags&&(e=>(void 0===e.couldContainTypeVariables&&(e.couldContainTypeVariables=Q_.forEach(e.types,Pc)),e.couldContainTypeVariables))(e))}function Oc(e,t){return e===t||196608&e.flags&&Q_.forEach(e.types,function(e){return Oc(e,t)})}function Fc(e,t,r){for(var n=0,i=ga(t);n<i.length;n++){var a=i[n];if(r||!(16777216&a.flags))if(!O(e,a.escapedName))return a}}function Lc(i,e,x,k){var S,T;function C(e,t){if(Pc(t))if(e.aliasSymbol&&e.aliasTypeArguments&&e.aliasSymbol===t.aliasSymbol)for(var r=e.aliasTypeArguments,n=t.aliasTypeArguments,i=0;i<r.length;i++)C(r[i],n[i]);else{if(65536&e.flags&&65536&t.flags&&!(256&e.flags&&256&t.flags)||131072&e.flags&&131072&t.flags){if(e===t){for(var a=0,s=e.types;a<s.length;a++)C(f=s[a],f);return}for(var o,c=void 0,l=0,u=e.types;l<u.length;l++)Rc(f=u[l],t.types)?((c=c||[]).push(f),C(f,f)):96&f.flags&&Rc(o=dc(f),t.types)&&(c=c||[]).push(f,o);c&&(e=Mc(e,c),t=Mc(t,c))}if(540672&t.flags)8388608&e.flags||e===yt||!(_=D(t))||_.isFixed||(!_.candidates||k<_.priority?(_.candidates=[e],_.priority=k):k===_.priority&&_.candidates.push(e),8&k)||!(16384&t.flags)||Oc(x,t)||(_.topLevel=!1);else if(4&P(e)&&4&P(t)&&e.target===t.target)for(var r=e.typeArguments||Q_.emptyArray,n=t.typeArguments||Q_.emptyArray,d=(r.length<n.length?r:n).length,p=Ho(e.target),i=0;i<d;i++)(i<p.length&&2===p[i]?E:C)(r[i],n[i]);else if(262144&e.flags&&262144&t.flags)C(e.type,t.type);else if(524288&e.flags&&524288&t.flags)C(e.objectType,t.objectType),C(e.indexType,t.indexType);else if(196608&t.flags){for(var f,_,m=0,g=void 0,h=0,y=n=t.types;h<y.length;h++)D(f=y[h])?(g=f,m++):C(e,f);1===m&&(_=k,k|=2,C(e,g),k=_)}else if(65536&e.flags)for(var v=0,b=r=e.types;v<b.length;v++)C(b[v],t);else 163840&(e=Z(e)).flags&&(_=e.id+","+t.id,T&&T.get(_)||((T=T||Q_.createMap()).set(_,!0),(_=32768&t.flags&&!(16&P(t)&&t.symbol&&32&t.symbol.flags)?t.symbol:void 0)?Q_.contains(S,_)||((S=S||[]).push(_),A(e,t),S.pop()):A(e,t)))}}function E(e,t){oe?(k^=1,C(e,t),k^=1):C(e,t)}function D(e){if(540672&e.flags)for(var t=0,r=i;t<r.length;t++){var n=r[t];if(e===n.typeParameter)return n}}function A(e,t){if(_a(e)&&_a(t)&&(C(pa(e),pa(t)),C(fa(e),fa(t))),32&P(t)){var r=pa(t);if(262144&r.flags)return void((u=D(r.type))&&!u.isFixed&&(i=((e,t)=>{var r=X(e),e=F(e,0);if(0!==r.length||e){for(var n=Nc(eo(pa(t).type,da(t))),i=[n],a=fa(t),s=!t.declaration.readonlyToken,o=t.declaration.questionToken?0:16777216,c=Q_.createSymbolTable(),l=0,u=r;l<u.length;l++){var d=u[l],p=_(Q(d));if(!p)return;var f=Rr(4|d.flags&o,d.escapedName);f.checkFlags=s&&Ud(d)?8:0,f.declarations=d.declarations,f.type=p,c.set(d.escapedName,f)}if(e){t=_(e.type);if(!t)return;e=Ya(t,s&&e.isReadonly)}return In(void 0,c,Q_.emptyArray,Q_.emptyArray,e,void 0)}function _(e){return n.candidates=void 0,Lc(i,e,a),n.candidates&&L(n.candidates,!0)}})(e,t))&&(d=k,k|=4,C(i,u.typeParameter),k=d));if(16384&r.flags)return C(Gs(e),r),void C(L(Q_.map(X(e),Q)),fa(t))}if(!Fc(e,t,!1)||!Fc(t,e,!1)){for(var n=e,i=ga(i=t),a=0,s=i;a<s.length;a++){var o=s[a],c=O(n,o.escapedName);c&&C(Q(c),Q(o))}p(e,t,0),p(e,t,1);var l,u=e,d=t,r=Ia(d,0);r&&(l=Ia(u,0)||Pa(u,0))&&C(l,r),(r=Ia(d,1))&&(l=Ia(u,1)||Ia(u,0)||Pa(u,1))&&C(l,r)}}function p(e,t,r){for(var n,i,a=ee(e,r),s=ee(t,r),o=a.length,c=s.length,l=o<c?o:c,u=0;u<l;u++)n=Va(a[o-l+u]),i=Va(s[c-l+u]),Ac(n,i,E),n.typePredicate&&i.typePredicate&&n.typePredicate.kind===i.typePredicate.kind?C(n.typePredicate.type,i.typePredicate.type):C(te(n),te(i))}void 0===k&&(k=0),C(e,x)}function Rc(e,t){for(var r=0,n=t;r<n.length;r++)if(No(n[r],e))return 1}function Mc(e,t){for(var r=[],n=0,i=e.types;n<i.length;n++){var a=i[n];Rc(a,t)||r.push(a)}return(65536&e.flags?L:Vs)(r)}function Uc(e,t){var r,n,i,a,s,o=e.inferences[t],c=o.inferredType;return!c&&(c=o.candidates?(i=e.signature,s=o.topLevel&&!((s=ya(s=o.typeParameter))&&zd(s,270334))&&(o.isFixed||!Oc(te(i),o.typeParameter))?Q_.sameMap(o.candidates,pc):o.candidates,Cc(1&o.priority?Q_.reduceLeft(s,function(e,t){return Oo(t,e)?t:e}):1&e.flags||8&o.priority?L(s,!0):(i=s,M?(a=Q_.filter(i,function(e){return!(6144&e.flags)})).length?yc(ac(a),6144&_c(i)):L(i,!0):ac(i)))):2&e.flags?yt:(a=Ta(o.typeParameter))?j(a,vo((r=e.signature.typeParameters,n=t,function(e){return Q_.indexOf(r,e)>=n?I:e}),e)):Bc(!!(4&e.flags)),o.inferredType=c,i=ya(e.signature.typeParameters[t]))&&(t=j(i,e),e.compareTypes(c,Xi(t,c))||(o.inferredType=c=t)),c}function Bc(e){return e?E:I}function jc(e){for(var t=[],r=0;r<e.inferences.length;r++)t.push(Uc(e,r));return t}function Kc(e){var t=v(e);return t.resolvedSymbol||(t.resolvedSymbol=!Q_.nodeIsMissing(e)&&qr(e,e.escapedText,1156031,Q_.Diagnostics.Cannot_find_name_0,e,!Q_.isWriteOnlyAccess(e),Q_.Diagnostics.Cannot_find_name_0_Did_you_mean_1)||U),t.resolvedSymbol}function zc(e){return!!Q_.findAncestor(e,function(e){return 162===e.kind||71!==e.kind&&143!==e.kind&&"quit"})}function $c(e){if(174!==e.parent.kind)return""+e.parent.elements.indexOf(e);var t=e.propertyName||e.name;switch(t.kind){case 71:return Q_.idText(t);case 144:return Q_.isStringOrNumericLiteral(t.expression)?t.expression.text:void 0;case 9:case 8:return t.text;default:Q_.Debug.fail("Unexpected name kind for binding element name")}}function Jc(e,t){switch(e.kind){case 71:return 71===t.kind&&Kc(e)===Kc(t)||(226===t.kind||176===t.kind)&&Sn(Kc(e))===H(t);case 99:return 99===t.kind;case 97:return 97===t.kind;case 179:return 179===t.kind&&e.name.escapedText===t.name.escapedText&&Jc(e.expression,t.expression);case 176:if(179!==t.kind)return!1;var r,n=t;if(n.name.escapedText!==$c(e))return!1;if(176===e.parent.parent.kind&&Jc(e.parent.parent,n.expression))return!0;if(226===e.parent.parent.kind)return(r=e.parent.parent.initializer)&&Jc(r,n.expression)}return!1}function qc(e,t){for(;179===e.kind;)if(Jc(e=e.expression,t))return!0;return!1}function Vc(e,t){return 179===t.kind&&qc(e,t.expression)&&Hc(function e(t){if(71===t.kind)return Q(Kc(t));{var r;if(179===t.kind)return(r=e(t.expression))&&ni(r,t.name.escapedText)}return}(t.expression),t.name.escapedText)}function Hc(e,t){if(e&&65536&e.flags){e=Ea(e,t);if(e&&2&Q_.getCheckFlags(e))return void 0===e.isDiscriminantProperty&&(e.isDiscriminantProperty=32&e.checkFlags&&uc(Q(e))),e.isDiscriminantProperty}return!1}function Gc(e,t){return Jc(e,t)||qc(e,t)}function Wc(e,a){if(e!==a){if(8192&a.flags)return a;var t=pl(e,function(e){var t=a,r=e;if(!(65536&t.flags))return S(t,r);for(var n=0,i=t.types;n<i.length;n++)if(S(i[n],r))return!0;return!1});if(!(8192&t.flags))return t}return e}function Qc(e){var t,r=e.flags;if(2&r)return M?4079361:4194049;if(32&r)return t=""===e.value,M?t?3030785:1982209:t?3145473:4194049;if(20&r)return M?4079234:4193922;if(64&r)return t=0===e.value,M?t?3030658:1982082:t?3145346:4193922;if(8&r)return M?4078980:4193668;if(136&r)return M?e===ft?3030404:1981828:e===ft?3145092:4193668;if(32768&r)return(n=ma(t=e)).callSignatures.length||n.constructSignatures.length||n.members.get("bind")&&Oo(t,me)?M?6164448:8376288:M?6166480:8378320;if(3072&r)return 2457472;if(4096&r)return 2340752;if(512&r)return M?1981320:4193160;if(16777216&r)return M?6166480:8378320;if(540672&r)return Qc(ba(e)||I);if(196608&r){for(var n=e.types,i=0,a=0,s=n;a<s.length;a++)i|=Qc(s[a]);return i}return 8388607}function Yc(e,t){var r,n;return 524288&e.flags?(n=pl(r=ba(e)||I,function(e){return 0!=(Qc(e)&t)}))!==r?n:e:pl(e,function(e){return 0!=(Qc(e)&t)})}function Xc(e,t){return t?(t=op(t),L([Yc(e,131072),t])):e}function Zc(e,t){t=Q_.getTextOfPropertyName(t);return ni(e,t)||uu(t)&&Ia(e,1)||Ia(e,0)||q}function el(e,t){return cc(e)&&ni(e,""+t)||cf(e,void 0,!1,!1)||q}function tl(e){return Ls(cf(e,void 0,!1,!1)||q)}function rl(e){return 194===e.parent.kind&&e.parent.left===e||216===e.parent.kind&&e.parent.initializer===e}function nl(e){return Zc(il(e.parent),e.name)}function il(e){var t,r,n=e.parent;switch(n.kind){case 215:return B;case 216:return of(n.expression,n.awaitModifier)||q;case 194:return 177===(r=n).parent.kind&&rl(r.parent)||261===r.parent.kind&&rl(r.parent.parent)?Xc(il(r),r.right):op(r.right);case 188:return ot;case 177:return r=e,el(il(t=n),Q_.indexOf(t.elements,r));case 198:return tl(il(n.parent));case 261:return nl(n);case 262:return Xc(nl(t=n),t.objectAssignmentInitializer)}return q}function al(e){var t;return e.initializer?v(t=e.initializer).resolvedType||op(t):215===e.parent.parent.kind?B:216===e.parent.parent.kind&&of(e.parent.parent.expression,e.parent.parent.awaitModifier)||q}function sl(e){return 226===e.kind?al(e):(t=(e=e).parent,r=sl(t.parent),Xc(174===t.kind?Zc(r,e.propertyName||e.name):e.dotDotDotToken?tl(r):el(r,Q_.indexOf(t.elements,e)),e.initializer));var t,r}function ol(e){return(226===e.kind||176===e.kind?sl:il)(e)}function cl(e){switch(e.kind){case 185:return cl(e.expression);case 194:switch(e.operatorToken.kind){case 58:return cl(e.left);case 26:return cl(e.right)}}return e}function ll(e){var t=v(e);if(!t.switchTypes){t.switchTypes=[];for(var r=0,n=e.caseBlock.clauses;r<n.length;r++){var i=n[r],i=257===(i=i).kind?lc(i=po(op(i.expression)))?i:void 0:ht;if(void 0===i)return t.switchTypes=Q_.emptyArray;t.switchTypes.push(i)}}return t.switchTypes}function ul(e,t){return e===t||65536&t.flags&&((e,t)=>{if(65536&e.flags){for(var r=0,n=e.types;r<n.length;r++){var i=n[r];if(!Bs(t.types,i))return!1}return!0}return!!(256&e.flags&&Ki(e)===t)||Bs(t.types,e)})(e,t)}function dl(e,t){return 65536&e.flags?Q_.forEach(e.types,t):t(e)}function pl(e,t){var r,n;return 65536&e.flags?(r=e.types,(n=Q_.filter(r,t))===r?e:Js(n)):t(e)?e:ht}function fl(e,t){if(!(65536&e.flags))return t(e);for(var r,n,i=0,a=e.types;i<a.length;i++){var s=t(a[i]);s&&(r?n?n.push(s):n=[r,s]:r=s)}return n?L(n):r}function _l(e,t){return pl(e,function(e){return 0!=(e.flags&t)})}function ml(e,t){return ul(B,e)&&zd(t,32)||ul(dt,e)&&zd(t,64)?fl(e,function(e){return 2&e.flags?_l(t,34):4&e.flags?_l(t,68):e}):e}function gl(e){return 0===e.flags}function hl(e){return 0===e.flags?e.type:e}function yl(e,t){return t?{flags:0,type:e}:e}function vl(e){return it[e.id]||(it[e.id]=(e=e,(t=Dn(256)).elementType=e,t));var t}function bl(e,t){var r,n,t=dc((r=(t=t).contextualType,t.contextualType=E,n=op(t),t.contextualType=r,n));return ul(t,e.elementType)?e:vl(L([e.elementType,t]))}function xl(e){return e.finalArrayType||(e.finalArrayType=8192&(e=e.elementType).flags?Te:Ls(65536&e.flags?L(e.types,!0):e))}function kl(e){return 256&P(e)?xl(e):e}function Sl(e){return 256&P(e)?e.elementType:ht}function Tl(e,t){return(e=>{for(var t=!1,r=0,n=e;r<n.length;r++){var i=n[r];if(!(8192&i.flags)){if(!(256&P(i)))return;t=!0}}return t})(e)?vl(L(Q_.map(e,Sl))):L(Q_.sameMap(e,kl),t)}function Cl(e){var e=function e(t){var r=t.parent;return 185===r.kind||194===r.kind&&58===r.operatorToken.kind&&r.left===t||194===r.kind&&26===r.operatorToken.kind&&r.right===t?e(r):t}(e),t=e.parent,r=179===t.kind&&("length"===t.name.escapedText||181===t.parent.kind&&Q_.isPushOrUnshiftIdentifier(t.name)),e=180===t.kind&&t.expression===e&&194===t.parent.kind&&58===t.parent.operatorToken.kind&&t.parent.left===t&&!Q_.isAssignmentTarget(t.parent)&&$d(op(t.argumentExpression),84);return r||e}function El(e){var t=v(e);return void 0===t.maybeTypePredicate&&(t.maybeTypePredicate=(e=>{if(97!==e.expression.kind){e=Lu(e.expression);if(e!==yt){var e=Z(e);if(e!==q)return e=ee(e,0),!!Q_.forEach(e,function(e){return e.typePredicate})}}return!1})(e)),t.maybeTypePredicate}function Dl(p,f,c,o,e){void 0===c&&(c=f);var d,l,u=0;return Bt?q:!p.flowNode||!(e||17810175&f.flags)||(l=Ut,e=hl(_(p.flowNode)),Ut=l,e=256&P(e)&&Cl(p)?Se:kl(e),203===p.parent.kind&&8192&Yc(e,524288).flags)?f:e;function _(e){if(2500===u)return Bt=!0,t=p,r=Q_.findAncestor(t,Q_.isFunctionOrModuleBlock),t=Q_.getSourceFileOfNode(t),r=Q_.getSpanOfTokenAtPosition(t,r.statements.pos),ar.add(Q_.createFileDiagnostic(t,r.start,r.length,Q_.Diagnostics.The_containing_function_or_module_body_is_too_large_for_control_flow_analysis)),q;var t,r;for(u++;;){var n=e.flags;if(1024&n)for(var i=l;i<Ut;i++)if(er[i]===e)return u--,tr[i];var a=void 0;if(4096&n)e.locked=!0,a=_(e.antecedent),e.locked=!1;else{if(2048&n){e=e.antecedent;continue}if(16&n){if(!(a=(e=>{var t=e.node;return Jc(p,t)?2===Q_.getAssignmentTargetKind(t)?yl(dc(hl(e=_(e.antecedent))),gl(e)):f===st||f===Te?(e=>226===e.kind&&e.initializer&&li(e.initializer)||176!==e.kind&&194===e.parent.kind&&li(e.parent.right))(t)?vl(ht):S(e=dc(ol(t)),f)?e:Se:65536&f.flags?Wc(f,ol(t)):f:qc(p,t)?f:void 0})(e))){e=e.antecedent;continue}}else if(96&n)a=(e=>{var t,r,n=_(e.antecedent);return 8192&(r=hl(n)).flags||(t=0!=(32&e.flags),r=kl(r),(e=k(r,e.expression,t))===r)?n:yl((t=gl(n))&&8192&e.flags?yt:e,t)})(e);else if(128&n)a=(t=>{var e=_(t.antecedent),r=hl(e),n=t.switchStatement.expression;return Jc(p,n)?r=b(r,t.switchStatement,t.clauseStart,t.clauseEnd):m(n,r)&&(r=g(r,n,function(e){return b(e,t.switchStatement,t.clauseStart,t.clauseEnd)})),yl(r,gl(e))})(e);else if(12&n){if(1===e.antecedents.length){e=e.antecedents[0];continue}a=(4&n?e=>{for(var t=[],r=!1,n=!1,i=0,a=e.antecedents;i<a.length;i++){var s=a[i];if(!(2048&s.flags&&s.lock.locked)){var s=_(s),o=hl(s);if(o===f&&f===c)return o;Q_.pushIfUnique(t,o),ul(o,f)||(r=!0),gl(s)&&(n=!0)}}return yl(Tl(t,r),n)}:e=>{var t=(e=>(e.id||(e.id=Z_,Z_++),e.id))(e),r=Qt[t]||(Qt[t]=Q_.createMap());if(!d&&!(d=function e(t){var r,n;return 71===t.kind?(n=Kc(t))!==U?(Il(t)?"@":"")+tm(n):void 0:99===t.kind?"0":179===t.kind?(r=e(t.expression))&&r+"."+Q_.idText(t.name):176===t.kind?(r=176===(n=t.parent.parent).kind?e(n):n.initializer&&e(n.initializer),n=$c(t),r&&n&&r+"."+n):void 0}(p)))return f;if(t=r.get(d))return t;for(var n=Rt;n<Mt;n++)if(Yt[n]===e&&Xt[n]===d&&Zt[n].length)return yl(Tl(Zt[n],!1),!0);var i,a=[],s=!1;Yt[Mt]=e,Xt[Mt]=d,Zt[Mt]=a;for(var o=0,c=e.antecedents;o<c.length;o++){var l=c[o],l=(Mt++,_(l)),l=(Mt--,i=i||l,hl(l)),u=r.get(d);if(u)return u;if(Q_.pushIfUnique(a,l),ul(l,f)||(s=!0),l===f)break}return t=Tl(a,s),gl(i)?yl(t,!0):(r.set(d,t),t)})(e)}else if(256&n){if(!(a=(e=>{if(f===st||f===Te){var t=e.node,r=(181===t.kind?t.expression:t.left).expression;if(Jc(p,cl(r))){r=_(e.antecedent),e=hl(r);if(256&P(e)){var n=e;if(181===t.kind)for(var i=0,a=t.arguments;i<a.length;i++){var s=a[i];n=bl(n,s)}else $d(op(t.left.argumentExpression),84)&&(n=bl(n,t.right));return n===e?r:yl(n,gl(r))}return r}}})(e))){e=e.antecedent;continue}}else if(2&n){var s=e.container;if(s&&s!==o&&179!==p.kind&&99!==p.kind){e=s.flowNode;continue}a=c}else a=Zp(f)}return 1024&n&&(er[Ut]=e,tr[Ut]=a,Ut++),u--,a}}function m(e,t){return 179===e.kind&&65536&t.flags&&Jc(p,e.expression)&&Hc(t,e.name.escapedText)}function g(e,t,r){var n=t.name.escapedText,t=ni(e,n),i=t&&r(t);return t===i?e:pl(e,function(e){return Lo(ni(e,n),i)})}function h(e,t,r){return Jc(p,t)?Yc(e,r?1048576:2097152):m(t,f)?g(e,t,function(e){return Yc(e,r?1048576:2097152)}):Vc(p,t)?f:e}function n(e,t,r){switch(t.operatorToken.kind){case 58:return h(e,t.left,r);case 32:case 33:case 34:case 35:var n=t.operatorToken.kind,i=cl(t.left),a=cl(t.right);if(189===i.kind&&9===a.kind)return v(e,i,n,a,r);if(189===a.kind&&9===i.kind)return v(e,a,n,i,r);if(Jc(p,i))return y(e,n,a,r);if(Jc(p,a))return y(e,n,i,r);if(m(i,f))return g(e,i,function(e){return y(e,n,a,r)});if(m(a,f))return g(e,a,function(e){return y(e,n,i,r)});if(Vc(p,i)||Vc(p,a))return f;break;case 93:var s=e,o=t,c=r,l=cl(o.left);if(Jc(p,l)){o=op(o.right);if(Oo(o,me)){var u,d=O(o,"prototype");if(!d||N(d=Q(d))||(u=d),!N(s)||u!==_e&&u!==me)if(u||(d=void 0,2&P(o)?d=Yi(o).declaredConstructSignatures:16&P(o)&&(d=ee(o,1)),d&&d.length&&(u=L(Q_.map(d,function(e){return te(Va(e))})))),u)return x(s,u,c,Fo)}}else if(qc(p,l))return f;return s;case 26:return k(e,t.right,r)}return e}function y(e,t,r,n){if(1&e.flags)return e;33!==t&&35!==t||(n=!n);var i,a=op(r);return 6144&a.flags?M?Yc(e,32===t||33===t?n?65536:524288:95===r.kind?n?32768:262144:n?16384:131072):e:16810497&e.flags?e:n?8192&(t=pl(e,function(e){return Lo(e=e,t=a)||Lo(t,e);var t})).flags?e:ml(t,a):lc(a)?(i=po(a),pl(e,function(e){return po(e)!==i})):e}function v(e,t,r,n,i){t=cl(t.expression);if(!Jc(p,t))return qc(p,t)?f:e;if((i=33!==r&&35!==r?i:!i)&&!(65536&e.flags)){t=cr.get(n.text);if(t){if(Oo(t,e))return t;if(540672&e.flags)if(Oo(t,ba(e)||E))return Vs([e,t])}}return Yc(e,i?sr.get(n.text)||64:or.get(n.text)||8192)}function b(e,t,r,n){var i,a=ll(t);return a.length?(t=a.slice(r,n),r=r===n||Q_.contains(t,ht),n=8192&(i=L(t)).flags?ht:ml(pl(e,function(e){return Lo(i,e)}),i),r?(t=pl(e,function(e){return!(lc(e)&&Q_.contains(a,po(e)))}),8192&n.flags?t:L([n,t])):n):e}function x(e,t,r,n){if(!r)return pl(e,function(e){return!n(e,t)});if(65536&e.flags){r=pl(e,function(e){return n(e,t)});if(!(8192&r.flags))return r}return Oo(t,e)?t:S(e,t)?e:S(t,e)?t:Vs([e,t])}function i(e,t,r){if(((e,t)=>{if(e.arguments)for(var r=0,n=e.arguments;r<n.length;r++)if(Gc(t,n[r]))return 1;return!(179!==e.expression.kind||!Gc(t,e.expression.expression))})(t,p)&&El(t)){var n=hd(t),i=n.typePredicate;if(i&&(!N(e)||i.type!==_e&&i.type!==me))if(Q_.isIdentifierTypePredicate(i)){n=t.arguments[i.parameterIndex-(n.thisParameter?1:0)];if(n){if(Jc(p,n))return x(e,i.type,r,Oo);if(qc(p,n))return f}}else{n=Q_.skipParentheses(t.expression);if(180===n.kind||179===n.kind){t=Q_.skipParentheses(n.expression);if(Jc(p,t))return x(e,i.type,r,Oo);if(qc(p,t))return f}}}return e}function k(e,t,r){switch(t.kind){case 71:case 99:case 97:case 179:return h(e,t,r);case 181:return i(e,t,r);case 185:return k(e,t.expression,r);case 194:return n(e,t,r);case 192:if(51===t.operator)return k(e,t.operand,!r)}return e}}function Al(e){return Q_.findAncestor(e.parent,function(e){return Q_.isFunctionLike(e)&&!Q_.getImmediatelyInvokedFunctionExpression(e)||234===e.kind||265===e.kind||149===e.kind})}function wl(e){var t=Q_.getRootDeclaration(e.valueDeclaration).parent,r=v(t);return 4194304&r.flags||(r.flags|=4194304,Q_.findAncestor(t.parent,function(e){return Q_.isFunctionLike(e)&&!!(4194304&v(e).flags)}))||Nl(t),e.isAssigned}function Nl(e){var t;71===e.kind?Q_.isAssignmentTarget(e)&&(t=Kc(e)).valueDeclaration&&146===Q_.getRootDeclaration(t.valueDeclaration).kind&&(t.isAssigned=!0):Q_.forEachChild(e,Nl)}function Il(e){var t=e.parent;return 179===t.kind||181===t.kind&&t.expression===e||180===t.kind&&t.expression===e}function Pl(e){return 540672&e.flags&&zd(ba(e)||I,6144)}function Ol(e,t){e=Q(e);return Il(t)&&dl(e,Pl)?fl(Cc(e),Z):e}function Fl(e){var t=Kc(e);if(t===U)return q;if(t===Ye)return i=Q_.getContainingFunction(e),J<2&&(187===i.kind?V(e,Q_.Diagnostics.The_arguments_object_cannot_be_referenced_in_an_arrow_function_in_ES3_and_ES5_Consider_using_a_standard_function_expression):Q_.hasModifier(i,256)&&V(e,Q_.Diagnostics.The_arguments_object_cannot_be_referenced_in_an_async_function_or_method_in_ES3_and_ES5_Consider_using_a_standard_function_or_method)),v(i).flags|=8192,Q(t);!tn(t,107455)||zc(e)||c_(nn(t))||sn(t);var r=Sn(t),n=r.valueDeclaration;if(32&r.flags)if(229===n.kind&&Q_.nodeIsDecorated(n))for(var i=Q_.getContainingClass(e);void 0!==i;){if(i===n&&i.name!==e){v(n).flags|=8388608,v(e).flags|=16777216;break}i=Q_.getContainingClass(i)}else if(199===n.kind)for(i=Q_.getThisContainer(e,!1);void 0!==i;){if(i.parent===n){149===i.kind&&Q_.hasModifier(i,32)&&(v(n).flags|=8388608,v(e).flags|=16777216);break}i=Q_.getThisContainer(i,!1)}Wp(e,e),qp(e,e),Vp(e,e);var a=e,s=t;if(!(2<=J||0==(34&s.flags)||260===s.valueDeclaration.parent.kind)){for(var o=Q_.getEnclosingBlockScopeContainer(s.valueDeclaration),c=((e,t)=>!!Q_.findAncestor(e,function(e){return e===t?"quit":Q_.isFunctionLike(e)}))(a.parent,o),l=o,u=!1;l&&!Q_.nodeStartsNewLexicalEnvironment(l);){if(Q_.isIterationStatement(l,!1)){u=!0;break}l=l.parent}u&&(c&&(v(l).flags|=65536),214===o.kind&&Q_.getAncestor(s.valueDeclaration,227).parent===o&&((e,t)=>{for(var r,n=e;185===n.parent.kind;)n=n.parent;return e=!1,Q_.isAssignmentTarget(n)?e=!0:192!==n.parent.kind&&193!==n.parent.kind||(r=n.parent,e=43===r.operator||44===r.operator),e&&!!Q_.findAncestor(n,function(e){return e===t?"quit":e===t.statement})})(a,o)&&(v(s.valueDeclaration).flags|=2097152),v(s.valueDeclaration).flags|=262144),c&&(v(s.valueDeclaration).flags|=131072)}a=Ol(r,e),o=Q_.getAssignmentTargetKind(e);if(o){if(!(3&r.flags))return V(e,Q_.Diagnostics.Cannot_assign_to_0_because_it_is_not_a_variable,G(t)),q;if(Ud(r))return V(e,Q_.Diagnostics.Cannot_assign_to_0_because_it_is_a_constant_or_a_read_only_property,G(t)),q}c=2097152&r.flags;if(3&r.flags){if(1===o)return a}else{if(!c)return a;n=Q_.find(t.declarations,im)}if(!n)return a;for(var d,p=146===Q_.getRootDeclaration(n).kind,f=Al(n),_=Al(e),s=_!==f;_!==f&&(186===_.kind||187===_.kind||Q_.isObjectLiteralOrClassExpressionMethod(_))&&(3&(d=r).flags&&0!=(2&Pu(d))&&Q(d)!==Te||p&&!wl(r));)_=Al(_);var m,s=p||c||s||a!==st&&a!==Te&&(!M||0!=(1&a.flags)||zc(e)||246===e.parent.kind)||203===e.parent.kind||Q_.isInAmbientContext(n),g=Dl(e,a,s?p?(m=a,g=Q_.getRootDeclaration(n),M&&146===g.kind&&g.initializer&&2048&mc(m)&&!(2048&mc(K(g.initializer)))?Yc(m,131072):m):a:a===st||a===Te?ot:yc(a,2048),_,!s);if(a===st||a===Te){if(g===st||g===Te)return h&&(V(Q_.getNameOfDeclaration(n),Q_.Diagnostics.Variable_0_implicitly_has_type_1_in_some_locations_where_its_type_cannot_be_determined,G(t),W(g)),V(e,Q_.Diagnostics.Variable_0_implicitly_has_an_1_type,G(t),W(g))),Zp(g)}else if(!s&&!(2048&mc(a))&&2048&mc(g))return V(e,Q_.Diagnostics.Variable_0_is_used_before_being_assigned,G(t)),a;return o?dc(g):g}function Ll(e,t){v(e).flags|=2,149===t.kind||152===t.kind?v(t.parent).flags|=4:v(t).flags|=4}function Rl(e){return Q_.isSuperCall(e)?e:Q_.isFunctionLike(e)?void 0:Q_.forEachChild(e,Rl)}function Ml(e){var t=v(e);return void 0===t.hasSuperCall&&(t.superCall=Rl(e.body),t.hasSuperCall=!!t.superCall),t.superCall}function Ul(e){return Li(Y(H(e)))===ut}function Bl(e,t,r){var n=t.parent;Q_.getClassExtendsHeritageClauseElement(n)&&!Ul(n)&&(!(n=Ml(t))||n.end>e.pos)&&V(e,r)}function jl(e){var t,r=Q_.getThisContainer(e,!0),n=!1;switch(152===r.kind&&Bl(e,r,Q_.Diagnostics.super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class),187===r.kind&&(r=Q_.getThisContainer(r,!1),n=J<2),r.kind){case 233:V(e,Q_.Diagnostics.this_cannot_be_referenced_in_a_module_or_namespace_body);break;case 232:V(e,Q_.Diagnostics.this_cannot_be_referenced_in_current_location);break;case 152:Kl(e,r)&&V(e,Q_.Diagnostics.this_cannot_be_referenced_in_constructor_arguments);break;case 149:case 148:Q_.hasModifier(r,32)&&V(e,Q_.Diagnostics.this_cannot_be_referenced_in_a_static_property_initializer);break;case 144:V(e,Q_.Diagnostics.this_cannot_be_referenced_in_a_computed_property_name)}if(n&&Ll(e,r),Q_.isFunctionLike(r)&&(!Vl(e)||Q_.getThisParameter(r))){if(186===r.kind&&194===r.parent.kind&&3===Q_.getSpecialPropertyAssignmentKind(r.parent)){var n=K(r.parent.left.expression.expression).symbol;if(n&&n.members&&16&n.flags)return vd(n)}n=yi(r)||Jl(r);if(n)return n}if(Q_.isClassLike(r.parent))return n=H(r.parent),Dl(e,t=Q_.hasModifier(r,32)?Q(n):Y(n).thisType);if(Q_.isInJavaScriptFile(e)&&((t=(e=>{if((e=Q_.getJSDocType(e))&&273===e.kind)if(0<e.parameters.length&&e.parameters[0].name&&"this"===e.parameters[0].name.escapedText)return re(e.parameters[0].type)})(r))&&t!==q))return t;return m&&V(e,Q_.Diagnostics.this_implicitly_has_type_any_because_it_does_not_have_a_type_annotation),E}function Kl(e,t){return Q_.findAncestor(e,function(e){return e===t?"quit":146===e.kind})}function zl(e){var t=181===e.parent.kind&&e.parent.expression===e,r=Q_.getSuperContainer(e,!0),n=!1;if(!t)for(;r&&187===r.kind;)r=Q_.getSuperContainer(r,!0),n=J<2;var i,a,s,o=0;return(e=>{if(e){if(t)return 152===e.kind;if(Q_.isClassLike(e.parent)||178===e.parent.kind)return Q_.hasModifier(e,32)?151===e.kind||150===e.kind||153===e.kind||154===e.kind:151===e.kind||150===e.kind||153===e.kind||154===e.kind||149===e.kind||148===e.kind||152===e.kind}return!1})(r)?(t||152!==r.kind||Bl(e,r,Q_.Diagnostics.super_must_be_called_before_accessing_a_property_of_super_in_the_constructor_of_a_derived_class),o=Q_.hasModifier(r,32)||t?512:256,v(e).flags|=o,151===r.kind&&Q_.hasModifier(r,256)&&(Q_.isSuperProperty(e.parent)&&Q_.isAssignmentTarget(e.parent)?v(r).flags|=4096:v(r).flags|=2048),n&&Ll(e.parent,r),178===r.parent.kind?J<2?(V(e,Q_.Diagnostics.super_is_only_allowed_in_members_of_object_literal_expressions_when_option_target_is_ES2015_or_higher),q):E:(s=(a=Y(H(i=r.parent)))&&Ri(a)[0])?152===r.kind&&Kl(e,r)?(V(e,Q_.Diagnostics.super_cannot_be_referenced_in_constructor_arguments),q):512===o?Li(a):Xi(s,a.thisType):(Q_.getClassExtendsHeritageClauseElement(i)||V(e,Q_.Diagnostics.super_can_only_be_referenced_in_a_derived_class),q)):((o=Q_.findAncestor(e,function(e){return e===r?"quit":144===e.kind}))&&144===o.kind?V(e,Q_.Diagnostics.super_cannot_be_referenced_in_a_computed_property_name):t?V(e,Q_.Diagnostics.Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors):r&&r.parent&&(Q_.isClassLike(r.parent)||178===r.parent.kind)?V(e,Q_.Diagnostics.super_property_access_is_permitted_only_in_a_constructor_member_function_or_member_accessor_of_a_derived_class):V(e,Q_.Diagnostics.super_can_only_be_referenced_in_members_of_derived_classes_or_object_literal_expressions),q)}function $l(e){return 4&P(e)&&e.target===ke?e.typeArguments[0]:void 0}function Jl(e){if(187!==e.kind){if(Ao(e)){var t=su(e);if(t){t=t.thisParameter;if(t)return Q(t)}}t=Q_.isInJavaScriptFile(e);if(m||t){var r=151!==(n=e).kind&&153!==n.kind&&154!==n.kind||178!==n.parent.kind?186===n.kind&&261===n.parent.kind?n.parent.parent:void 0:n.parent;if(r){for(var n=Zl(r),i=r,a=n;a;){var s=fl(a,function(e){return 131072&e.flags?Q_.forEach(e.types,$l):$l(e)});if(s)return j(s,tu(r));if(261!==i.parent.kind)break;a=Zl(i=i.parent.parent)}return n?vc(n):tp(r)}n=e.parent;if(194===n.kind&&58===n.operatorToken.kind){e=n.left;if(179===e.kind||180===e.kind){e=e.expression;if(t&&Q_.isIdentifier(e)){t=Q_.getSourceFileOfNode(n);if(t.commonJsModuleIndicator&&Kc(e)===t.symbol)return}return tp(e)}}}}}function ql(e){var t=e.parent;if(Ao(t)){var r=Q_.getImmediatelyInvokedFunctionExpression(t);if(r&&r.arguments){var n=Q_.indexOf(t.parameters,e);if(e.dotDotDotToken){for(var i=[],a=n;a<r.arguments.length;a++)i.push(pc(K(r.arguments[a])));return i.length?Ls(L(i)):void 0}var s=v(r),o=s.resolvedSignature,c=(s.resolvedSignature=wt,n<r.arguments.length?pc(K(r.arguments[n])):e.initializer?void 0:ct);return s.resolvedSignature=o,c}s=su(t);if(s){o=Q_.hasRestParameter(t),c=t.parameters.length-(o?1:0),n=Q_.indexOf(t.parameters,e);if(void 0===Q_.getThisParameter(t)||s.thisParameter||(Q_.Debug.assert(0!==n),--n),n<c)return Ed(s,n);if(o&&n===t.parameters.length-1&&ic(s,t.parameters.length-1))return Q(Q_.lastOrUndefined(s.parameters))}}}function Vl(e){for(;e.parent&&!Q_.isFunctionLike(e.parent);){if(146===e.parent.kind&&e.parent.initializer===e)return 1;e=e.parent}}function Hl(e){var t;return 152===e.kind||Q_.getEffectiveReturnTypeNode(e)||_f(e)?te(ja(e)):!(e=iu(e))||!(t=e).resolvedReturnType&&0<=ei(t,3)?void 0:te(e)}function Gl(e,t){var r=nd(e),r=Q_.indexOf(r,t);if(0<=r)return Ed(v(e).resolvedSignature===It?It:hd(e),r)}function Wl(e,t){return fl(e,function(e){e=229376&e.flags?O(e,t):void 0;return e?Q(e):void 0})}function Ql(e,t){return fl(e,function(e){return Na(e,t)})}function Yl(e){var t=Zl(e.parent);if(t){if(!Q_.hasDynamicName(e)){var r=Wl(t,H(e).escapedName);if(r)return r}return lu(e.name)&&Ql(t,1)||Ql(t,0)}}function Xl(e,t){return e&&(Wl(e,""+t)||Ql(e,1)||lf(e,void 0,!1,!1,!1))}function Zl(e){e=eu(e);return e&&Z(e)}function eu(e){if(!zf(e)){if(e.contextualType)return e.contextualType;var t=e.parent;switch(t.kind){case 226:case 146:case 149:case 148:case 176:var r=e,n=r.parent;if(r===n.initializer){r=Q_.getEffectiveTypeAnnotationNode(n);if(r)return re(r);if(146===n.kind){r=ql(n);if(r)return r}if(Q_.isBindingPattern(n.name))return fi(n.name,!0,!1);if(Q_.isBindingPattern(n.parent)){r=n.parent.parent,n=n.propertyName||n.name;if(176!==r.kind){r=Q_.getEffectiveTypeAnnotationNode(r);if(r&&!Q_.isBindingPattern(n)){n=Q_.getTextOfPropertyName(n);if(n)return ni(re(r),n)}}}}return;case 187:case 219:return r=e,!(r=Q_.getContainingFunction(r))||1&(n=Q_.getFunctionFlags(r))?void 0:(r=Hl(r),2&n?r&&Cp(r):r);case 197:var i=t;if(s=Q_.getContainingFunction(i)){var a=Q_.getFunctionFlags(s),s=Hl(s);if(s)return i.asteriskToken?s:pf(s,0!=(2&a))}return;case 181:case 182:return Gl(t,e);case 184:case 202:return re(t.type);case 194:var i=e,o=i.parent,s=o.operatorToken.kind;if(Q_.isAssignmentOperator(s)){if(i===o.right){switch(Q_.getSpecialPropertyAssignmentKind(o)){case 0:break;case 5:if(!o.left.symbol)break;case 1:case 2:case 3:case 4:return}return op(o.left)}}else{if(54===s)return(a=eu(o))||i!==o.right?a:op(o.left,!0);if((53===s||26===s)&&i===o.right)return eu(o)}return;case 261:case 262:return Yl(t);case 263:return Zl(t.parent);case 177:var c=t;return Xl(Zl(c),Q_.indexOfNode(c.elements,e));case 195:return l=(c=e).parent,c===l.whenTrue||c===l.whenFalse?eu(l):void 0;case 205:Q_.Debug.assert(196===t.parent.kind);var l=t.parent,u=e;return 183===l.parent.kind?Gl(l.parent,u):void 0;case 185:u=Q_.isInJavaScriptFile(t)?Q_.getJSDocTypeTag(t):void 0;return u?re(u.typeExpression.type):eu(t);case 256:var d=t,p=eu(Q_.isJsxAttributeLike(d.parent)?d.parent.parent:d.parent.openingElement.attributes);return p&&!N(p)?Q_.isJsxAttribute(d.parent)?Wl(p,d.parent.name.escapedText):249===d.parent.kind?(d=ku())&&""!==d?Wl(p,d):E:p:void 0;case 253:case 255:return p=eu((d=t).parent),Q_.isJsxAttribute(d)?p&&!N(p)?Wl(p,d.name.escapedText):void 0:p;case 251:case 250:return Du(t)}}}function tu(e){return(e=Q_.findAncestor(e,function(e){return!!e.contextualMapper}))?e.contextualMapper:x}function ru(e,t){e=Aa(e,0);if(1===e.length){e=e[0];if(!((e,t)=>{for(var r=0;r<t.parameters.length;r++){var n=t.parameters[r];if(n.initializer||n.questionToken||n.dotDotDotToken||Fa(n))break}return t.parameters.length&&Q_.parameterIsThisKeyword(t.parameters[0])&&r--,(e.hasRestParameter?Number.MAX_VALUE:e.parameters.length)<r})(e,t))return e}}function nu(e){return 186===e.kind||187===e.kind}function iu(e){return nu(e)||Q_.isObjectLiteralMethod(e)?su(e):void 0}function au(e){return(Q_.isObjectLiteralMethod(e)?e=>{if(Q_.Debug.assert(Q_.isObjectLiteralMethod(e)),!zf(e))return Yl(e)}:Zl)(e)}function su(e){Q_.Debug.assert(151!==e.kind||Q_.isObjectLiteralMethod(e));var t=au(e);if(t){if(!(65536&t.flags))return ru(t,e);for(var r,n,i=0,a=t.types;i<a.length;i++){var s=ru(a[i],e);if(s)if(r){if(!nc(r[0],s,!1,!0,!0,Io))return;r.push(s)}else r=[s]}return r&&((n=ta(r[0])).resolvedReturnType=void 0,n.unionSignatures=r),n}}function ou(e){return 176===e.kind&&!!e.initializer||194===e.kind&&58===e.operatorToken.kind}function cu(e,t){for(var r=e.elements,n=!1,i=[],a=Q_.isAssignmentTarget(e),s=Zl(e),o=0;o<r.length;o++){var c,l,u=r[o];a&&198===u.kind?(c=Ia(c=K(u.expression,t),1)||lf(c,void 0,!1,!1,!1))&&i.push(c):(l=ap(u,t,Xl(s,o)),i.push(l)),n=n||198===u.kind}if(!n){if(a&&i.length)return(l=is(Ms(i))).pattern=e,l;var d=Zl(e);if(d&&(65536&(e=d).flags?Q_.forEach(e.types,cc):cc(e))){e=d.pattern;if(e&&(175===e.kind||177===e.kind))for(var p=e.elements,f=i.length;f<p.length;f++){var _=p[f];ou(_)?i.push(d.typeArguments[f]):(200!==_.kind&&V(_,Q_.Diagnostics.Initializer_provides_no_value_for_this_binding_element_and_the_binding_element_has_no_default_value),i.push(q))}if(i.length)return Ms(i)}}return Ls(i.length?L(i,!0):M?ht:ct)}function lu(e){switch(e.kind){case 144:return $d(du(e),84);case 71:return uu(e.escapedText);case 8:case 9:return uu(e.text);default:return!1}}function uu(e){return(+e).toString()===e}function du(e){var t=v(e.expression);return t.resolvedType||(t.resolvedType=K(e.expression),6144&t.resolvedType.flags||!$d(t.resolvedType,262774)&&!S(t.resolvedType,L([B,dt,mt]))?V(e,Q_.Diagnostics.A_computed_property_name_must_be_of_type_string_number_symbol_or_any):qu(e.expression,t.resolvedType,!0)),t.resolvedType}function pu(e,t,r,n){for(var i=[],a=0;a<r.length;a++)0!==n&&!lu(e[a+t].name)||i.push(Q(r[a]));return Ya(i.length?L(i,!0):ot,!1)}function fu(r,e){for(var t,n=Q_.isAssignmentTarget(r),i=(((e,t)=>{for(var r=Q_.createUnderscoreEscapedMap(),n=0,i=e.properties;n<i.length;n++){var a=i[n];if(263!==a.kind){var s=a.name;if(144===s.kind&&M_(s),262===a.kind&&!t&&a.objectAssignmentInitializer)return z(a.equalsToken,Q_.Diagnostics.can_only_be_used_in_an_object_literal_property_inside_a_destructuring_assignment);if(a.modifiers)for(var o=0,c=a.modifiers;o<c.length;o++){var l=c[o];120===l.kind&&151===a.kind||z(l,Q_.Diagnostics._0_modifier_cannot_be_used_here,Q_.getTextOfNode(l))}var u=void 0,d=(261===a.kind||262===a.kind?(B_(a.questionToken,Q_.Diagnostics.An_object_member_cannot_be_declared_optional),8===s.kind&&W_(s),u=1):151===a.kind?u=1:153===a.kind?u=2:154===a.kind?u=4:Q_.Debug.assertNever(a,"Unexpected syntax kind:"+a.kind),Q_.getPropertyNameForPropertyNameNode(s));if(void 0!==d){var p=r.get(d);if(p)if(1===u&&1===p)z(s,Q_.Diagnostics.Duplicate_identifier_0,Q_.getTextOfNode(s));else{if(!(6&u&&6&p))return z(s,Q_.Diagnostics.An_object_literal_cannot_have_property_and_accessor_with_the_same_name);if(6===p||u===p)return z(s,Q_.Diagnostics.An_object_literal_cannot_have_multiple_get_Slashset_accessors_with_the_same_name);r.set(d,u|p)}else r.set(d,u)}}}})(r,n),Q_.createSymbolTable()),a=[],s=I,o=0,c=Zl(r),l=c&&c.pattern&&(174===c.pattern.kind||178===c.pattern.kind),u=!c&&Q_.isInJavaScriptFile(r),d=0,p=!1,f=!1,_=!1,m=Q_.isInJavaScriptFile(r),g=0,h=0;h<r.properties.length;h++){var y=r.properties[h],v=y.symbol,b=void 0;if(261===y.kind||262===y.kind||Q_.isObjectLiteralMethod(y)){var x,k,S=void 0,T=(m&&(S=ci(y)),void 0),C=(T=261===y.kind?(144===y.name.kind&&224&(x=du(y.name)).flags&&(b=Q_.escapeLeadingUnderscores(""+x.value)),((e,t)=>(144===e.name.kind&&du(e.name),ap(e.initializer,t)))(y,e)):151===y.kind?(x=e,t=void 0,$_(k=y),144===k.name.kind&&du(k.name),t=Rd(k,x),sp(k,t,x)):(Q_.Debug.assert(262===y.kind),ap(y.name,e)),S&&(Ro(T,S,y),T=S),d|=T.flags,Rr(4|v.flags,b||v.escapedName));n?((261===y.kind&&ou(y.initializer)||262===y.kind&&y.objectAssignmentInitializer)&&(C.flags|=16777216),!b&&Q_.hasDynamicName(y)&&(p=!0)):!l||512&P(c)||((k=O(c,v.escapedName))?C.flags|=16777216&k.flags:R.suppressExcessPropertyErrors||F(c,0)||V(y.name,Q_.Diagnostics.Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1,G(v),W(c))),C.declarations=v.declarations,C.parent=v.parent,v.valueDeclaration&&(C.valueDeclaration=v.valueDeclaration),C.type=T,C.target=v,v=C}else{if(263===y.kind){if(J<2&&E_(y,2),0<a.length&&(s=so(s,A(),r.symbol,o),a=[],i=Q_.createSymbolTable(),_=f=!1,d=0),!_u(T=K(y.expression)))return V(y,Q_.Diagnostics.Spread_types_may_only_be_created_from_object_types),q;s=so(s,T,r.symbol,o),g=h+1;continue}Q_.Debug.assert(153===y.kind||154===y.kind),Mf(y)}!b&&Q_.hasDynamicName(y)?lu(y.name)?_=!0:f=!0:i.set(v.escapedName,v),a.push(v)}if(l)for(var E=0,D=X(c);E<D.length;E++){C=D[E];i.get(C.escapedName)||(16777216&C.flags||V(C.valueDeclaration||C.bindingElement,Q_.Diagnostics.Initializer_provides_no_value_for_this_binding_element_and_the_binding_element_has_no_default_value),i.set(C.escapedName,C),a.push(C))}return s!==I?0<a.length?so(s,A(),r.symbol,o):s:A();function A(){var e=u?Ft:f?pu(r.properties,g,a,0):void 0,t=_&&!u?pu(r.properties,g,a,1):void 0,e=In(r.symbol,i,Q_.emptyArray,Q_.emptyArray,e,t),t=R.suppressExcessPropertyErrors?0:1048576;return e.flags|=4194304|t|14680064&d,e.objectFlags|=128,p&&(e.objectFlags|=512),n&&(e.pattern=r),6144&e.flags||(o|=14680064&e.flags),e}}function _u(e){return 16777217&e.flags||7392&mc(e)&&_u(gc(e))||32768&e.flags&&!_a(e)||196608&e.flags&&!Q_.forEach(e.types,function(e){return!_u(e)})}function mu(e){return!Q_.stringContains(e,"-")}function gu(e){switch(e.kind){case 179:case 99:return!1;case 71:return Q_.isIntrinsicJsxName(e.escapedText);default:Q_.Debug.fail()}}function hu(e,t,r){for(var n,i=e.attributes,a=Q_.createSymbolTable(),s=I,o=[],c=!1,l=!1,u=ku(),d=0,p=i.properties;d<p.length;d++){var f,_,m=p[d],g=m.symbol;Q_.isJsxAttribute(m)?(_=m.initializer?K(m.initializer,r):pt,(f=Rr(33554436|g.flags,g.escapedName)).declarations=g.declarations,f.parent=g.parent,g.valueDeclaration&&(f.valueDeclaration=g.valueDeclaration),f.type=_,f.target=g,a.set(f.escapedName,f),o.push(f),m.name.escapedText===u&&(l=!0)):(Q_.Debug.assert(255===m.kind),0<o.length&&(s=so(s,C(i.symbol,a),e.symbol,0),o=[],a=Q_.createSymbolTable()),N(_=K(m.expression))&&(c=!0),_u(_)?s=so(s,_,e.symbol,0):n=n?Vs([n,_]):_)}if(!c){s!==I&&(o=X(s=0<o.length?so(s,C(i.symbol,a),e.symbol,0):s));for(var a=Q_.createSymbolTable(),h=0,y=o;h<y.length;h++){var v=y[h];t&&!t(v)||a.set(v.escapedName,v)}}var b=249===e.parent.kind?e.parent:void 0;if(b&&b.openingElement===e&&0<b.children.length){for(var x=[],k=0,S=b.children;k<S.length;k++){var T=S[k];10===T.kind?T.containsOnlyWhiteSpaces||x.push(B):x.push(K(T,r))}!c&&u&&""!==u&&(l&&V(i,Q_.Diagnostics._0_are_specified_twice_The_attribute_named_0_will_be_overwritten,Q_.unescapeLeadingUnderscores(u)),(b=Rr(33554436,u)).type=1===x.length?x[0]:Ls(L(x,!1)),a.set(u,b))}return c?E:(b=C(i.symbol,a),n&&a.size?Vs([n,b]):n||b);function C(e,t){e=In(e,t,Q_.emptyArray,Q_.emptyArray,void 0,void 0);return e.flags|=37748736,e.objectFlags|=128,e}}function yu(e){var t=pr.get(e);return void 0===t&&pr.set(e,t=ws(fr.JSX,e)||q),t}function vu(e){var t=v(e);if(t.resolvedSymbol)return t.resolvedSymbol;var r,n=yu(fr.IntrinsicElements);if(n===q)return h&&V(e,Q_.Diagnostics.JSX_element_implicitly_has_type_any_because_no_interface_JSX_0_exists,Q_.unescapeLeadingUnderscores(fr.IntrinsicElements)),t.resolvedSymbol=U;if(Q_.isIdentifier(e.tagName))return(r=O(n,e.tagName.escapedText))?(t.jsxFlags|=1,t.resolvedSymbol=r):Ia(n,0)?(t.jsxFlags|=2,t.resolvedSymbol=n.symbol):(V(e,Q_.Diagnostics.Property_0_does_not_exist_on_type_1,Q_.idText(e.tagName),"JSX."+fr.IntrinsicElements),t.resolvedSymbol=U);throw Q_.Debug.fail()}function bu(e){var t=hs(fr.JSX,1920,void 0),t=t&&$r(t.exports,e,793064),r=t&&Y(t),r=r&&X(r);if(r){if(0===r.length)return"";if(1===r.length)return r[0].escapedName;1<r.length&&V(t.declarations[0],Q_.Diagnostics.The_global_type_JSX_0_may_not_have_more_than_one_property,Q_.unescapeLeadingUnderscores(e))}}function xu(){return ur||(ur=!0,Ve=bu(fr.ElementAttributesPropertyNameContainer)),Ve}function ku(){return dr||(dr=!0,He=bu(fr.ElementChildrenAttributeNameContainer)),He}function Su(e){if(e){if(131072&e.flags){for(var t=[],r=0,n=e.types;r<n.length;r++){var i=n[r];t.push(Z(i))}return Vs(t)}return Z(e)}}function Tu(t,r,e,n){if(65536&(e=void 0===e?K(t.tagName):e).flags)return L(e.types.map(function(e){return Tu(t,r,e,n)}),!0);if(2&e.flags)return E;if(32&e.flags){var i=yu(fr.IntrinsicElements);if(i!==q){var a=e.value,s=O(i,Q_.escapeLeadingUnderscores(a));if(s)return Q(s);s=Ia(i,0);if(s)return s;V(t,Q_.Diagnostics.Property_0_does_not_exist_on_type_1,a,"JSX."+fr.IntrinsicElements)}return E}var o,i=((e,t)=>{if(Q_.Debug.assert(!(65536&t.flags)),N(t))return E;var r=ee(t,1);if(0===r.length&&0===(r=ee(t,0)).length)return V(e.tagName,Q_.Diagnostics.JSX_element_type_0_does_not_have_any_construct_or_call_signatures,Q_.getTextOfNode(e.tagName)),q;for(var n=[],i=0,a=r;i<a.length;i++){var s,o,c=a[i];c.typeParameters?(s=Q_.isInJavaScriptFile(e),o=Ba(void 0,c.typeParameters,0,s),n.push(Ja(c,o,s))):n.push(c)}return L(Q_.map(n,te),!0)})(t,e),s=(r?(e,t,r,n)=>{if(Q_.Debug.assert(!(65536&t.flags)),!n||!S(r,n)){var i=wu();if(i){for(var r=[],a=(_d(e,t,r),void 0),s=void 0,o=0,c=r;o<c.length;o++){var l=c[o],u=te(l),d=Su(u&&(0===l.parameters.length?I:Q(l.parameters[0])));if(u&&S(u,i)){for(var p=!0,f=0,_=e.attributes.properties;f<_.length;f++){var m=_[f];if(Q_.isJsxAttribute(m)&&mu(m.name.escapedText)&&!O(d,m.name.escapedText)){p=!1;break}}p&&(a=aa(a,d)),s=aa(s,d)}}a=a||s,n=yu(fr.IntrinsicAttributes);return a=n!==q?aa(n,a):a}}}:(e,t,r,n)=>{if(Q_.Debug.assert(!(65536&t.flags)),!n||!S(r,n)){r=wu();if(r){n=_d(e,t,void 0);if(n!==Nt){e=n&&te(n),t=Su(t=e&&(0===n.parameters.length?I:Q(n.parameters[0])));if(e&&S(e,r))return(n=yu(fr.IntrinsicAttributes))!==q?aa(n,t):t}}}})(t,e,i,n);return s||(n&&qo(i,n,mr,t,Q_.Diagnostics.JSX_element_type_0_is_not_a_constructor_function_for_JSX_elements),N(i)?i:void 0===(a=xu())?E:""===a?i:(e=ni(i,a))?N(e)||e===q?e:(s=e,(a=yu(fr.IntrinsicClassAttributes))!==q&&((o=Ai(a.symbol))?1===o.length&&(s=aa(ns(a,[i]),s)):s=aa(e,a)),(o=yu(fr.IntrinsicAttributes))!==q?aa(o,s):s):I)}function Cu(e){Q_.Debug.assert(gu(e.tagName));var t=v(e);return t.resolvedJsxElementAttributesType||(e=vu(e),1&t.jsxFlags?t.resolvedJsxElementAttributesType=Q(e):2&t.jsxFlags?t.resolvedJsxElementAttributesType=Xa(e,0).type:t.resolvedJsxElementAttributesType=q)}function Eu(e,t){var r,n=v(e),i=t?"resolvedJsxElementAllAttributesType":"resolvedJsxElementAttributesType";return n[i]||(r=(()=>Be=Be||ws(fr.JSX,fr.ElementClass))(),n[i]=Tu(e,t,void 0,r))}function Du(e){return gu(e.tagName)?Cu(e):Eu(e,!1)}function Au(){return je=je||ws(fr.JSX,fr.Element)}function wu(){var e;return Ke||(e=Au())&&(Ke=L([e,lt])),Ke}function Nu(e){(e=>{for(var t=Q_.createUnderscoreEscapedMap(),r=0,n=e.attributes.properties;r<n.length;r++){var i=n[r];if(255!==i.kind){var a=i.name;if(t.get(a.escapedText))return z(a,Q_.Diagnostics.JSX_elements_cannot_have_multiple_attributes_with_the_same_name);t.set(a.escapedText,!0);a=i.initializer;if(a&&256===a.kind&&!a.expression)return z(i.initializer,Q_.Diagnostics.JSX_attributes_must_only_be_assigned_a_non_empty_expression)}}})(e),t=e,0===(R.jsx||0)&&V(t,Q_.Diagnostics.Cannot_use_JSX_unless_the_jsx_flag_is_provided),void 0===Au()&&h&&V(t,Q_.Diagnostics.JSX_element_implicitly_has_type_any_because_the_global_type_JSX_Element_does_not_exist);var t=ar&&2===R.jsx?Q_.Diagnostics.Cannot_find_name_0:void 0,r=Lr(),t=qr(e.tagName,r,107455,t,r,!0),r=(t&&(t.isReferenced=!0,2097152&t.flags)&&!c_(nn(t))&&sn(t),e),n=gu(r.tagName)?Cu(r):Eu(r,!1),t=hu(r,function(e){return mu(e.escapedName)||!!O(n,e.escapedName)});if(n===I&&(N(t)||0<t.properties.length))V(r,Q_.Diagnostics.JSX_element_class_does_not_support_attributes_because_it_does_not_have_a_0_property,Q_.unescapeLeadingUnderscores(xu()));else if(Ro(t,n,0<r.attributes.properties.length?r.attributes:r)&&!N(t)&&!N(n))for(var i=0,a=r.attributes.properties;i<a.length;i++){var s=a[i];if(Q_.isJsxAttribute(s)&&!Iu(n,s.name.escapedText,!0)){V(s,Q_.Diagnostics.Property_0_does_not_exist_on_type_1,Q_.idText(s.name),W(n));break}}}function Iu(e,t,r){if(32768&e.flags){var n=ma(e);if(n.stringIndexInfo||n.numberIndexInfo&&uu(t)||ha(e,t)||r&&!mu(t))return!0}else if(196608&e.flags)for(var i=0,a=e.types;i<a.length;i++)if(Iu(a[i],t,r))return!0;return!1}function Pu(e){return e.valueDeclaration?Q_.getCombinedNodeFlags(e.valueDeclaration):0}function Ou(e){return 8192&e.flags||4&Q_.getCheckFlags(e)}function Fu(e,t,r,n){var i=Q_.getDeclarationModifierFlagsFromSymbol(n),a=179===e.kind||226===e.kind?e.name:e.right;if(256&Q_.getCheckFlags(n))return V(a,Q_.Diagnostics.Property_0_has_conflicting_declarations_and_is_inaccessible_in_type_1,G(n),W(r)),!1;if(97===t.kind){if(J<2)if(Xo(n,function(e){e=(e=e).valueDeclaration?e.valueDeclaration.kind:149;return 151!==e&&150!==e}))return V(a,Q_.Diagnostics.Only_public_and_protected_methods_of_the_base_class_are_accessible_via_the_super_keyword),!1;if(128&i)return V(a,Q_.Diagnostics.Abstract_method_0_in_class_1_cannot_be_accessed_via_super_expression,G(n),W(Zo(n))),!1}return!(24&i&&(8&i?!Vf(e,Sf(kn(n)))&&(V(a,Q_.Diagnostics.Property_0_is_private_and_only_accessible_within_class_1,G(n),W(Zo(n))),1):97!==t.kind&&((t=qf(e,function(e){var t,e=Y(H(e));return t=e,!Xo(n,function(e){return!!(16&Q_.getDeclarationModifierFlagsFromSymbol(e))&&!Ti(t,Zo(e))})&&t?e:void 0}))?!(32&i)&&!(3&P(Si(r=16384&r.flags&&r.isThisType?ya(r):r))&&Ti(r,t))&&(V(a,Q_.Diagnostics.Property_0_is_protected_and_only_accessible_through_an_instance_of_class_1,G(n),W(t)),1):(V(a,Q_.Diagnostics.Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses,G(n),W(Zo(n)||r)),1))))}function Lu(e){return Ru(K(e),e)}function Ru(e,t){var r=6144&(M?mc(e):e.flags);return r?(V(t,2048&r?4096&r?Q_.Diagnostics.Object_is_possibly_null_or_undefined:Q_.Diagnostics.Object_is_possibly_undefined:Q_.Diagnostics.Object_is_possibly_null),14336&(t=vc(e)).flags?q:t):e}function Mu(e){return Bu(e,e.expression,e.name)}function Uu(e){return Bu(e,e.left,e.right)}function Bu(e,t,r){var n=Lu(t);if(N(n)||n===yt)return n;var i=Z(Cc(n));if(i===q||16384&n.flags&&N(i))return i;var a=O(i,r.escapedText);if(!a){var s=F(i,0);if(s&&s.type)return s.isReadonly&&(Q_.isAssignmentTarget(e)||Q_.isDeleteTarget(e))&&V(e,Q_.Diagnostics.Index_signature_in_type_0_only_permits_reading,W(i)),s.type;if(r.escapedText&&!Gr(e)){var o,c=r,s=16384&n.flags&&n.isThisType?i:n;if(65536&s.flags&&!(8190&s.flags))for(var l=0,u=s.types;l<u.length;l++){var d=u[l];if(!O(d,c.escapedText)){o=Q_.chainDiagnosticMessages(o,Q_.Diagnostics.Property_0_does_not_exist_on_type_1,Q_.declarationNameToString(c),W(d));break}}var n=ju(c,s);o=void 0!==n?Q_.chainDiagnosticMessages(o,Q_.Diagnostics.Property_0_does_not_exist_on_type_1_Did_you_mean_2,Q_.declarationNameToString(c),W(s),n):Q_.chainDiagnosticMessages(o,Q_.Diagnostics.Property_0_does_not_exist_on_type_1,Q_.declarationNameToString(c),W(s)),ar.add(Q_.createDiagnosticForNodeFromMessageChain(c,o))}return q}n=e,s=r,(p=(f=a).valueDeclaration)&&(!(e=>Q_.findAncestor(e,function(e){switch(e.kind){case 149:return!0;case 261:return!1;default:return!Q_.isPartOfExpression(e)&&"quit"}}))(n)||Jr(p,s)||(e=>{for(var t=Q(e.parent);;){if(!(t=(e=>{if(0!==(e=Ri(e)).length)return Q_.Debug.assert(1===e.length),e[0]})(t)))return;var r=ha(t,e.escapedName);if(r&&r.valueDeclaration)return 1}})(f)?229!==p.kind||159===n.parent.kind||Q_.isInAmbientContext(p)||Jr(p,s)||V(s,Q_.Diagnostics.Class_0_used_before_its_declaration,Q_.idText(s)):V(s,Q_.Diagnostics.Block_scoped_variable_0_used_before_its_declaration,Q_.idText(s))),$u(a,e,99===t.kind),Fu(e,t,i,v(e).resolvedSymbol=a);var p,f=Ol(a,e),n=Q_.getAssignmentTargetKind(e);return n&&(Bd(e,a)||jd(e))?(V(r,Q_.Diagnostics.Cannot_assign_to_0_because_it_is_a_constant_or_a_read_only_property,Q_.idText(r)),q):179===e.kind&&1!==n&&(98311&a.flags||8192&a.flags&&65536&f.flags)?(p=Dl(e,f),n?dc(p):p):f}function ju(e,t){e=zu(Q_.idText(e),X(t),107455);return e&&Q_.symbolName(e)}function Ku(e,t,r){e=Vr(e,t,r,void 0,t,!1,function(e,t,r){return $r(e,t,r)||zu(Q_.unescapeLeadingUnderscores(t),Q_.arrayFrom(e.values()),r)});return e&&Q_.symbolName(e)}function zu(e,t,r){var n=.4*e.length,i=Math.min(3,.34*e.length),a=Number.MAX_VALUE,s=void 0,o=!1;if(!(30<e.length)){e=e.toLowerCase();for(var c=0,l=t;c<l.length;c++){var u=l[c],d=Q_.symbolName(u);if(u.flags&r&&d&&Math.abs(d.length-e.length)<i){if((d=d.toLowerCase())===e)return u;o||d.length<3||e.length<3||"eval"===d||"intl"===d||"undefined"===d||"map"===d||"nan"===d||"set"===d||n<(d=Q_.levenshtein(e,d))||(d<3?(o=!0,s=u):d<a&&(a=d,s=u))}}return s}}function $u(e,t,r){if(e&&k&&106500&e.flags&&e.valueDeclaration&&Q_.hasModifier(e.valueDeclaration,8)&&(!t||!Q_.isWriteOnlyAccess(t))){if(r){r=Q_.findAncestor(t,Q_.isFunctionLikeDeclaration);if(r&&r.symbol===e)return}1&Q_.getCheckFlags(e)?d(e).target.isReferenced=!0:e.isReferenced=!0}}function Ju(e){var t,r=Q_.skipParentheses(e);if(71===r.kind){var n=Kc(r);if(3&n.flags)for(var i=e,a=e.parent;a;){if(215===a.kind&&i===a.statement&&(e=>{if(227===(e=e.initializer).kind){var t=e.declarations[0];if(t&&!Q_.isBindingPattern(t.name))return H(t)}else if(71===e.kind)return Kc(e)})(a)===n&&Ia(t=op(a.expression),1)&&!Ia(t,0))return 1;a=(i=a).parent}}}function qu(e,t,r){if(t!==q&&Q_.isWellKnownSymbolSyntactically(e))if(0==(512&t.flags))r&&V(e,Q_.Diagnostics.A_computed_property_name_of_the_form_0_must_be_of_type_symbol,Q_.getTextOfNode(e));else{t=e.expression,e=Kc(t);if(e){var n=Ee=Ee||gs("Symbol",!0);if(n){if(e===n)return 1;r&&V(t,Q_.Diagnostics.Symbol_reference_does_not_refer_to_the_global_Symbol_constructor_object)}}}}function Vu(e){return Q_.isCallOrNewExpression(e)}function Hu(e){return Vu(e)&&Q_.forEach(e.typeArguments,ne),183===e.kind?K(e.template):147!==e.kind&&Q_.forEach(e.arguments,function(e){K(e)}),wt}function Gu(e){return Hu(e),Nt}function Wu(e){for(var t=0;t<e.length;t++){var r=e[t];if(r&&198===r.kind)return t}return-1}function Qu(e,t,r,n){void 0===n&&(n=!1);var i=-1;if(Q_.isJsxOpeningLikeElement(e))return 1;if(183===e.kind)var a=e,s=t.length,o=void 0,a=196===a.template.kind?(c=a.template,c=Q_.lastOrUndefined(c.templateSpans),Q_.Debug.assert(void 0!==c),Q_.nodeIsMissing(c.literal)||!!c.literal.isUnterminated):(c=a.template,Q_.Debug.assert(13===c.kind),!!c.isUnterminated);else if(147===e.kind)s=id(e,o=void 0,r);else{var c=e;if(!c.arguments)return Q_.Debug.assert(182===c.kind),0===r.minArgumentCount;s=n?t.length+1:t.length,a=c.arguments.end===c.end,o=c.typeArguments,i=Wu(t)}e=Q_.length(r.typeParameters),n=Ua(r.typeParameters);return(!o||o.length>=n&&o.length<=e)&&(0<=i?ic(r,i)||i>=r.minArgumentCount:(r.hasRestParameter||!(s>r.parameters.length))&&(a||r.minArgumentCount<=s))}function Yu(e){if(32768&e.flags){e=ma(e);if(1===e.callSignatures.length&&0===e.constructSignatures.length&&0===e.properties.length&&!e.stringIndexInfo&&!e.numberIndexInfo)return e.callSignatures[0]}}function Xu(e,t,r,n){var i=wc(e,1,n);return Ac(t,e,function(e,t){Lc(i.inferences,j(e,r||x),t)}),r||Lc(i.inferences,te(t),te(e),8),Ja(e,jc(i),Q_.isInJavaScriptFile(t.declaration))}function Zu(e,t,r,n,i){for(var a=0,s=i.inferences;a<s.length;a++){var o=s[a];o.isFixed||(o.inferredType=void 0)}147!==e.kind&&(c=eu(e))&&(u=(u=Yu(c=j(c,(c=tu(e))&&c.signature?wc(c.signature,2|c.flags,c.compareTypes,c.inferences):c)))&&u.typeParameters?Ga(Ja(u,u.typeParameters,Q_.isInJavaScriptFile(e))):c,c=te(t),Lc(i.inferences,u,c,8));for(var c,l,u=za(t),d=(u&&(c=(c=rd(e))?K(c):gt,Lc(i.inferences,c,u)),id(e,r,t)),p=0;p<d;p++)void 0!==(f=cd(e,r,p))&&200===f.kind||(_=Ed(t,p),void 0===(l=od(e,p))&&(l=ep(f,_,n&&void 0!==n[p]?x:i)),Lc(i.inferences,l,_));if(n)for(var f,_,p=0;p<d;p++)!1===n[p]&&(f=r[p],_=Ed(t,p),Lc(i.inferences,ep(f,_,i),_));return jc(i)}function ed(e,t,r,n){for(var i=Q_.isInJavaScriptFile(e.declaration),a=e.typeParameters,s=Ba(Q_.map(t,re),a,Ua(a),i),o=0;o<t.length;o++){Q_.Debug.assert(void 0!==a[o],"Should not call checkTypeArguments with too many type arguments");var c=ya(a[o]);if(c){var l=r&&n&&Q_.chainDiagnosticMessages(void 0,Q_.Diagnostics.Type_0_does_not_satisfy_the_constraint_1),u=n||Q_.Diagnostics.Type_0_does_not_satisfy_the_constraint_1,d=d||yo(a,s),p=s[o];if(!Ro(p,Xi(j(c,d),p),r?t[o]:void 0,u,l))return!1}}return s}function td(e,t,r,n,i,a){if(Q_.isJsxOpeningLikeElement(e)){var s=e,o=r,c=n;if(s.attributes.end===s.end)return 1;for(var l=Q_.Diagnostics.Argument_of_type_0_is_not_assignable_to_parameter_of_type_1,u=Ed(o,0),o=ep(s.attributes,u,void 0),d=0,p=X(o);d<p.length;d++){var f=p[d];if(!O(u,f.escapedName)&&mu(f.escapedName))return}return qo(o,u,c,void 0,l)}s=za(r);if(s&&s!==gt&&182!==e.kind){var o=rd(e),c=o?K(o):gt,_=a?o||e:void 0,l=Q_.Diagnostics.The_this_context_of_type_0_is_not_assignable_to_method_s_this_of_type_1;if(!qo(c,za(r),n,_,l))return}for(var m=Q_.Diagnostics.Argument_of_type_0_is_not_assignable_to_parameter_of_type_1,g=id(e,t,r),h=0;h<g;h++){var y=cd(e,t,h);if(void 0===y||200!==y.kind){var v=Ed(r,h),b=od(e,h)||ep(y,v,i&&i[h]?x:void 0);if(!qo(i?kc(b):b,v,n,_=a?(b=h,v=y,147===(y=e).kind?y.expression:0===b&&183===y.kind?y.template:v):void 0,m))return}}return 1}function rd(e){return 181===e.kind&&(179===(e=e.expression).kind||180===e.kind)?e.expression:void 0}function nd(e){var t,r;return 183===e.kind?(t=e.template,r=[void 0],196===t.kind&&Q_.forEach(t.templateSpans,function(e){r.push(e.expression)}),r):147!==e.kind?Q_.isJsxOpeningLikeElement(e)?0<e.attributes.properties.length?[e.attributes]:Q_.emptyArray:e.arguments||Q_.emptyArray:void 0}function id(e,t,r){if(147!==e.kind)return t.length;switch(e.parent.kind){case 229:case 199:return 1;case 149:return 2;case 151:case 153:case 154:return 0===J?2:3<=r.parameters.length?3:2;case 146:return 3}}function ad(e){var t;if(229===e.kind)return Q(H(e));if(146===e.kind&&152===(e=e.parent).kind)return Q(H(e));return 149===e.kind||151===e.kind||153===e.kind||154===e.kind?(t=H((e=e).parent),(Q_.hasModifier(e,32)?Q:Y)(t)):(Q_.Debug.fail("Unsupported decorator target."),q)}function sd(e,t){if(0===t)return ad(e.parent);if(1===t){var r=e.parent;if(229===r.kind)Q_.Debug.fail("Class decorators should not have a second synthetic argument.");else{if(146===r.kind&&152===(r=r.parent).kind)return E;if(149===r.kind||151===r.kind||153===r.kind||154===r.kind){var n=r;switch(n.name.kind){case 71:return fo(Q_.idText(n.name));case 8:case 9:return fo(n.name.text);case 144:var i=du(n.name);return $d(i,512)?i:B;default:return Q_.Debug.fail("Unsupported property name."),q}}Q_.Debug.fail("Unsupported decorator target.")}}else if(2===t){r=e.parent;if(229===r.kind)Q_.Debug.fail("Class decorators should not have a third synthetic argument.");else{if(146===r.kind)return dt;if(149===r.kind)Q_.Debug.fail("Property decorators should not have a third synthetic argument.");else{if(151===r.kind||153===r.kind||154===r.kind)return Is(Qf(r));Q_.Debug.fail("Unsupported decorator target.")}}}else Q_.Debug.fail("Decorators should not have a fourth synthetic argument.");return q}function od(e,t){return 147===e.kind?sd(e,t):0===t&&183===e.kind?(Ue=Ue||ys("TemplateStringsArray",0,!0))||I:void 0}function cd(e,t,r){if(147!==e.kind&&(0!==r||183!==e.kind))return t[r]}function ld(l,e,t,r){var u,n,i,a,s,o=183===l.kind,c=147===l.kind,d=Q_.isJsxOpeningLikeElement(l),p=(o||c||d||(u=l.typeArguments,97!==l.expression.kind&&Q_.forEach(u,ne)),t||[]),f=e,_=p,m=0,R=-1;Q_.Debug.assert(!_.length);for(var g=0,h=f;g<h.length;g++){var y=h[g],v=y.declaration&&H(y.declaration),b=y.declaration&&y.declaration.parent;i&&v!==i?(a=m=_.length,n=b):n&&b===n?a++:(n=b,a=m),i=v,y.hasLiteralTypes?(s=++R,m++):s=a,_.splice(s,0,y)}if(!p.length)return ar.add(Q_.createDiagnosticForNode(l,Q_.Diagnostics.Call_target_does_not_contain_any_signatures)),Gu(l);var x,k,S,T=nd(l),M=1===p.length&&!p[0].typeParameters,C=0;if(!c&&!M)for(var E=o?1:0;E<T.length;E++)Eo(T[E])&&((x=x||new Array(T.length))[E]=!0,C++);f=t&&181===l.kind&&l.arguments.hasTrailingComma;if(O=(O=1<p.length?j(p,_r,f):O)||j(p,mr,f))return O;if(k){if(d)return k;td(l,T,k,mr,void 0,!0)}else if(S)ed(S,l.typeArguments,!0,r);else if(u&&Q_.every(e,function(e){return Q_.length(e.typeParameters)!==u.length})){for(var D=Number.POSITIVE_INFINITY,A=Number.NEGATIVE_INFINITY,w=0,U=e;w<U.length;w++){var N=U[w];D=Math.min(D,Ua(N.typeParameters)),A=Math.max(A,Q_.length(N.typeParameters))}var I=D<A?D+"-"+A:D;ar.add(Q_.createDiagnosticForNode(l,Q_.Diagnostics.Expected_0_type_arguments_but_got_1,I,u.length))}else if(T){for(var D=Number.POSITIVE_INFINITY,A=Number.NEGATIVE_INFINITY,P=0,B=e;P<B.length;P++){N=B[P];D=Math.min(D,N.minArgumentCount),A=Math.max(A,N.parameters.length)}c=Q_.some(e,function(e){return e.hasRestParameter}),o=-1<Wu(T),I=!c&&D<A?D+"-"+A:D,t=T.length-(o?1:0),f=c&&o?Q_.Diagnostics.Expected_at_least_0_arguments_but_got_a_minimum_of_1:c?Q_.Diagnostics.Expected_at_least_0_arguments_but_got_1:o?Q_.Diagnostics.Expected_0_arguments_but_got_a_minimum_of_1:Q_.Diagnostics.Expected_0_arguments_but_got_1;ar.add(Q_.createDiagnosticForNode(l,f,I,t))}else r&&ar.add(Q_.createDiagnosticForNode(l,r));if($)return Gu(l);Q_.Debug.assert(0<p.length);var O=((e,t)=>{for(var r=-1,n=-1,i=0;i<e.length;i++){var a=e[i];if(a.hasRestParameter||a.parameters.length>=t)return i;a.parameters.length>n&&(n=a.parameters.length,r=i)}return r})(p,void 0===de?T.length:de),d=p[O],F=d.typeParameters;if(F&&Vu(l)&&l.typeArguments){for(var L=l.typeArguments.map(Qf);L.length>F.length;)L.pop();for(;L.length<F.length;)L.push(Bc(Q_.isInJavaScriptFile(l)));e=qa(d,L);return p[O]=e}return d;function j(e,t,r){if(void 0===r&&(r=!1),S=k=void 0,M)return a=e[0],Qu(l,T,a,r)?td(l,T,a,t,x,!1)?a:void(k=a):void 0;for(var n=0;n<e.length;n++){var i=e[n];if(Qu(l,T,i,r))for(var a=void 0,s=i.typeParameters?wc(i,Q_.isInJavaScriptFile(l)?4:0):void 0;;){if((a=i).typeParameters){var o=void 0;if(u){var c=ed(a,u,!1);if(!c){S=i;break}o=c}else o=Zu(l,a,T,x,s);a=Ja(a,o,Q_.isInJavaScriptFile(a.declaration))}if(!td(l,T,a,t,x,!1)){k=a;break}if(0===C)return e[n]=a;0<--C?x[Q_.indexOf(x,!0)]=!1:x=void 0}}}}function ud(e,t,r,n){return N(e)||N(t)&&16384&e.flags||!(r||n||65536&e.flags)&&S(e,me)}function dd(e,t){e.arguments&&J<1&&0<=(r=Wu(e.arguments))&&V(e.arguments[r],Q_.Diagnostics.Spread_operator_in_new_expressions_is_only_available_when_targeting_ECMAScript_5_and_higher);var r=Lu(e.expression);if(r===yt)return Pt;if((r=Z(r))!==q){if(N(r))return e.typeArguments&&V(e,Q_.Diagnostics.Untyped_function_calls_may_not_accept_type_arguments),Hu(e);var n=ee(r,1);if(n.length)return((e,t)=>{if(!t||!t.declaration)return 1;var r=t.declaration,n=Q_.getSelectedModifierFlags(r,24);if(!n)return 1;var t=Sf(r.parent.symbol),i=Y(r.parent.symbol);if(Vf(e,t))return 1;if(t=Q_.getContainingClass(e))for(var a=Ri(Qf(t));a.length;){var s=a[0];if(16&n&&s.symbol===r.parent.symbol)return 1;a=Ri(s)}8&n&&V(e,Q_.Diagnostics.Constructor_of_class_0_is_private_and_only_accessible_within_the_class_declaration,W(i)),16&n&&V(e,Q_.Diagnostics.Constructor_of_class_0_is_protected_and_only_accessible_within_the_class_declaration,W(i))})(e,n[0])?(i=r.symbol&&Sf(r.symbol))&&Q_.hasModifier(i,128)?(V(e,Q_.Diagnostics.Cannot_create_an_instance_of_the_abstract_class_0,Q_.declarationNameToString(Q_.getNameOfDeclaration(i))),Gu(e)):ld(e,n,t):Gu(e);var i=ee(r,0);if(i.length)return yd((n=ld(e,i,t)).declaration)||te(n)===gt||V(e,Q_.Diagnostics.Only_a_void_function_can_be_called_with_the_new_keyword),za(n)===gt&&V(e,Q_.Diagnostics.A_function_that_is_called_with_the_new_keyword_cannot_have_a_this_type_that_is_void),n;V(e,Q_.Diagnostics.Cannot_use_new_with_an_expression_whose_type_lacks_a_call_or_construct_signature)}return Gu(e)}function pd(e){switch(e.parent.kind){case 229:case 199:return Q_.Diagnostics.Unable_to_resolve_signature_of_class_decorator_when_called_as_an_expression;case 146:return Q_.Diagnostics.Unable_to_resolve_signature_of_parameter_decorator_when_called_as_an_expression;case 149:return Q_.Diagnostics.Unable_to_resolve_signature_of_property_decorator_when_called_as_an_expression;case 151:case 153:case 154:return Q_.Diagnostics.Unable_to_resolve_signature_of_method_decorator_when_called_as_an_expression}}function fd(e,t){var r,n,i,a=K(e.expression),s=Z(a);return s===q?Gu(e):(r=ee(s,0),i=ee(s,1),ud(a,s,r.length,i.length)?Hu(e):(n=e,(a=r).length&&Q_.every(a,function(e){return 0===e.minArgumentCount&&!e.hasRestParameter&&e.parameters.length<id(n,void 0,e)})?(i=Q_.getTextOfNode(e.expression,!1),V(e,Q_.Diagnostics._0_accepts_too_few_arguments_to_be_used_as_a_decorator_here_Did_you_mean_to_call_it_first_and_write_0,i),Gu(e)):(a=pd(e),r.length?ld(e,r,t,a):(i=Q_.chainDiagnosticMessages(i=void 0,Q_.Diagnostics.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature_Type_0_has_no_compatible_call_signatures,W(s)),i=Q_.chainDiagnosticMessages(i,a),ar.add(Q_.createDiagnosticForNodeFromMessageChain(e,i)),Gu(e)))))}function _d(e,t,r){return Q_.Debug.assert(!(65536&t.flags)),md(e,t,r)}function md(e,t,r){if(65536&t.flags){for(var n=void 0,i=0,a=t.types;i<a.length;i++)var s=a[i],n=n||md(e,s,r);return n}t=t&&ee(t,0);if(t&&0<t.length)return ld(e,t,r)}function gd(e,t){switch(e.kind){case 181:var r=e,n=t;if(97!==r.expression.kind)return(i=Lu(r.expression))===yt?Pt:(a=Z(i))===q?Gu(r):(o=ee(a,0),s=ee(a,1),ud(i,a,o.length,s.length)?(i!==q&&r.typeArguments&&V(r,Q_.Diagnostics.Untyped_function_calls_may_not_accept_type_arguments),Hu(r)):o.length?ld(r,o,n):(s.length?V(r,Q_.Diagnostics.Value_of_type_0_is_not_callable_Did_you_mean_to_include_new,W(i)):V(r,Q_.Diagnostics.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature_Type_0_has_no_compatible_call_signatures,W(a)),Gu(r)));var i=zl(r.expression);if(i!==q){var a=Q_.getClassExtendsHeritageClauseElement(Q_.getContainingClass(r));if(a)return ld(r,Fi(i,a.typeArguments,a),n)}return Hu(r);case 182:return dd(e,t);case 183:return o=t,i=K((s=e).tag),(a=Z(i))===q?Gu(s):(n=ee(a,0),r=ee(a,1),ud(i,a,n.length,r.length)?Hu(s):n.length?ld(s,n,o):(V(s,Q_.Diagnostics.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature_Type_0_has_no_compatible_call_signatures,W(a)),Gu(s)));case 147:return fd(e,t);case 251:case 250:return md(e,K(e.tagName),t)||Nt}var s,o;Q_.Debug.assertNever(e,"Branch in 'resolveSignature' should be unreachable.")}function hd(e,t){var r=v(e),n=r.resolvedSignature;if(n&&n!==It&&!t)return n;r.resolvedSignature=It;e=gd(e,t);return r.resolvedSignature=Rt===Mt?e:n,e}function yd(e){return e&&Q_.isInJavaScriptFile(e)&&(Q_.getJSDocClassTag(e)||(e=Q_.isFunctionDeclaration(e)||Q_.isFunctionExpression(e)?H(e):Q_.isVariableDeclaration(e)&&e.initializer&&Q_.isFunctionExpression(e.initializer)?H(e.initializer):void 0)&&void 0!==e.members)}function vd(e){var t=d(e);return t.inferredClassType||(t.inferredClassType=In(e,e.members||_,Q_.emptyArray,Q_.emptyArray,void 0,void 0)),t.inferredClassType}function bd(e){return e.symbol&&16&P(e)&&d(e.symbol).inferredClassType===e}function xd(e){O_(e,e.typeArguments)||F_(e.arguments);var t=hd(e);if(97===e.expression.kind)return gt;if(182===e.kind){var r=t.declaration;if(r&&152!==r.kind&&156!==r.kind&&161!==r.kind&&!Q_.isJSDocConstructSignature(r))return(r=(r=K(e.expression).symbol)||71!==e.expression.kind?r:Kc(e.expression))&&(e=>{if(yd((e=Q_.isDeclarationOfFunctionOrClassExpression(e)?H(e.valueDeclaration.initializer):e).valueDeclaration))return vd(e);if(3&e.flags){e=Q(e);if(e.symbol&&!bd(e)&&yd(e.symbol.valueDeclaration))return vd(e.symbol)}})(r)||(h&&V(e,Q_.Diagnostics.new_expression_whose_target_lacks_a_construct_signature_implicitly_has_an_any_type),E)}if(Q_.isInJavaScriptFile(e)&&(e=>{if(Q_.isRequireCall(e,!0)){var t;if(Q_.isIdentifier(e.expression))return!(e=qr(e.expression,e.expression.escapedText,107455,void 0,void 0,!0))||(2097152&e.flags?void 0:0!=(t=16&e.flags?228:3&e.flags?226:0)&&(e=Q_.getDeclarationOfKind(e,t),Q_.isInAmbientContext(e)));throw Q_.Debug.fail()}})(e)){r=e.arguments[0];if(r=un(r,r)){r=fn(r);if(r)return Q(r)}return E}return te(t)}function kd(e){if(F_(e.arguments)||(t=e,se===Q_.ModuleKind.ES2015?z(t,Q_.Diagnostics.Dynamic_import_cannot_be_used_when_targeting_ECMAScript_2015_modules):t.typeArguments?z(t,Q_.Diagnostics.Dynamic_import_cannot_have_type_arguments):1!==(r=t.arguments).length?z(t,Q_.Diagnostics.Dynamic_import_must_have_one_specifier_as_an_argument):Q_.isSpreadElement(r[0])&&z(r[0],Q_.Diagnostics.Specifier_of_dynamic_import_cannot_be_spread_element)),0!==e.arguments.length){for(var t=e.arguments[0],r=tp(t),n=1;n<e.arguments.length;++n)tp(e.arguments[n]);(2048&r.flags||4096&r.flags||!S(r,B))&&V(t,Q_.Diagnostics.Dynamic_import_s_specifier_must_be_of_type_string_but_here_has_type_0,W(r));var i=un(e,t);if(i){i=_n(i,t,!0);if(i)return Nd(e,((e,t)=>{var r,n,i;return f&&e&&e!==q?((r=e).syntheticType||(O(e,"default")?r.syntheticType=e:(n=Q_.createSymbolTable(),(i=Rr(2097152,"default")).target=rn(t),n.set("default",i),t=Rr(2048,"__type"),i=In(t,n,Q_.emptyArray,Q_.emptyArray,void 0,void 0),t.type=i,r.syntheticType=Vs([e,i]))),r.syntheticType):e})(Q(i),i))}}return Nd(e,E)}function Sd(e,t,r,n){r=kc(dc(K(r,n))),ne(t),n=re(t);return $&&n!==q&&!Lo(n,Cc(r))&&Mo(r,n,e,Q_.Diagnostics.Type_0_cannot_be_converted_to_type_1),n}function Td(e){var t=e;if(94===t.keywordToken&&"target"!==t.name.escapedText)z(t.name,Q_.Diagnostics._0_is_not_a_valid_meta_property_for_keyword_1_Did_you_mean_2,t.name.escapedText,Q_.tokenToString(t.keywordToken),"target");t=Q_.getNewTargetContainer(e);return t?152===t.kind?Q(H(t.parent)):Q(H(t)):(V(e,Q_.Diagnostics.Meta_property_0_is_only_allowed_in_the_body_of_a_function_declaration_function_expression_or_constructor,"new.target"),q)}function Cd(e){var t=Q(e);if(M){e=e.valueDeclaration;if(e&&e.initializer)return yc(t,2048)}return t}function Ed(e,t){return e.hasRestParameter?t<e.parameters.length-1?Cd(e.parameters[t]):$a(e):t<e.parameters.length?Cd(e.parameters[t]):E}function Dd(e){return 0<e.parameters.length?Ed(e,0):ht}function Ad(e,t){var r=d(e);r.type||(r.type=t,71!==(t=e.valueDeclaration).name.kind&&(r.type===I&&(r.type=fi(t.name)),function e(t){for(var r=0,n=t.elements;r<n.length;r++){var i=n[r];Q_.isOmittedExpression(i)||(71===i.name.kind?d(H(i)).type=oi(i):e(i.name))}}(t.name)))}function wd(e){var t=bs(!0);return t!==xt?ns(t,[e=Ap(e)||I]):I}function Nd(e,t){t=wd(t);return t===I?(V(e,Q_.isImportCall(e)?Q_.Diagnostics.A_dynamic_import_call_returns_a_Promise_Make_sure_you_have_a_declaration_for_Promise_or_include_ES2015_in_your_lib_option:Q_.Diagnostics.An_async_function_or_method_must_return_a_Promise_Make_sure_you_have_a_declaration_for_Promise_or_include_ES2015_in_your_lib_option),q):(xs(!0)||V(e,Q_.isImportCall(e)?Q_.Diagnostics.A_dynamic_import_call_in_ES5_SlashES3_requires_the_Promise_constructor_Make_sure_you_have_a_declaration_for_the_Promise_constructor_or_include_ES2015_in_your_lib_option:Q_.Diagnostics.An_async_function_or_method_in_ES5_SlashES3_requires_the_Promise_constructor_Make_sure_you_have_a_declaration_for_the_Promise_constructor_or_include_ES2015_in_your_lib_option),t)}function Id(e,t){var r=iu(e);if(!e.body)return q;var n,i,a,s,o=Q_.getFunctionFlags(e);if(207!==e.body.kind)n=tp(e.body,t),2&o&&(n=Dp(n,e,Q_.Diagnostics.The_return_type_of_an_async_function_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member));else{var c=void 0;if(1&o){if(!(c=Q_.concatenate((l=e,i=t,a=[],s=Q_.getFunctionFlags(l),Q_.forEachYieldExpression(l.body,function(e){var t,r=e.expression;r&&(t=tp(r,i),e.asteriskToken&&(t=cf(t,e.expression,!1,0!=(2&s))),2&s&&(t=Dp(t,r,e.asteriskToken?Q_.Diagnostics.Type_of_iterated_elements_of_a_yield_Asterisk_operand_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member:Q_.Diagnostics.Type_of_yield_operand_in_an_async_generator_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member)),Q_.pushIfUnique(a,t))}),a),Fd(e,t)))||0===c.length)return l=(2&o?Ps:Fs)(E),h&&V(e.asteriskToken,Q_.Diagnostics.Generator_implicitly_has_type_0_because_it_does_not_yield_any_values_Consider_supplying_a_return_type,W(l)),l}else{if(!(c=Fd(e,t)))return 2&o?Nd(e,ht):ht;if(0===c.length)return 2&o?Nd(e,gt):gt}n=L(c,!0),1&o&&(n=(2&o?Ps:Fs)(n))}r||Dc(e,n);var l=Cc(n=!lc(n)||r&&ip(r===ja(e)?n:te(r))?n:pc(n));return 2==(3&o)?Nd(e,l):l}function Pd(e){var t,r;return e.possiblyExhaustive&&uc(t=op(e.expression))&&(e=ll(e)).length?(t=fl(t,po),r=e,65536&t.flags?!Q_.forEach(t.types,function(e){return!Q_.contains(r,e)}):Q_.contains(r,t)):void 0}function Od(e){return!(!(128&e.flags)||(e=Q_.lastOrUndefined(e.body.statements))&&221===e.kind&&Pd(e))}function Fd(t,r){var n=Q_.getFunctionFlags(t),i=[],a=Od(t),s=!1;if(Q_.forEachReturnStatement(t.body,function(e){var e=e.expression;e?(e=tp(e,r),8192&(e=2&n?Dp(e,t,Q_.Diagnostics.The_return_type_of_an_async_function_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member):e).flags&&(s=!0),Q_.pushIfUnique(i,e)):a=!0}),0!==i.length||a||!s&&186!==t.kind&&187!==t.kind)return M&&i.length&&a&&Q_.pushIfUnique(i,ot),i}function Ld(e,t){if($&&(!t||!zd(t,1025))&&!Q_.nodeIsMissing(e.body)&&207===e.body.kind&&Od(e)){var r=256&e.flags;if(t&&8192&t.flags)V(Q_.getEffectiveReturnTypeNode(e),Q_.Diagnostics.A_function_returning_never_cannot_have_a_reachable_end_point);else if(t&&!r)V(Q_.getEffectiveReturnTypeNode(e),Q_.Diagnostics.A_function_whose_declared_type_is_neither_void_nor_any_must_return_a_value);else if(t&&M&&!S(ot,t))V(Q_.getEffectiveReturnTypeNode(e),Q_.Diagnostics.Function_lacks_ending_return_statement_and_return_type_does_not_include_undefined);else if(R.noImplicitReturns){if(!t){if(!r)return;if(mf(e,te(ja(e))))return}V(Q_.getEffectiveReturnTypeNode(e)||e,Q_.Diagnostics.Not_all_code_paths_return_a_value)}}}function Rd(e,t){if(Q_.Debug.assert(151!==e.kind||Q_.isObjectLiteralMethod(e)),1===t&&Eo(e))return Mf(e),kt;P_(e)||186!==e.kind||U_(e);var r=v(e),n=Q(e.symbol);if(!(1024&r.flags)){var i=su(e);if(!(1024&r.flags)){if(r.flags|=1024,i){r=ee(n,0)[0];if(Eo(e)){var a=tu(e);if(2===t)for(var s=r,o=i,c=a,l=s.parameters.length-(s.hasRestParameter?1:0),u=0;u<l;u++){var d=s.parameters[u].valueDeclaration;d.type&&(d=Q_.getEffectiveTypeAnnotationNode(d))&&Lc(c.inferences,re(d),Ed(o,u))}var i=a===x?i:xo(i,a),p=r,f=i;p.typeParameters=f.typeParameters,f.thisParameter&&(!(g=p.thisParameter)||g.valueDeclaration&&!g.valueDeclaration.type)&&(g||(p.thisParameter=xc(f.thisParameter,void 0)),Ad(p.thisParameter,Q(f.thisParameter)));for(var _=p.parameters.length-(p.hasRestParameter?1:0),m=0;m<_;m++){var g=p.parameters[m];Q_.getEffectiveTypeAnnotationNode(g.valueDeclaration)||Ad(g,Ed(f,m))}p.hasRestParameter&&ic(f,p.parameters.length-1)&&(!Mr(g=Q_.lastOrUndefined(p.parameters))&&Q_.getEffectiveTypeAnnotationNode(g.valueDeclaration)||Ad(g,Q(Q_.lastOrUndefined(f.parameters))))}Q_.getEffectiveReturnTypeNode(e)||r.resolvedReturnType||(a=Id(e,t),r.resolvedReturnType)||(r.resolvedReturnType=a)}dp(e),Mf(e)}}return $&&151!==e.kind&&(Wp(e,e.name),qp(e,e.name),Vp(e,e.name)),n}function Md(e,t,r){return!!$d(t,84)||(V(e,r),!1)}function Ud(e){return!!(8&Q_.getCheckFlags(e)||4&e.flags&&64&Q_.getDeclarationModifierFlagsFromSymbol(e)||3&e.flags&&2&Pu(e)||98304&e.flags&&!(65536&e.flags)||8&e.flags)}function Bd(e,t){return Ud(t)&&(4&t.flags&&(179===e.kind||180===e.kind)&&99===e.expression.kind&&(e=Q_.getContainingFunction(e))&&152===e.kind?e.parent!==t.valueDeclaration.parent&&e!==t.valueDeclaration.parent:1)}function jd(e){if(179===e.kind||180===e.kind){e=Q_.skipParentheses(e.expression);if(71===e.kind){var e=v(e).resolvedSymbol;if(2097152&e.flags)return(e=Yr(e))&&240===e.kind}}}function Kd(e,t){var r=Q_.skipOuterExpressions(e,3);if(71===r.kind||179===r.kind||180===r.kind)return 1;V(e,t)}function zd(e,t){if(e.flags&t)return!0;if(196608&e.flags)for(var r=0,n=e.types;r<n.length;r++)if(zd(n[r],t))return!0;return!1}function $d(e,t,r){return!!(e.flags&t)||!(r&&7169&e.flags)&&(84&t&&S(e,dt)||262178&t&&S(e,B)||136&t&&S(e,_t)||1024&t&&S(e,gt)||8192&t&&S(e,ht)||4096&t&&S(e,lt)||2048&t&&S(e,ot)||512&t&&S(e,mt)||16777216&t&&S(e,vt))}function Jd(e){return 16&P(e)&&e.symbol&&qd(e.symbol)}function qd(e){return 0!=(128&e.flags)}function Vd(e,t,r){if(261===t.kind||262===t.kind){var n=t.name;if(144===n.kind&&du(n),!ai(n))return s=Q_.getTextOfPropertyName(n),(s=N(e)?e:ni(e,s)||uu(s)&&Ia(e,1)||Ia(e,0))?262===t.kind?Gd(t,s):Gd(t.initializer,s):void V(n,Q_.Diagnostics.Type_0_has_no_property_1_and_no_string_index_signature,W(e),Q_.declarationNameToString(n))}else{if(263===t.kind){J<5&&E_(t,4);var i=[];if(r)for(var a=0;a<r.length-1;a++)i.push(r[a].name);var s=si(e,i,e.symbol);return Gd(t.expression,s)}V(t,Q_.Diagnostics.Property_assignment_expected)}}function Hd(e,t,r,n,i){var e=e.elements,a=e[r];if(200!==a.kind)if(198!==a.kind){var s=""+r,o=N(t)?t:cc(t)?ni(t,s):n;if(o)return Gd(a,o,i);K(a),fc(t)?V(a,Q_.Diagnostics.Tuple_type_0_with_length_1_cannot_be_assigned_to_tuple_with_length_2,W(t),as(t),e.length):V(a,Q_.Diagnostics.Type_0_has_no_property_1,W(t),s)}else if(r<e.length-1)V(a,Q_.Diagnostics.A_rest_element_must_be_last_in_a_destructuring_pattern);else{o=a.expression;if(194!==o.kind||58!==o.operatorToken.kind)return Gd(o,Ls(n),i);V(o.operatorToken,Q_.Diagnostics.A_rest_element_cannot_have_an_initializer)}}function Gd(e,t,r){var n,i,a,s=262===e.kind?((s=e).objectAssignmentInitializer&&(!M||2048&mc(K(s.objectAssignmentInitializer))||(t=Yc(t,131072)),Xd(s.name,s.equalsToken,s.objectAssignmentInitializer,r)),e.name):e;if(194===s.kind&&58===s.operatorToken.kind&&(Yd(s,r),s=s.left),178===s.kind){for(var o=t,c=s.properties,l=0,u=c;l<u.length;l++)Vd(o,u[l],c);return o}if(177!==s.kind)return e=t,i=K(n=s,i=r),a=263===n.parent.kind?Q_.Diagnostics.The_target_of_an_object_rest_assignment_must_be_a_variable_or_a_property_access:Q_.Diagnostics.The_left_hand_side_of_an_assignment_expression_must_be_a_variable_or_a_property_access,Kd(n,a)&&Ro(e,i,n,void 0),e;var d=s,p=t,f=r;J<2&&R.downlevelIteration&&E_(d,512);for(var _=cf(p,d,!1,!1)||q,m=d.elements,g=0;g<m.length;g++)Hd(d,p,g,_,f);return p}function Wd(e,t){return 0!=(6144&t.flags)||Lo(e,t)}function Qd(e,t){var r=S(e,t),n=S(t,e);return n&&!r?e:r&&!n?t:L([e,t],!0)}function Yd(e,t){return Xd(e.left,e.operatorToken,e.right,t,e)}function Xd(r,e,n,t,i){var a=e.kind;if(58===a&&(178===r.kind||177===r.kind))return Gd(r,K(n,t),t);var s,o,c,l,u=K(r,t),d=K(n,t);switch(a){case 39:case 40:case 61:case 62:case 41:case 63:case 42:case 64:case 38:case 60:case 45:case 65:case 46:case 66:case 47:case 67:case 49:case 69:case 50:case 70:case 48:case 68:return u===yt||d===yt?yt:(u=Ru(u,r),d=Ru(d,n),p=void 0,136&u.flags&&136&d.flags&&void 0!==(p=(e=>{switch(e){case 49:case 69:return 54;case 50:case 70:return 35;case 48:case 68:return 53;default:return}})(e.kind))?V(i||e,Q_.Diagnostics.The_0_operator_is_not_allowed_for_boolean_types_Consider_using_1_instead,Q_.tokenToString(e.kind),Q_.tokenToString(p)):(p=Md(r,u,Q_.Diagnostics.The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type),f=Md(n,d,Q_.Diagnostics.The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type),p&&f&&m(dt)),dt);case 37:case 59:if(u===yt||d===yt)return yt;$d(u,262178)||$d(d,262178)||(u=Ru(u,r),d=Ru(d,n));var p=void 0;if($d(u,84,!0)&&$d(d,84,!0)?p=dt:$d(u,262178,!0)||$d(d,262178,!0)?p=B:(N(u)||N(d))&&(p=u===q||d===q?q:E),!p||_(a)){if(!p)return g(),E;59===a&&m(p)}return p;case 27:case 29:case 30:case 31:return _(a)&&(u=dc(Ru(u,r)),d=dc(Ru(d,n)),Lo(u,d)||Lo(d,u)||g()),_t;case 32:case 33:case 34:case 35:var f=uc(u),p=uc(d);return f&&p||(u=f?dc(u):u,d=p?dc(d):d),Wd(u,d)||Wd(d,u)||g(),_t;case 93:return f=r,p=n,l=d,(c=u)===yt||l===yt?yt:(!N(c)&&$d(c,8190)&&V(f,Q_.Diagnostics.The_left_hand_side_of_an_instanceof_expression_must_be_of_type_any_an_object_type_or_a_type_parameter),N(l)||ee(l,0).length||ee(l,1).length||Oo(l,me)||V(p,Q_.Diagnostics.The_right_hand_side_of_an_instanceof_expression_must_be_of_type_any_or_of_a_type_assignable_to_the_Function_interface_type),_t);case 92:return c=r,l=n,o=d,(s=u)===yt||o===yt?yt:(s=Ru(s,c),o=Ru(o,l),Lo(s,B)||$d(s,596)||V(c,Q_.Diagnostics.The_left_hand_side_of_an_in_expression_must_be_of_type_any_string_number_or_symbol),$d(o,17317888)||V(l,Q_.Diagnostics.The_right_hand_side_of_an_in_expression_must_be_of_type_any_an_object_type_or_a_type_parameter),_t);case 53:return 1048576&Qc(u)?L([fl(M?u:dc(d),hc),d]):u;case 54:return 2097152&Qc(u)?Qd(gc(u),d):u;case 58:return m(d),kc(d);case 26:return R.allowUnreachableCode||!function e(t){switch((t=Q_.skipParentheses(t)).kind){case 71:case 9:case 12:case 183:case 196:case 13:case 8:case 101:case 86:case 95:case 139:case 186:case 199:case 187:case 177:case 178:case 189:case 203:case 250:case 249:return!0;case 195:return e(t.whenTrue)&&e(t.whenFalse);case 194:return!Q_.isAssignmentOperator(t.operatorToken.kind)&&e(t.left)&&e(t.right);case 192:case 193:switch(t.operator){case 51:case 37:case 38:case 52:return!0}return!1;default:return!1}}(r)||71===(s=n).kind&&"eval"===s.escapedText||V(r,Q_.Diagnostics.Left_side_of_comma_operator_is_unused_and_has_no_side_effects),d}function _(e){var t=zd(u,512)?r:zd(d,512)?n:void 0;if(!t)return 1;V(t,Q_.Diagnostics.The_0_operator_cannot_be_applied_to_type_symbol,Q_.tokenToString(e))}function m(e){$&&Q_.isAssignmentOperator(a)&&Kd(r,Q_.Diagnostics.The_left_hand_side_of_an_assignment_expression_must_be_a_variable_or_a_property_access)&&Ro(e,u,r,void 0)}function g(){V(i||e,Q_.Diagnostics.Operator_0_cannot_be_applied_to_types_1_and_2,Q_.tokenToString(e.kind),W(u),W(d))}}function Zd(e){var t,r,n,i,a;return $&&(4096&e.flags&&!(e=>{for(var t=e,r=e.parent;r;){if(Q_.isFunctionLike(r)&&t===r.body)return;if(Q_.isClassLike(t))return 1;r=(t=r).parent}})(e)||ie(e,Q_.Diagnostics.A_yield_expression_is_only_allowed_in_a_generator_body),Vl(e))&&V(e,Q_.Diagnostics.yield_expressions_cannot_be_used_in_a_parameter_initializer),e.expression&&(t=(a=Q_.getContainingFunction(e))&&Q_.getFunctionFlags(a),e.asteriskToken&&(3==(3&t)&&J<5&&E_(e,26624),1==(3&t))&&J<2&&R.downlevelIteration&&E_(e,256),1&t)&&(r=tp(e.expression),n=void 0,(i=!!e.asteriskToken)&&(n=cf(r,e.expression,!1,0!=(2&t))),a=Q_.getEffectiveReturnTypeNode(a))&&(a=pf(re(a),0!=(2&t))||E,Ro(i?2&t?Ap(n,e.expression,Q_.Diagnostics.Type_of_iterated_elements_of_a_yield_Asterisk_operand_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member):n:2&t?Ap(r,e.expression,Q_.Diagnostics.Type_of_yield_operand_in_an_async_generator_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member):r,a,e.expression,void 0)),E}function ep(e,t,r){var n=e.contextualType,i=e.contextualMapper,t=(e.contextualType=t,(e.contextualMapper=r)===x?1:r?2:0),r=K(e,t);return e.contextualType=n,e.contextualMapper=i,r}function tp(e,t){var r,n=v(e);return n.resolvedType||(r=Rt,Rt=Mt,n.resolvedType=K(e,t),Rt=r),n.resolvedType}function rp(e){return 184===(e=Q_.skipParentheses(e)).kind||202===e.kind}function np(e){var t=op(e.initializer,!0);return 2&Q_.getCombinedNodeFlags(e)||64&Q_.getCombinedModifierFlags(e)&&!Q_.isParameterPropertyDeclaration(e)||rp(e.initializer)?t:pc(t)}function ip(e){if(e){if(540672&e.flags){var t=ba(e)||I;if(30&t.flags)return!0;e=t}return zd(e,262368)}return!1}function ap(e,t,r){2===arguments.length&&(r=eu(e));t=K(e,t);return rp(e)||ip(r)?t:pc(t)}function sp(e,t,r){if(2===r){r=Yu(t);if(r&&r.typeParameters){var n=Zl(e);if(n){n=Yu(vc(n));if(n&&!n.typeParameters)return Ga(Xu(r,n,tu(e)))}}}return t}function op(e,t){if(181===e.kind&&97!==e.expression.kind&&!Q_.isRequireCall(e,!0)){var r=Yu(Lu(e.expression));if(r&&!r.typeParameters)return te(r)}return(t?tp:K)(e)}function K(e,t){return t=143===e.kind?Uu(e):sp(e,((e,t)=>{switch(e.kind){case 71:return Fl(e);case 99:return jl(e);case 97:return zl(e);case 95:return ut;case 13:case 9:return uo(fo(e.text));case 8:return W_(e),uo(fo(+e.text));case 101:return pt;case 86:return ft;case 196:return(e=>(Q_.forEach(e.templateSpans,function(e){K(e.expression)}),B))(e);case 12:return xe;case 177:return cu(e,t);case 178:return fu(e,t);case 179:return Mu(e);case 180:return(e=>{var t,r,n=Lu(e.expression),i=e.argumentExpression;return i?(r=Ju(i)?dt:K(i),n===q||n===yt?n:Jd(n)&&9!==i.kind?(V(i,Q_.Diagnostics.A_const_enum_member_can_only_be_accessed_using_a_string_literal),q):bp(eo(n,r,e),e)):(i=Q_.getSourceFileOfNode(e),182===e.parent.kind&&e.parent.expression===e?H_(i,t=Q_.skipTrivia(i.text,e.expression.end),e.end-t,Q_.Diagnostics.new_T_cannot_be_used_to_create_an_array_Use_new_Array_T_instead):H_(i,t=e.end-"]".length,e.end-t,Q_.Diagnostics.Expression_expected),q)})(e);case 181:if(91===e.expression.kind)return kd(e);case 182:return xd(e);case 183:return(e=>(J<2&&E_(e,65536),te(hd(e))))(e);case 185:return((e,t)=>{var r=Q_.isInJavaScriptFile(e)?Q_.getJSDocTypeTag(e):void 0;return r?Sd(r,r.typeExpression.type,e.expression,t):K(e.expression,t)})(e,t);case 199:return(e=>(xf(e),Mf(e),Q(H(e))))(e);case 186:case 187:return Rd(e,t);case 189:return(e=>(K(e.expression),lr))(e);case 184:case 202:return(e=>Sd(e,e.type,e.expression))(e);case 203:return(e=>vc(K(e.expression)))(e);case 204:return Td(e);case 188:return(e=>{var t;return K(e.expression),179!==(e=Q_.skipParentheses(e.expression)).kind&&180!==e.kind?V(e,Q_.Diagnostics.The_operand_of_a_delete_operator_must_be_a_property_reference):(t=Sn(v(e).resolvedSymbol))&&Ud(t)&&V(e,Q_.Diagnostics.The_operand_of_a_delete_operator_cannot_be_a_read_only_property),_t})(e);case 190:return(e=>(K(e.expression),ct))(e);case 191:return(e=>($&&(16384&e.flags||ie(e,Q_.Diagnostics.await_expression_is_only_allowed_within_an_async_function),Vl(e))&&V(e,Q_.Diagnostics.await_expressions_cannot_be_used_in_a_parameter_initializer),Dp(K(e.expression),e,Q_.Diagnostics.Type_of_await_operand_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member)))(e);case 192:return(e=>{var t=K(e.operand);if(t===yt)return yt;if(8===e.operand.kind){if(38===e.operator)return uo(fo(-e.operand.text));if(37===e.operator)return uo(fo(+e.operand.text))}switch(e.operator){case 37:case 38:case 52:return Ru(t,e.operand),zd(t,512)&&V(e.operand,Q_.Diagnostics.The_0_operator_cannot_be_applied_to_type_symbol,Q_.tokenToString(e.operator)),dt;case 51:var r=3145728&Qc(t);return 1048576==r?ft:2097152==r?pt:_t;case 43:case 44:return Md(e.operand,Ru(t,e.operand),Q_.Diagnostics.An_arithmetic_operand_must_be_of_type_any_number_or_an_enum_type)&&Kd(e.operand,Q_.Diagnostics.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_or_a_property_access),dt}return q})(e);case 193:return(e=>{var t=K(e.operand);return t===yt?yt:(Md(e.operand,Ru(t,e.operand),Q_.Diagnostics.An_arithmetic_operand_must_be_of_type_any_number_or_an_enum_type)&&Kd(e.operand,Q_.Diagnostics.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_or_a_property_access),dt)})(e);case 194:return Yd(e,t);case 195:return((e,t)=>(K(e.condition),Qd(K(e.whenTrue,t),K(e.whenFalse,t))))(e,t);case 198:return((e,t)=>(J<2&&R.downlevelIteration&&E_(e,1536),cf(K(e.expression,t),e.expression,!1,!1)))(e,t);case 200:return ct;case 197:return Zd(e);case 256:return((e,t)=>e.expression?(t=K(e.expression,t),e.dotDotDotToken&&t!==E&&!sc(t)&&V(e,Q_.Diagnostics.JSX_spread_child_must_be_an_array_type),t):q)(e,t);case 249:return(e=>(Nu(e.openingElement),gu(e.closingElement.tagName)?vu(e.closingElement):K(e.closingElement.tagName),Au()||E))(e);case 250:return(e=>(Nu(e),Au()||E))(e);case 254:return((e,t)=>hu(e.parent,void 0,t))(e,t);case 251:Q_.Debug.fail("Shouldn't ever directly check a JsxOpeningElement")}return q})(e,t),t),!Jd(t)||179===e.parent.kind&&e.parent.expression===e||180===e.parent.kind&&e.parent.expression===e||(71===e.kind||143===e.kind)&&Hf(e)||V(e,Q_.Diagnostics.const_enums_can_only_be_used_in_property_or_index_access_expressions_or_the_right_hand_side_of_an_import_declaration_or_export_assignment),t}function cp(e){e.expression&&ie(e.expression,Q_.Diagnostics.Type_expected),ne(e.constraint),ne(e.default);var t=Ji(H(e)),r=(xa(t)||V(e.constraint,Q_.Diagnostics.Type_parameter_0_has_a_circular_constraint,W(t)),Sa(t)===Tt&&V(e.default,Q_.Diagnostics.Type_parameter_0_has_a_circular_default,W(t)),ya(t)),t=Ta(t);r&&t&&Ro(t,Xi(r,t),e.default,Q_.Diagnostics.Type_0_does_not_satisfy_the_constraint_1),$&&yf(e.name,Q_.Diagnostics.Type_parameter_name_cannot_be_0)}function lp(e){D_(e)||A_(e),ef(e);var t=Q_.getContainingFunction(e);!Q_.hasModifier(e,92)||152===t.kind&&Q_.nodeIsPresent(t.body)||V(e,Q_.Diagnostics.A_parameter_property_is_only_allowed_in_a_constructor_implementation),e.questionToken&&Q_.isBindingPattern(e.name)&&t.body&&V(e,Q_.Diagnostics.A_binding_pattern_parameter_cannot_be_optional_in_an_implementation_signature),e.name&&Q_.isIdentifier(e.name)&&("this"===e.name.escapedText||"new"===e.name.escapedText)&&(0!==Q_.indexOf(t.parameters,e)&&V(e,Q_.Diagnostics.A_0_parameter_must_be_the_first_parameter,e.name.escapedText),152!==t.kind&&156!==t.kind&&161!==t.kind||V(e,Q_.Diagnostics.A_constructor_cannot_have_a_this_parameter)),!e.dotDotDotToken||Q_.isBindingPattern(e.name)||sc(Q(e.symbol))||V(e,Q_.Diagnostics.A_rest_parameter_must_be_of_an_array_type)}function up(e){var t=(e=>{switch(e.parent.kind){case 187:case 155:case 228:case 186:case 160:case 151:case 150:var t=e.parent;if(e===t.type)return t}})(e);if(t){var r=ja(t).typePredicate;if(r){ne(e.type);var n,i=e.parameterName;if(Q_.isThisTypePredicate(r))_o(i);else if(0<=r.parameterIndex)t.parameters[r.parameterIndex].dotDotDotToken?V(i,Q_.Diagnostics.A_type_predicate_cannot_reference_a_rest_parameter):(n=Q_.chainDiagnosticMessages(void 0,Q_.Diagnostics.A_type_predicate_s_type_must_be_assignable_to_its_parameter_s_type),Ro(r.type,Qf(t.parameters[r.parameterIndex]),e.type,void 0,n));else if(i){for(var a=!1,s=0,o=t.parameters;s<o.length;s++){var c=o[s].name;if(Q_.isBindingPattern(c)&&function e(t,r,n){for(var i=0,a=t.elements;i<a.length;i++){var s=a[i];if(!Q_.isOmittedExpression(s)){s=s.name;if(71===s.kind&&s.escapedText===n)return V(r,Q_.Diagnostics.A_type_predicate_cannot_reference_element_0_in_a_binding_pattern,n),!0;if((175===s.kind||174===s.kind)&&e(s,r,n))return!0}}}(c,i,r.parameterName)){a=!0;break}}a||V(e.parameterName,Q_.Diagnostics.Cannot_find_parameter_0,r.parameterName)}}}else V(e,Q_.Diagnostics.A_type_predicate_is_only_allowed_in_return_type_position_for_functions_and_methods)}function dp(e){if(157===e.kind){if(!D_(r=e)&&!A_(r)){var t=r.parameters[0];1!==r.parameters.length?z(t?t.name:r,Q_.Diagnostics.An_index_signature_must_have_exactly_one_parameter):t.dotDotDotToken?z(t.dotDotDotToken,Q_.Diagnostics.An_index_signature_cannot_have_a_rest_parameter):Q_.hasModifiers(t)?z(t.name,Q_.Diagnostics.An_index_signature_parameter_cannot_have_an_accessibility_modifier):t.questionToken?z(t.questionToken,Q_.Diagnostics.An_index_signature_parameter_cannot_have_a_question_mark):t.initializer?z(t.name,Q_.Diagnostics.An_index_signature_parameter_cannot_have_an_initializer):t.type?136!==t.type.kind&&133!==t.type.kind?z(t.name,Q_.Diagnostics.An_index_signature_parameter_type_must_be_string_or_number):r.type||z(r,Q_.Diagnostics.An_index_signature_must_have_a_type_annotation):z(t.name,Q_.Diagnostics.An_index_signature_parameter_must_have_a_type_annotation)}}else 160!==e.kind&&228!==e.kind&&161!==e.kind&&155!==e.kind&&152!==e.kind&&156!==e.kind||P_(e);var r=Q_.getFunctionFlags(e);if(4&r||(3==(3&r)&&J<5&&E_(e,6144),2==(3&r)&&J<4&&E_(e,64),0!=(3&r)&&J<2&&E_(e,128)),vf(e.typeParameters),Q_.forEach(e.parameters,lp),e.type&&ne(e.type),$){t=e,!Q_.hasRestParameter(t)||Q_.isInAmbientContext(t)||Q_.nodeIsMissing(t.body)||Q_.forEach(t.parameters,function(e){e.name&&!Q_.isBindingPattern(e.name)&&e.name.escapedText===Ye.escapedName&&V(e,Q_.Diagnostics.Duplicate_identifier_arguments_Compiler_uses_arguments_to_initialize_rest_parameters)});var n,i,a=Q_.getEffectiveReturnTypeNode(e);if(h&&!a)switch(e.kind){case 156:V(e,Q_.Diagnostics.Construct_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type);break;case 155:V(e,Q_.Diagnostics.Call_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type)}a&&(1==(5&(n=Q_.getFunctionFlags(e)))?(i=re(a))===gt?V(a,Q_.Diagnostics.A_generator_cannot_have_a_void_type_annotation):Ro((2&n?Ps:Fs)(pf(i,0!=(2&n))||E),i,a):2==(3&n)&&wp(e)),k&&!e.body&&zp(e)}}function pp(e){for(var t=Q_.createMap(),r=0,n=e.members;r<n.length;r++){var i=n[r];if(148===i.kind){var a=void 0;switch(i.name.kind){case 9:case 8:a=i.name.text;break;case 71:a=Q_.idText(i.name);break;default:continue}t.get(a)?(V(Q_.getNameOfDeclaration(i.symbol.valueDeclaration),Q_.Diagnostics.Duplicate_identifier_0,a),V(i.name,Q_.Diagnostics.Duplicate_identifier_0,a)):t.set(a,!0)}}}function fp(e){if(230===e.kind){var t=H(e);if(0<t.declarations.length&&t.declarations[0]!==e)return}t=Wa(H(e));if(t)for(var r=!1,n=!1,i=0,a=t.declarations;i<a.length;i++){var s=a[i];if(1===s.parameters.length&&s.parameters[0].type)switch(s.parameters[0].type.kind){case 136:n?V(s,Q_.Diagnostics.Duplicate_string_index_signature):n=!0;break;case 133:r?V(s,Q_.Diagnostics.Duplicate_number_index_signature):r=!0}}}function _p(e){D_(e)||A_(e)||(e=>{if(Q_.isClassLike(e.parent)){if(z_(e.name,Q_.Diagnostics.A_computed_property_name_in_a_class_property_declaration_must_directly_refer_to_a_built_in_symbol))return 1}else if(230===e.parent.kind){if(z_(e.name,Q_.Diagnostics.A_computed_property_name_in_an_interface_must_directly_refer_to_a_built_in_symbol))return 1;if(e.initializer)return z(e.initializer,Q_.Diagnostics.An_interface_property_cannot_have_an_initializer)}else if(163===e.parent.kind){if(z_(e.name,Q_.Diagnostics.A_computed_property_name_in_a_type_literal_must_directly_refer_to_a_built_in_symbol))return 1;if(e.initializer)return z(e.initializer,Q_.Diagnostics.A_type_literal_property_cannot_have_an_initializer)}return Q_.isInAmbientContext(e)&&e.initializer&&ie(e.initializer,Q_.Diagnostics.Initializers_are_not_allowed_in_ambient_contexts)})(e)||M_(e.name),ef(e)}function mp(e){if(dp(e),!(e=>e.typeParameters&&H_(e,e.typeParameters.pos,e.typeParameters.end-e.typeParameters.pos,Q_.Diagnostics.Type_parameters_cannot_appear_on_a_constructor_declaration))(e)){var t;if((t=e).type)z(t.type,Q_.Diagnostics.Type_annotation_cannot_appear_on_a_constructor_declaration)}ne(e.body),Mp(e);var t=H(e),r=Q_.getDeclarationOfKind(t,e.kind);if(e===r&&Sp(t),!Q_.nodeIsMissing(e.body)&&$){r=e.parent;if(Q_.getClassExtendsHeritageClauseElement(r)){Ll(e.parent,r);var r=Ul(r),n=Ml(e);if(n){if(r&&V(n,Q_.Diagnostics.A_constructor_cannot_contain_a_super_call_when_its_class_extends_null),Q_.some(e.parent.members,function(e){return 149===e.kind&&!Q_.hasModifier(e,32)&&!!e.initializer})||Q_.some(e.parameters,function(e){return Q_.hasModifier(e,92)})){for(var i=void 0,a=0,s=e.body.statements;a<s.length;a++){var o=s[a];if(210===o.kind&&Q_.isSuperCall(o.expression)){i=o;break}if(!Q_.isPrologueDirective(o))break}i||V(e,Q_.Diagnostics.A_super_call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_initialized_properties_or_has_parameter_properties)}}else r||V(e,Q_.Diagnostics.Constructors_for_derived_classes_must_contain_a_super_call)}}}function gp(e){var t,r,n;$&&(P_(e)||(e=>{var t,r=e.kind;return J<1?z(e.name,Q_.Diagnostics.Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher):Q_.isInAmbientContext(e)?z(e.name,Q_.Diagnostics.An_accessor_cannot_be_declared_in_an_ambient_context):void 0!==e.body||Q_.hasModifier(e,128)?e.body&&Q_.hasModifier(e,128)?z(e,Q_.Diagnostics.An_abstract_accessor_cannot_have_an_implementation):e.typeParameters?z(e.name,Q_.Diagnostics.An_accessor_cannot_have_type_parameters):(e=>K_(e)||e.parameters.length===(153===e.kind?0:1))(e)?154===r&&(e.type?z(e.name,Q_.Diagnostics.A_set_accessor_cannot_have_a_return_type_annotation):(t=e.parameters[0]).dotDotDotToken?z(t.dotDotDotToken,Q_.Diagnostics.A_set_accessor_cannot_have_rest_parameter):t.questionToken?z(t.questionToken,Q_.Diagnostics.A_set_accessor_cannot_have_an_optional_parameter):t.initializer&&z(e.name,Q_.Diagnostics.A_set_accessor_parameter_cannot_have_an_initializer)):z(e.name,153===r?Q_.Diagnostics.A_get_accessor_cannot_have_parameters:Q_.Diagnostics.A_set_accessor_must_have_exactly_one_parameter):H_(e,e.end-1,";".length,Q_.Diagnostics._0_expected,"{")})(e)||M_(e.name),Fp(e),dp(e),153===e.kind&&!Q_.isInAmbientContext(e)&&Q_.nodeIsPresent(e.body)&&128&e.flags&&(256&e.flags||V(e.name,Q_.Diagnostics.A_get_accessor_must_return_a_value)),144===e.name.kind&&du(e.name),!Q_.hasDynamicName(e)&&(t=153===e.kind?154:153,t=Q_.getDeclarationOfKind(e.symbol,t))&&((28&(n=Q_.getModifierFlags(e)))!=(28&(r=Q_.getModifierFlags(t)))&&V(e.name,Q_.Diagnostics.Getter_and_setter_accessors_do_not_agree_in_visibility),(128&n)!=(128&r)&&V(e.name,Q_.Diagnostics.Accessors_must_both_be_abstract_or_non_abstract),hp(e,t,hi,Q_.Diagnostics.get_and_set_accessor_must_have_the_same_type),hp(e,t,yi,Q_.Diagnostics.get_and_set_accessor_must_have_the_same_this_type)),n=vi(H(e)),153===e.kind)&&Ld(e,n),ne(e.body),Mp(e)}function hp(e,t,r,n){var i=r(e),r=r(t);i&&r&&!No(i,r)&&V(e,n)}function yp(e,t){for(var r,n,i=Ua(e),a=!0,s=0;s<e.length;s++){var o,c=ya(e[s]);c&&(r||(n=yo(e,r=Ba(Q_.map(t,re),e,i,Q_.isInJavaScriptFile(t[s])))),o=r[s],a=a&&Ro(o,j(c,n),t[s],Q_.Diagnostics.Type_0_does_not_satisfy_the_constraint_1))}return a}function vp(e){O_(e,e.typeArguments),159!==e.kind||void 0===e.typeName.jsdocDotPos||Q_.isInJavaScriptFile(e)||Q_.isInJSDoc(e)||H_(e,e.typeName.jsdocDotPos,1,Q_.Diagnostics.JSDoc_types_can_only_be_used_inside_documentation_comments);var t=ps(e);if(t!==q){if(e.typeArguments&&(Q_.forEach(e.typeArguments,ne),$)){var r=v(e).resolvedSymbol;if(!r)return void(Q_.isJSDocIndexSignature(e)||V(e,Q_.Diagnostics.Type_0_is_not_generic,W(t)));r=524288&r.flags&&d(r).typeParameters;yp(r=!r&&4&P(t)?t.target.localTypeParameters:r,e.typeArguments)}16&t.flags&&8&v(e).resolvedSymbol.flags&&V(e,Q_.Diagnostics.Enum_type_0_has_members_with_initializers_that_are_not_literals,W(t))}}function bp(e,t){var r,n;return 524288&e.flags&&(S(n=e.indexType,Gs(r=e.objectType))?180===t.kind&&Q_.isAssignmentTarget(t)&&32&P(r)&&r.declaration.readonlyToken&&V(t,Q_.Diagnostics.Index_signature_in_type_0_only_permits_reading,W(r)):F(Z(r),1)&&$d(n,84)||V(t,Q_.Diagnostics.Type_0_cannot_be_used_to_index_type_1,W(n),W(r))),e}function xp(e){return Q_.hasModifier(e,8)&&Q_.isInAmbientContext(e)}function kp(e,t){var r=Q_.getCombinedModifierFlags(e);return 230!==e.parent.kind&&229!==e.parent.kind&&199!==e.parent.kind&&Q_.isInAmbientContext(e)&&(2&r||(r|=1),r|=2),r&t}function Sp(e){if($){for(var t,r,n,i,a,s,o,c,l=0,u=155,d=!1,p=!0,f=!1,_=e.declarations,m=0!=(16384&e.flags),g=!1,h=!1,y=0,v=_;y<v.length;y++){var b,x=v[y],k=Q_.isInAmbientContext(x),k=230===x.parent.kind||163===x.parent.kind||k;k&&(n=void 0),228!==x.kind&&151!==x.kind&&150!==x.kind&&152!==x.kind||(l|=b=kp(x,155),u&=b,d=d||Q_.hasQuestionToken(x),p=p&&Q_.hasQuestionToken(x),Q_.nodeIsPresent(x.body)&&t?m?h=!0:g=!0:n&&n.parent===x.parent&&n.end!==x.pos&&A(n),Q_.nodeIsPresent(x.body)?t=t||x:f=!0,n=x,k)||(r=x)}if(h&&Q_.forEach(_,function(e){V(e,Q_.Diagnostics.Multiple_constructor_implementations_are_not_allowed)}),g&&Q_.forEach(_,function(e){V(Q_.getNameOfDeclaration(e),Q_.Diagnostics.Duplicate_function_implementation)}),!r||r.body||Q_.hasModifier(r,128)||r.questionToken||A(r),f&&(a=_,s=t,o=155,0!=(l^u)&&(c=kp(D(a,s),o),Q_.forEach(a,function(e){var t=kp(e,o)^c;1&t?V(Q_.getNameOfDeclaration(e),Q_.Diagnostics.Overload_signatures_must_all_be_exported_or_non_exported):2&t?V(Q_.getNameOfDeclaration(e),Q_.Diagnostics.Overload_signatures_must_all_be_ambient_or_non_ambient):24&t?V(Q_.getNameOfDeclaration(e)||e,Q_.Diagnostics.Overload_signatures_must_all_be_public_private_or_protected):128&t&&V(Q_.getNameOfDeclaration(e),Q_.Diagnostics.Overload_signatures_must_all_be_abstract_or_non_abstract)})),s=_,a=t,d!==p&&(i=Q_.hasQuestionToken(D(s,a)),Q_.forEach(s,function(e){Q_.hasQuestionToken(e)!==i&&V(Q_.getNameOfDeclaration(e),Q_.Diagnostics.Overload_signatures_must_all_be_optional_or_required)})),t))for(var _=Ka(e),S=ja(t),T=0,C=_;T<C.length;T++){var E=C[T];if(!Bo(S,E)){V(E.declaration,Q_.Diagnostics.Overload_signature_is_not_compatible_with_function_implementation);break}}}function D(e,t){return void 0!==t&&t.parent===e[0].parent?t:e[0]}function A(t){if(!t.name||!Q_.nodeIsMissing(t.name)){var r=!1,e=Q_.forEachChild(t.parent,function(e){if(r)return e;r=e===t});if(e&&e.pos===t.end&&e.kind===t.kind){var n=e.name||e,i=e.name;if(t.name&&i&&(Q_.isComputedPropertyName(t.name)&&Q_.isComputedPropertyName(i)||!Q_.isComputedPropertyName(t.name)&&!Q_.isComputedPropertyName(i)&&Q_.getEscapedTextOfIdentifierOrLiteral(t.name)===Q_.getEscapedTextOfIdentifierOrLiteral(i)))return void((151===t.kind||150===t.kind)&&Q_.hasModifier(t,32)!==Q_.hasModifier(e,32)&&V(n,Q_.hasModifier(t,32)?Q_.Diagnostics.Function_overload_must_be_static:Q_.Diagnostics.Function_overload_must_not_be_static));if(Q_.nodeIsPresent(e.body))return void V(n,Q_.Diagnostics.Function_implementation_name_must_be_0,Q_.declarationNameToString(t.name))}i=t.name||t;m?V(i,Q_.Diagnostics.Constructor_implementation_is_missing):Q_.hasModifier(t,128)?V(i,Q_.Diagnostics.All_declarations_of_an_abstract_method_must_be_consecutive):V(i,Q_.Diagnostics.Function_implementation_is_missing_or_not_immediately_following_the_declaration)}}}function Tp(e){if($){var t=e.localSymbol;if((t||(t=H(e)).exportSymbol)&&Q_.getDeclarationOfKind(t,e.kind)===e){for(var r=0,n=0,i=0,a=0,s=t.declarations;a<s.length;a++){var o=m(f=s[a]),c=kp(f,513);1&c?512&c?i|=o:r|=o:n|=o}var l=r&n,u=i&(r|n);if(l||u)for(var d=0,p=t.declarations;d<p.length;d++){var f,o=m(f=p[d]),_=Q_.getNameOfDeclaration(f);o&u?V(_,Q_.Diagnostics.Merged_declaration_0_cannot_include_a_default_export_declaration_Consider_adding_a_separate_export_default_0_declaration_instead,Q_.declarationNameToString(_)):o&l&&V(_,Q_.Diagnostics.Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local,Q_.declarationNameToString(_))}0}}function m(e){switch(e.kind){case 230:case 231:case 283:return 2;case 233:return Q_.isAmbientModule(e)||0!==Q_.getModuleInstanceState(e)?5:4;case 229:case 232:return 3;case 237:case 240:case 239:var t=0,r=nn(H(e));return Q_.forEach(r.declarations,function(e){t|=m(e)}),t;case 226:case 176:case 228:case 242:return 1;default:Q_.Debug.fail(Q_.SyntaxKind[e.kind])}}}function Cp(e,t,r){e=Ep(e,t);return e&&Ap(e,t,r)}function Ep(e,t){if(!N(e)){var r=e;if(r.promisedTypeOfPromise)return r.promisedTypeOfPromise;if(ki(e,bs(!1)))return r.promisedTypeOfPromise=e.typeArguments[0];e=ni(e,"then");if(!N(e)){e=e?ee(e,0):Q_.emptyArray;if(0===e.length)t&&V(t,Q_.Diagnostics.A_promise_must_have_a_then_method);else{e=Yc(L(Q_.map(e,Dd)),524288);if(!N(e)){e=ee(e,0);if(0!==e.length)return r.promisedTypeOfPromise=L(Q_.map(e,Dd),!0);t&&V(t,Q_.Diagnostics.The_first_parameter_of_the_then_method_of_a_promise_must_be_a_callback)}}}}}function Dp(e,t,r){return Ap(e,t,r)||q}function Ap(e,t,r){var n=e;if(n.awaitedTypeOfType)return n.awaitedTypeOfType;if(N(e))return n.awaitedTypeOfType=e;if(65536&e.flags){for(var i=void 0,a=0,s=e.types;a<s.length;a++)var o=s[a],i=Q_.append(i,Ap(o,t,r));return i?n.awaitedTypeOfType=L(i):void 0}var c=Ep(e);if(c){if(e.id===c.id||0<=Q_.indexOf(ir,c.id))return void(t&&V(t,Q_.Diagnostics.Type_is_referenced_directly_or_indirectly_in_the_fulfillment_callback_of_its_own_then_method));ir.push(e.id);c=Ap(c,t,r);return(ir.pop(),c)?n.awaitedTypeOfType=c:void 0}c=ni(e,"then");if(!(c&&0<ee(c,0).length))return n.awaitedTypeOfType=e;t&&(Q_.Debug.assert(!!r),V(t,r))}function wp(e){var t=Q_.getEffectiveReturnTypeNode(e),r=re(t);if(2<=J){if(r===q)return q;var n=bs(!0);if(n!==xt&&!ki(r,n))return V(t,Q_.Diagnostics.The_return_type_of_an_async_function_or_method_must_be_the_global_Promise_T_type),q}else{if(Ip((n=t)&&Q_.getEntityNameFromTypeNode(n)),r===q)return q;var i=Q_.getEntityNameFromTypeNode(t);if(void 0===i)return V(t,Q_.Diagnostics.Type_0_is_not_a_valid_async_function_return_type_in_ES5_SlashES3_because_it_does_not_refer_to_a_Promise_compatible_constructor_value,W(r)),q;var a=ln(i,107455,!0),a=a?Q(a):q;if(a===q)return 71===i.kind&&"Promise"===i.escapedText&&Si(r)===bs(!1)?V(t,Q_.Diagnostics.An_async_function_or_method_in_ES5_SlashES3_requires_the_Promise_constructor_Make_sure_you_have_a_declaration_for_the_Promise_constructor_or_include_ES2015_in_your_lib_option):V(t,Q_.Diagnostics.Type_0_is_not_a_valid_async_function_return_type_in_ES5_SlashES3_because_it_does_not_refer_to_a_Promise_compatible_constructor_value,Q_.entityNameToString(i)),q;var s=(Ie=Ie||ys("PromiseConstructorLike",0,!0))||I;if(s===I)return V(t,Q_.Diagnostics.Type_0_is_not_a_valid_async_function_return_type_in_ES5_SlashES3_because_it_does_not_refer_to_a_Promise_compatible_constructor_value,Q_.entityNameToString(i)),q;if(!Ro(a,s,t,Q_.Diagnostics.Type_0_is_not_a_valid_async_function_return_type_in_ES5_SlashES3_because_it_does_not_refer_to_a_Promise_compatible_constructor_value))return q;a=i&&wf(i),s=$r(e.locals,a.escapedText,107455);if(s)return V(s.valueDeclaration,Q_.Diagnostics.Duplicate_identifier_0_Compiler_uses_declaration_1_to_support_async_functions,Q_.idText(a),Q_.entityNameToString(i)),q}return Dp(r,e,Q_.Diagnostics.The_return_type_of_an_async_function_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member)}function Np(e){var t=te(hd(e));if(!(1&t.flags)){var r,n=pd(e);switch(e.parent.kind){case 229:var i=L([Q(H(e.parent)),gt]);break;case 146:i=gt,r=Q_.chainDiagnosticMessages(r,Q_.Diagnostics.The_return_type_of_a_parameter_decorator_function_must_be_either_void_or_any);break;case 149:i=gt,r=Q_.chainDiagnosticMessages(r,Q_.Diagnostics.The_return_type_of_a_property_decorator_function_must_be_either_void_or_any);break;case 151:case 153:case 154:i=L([Is(Qf(e.parent)),gt])}Ro(t,i,e,n,r)}}function Ip(e){var t;e&&(t=wf(e),e=2097152|(71===e.kind?793064:1920),t=qr(t,t.escapedText,e,void 0,void 0,!0))&&2097152&t.flags&&Tn(t)&&!c_(nn(t))&&sn(t)}function Pp(e){e=function e(t){if(t)switch(t.kind){case 167:case 166:for(var r=void 0,n=0,i=t.types;n<i.length;n++){var a=i[n],a=e(a);if(!a)return;if(r){if(!Q_.isIdentifier(r)||!Q_.isIdentifier(a)||r.escapedText!==a.escapedText)return}else r=a}return r;case 168:return e(t.type);case 159:return t.typeName}}(e);e&&Q_.isEntityName(e)&&Ip(e)}function Op(e){var t=Q_.getEffectiveTypeAnnotationNode(e);return Q_.isRestParameter(e)?Q_.getRestParameterElementType(t):t}function Fp(e){if(e.decorators&&Q_.nodeCanBeDecorated(e)){R.experimentalDecorators||V(e,Q_.Diagnostics.Experimental_support_for_decorators_is_a_feature_that_is_subject_to_change_in_a_future_release_Set_the_experimentalDecorators_option_to_remove_this_warning);var t=e.decorators[0];if(E_(t,8),146===e.kind&&E_(t,32),R.emitDecoratorMetadata)switch(E_(t,16),e.kind){case 229:var r=Q_.getFirstConstructorWithBody(e);if(r)for(var n=0,i=r.parameters;n<i.length;n++)Pp(Op(i[n]));break;case 151:case 153:case 154:for(var a=0,s=e.parameters;a<s.length;a++)Pp(Op(s[a]));Pp(Q_.getEffectiveReturnTypeNode(e));break;case 149:Pp(Q_.getEffectiveTypeAnnotationNode(e));break;case 146:Pp(Op(e))}Q_.forEach(e.decorators,Np)}}function Lp(e){switch(e.kind){case 71:return e;case 179:return e.name;default:return}}function Rp(t){Fp(t),dp(t);var e,r,n=Q_.getFunctionFlags(t),i=(t.name&&144===t.name.kind&&du(t.name),Q_.hasDynamicName(t)||(e=H(t),r=t.localSymbol||e,i=Q_.find(r.declarations,function(e){return e.kind===t.kind&&!(65536&e.flags)}),t===i&&Sp(r),e.parent&&Q_.getDeclarationOfKind(e,t.kind)===t&&Sp(e)),ne(t.body),Q_.getEffectiveReturnTypeNode(t));0==(1&n)&&(r=i&&(2&n?wp(t):re(i)),Ld(t,r)),$&&!i&&(h&&Q_.nodeIsMissing(t.body)&&!xp(t)&&Ec(t,E),1&n)&&Q_.nodeIsPresent(t.body)&&te(ja(t)),Mp(t)}function Mp(e){$e&&$e.push(e)}function Up(){if($e)for(var e=0,t=$e;e<t.length;e++){var r=t[e];switch(r.kind){case 265:case 233:l=r,R.noUnusedLocals&&!Q_.isInAmbientContext(l)&&l.locals.forEach(function(e){if(!e.isReferenced&&!e.exportSymbol)for(var t=0,r=e.declarations;t<r.length;t++){var n=r[t];Q_.isAmbientModule(n)||jp(n,Q_.symbolName(e))}});break;case 229:case 199:c=o=s=a=i=n=l=void 0;l=r;if(R.noUnusedLocals&&!Q_.isInAmbientContext(l)&&l.members)for(var n=0,i=l.members;n<i.length;n++){var a=i[n];if(151===a.kind||149===a.kind)!a.symbol.isReferenced&&Q_.hasModifier(a,8)&&V(a.name,Q_.Diagnostics._0_is_declared_but_its_value_is_never_read,Q_.symbolName(a.symbol));else if(152===a.kind)for(var s=0,o=a.parameters;s<o.length;s++){var c=o[s];!c.symbol.isReferenced&&Q_.hasModifier(c,8)&&V(c.name,Q_.Diagnostics.Property_0_is_declared_but_its_value_is_never_read,Q_.symbolName(c.symbol))}}zp(r);break;case 230:zp(r);break;case 207:case 235:case 214:case 215:case 216:Bp(r);break;case 152:case 186:case 228:case 187:case 151:case 153:case 154:r.body&&Bp(r),zp(r);break;case 150:case 155:case 156:case 157:case 160:case 161:case 231:zp(r)}}var l}function Bp(e){230!==e.parent.kind&&k&&!Q_.isInAmbientContext(e)&&e.locals.forEach(function(t){var e,r;t.isReferenced||(t.valueDeclaration&&146===Q_.getRootDeclaration(t.valueDeclaration).kind?(r=Q_.getRootDeclaration(t.valueDeclaration),e=Q_.getNameOfDeclaration(t.valueDeclaration),!R.noUnusedParameters||Q_.isParameterPropertyDeclaration(r)||Q_.parameterIsThisKeyword(r)||(r=e)&&Kp(r)||V(e,Q_.Diagnostics._0_is_declared_but_its_value_is_never_read,Q_.symbolName(t))):R.noUnusedLocals&&Q_.forEach(t.declarations,function(e){return jp(e,Q_.symbolName(t))}))})}function jp(e,t){e=Q_.getNameOfDeclaration(e)||e;if(Kp(e)){var r=Q_.getRootDeclaration(e.parent);if(226===r.kind&&Q_.isForInOrOfStatement(r.parent.parent)||145===r.kind)return}(e=>{var t;return Q_.isBindingElement(e)&&Q_.isObjectBindingPattern(e.parent)&&(t=Q_.lastOrUndefined(e.parent.elements))!==e&&t.dotDotDotToken})(71===e.kind?e.parent:e)||V(e,Q_.Diagnostics._0_is_declared_but_its_value_is_never_read,t)}function Kp(e){return 71===e.kind&&95===Q_.idText(e).charCodeAt(0)}function zp(e){if(R.noUnusedLocals&&!Q_.isInAmbientContext(e)&&e.typeParameters){var t=H(e),t=t&&t.declarations&&Q_.lastOrUndefined(t.declarations);if(t===e)for(var r=0,n=e.typeParameters;r<n.length;r++){var i=n[r];xn(i.symbol).isReferenced||Kp(i.name)||V(i.name,Q_.Diagnostics._0_is_declared_but_its_value_is_never_read,Q_.symbolName(i.symbol))}}}function $p(e){var t;207===e.kind&&G_(e),Q_.isFunctionOrModuleBlock(e)?(t=Bt,Q_.forEach(e.statements,ne),Bt=t):Q_.forEach(e.statements,ne),e.locals&&Mp(e)}function Jp(e,t,r){return!t||t.escapedText!==r||149===e.kind||148===e.kind||151===e.kind||150===e.kind||153===e.kind||154===e.kind||Q_.isInAmbientContext(e)||146===(t=Q_.getRootDeclaration(e)).kind&&Q_.nodeIsMissing(t.parent.body)?void 0:1}function qp(e,t){Jp(e,t,"_this")&&rr.push(e)}function Vp(e,t){Jp(e,t,"_newTarget")&&nr.push(e)}function Hp(t){Q_.findAncestor(t,function(e){if(4&p_(e))return 71!==t.kind?V(Q_.getNameOfDeclaration(t),Q_.Diagnostics.Duplicate_identifier_this_Compiler_uses_variable_declaration_this_to_capture_this_reference):V(t,Q_.Diagnostics.Expression_resolves_to_variable_declaration_this_that_compiler_uses_to_capture_this_reference),!0})}function Gp(t){Q_.findAncestor(t,function(e){if(8&p_(e))return 71!==t.kind?V(Q_.getNameOfDeclaration(t),Q_.Diagnostics.Duplicate_identifier_newTarget_Compiler_uses_variable_declaration_newTarget_to_capture_new_target_meta_property_reference):V(t,Q_.Diagnostics.Expression_resolves_to_variable_declaration_newTarget_that_compiler_uses_to_capture_new_target_meta_property_reference),!0})}function Wp(e,t){Jp(e,t,"_super")&&(t=Q_.getContainingClass(e))&&!Q_.isInAmbientContext(t)&&Q_.getClassExtendsHeritageClauseElement(t)&&V(e,71!==e.kind?Q_.Diagnostics.Duplicate_identifier_super_Compiler_uses_super_to_capture_base_class_reference:Q_.Diagnostics.Expression_resolves_to_super_that_compiler_uses_to_capture_base_class_reference)}function Qp(e,t){se>=Q_.ModuleKind.ES2015||!Jp(e,t,"require")&&!Jp(e,t,"exports")||233===e.kind&&1!==Q_.getModuleInstanceState(e)||265===(e=ri(e)).kind&&Q_.isExternalOrCommonJsModule(e)&&V(t,Q_.Diagnostics.Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module,Q_.declarationNameToString(t),Q_.declarationNameToString(t))}function Yp(e,t){4<=J||!Jp(e,t,"Promise")||233===e.kind&&1!==Q_.getModuleInstanceState(e)||265===(e=ri(e)).kind&&Q_.isExternalOrCommonJsModule(e)&&1024&e.flags&&V(t,Q_.Diagnostics.Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module_containing_async_functions,Q_.declarationNameToString(t),Q_.declarationNameToString(t))}function Xp(i){var a;146===Q_.getRootDeclaration(i).kind&&(a=Q_.getContainingFunction(i),function e(t){if(Q_.isTypeNode(t)||Q_.isDeclarationName(t))return;{if(179===t.kind)return e(t.expression);if(71!==t.kind)return Q_.forEachChild(t,e);var r=qr(t,t.escapedText,2204607,void 0,void 0,!1);if(r&&r!==U&&r.valueDeclaration)if(r.valueDeclaration===i)V(t,Q_.Diagnostics.Parameter_0_cannot_be_referenced_in_its_initializer,Q_.declarationNameToString(i.name));else{var n=Q_.getEnclosingBlockScopeContainer(r.valueDeclaration);if(n===a){if(146===r.valueDeclaration.kind||176===r.valueDeclaration.kind){if(r.valueDeclaration.pos<i.pos)return;if(Q_.findAncestor(t,function(e){return e===i.initializer?"quit":Q_.isFunctionLike(e.parent)||149===e.parent.kind&&!Q_.hasModifier(e.parent,32)&&Q_.isClassLike(e.parent.parent)}))return}V(t,Q_.Diagnostics.Initializer_of_parameter_0_cannot_reference_identifier_1_declared_after_it,Q_.declarationNameToString(i.name),Q_.declarationNameToString(t))}}}}(i.initializer))}function Zp(e){return e===st?E:e===Te?Se:e}function ef(e){if(Fp(e),ne(e.type),e.name)if(144===e.name.kind&&(du(e.name),e.initializer)&&tp(e.initializer),176===e.kind&&(174===e.parent.kind&&J<5&&E_(e,4),e.propertyName&&144===e.propertyName.kind&&du(e.propertyName),r=ii(t=e.parent.parent),n=e.propertyName||e.name,$u(n=O(r,Q_.getTextOfPropertyName(n)),void 0,!1),t.initializer)&&n&&Fu(t,t.initializer,r,n),Q_.isBindingPattern(e.name)&&(175===e.name.kind&&J<2&&R.downlevelIteration&&E_(e,512),Q_.forEach(e.name.elements,ne)),e.initializer&&146===Q_.getRootDeclaration(e).kind&&Q_.nodeIsMissing(Q_.getContainingFunction(e).body))V(e,Q_.Diagnostics.A_parameter_initializer_is_only_allowed_in_a_function_or_constructor_implementation);else if(Q_.isBindingPattern(e.name))e.initializer&&215!==e.parent.parent.kind&&(Ro(tp(e.initializer),_i(e),e,void 0),Xp(e));else{var t=H(e),r=Zp(gi(t));if(e===t.valueDeclaration?e.initializer&&215!==e.parent.parent.kind&&(Ro(tp(e.initializer),r,e,void 0),Xp(e)):(n=Zp(_i(e)),r===q||n===q||No(r,n)||V(e.name,Q_.Diagnostics.Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_type_2,Q_.declarationNameToString(e.name),W(r),W(n)),e.initializer&&Ro(tp(e.initializer),n,e,void 0),((e,t)=>146===e.kind&&226===t.kind||226===e.kind&&146===t.kind||Q_.hasQuestionToken(e)===Q_.hasQuestionToken(t)&&Q_.getSelectedModifierFlags(e,504)===Q_.getSelectedModifierFlags(t,504))(e,t.valueDeclaration)||(V(Q_.getNameOfDeclaration(t.valueDeclaration),Q_.Diagnostics.All_declarations_of_0_must_have_identical_modifiers,Q_.declarationNameToString(e.name)),V(e.name,Q_.Diagnostics.All_declarations_of_0_must_have_identical_modifiers,Q_.declarationNameToString(e.name)))),149!==e.kind&&148!==e.kind){if(Tp(e),226===e.kind||176===e.kind){r=e;if(0==(3&Q_.getCombinedNodeFlags(r))&&!Q_.isParameterDeclaration(r)&&(226!==r.kind||r.initializer)){var n=H(r);if(1&n.flags){if(!Q_.isIdentifier(r.name))throw Q_.Debug.fail();t=qr(r,r.name.escapedText,3,void 0,void 0,!1);t&&t!==n&&2&t.flags&&3&Pu(t)&&((n=208===(n=Q_.getAncestor(t.valueDeclaration,227)).parent.kind&&n.parent.parent?n.parent.parent:void 0)&&(207===n.kind&&Q_.isFunctionLike(n.parent)||234===n.kind||233===n.kind||265===n.kind)||(n=G(t),V(r,Q_.Diagnostics.Cannot_initialize_outer_scoped_variable_0_in_the_same_scope_as_block_scoped_declaration_1,n,n)))}}}Wp(e,e.name),qp(e,e.name),Vp(e,e.name),Qp(e,e.name),Yp(e,e.name)}}}function tf(e){return(e=>{if(215!==e.parent.parent.kind&&216!==e.parent.parent.kind)if(Q_.isInAmbientContext(e)){if(e.initializer){if(!Q_.isConst(e)||e.type)return t="=".length,H_(e,e.initializer.pos-t,t,Q_.Diagnostics.Initializers_are_not_allowed_in_ambient_contexts);if(!J_(e.initializer))return z(e.initializer,Q_.Diagnostics.A_const_initializer_in_an_ambient_context_must_be_a_string_or_numeric_literal)}var t;if(e.initializer&&(!Q_.isConst(e)||!J_(e.initializer)))return t="=".length,H_(e,e.initializer.pos-t,t,Q_.Diagnostics.Initializers_are_not_allowed_in_ambient_contexts)}else if(!e.initializer){if(Q_.isBindingPattern(e.name)&&!Q_.isBindingPattern(e.parent))return z(e,Q_.Diagnostics.A_destructuring_declaration_must_have_an_initializer);if(Q_.isConst(e))return z(e,Q_.Diagnostics.const_declarations_must_be_initialized)}R.module===Q_.ModuleKind.ES2015||R.module===Q_.ModuleKind.ESNext||R.module===Q_.ModuleKind.System||R.noEmit||Q_.isInAmbientContext(e.parent.parent)||!Q_.hasModifier(e.parent.parent,1)||function e(t){if(71===t.kind){if("__esModule"===Q_.idText(t))return z(t,Q_.Diagnostics.Identifier_expected_esModule_is_reserved_as_an_exported_marker_when_transforming_ECMAScript_modules)}else for(var t=t.elements,r=0,n=t;r<n.length;r++){var i=n[r];if(!Q_.isOmittedExpression(i))return e(i.name)}}(e.name),(Q_.isLet(e)||Q_.isConst(e))&&function e(t){if(71===t.kind){if(110===t.originalKeywordKind)return z(t,Q_.Diagnostics.let_is_not_allowed_to_be_used_as_a_name_in_let_or_const_declarations)}else for(var t=t.elements,r=0,n=t;r<n.length;r++){var i=n[r];Q_.isOmittedExpression(i)||e(i.name)}}(e.name)})(e),ef(e)}function rf(e){var t,r=e;if(r.dotDotDotToken)t=r.parent.elements,r!==Q_.lastOrUndefined(t)?z(r,Q_.Diagnostics.A_rest_element_must_be_last_in_a_destructuring_pattern):175===r.name.kind||174===r.name.kind?z(r.name,Q_.Diagnostics.A_rest_element_cannot_contain_a_binding_pattern):r.initializer&&H_(r,r.initializer.pos-1,1,Q_.Diagnostics.A_rest_element_cannot_have_an_initializer);return ef(e)}function nf(e){if(!(D_(e)||A_(e)||q_(e.declarationList))){var t=e;if(!function e(t){switch(t.kind){case 211:case 212:case 213:case 220:case 214:case 215:case 216:return!1;case 222:return e(t.parent)}return!0}(t.parent))Q_.isLet(t.declarationList)?z(t,Q_.Diagnostics.let_declarations_can_only_be_declared_inside_a_block):Q_.isConst(t.declarationList)&&z(t,Q_.Diagnostics.const_declarations_can_only_be_declared_inside_a_block)}Q_.forEach(e.declarationList.declarations,ne)}function af(e){j_(e);var t,r,n,i=Lu(e.expression);227===e.initializer.kind?((t=e.initializer.declarations[0])&&Q_.isBindingPattern(t.name)&&V(t.name,Q_.Diagnostics.The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern),sf(e)):(r=K(t=e.initializer),177===t.kind||178===t.kind?V(t,Q_.Diagnostics.The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern):S((n=Gs(n=i))!==ht?n:B,r)?Kd(t,Q_.Diagnostics.The_left_hand_side_of_a_for_in_statement_must_be_a_variable_or_a_property_access):V(t,Q_.Diagnostics.The_left_hand_side_of_a_for_in_statement_must_be_of_type_string_or_any)),$d(i,17317888)||V(e.expression,Q_.Diagnostics.The_right_hand_side_of_a_for_in_statement_must_be_of_type_any_an_object_type_or_a_type_parameter),ne(e.statement),e.locals&&Mp(e)}function sf(e){e=e.initializer;1<=e.declarations.length&&tf(e.declarations[0])}function of(e,t){return cf(Lu(e),e,!0,void 0!==t)}function cf(e,t,r,n){return N(e)?e:lf(e,t,r,n,!0)||E}function lf(e,t,r,n,i){var a=2<=J,s=!a&&R.downlevelIteration;if(a||s||n){n=uf(e,a?t:void 0,n,!0,i);if(n||a)return n}var o,c,i=e,a=!1,n=!1;if(r&&(65536&i.flags?(c=e.types,(o=Q_.filter(c,function(e){return!(262178&e.flags)}))!==c&&(i=L(o,!0))):262178&i.flags&&(i=ht),(n=i!==e)&&(J<1&&t&&(V(t,Q_.Diagnostics.Using_a_string_in_a_for_of_statement_is_only_supported_in_ECMAScript_5_and_higher),a=!0),8192&i.flags)))return B;return oc(i)?(c=Ia(i,1),n&&c?262178&c.flags?B:L([c,B],!0):c):(t&&!a&&V(t,!r||n?s?Q_.Diagnostics.Type_0_is_not_an_array_type_or_does_not_have_a_Symbol_iterator_method_that_returns_an_iterator:Q_.Diagnostics.Type_0_is_not_an_array_type:s?Q_.Diagnostics.Type_0_is_not_an_array_type_or_a_string_type_or_does_not_have_a_Symbol_iterator_method_that_returns_an_iterator:Q_.Diagnostics.Type_0_is_not_an_array_type_or_a_string_type,W(i)),n?B:void 0)}function uf(e,i,a,s,o){if(!N(e))return fl(e,function(e){var t=e;if(a){if(t.iteratedTypeOfAsyncIterable)return t.iteratedTypeOfAsyncIterable;if(ki(e,ks(!1))||ki(e,Ts(!1)))return t.iteratedTypeOfAsyncIterable=e.typeArguments[0]}if(s){if(t.iteratedTypeOfIterable)return t.iteratedTypeOfIterable;if(ki(e,Cs(!1))||ki(e,Ds(!1)))return t.iteratedTypeOfIterable=e.typeArguments[0]}var r=a&&ni(e,Q_.getPropertyNameForKnownSymbolName("asyncIterator")),n=r||s&&ni(e,Q_.getPropertyNameForKnownSymbolName("iterator"));if(N(n))return;n=n&&ee(n,0);if(!Q_.some(n))return void(i&&(V(i,a?Q_.Diagnostics.Type_must_have_a_Symbol_asyncIterator_method_that_returns_an_async_iterator:Q_.Diagnostics.Type_must_have_a_Symbol_iterator_method_that_returns_an_iterator),i=void 0));n=df(L(Q_.map(n,te),!0),i,!!r);o&&i&&n&&Ro(e,(r?e=>Ns(ks(!0),[e]):Os)(n),i);return r?t.iteratedTypeOfAsyncIterable=n:t.iteratedTypeOfIterable=n})}function df(e,t,r){if(!N(e)){var n=e;if(r?n.iteratedTypeOfAsyncIterator:n.iteratedTypeOfIterator)return r?n.iteratedTypeOfAsyncIterator:n.iteratedTypeOfIterator;if(ki(e,(r?Ss:Es)(!1)))return r?n.iteratedTypeOfAsyncIterator=e.typeArguments[0]:n.iteratedTypeOfIterator=e.typeArguments[0];e=ni(e,"next");if(!N(e)){e=e?ee(e,0):Q_.emptyArray;if(0===e.length)t&&V(t,r?Q_.Diagnostics.An_async_iterator_must_have_a_next_method:Q_.Diagnostics.An_iterator_must_have_a_next_method);else{e=L(Q_.map(e,te),!0);if(!(N(e)||r&&N(e=Cp(e,t,Q_.Diagnostics.The_type_returned_by_the_next_method_of_an_async_iterator_must_be_a_promise_for_a_type_with_a_value_property)))){e=e&&ni(e,"value");if(e)return r?n.iteratedTypeOfAsyncIterator=e:n.iteratedTypeOfIterator=e;t&&V(t,r?Q_.Diagnostics.The_type_returned_by_the_next_method_of_an_async_iterator_must_be_a_promise_for_a_type_with_a_value_property:Q_.Diagnostics.The_type_returned_by_the_next_method_of_an_iterator_must_have_a_value_property)}}}}}function pf(e,t){if(!N(e))return uf(e,void 0,t,!t,!1)||df(e,void 0,t)}function ff(e){if(!G_(e)){for(var t=e,r=t;r;){if(Q_.isFunctionLike(r))return void z(t,Q_.Diagnostics.Jump_target_cannot_cross_function_boundary);switch(r.kind){case 222:if(t.label&&r.label.escapedText===t.label.escapedText)return void(217!==t.kind||Q_.isIterationStatement(r.statement,!0)||z(t,Q_.Diagnostics.A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement));break;case 221:if(218!==t.kind||t.label)break;return;default:if(Q_.isIterationStatement(r,!1)&&!t.label)return}r=r.parent}e=t.label?218===t.kind?Q_.Diagnostics.A_break_statement_can_only_jump_to_a_label_of_an_enclosing_statement:Q_.Diagnostics.A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement:218===t.kind?Q_.Diagnostics.A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement:Q_.Diagnostics.A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement,z(t,e)}}function _f(e){return 153===e.kind&&void 0!==Q_.getEffectiveSetAccessorTypeAnnotationNode(Q_.getDeclarationOfKind(e.symbol,154))}function mf(e,t){e=2==(3&Q_.getFunctionFlags(e))?Ep(t):t;return e&&zd(e,1025)}function gf(e){if(!G_(e)&&void 0===e.expression){var t=e,r=Q_.Diagnostics.Line_break_not_permitted_here,n=void 0,i=void 0,a=void 0,s=Q_.getSourceFileOfNode(t);if(!V_(s))t=Q_.getSpanOfTokenAtPosition(s,t.pos),ar.add(Q_.createFileDiagnostic(s,Q_.textSpanEnd(t),0,r,n,i,a))}e.expression&&K(e.expression)}function hf(r){var e,n=Qa(r.symbol,1),i=Qa(r.symbol,0),a=Ia(r,0),s=Ia(r,1);if((a||s)&&(Q_.forEach(ga(r),function(e){var t=Q(e);u(e,t,r,i,a,0),u(e,t,r,n,s,1)}),1&P(r))&&Q_.isClassLike(r.symbol.valueDeclaration))for(var t=0,o=r.symbol.valueDeclaration.members;t<o.length;t++){var c,l=o[t];!Q_.hasModifier(l,32)&&Q_.hasDynamicName(l)&&(c=Q(l.symbol),u(l.symbol,c,r,i,a,0),u(l.symbol,c,r,n,s,1))}function u(t,e,r,n,i,a){var s,o;i&&(s=t.valueDeclaration,1!==a||(s?lu(Q_.getNameOfDeclaration(s)):uu(t.escapedName)))&&(!s||194!==s.kind&&144!==Q_.getNameOfDeclaration(s).kind&&t.parent!==r.symbol?n?o=n:2&P(r)&&(o=Q_.forEach(Ri(r),function(e){return ha(e,t.escapedName)&&Ia(e,a)})?void 0:r.symbol.declarations[0]):o=s,o)&&!S(e,i)&&V(o,0===a?Q_.Diagnostics.Property_0_of_type_1_is_not_assignable_to_string_index_type_2:Q_.Diagnostics.Property_0_of_type_1_is_not_assignable_to_numeric_index_type_2,G(t),W(e),W(i))}(e=a&&s&&!(e=n||i)&&2&P(r)?Q_.forEach(Ri(r),function(e){return Ia(e,0)&&Ia(e,1)})?void 0:r.symbol.declarations[0]:e)&&!S(s,a)&&V(e,Q_.Diagnostics.Numeric_index_type_0_is_not_assignable_to_string_index_type_1,W(s),W(a))}function yf(e,t){switch(e.escapedText){case"any":case"number":case"boolean":case"string":case"symbol":case"void":case"object":V(e,t,e.escapedText)}}function vf(e){if(e)for(var t=!1,r=0;r<e.length;r++){var n=e[r];if(cp(n),$){n.default?t=!0:t&&V(n,Q_.Diagnostics.Required_type_parameters_may_not_follow_optional_type_parameters);for(var i=0;i<r;i++)e[i].symbol===n.symbol&&V(n.name,Q_.Diagnostics.Duplicate_identifier_0,Q_.declarationNameToString(n.name))}}}function bf(e){if(1!==e.declarations.length){var t=d(e);if(!t.typeParametersChecked){t.typeParametersChecked=!0;t=Q_.filter(e.declarations,function(e){return 229===e.kind||230===e.kind});if(!(t.length<=1))if(!((e,t)=>{for(var r=Q_.length(t),n=Ua(t),i=0,a=e;i<a.length;i++){var s=a[i],o=Q_.length(s.typeParameters);if(o<n||r<o)return;for(var c=0;c<o;c++){var l=s.typeParameters[c],u=t[c];if(l.name.escapedText!==u.symbol.escapedName)return;var d=l.constraint&&re(l.constraint),p=Za(u);if((d||p)&&(!d||!p||!No(d,p)))return;d=l.default&&re(l.default),p=Ta(u);if(d&&p&&!No(d,p))return}}return 1})(t,Y(e).localTypeParameters))for(var r=G(e),n=0,i=t;n<i.length;n++)V(i[n].name,Q_.Diagnostics.All_declarations_of_0_must_have_identical_type_parameters,r)}}}function xf(e){t=e,i=Q_.getSourceFileOfNode(t),(e=>{var t=!1,r=!1;if(!D_(e)&&!A_(e)&&e.heritageClauses)for(var n=0,i=e.heritageClauses;n<i.length;n++){var a=i[n];if(85===a.token){if(t)return ie(a,Q_.Diagnostics.extends_clause_already_seen);if(r)return ie(a,Q_.Diagnostics.extends_clause_must_precede_implements_clause);if(1<a.types.length)return ie(a.types[1],Q_.Diagnostics.Classes_can_only_extend_a_single_class);t=!0}else{if(Q_.Debug.assert(108===a.token),r)return ie(a,Q_.Diagnostics.implements_clause_already_seen);r=!0}L_(a)}})(t)||I_(t.typeParameters,i),Fp(e),e.name&&(yf(e.name,Q_.Diagnostics.Class_name_cannot_be_0),qp(e,e.name),Vp(e,e.name),Qp(e,e.name),Yp(e,e.name)),vf(e.typeParameters),Tp(e);for(var t=H(e),r=Y(t),n=Xi(r),i=Q(t),t=(bf(t),e),a=Q_.createUnderscoreEscapedMap(),R=Q_.createUnderscoreEscapedMap(),s=0,o=t.members;s<o.length;s++){var c=o[s];if(152===c.kind)for(var l=0,u=c.parameters;l<u.length;l++){var d=u[l];Q_.isParameterPropertyDeclaration(d)&&!Q_.isBindingPattern(d.name)&&_(a,d.name,d.name.escapedText,3)}else{var p=Q_.hasModifier(c,32)?R:a,f=c.name&&Q_.getPropertyNameForPropertyNameNode(c.name);if(f)switch(c.kind){case 153:_(p,c.name,f,1);break;case 154:_(p,c.name,f,2);break;case 149:_(p,c.name,f,3);break;case 151:_(p,c.name,f,4)}}}function _(e,t,r,n){var i=e.get(r);i?4&i?4!==n&&V(t,Q_.Diagnostics.Duplicate_identifier_0,Q_.getTextOfNode(t)):i&n?V(t,Q_.Diagnostics.Duplicate_identifier_0,Q_.getTextOfNode(t)):e.set(r,i|n):e.set(r,n)}if(!Q_.isInAmbientContext(e))for(var m=e,g=0,M=m.members;g<M.length;g++){var U=M[g],h=U.name;if(Q_.hasModifier(U,32)&&h){var B=Q_.getPropertyNameForPropertyNameNode(h);switch(B){case"name":case"length":case"caller":case"arguments":case"prototype":V(h,Q_.Diagnostics.Static_property_0_conflicts_with_built_in_property_Function_0_of_constructor_function_1,B,Wn(H(m)))}}}var y=Q_.getClassExtendsHeritageClauseElement(e);if(y){J<2&&E_(y.parent,1);t=Ri(r);if(t.length&&$){var v,b=t[0],t=Li(r),x=Z(t);if(C=y,(v=ee(P=x,1)).length&&(v=v[0].declaration)&&Q_.hasModifier(v,8)&&(v=Sf(P.symbol),Vf(C,v)||V(C,Q_.Diagnostics.Cannot_extend_a_class_0_Class_constructor_is_marked_as_private,cn(P.symbol))),ne(y.expression),Q_.some(y.typeArguments)){Q_.forEach(y.typeArguments,ne);for(var k=0,j=Oi(x,y.typeArguments,y);k<j.length;k++)if(!yp(j[k].typeParameters,y.typeArguments))break}Ro(n,Xi(b,r.thisType),e.name||e,Q_.Diagnostics.Class_0_incorrectly_extends_base_class_1),Ro(i,wo(x),e.name||e,Q_.Diagnostics.Class_static_side_0_incorrectly_extends_base_class_static_side_1),540672&t.flags&&!Ni(i)&&V(e.name||e,Q_.Diagnostics.A_mixin_class_must_have_a_constructor_with_a_single_rest_parameter_of_type_any),x.symbol&&32&x.symbol.flags||540672&t.flags||(v=Fi(x,y.typeArguments,y),Q_.forEach(v,function(e){return te(e)!==b})&&V(y.expression,Q_.Diagnostics.Base_constructors_must_all_have_the_same_return_type));for(var S=r,T=b,C=X(T),E=0,K=C;E<K.length;E++){var D,A,w,N=K[E],I=kf(N);4194304&I.flags||(D=kf(ha(S,I.escapedName)),A=Q_.getDeclarationModifierFlagsFromSymbol(I),Q_.Debug.assert(!!D,"derived should point to something, even if it is the base class' declaration."),D&&(D===I?(w=Sf(S.symbol),!(128&A)||w&&Q_.hasModifier(w,128)||(199===w.kind?V(w,Q_.Diagnostics.Non_abstract_class_expression_does_not_implement_inherited_abstract_member_0_from_class_1,G(N),W(T)):V(w,Q_.Diagnostics.Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_class_2,W(S),G(N),W(T)))):(w=Q_.getDeclarationModifierFlagsFromSymbol(D),8&A||8&w||Ou(I)&&Ou(D)||98308&I.flags&&98308&D.flags||(N=void 0,N=Ou(I)?98304&D.flags?Q_.Diagnostics.Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_accessor:Q_.Diagnostics.Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_property:4&I.flags?Q_.Diagnostics.Class_0_defines_instance_member_property_1_but_extended_class_2_defines_it_as_instance_member_function:Q_.Diagnostics.Class_0_defines_instance_member_accessor_1_but_extended_class_2_defines_it_as_instance_member_function,V(Q_.getNameOfDeclaration(D.valueDeclaration)||D.valueDeclaration,N,W(T),G(I),W(S))))))}}}var P=Q_.getClassImplementsHeritageClauseElements(e);if(P)for(var O=0,z=P;O<z.length;O++){var F,L=z[O];Q_.isEntityNameExpression(L.expression)||V(L.expression,Q_.Diagnostics.A_class_can_only_implement_an_identifier_Slashqualified_name_with_optional_type_arguments),vp(L),$&&(F=re(L))!==q&&(Mi(F)?Ro(n,Xi(F,r.thisType),e.name||e,Q_.Diagnostics.Class_0_incorrectly_implements_interface_1):V(L,Q_.Diagnostics.A_class_may_only_implement_another_class_or_interface))}$&&(hf(r),fp(e))}function kf(e){return 1&Q_.getCheckFlags(e)?e.target:e}function Sf(e){return Q_.forEach(e.declarations,function(e){return Q_.isClassLike(e)?e:void 0})}function Tf(t,e){var r=Ri(t);if(r.length<2)return 1;for(var n=Q_.createUnderscoreEscapedMap(),i=(Q_.forEach(Yi(t).declaredProperties,function(e){n.set(e.escapedName,{prop:e,containingType:t})}),!0),a=0,s=r;a<s.length;a++)for(var o=s[a],c=0,l=X(Xi(o,t.thisType));c<l.length;c++){var u,d,p=l[c],f=n.get(p.escapedName);f?f.containingType!==t&&0===rc(f.prop,p,Io)&&(i=!1,f=W(f.containingType),u=W(o),d=Q_.chainDiagnosticMessages(void 0,Q_.Diagnostics.Named_property_0_of_types_1_and_2_are_not_identical,G(p),f,u),d=Q_.chainDiagnosticMessages(d,Q_.Diagnostics.Interface_0_cannot_simultaneously_extend_types_1_and_2,W(t),f,u),ar.add(Q_.createDiagnosticForNodeFromMessageChain(e,d))):n.set(p.escapedName,{prop:p,containingType:o})}return i}function Cf(e){if(D_(e)||A_(e)||(e=>{var t=!1;if(e.heritageClauses)for(var r=0,n=e.heritageClauses;r<n.length;r++){var i=n[r];if(85!==i.token)return Q_.Debug.assert(108===i.token),ie(i,Q_.Diagnostics.Interface_declaration_cannot_have_implements_clause);if(t)return ie(i,Q_.Diagnostics.extends_clause_already_seen);t=!0,L_(i)}})(e),vf(e.typeParameters),$){yf(e.name,Q_.Diagnostics.Interface_name_cannot_be_0),Tp(e);var t=H(e);if(bf(t),e===Q_.getDeclarationOfKind(t,230)){var r=Y(t),n=Xi(r);if(Tf(r,e.name)){for(var i=0,a=Ri(r);i<a.length;i++)Ro(n,Xi(a[i],r.thisType),e.name,Q_.Diagnostics.Interface_0_incorrectly_extends_interface_1);hf(r)}}pp(e)}Q_.forEach(Q_.getInterfaceBaseTypeNodes(e),function(e){Q_.isEntityNameExpression(e.expression)||V(e.expression,Q_.Diagnostics.An_interface_can_only_extend_an_identifier_Slashqualified_name_with_optional_type_arguments),vp(e)}),Q_.forEach(e.members,ne),$&&(fp(e),Mp(e))}function Ef(e){var t=v(e);if(!(16384&t.flags)){t.flags|=16384;for(var r=0,n=0,i=e.members;n<i.length;n++)var a=i[n],s=((e,t)=>{if(ai(e.name)?V(e.name,Q_.Diagnostics.Computed_property_names_are_not_allowed_in_enums):uu(r=Q_.getTextOfPropertyName(e.name))&&!(e=>"Infinity"===e||"-Infinity"===e||"NaN"===e)(r)&&V(e.name,Q_.Diagnostics.An_enum_member_cannot_have_a_numeric_name),e.initializer){var c=e,r=ji(H(c.parent)),n=Q_.isConst(c.parent),i=c.initializer,a=1!==r||Bi(c)?function e(t){switch(t.kind){case 192:var r=e(t.operand);if("number"==typeof r)switch(t.operator){case 37:return r;case 38:return-r;case 52:return~r}break;case 194:var n=e(t.left),i=e(t.right);if("number"==typeof n&&"number"==typeof i)switch(t.operatorToken.kind){case 49:return n|i;case 48:return n&i;case 46:return n>>i;case 47:return n>>>i;case 45:return n<<i;case 50:return n^i;case 39:return n*i;case 41:return n/i;case 37:return n+i;case 38:return n-i;case 42:return n%i}break;case 9:return t.text;case 8:return W_(t),+t.text;case 185:return e(t.expression);case 71:return Q_.nodeIsMissing(t)?0:l(t,H(c.parent),t.escapedText);case 180:case 179:var a=t;if(Df(a)){var s,o=op(a.expression);if(o.symbol&&384&o.symbol.flags)return s=void 0,s=179===a.kind?a.name.escapedText:(a=a.argumentExpression,Q_.Debug.assert(Q_.isLiteralExpression(a)),Q_.escapeLeadingUnderscores(a.text)),l(t,o.symbol,s)}}return}(i):void 0;if(void 0!==a)n&&"number"==typeof a&&!isFinite(a)&&V(i,isNaN(a)?Q_.Diagnostics.const_enum_member_initializer_was_evaluated_to_disallowed_value_NaN:Q_.Diagnostics.const_enum_member_initializer_was_evaluated_to_a_non_finite_value);else{if(1===r)return V(i,Q_.Diagnostics.Computed_values_are_not_permitted_in_an_enum_with_string_valued_members),0;n?V(i,Q_.Diagnostics.In_const_enum_declarations_member_initializer_must_be_constant_expression):Q_.isInAmbientContext(c.parent)?V(i,Q_.Diagnostics.In_ambient_enum_declarations_member_initializer_must_be_constant_expression):Ro(K(i),Y(H(c.parent)),i,void 0)}return a;function l(e,t,r){t=t.exports.get(r);if(t){r=t.valueDeclaration;if(r!==c)return Jr(r,c)?v(r).enumMemberValue:(V(e,Q_.Diagnostics.A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_members_defined_in_other_enums),0)}}}else if(!Q_.isInAmbientContext(e.parent)||Q_.isConst(e.parent)){if(void 0!==t)return t;V(e.name,Q_.Diagnostics.Enum_member_must_have_initializer)}})(a,r),r="number"==typeof(v(a).enumMemberValue=s)?s+1:void 0}}function Df(e){return 71===e.kind||179===e.kind&&Df(e.expression)||180===e.kind&&Df(e.expression)&&9===e.argumentExpression.kind}function Af(e){if($){var t=Q_.isGlobalScopeAugmentation(e),r=Q_.isInAmbientContext(e),n=(t&&!r&&V(e.name,Q_.Diagnostics.Augmentations_for_the_global_scope_should_have_declare_modifier_unless_they_appear_in_already_ambient_context),Q_.isAmbientModule(e));if(Of(e,n?Q_.Diagnostics.An_ambient_module_declaration_is_only_allowed_at_the_top_level_in_a_file:Q_.Diagnostics.A_namespace_declaration_is_only_allowed_in_a_namespace_or_module))return;D_(e)||A_(e)||r||9!==e.name.kind||z(e.name,Q_.Diagnostics.Only_ambient_modules_can_use_quoted_names),Q_.isIdentifier(e.name)&&(qp(e,e.name),Qp(e,e.name),Yp(e,e.name)),Tp(e);var i=H(e);if(512&i.flags&&1<i.declarations.length&&!r&&rm(e,R.preserveConstEnums||R.isolatedModules)&&((r=(e=>{for(var t=0,r=e.declarations;t<r.length;t++){var n=r[t];if((229===n.kind||228===n.kind&&Q_.nodeIsPresent(n.body))&&!Q_.isInAmbientContext(n))return n}})(i))&&(Q_.getSourceFileOfNode(e)!==Q_.getSourceFileOfNode(r)?V(e.name,Q_.Diagnostics.A_namespace_declaration_cannot_be_in_a_different_file_from_a_class_or_function_with_which_it_is_merged):e.pos<r.pos&&V(e.name,Q_.Diagnostics.A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged)),r=Q_.getDeclarationOfKind(i,229))&&(i=e,r=r,i=Q_.getEnclosingBlockScopeContainer(i),r=Q_.getEnclosingBlockScopeContainer(r),zr(i)?zr(r):!zr(r)&&i===r)&&(v(e).flags|=32768),n)if(Q_.isExternalModuleAugmentation(e)){if((t||33554432&H(e).flags)&&e.body)for(var a=0,s=e.body.statements;a<s.length;a++)!function e(t,r){switch(t.kind){case 208:for(var n=0,i=t.declarationList.declarations;n<i.length;n++){var a=i[n];e(a,r)}break;case 243:case 244:ie(t,Q_.Diagnostics.Exports_and_export_assignments_are_not_permitted_in_module_augmentations);break;case 237:case 238:ie(t,Q_.Diagnostics.Imports_are_not_permitted_in_module_augmentations_Consider_moving_them_to_the_enclosing_external_module);break;case 176:case 226:var s=t.name;if(Q_.isBindingPattern(s)){for(var o=0,c=s.elements;o<c.length;o++){var l=c[o];e(l,r)}break}case 229:case 232:case 228:case 230:case 233:case 231:r||(s=H(t))&&(!(33554432&s.flags)||Q_.isExternalModuleAugmentation(s.parent.declarations[0]))}}(s[a],t)}else zr(e.parent)?t?V(e.name,Q_.Diagnostics.Augmentations_for_the_global_scope_can_only_be_directly_nested_in_external_modules_or_ambient_module_declarations):Q_.isExternalModuleNameRelative(Q_.getTextOfIdentifierOrLiteral(e.name))&&V(e.name,Q_.Diagnostics.Ambient_module_declaration_cannot_specify_relative_module_name):V(e.name,t?Q_.Diagnostics.Augmentations_for_the_global_scope_can_only_be_directly_nested_in_external_modules_or_ambient_module_declarations:Q_.Diagnostics.Ambient_modules_cannot_be_nested_in_other_modules_or_namespaces)}e.body&&(ne(e.body),Q_.isGlobalScopeAugmentation(e)||Mp(e))}function wf(e){switch(e.kind){case 71:return e;case 143:for(;71!==(e=e.left).kind;);return e;case 179:for(;71!==(e=e.expression).kind;);return e}}function Nf(e){var t=Q_.getExternalModuleName(e);if(Q_.nodeIsMissing(t)||9===t.kind){var r=234===e.parent.kind&&Q_.isAmbientModule(e.parent.parent);if(265===e.parent.kind||r){if(!r||!Q_.isExternalModuleNameRelative(Q_.getTextOfIdentifierOrLiteral(t))||Hn(e))return 1;V(e,Q_.Diagnostics.Import_or_export_declaration_in_an_ambient_module_declaration_cannot_reference_module_through_relative_module_name)}else V(t,244===e.kind?Q_.Diagnostics.Export_declarations_are_not_permitted_in_a_namespace:Q_.Diagnostics.Import_declarations_in_a_namespace_cannot_reference_a_module)}else V(t,Q_.Diagnostics.String_literal_expected)}function If(e){var t,r=H(e),n=nn(r);n!==U&&(t=(1156031&r.flags?107455:0)|(793064&r.flags?793064:0)|(1920&r.flags?1920:0),n.flags&t&&V(e,246===e.kind?Q_.Diagnostics.Export_declaration_conflicts_with_exported_declaration_of_0:Q_.Diagnostics.Import_declaration_conflicts_with_local_declaration_of_0,G(r)),!R.isolatedModules||246!==e.kind||107455&n.flags||Q_.isInAmbientContext(e)||V(e,Q_.Diagnostics.Cannot_re_export_a_type_when_the_isolatedModules_flag_is_provided))}function Pf(e){qp(e,e.name),Qp(e,e.name),Yp(e,e.name),If(e)}function Of(e,t){var r=265===e.parent.kind||234===e.parent.kind||233===e.parent.kind;return r||ie(e,t),!r}function Ff(e){var t,r;If(e),e.parent.parent.moduleSpecifier||((r=qr(t=e.propertyName||e.name,t.escapedText,2998271,void 0,void 0,!0))&&(r===Qe||zr(ri(r.declarations[0])))?V(t,Q_.Diagnostics.Cannot_export_0_Only_local_declarations_can_be_exported_from_a_module,Q_.idText(t)):an(e))}function Lf(e){var t,e=H(e),r=d(e);r.exportsChecked||((t=e.exports.get("export="))&&Q_.forEachEntry(e.exports,function(e,t){return"export="!==t})&&(Hn(t=Yr(t)||t.valueDeclaration)||V(t,Q_.Diagnostics.An_export_assignment_cannot_be_used_in_a_module_with_other_exported_elements)),(t=vn(e))&&t.forEach(function(e,t){var r=e.declarations,e=e.flags;if("__export"!==t&&!(1984&e)){var n=Q_.countWhere(r,vr);if(!(524288&e&&n<=2)&&1<n)for(var i=0,a=r;i<a.length;i++){var s=a[i];Rf(s)&&ar.add(Q_.createDiagnosticForNode(s,Q_.Diagnostics.Cannot_redeclare_exported_variable_0,Q_.unescapeLeadingUnderscores(t)))}}}),r.exportsChecked=!0)}function Rf(e){return 228!==e.kind&&151!==e.kind||!!e.body}function ne(e){if(e){if(Q_.isInJavaScriptFile(e)&&e.jsDoc)for(var t=0,r=e.jsDoc;t<r.length;t++){var n=r[t].tags;Q_.forEach(n,ne)}var i,a,s,o,c,l,u,d,p,f,_,m,g,h,y,v,b,x,k,S,T,C,E,D,A,w,N,I,P,O,F,L=e.kind;if(ae)switch(L){case 233:case 229:case 230:case 228:ae.throwIfCancellationRequested()}switch(L){case 145:return cp(e);case 146:return lp(e);case 149:case 148:return _p(e);case 160:case 161:case 155:case 156:case 157:return dp(e);case 151:case 150:return $_(F=e)||M_(F.name),Rp(F),void(Q_.hasModifier(F,128)&&F.body&&V(F,Q_.Diagnostics.Method_0_cannot_have_an_implementation_because_it_is_marked_abstract,Q_.declarationNameToString(F.name)));case 152:return mp(e);case 153:case 154:return gp(e);case 159:return vp(e);case 158:return up(e);case 162:return void _s(e);case 163:return F=e,Q_.forEach(F.members,ne),void($&&(hf(no(F)),fp(F),pp(F)));case 164:return void ne(e.elementType);case 165:return N_((O=e).elementTypes)||0!==O.elementTypes.length||z(O,Q_.Diagnostics.A_tuple_type_element_list_cannot_be_empty),void Q_.forEach(O.elementTypes,ne);case 166:case 167:return void Q_.forEach(e.types,ne);case 168:case 170:return ne(e.type);case 277:return O=e,P=Q_.getJSDocHost(O),void(Q_.isClassDeclaration(P)||Q_.isClassExpression(P)?(N=Q_.getAllJSDocTagsOfKind(P,277),Q_.Debug.assert(0<N.length),1<N.length&&V(N[1],Q_.Diagnostics.Class_declarations_cannot_have_more_than_one_augments_or_extends_tag),N=Lp(O.class.expression),(I=Q_.getClassExtendsHeritageClauseElement(P))&&(I=Lp(I.expression))&&N.escapedText!==I.escapedText&&V(N,Q_.Diagnostics.JSDoc_0_1_does_not_match_the_extends_2_clause,Q_.idText(O.tagName),Q_.idText(N),Q_.idText(I))):V(P,Q_.Diagnostics.JSDoc_0_is_not_attached_to_a_class,Q_.idText(O.tagName)));case 283:return void((N=e).typeExpression||V(N.name,Q_.Diagnostics.JSDoc_typedef_tag_should_either_have_a_type_annotation_or_be_followed_by_property_or_member_tags));case 279:return ne((I=e).typeExpression),void(Q_.getParameterSymbolFromJSDoc(I)||V(I.name,Q_.Diagnostics.JSDoc_param_tag_has_name_0_but_there_is_no_parameter_with_that_name,Q_.idText(143===I.name.kind?I.name.right:I.name)));case 273:dp(e);case 274:case 271:case 270:case 268:case 269:return void(Q_.isInJavaScriptFile(e)||Q_.isInJSDoc(e)||z(e,Q_.Diagnostics.JSDoc_types_can_only_be_used_inside_documentation_comments));case 267:return ne(e.type);case 171:return ne((P=e).objectType),ne(P.indexType),void bp(to(P),P);case 172:return ne((w=e).typeParameter),ne(w.type),void Ro(pa(ro(w)),B,w.typeParameter.constraint);case 228:return w=e,void($&&(Rp(w),U_(w),Wp(w,w.name),qp(w,w.name),Vp(w,w.name),Qp(w,w.name),Yp(w,w.name)));case 207:case 234:return $p(e);case 208:return nf(e);case 210:return G_(A=e),void K(A.expression);case 211:return G_(A=e),K(A.expression),ne(A.thenStatement),209===A.thenStatement.kind&&V(A.thenStatement,Q_.Diagnostics.The_body_of_an_if_statement_cannot_be_the_empty_statement),void ne(A.elseStatement);case 212:return G_(D=e),ne(D.statement),void K(D.expression);case 213:return G_(D=e),K(D.expression),void ne(D.statement);case 214:return G_(E=e)||E.initializer&&227===E.initializer.kind&&q_(E.initializer),E.initializer&&(227===E.initializer.kind?Q_.forEach(E.initializer.declarations,tf):K(E.initializer)),E.condition&&K(E.condition),E.incrementor&&K(E.incrementor),ne(E.statement),void(E.locals&&Mp(E));case 215:return af(e);case 216:return j_(E=e),216===E.kind&&(E.awaitModifier?2==(6&Q_.getFunctionFlags(Q_.getContainingFunction(E)))&&J<5&&E_(E,16384):R.downlevelIteration&&J<2&&E_(E,256)),227===E.initializer.kind?sf(E):(S=E.initializer,T=of(E.expression,E.awaitModifier),177===S.kind||178===S.kind?Gd(S,T||q):(C=K(S),Kd(S,Q_.Diagnostics.The_left_hand_side_of_a_for_of_statement_must_be_a_variable_or_a_property_access),T&&Ro(T,C,S,void 0))),ne(E.statement),void(E.locals&&Mp(E));case 217:case 218:return ff(e);case 219:return G_(T=e)||Q_.getContainingFunction(T)||ie(T,Q_.Diagnostics.A_return_statement_can_only_be_used_within_a_function_body),void((C=Q_.getContainingFunction(T))&&(S=te(ja(C)),M||T.expression||8192&S.flags?(b=T.expression?tp(T.expression):ot,1&(x=Q_.getFunctionFlags(C))||(154===C.kind?T.expression&&V(T,Q_.Diagnostics.Setters_cannot_return_a_value):152===C.kind?T.expression&&!Ro(b,S,T)&&V(T,Q_.Diagnostics.Return_type_of_constructor_signature_must_be_assignable_to_the_instance_type_of_the_class):(Q_.getEffectiveReturnTypeNode(C)||_f(C))&&(2&x?(x=Ep(S),k=Dp(b,T,Q_.Diagnostics.The_return_type_of_an_async_function_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member),x&&Ro(k,x,T)):Ro(b,S,T)))):152!==C.kind&&R.noImplicitReturns&&!mf(C,S)&&V(T,Q_.Diagnostics.Not_all_code_paths_return_a_value)));case 220:return G_(k=e)||16384&k.flags&&ie(k,Q_.Diagnostics.with_statements_are_not_allowed_in_an_async_function_block),K(k.expression),void(V_(x=Q_.getSourceFileOfNode(k))||H_(x,x=Q_.getSpanOfTokenAtPosition(x,k.pos).start,k.statement.pos-x,Q_.Diagnostics.The_with_statement_is_not_supported_All_symbols_in_a_with_block_will_have_type_any));case 221:return G_(m=e),h=!1,y=K(m.expression),v=uc(y),Q_.forEach(m.caseBlock.clauses,function(e){var t,r,n,i;258!==e.kind||h||(void 0===g?g=e:(H_(t=Q_.getSourceFileOfNode(m),t=Q_.skipTrivia(t.text,e.pos),(0<e.statements.length?e.statements[0].pos:e.end)-t,Q_.Diagnostics.A_default_clause_cannot_appear_more_than_once_in_a_switch_statement),h=!0)),$&&257===e.kind&&(n=uc(r=K((t=e).expression)),i=y,n&&v||(r=n?dc(r):r,i=dc(y)),Wd(i,r)||Mo(r,i,t.expression,void 0)),Q_.forEach(e.statements,ne)}),void(m.caseBlock.locals&&Mp(m.caseBlock));case 222:return G_(_=e)||Q_.findAncestor(_.parent,function(e){return Q_.isFunctionLike(e)?"quit":222===e.kind&&e.label.escapedText===_.label.escapedText?(e=Q_.getSourceFileOfNode(_),z(_.label,Q_.Diagnostics.Duplicate_label_0,Q_.getTextOfNodeFromSourceText(e.text,_.label)),!0):void 0}),void ne(_.statement);case 223:return gf(e);case 224:return G_(b=e),$p(b.tryBlock),(f=b.catchClause)&&(f.variableDeclaration&&(f.variableDeclaration.type?ie(f.variableDeclaration.type,Q_.Diagnostics.Catch_clause_variable_cannot_have_a_type_annotation):f.variableDeclaration.initializer?ie(f.variableDeclaration.initializer,Q_.Diagnostics.Catch_clause_variable_cannot_have_an_initializer):(p=f.block.locals)&&Q_.forEachKey(f.locals,function(e){var t=p.get(e);t&&0!=(2&t.flags)&&z(t.valueDeclaration,Q_.Diagnostics.Cannot_redeclare_identifier_0_in_catch_clause,e)})),$p(f.block)),void(b.finallyBlock&&$p(b.finallyBlock));case 226:return tf(e);case 176:return rf(e);case 229:return(f=e).name||Q_.hasModifier(f,512)||ie(f,Q_.Diagnostics.A_class_declaration_without_the_default_modifier_must_have_a_name),xf(f),Q_.forEach(f.members,ne),void Mp(f);case 230:return Cf(e);case 231:return D_(d=e)||A_(d),yf(d.name,Q_.Diagnostics.Type_alias_name_cannot_be_0),vf(d.typeParameters),ne(d.type),void Mp(d);case 232:return d=e,void($&&(D_(d)||A_(d),yf(d.name,Q_.Diagnostics.Enum_name_cannot_be_0),qp(d,d.name),Vp(d,d.name),Qp(d,d.name),Yp(d,d.name),Tp(d),Ef(d),c=Q_.isConst(d),R.isolatedModules&&c&&Q_.isInAmbientContext(d)&&V(d.name,Q_.Diagnostics.Ambient_const_enums_are_not_allowed_when_the_isolatedModules_flag_is_provided),l=H(d),d===Q_.getDeclarationOfKind(l,d.kind))&&(1<l.declarations.length&&Q_.forEach(l.declarations,function(e){Q_.isConstEnumDeclaration(e)!==c&&V(Q_.getNameOfDeclaration(e),Q_.Diagnostics.Enum_declarations_must_all_be_const_or_non_const)}),u=!1,Q_.forEach(l.declarations,function(e){return 232===e.kind&&!!e.members.length&&void((e=e.members[0]).initializer||(u?V(e.name,Q_.Diagnostics.In_an_enum_with_multiple_declarations_only_one_declaration_can_omit_an_initializer_for_its_first_enum_element):u=!0))})));case 233:return Af(e);case 238:return void(Of(l=e,Q_.Diagnostics.An_import_declaration_can_only_be_used_in_a_namespace_or_module)||(D_(l)||A_(l)||!Q_.hasModifiers(l)||ie(l,Q_.Diagnostics.An_import_declaration_cannot_have_modifiers),Nf(l)&&(l=l.importClause)&&(l.name&&Pf(l),l.namedBindings)&&(240===l.namedBindings.kind?Pf(l.namedBindings):Q_.forEach(l.namedBindings.elements,Pf))));case 237:return void(!Of(a=e,Q_.Diagnostics.An_import_declaration_can_only_be_used_in_a_namespace_or_module)&&(D_(a)||A_(a),Q_.isInternalModuleImportEqualsDeclaration(a)||Nf(a))&&(Pf(a),Q_.hasModifier(a,1)&&an(a),Q_.isInternalModuleImportEqualsDeclaration(a)?(s=nn(H(a)))!==U&&(107455&s.flags&&(1920&ln(o=wf(a.moduleReference),108479).flags||V(o,Q_.Diagnostics.Module_0_is_hidden_by_a_local_declaration_with_the_same_name,Q_.declarationNameToString(o))),793064&s.flags)&&yf(a.name,Q_.Diagnostics.Import_name_cannot_be_0):se>=Q_.ModuleKind.ES2015&&!Q_.isInAmbientContext(a)&&z(a,Q_.Diagnostics.Import_assignment_cannot_be_used_when_targeting_ECMAScript_modules_Consider_using_import_Asterisk_as_ns_from_mod_import_a_from_mod_import_d_from_mod_or_another_module_format_instead)));case 244:return void(Of(o=e,Q_.Diagnostics.An_export_declaration_can_only_be_used_in_a_module)||(D_(o)||A_(o)||!Q_.hasModifiers(o)||ie(o,Q_.Diagnostics.An_export_declaration_cannot_have_modifiers),o.moduleSpecifier&&!Nf(o))||(o.exportClause?(Q_.forEach(o.exportClause.elements,Ff),s=!(i=234===o.parent.kind&&Q_.isAmbientModule(o.parent.parent))&&234===o.parent.kind&&!o.moduleSpecifier&&Q_.isInAmbientContext(o),265===o.parent.kind||i||s||V(o,Q_.Diagnostics.Export_declarations_are_not_permitted_in_a_namespace)):((i=un(o,o.moduleSpecifier))&&mn(i)&&V(o.moduleSpecifier,Q_.Diagnostics.Module_0_uses_export_and_cannot_be_used_with_export_Asterisk,G(i)),se!==Q_.ModuleKind.System&&se!==Q_.ModuleKind.ES2015&&se!==Q_.ModuleKind.ESNext&&E_(o,32768))));case 243:return void(Of(a=e,Q_.Diagnostics.An_export_assignment_can_only_be_used_in_a_module)||(233!==(i=(265===a.parent.kind?a:a.parent).parent).kind||Q_.isAmbientModule(i)?(D_(a)||A_(a)||!Q_.hasModifiers(a)||ie(a,Q_.Diagnostics.An_export_assignment_cannot_have_modifiers),71===a.expression.kind?an(a):tp(a.expression),Lf(i),Q_.isInAmbientContext(a)&&!Q_.isEntityNameExpression(a.expression)&&z(a.expression,Q_.Diagnostics.The_expression_of_an_export_assignment_must_be_an_identifier_or_qualified_name_in_an_ambient_context),a.isExportEquals&&!Q_.isInAmbientContext(a)&&(se>=Q_.ModuleKind.ES2015?z(a,Q_.Diagnostics.Export_assignment_cannot_be_used_when_targeting_ECMAScript_modules_Consider_using_export_default_or_another_module_format_instead):se===Q_.ModuleKind.System&&z(a,Q_.Diagnostics.Export_assignment_is_not_supported_when_module_flag_is_system))):a.isExportEquals?V(a,Q_.Diagnostics.An_export_assignment_cannot_be_used_in_a_namespace):V(a,Q_.Diagnostics.A_default_export_can_only_be_used_in_an_ECMAScript_style_module)));case 209:case 225:return void G_(e);case 247:return void Fp(e)}}}function Mf(e){ze&&ze.push(e)}function Uf(){for(var e,t,r,n,i=0,a=ze;i<a.length;i++){var s=a[i];switch(s.kind){case 186:case 187:case 151:case 150:e=s,n=r=t=void 0,Q_.Debug.assert(151!==e.kind||Q_.isObjectLiteralMethod(e)),t=Q_.getFunctionFlags(e),r=Q_.getEffectiveReturnTypeNode(e),n=r&&(2==(3&t)?wp(e):re(r)),0==(1&t)&&Ld(e,n),e.body&&(r||te(ja(e)),207===e.body.kind?ne(e.body):(r=K(e.body),n&&Ro(2==(3&t)?Dp(r,e.body,Q_.Diagnostics.The_return_type_of_an_async_function_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member):r,n,e.body)),Mp(e));break;case 153:case 154:gp(s);break;case 199:t=s,Q_.forEach(t.members,ne),Mp(t)}}}function Bf(e){var t;Q_.performance.mark("beforeCheck"),1&(t=v(e=e)).flags||R.skipLibCheck&&e.isDeclarationFile||R.skipDefaultLibCheck&&e.hasNoDefaultLib||((e=>Q_.isInAmbientContext(e)&&(e=>{for(var t=0,r=e.statements;t<r.length;t++){var n=r[t];if((Q_.isDeclaration(n)||208===n.kind)&&(e=>230!==e.kind&&231!==e.kind&&238!==e.kind&&237!==e.kind&&244!==e.kind&&243!==e.kind&&236!==e.kind&&!Q_.hasModifier(e,515)&&ie(e,Q_.Diagnostics.A_declare_modifier_is_required_for_a_top_level_declaration_in_a_d_ts_file))(n))return}})(e))(e),Q_.clear(rr),Q_.clear(nr),$e=$&&k?[]:void 0,Bt=!(ze=[]),Q_.forEach(e.statements,ne),Uf(),Q_.isExternalModule(e)&&Mp(e),e.isDeclarationFile||Up(),$e=ze=void 0,Q_.isExternalOrCommonJsModule(e)&&Lf(e),rr.length&&(Q_.forEach(rr,Hp),Q_.clear(rr)),nr.length&&(Q_.forEach(nr,Gp),Q_.clear(nr)),t.flags|=1),Q_.performance.mark("afterCheck"),Q_.performance.measure("Check","beforeCheck","afterCheck")}function jf(e,t){try{ae=t;var r,n,i,a=e;return Kf(),a?(i=ar.getGlobalDiagnostics(),r=i.length,Bf(a),a=ar.getDiagnostics(a.fileName),(n=ar.getGlobalDiagnostics())!==i?(i=Q_.relativeComplement(i,n,Q_.compareDiagnostics),Q_.concatenate(i,a)):0===r&&0<n.length?Q_.concatenate(n,a):a):(Q_.forEach(l.getSourceFiles(),Bf),ar.getDiagnostics())}finally{ae=void 0}}function Kf(){if(!$)throw new Error("Trying to get diagnostics from a type checker that does not produce them.")}function zf(e){if(e)for(;e.parent;){if(220===e.parent.kind&&e.parent.statement===e)return 1;e=e.parent}}function $f(e){switch(e.kind){case 145:case 229:case 230:case 231:case 232:return!0}}function Jf(e){for(var t=e;t.parent&&143===t.parent.kind;)t=t.parent;return t.parent&&159===t.parent.kind}function qf(e,t){for(var r;(e=Q_.getContainingClass(e))&&!(r=t(e)););return r}function Vf(e,t){return qf(e,function(e){return e===t})}function Hf(e){return void 0!==(e=>{for(;143===e.parent.kind;)e=e.parent;return 237===e.parent.kind?e.parent.moduleReference===e&&e.parent:243===e.parent.kind?e.parent.expression===e&&e.parent:void 0})(e)}function Gf(e){if(Q_.isDeclarationName(e))return H(e.parent);if(Q_.isInJavaScriptFile(e)&&179===e.parent.kind&&e.parent===e.parent.parent.left){var t=(e=>{switch(Q_.getSpecialPropertyAssignmentKind(e.parent.parent)){case 1:case 3:return H(e.parent);case 4:case 2:case 5:return H(e.parent.parent)}})(e);if(t)return t}if(243===e.parent.kind&&Q_.isEntityNameExpression(e))return ln(e,2998271);if(179!==e.kind&&Hf(e))return t=Q_.getAncestor(e,237),Q_.Debug.assert(void 0!==t),on(e,!0);if((e=>{for(var t=e;t.parent&&179===t.parent.kind;)t=t.parent;return t.parent&&201===t.parent.kind})(e=Q_.isRightSideOfQualifiedNameOrPropertyAccess(e)?e.parent:e)){var r=0,t=(201===e.parent.kind?(r=793064,Q_.isExpressionWithTypeArgumentsInClassExtendsClause(e.parent)&&(r|=107455)):r=1920,ln(e,r|=2097152));if(t)return t}if(279===e.parent.kind)return Q_.getParameterSymbolFromJSDoc(e.parent);if(145===e.parent.kind&&282===e.parent.parent.kind)return Q_.Debug.assert(!Q_.isInJavaScriptFile(e)),(t=Q_.getTypeParameterFromJsDoc(e.parent))&&t.symbol;if(Q_.isPartOfExpression(e)){if(Q_.nodeIsMissing(e))return;if(71===e.kind)return Q_.isJSXTagName(e)&&gu(e)?vu(e.parent):ln(e,107455,!1,!0);if(179===e.kind||143===e.kind)return(t=v(e)).resolvedSymbol||(179===e.kind?Mu:Uu)(e),t.resolvedSymbol}else{if(Jf(e))return ln(e,r=159===e.parent.kind?793064:1920,!1,!0);if(253===e.parent.kind)return O(Du((t=e.parent).parent.parent),t.name.escapedText)||U}return 158===e.parent.kind?ln(e,1):void 0}function Wf(e){if(265===e.kind)return Q_.isExternalModule(e)?xn(e.symbol):void 0;if(!zf(e)){if(nm(e))return H(e.parent);if(Q_.isLiteralComputedPropertyDeclarationName(e))return H(e.parent.parent);if(71===e.kind){if(Hf(e))return Gf(e);if(176===e.parent.kind&&174===e.parent.parent.kind&&e===e.parent.propertyName){var t=Qf(e.parent.parent),t=t&&O(t,e.escapedText);if(t)return t}}switch(e.kind){case 71:case 179:case 143:return Gf(e);case 99:var r=Q_.getThisContainer(e,!1);if(Q_.isFunctionLike(r)){r=ja(r);if(r.thisParameter)return r.thisParameter}if(Q_.isInExpressionContext(e))return K(e).symbol;case 169:return _o(e).symbol;case 97:return K(e).symbol;case 123:r=e.parent;return r&&152===r.kind?r.parent.symbol:void 0;case 9:if(Q_.isExternalModuleImportEqualsDeclaration(e.parent.parent)&&Q_.getExternalModuleImportEqualsDeclarationExpression(e.parent.parent)===e||(238===e.parent.kind||244===e.parent.kind)&&e.parent.moduleSpecifier===e||Q_.isInJavaScriptFile(e)&&Q_.isRequireCall(e.parent,!1)||Q_.isImportCall(e.parent))return un(e,e);case 8:r=Q_.isElementAccessExpression(e.parent)?e.parent.argumentExpression===e?op(e.parent.expression):void 0:Q_.isLiteralTypeNode(e.parent)&&Q_.isIndexedAccessTypeNode(e.parent.parent)?re(e.parent.parent.objectType):void 0;return r&&O(r,Q_.escapeLeadingUnderscores(e.text));case 79:return H(e.parent);default:return}}}function Qf(e){var t,r,n;return zf(e)?q:Q_.isPartOfTypeNode(e)?(t=re(e))&&Q_.isExpressionWithTypeArgumentsInClassImplementsClause(e)?Xi(t,(n=Qf(Q_.getContainingClass(e))).thisType):t:Q_.isPartOfExpression(e)?Yf(e):Q_.isExpressionWithTypeArgumentsInClassExtendsClause(e)?(t=Ri(n=Y(H(Q_.getContainingClass(e))))[0])&&Xi(t,n.thisType):$f(e)?Y(r=H(e)):71===(t=e).kind&&$f(t.parent)&&t.parent.name===t?(r=Wf(e))&&Y(r):Q_.isDeclaration(e)?Q(r=H(e)):nm(e)?(r=Wf(e))&&Q(r):Q_.isBindingPattern(e)?di(e.parent,!0):Hf(e)?(n=(r=Wf(e))&&Y(r))!==q?n:Q(r):q}function Yf(e){return po(op(e=Q_.isRightSideOfQualifiedNameOrPropertyAccess(e)?e.parent:e))}function Xf(e){if(!Q_.isGeneratedIdentifier(e)&&(e=Q_.getParseTreeNode(e,Q_.isIdentifier)))return!(179===e.parent.kind&&e.parent.name===e)&&x_(e)===Ye;return!1}function Zf(e){var t,r,e=un(e.parent,e);return!(e&&!Q_.isShorthandAmbientModuleSymbol(e))||(t=mn(e),void 0===(r=d(e=fn(e))).exportsSomeValue&&(r.exportsSomeValue=t?!!(107455&e.flags):Q_.forEachEntry(vn(e),function(e){return(e=rn(e))&&!!(107455&e.flags)})),r.exportsSomeValue)}function e_(e,t){if(e=Q_.getParseTreeNode(e,Q_.isIdentifier)){n=x_(e,(i=(n=e).parent)&&Q_.isModuleOrEnumDeclaration(i)&&n===i.name);if(n){if(1048576&n.flags){i=xn(n.exportSymbol);if(!t&&944&i.flags)return;n=i}var r=kn(n);if(r)return 512&r.flags&&265===r.valueDeclaration.kind?(t=r.valueDeclaration)!==Q_.getSourceFileOfNode(e)?void 0:t:Q_.findAncestor(e.parent,function(e){return Q_.isModuleOrEnumDeclaration(e)&&H(e)===r})}}var n,i}function t_(e){if(e=Q_.getParseTreeNode(e,Q_.isIdentifier)){e=x_(e);if(tn(e,107455))return Yr(e)}}function r_(e){var t,r,n,i;return!!(418&e.flags)&&(void 0===(t=d(e)).isDeclarationWithCollidingName&&(r=Q_.getEnclosingBlockScopeContainer(e.valueDeclaration),Q_.isStatementWithLocals(r))&&(n=v(e.valueDeclaration),qr(r.parent,e.escapedName,107455,void 0,void 0,!1)?t.isDeclarationWithCollidingName=!0:131072&n.flags?(e=262144&n.flags,n=Q_.isIterationStatement(r,!1),i=207===r.kind&&Q_.isIterationStatement(r.parent,!1),t.isDeclarationWithCollidingName=!(Q_.isBlockScopedContainerTopLevel(r)||e&&(n||i))):t.isDeclarationWithCollidingName=!1),t.isDeclarationWithCollidingName)}function n_(e){if(!Q_.isGeneratedIdentifier(e)&&(e=Q_.getParseTreeNode(e,Q_.isIdentifier))){e=x_(e);if(e&&r_(e))return e.valueDeclaration}}function i_(e){if(e=Q_.getParseTreeNode(e,Q_.isDeclaration)){e=H(e);if(e)return r_(e)}return!1}function a_(e){switch(e.kind){case 237:case 239:case 240:case 242:case 246:return o_(H(e)||U);case 244:var t=e.exportClause;return t&&Q_.forEach(t.elements,a_);case 243:return!e.expression||71!==e.expression.kind||o_(H(e)||U)}return!1}function s_(e){return!(void 0===(e=Q_.getParseTreeNode(e,Q_.isImportEqualsDeclaration))||265!==e.parent.kind||!Q_.isInternalModuleImportEqualsDeclaration(e))&&o_(H(e))&&e.moduleReference&&!Q_.nodeIsMissing(e.moduleReference)}function o_(e){e=nn(e);return e===U||107455&e.flags&&(R.preserveConstEnums||!c_(e))}function c_(e){return qd(e)||e.constEnumOnlyModule}function l_(e){var t;return!!Q_.nodeIsPresent(e.body)&&(1<(t=Ka(H(e))).length||1===t.length&&t[0].declaration!==e)}function u_(e){return M&&!Ra(e)&&e.initializer&&!Q_.hasModifier(e,92)}function d_(e){return M&&Ra(e)&&!e.initializer&&Q_.hasModifier(e,92)}function p_(e){return v(e).flags}function f_(e){return Ef(e.parent),v(e).enumMemberValue}function __(e){switch(e.kind){case 264:case 179:case 180:return!0}return!1}function m_(e){return 264===e.kind?f_(e):(e=v(e).resolvedSymbol)&&8&e.flags&&Q_.isConstEnumDeclaration(e.valueDeclaration.parent)?f_(e.valueDeclaration):void 0}function g_(e,t){if(!(e=Q_.getParseTreeNode(e,Q_.isEntityName)))return Q_.TypeReferenceSerializationKind.Unknown;if(t&&!(t=Q_.getParseTreeNode(t)))return Q_.TypeReferenceSerializationKind.Unknown;var r=ln(e,107455,!0,!1,t),e=ln(e,793064,!0,!1,t);if(r&&r===e){var t=xs(!1);if(t&&r===t)return Q_.TypeReferenceSerializationKind.Promise;t=Q(r);if(t&&Ii(t))return Q_.TypeReferenceSerializationKind.TypeWithConstructSignatureAndValue}return e?(r=Y(e))===q?Q_.TypeReferenceSerializationKind.Unknown:1&r.flags?Q_.TypeReferenceSerializationKind.ObjectType:$d(r,15360)?Q_.TypeReferenceSerializationKind.VoidNullableOrNeverType:$d(r,136)?Q_.TypeReferenceSerializationKind.BooleanType:$d(r,84)?Q_.TypeReferenceSerializationKind.NumberLikeType:$d(r,262178)?Q_.TypeReferenceSerializationKind.StringLikeType:fc(r)?Q_.TypeReferenceSerializationKind.ArrayLikeType:$d(r,512)?Q_.TypeReferenceSerializationKind.ESSymbolType:32768&(t=r).flags&&0<ee(t,0).length?Q_.TypeReferenceSerializationKind.TypeWithCallSignature:sc(r)?Q_.TypeReferenceSerializationKind.ArrayLikeType:Q_.TypeReferenceSerializationKind.ObjectType:Q_.TypeReferenceSerializationKind.ObjectType}function h_(e,t,r,n){e=H(e),e=!e||133120&e.flags?q:pc(Q(e));8192&r&&(e=yc(e,2048)),Qn().buildTypeDisplay(e,n,t,r)}function y_(e,t,r,n){e=ja(e);Qn().buildTypeDisplay(te(e),n,t,r)}function v_(e,t,r,n){e=Cc(Yf(e));Qn().buildTypeDisplay(e,n,t,r)}function b_(e){return Lt.has(Q_.escapeLeadingUnderscores(e))}function x_(e,t){var r=v(e).resolvedSymbol;return r||(r=e,qr(r=t&&(t=e.parent,Q_.isDeclaration(t))&&e===t.name?ri(t):r,e.escapedText,3253183,void 0,void 0,!0))}function k_(e){if(!Q_.isGeneratedIdentifier(e)&&(e=Q_.getParseTreeNode(e,Q_.isIdentifier))){e=x_(e);if(e)return Sn(e).valueDeclaration}}function S_(e){return!!Q_.isConst(e)&&!!(96&(e=Q(H(e))).flags&&1048576&e.flags)}function T_(e,t){e=Q(H(e));t.writeStringLiteral(Gn(e))}function C_(e){e=Q_.getExternalModuleName(e),e=dn(e,e,void 0);if(e)return Q_.getDeclarationOfKind(e,265)}function E_(e,t){if((o&t)!==t&&R.importHelpers){var r=Q_.getSourceFileOfNode(e);if(Q_.isEffectiveExternalModule(r,R)&&!Q_.isInAmbientContext(e)){var n=((e,t)=>c=c||pn(e,Q_.externalHelpersModuleNameText,Q_.Diagnostics.This_syntax_requires_an_imported_helper_but_module_0_cannot_be_found,t)||U)(r,e);if(n!==U)for(var i,a=t&~o,s=1;s<=65536;s<<=1)a&s&&(i=(e=>{switch(e){case 1:return"__extends";case 2:return"__assign";case 4:return"__rest";case 8:return"__decorate";case 16:return"__metadata";case 32:return"__param";case 64:return"__awaiter";case 128:return"__generator";case 256:return"__values";case 512:return"__read";case 1024:return"__spread";case 2048:return"__await";case 4096:return"__asyncGenerator";case 8192:return"__asyncDelegator";case 16384:return"__asyncValues";case 32768:return"__exportStar";case 65536:return"__makeTemplateObject";default:Q_.Debug.fail("Unrecognized helper")}})(s),$r(n.exports,Q_.escapeLeadingUnderscores(i),107455)||V(e,Q_.Diagnostics.This_syntax_requires_an_imported_helper_named_1_but_module_0_has_no_exported_member_1,Q_.externalHelpersModuleNameText,i));o|=t}}}function D_(e){if(e.decorators){if(!Q_.nodeCanBeDecorated(e))return 151!==e.kind||Q_.nodeIsPresent(e.body)?ie(e,Q_.Diagnostics.Decorators_are_not_valid_here):ie(e,Q_.Diagnostics.A_decorator_can_only_decorate_a_method_implementation_not_an_overload);if(153===e.kind||154===e.kind){var t=Q_.getAllAccessorDeclarations(e.parent.members,e);if(t.firstAccessor.decorators&&e===t.secondAccessor)return ie(e,Q_.Diagnostics.Decorators_cannot_be_applied_to_multiple_get_Slashset_accessors_of_the_same_name)}}return!1}function A_(e){var t,r,n,i,a=!!(a=e).modifiers&&((e=>{switch(e.kind){case 153:case 154:case 152:case 149:case 148:case 151:case 150:case 157:case 233:case 238:case 237:case 244:case 243:case 186:case 187:case 146:return;default:if(234===e.parent.kind||265===e.parent.kind)return;switch(e.kind){case 228:return w_(e,120);case 229:return w_(e,117);case 230:case 208:case 231:return 1;case 232:return w_(e,76);default:return void Q_.Debug.fail()}}})(a)?ie(a,Q_.Diagnostics.Modifiers_cannot_appear_here):void 0);if(void 0!==a)return a;for(var s=0,o=0,c=e.modifiers;o<c.length;o++){var l=c[o];if(131!==l.kind){if(148===e.kind||150===e.kind)return z(l,Q_.Diagnostics._0_modifier_cannot_appear_on_a_type_member,Q_.tokenToString(l.kind));if(157===e.kind)return z(l,Q_.Diagnostics._0_modifier_cannot_appear_on_an_index_signature,Q_.tokenToString(l.kind))}switch(l.kind){case 76:if(232!==e.kind&&229===e.parent.kind)return z(e,Q_.Diagnostics.A_class_member_cannot_have_the_0_keyword,Q_.tokenToString(76));break;case 114:case 113:case 112:var u=qn(Q_.modifierToFlag(l.kind));if(28&s)return z(l,Q_.Diagnostics.Accessibility_modifier_already_seen);if(32&s)return z(l,Q_.Diagnostics._0_modifier_must_precede_1_modifier,u,"static");if(64&s)return z(l,Q_.Diagnostics._0_modifier_must_precede_1_modifier,u,"readonly");if(256&s)return z(l,Q_.Diagnostics._0_modifier_must_precede_1_modifier,u,"async");if(234===e.parent.kind||265===e.parent.kind)return z(l,Q_.Diagnostics._0_modifier_cannot_appear_on_a_module_or_namespace_element,u);if(128&s)return 112===l.kind?z(l,Q_.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,u,"abstract"):z(l,Q_.Diagnostics._0_modifier_must_precede_1_modifier,u,"abstract");s|=Q_.modifierToFlag(l.kind);break;case 115:if(32&s)return z(l,Q_.Diagnostics._0_modifier_already_seen,"static");if(64&s)return z(l,Q_.Diagnostics._0_modifier_must_precede_1_modifier,"static","readonly");if(256&s)return z(l,Q_.Diagnostics._0_modifier_must_precede_1_modifier,"static","async");if(234===e.parent.kind||265===e.parent.kind)return z(l,Q_.Diagnostics._0_modifier_cannot_appear_on_a_module_or_namespace_element,"static");if(146===e.kind)return z(l,Q_.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"static");if(128&s)return z(l,Q_.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,"static","abstract");s|=32,t=l;break;case 131:if(64&s)return z(l,Q_.Diagnostics._0_modifier_already_seen,"readonly");if(149!==e.kind&&148!==e.kind&&157!==e.kind&&146!==e.kind)return z(l,Q_.Diagnostics.readonly_modifier_can_only_appear_on_a_property_declaration_or_index_signature);s|=64,i=l;break;case 84:if(1&s)return z(l,Q_.Diagnostics._0_modifier_already_seen,"export");if(2&s)return z(l,Q_.Diagnostics._0_modifier_must_precede_1_modifier,"export","declare");if(128&s)return z(l,Q_.Diagnostics._0_modifier_must_precede_1_modifier,"export","abstract");if(256&s)return z(l,Q_.Diagnostics._0_modifier_must_precede_1_modifier,"export","async");if(229===e.parent.kind)return z(l,Q_.Diagnostics._0_modifier_cannot_appear_on_a_class_element,"export");if(146===e.kind)return z(l,Q_.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"export");s|=1;break;case 79:u=(265===e.parent.kind?e:e.parent).parent;if(233===u.kind&&!Q_.isAmbientModule(u))return z(l,Q_.Diagnostics.A_default_export_can_only_be_used_in_an_ECMAScript_style_module);s|=512;break;case 124:if(2&s)return z(l,Q_.Diagnostics._0_modifier_already_seen,"declare");if(256&s)return z(l,Q_.Diagnostics._0_modifier_cannot_be_used_in_an_ambient_context,"async");if(229===e.parent.kind)return z(l,Q_.Diagnostics._0_modifier_cannot_appear_on_a_class_element,"declare");if(146===e.kind)return z(l,Q_.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"declare");if(Q_.isInAmbientContext(e.parent)&&234===e.parent.kind)return z(l,Q_.Diagnostics.A_declare_modifier_cannot_be_used_in_an_already_ambient_context);s|=2,r=l;break;case 117:if(128&s)return z(l,Q_.Diagnostics._0_modifier_already_seen,"abstract");if(229!==e.kind){if(151!==e.kind&&149!==e.kind&&153!==e.kind&&154!==e.kind)return z(l,Q_.Diagnostics.abstract_modifier_can_only_appear_on_a_class_method_or_property_declaration);if(229!==e.parent.kind||!Q_.hasModifier(e.parent,128))return z(l,Q_.Diagnostics.Abstract_methods_can_only_appear_within_an_abstract_class);if(32&s)return z(l,Q_.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,"static","abstract");if(8&s)return z(l,Q_.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,"private","abstract")}s|=128;break;case 120:if(256&s)return z(l,Q_.Diagnostics._0_modifier_already_seen,"async");if(2&s||Q_.isInAmbientContext(e.parent))return z(l,Q_.Diagnostics._0_modifier_cannot_be_used_in_an_ambient_context,"async");if(146===e.kind)return z(l,Q_.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"async");s|=256,n=l}}if(152===e.kind)return 32&s?z(t,Q_.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"static"):128&s?z(t,Q_.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"abstract"):256&s?z(n,Q_.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"async"):64&s?z(i,Q_.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"readonly"):void 0;if((238===e.kind||237===e.kind)&&2&s)return z(r,Q_.Diagnostics.A_0_modifier_cannot_be_used_with_an_import_declaration,"declare");if(146===e.kind&&92&s&&Q_.isBindingPattern(e.name))return z(e,Q_.Diagnostics.A_parameter_property_may_not_be_declared_using_a_binding_pattern);if(146===e.kind&&92&s&&e.dotDotDotToken)return z(e,Q_.Diagnostics.A_parameter_property_cannot_be_declared_using_a_rest_parameter);if(256&s){a=n;switch(e.kind){case 151:case 228:case 186:case 187:return!1}return z(a,Q_.Diagnostics._0_modifier_cannot_be_used_here,"async")}}function w_(e,t){return 1<e.modifiers.length||e.modifiers[0].kind!==t}function N_(e){var t;if(e&&e.hasTrailingComma)return t=e.end-",".length,H_(e[0],t,e.end-t,Q_.Diagnostics.Trailing_comma_not_allowed)}function I_(e,t){var r;return!!N_(e)||(e&&0===e.length?H_(t,r=e.pos-"<".length,Q_.skipTrivia(t.text,e.end)+">".length-r,Q_.Diagnostics.Type_parameter_list_cannot_be_empty):void 0)}function P_(e){var t=Q_.getSourceFileOfNode(e);return D_(e)||A_(e)||I_(e.typeParameters,t)||(e=>{for(var t=!1,r=e.length,n=0;n<r;n++){var i=e[n];if(i.dotDotDotToken){if(n!==r-1)return z(i.dotDotDotToken,Q_.Diagnostics.A_rest_parameter_must_be_last_in_a_parameter_list);if(Q_.isBindingPattern(i.name))return z(i.name,Q_.Diagnostics.A_rest_element_cannot_contain_a_binding_pattern);if(i.questionToken)return z(i.questionToken,Q_.Diagnostics.A_rest_parameter_cannot_be_optional);if(i.initializer)return z(i.name,Q_.Diagnostics.A_rest_parameter_cannot_have_an_initializer)}else if(i.questionToken){if(t=!0,i.initializer)return z(i.name,Q_.Diagnostics.Parameter_cannot_have_question_mark_and_initializer)}else if(t&&!i.initializer)return z(i.name,Q_.Diagnostics.A_required_parameter_cannot_follow_an_optional_parameter)}})(e.parameters)||((e,t)=>{if(187===e.kind){var r=Q_.getLineAndCharacterOfPosition(t,e.equalsGreaterThanToken.pos).line,t=Q_.getLineAndCharacterOfPosition(t,e.equalsGreaterThanToken.end).line;if(r!==t)return z(e.equalsGreaterThanToken,Q_.Diagnostics.Line_terminator_not_permitted_before_arrow)}return!1})(e,t)}function O_(e,t){return N_(t)||((e,t)=>{var r;if(t&&0===t.length)return H_(e=Q_.getSourceFileOfNode(e),r=t.pos-"<".length,Q_.skipTrivia(e.text,t.end)+">".length-r,Q_.Diagnostics.Type_argument_list_cannot_be_empty)})(e,t)}function F_(e){if(e)for(var t=0,r=e;t<r.length;t++){var n=r[t];if(200===n.kind)return H_(n,n.pos,0,Q_.Diagnostics.Argument_expression_expected)}}function L_(e){var t,r=e.types;if(!N_(r))return r&&0===r.length?(t=Q_.tokenToString(e.token),H_(e,r.pos,0,Q_.Diagnostics._0_list_cannot_be_empty,t)):void Q_.forEach(r,R_)}function R_(e){return O_(e,e.typeArguments)}function M_(e){144===e.kind&&194===e.expression.kind&&26===e.expression.operatorToken.kind&&z(e.expression,Q_.Diagnostics.A_comma_expression_is_not_allowed_in_a_computed_property_name)}function U_(e){return e.asteriskToken&&(Q_.Debug.assert(228===e.kind||186===e.kind||151===e.kind),Q_.isInAmbientContext(e)?z(e.asteriskToken,Q_.Diagnostics.Generators_are_not_allowed_in_an_ambient_context):!e.body&&z(e.asteriskToken,Q_.Diagnostics.An_overload_signature_cannot_be_declared_as_a_generator))}function B_(e,t){return e&&z(e,t)}function j_(e){if(!G_(e)){if(216===e.kind&&e.awaitModifier&&0==(16384&e.flags))return z(e.awaitModifier,Q_.Diagnostics.A_for_await_of_statement_is_only_allowed_within_an_async_function_or_async_generator);if(227===e.initializer.kind){var t=e.initializer;if(!q_(t)){var r=t.declarations;if(!r.length)return;if(1<r.length)return n=215===e.kind?Q_.Diagnostics.Only_a_single_variable_declaration_is_allowed_in_a_for_in_statement:Q_.Diagnostics.Only_a_single_variable_declaration_is_allowed_in_a_for_of_statement,ie(t.declarations[1],n);var n,t=r[0];if(t.initializer)return n=215===e.kind?Q_.Diagnostics.The_variable_declaration_of_a_for_in_statement_cannot_have_an_initializer:Q_.Diagnostics.The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer,z(t.name,n);if(t.type)return z(t,n=215===e.kind?Q_.Diagnostics.The_left_hand_side_of_a_for_in_statement_cannot_use_a_type_annotation:Q_.Diagnostics.The_left_hand_side_of_a_for_of_statement_cannot_use_a_type_annotation)}}}}function K_(e){if(e.parameters.length===(153===e.kind?1:2))return Q_.getThisParameter(e)}function z_(e,t){if(Q_.isDynamicName(e))return z(e,t)}function $_(e){if((t=e).modifiers&&178===t.parent.kind&&(!(2&Q_.getFunctionFlags(t))||1<t.modifiers.length)&&ie(t,Q_.Diagnostics.Modifiers_cannot_appear_here)||P_(e)||U_(e))return 1;var t;if(178===e.parent.kind){if(B_(e.questionToken,Q_.Diagnostics.An_object_member_cannot_be_declared_optional))return 1;if(void 0===e.body)return H_(e,e.end-1,";".length,Q_.Diagnostics._0_expected,"{")}return Q_.isClassLike(e.parent)?Q_.isInAmbientContext(e)?z_(e.name,Q_.Diagnostics.A_computed_property_name_in_an_ambient_context_must_directly_refer_to_a_built_in_symbol):!e.body&&z_(e.name,Q_.Diagnostics.A_computed_property_name_in_a_method_overload_must_directly_refer_to_a_built_in_symbol):230===e.parent.kind?z_(e.name,Q_.Diagnostics.A_computed_property_name_in_an_interface_must_directly_refer_to_a_built_in_symbol):163===e.parent.kind&&z_(e.name,Q_.Diagnostics.A_computed_property_name_in_a_type_literal_must_directly_refer_to_a_built_in_symbol)}function J_(e){return 9===e.kind||8===e.kind||192===e.kind&&38===e.operator&&8===e.operand.kind}function q_(e){var t=e.declarations;return N_(e.declarations)||!e.declarations.length&&H_(e,t.pos,t.end-t.pos,Q_.Diagnostics.Variable_declaration_list_cannot_be_empty)}function V_(e){return 0<e.parseDiagnostics.length}function ie(e,t,r,n,i){var a=Q_.getSourceFileOfNode(e);if(!V_(a))return e=Q_.getSpanOfTokenAtPosition(a,e.pos),ar.add(Q_.createFileDiagnostic(a,e.start,e.length,t,r,n,i)),!0}function H_(e,t,r,n,i,a,s){e=Q_.getSourceFileOfNode(e);if(!V_(e))return ar.add(Q_.createFileDiagnostic(e,t,r,n,i,a,s)),!0}function z(e,t,r,n,i){if(!V_(Q_.getSourceFileOfNode(e)))return ar.add(Q_.createDiagnosticForNode(e,t,r,n,i)),!0}function G_(e){var t;return Q_.isInAmbientContext(e)&&(Q_.isAccessor(e.parent)?v(e).hasReportedStatementInAmbientContext=!0:!v(e).hasReportedStatementInAmbientContext&&Q_.isFunctionLike(e.parent)?v(e).hasReportedStatementInAmbientContext=ie(e,Q_.Diagnostics.An_implementation_cannot_be_declared_in_ambient_contexts):207!==e.parent.kind&&234!==e.parent.kind&&265!==e.parent.kind||(t=v(e.parent)).hasReportedStatementInAmbientContext?void 0:t.hasReportedStatementInAmbientContext=ie(e,Q_.Diagnostics.Statements_are_not_allowed_in_ambient_contexts))}function W_(e){if(4&e.numericLiteralFlags){var t,r,n=void 0;if(1<=J?n=Q_.Diagnostics.Octal_literals_are_not_available_when_targeting_ECMAScript_5_and_higher_Use_the_syntax_0:Q_.isChildOfNodeWithKind(e,173)?n=Q_.Diagnostics.Octal_literal_types_must_use_ES2015_syntax_Use_the_syntax_0:Q_.isChildOfNodeWithKind(e,264)&&(n=Q_.Diagnostics.Octal_literals_are_not_allowed_in_enums_members_initializer_Use_the_syntax_0),n)return r=((t=Q_.isPrefixUnaryExpression(e.parent)&&38===e.parent.operator)?"-":"")+"0o"+e.text,z(t?e.parent:e,n,r)}}}})(ts=ts||{}),(l=>{function u(e){e=l.createNode(e,-1,-1);return e.flags|=8,e}function d(e,t){return e!==t&&(R(e,t),F(e,t),t.startsOnNewLine&&(e.startsOnNewLine=!0),l.aggregateTransformFlags(e)),e}function p(e,t){if(e){if(l.isNodeArray(e))return e}else e=[];return e.pos=-1,e.end=-1,e.hasTrailingComma=t,e}function r(e){if(void 0!==e){var t,r=u(e.kind);for(t in r.flags|=e.flags,R(r,e),e)!r.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(r[t]=e[t]);return r}}function n(e){return"number"==typeof e?i(e+""):"boolean"==typeof e?(e?_:M)():l.isString(e)?a(e):(e=e,(t=a(l.getTextOfIdentifierOrLiteral(e))).textSourceNode=e,t);var t}function i(e){var t=u(8);return t.text=e,t.numericLiteralFlags=0,t}function a(e){var t=u(9);return t.text=e,t}function s(e,t){var r=u(71);return r.escapedText=l.escapeLeadingUnderscores(e),r.originalKeywordKind=e?l.stringToToken(e):0,r.autoGenerateKind=0,r.autoGenerateId=0,t&&(r.typeArguments=p(t)),r}l.updateNode=d,l.createNodeArray=p,l.getSynthesizedClone=r,l.createLiteral=n,l.createNumericLiteral=i,l.createIdentifier=s,l.updateIdentifier=function(e,t){return e.typeArguments!==t?d(s(l.idText(e),t),e):e};var o,c=0;function f(e){return u(e)}function _(){return u(101)}function M(){return u(86)}function U(e,t){var r=u(143);return r.left=e,r.right=I(t),r}function B(e){var t=u(144);return t.expression=e,t}function j(e,t,r){var n=u(145);return n.name=I(e),n.constraint=t,n.default=r,n}function K(e,t,r,n,i,a,s){var o=u(146);return o.decorators=P(e),o.modifiers=P(t),o.dotDotDotToken=r,o.name=I(n),o.questionToken=i,o.type=a,o.initializer=s?l.parenthesizeExpressionForList(s):void 0,o}function z(e){var t=u(147);return t.expression=l.parenthesizeForAccess(e),t}function $(e,t,r,n,i){var a=u(148);return a.modifiers=P(e),a.name=I(t),a.questionToken=r,a.type=n,a.initializer=i,a}function J(e,t,r,n,i,a){var s=u(149);return s.decorators=P(e),s.modifiers=P(t),s.name=I(r),s.questionToken=n,s.type=i,s.initializer=a,s}function q(e,t,r,n,i){e=m(150,e,t,r);return e.name=I(n),e.questionToken=i,e}function V(e,t,r,n,i,a,s,o,c){var l=u(151);return l.decorators=P(e),l.modifiers=P(t),l.asteriskToken=r,l.name=I(n),l.questionToken=i,l.typeParameters=P(a),l.parameters=p(s),l.type=o,l.body=c,l}function H(e,t,r,n){var i=u(152);return i.decorators=P(e),i.modifiers=P(t),i.typeParameters=void 0,i.parameters=p(r),i.type=void 0,i.body=n,i}function G(e,t,r,n,i,a){var s=u(153);return s.decorators=P(e),s.modifiers=P(t),s.name=I(r),s.typeParameters=void 0,s.parameters=p(n),s.type=i,s.body=a,s}function W(e,t,r,n,i){var a=u(154);return a.decorators=P(e),a.modifiers=P(t),a.name=I(r),a.typeParameters=void 0,a.parameters=p(n),a.body=i,a}function Q(e,t,r,n){var i=u(157);return i.decorators=P(e),i.modifiers=P(t),i.parameters=p(r),i.type=n,i}function m(e,t,r,n){e=u(e);return e.typeParameters=P(t),e.parameters=P(r),e.type=n,e}function e(e,t,r,n){return e.typeParameters!==t||e.parameters!==r||e.type!==n?d(m(e.kind,t,r,n),e):e}function Y(e,t){var r=u(158);return r.parameterName=I(e),r.type=t,r}function X(e,t){var r=u(159);return r.typeName=I(e),r.typeArguments=t&&l.parenthesizeTypeParameters(t),r}function Z(e){var t=u(162);return t.exprName=e,t}function ee(e){var t=u(163);return t.members=p(e),t}function te(e){var t=u(164);return t.elementType=l.parenthesizeArrayTypeMember(e),t}function re(e){var t=u(165);return t.elementTypes=p(e),t}function g(e,t){e=u(e);return e.types=l.parenthesizeElementTypeMembers(t),e}function t(e,t){return e.types!==t?d(g(e.kind,t),e):e}function ne(e){var t=u(168);return t.type=e,t}function ie(e){var t=u(170);return t.operator=127,t.type=l.parenthesizeElementTypeMember(e),t}function ae(e,t){var r=u(171);return r.objectType=l.parenthesizeElementTypeMember(e),r.indexType=t,r}function se(e,t,r,n){var i=u(172);return i.readonlyToken=e,i.typeParameter=t,i.questionToken=r,i.type=n,i}function oe(e){var t=u(173);return t.literal=e,t}function ce(e){var t=u(174);return t.elements=p(e),t}function le(e){var t=u(175);return t.elements=p(e),t}function ue(e,t,r,n){var i=u(176);return i.dotDotDotToken=e,i.propertyName=I(t),i.name=I(r),i.initializer=n,i}function de(e,t){var r=u(177);return r.elements=l.parenthesizeListElements(p(e)),t&&(r.multiLine=!0),r}function pe(e,t){var r=u(178);return r.properties=p(e),t&&(r.multiLine=!0),r}function fe(e,t){var r=u(179);return r.expression=l.parenthesizeForAccess(e),r.name=I(t),L(r,131072),r}function _e(e,t){var r=u(180);return r.expression=l.parenthesizeForAccess(e),r.argumentExpression=(e=t,l.isString(e)||"number"==typeof e?n(e):e),r}function h(e,t,r){var n=u(181);return n.expression=l.parenthesizeForAccess(e),n.typeArguments=P(t),n.arguments=l.parenthesizeListElements(p(r)),n}function me(e,t,r){var n=u(182);return n.expression=l.parenthesizeForNew(e),n.typeArguments=P(t),n.arguments=r?l.parenthesizeListElements(p(r)):void 0,n}function ge(e,t){var r=u(183);return r.tag=l.parenthesizeForAccess(e),r.template=t,r}function he(e,t){var r=u(184);return r.type=e,r.expression=l.parenthesizePrefixOperand(t),r}function ye(e){var t=u(185);return t.expression=e,t}function y(e,t,r,n,i,a,s){var o=u(186);return o.modifiers=P(e),o.asteriskToken=t,o.name=I(r),o.typeParameters=P(n),o.parameters=p(i),o.type=a,o.body=s,o}function v(e,t,r,n,i,a){var s=u(187);return s.modifiers=P(e),s.typeParameters=P(t),s.parameters=p(r),s.type=n,s.equalsGreaterThanToken=i||u(36),s.body=l.parenthesizeConciseBody(a),s}function ve(e){var t=u(188);return t.expression=l.parenthesizePrefixOperand(e),t}function be(e){var t=u(189);return t.expression=l.parenthesizePrefixOperand(e),t}function b(e){var t=u(190);return t.expression=l.parenthesizePrefixOperand(e),t}function xe(e){var t=u(191);return t.expression=l.parenthesizePrefixOperand(e),t}function x(e,t){var r=u(192);return r.operator=e,r.operand=l.parenthesizePrefixOperand(t),r}function k(e,t){var r=u(193);return r.operand=l.parenthesizePostfixOperand(e),r.operator=t,r}function S(e,t,r){var n=u(194),t="number"==typeof(t=t)?f(t):t,i=t.kind;return n.left=l.parenthesizeBinaryOperand(i,e,!0,void 0),n.operatorToken=t,n.right=l.parenthesizeBinaryOperand(i,r,!1,n.left),n}function ke(e,t,r,n,i){var a=u(195);return a.condition=l.parenthesizeForConditionalHead(e),a.questionToken=i?t:u(55),a.whenTrue=l.parenthesizeSubexpressionOfConditionalExpression(i?r:t),a.colonToken=i?n:u(56),a.whenFalse=l.parenthesizeSubexpressionOfConditionalExpression(i||r),a}function Se(e,t){var r=u(196);return r.head=e,r.templateSpans=p(t),r}function Te(e,t){var r=u(197);return r.asteriskToken=e&&39===e.kind?e:void 0,r.expression=e&&39!==e.kind?e:t,r}function Ce(e){var t=u(198);return t.expression=l.parenthesizeExpressionForList(e),t}function Ee(e,t,r,n,i){var a=u(199);return a.decorators=void 0,a.modifiers=P(e),a.name=I(t),a.typeParameters=P(r),a.heritageClauses=P(n),a.members=p(i),a}function De(e,t){var r=u(201);return r.expression=l.parenthesizeForAccess(t),r.typeArguments=P(e),r}function Ae(e,t){var r=u(202);return r.expression=e,r.type=t,r}function we(e){var t=u(203);return t.expression=l.parenthesizeForAccess(e),t}function Ne(e,t){var r=u(204);return r.keywordToken=e,r.name=t,r}function Ie(e,t){var r=u(205);return r.expression=e,r.literal=t,r}function T(e,t){var r=u(207);return r.statements=p(e),t&&(r.multiLine=t),r}function Pe(e,t){var r=u(208);return r.decorators=void 0,r.modifiers=P(e),r.declarationList=l.isArray(t)?E(t):t,r}function Oe(e){var t=u(210);return t.expression=l.parenthesizeExpressionForExpressionStatement(e),t}function Fe(e,t,r){var n=u(211);return n.expression=e,n.thenStatement=t,n.elseStatement=r,n}function Le(e,t){var r=u(212);return r.statement=e,r.expression=t,r}function Re(e,t){var r=u(213);return r.expression=e,r.statement=t,r}function Me(e,t,r,n){var i=u(214);return i.initializer=e,i.condition=t,i.incrementor=r,i.statement=n,i}function Ue(e,t,r){var n=u(215);return n.initializer=e,n.expression=t,n.statement=r,n}function Be(e,t,r,n){var i=u(216);return i.awaitModifier=e,i.initializer=t,i.expression=r,i.statement=n,i}function je(e){var t=u(217);return t.label=I(e),t}function Ke(e){var t=u(218);return t.label=I(e),t}function ze(e){var t=u(219);return t.expression=e,t}function $e(e,t){var r=u(220);return r.expression=e,r.statement=t,r}function Je(e,t){var r=u(221);return r.expression=l.parenthesizeExpressionForList(e),r.caseBlock=t,r}function qe(e,t){var r=u(222);return r.label=I(e),r.statement=t,r}function Ve(e){var t=u(223);return t.expression=e,t}function He(e,t,r){var n=u(224);return n.tryBlock=e,n.catchClause=t,n.finallyBlock=r,n}function C(e,t,r){var n=u(226);return n.name=I(e),n.type=t,n.initializer=void 0!==r?l.parenthesizeExpressionForList(r):void 0,n}function E(e,t){var r=u(227);return r.flags|=3&t,r.declarations=p(e),r}function Ge(e,t,r,n,i,a,s,o){var c=u(228);return c.decorators=P(e),c.modifiers=P(t),c.asteriskToken=r,c.name=I(n),c.typeParameters=P(i),c.parameters=p(a),c.type=s,c.body=o,c}function We(e,t,r,n,i,a){var s=u(229);return s.decorators=P(e),s.modifiers=P(t),s.name=I(r),s.typeParameters=P(n),s.heritageClauses=P(i),s.members=p(a),s}function Qe(e,t,r,n,i,a){var s=u(230);return s.decorators=P(e),s.modifiers=P(t),s.name=I(r),s.typeParameters=P(n),s.heritageClauses=P(i),s.members=p(a),s}function Ye(e,t,r,n,i){var a=u(231);return a.decorators=P(e),a.modifiers=P(t),a.name=I(r),a.typeParameters=P(n),a.type=i,a}function Xe(e,t,r,n){var i=u(232);return i.decorators=P(e),i.modifiers=P(t),i.name=I(r),i.members=p(n),i}function Ze(e,t,r,n,i){var a=u(233);return a.flags|=532&i,a.decorators=P(e),a.modifiers=P(t),a.name=r,a.body=n,a}function et(e){var t=u(234);return t.statements=p(e),t}function tt(e){var t=u(235);return t.clauses=p(e),t}function rt(e){var t=u(236);return t.name=I(e),t}function nt(e,t,r,n){var i=u(237);return i.decorators=P(e),i.modifiers=P(t),i.name=I(r),i.moduleReference=n,i}function it(e,t,r,n){var i=u(238);return i.decorators=P(e),i.modifiers=P(t),i.importClause=r,i.moduleSpecifier=n,i}function at(e,t){var r=u(239);return r.name=e,r.namedBindings=t,r}function st(e){var t=u(240);return t.name=e,t}function ot(e){var t=u(241);return t.elements=p(e),t}function ct(e,t){var r=u(242);return r.propertyName=e,r.name=t,r}function D(e,t,r,n){var i=u(243);return i.decorators=P(e),i.modifiers=P(t),i.isExportEquals=r,i.expression=n,i}function A(e,t,r,n){var i=u(244);return i.decorators=P(e),i.modifiers=P(t),i.exportClause=r,i.moduleSpecifier=n,i}function w(e){var t=u(245);return t.elements=p(e),t}function N(e,t){var r=u(246);return r.propertyName=I(e),r.name=I(t),r}function lt(e){var t=u(248);return t.expression=e,t}function ut(e,t,r){var n=u(249);return n.openingElement=e,n.children=p(t),n.closingElement=r,n}function dt(e,t){var r=u(250);return r.tagName=e,r.attributes=t,r}function pt(e,t){var r=u(251);return r.tagName=e,r.attributes=t,r}function ft(e){var t=u(252);return t.tagName=e,t}function _t(e,t){var r=u(253);return r.name=e,r.initializer=t,r}function mt(e){var t=u(254);return t.properties=p(e),t}function gt(e){var t=u(255);return t.expression=e,t}function ht(e,t){var r=u(256);return r.dotDotDotToken=e,r.expression=t,r}function yt(e,t){var r=u(257);return r.expression=l.parenthesizeExpressionForList(e),r.statements=p(t),r}function vt(e){var t=u(258);return t.statements=p(e),t}function bt(e,t){var r=u(259);return r.token=e,r.types=p(t),r}function xt(e,t){var r=u(260);return r.variableDeclaration=l.isString(e)?C(e):e,r.block=t,r}function kt(e,t){var r=u(261);return r.name=I(e),r.questionToken=void 0,r.initializer=void 0!==t?l.parenthesizeExpressionForList(t):void 0,r}function St(e,t){var r=u(262);return r.name=I(e),r.objectAssignmentInitializer=void 0!==t?l.parenthesizeExpressionForList(t):void 0,r}function Tt(e){var t=u(263);return t.expression=void 0!==e?l.parenthesizeExpressionForList(e):void 0,t}function Ct(e,t){var r=u(264);return r.name=I(e),r.initializer=t&&l.parenthesizeExpressionForList(t),r}function Et(e,t){var r=u(288);return r.expression=e,r.original=t,F(r,t),r}function Dt(e){if(l.nodeIsSynthesized(e)&&!l.isParseTreeNode(e)&&!e.original&&!e.emitNode&&!e.id){if(289===e.kind)return e.elements;if(l.isBinaryExpression(e)&&26===e.operatorToken.kind)return[e.left,e.right]}return e}function At(e){var t=u(289);return t.elements=p(l.sameFlatMap(e,Dt)),t}function wt(e){var t=l.createNode(266);return t.sourceFiles=e,t}function I(e){return l.isString(e)?s(e):e}function P(e){return e?p(e):void 0}function O(e){if(!e.emitNode){if(l.isParseTreeNode(e)){if(265===e.kind)return e.emitNode={annotatedNodes:[e]};O(l.getSourceFileOfNode(e)).annotatedNodes.push(e)}e.emitNode={}}return e.emitNode}function F(e,t){return t&&(e.pos=t.pos,e.end=t.end),e}function L(e,t){return O(e).flags=t,e}function Nt(e){e=e.emitNode;return e&&e.leadingComments}function It(e,t){return O(e).leadingComments=t,e}function Pt(e){e=e.emitNode;return e&&e.trailingComments}function Ot(e,t){return O(e).trailingComments=t,e}function R(e,t){return(e.original=t)&&(t=t.emitNode)&&(e.emitNode=((e,t)=>{var r=e.flags,n=e.leadingComments,i=e.trailingComments,a=e.commentRange,s=e.sourceMapRange,o=e.tokenSourceMapRanges,c=e.constantValue,e=e.helpers;return t=t||{},n&&(t.leadingComments=l.addRange(n.slice(),t.leadingComments)),i&&(t.trailingComments=l.addRange(i.slice(),t.trailingComments)),r&&(t.flags=r),a&&(t.commentRange=a),s&&(t.sourceMapRange=s),o&&(t.tokenSourceMapRanges=((e,t)=>{for(var r in t=t||[],e)t[r]=e[r];return t})(o,t.tokenSourceMapRanges)),void 0!==c&&(t.constantValue=c),e&&(t.helpers=l.addRange(t.helpers,e)),t})(t,e.emitNode)),e}l.createTempVariable=function(e){var t=s("");return t.autoGenerateKind=1,t.autoGenerateId=c,c++,e&&e(t),t},l.createLoopVariable=function(){var e=s("");return e.autoGenerateKind=2,e.autoGenerateId=c,c++,e},l.createUniqueName=function(e){return(e=s(e)).autoGenerateKind=3,e.autoGenerateId=c,c++,e},l.getGeneratedNameForNode=function(e){var t=s("");return t.autoGenerateKind=4,t.autoGenerateId=c,t.original=e,c++,t},l.createToken=f,l.createSuper=function(){return u(97)},l.createThis=function(){return u(99)},l.createNull=function(){return u(95)},l.createTrue=_,l.createFalse=M,l.createQualifiedName=U,l.updateQualifiedName=function(e,t,r){return e.left!==t||e.right!==r?d(U(t,r),e):e},l.createComputedPropertyName=B,l.updateComputedPropertyName=function(e,t){return e.expression!==t?d(B(t),e):e},l.createTypeParameterDeclaration=j,l.updateTypeParameterDeclaration=function(e,t,r,n){return e.name!==t||e.constraint!==r||e.default!==n?d(j(t,r,n),e):e},l.createParameter=K,l.updateParameter=function(e,t,r,n,i,a,s,o){return e.decorators!==t||e.modifiers!==r||e.dotDotDotToken!==n||e.name!==i||e.questionToken!==a||e.type!==s||e.initializer!==o?d(K(t,r,n,i,a,s,o),e):e},l.createDecorator=z,l.updateDecorator=function(e,t){return e.expression!==t?d(z(t),e):e},l.createPropertySignature=$,l.updatePropertySignature=function(e,t,r,n,i,a){return e.modifiers!==t||e.name!==r||e.questionToken!==n||e.type!==i||e.initializer!==a?d($(t,r,n,i,a),e):e},l.createProperty=J,l.updateProperty=function(e,t,r,n,i,a,s){return e.decorators!==t||e.modifiers!==r||e.name!==n||e.questionToken!==i||e.type!==a||e.initializer!==s?d(J(t,r,n,i,a,s),e):e},l.createMethodSignature=q,l.updateMethodSignature=function(e,t,r,n,i,a){return e.typeParameters!==t||e.parameters!==r||e.type!==n||e.name!==i||e.questionToken!==a?d(q(t,r,n,i,a),e):e},l.createMethod=V,l.updateMethod=function(e,t,r,n,i,a,s,o,c,l){return e.decorators!==t||e.modifiers!==r||e.asteriskToken!==n||e.name!==i||e.questionToken!==a||e.typeParameters!==s||e.parameters!==o||e.type!==c||e.body!==l?d(V(t,r,n,i,a,s,o,c,l),e):e},l.createConstructor=H,l.updateConstructor=function(e,t,r,n,i){return e.decorators!==t||e.modifiers!==r||e.parameters!==n||e.body!==i?d(H(t,r,n,i),e):e},l.createGetAccessor=G,l.updateGetAccessor=function(e,t,r,n,i,a,s){return e.decorators!==t||e.modifiers!==r||e.name!==n||e.parameters!==i||e.type!==a||e.body!==s?d(G(t,r,n,i,a,s),e):e},l.createSetAccessor=W,l.updateSetAccessor=function(e,t,r,n,i,a){return e.decorators!==t||e.modifiers!==r||e.name!==n||e.parameters!==i||e.body!==a?d(W(t,r,n,i,a),e):e},l.createCallSignature=function(e,t,r){return m(155,e,t,r)},l.updateCallSignature=e,l.createConstructSignature=function(e,t,r){return m(156,e,t,r)},l.updateConstructSignature=e,l.createIndexSignature=Q,l.updateIndexSignature=function(e,t,r,n,i){return e.parameters!==n||e.type!==i||e.decorators!==t||e.modifiers!==r?d(Q(t,r,n,i),e):e},l.createSignatureDeclaration=m,l.createKeywordTypeNode=u,l.createTypePredicateNode=Y,l.updateTypePredicateNode=function(e,t,r){return e.parameterName!==t||e.type!==r?d(Y(t,r),e):e},l.createTypeReferenceNode=X,l.updateTypeReferenceNode=function(e,t,r){return e.typeName!==t||e.typeArguments!==r?d(X(t,r),e):e},l.createFunctionTypeNode=function(e,t,r){return m(160,e,t,r)},l.updateFunctionTypeNode=e,l.createConstructorTypeNode=function(e,t,r){return m(161,e,t,r)},l.updateConstructorTypeNode=e,l.createTypeQueryNode=Z,l.updateTypeQueryNode=function(e,t){return e.exprName!==t?d(Z(t),e):e},l.createTypeLiteralNode=ee,l.updateTypeLiteralNode=function(e,t){return e.members!==t?d(ee(t),e):e},l.createArrayTypeNode=te,l.updateArrayTypeNode=function(e,t){return e.elementType!==t?d(te(t),e):e},l.createTupleTypeNode=re,l.updateTypleTypeNode=function(e,t){return e.elementTypes!==t?d(re(t),e):e},l.createUnionTypeNode=function(e){return g(166,e)},l.updateUnionTypeNode=t,l.createIntersectionTypeNode=function(e){return g(167,e)},l.updateIntersectionTypeNode=t,l.createUnionOrIntersectionTypeNode=g,l.createParenthesizedType=ne,l.updateParenthesizedType=function(e,t){return e.type!==t?d(ne(t),e):e},l.createThisTypeNode=function(){return u(169)},l.createTypeOperatorNode=ie,l.updateTypeOperatorNode=function(e,t){return e.type!==t?d(ie(t),e):e},l.createIndexedAccessTypeNode=ae,l.updateIndexedAccessTypeNode=function(e,t,r){return e.objectType!==t||e.indexType!==r?d(ae(t,r),e):e},l.createMappedTypeNode=se,l.updateMappedTypeNode=function(e,t,r,n,i){return e.readonlyToken!==t||e.typeParameter!==r||e.questionToken!==n||e.type!==i?d(se(t,r,n,i),e):e},l.createLiteralTypeNode=oe,l.updateLiteralTypeNode=function(e,t){return e.literal!==t?d(oe(t),e):e},l.createObjectBindingPattern=ce,l.updateObjectBindingPattern=function(e,t){return e.elements!==t?d(ce(t),e):e},l.createArrayBindingPattern=le,l.updateArrayBindingPattern=function(e,t){return e.elements!==t?d(le(t),e):e},l.createBindingElement=ue,l.updateBindingElement=function(e,t,r,n,i){return e.propertyName!==r||e.dotDotDotToken!==t||e.name!==n||e.initializer!==i?d(ue(t,r,n,i),e):e},l.createArrayLiteral=de,l.updateArrayLiteral=function(e,t){return e.elements!==t?d(de(t,e.multiLine),e):e},l.createObjectLiteral=pe,l.updateObjectLiteral=function(e,t){return e.properties!==t?d(pe(t,e.multiLine),e):e},l.createPropertyAccess=fe,l.updatePropertyAccess=function(e,t,r){return e.expression!==t||e.name!==r?d(L(fe(t,r),l.getEmitFlags(e)),e):e},l.createElementAccess=_e,l.updateElementAccess=function(e,t,r){return e.expression!==t||e.argumentExpression!==r?d(_e(t,r),e):e},l.createCall=h,l.updateCall=function(e,t,r,n){return e.expression!==t||e.typeArguments!==r||e.arguments!==n?d(h(t,r,n),e):e},l.createNew=me,l.updateNew=function(e,t,r,n){return e.expression!==t||e.typeArguments!==r||e.arguments!==n?d(me(t,r,n),e):e},l.createTaggedTemplate=ge,l.updateTaggedTemplate=function(e,t,r){return e.tag!==t||e.template!==r?d(ge(t,r),e):e},l.createTypeAssertion=he,l.updateTypeAssertion=function(e,t,r){return e.type!==t||e.expression!==r?d(he(t,r),e):e},l.createParen=ye,l.updateParen=function(e,t){return e.expression!==t?d(ye(t),e):e},l.createFunctionExpression=y,l.updateFunctionExpression=function(e,t,r,n,i,a,s,o){return e.name!==n||e.modifiers!==t||e.asteriskToken!==r||e.typeParameters!==i||e.parameters!==a||e.type!==s||e.body!==o?d(y(t,r,n,i,a,s,o),e):e},l.createArrowFunction=v,l.updateArrowFunction=function(e,t,r,n,i,a,s){var o,a=void 0===s?(o=e.equalsGreaterThanToken,l.cast(a,l.isConciseBody)):(o=l.cast(a,function(e){return 36===e.kind}),s);return e.modifiers!==t||e.typeParameters!==r||e.parameters!==n||e.type!==i||e.equalsGreaterThanToken!==o||e.body!==a?d(v(t,r,n,i,o,a),e):e},l.createDelete=ve,l.updateDelete=function(e,t){return e.expression!==t?d(ve(t),e):e},l.createTypeOf=be,l.updateTypeOf=function(e,t){return e.expression!==t?d(be(t),e):e},l.createVoid=b,l.updateVoid=function(e,t){return e.expression!==t?d(b(t),e):e},l.createAwait=xe,l.updateAwait=function(e,t){return e.expression!==t?d(xe(t),e):e},l.createPrefix=x,l.updatePrefix=function(e,t){return e.operand!==t?d(x(e.operator,t),e):e},l.createPostfix=k,l.updatePostfix=function(e,t){return e.operand!==t?d(k(t,e.operator),e):e},l.createBinary=S,l.updateBinary=function(e,t,r,n){return e.left!==t||e.right!==r?d(S(t,n||e.operatorToken,r),e):e},l.createConditional=ke,l.updateConditional=function e(t,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(2===n.length)return e(t,r,t.questionToken,n[0],t.colonToken,n[1]);l.Debug.assert(4===n.length);var a=n[0],s=n[1],o=n[2],c=n[3];return t.condition!==r||t.questionToken!==a||t.whenTrue!==s||t.colonToken!==o||t.whenFalse!==c?d(ke(r,a,s,o,c),t):t},l.createTemplateExpression=Se,l.updateTemplateExpression=function(e,t,r){return e.head!==t||e.templateSpans!==r?d(Se(t,r),e):e},l.createTemplateHead=function(e){var t=u(14);return t.text=e,t},l.createTemplateMiddle=function(e){var t=u(15);return t.text=e,t},l.createTemplateTail=function(e){var t=u(16);return t.text=e,t},l.createNoSubstitutionTemplateLiteral=function(e){var t=u(13);return t.text=e,t},l.createYield=Te,l.updateYield=function(e,t,r){return e.expression!==r||e.asteriskToken!==t?d(Te(t,r),e):e},l.createSpread=Ce,l.updateSpread=function(e,t){return e.expression!==t?d(Ce(t),e):e},l.createClassExpression=Ee,l.updateClassExpression=function(e,t,r,n,i,a){return e.modifiers!==t||e.name!==r||e.typeParameters!==n||e.heritageClauses!==i||e.members!==a?d(Ee(t,r,n,i,a),e):e},l.createOmittedExpression=function(){return u(200)},l.createExpressionWithTypeArguments=De,l.updateExpressionWithTypeArguments=function(e,t,r){return e.typeArguments!==t||e.expression!==r?d(De(t,r),e):e},l.createAsExpression=Ae,l.updateAsExpression=function(e,t,r){return e.expression!==t||e.type!==r?d(Ae(t,r),e):e},l.createNonNullExpression=we,l.updateNonNullExpression=function(e,t){return e.expression!==t?d(we(t),e):e},l.createMetaProperty=Ne,l.updateMetaProperty=function(e,t){return e.name!==t?d(Ne(e.keywordToken,t),e):e},l.createTemplateSpan=Ie,l.updateTemplateSpan=function(e,t,r){return e.expression!==t||e.literal!==r?d(Ie(t,r),e):e},l.createSemicolonClassElement=function(){return u(206)},l.createBlock=T,l.updateBlock=function(e,t){return e.statements!==t?d(T(t,e.multiLine),e):e},l.createVariableStatement=Pe,l.updateVariableStatement=function(e,t,r){return e.modifiers!==t||e.declarationList!==r?d(Pe(t,r),e):e},l.createEmptyStatement=function(){return u(209)},l.createStatement=Oe,l.updateStatement=function(e,t){return e.expression!==t?d(Oe(t),e):e},l.createIf=Fe,l.updateIf=function(e,t,r,n){return e.expression!==t||e.thenStatement!==r||e.elseStatement!==n?d(Fe(t,r,n),e):e},l.createDo=Le,l.updateDo=function(e,t,r){return e.statement!==t||e.expression!==r?d(Le(t,r),e):e},l.createWhile=Re,l.updateWhile=function(e,t,r){return e.expression!==t||e.statement!==r?d(Re(t,r),e):e},l.createFor=Me,l.updateFor=function(e,t,r,n,i){return e.initializer!==t||e.condition!==r||e.incrementor!==n||e.statement!==i?d(Me(t,r,n,i),e):e},l.createForIn=Ue,l.updateForIn=function(e,t,r,n){return e.initializer!==t||e.expression!==r||e.statement!==n?d(Ue(t,r,n),e):e},l.createForOf=Be,l.updateForOf=function(e,t,r,n,i){return e.awaitModifier!==t||e.initializer!==r||e.expression!==n||e.statement!==i?d(Be(t,r,n,i),e):e},l.createContinue=je,l.updateContinue=function(e,t){return e.label!==t?d(je(t),e):e},l.createBreak=Ke,l.updateBreak=function(e,t){return e.label!==t?d(Ke(t),e):e},l.createReturn=ze,l.updateReturn=function(e,t){return e.expression!==t?d(ze(t),e):e},l.createWith=$e,l.updateWith=function(e,t,r){return e.expression!==t||e.statement!==r?d($e(t,r),e):e},l.createSwitch=Je,l.updateSwitch=function(e,t,r){return e.expression!==t||e.caseBlock!==r?d(Je(t,r),e):e},l.createLabel=qe,l.updateLabel=function(e,t,r){return e.label!==t||e.statement!==r?d(qe(t,r),e):e},l.createThrow=Ve,l.updateThrow=function(e,t){return e.expression!==t?d(Ve(t),e):e},l.createTry=He,l.updateTry=function(e,t,r,n){return e.tryBlock!==t||e.catchClause!==r||e.finallyBlock!==n?d(He(t,r,n),e):e},l.createDebuggerStatement=function(){return u(225)},l.createVariableDeclaration=C,l.updateVariableDeclaration=function(e,t,r,n){return e.name!==t||e.type!==r||e.initializer!==n?d(C(t,r,n),e):e},l.createVariableDeclarationList=E,l.updateVariableDeclarationList=function(e,t){return e.declarations!==t?d(E(t,e.flags),e):e},l.createFunctionDeclaration=Ge,l.updateFunctionDeclaration=function(e,t,r,n,i,a,s,o,c){return e.decorators!==t||e.modifiers!==r||e.asteriskToken!==n||e.name!==i||e.typeParameters!==a||e.parameters!==s||e.type!==o||e.body!==c?d(Ge(t,r,n,i,a,s,o,c),e):e},l.createClassDeclaration=We,l.updateClassDeclaration=function(e,t,r,n,i,a,s){return e.decorators!==t||e.modifiers!==r||e.name!==n||e.typeParameters!==i||e.heritageClauses!==a||e.members!==s?d(We(t,r,n,i,a,s),e):e},l.createInterfaceDeclaration=Qe,l.updateInterfaceDeclaration=function(e,t,r,n,i,a,s){return e.decorators!==t||e.modifiers!==r||e.name!==n||e.typeParameters!==i||e.heritageClauses!==a||e.members!==s?d(Qe(t,r,n,i,a,s),e):e},l.createTypeAliasDeclaration=Ye,l.updateTypeAliasDeclaration=function(e,t,r,n,i,a){return e.decorators!==t||e.modifiers!==r||e.name!==n||e.typeParameters!==i||e.type!==a?d(Ye(t,r,n,i,a),e):e},l.createEnumDeclaration=Xe,l.updateEnumDeclaration=function(e,t,r,n,i){return e.decorators!==t||e.modifiers!==r||e.name!==n||e.members!==i?d(Xe(t,r,n,i),e):e},l.createModuleDeclaration=Ze,l.updateModuleDeclaration=function(e,t,r,n,i){return e.decorators!==t||e.modifiers!==r||e.name!==n||e.body!==i?d(Ze(t,r,n,i,e.flags),e):e},l.createModuleBlock=et,l.updateModuleBlock=function(e,t){return e.statements!==t?d(et(t),e):e},l.createCaseBlock=tt,l.updateCaseBlock=function(e,t){return e.clauses!==t?d(tt(t),e):e},l.createNamespaceExportDeclaration=rt,l.updateNamespaceExportDeclaration=function(e,t){return e.name!==t?d(rt(t),e):e},l.createImportEqualsDeclaration=nt,l.updateImportEqualsDeclaration=function(e,t,r,n,i){return e.decorators!==t||e.modifiers!==r||e.name!==n||e.moduleReference!==i?d(nt(t,r,n,i),e):e},l.createImportDeclaration=it,l.updateImportDeclaration=function(e,t,r,n,i){return e.decorators!==t||e.modifiers!==r||e.importClause!==n||e.moduleSpecifier!==i?d(it(t,r,n,i),e):e},l.createImportClause=at,l.updateImportClause=function(e,t,r){return e.name!==t||e.namedBindings!==r?d(at(t,r),e):e},l.createNamespaceImport=st,l.updateNamespaceImport=function(e,t){return e.name!==t?d(st(t),e):e},l.createNamedImports=ot,l.updateNamedImports=function(e,t){return e.elements!==t?d(ot(t),e):e},l.createImportSpecifier=ct,l.updateImportSpecifier=function(e,t,r){return e.propertyName!==t||e.name!==r?d(ct(t,r),e):e},l.createExportAssignment=D,l.updateExportAssignment=function(e,t,r,n){return e.decorators!==t||e.modifiers!==r||e.expression!==n?d(D(t,r,e.isExportEquals,n),e):e},l.createExportDeclaration=A,l.updateExportDeclaration=function(e,t,r,n,i){return e.decorators!==t||e.modifiers!==r||e.exportClause!==n||e.moduleSpecifier!==i?d(A(t,r,n,i),e):e},l.createNamedExports=w,l.updateNamedExports=function(e,t){return e.elements!==t?d(w(t),e):e},l.createExportSpecifier=N,l.updateExportSpecifier=function(e,t,r){return e.propertyName!==t||e.name!==r?d(N(t,r),e):e},l.createExternalModuleReference=lt,l.updateExternalModuleReference=function(e,t){return e.expression!==t?d(lt(t),e):e},l.createJsxElement=ut,l.updateJsxElement=function(e,t,r,n){return e.openingElement!==t||e.children!==r||e.closingElement!==n?d(ut(t,r,n),e):e},l.createJsxSelfClosingElement=dt,l.updateJsxSelfClosingElement=function(e,t,r){return e.tagName!==t||e.attributes!==r?d(dt(t,r),e):e},l.createJsxOpeningElement=pt,l.updateJsxOpeningElement=function(e,t,r){return e.tagName!==t||e.attributes!==r?d(pt(t,r),e):e},l.createJsxClosingElement=ft,l.updateJsxClosingElement=function(e,t){return e.tagName!==t?d(ft(t),e):e},l.createJsxAttribute=_t,l.updateJsxAttribute=function(e,t,r){return e.name!==t||e.initializer!==r?d(_t(t,r),e):e},l.createJsxAttributes=mt,l.updateJsxAttributes=function(e,t){return e.properties!==t?d(mt(t),e):e},l.createJsxSpreadAttribute=gt,l.updateJsxSpreadAttribute=function(e,t){return e.expression!==t?d(gt(t),e):e},l.createJsxExpression=ht,l.updateJsxExpression=function(e,t){return e.expression!==t?d(ht(e.dotDotDotToken,t),e):e},l.createCaseClause=yt,l.updateCaseClause=function(e,t,r){return e.expression!==t||e.statements!==r?d(yt(t,r),e):e},l.createDefaultClause=vt,l.updateDefaultClause=function(e,t){return e.statements!==t?d(vt(t),e):e},l.createHeritageClause=bt,l.updateHeritageClause=function(e,t){return e.types!==t?d(bt(e.token,t),e):e},l.createCatchClause=xt,l.updateCatchClause=function(e,t,r){return e.variableDeclaration!==t||e.block!==r?d(xt(t,r),e):e},l.createPropertyAssignment=kt,l.updatePropertyAssignment=function(e,t,r){return e.name!==t||e.initializer!==r?d(kt(t,r),e):e},l.createShorthandPropertyAssignment=St,l.updateShorthandPropertyAssignment=function(e,t,r){return e.name!==t||e.objectAssignmentInitializer!==r?d(St(t,r),e):e},l.createSpreadAssignment=Tt,l.updateSpreadAssignment=function(e,t){return e.expression!==t?d(Tt(t),e):e},l.createEnumMember=Ct,l.updateEnumMember=function(e,t,r){return e.name!==t||e.initializer!==r?d(Ct(t,r),e):e},l.updateSourceFileNode=function(e,t){var r;return e.statements!==t?((r=u(265)).flags|=e.flags,r.statements=p(t),r.endOfFileToken=e.endOfFileToken,r.fileName=e.fileName,r.path=e.path,r.text=e.text,void 0!==e.amdDependencies&&(r.amdDependencies=e.amdDependencies),void 0!==e.moduleName&&(r.moduleName=e.moduleName),void 0!==e.referencedFiles&&(r.referencedFiles=e.referencedFiles),void 0!==e.typeReferenceDirectives&&(r.typeReferenceDirectives=e.typeReferenceDirectives),void 0!==e.languageVariant&&(r.languageVariant=e.languageVariant),void 0!==e.isDeclarationFile&&(r.isDeclarationFile=e.isDeclarationFile),void 0!==e.renamedDependencies&&(r.renamedDependencies=e.renamedDependencies),void 0!==e.hasNoDefaultLib&&(r.hasNoDefaultLib=e.hasNoDefaultLib),void 0!==e.languageVersion&&(r.languageVersion=e.languageVersion),void 0!==e.scriptKind&&(r.scriptKind=e.scriptKind),void 0!==e.externalModuleIndicator&&(r.externalModuleIndicator=e.externalModuleIndicator),void 0!==e.commonJsModuleIndicator&&(r.commonJsModuleIndicator=e.commonJsModuleIndicator),void 0!==e.identifiers&&(r.identifiers=e.identifiers),void 0!==e.nodeCount&&(r.nodeCount=e.nodeCount),void 0!==e.identifierCount&&(r.identifierCount=e.identifierCount),void 0!==e.symbolCount&&(r.symbolCount=e.symbolCount),void 0!==e.parseDiagnostics&&(r.parseDiagnostics=e.parseDiagnostics),void 0!==e.bindDiagnostics&&(r.bindDiagnostics=e.bindDiagnostics),void 0!==e.lineMap&&(r.lineMap=e.lineMap),void 0!==e.classifiableNames&&(r.classifiableNames=e.classifiableNames),void 0!==e.resolvedModules&&(r.resolvedModules=e.resolvedModules),void 0!==e.resolvedTypeReferenceDirectiveNames&&(r.resolvedTypeReferenceDirectiveNames=e.resolvedTypeReferenceDirectiveNames),void 0!==e.imports&&(r.imports=e.imports),void 0!==e.moduleAugmentations&&(r.moduleAugmentations=e.moduleAugmentations),d(r,e)):e},l.getMutableClone=function(e){var t=r(e);return t.pos=e.pos,t.end=e.end,t.parent=e.parent,t},l.createNotEmittedStatement=function(e){var t=u(287);return t.original=e,F(t,e),t},l.createEndOfDeclarationMarker=function(e){var t=u(291);return t.emitNode={},t.original=e,t},l.createMergeDeclarationMarker=function(e){var t=u(290);return t.emitNode={},t.original=e,t},l.createPartiallyEmittedExpression=Et,l.updatePartiallyEmittedExpression=function(e,t){return e.expression!==t?d(Et(t,e.original),e):e},l.createCommaList=At,l.updateCommaList=function(e,t){return e.elements!==t?d(At(t),e):e},l.createBundle=wt,l.updateBundle=function(e,t){return e.sourceFiles!==t?wt(t):e},l.createImmediatelyInvokedFunctionExpression=function(e,t,r){return h(y(void 0,void 0,void 0,void 0,t?[t]:[],void 0,T(e,!0)),void 0,r?[r]:[])},l.createImmediatelyInvokedArrowFunction=function(e,t,r){return h(v(void 0,void 0,t?[t]:[],void 0,void 0,T(e,!0)),void 0,r?[r]:[])},l.createComma=function(e,t){return S(e,26,t)},l.createLessThan=function(e,t){return S(e,27,t)},l.createAssignment=function(e,t){return S(e,58,t)},l.createStrictEquality=function(e,t){return S(e,34,t)},l.createStrictInequality=function(e,t){return S(e,35,t)},l.createAdd=function(e,t){return S(e,37,t)},l.createSubtract=function(e,t){return S(e,38,t)},l.createPostfixIncrement=function(e){return k(e,43)},l.createLogicalAnd=function(e,t){return S(e,53,t)},l.createLogicalOr=function(e,t){return S(e,54,t)},l.createLogicalNot=function(e){return x(51,e)},l.createVoidZero=function(){return b(n(0))},l.createExportDefault=function(e){return D(void 0,void 0,!1,e)},l.createExternalModuleExport=function(e){return A(void 0,void 0,w([N(void 0,e)]))},l.disposeEmitNodes=function(e){if(e=(e=(e=l.getSourceFileOfNode(l.getParseTreeNode(e)))&&e.emitNode)&&e.annotatedNodes)for(var t=0,r=e;t<r.length;t++)r[t].emitNode=void 0},l.getOrCreateEmitNode=O,l.setTextRange=F,l.setEmitFlags=L,l.addEmitFlags=function(e,t){var r=O(e);return r.flags=r.flags|t,e},l.getSourceMapRange=function(e){var t=e.emitNode;return t&&t.sourceMapRange||e},l.setSourceMapRange=function(e,t){return O(e).sourceMapRange=t,e},l.createSourceMapSource=function(e,t,r){return new(o=o||l.objectAllocator.getSourceMapSourceConstructor())(e,t,r)},l.getTokenSourceMapRange=function(e,t){return(e=(e=e.emitNode)&&e.tokenSourceMapRanges)&&e[t]},l.setTokenSourceMapRange=function(e,t,r){var n=O(e);return(n.tokenSourceMapRanges||(n.tokenSourceMapRanges=[]))[t]=r,e},l.getCommentRange=function(e){var t=e.emitNode;return t&&t.commentRange||e},l.setCommentRange=function(e,t){return O(e).commentRange=t,e},l.getSyntheticLeadingComments=Nt,l.setSyntheticLeadingComments=It,l.addSyntheticLeadingComment=function(e,t,r,n){return It(e,l.append(Nt(e),{kind:t,pos:-1,end:-1,hasTrailingNewLine:n,text:r}))},l.getSyntheticTrailingComments=Pt,l.setSyntheticTrailingComments=Ot,l.addSyntheticTrailingComment=function(e,t,r,n){return Ot(e,l.append(Pt(e),{kind:t,pos:-1,end:-1,hasTrailingNewLine:n,text:r}))},l.getConstantValue=function(e){return(e=e.emitNode)&&e.constantValue},l.setConstantValue=function(e,t){return O(e).constantValue=t,e},l.addEmitHelper=function(e,t){var r=O(e);return r.helpers=l.append(r.helpers,t),e},l.addEmitHelpers=function(e,t){if(l.some(t))for(var r=O(e),n=0,i=t;n<i.length;n++){var a=i[n];r.helpers=l.appendIfUnique(r.helpers,a)}return e},l.removeEmitHelper=function(e,t){if(e=e.emitNode){e=e.helpers;if(e)return l.orderedRemoveItem(e,t)}return!1},l.getEmitHelpers=function(e){return(e=e.emitNode)&&e.helpers},l.moveEmitHelpers=function(e,t,r){var n=(e=e.emitNode)&&e.helpers;if(l.some(n)){for(var i=O(t),a=0,s=0;s<n.length;s++){var o=n[s];r(o)?(a++,i.helpers=l.appendIfUnique(i.helpers,o)):0<a&&(n[s-a]=o)}0<a&&(n.length-=a)}},l.compareEmitHelpers=function(e,t){return e===t||e.priority===t.priority?0:void 0===e.priority?1:void 0===t.priority?-1:l.compareValues(e.priority,t.priority)},l.setOriginalNode=R})(ts=ts||{}),(d=>{function p(e,t,r){return d.isComputedPropertyName(t)?d.setTextRange(d.createElementAccess(e,t.expression),r):(r=d.setTextRange(d.isIdentifier(t)?d.createPropertyAccess(e,t):d.createElementAccess(e,t),t),d.getOrCreateEmitNode(r).flags|=64,r)}function a(e,t){e=d.createIdentifier(e||"React");return e.flags&=-9,e.parent=d.getParseTreeNode(t),e}function f(e,t,r){return e?function e(t,r){var n,i;return d.isQualifiedName(t)?(n=e(t.left,r),(i=d.createIdentifier(d.idText(t.right))).escapedText=t.right.escapedText,d.createPropertyAccess(n,i)):a(d.idText(t),r)}(e,r):d.createPropertyAccess(a(t,r),"createElement")}function i(e){return d.setEmitFlags(d.createIdentifier(e),4098)}d.nullTransformationContext={enableEmitNotification:d.noop,enableSubstitution:d.noop,endLexicalEnvironment:function(){},getCompilerOptions:d.notImplemented,getEmitHost:d.notImplemented,getEmitResolver:d.notImplemented,hoistFunctionDeclaration:d.noop,hoistVariableDeclaration:d.noop,isEmitNotificationEnabled:d.notImplemented,isSubstitutionEnabled:d.notImplemented,onEmitNode:d.noop,onSubstituteNode:d.notImplemented,readEmitHelpers:d.notImplemented,requestEmitHelper:d.noop,resumeLexicalEnvironment:d.noop,startLexicalEnvironment:d.noop,suspendLexicalEnvironment:d.noop},d.createTypeCheck=function(e,t){return"undefined"===t?d.createStrictEquality(e,d.createVoidZero()):d.createStrictEquality(d.createTypeOf(e),d.createLiteral(t))},d.createMemberAccessForPropertyName=p,d.createFunctionCall=function(e,t,r,n){return d.setTextRange(d.createCall(d.createPropertyAccess(e,"call"),void 0,[t].concat(r)),n)},d.createFunctionApply=function(e,t,r,n){return d.setTextRange(d.createCall(d.createPropertyAccess(e,"apply"),void 0,[t,r]),n)},d.createArraySlice=function(e,t){var r=[];return void 0!==t&&r.push("number"==typeof t?d.createLiteral(t):t),d.createCall(d.createPropertyAccess(e,"slice"),void 0,r)},d.createArrayConcat=function(e,t){return d.createCall(d.createPropertyAccess(e,"concat"),void 0,t)},d.createMathPow=function(e,t,r){return d.setTextRange(d.createCall(d.createPropertyAccess(d.createIdentifier("Math"),"pow"),void 0,[e,t]),r)},d.createExpressionForJsxElement=function(e,t,r,n,i,a,s){var o=[r];if(n&&o.push(n),i&&0<i.length)if(n||o.push(d.createNull()),1<i.length)for(var c=0,l=i;c<l.length;c++){var u=l[c];u.startsOnNewLine=!0,o.push(u)}else o.push(i[0]);return d.setTextRange(d.createCall(f(e,t,a),void 0,o),s)},d.getHelperName=i;var e,n={name:"typescript:values",scoped:!1,text:'\n            var __values = (this && this.__values) || function (o) {\n                var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;\n                if (m) return m.call(o);\n                return {\n                    next: function () {\n                        if (o && i >= o.length) o = void 0;\n                        return { value: o && o[i++], done: !o };\n                    }\n                };\n            };\n        '},s={name:"typescript:read",scoped:!(d.createValuesHelper=function(e,t,r){return e.requestEmitHelper(n),d.setTextRange(d.createCall(i("__values"),void 0,[t]),r)}),text:'\n            var __read = (this && this.__read) || function (o, n) {\n                var m = typeof Symbol === "function" && o[Symbol.iterator];\n                if (!m) return o;\n                var i = m.call(o), r, ar = [], e;\n                try {\n                    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n                }\n                catch (error) { e = { error: error }; }\n                finally {\n                    try {\n                        if (r && !r.done && (m = i["return"])) m.call(i);\n                    }\n                    finally { if (e) throw e.error; }\n                }\n                return ar;\n            };\n        '},R={name:"typescript:spread",scoped:!(d.createReadHelper=function(e,t,r,n){return e.requestEmitHelper(s),d.setTextRange(d.createCall(i("__read"),void 0,void 0!==r?[t,d.createLiteral(r)]:[t]),n)}),text:"\n            var __spread = (this && this.__spread) || function () {\n                for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n                return ar;\n            };"};function o(e,t){var r=T(e);switch(r.kind){case 71:return t;case 99:case 8:case 9:return;case 177:return 0===r.elements.length?void 0:1;case 178:return 0<r.properties.length;default:return 1}}function _(e){return d.isIdentifier(e)?d.createLiteral(e):d.isComputedPropertyName(e)?d.getMutableClone(e.expression):d.getMutableClone(e)}function c(e,t,r){return l(e,t,r,8192)}function l(e,t,r,n){var i,a=d.getNameOfDeclaration(e);return a&&d.isIdentifier(a)&&!d.isGeneratedIdentifier(a)?(i=d.getMutableClone(a),n|=d.getEmitFlags(a),r||(n|=48),t||(n|=1536),n&&d.setEmitFlags(i,n),i):d.getGeneratedNameForNode(e)}function u(e,t,r,n){var i,e=d.createPropertyAccess(e,d.nodeIsSynthesized(t)?t:d.getSynthesizedClone(t));return d.setTextRange(e,t),n||(i|=48),r||(i|=1536),i&&d.setEmitFlags(e,i),e}function m(e){return d.isStringLiteral(e.expression)&&"use strict"===e.expression.text}function g(e,t,r){d.Debug.assert(0===e.length,"Prologue directives should be at the first statement in the target statements array");for(var n=!1,i=0,a=t.length;i<a;){var s=t[i];if(!d.isPrologueDirective(s))break;m(s)&&(n=!0),e.push(s),i++}return r&&!n&&e.push(D(d.createStatement(d.createLiteral("use strict")))),i}function h(e,t,r,n){for(var i=t.length;r<i;){var a=t[r];if(!(1048576&d.getEmitFlags(a)))break;e.push(n?d.visitNode(a,n,d.isStatement):a),r++}return r}function y(e){var t;return e=d.skipPartiallyEmittedExpressions(e),d.isLiteralKind(e.kind)?e.kind:194===e.kind&&37===e.operatorToken.kind?void 0!==e.cachedLiteralKind?e.cachedLiteralKind:(t=y(e.left),t=d.isLiteralKind(t)&&t===y(e.right)?t:0,e.cachedLiteralKind=t):0}function v(e){var t=d.skipPartiallyEmittedExpressions(e);return d.isLeftHandSideExpression(t)&&(182!==t.kind||t.arguments)?e:d.setTextRange(d.createParen(e),e)}function b(e){var t=d.skipPartiallyEmittedExpressions(e),t=d.getExpressionPrecedence(t);return d.getOperatorPrecedence(194,26)<t?e:d.setTextRange(d.createParen(e),e)}function t(e){switch(e.kind){case 166:case 167:case 160:case 161:return d.createParenthesizedType(e)}return e}function x(e,t){for(;;){switch(e.kind){case 193:e=e.operand;continue;case 194:e=e.left;continue;case 195:e=e.condition;continue;case 181:if(t)return e;case 180:case 179:case 288:e=e.expression;continue}return e}}function k(e,t){switch(void 0===t&&(t=7),e.kind){case 185:return 0!=(1&t);case 184:case 202:case 203:return 0!=(2&t);case 288:return 0!=(4&t)}return!1}function S(e,t){var r;for(void 0===t&&(t=7);r=e,1&t&&(e=T(e)),2&t&&(e=C(e)),r!==(e=4&t?d.skipPartiallyEmittedExpressions(e):e););return e}function T(e){for(;185===e.kind;)e=e.expression;return e}function C(e){for(;d.isAssertionExpression(e)||203===e.kind;)e=e.expression;return e}function E(e,t,r){if(void 0===r&&(r=7),!e||!k(e,r)||185===(r=e).kind&&d.nodeIsSynthesized(r)&&d.nodeIsSynthesized(d.getSourceMapRange(r))&&d.nodeIsSynthesized(d.getCommentRange(r))&&!d.some(d.getSyntheticLeadingComments(r))&&!d.some(d.getSyntheticTrailingComments(r)))return t;var n=e,i=E(e.expression,t);switch(n.kind){case 185:return d.updateParen(n,i);case 184:return d.updateTypeAssertion(n,n.type,i);case 202:return d.updateAsExpression(n,i,n.type);case 203:return d.updateNonNullExpression(n,i);case 288:return d.updatePartiallyEmittedExpression(n,i)}}function D(e){return e.startsOnNewLine=!0,e}function A(e){e=d.getOriginalNode(e,d.isSourceFile),e=e&&e.emitNode;return e&&e.externalHelpersModuleName}function w(e,t,r){if(e)return e.moduleName?d.createLiteral(e.moduleName):e.isDeclarationFile||!r.out&&!r.outFile?void 0:d.createLiteral(d.getExternalModuleNameFromPath(t,e.fileName))}function N(e){if(d.isDeclarationBindingElement(e))return e.name;if(!d.isObjectLiteralElementLike(e))return d.isAssignmentExpression(e,!0)?N(e.left):d.isSpreadElement(e)?N(e.expression):e;switch(e.kind){case 261:return N(e.initializer);case 262:return e.name;case 263:return N(e.expression)}}function r(e){var t;return d.isBindingElement(e)?e.dotDotDotToken?(d.Debug.assertNode(e.name,d.isIdentifier),d.setOriginalNode(d.setTextRange(d.createSpread(e.name),e),e)):(t=L(e.name),e.initializer?d.setOriginalNode(d.setTextRange(d.createAssignment(t,e.initializer),e),e):t):(d.Debug.assertNode(e,d.isExpression),e)}function I(e){var t;return d.isBindingElement(e)?e.dotDotDotToken?(d.Debug.assertNode(e.name,d.isIdentifier),d.setOriginalNode(d.setTextRange(d.createSpreadAssignment(e.name),e),e)):e.propertyName?(t=L(e.name),d.setOriginalNode(d.setTextRange(d.createPropertyAssignment(e.propertyName,e.initializer?d.createAssignment(t,e.initializer):t),e),e)):(d.Debug.assertNode(e.name,d.isIdentifier),d.setOriginalNode(d.setTextRange(d.createShorthandPropertyAssignment(e.name,e.initializer),e),e)):(d.Debug.assertNode(e,d.isObjectLiteralElementLike),e)}function P(e){switch(e.kind){case 175:case 177:return F(e);case 174:case 178:return O(e)}}function O(e){return d.isObjectBindingPattern(e)?d.setOriginalNode(d.setTextRange(d.createObjectLiteral(d.map(e.elements,I)),e),e):(d.Debug.assertNode(e,d.isObjectLiteralExpression),e)}function F(e){return d.isArrayBindingPattern(e)?d.setOriginalNode(d.setTextRange(d.createArrayLiteral(d.map(e.elements,r)),e),e):(d.Debug.assertNode(e,d.isArrayLiteralExpression),e)}function L(e){return d.isBindingPattern(e)?P(e):(d.Debug.assertNode(e,d.isExpression),e)}d.createSpreadHelper=function(e,t,r){return e.requestEmitHelper(s),e.requestEmitHelper(R),d.setTextRange(d.createCall(i("__spread"),void 0,t),r)},d.createForOfBindingStatement=function(e,t){var r;return d.isVariableDeclarationList(e)?(r=d.firstOrUndefined(e.declarations),r=d.updateVariableDeclaration(r,r.name,void 0,t),d.setTextRange(d.createVariableStatement(void 0,d.updateVariableDeclarationList(e,[r])),e)):(r=d.setTextRange(d.createAssignment(e,t),e),d.setTextRange(d.createStatement(r),e))},d.insertLeadingStatement=function(e,t){return d.isBlock(e)?d.updateBlock(e,d.setTextRange(d.createNodeArray([t].concat(e.statements)),e.statements)):d.createBlock(d.createNodeArray([e,t]),!0)},d.restoreEnclosingLabel=function e(t,r,n){var i;return r?(i=d.updateLabel(r,r.label,222===r.statement.kind?e(t,r.statement):t),n&&n(r),i):t},d.createCallBinding=function(e,t,r,n){var i,a,s=S(e,7);if(d.isSuperProperty(s))i=d.createThis(),a=s;else if(97===s.kind)i=d.createThis(),a=r<2?d.setTextRange(d.createIdentifier("_super"),s):s;else if(4096&d.getEmitFlags(s))i=d.createVoidZero(),a=v(s);else switch(s.kind){case 179:o(s.expression,n)?(i=d.createTempVariable(t),a=d.createPropertyAccess(d.setTextRange(d.createAssignment(i,s.expression),s.expression),s.name),d.setTextRange(a,s)):(i=s.expression,a=s);break;case 180:o(s.expression,n)?(i=d.createTempVariable(t),a=d.createElementAccess(d.setTextRange(d.createAssignment(i,s.expression),s.expression),s.argumentExpression),d.setTextRange(a,s)):(i=s.expression,a=s);break;default:i=d.createVoidZero(),a=v(e)}return{target:a,thisArg:i}},d.inlineExpressions=function(e){return 10<e.length?d.createCommaList(e):d.reduceLeft(e,d.createComma)},d.createExpressionFromEntityName=function e(t){var r,n;return d.isQualifiedName(t)?(r=e(t.left),n=d.getMutableClone(t.right),d.setTextRange(d.createPropertyAccess(r,n),t)):d.getMutableClone(t)},d.createExpressionForPropertyName=_,d.createExpressionForObjectLiteralElementLike=function(e,t,r){switch(t.kind){case 153:case 154:var n,i=e.properties,a=t,s=r,o=e.multiLine,c=(i=d.getAllAccessorDeclarations(i,a)).firstAccessor,l=i.getAccessor,i=i.setAccessor;return a===c?(n=[],l&&(u=d.createFunctionExpression(l.modifiers,void 0,void 0,void 0,l.parameters,void 0,l.body),d.setTextRange(u,l),d.setOriginalNode(u,l),l=d.createPropertyAssignment("get",u),n.push(l)),i&&(u=d.createFunctionExpression(i.modifiers,void 0,void 0,void 0,i.parameters,void 0,i.body),d.setTextRange(u,i),d.setOriginalNode(u,i),l=d.createPropertyAssignment("set",u),n.push(l)),n.push(d.createPropertyAssignment("enumerable",d.createTrue())),n.push(d.createPropertyAssignment("configurable",d.createTrue())),i=d.setTextRange(d.createCall(d.createPropertyAccess(d.createIdentifier("Object"),"defineProperty"),void 0,[s,_(a.name),d.createObjectLiteral(n,o)]),c),d.aggregateTransformFlags(i)):void 0;case 261:return u=t,d.aggregateTransformFlags(d.setOriginalNode(d.setTextRange(d.createAssignment(p(r,u.name,u.name),u.initializer),u),u));case 262:return l=t,d.aggregateTransformFlags(d.setOriginalNode(d.setTextRange(d.createAssignment(p(r,l.name,l.name),d.getSynthesizedClone(l.name)),l),l));case 151:return s=t,d.aggregateTransformFlags(d.setOriginalNode(d.setTextRange(d.createAssignment(p(r,s.name,s.name),d.setOriginalNode(d.setTextRange(d.createFunctionExpression(s.modifiers,s.asteriskToken,void 0,void 0,s.parameters,void 0,s.body),s),s)),s),s))}var u},d.getInternalName=function(e,t,r){return l(e,t,r,49152)},d.isInternalName=function(e){return 0!=(32768&d.getEmitFlags(e))},d.getLocalName=function(e,t,r){return l(e,t,r,16384)},d.isLocalName=function(e){return 0!=(16384&d.getEmitFlags(e))},d.getExportName=c,d.isExportName=function(e){return 0!=(8192&d.getEmitFlags(e))},d.getDeclarationName=function(e,t,r){return l(e,t,r)},d.getExternalModuleOrNamespaceExportName=function(e,t,r,n){return e&&d.hasModifier(t,1)?u(e,l(t),r,n):c(t,r,n)},d.getNamespaceMemberName=u,d.convertToFunctionBody=function(e,t){return d.isBlock(e)?e:d.setTextRange(d.createBlock([d.setTextRange(d.createReturn(e),e)],t),e)},d.convertFunctionDeclarationToExpression=function(e){d.Debug.assert(!!e.body);var t=d.createFunctionExpression(e.modifiers,e.asteriskToken,e.name,e.typeParameters,e.parameters,e.type,e.body);return d.setOriginalNode(t,e),d.setTextRange(t,e),e.startsOnNewLine&&(t.startsOnNewLine=!0),d.aggregateTransformFlags(t),t},d.addPrologue=function(e,t,r,n){return h(e,t,g(e,t,r),n)},d.addStandardPrologue=g,d.addCustomPrologue=h,d.startsWithUseStrict=function(e){return void 0!==(e=d.firstOrUndefined(e))&&d.isPrologueDirective(e)&&m(e)},d.ensureUseStrict=function(e){for(var t=!1,r=0,n=e;r<n.length;r++){var i=n[r];if(!d.isPrologueDirective(i))break;if(m(i)){t=!0;break}}return t?e:d.setTextRange(d.createNodeArray([D(d.createStatement(d.createLiteral("use strict")))].concat(e)),e)},d.parenthesizeBinaryOperand=function(e,t,r,n){return 185!==d.skipPartiallyEmittedExpressions(t).kind&&((e,t,r,n)=>{var i=d.getOperatorPrecedence(194,e),a=d.getOperatorAssociativity(194,e),s=d.skipPartiallyEmittedExpressions(t),o=d.getExpressionPrecedence(s);switch(d.compareValues(o,i)){case-1:return r||1!==a||197!==t.kind?1:void 0;case 1:return;case 0:if(r)return 1===a;if(d.isBinaryExpression(s)&&s.operatorToken.kind===e){if((e=>39===e||49===e||48===e||50===e)(e))return;if(37===e){var c=n?y(n):0;if(d.isLiteralKind(c)&&c===y(s))return}}return 0===d.getExpressionAssociativity(s)}})(e,t,r,n)?d.createParen(t):t},d.parenthesizeForConditionalHead=function(e){var t=d.getOperatorPrecedence(195,55),r=d.skipPartiallyEmittedExpressions(e),r=d.getExpressionPrecedence(r);return-1===d.compareValues(r,t)?d.createParen(e):e},d.parenthesizeSubexpressionOfConditionalExpression=function(e){return 194===e.kind&&26===e.operatorToken.kind?d.createParen(e):e},d.parenthesizeForNew=function(e){var t=x(e,!0);switch(t.kind){case 181:return d.createParen(e);case 182:return t.arguments?e:d.createParen(e)}return v(e)},d.parenthesizeForAccess=v,d.parenthesizePostfixOperand=function(e){return d.isLeftHandSideExpression(e)?e:d.setTextRange(d.createParen(e),e)},d.parenthesizePrefixOperand=function(e){return d.isUnaryExpression(e)?e:d.setTextRange(d.createParen(e),e)},d.parenthesizeListElements=function(e){for(var t,r=0;r<e.length;r++){var n=b(e[r]);void 0===t&&n===e[r]||(t=void 0===t?e.slice(0,r):t).push(n)}return void 0!==t?d.setTextRange(d.createNodeArray(t,e.hasTrailingComma),e):e},d.parenthesizeExpressionForList=b,d.parenthesizeExpressionForExpressionStatement=function(e){var t=d.skipPartiallyEmittedExpressions(e);if(d.isCallExpression(t)){var r=t.expression,n=d.skipPartiallyEmittedExpressions(r).kind;if(186===n||187===n)return(n=d.getMutableClone(t)).expression=d.setTextRange(d.createParen(r),r),E(e,n,4)}return 178===(r=x(t,!1).kind)||186===r?d.setTextRange(d.createParen(e),e):e},d.parenthesizeElementTypeMember=t,d.parenthesizeArrayTypeMember=function(e){switch(e.kind){case 162:case 170:return d.createParenthesizedType(e)}return t(e)},d.parenthesizeElementTypeMembers=function(e){return d.createNodeArray(d.sameMap(e,t))},d.parenthesizeTypeParameters=function(e){if(d.some(e)){for(var t=[],r=0;r<e.length;++r){var n=e[r];t.push(0===r&&d.isFunctionOrConstructorTypeNode(n)&&n.typeParameters?d.createParenthesizedType(n):n)}return d.createNodeArray(t)}},d.parenthesizeConciseBody=function(e){return d.isBlock(e)||178!==x(e,!1).kind?e:d.setTextRange(d.createParen(e),e)},(e=d.OuterExpressionKinds||(d.OuterExpressionKinds={}))[e.Parentheses=1]="Parentheses",e[e.Assertions=2]="Assertions",e[e.PartiallyEmittedExpressions=4]="PartiallyEmittedExpressions",e[e.All=7]="All",d.isOuterExpression=k,d.skipOuterExpressions=S,d.skipParentheses=T,d.skipAssertions=C,d.recreateOuterExpressions=E,d.startOnNewLine=D,d.getExternalHelpersModuleName=A,d.getOrCreateExternalHelpersModuleNameIfNeeded=function(e,t,r){if(t.importHelpers&&d.isEffectiveExternalModule(e,t)){var n=A(e);if(n)return n;var n=d.getEmitModuleKind(t),i=r&&n!==d.ModuleKind.System&&n!==d.ModuleKind.ES2015&&n!==d.ModuleKind.ESNext;if(!i){t=d.getEmitHelpers(e);if(t)for(var a=0,s=t;a<s.length;a++)if(!s[a].scoped){i=!0;break}}return i?(r=d.getOriginalNode(e,d.isSourceFile),(n=d.getOrCreateEmitNode(r)).externalHelpersModuleName||(n.externalHelpersModuleName=d.createUniqueName(d.externalHelpersModuleNameText))):void 0}},d.getLocalNameForExternalImport=function(e,t){var r,n=d.getNamespaceDeclarationNode(e);return n&&!d.isDefaultImport(e)?(r=n.name,d.isGeneratedIdentifier(r)?r:d.createIdentifier(d.getSourceTextOfNodeFromSourceFile(t,n.name))):238===e.kind&&e.importClause||244===e.kind&&e.moduleSpecifier?d.getGeneratedNameForNode(e):void 0},d.getExternalModuleNameLiteral=function(e,t,r,n,i){var a=d.getExternalModuleName(e);if(9===a.kind)return r=r,i=i,w(n.getExternalModuleFileFromDeclaration(e),r,i)||((e,t)=>(t=t.renamedDependencies&&t.renamedDependencies.get(e.text))&&d.createLiteral(t))(a,t)||d.getSynthesizedClone(a)},d.tryGetModuleNameFromFile=w,d.getInitializerOfBindingOrAssignmentElement=function e(t){return d.isDeclarationBindingElement(t)?t.initializer:d.isPropertyAssignment(t)?d.isAssignmentExpression(t.initializer,!0)?t.initializer.right:void 0:d.isShorthandPropertyAssignment(t)?t.objectAssignmentInitializer:d.isAssignmentExpression(t,!0)?t.right:d.isSpreadElement(t)?e(t.expression):void 0},d.getTargetOfBindingOrAssignmentElement=N,d.getRestIndicatorOfBindingOrAssignmentElement=function(e){switch(e.kind){case 146:case 176:return e.dotDotDotToken;case 198:case 263:return e}},d.getPropertyNameOfBindingOrAssignmentElement=function(e){switch(e.kind){case 176:if(e.propertyName)return t=e.propertyName,d.isComputedPropertyName(t)&&d.isStringOrNumericLiteral(t.expression)?t.expression:t;break;case 261:var t;if(e.name)return t=e.name,d.isComputedPropertyName(t)&&d.isStringOrNumericLiteral(t.expression)?t.expression:t;break;case 263:return e.name}var r=N(e);if(r&&d.isPropertyName(r))return d.isComputedPropertyName(r)&&d.isStringOrNumericLiteral(r.expression)?r.expression:r;d.Debug.fail("Invalid property name for binding element.")},d.getElementsOfBindingOrAssignmentPattern=function(e){switch(e.kind){case 174:case 175:case 177:return e.elements;case 178:return e.properties}},d.convertToArrayAssignmentElement=r,d.convertToObjectAssignmentElement=I,d.convertToAssignmentPattern=P,d.convertToObjectAssignmentPattern=O,d.convertToArrayAssignmentPattern=F,d.convertToAssignmentElementTarget=L})(ts=ts||{}),(f=>{function s(e,t,r,n){if(void 0===e||void 0===t)return e;f.aggregateTransformFlags(e);t=t(e);return t===e?e:void 0!==t?(e=f.isArray(t)?(n||i)(t):t,f.Debug.assertNode(e,r),f.aggregateTransformFlags(e),e):void 0}function o(e,t,r,n,i){if(void 0===e||void 0===t)return e;var a,s=e.length;(void 0===n||n<0)&&(n=0),(void 0===i||s-n<i)&&(i=s-n),(0<n||i<s)&&(a=f.createNodeArray([],e.hasTrailingComma&&n+i===s));for(var o=0;o<i;o++){var c=e[o+n],l=(f.aggregateTransformFlags(c),void 0!==c?t(c):void 0);if((void 0!==a||void 0===l||l!==c)&&(void 0===a&&(a=f.createNodeArray(e.slice(0,o),e.hasTrailingComma),f.setTextRange(a,e)),l))if(f.isArray(l))for(var u=0,d=l;u<d.length;u++){var p=d[u];f.Debug.assertNode(p,r),f.aggregateTransformFlags(p),a.push(p)}else f.Debug.assertNode(l,r),f.aggregateTransformFlags(l),a.push(l)}return a||e}function c(e,t,r,n,i){r.startLexicalEnvironment(),e=o(e,t,f.isStatement,n),i&&!f.startsWithUseStrict(e)&&(e=f.setTextRange(f.createNodeArray([f.createStatement(f.createLiteral("use strict"))].concat(e)),e));t=r.endLexicalEnvironment();return f.setTextRange(f.createNodeArray(f.concatenate(e,t)),e)}function l(e,t,r,n){void 0===n&&(n=o),r.startLexicalEnvironment();n=n(e,t,f.isParameterDeclaration);return r.suspendLexicalEnvironment(),n}function u(e,t,r){r.resumeLexicalEnvironment();var e=s(e,t,f.isConciseBody),t=r.endLexicalEnvironment();return f.some(t)?(r=f.convertToFunctionBody(e),t=f.mergeLexicalEnvironment(r.statements,t),f.updateBlock(r,t)):e}function i(e){return f.Debug.assert(e.length<=1,"Too many nodes written to output."),f.singleOrUndefined(e)}f.visitNode=s,f.visitNodes=o,f.visitLexicalEnvironment=c,f.visitParameterList=l,f.visitFunctionBody=u,f.visitEachChild=function(e,t,r,n,i){if(void 0===n&&(n=o),void 0!==e){var a=e.kind;if(0<a&&a<=142||169===a)return e;switch(a){case 71:return f.updateIdentifier(e,n(e.typeArguments,t,f.isTypeNode));case 143:return f.updateQualifiedName(e,s(e.left,t,f.isEntityName),s(e.right,t,f.isIdentifier));case 144:return f.updateComputedPropertyName(e,s(e.expression,t,f.isExpression));case 145:return f.updateTypeParameterDeclaration(e,s(e.name,t,f.isIdentifier),s(e.constraint,t,f.isTypeNode),s(e.default,t,f.isTypeNode));case 146:return f.updateParameter(e,n(e.decorators,t,f.isDecorator),n(e.modifiers,t,f.isModifier),s(e.dotDotDotToken,i,f.isToken),s(e.name,t,f.isBindingName),s(e.questionToken,i,f.isToken),s(e.type,t,f.isTypeNode),s(e.initializer,t,f.isExpression));case 147:return f.updateDecorator(e,s(e.expression,t,f.isExpression));case 148:return f.updatePropertySignature(e,n(e.modifiers,t,f.isToken),s(e.name,t,f.isPropertyName),s(e.questionToken,i,f.isToken),s(e.type,t,f.isTypeNode),s(e.initializer,t,f.isExpression));case 149:return f.updateProperty(e,n(e.decorators,t,f.isDecorator),n(e.modifiers,t,f.isModifier),s(e.name,t,f.isPropertyName),s(e.questionToken,i,f.isToken),s(e.type,t,f.isTypeNode),s(e.initializer,t,f.isExpression));case 150:return f.updateMethodSignature(e,n(e.typeParameters,t,f.isTypeParameterDeclaration),n(e.parameters,t,f.isParameterDeclaration),s(e.type,t,f.isTypeNode),s(e.name,t,f.isPropertyName),s(e.questionToken,i,f.isToken));case 151:return f.updateMethod(e,n(e.decorators,t,f.isDecorator),n(e.modifiers,t,f.isModifier),s(e.asteriskToken,i,f.isToken),s(e.name,t,f.isPropertyName),s(e.questionToken,i,f.isToken),n(e.typeParameters,t,f.isTypeParameterDeclaration),l(e.parameters,t,r,n),s(e.type,t,f.isTypeNode),u(e.body,t,r));case 152:return f.updateConstructor(e,n(e.decorators,t,f.isDecorator),n(e.modifiers,t,f.isModifier),l(e.parameters,t,r,n),u(e.body,t,r));case 153:return f.updateGetAccessor(e,n(e.decorators,t,f.isDecorator),n(e.modifiers,t,f.isModifier),s(e.name,t,f.isPropertyName),l(e.parameters,t,r,n),s(e.type,t,f.isTypeNode),u(e.body,t,r));case 154:return f.updateSetAccessor(e,n(e.decorators,t,f.isDecorator),n(e.modifiers,t,f.isModifier),s(e.name,t,f.isPropertyName),l(e.parameters,t,r,n),u(e.body,t,r));case 155:return f.updateCallSignature(e,n(e.typeParameters,t,f.isTypeParameterDeclaration),n(e.parameters,t,f.isParameterDeclaration),s(e.type,t,f.isTypeNode));case 156:return f.updateConstructSignature(e,n(e.typeParameters,t,f.isTypeParameterDeclaration),n(e.parameters,t,f.isParameterDeclaration),s(e.type,t,f.isTypeNode));case 157:return f.updateIndexSignature(e,n(e.decorators,t,f.isDecorator),n(e.modifiers,t,f.isModifier),n(e.parameters,t,f.isParameterDeclaration),s(e.type,t,f.isTypeNode));case 158:return f.updateTypePredicateNode(e,s(e.parameterName,t),s(e.type,t,f.isTypeNode));case 159:return f.updateTypeReferenceNode(e,s(e.typeName,t,f.isEntityName),n(e.typeArguments,t,f.isTypeNode));case 160:return f.updateFunctionTypeNode(e,n(e.typeParameters,t,f.isTypeParameterDeclaration),n(e.parameters,t,f.isParameterDeclaration),s(e.type,t,f.isTypeNode));case 161:return f.updateConstructorTypeNode(e,n(e.typeParameters,t,f.isTypeParameterDeclaration),n(e.parameters,t,f.isParameterDeclaration),s(e.type,t,f.isTypeNode));case 162:return f.updateTypeQueryNode(e,s(e.exprName,t,f.isEntityName));case 163:return f.updateTypeLiteralNode(e,n(e.members,t,f.isTypeElement));case 164:return f.updateArrayTypeNode(e,s(e.elementType,t,f.isTypeNode));case 165:return f.updateTypleTypeNode(e,n(e.elementTypes,t,f.isTypeNode));case 166:return f.updateUnionTypeNode(e,n(e.types,t,f.isTypeNode));case 167:return f.updateIntersectionTypeNode(e,n(e.types,t,f.isTypeNode));case 168:return f.updateParenthesizedType(e,s(e.type,t,f.isTypeNode));case 170:return f.updateTypeOperatorNode(e,s(e.type,t,f.isTypeNode));case 171:return f.updateIndexedAccessTypeNode(e,s(e.objectType,t,f.isTypeNode),s(e.indexType,t,f.isTypeNode));case 172:return f.updateMappedTypeNode(e,s(e.readonlyToken,i,f.isToken),s(e.typeParameter,t,f.isTypeParameterDeclaration),s(e.questionToken,i,f.isToken),s(e.type,t,f.isTypeNode));case 173:return f.updateLiteralTypeNode(e,s(e.literal,t,f.isExpression));case 174:return f.updateObjectBindingPattern(e,n(e.elements,t,f.isBindingElement));case 175:return f.updateArrayBindingPattern(e,n(e.elements,t,f.isArrayBindingElement));case 176:return f.updateBindingElement(e,s(e.dotDotDotToken,i,f.isToken),s(e.propertyName,t,f.isPropertyName),s(e.name,t,f.isBindingName),s(e.initializer,t,f.isExpression));case 177:return f.updateArrayLiteral(e,n(e.elements,t,f.isExpression));case 178:return f.updateObjectLiteral(e,n(e.properties,t,f.isObjectLiteralElementLike));case 179:return f.updatePropertyAccess(e,s(e.expression,t,f.isExpression),s(e.name,t,f.isIdentifier));case 180:return f.updateElementAccess(e,s(e.expression,t,f.isExpression),s(e.argumentExpression,t,f.isExpression));case 181:return f.updateCall(e,s(e.expression,t,f.isExpression),n(e.typeArguments,t,f.isTypeNode),n(e.arguments,t,f.isExpression));case 182:return f.updateNew(e,s(e.expression,t,f.isExpression),n(e.typeArguments,t,f.isTypeNode),n(e.arguments,t,f.isExpression));case 183:return f.updateTaggedTemplate(e,s(e.tag,t,f.isExpression),s(e.template,t,f.isTemplateLiteral));case 184:return f.updateTypeAssertion(e,s(e.type,t,f.isTypeNode),s(e.expression,t,f.isExpression));case 185:return f.updateParen(e,s(e.expression,t,f.isExpression));case 186:return f.updateFunctionExpression(e,n(e.modifiers,t,f.isModifier),s(e.asteriskToken,i,f.isToken),s(e.name,t,f.isIdentifier),n(e.typeParameters,t,f.isTypeParameterDeclaration),l(e.parameters,t,r,n),s(e.type,t,f.isTypeNode),u(e.body,t,r));case 187:return f.updateArrowFunction(e,n(e.modifiers,t,f.isModifier),n(e.typeParameters,t,f.isTypeParameterDeclaration),l(e.parameters,t,r,n),s(e.type,t,f.isTypeNode),s(e.equalsGreaterThanToken,t,f.isToken),u(e.body,t,r));case 188:return f.updateDelete(e,s(e.expression,t,f.isExpression));case 189:return f.updateTypeOf(e,s(e.expression,t,f.isExpression));case 190:return f.updateVoid(e,s(e.expression,t,f.isExpression));case 191:return f.updateAwait(e,s(e.expression,t,f.isExpression));case 192:return f.updatePrefix(e,s(e.operand,t,f.isExpression));case 193:return f.updatePostfix(e,s(e.operand,t,f.isExpression));case 194:return f.updateBinary(e,s(e.left,t,f.isExpression),s(e.right,t,f.isExpression),s(e.operatorToken,t,f.isToken));case 195:return f.updateConditional(e,s(e.condition,t,f.isExpression),s(e.questionToken,t,f.isToken),s(e.whenTrue,t,f.isExpression),s(e.colonToken,t,f.isToken),s(e.whenFalse,t,f.isExpression));case 196:return f.updateTemplateExpression(e,s(e.head,t,f.isTemplateHead),n(e.templateSpans,t,f.isTemplateSpan));case 197:return f.updateYield(e,s(e.asteriskToken,i,f.isToken),s(e.expression,t,f.isExpression));case 198:return f.updateSpread(e,s(e.expression,t,f.isExpression));case 199:return f.updateClassExpression(e,n(e.modifiers,t,f.isModifier),s(e.name,t,f.isIdentifier),n(e.typeParameters,t,f.isTypeParameterDeclaration),n(e.heritageClauses,t,f.isHeritageClause),n(e.members,t,f.isClassElement));case 201:return f.updateExpressionWithTypeArguments(e,n(e.typeArguments,t,f.isTypeNode),s(e.expression,t,f.isExpression));case 202:return f.updateAsExpression(e,s(e.expression,t,f.isExpression),s(e.type,t,f.isTypeNode));case 203:return f.updateNonNullExpression(e,s(e.expression,t,f.isExpression));case 204:return f.updateMetaProperty(e,s(e.name,t,f.isIdentifier));case 205:return f.updateTemplateSpan(e,s(e.expression,t,f.isExpression),s(e.literal,t,f.isTemplateMiddleOrTemplateTail));case 207:return f.updateBlock(e,n(e.statements,t,f.isStatement));case 208:return f.updateVariableStatement(e,n(e.modifiers,t,f.isModifier),s(e.declarationList,t,f.isVariableDeclarationList));case 210:return f.updateStatement(e,s(e.expression,t,f.isExpression));case 211:return f.updateIf(e,s(e.expression,t,f.isExpression),s(e.thenStatement,t,f.isStatement,f.liftToBlock),s(e.elseStatement,t,f.isStatement,f.liftToBlock));case 212:return f.updateDo(e,s(e.statement,t,f.isStatement,f.liftToBlock),s(e.expression,t,f.isExpression));case 213:return f.updateWhile(e,s(e.expression,t,f.isExpression),s(e.statement,t,f.isStatement,f.liftToBlock));case 214:return f.updateFor(e,s(e.initializer,t,f.isForInitializer),s(e.condition,t,f.isExpression),s(e.incrementor,t,f.isExpression),s(e.statement,t,f.isStatement,f.liftToBlock));case 215:return f.updateForIn(e,s(e.initializer,t,f.isForInitializer),s(e.expression,t,f.isExpression),s(e.statement,t,f.isStatement,f.liftToBlock));case 216:return f.updateForOf(e,e.awaitModifier,s(e.initializer,t,f.isForInitializer),s(e.expression,t,f.isExpression),s(e.statement,t,f.isStatement,f.liftToBlock));case 217:return f.updateContinue(e,s(e.label,t,f.isIdentifier));case 218:return f.updateBreak(e,s(e.label,t,f.isIdentifier));case 219:return f.updateReturn(e,s(e.expression,t,f.isExpression));case 220:return f.updateWith(e,s(e.expression,t,f.isExpression),s(e.statement,t,f.isStatement,f.liftToBlock));case 221:return f.updateSwitch(e,s(e.expression,t,f.isExpression),s(e.caseBlock,t,f.isCaseBlock));case 222:return f.updateLabel(e,s(e.label,t,f.isIdentifier),s(e.statement,t,f.isStatement,f.liftToBlock));case 223:return f.updateThrow(e,s(e.expression,t,f.isExpression));case 224:return f.updateTry(e,s(e.tryBlock,t,f.isBlock),s(e.catchClause,t,f.isCatchClause),s(e.finallyBlock,t,f.isBlock));case 226:return f.updateVariableDeclaration(e,s(e.name,t,f.isBindingName),s(e.type,t,f.isTypeNode),s(e.initializer,t,f.isExpression));case 227:return f.updateVariableDeclarationList(e,n(e.declarations,t,f.isVariableDeclaration));case 228:return f.updateFunctionDeclaration(e,n(e.decorators,t,f.isDecorator),n(e.modifiers,t,f.isModifier),s(e.asteriskToken,i,f.isToken),s(e.name,t,f.isIdentifier),n(e.typeParameters,t,f.isTypeParameterDeclaration),l(e.parameters,t,r,n),s(e.type,t,f.isTypeNode),u(e.body,t,r));case 229:return f.updateClassDeclaration(e,n(e.decorators,t,f.isDecorator),n(e.modifiers,t,f.isModifier),s(e.name,t,f.isIdentifier),n(e.typeParameters,t,f.isTypeParameterDeclaration),n(e.heritageClauses,t,f.isHeritageClause),n(e.members,t,f.isClassElement));case 230:return f.updateInterfaceDeclaration(e,n(e.decorators,t,f.isDecorator),n(e.modifiers,t,f.isModifier),s(e.name,t,f.isIdentifier),n(e.typeParameters,t,f.isTypeParameterDeclaration),n(e.heritageClauses,t,f.isHeritageClause),n(e.members,t,f.isTypeElement));case 231:return f.updateTypeAliasDeclaration(e,n(e.decorators,t,f.isDecorator),n(e.modifiers,t,f.isModifier),s(e.name,t,f.isIdentifier),n(e.typeParameters,t,f.isTypeParameterDeclaration),s(e.type,t,f.isTypeNode));case 232:return f.updateEnumDeclaration(e,n(e.decorators,t,f.isDecorator),n(e.modifiers,t,f.isModifier),s(e.name,t,f.isIdentifier),n(e.members,t,f.isEnumMember));case 233:return f.updateModuleDeclaration(e,n(e.decorators,t,f.isDecorator),n(e.modifiers,t,f.isModifier),s(e.name,t,f.isIdentifier),s(e.body,t,f.isModuleBody));case 234:return f.updateModuleBlock(e,n(e.statements,t,f.isStatement));case 235:return f.updateCaseBlock(e,n(e.clauses,t,f.isCaseOrDefaultClause));case 236:return f.updateNamespaceExportDeclaration(e,s(e.name,t,f.isIdentifier));case 237:return f.updateImportEqualsDeclaration(e,n(e.decorators,t,f.isDecorator),n(e.modifiers,t,f.isModifier),s(e.name,t,f.isIdentifier),s(e.moduleReference,t,f.isModuleReference));case 238:return f.updateImportDeclaration(e,n(e.decorators,t,f.isDecorator),n(e.modifiers,t,f.isModifier),s(e.importClause,t,f.isImportClause),s(e.moduleSpecifier,t,f.isExpression));case 239:return f.updateImportClause(e,s(e.name,t,f.isIdentifier),s(e.namedBindings,t,f.isNamedImportBindings));case 240:return f.updateNamespaceImport(e,s(e.name,t,f.isIdentifier));case 241:return f.updateNamedImports(e,n(e.elements,t,f.isImportSpecifier));case 242:return f.updateImportSpecifier(e,s(e.propertyName,t,f.isIdentifier),s(e.name,t,f.isIdentifier));case 243:return f.updateExportAssignment(e,n(e.decorators,t,f.isDecorator),n(e.modifiers,t,f.isModifier),s(e.expression,t,f.isExpression));case 244:return f.updateExportDeclaration(e,n(e.decorators,t,f.isDecorator),n(e.modifiers,t,f.isModifier),s(e.exportClause,t,f.isNamedExports),s(e.moduleSpecifier,t,f.isExpression));case 245:return f.updateNamedExports(e,n(e.elements,t,f.isExportSpecifier));case 246:return f.updateExportSpecifier(e,s(e.propertyName,t,f.isIdentifier),s(e.name,t,f.isIdentifier));case 248:return f.updateExternalModuleReference(e,s(e.expression,t,f.isExpression));case 249:return f.updateJsxElement(e,s(e.openingElement,t,f.isJsxOpeningElement),n(e.children,t,f.isJsxChild),s(e.closingElement,t,f.isJsxClosingElement));case 250:return f.updateJsxSelfClosingElement(e,s(e.tagName,t,f.isJsxTagNameExpression),s(e.attributes,t,f.isJsxAttributes));case 251:return f.updateJsxOpeningElement(e,s(e.tagName,t,f.isJsxTagNameExpression),s(e.attributes,t,f.isJsxAttributes));case 252:return f.updateJsxClosingElement(e,s(e.tagName,t,f.isJsxTagNameExpression));case 253:return f.updateJsxAttribute(e,s(e.name,t,f.isIdentifier),s(e.initializer,t,f.isStringLiteralOrJsxExpression));case 254:return f.updateJsxAttributes(e,n(e.properties,t,f.isJsxAttributeLike));case 255:return f.updateJsxSpreadAttribute(e,s(e.expression,t,f.isExpression));case 256:return f.updateJsxExpression(e,s(e.expression,t,f.isExpression));case 257:return f.updateCaseClause(e,s(e.expression,t,f.isExpression),n(e.statements,t,f.isStatement));case 258:return f.updateDefaultClause(e,n(e.statements,t,f.isStatement));case 259:return f.updateHeritageClause(e,n(e.types,t,f.isExpressionWithTypeArguments));case 260:return f.updateCatchClause(e,s(e.variableDeclaration,t,f.isVariableDeclaration),s(e.block,t,f.isBlock));case 261:return f.updatePropertyAssignment(e,s(e.name,t,f.isPropertyName),s(e.initializer,t,f.isExpression));case 262:return f.updateShorthandPropertyAssignment(e,s(e.name,t,f.isIdentifier),s(e.objectAssignmentInitializer,t,f.isExpression));case 263:return f.updateSpreadAssignment(e,s(e.expression,t,f.isExpression));case 264:return f.updateEnumMember(e,s(e.name,t,f.isPropertyName),s(e.initializer,t,f.isExpression));case 265:return f.updateSourceFileNode(e,c(e.statements,t,r));case 288:return f.updatePartiallyEmittedExpression(e,s(e.expression,t,f.isExpression));case 289:return f.updateCommaList(e,n(e.elements,t,f.isExpression));default:return e}}}})(ts=ts||{}),(o=>{function c(e,t,r){return e?t(r,e):r}function l(e,t,r){return e?t(r,e):r}function r(e,t,r,n){if(void 0===e)return t;var i=n?l:o.reduceLeft,a=n||r,n=e.kind;if(0<n&&n<=142)return t;if(158<=n&&n<=173)return t;var s=t;switch(e.kind){case 206:case 209:case 200:case 225:case 287:break;case 143:s=c(e.left,r,s),s=c(e.right,r,s);break;case 144:s=c(e.expression,r,s);break;case 146:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,r,s),s=c(e.type,r,s),s=c(e.initializer,r,s);break;case 147:s=c(e.expression,r,s);break;case 148:s=i(e.modifiers,a,s),s=c(e.name,r,s),s=c(e.questionToken,r,s),s=c(e.type,r,s),s=c(e.initializer,r,s);break;case 149:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,r,s),s=c(e.type,r,s),s=c(e.initializer,r,s);break;case 151:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,r,s),s=i(e.typeParameters,a,s),s=i(e.parameters,a,s),s=c(e.type,r,s),s=c(e.body,r,s);break;case 152:s=i(e.modifiers,a,s),s=i(e.parameters,a,s),s=c(e.body,r,s);break;case 153:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,r,s),s=i(e.parameters,a,s),s=c(e.type,r,s),s=c(e.body,r,s);break;case 154:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,r,s),s=i(e.parameters,a,s),s=c(e.body,r,s);break;case 174:case 175:s=i(e.elements,a,s);break;case 176:s=c(e.propertyName,r,s),s=c(e.name,r,s),s=c(e.initializer,r,s);break;case 177:s=i(e.elements,a,s);break;case 178:s=i(e.properties,a,s);break;case 179:s=c(e.expression,r,s),s=c(e.name,r,s);break;case 180:s=c(e.expression,r,s),s=c(e.argumentExpression,r,s);break;case 181:case 182:s=c(e.expression,r,s),s=i(e.typeArguments,a,s),s=i(e.arguments,a,s);break;case 183:s=c(e.tag,r,s),s=c(e.template,r,s);break;case 184:s=c(e.type,r,s),s=c(e.expression,r,s);break;case 186:s=i(e.modifiers,a,s),s=c(e.name,r,s),s=i(e.typeParameters,a,s),s=i(e.parameters,a,s),s=c(e.type,r,s),s=c(e.body,r,s);break;case 187:s=i(e.modifiers,a,s),s=i(e.typeParameters,a,s),s=i(e.parameters,a,s),s=c(e.type,r,s),s=c(e.body,r,s);break;case 185:case 188:case 189:case 190:case 191:case 197:case 198:case 203:s=c(e.expression,r,s);break;case 192:case 193:s=c(e.operand,r,s);break;case 194:s=c(e.left,r,s),s=c(e.right,r,s);break;case 195:s=c(e.condition,r,s),s=c(e.whenTrue,r,s),s=c(e.whenFalse,r,s);break;case 196:s=c(e.head,r,s),s=i(e.templateSpans,a,s);break;case 199:s=i(e.modifiers,a,s),s=c(e.name,r,s),s=i(e.typeParameters,a,s),s=i(e.heritageClauses,a,s),s=i(e.members,a,s);break;case 201:s=c(e.expression,r,s),s=i(e.typeArguments,a,s);break;case 202:s=c(e.expression,r,s),s=c(e.type,r,s);break;case 205:s=c(e.expression,r,s),s=c(e.literal,r,s);break;case 207:s=i(e.statements,a,s);break;case 208:s=i(e.modifiers,a,s),s=c(e.declarationList,r,s);break;case 210:s=c(e.expression,r,s);break;case 211:s=c(e.expression,r,s),s=c(e.thenStatement,r,s),s=c(e.elseStatement,r,s);break;case 212:s=c(e.statement,r,s),s=c(e.expression,r,s);break;case 213:case 220:s=c(e.expression,r,s),s=c(e.statement,r,s);break;case 214:s=c(e.initializer,r,s),s=c(e.condition,r,s),s=c(e.incrementor,r,s),s=c(e.statement,r,s);break;case 215:case 216:s=c(e.initializer,r,s),s=c(e.expression,r,s),s=c(e.statement,r,s);break;case 219:case 223:s=c(e.expression,r,s);break;case 221:s=c(e.expression,r,s),s=c(e.caseBlock,r,s);break;case 222:s=c(e.label,r,s),s=c(e.statement,r,s);break;case 224:s=c(e.tryBlock,r,s),s=c(e.catchClause,r,s),s=c(e.finallyBlock,r,s);break;case 226:s=c(e.name,r,s),s=c(e.type,r,s),s=c(e.initializer,r,s);break;case 227:s=i(e.declarations,a,s);break;case 228:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,r,s),s=i(e.typeParameters,a,s),s=i(e.parameters,a,s),s=c(e.type,r,s),s=c(e.body,r,s);break;case 229:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,r,s),s=i(e.typeParameters,a,s),s=i(e.heritageClauses,a,s),s=i(e.members,a,s);break;case 232:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,r,s),s=i(e.members,a,s);break;case 233:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,r,s),s=c(e.body,r,s);break;case 234:s=i(e.statements,a,s);break;case 235:s=i(e.clauses,a,s);break;case 237:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,r,s),s=c(e.moduleReference,r,s);break;case 238:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.importClause,r,s),s=c(e.moduleSpecifier,r,s);break;case 239:s=c(e.name,r,s),s=c(e.namedBindings,r,s);break;case 240:s=c(e.name,r,s);break;case 241:case 245:s=i(e.elements,a,s);break;case 242:case 246:s=c(e.propertyName,r,s),s=c(e.name,r,s);break;case 243:s=o.reduceLeft(e.decorators,r,s),s=o.reduceLeft(e.modifiers,r,s),s=c(e.expression,r,s);break;case 244:s=o.reduceLeft(e.decorators,r,s),s=o.reduceLeft(e.modifiers,r,s),s=c(e.exportClause,r,s),s=c(e.moduleSpecifier,r,s);break;case 248:s=c(e.expression,r,s);break;case 249:s=c(e.openingElement,r,s),s=o.reduceLeft(e.children,r,s),s=c(e.closingElement,r,s);break;case 250:case 251:s=c(e.tagName,r,s),s=c(e.attributes,r,s);break;case 254:s=i(e.properties,a,s);break;case 252:s=c(e.tagName,r,s);break;case 253:s=c(e.name,r,s),s=c(e.initializer,r,s);break;case 255:case 256:s=c(e.expression,r,s);break;case 257:s=c(e.expression,r,s);case 258:s=i(e.statements,a,s);break;case 259:s=i(e.types,a,s);break;case 260:s=c(e.variableDeclaration,r,s),s=c(e.block,r,s);break;case 261:s=c(e.name,r,s),s=c(e.initializer,r,s);break;case 262:s=c(e.name,r,s),s=c(e.objectAssignmentInitializer,r,s);break;case 263:s=c(e.expression,r,s);break;case 264:s=c(e.name,r,s),s=c(e.initializer,r,s);break;case 265:s=i(e.statements,a,s);break;case 288:s=c(e.expression,r,s);break;case 289:s=i(e.elements,a,s)}return s}function s(e){var t;return void 0===e?0:536870912&e.transformFlags?e.transformFlags&~o.getTransformFlagsSubtreeExclusions(e.kind):(t=(e=>o.hasModifier(e,2)||o.isTypeNode(e)&&201!==e.kind?0:r(e,0,n,i))(e),o.computeTransformFlagsForNode(e,t))}function n(e,t){return e|s(t)}function i(e,t){return e|(e=>{if(void 0===e)return 0;for(var t=0,r=0,n=0,i=e;n<i.length;n++){var a=i[n];t|=s(a),r|=-536870913&a.transformFlags}return e.transformFlags=536870912|r,t})(t)}var t,a,u;o.reduceEachChild=r,o.mergeLexicalEnvironment=function(e,t){return o.some(t)?o.isNodeArray(e)?o.setTextRange(o.createNodeArray(o.concatenate(e,t)),e):o.addRange(e,t):e},o.liftToBlock=function(e){return t.assert(o.every(e,o.isStatement),"Cannot lift nodes to a Block."),o.singleOrUndefined(e)||o.createBlock(e)},o.aggregateTransformFlags=function(e){return s(e),e},a=t=o.Debug||(o.Debug={}),u=!1,a.failBadSyntaxKind=a.shouldAssert(1)?function(e,t){return a.fail((t||"Unexpected node.")+"\r\nNode "+o.formatSyntaxKind(e.kind)+" was unexpected.",a.failBadSyntaxKind)}:o.noop,a.assertEachNode=a.shouldAssert(1)?function(e,t,r){return a.assert(void 0===t||o.every(e,t),r||"Unexpected node.",function(){return"Node array did not pass test '"+a.getFunctionName(t)+"'."},a.assertEachNode)}:o.noop,a.assertNode=a.shouldAssert(1)?function(e,t,r){return a.assert(void 0===t||t(e),r||"Unexpected node.",function(){return"Node "+o.formatSyntaxKind(e.kind)+" did not pass test '"+a.getFunctionName(t)+"'."},a.assertNode)}:o.noop,a.assertOptionalNode=a.shouldAssert(1)?function(e,t,r){return a.assert(void 0===t||void 0===e||t(e),r||"Unexpected node.",function(){return"Node "+o.formatSyntaxKind(e.kind)+" did not pass test '"+a.getFunctionName(t)+"'."},a.assertOptionalNode)}:o.noop,a.assertOptionalToken=a.shouldAssert(1)?function(e,t,r){return a.assert(void 0===t||void 0===e||e.kind===t,r||"Unexpected node.",function(){return"Node "+o.formatSyntaxKind(e.kind)+" was not a '"+o.formatSyntaxKind(t)+"' token."},a.assertOptionalToken)}:o.noop,a.assertMissingNode=a.shouldAssert(1)?function(e,t){return a.assert(void 0===e,t||"Unexpected node.",function(){return"Node "+o.formatSyntaxKind(e.kind)+" was unexpected'."},a.assertMissingNode)}:o.noop,a.enableDebugInfo=function(){if(!u){Object.defineProperties(o.objectAllocator.getSymbolConstructor().prototype,{__debugFlags:{get:function(){return o.formatSymbolFlags(this.flags)}}}),Object.defineProperties(o.objectAllocator.getTypeConstructor().prototype,{__debugFlags:{get:function(){return o.formatTypeFlags(this.flags)}},__debugObjectFlags:{get:function(){return 32768&this.flags?o.formatObjectFlags(this.objectFlags):""}},__debugTypeToString:{value:function(){return this.checker.typeToString(this)}}});for(var e=0,t=[o.objectAllocator.getNodeConstructor(),o.objectAllocator.getIdentifierConstructor(),o.objectAllocator.getTokenConstructor(),o.objectAllocator.getSourceFileConstructor()];e<t.length;e++){var r=t[e];r.prototype.hasOwnProperty("__debugKind")||Object.defineProperties(r.prototype,{__debugKind:{get:function(){return o.formatSyntaxKind(this.kind)}},__debugModifierFlags:{get:function(){return o.formatModifierFlags(o.getModifierFlagsNoCache(this))}},__debugTransformFlags:{get:function(){return o.formatTransformFlags(this.transformFlags)}},__debugEmitFlags:{get:function(){return o.formatEmitFlags(o.getEmitFlags(this))}},__debugGetText:{value:function(e){var t,r;return!o.nodeIsSynthesized(this)&&(r=(t=o.getParseTreeNode(this))&&o.getSourceFileOfNode(t))?o.getSourceTextOfNodeFromSourceFile(r,t,e):""}}})}u=!0}}})(ts=ts||{}),(x=>{function k(e){return(e=x.getOriginalNode(e))?x.getNodeId(e):0}function S(e,t,r){var n=e[t];n?n.push(r):e[t]=n=[r]}x.getOriginalNodeId=k,x.collectExternalModuleInfo=function(e,t,r){for(var n=[],i=x.createMultiMap(),a=[],s=x.createMap(),o=!1,c=void 0,l=!1,u=0,d=e.statements;u<d.length;u++){var p=d[u];switch(p.kind){case 238:n.push(p);break;case 237:248===p.moduleReference.kind&&n.push(p);break;case 244:if(p.moduleSpecifier)p.exportClause?n.push(p):(n.push(p),l=!0);else for(var f=0,_=p.exportClause.elements;f<_.length;f++){var m,g=_[f];s.get(x.idText(g.name))||(m=g.propertyName||g.name,i.add(x.idText(m),g),(v=t.getReferencedImportDeclaration(m)||t.getReferencedValueDeclaration(m))&&S(a,k(v),g.name),s.set(x.idText(g.name),!0),b=x.append(b,g.name))}break;case 243:p.isExportEquals&&!c&&(c=p);break;case 208:if(x.hasModifier(p,1))for(var h=0,y=p.declarationList.declarations;h<y.length;h++)var v,b=function e(t,r,n){if(x.isBindingPattern(t.name))for(var i=0,a=t.name.elements;i<a.length;i++){var s=a[i];x.isOmittedExpression(s)||(n=e(s,r,n))}else{var o;x.isGeneratedIdentifier(t.name)||(o=x.idText(t.name),r.get(o))||(r.set(o,!0),n=x.append(n,t.name))}return n}(v=y[h],s,b);break;case 228:x.hasModifier(p,1)&&(x.hasModifier(p,512)?o||(S(a,k(p),x.getDeclarationName(p)),o=!0):(m=p.name,s.get(x.idText(m))||(S(a,k(p),m),s.set(x.idText(m),!0),b=x.append(b,m))));break;case 229:x.hasModifier(p,1)&&(x.hasModifier(p,512)?o||(S(a,k(p),x.getDeclarationName(p)),o=!0):(m=p.name)&&!s.get(x.idText(m))&&(S(a,k(p),m),s.set(x.idText(m),!0),b=x.append(b,m)))}}return e=x.getOrCreateExternalHelpersModuleNameIfNeeded(e,r,l),(r=e&&x.createImportDeclaration(void 0,void 0,x.createImportClause(void 0,x.createNamespaceImport(e)),x.createLiteral(x.externalHelpersModuleNameText)))&&n.unshift(r),{externalImports:n,exportSpecifiers:i,exportEquals:c,hasExportStarsToExportValues:l,exportedBindings:a,exportedNames:b,externalHelpersImportDeclaration:r}},x.isSimpleCopiableExpression=function(e){return 9===e.kind||8===e.kind||13===e.kind||x.isKeyword(e.kind)||x.isIdentifier(e)}})(ts=ts||{}),(L=>{var e;function R(e,t,r,n,i){i||(i=L.visitNode(L.getInitializerOfBindingOrAssignmentElement(t),e.visitor,L.isExpression),r=i?r?(a=i,l=M(e,l=r,!0,n),L.createConditional(L.createTypeCheck(l,"undefined"),a,l)):i:r||L.createVoidZero());var a=L.getTargetOfBindingOrAssignmentElement(t);if(L.isObjectBindingOrAssignmentPattern(a)){var s,o,c=e,l=t,u=a,d=r,p=n,f=L.getElementsOfBindingOrAssignmentPattern(u),_=f.length;1!==_&&(l=!L.isDeclarationBindingElement(l)||0!==_,d=M(c,d,l,p));for(var m=0;m<_;m++){var g,h,y=f[m];L.getRestIndicatorOfBindingOrAssignmentElement(y)?m===_-1&&(s&&(c.emitBindingOrAssignment(c.createObjectBindingOrAssignmentPattern(s),d,p,u),s=void 0),h=((e,t,r,n,i)=>{e.requestEmitHelper(U);for(var a=[],s=0,o=0;o<r.length-1;o++){var c,l=L.getPropertyNameOfBindingOrAssignmentElement(r[o]);l&&(L.isComputedPropertyName(l)?(c=n[s],s++,a.push(L.createConditional(L.createTypeCheck(c,"symbol"),c,L.createAdd(c,L.createLiteral(""))))):a.push(L.createLiteral(l)))}return L.createCall(L.getHelperName("__rest"),void 0,[t,L.setTextRange(L.createArrayLiteral(a),i)])})(c.context,d,f,o,u),R(c,y,h,y)):(g=L.getPropertyNameOfBindingOrAssignmentElement(y),!(1<=c.level)||1572864&y.transformFlags||1572864&L.getTargetOfBindingOrAssignmentElement(y).transformFlags||L.isComputedPropertyName(g)?(s&&(c.emitBindingOrAssignment(c.createObjectBindingOrAssignmentPattern(s),d,p,u),s=void 0),h=((e,t,r)=>{var n;return L.isComputedPropertyName(r)?(n=M(e,L.visitNode(r.expression,e.visitor),!1,r),L.createElementAccess(t,n)):L.isStringOrNumericLiteral(r)?((n=L.getSynthesizedClone(r)).text=n.text,L.createElementAccess(t,n)):(e=L.createIdentifier(L.idText(r)),L.createPropertyAccess(t,e))})(c,d,g),L.isComputedPropertyName(g)&&(o=L.append(o,h.argumentExpression)),R(c,y,h,y)):s=L.append(s,y))}s&&c.emitBindingOrAssignment(c.createObjectBindingOrAssignmentPattern(s),d,p,u)}else if(L.isArrayBindingOrAssignmentPattern(a)){var v,b,x=e,i=t,k=a,S=r,T=n,C=L.getElementsOfBindingOrAssignmentPattern(k),E=C.length;x.level<1&&x.downlevelIteration?S=M(x,L.createReadHelper(x.context,S,0<E&&L.getRestIndicatorOfBindingOrAssignmentElement(C[E-1])?void 0:E,T),!1,T):(1!==E&&(x.level<1||0===E)||L.every(C,L.isOmittedExpression))&&(i=!L.isDeclarationBindingElement(i)||0!==E,S=M(x,S,i,T));for(var D=0;D<E;D++){var A,w,N=C[D];1<=x.level?v=1048576&N.transformFlags?(A=L.createTempVariable(void 0),x.hoistTempVariables&&x.context.hoistVariableDeclaration(A),b=L.append(b,[A,N]),L.append(v,x.createArrayBindingOrAssignmentElement(A))):L.append(v,N):L.isOmittedExpression(N)||(L.getRestIndicatorOfBindingOrAssignmentElement(N)?D===E-1&&(w=L.createArraySlice(S,D),R(x,N,w,N)):(w=L.createElementAccess(S,D),R(x,N,w,N)))}if(v&&x.emitBindingOrAssignment(x.createArrayBindingOrAssignmentPattern(v),S,T,k),b)for(var I=0,P=b;I<P.length;I++){var O=P[I],F=O[0];R(x,N=O[1],F,N)}}else e.emitBindingOrAssignment(a,r,n,t)}function M(e,t,r,n){return L.isIdentifier(t)&&r?t:(r=L.createTempVariable(void 0),e.hoistTempVariables?(e.context.hoistVariableDeclaration(r),e.emitExpression(L.setTextRange(L.createAssignment(r,t),n))):e.emitBindingOrAssignment(r,t,n,void 0),r)}function y(e){return L.Debug.assertEachNode(e,L.isArrayBindingElement),L.createArrayBindingPattern(e)}function u(e){return L.createArrayLiteral(L.map(e,L.convertToArrayAssignmentElement))}function v(e){return L.Debug.assertEachNode(e,L.isBindingElement),L.createObjectBindingPattern(e)}function d(e){return L.createObjectLiteral(L.map(e,L.convertToObjectAssignmentElement))}function b(e){return L.createBindingElement(void 0,void 0,e)}function p(e){return e}(e=L.FlattenLevel||(L.FlattenLevel={}))[e.All=0]="All",e[e.ObjectRest=1]="ObjectRest",L.flattenDestructuringAssignment=function(e,i,t,r,n,a){var s,o,c=e;if(L.isDestructuringAssignment(e))for(s=e.right;L.isEmptyArrayLiteral(e.left)||L.isEmptyObjectLiteral(e.left);){if(!L.isDestructuringAssignment(s))return s;c=e=s,s=e.right}if(r={context:t,level:r,downlevelIteration:t.getCompilerOptions().downlevelIteration,hoistTempVariables:!0,emitExpression:l,emitBindingOrAssignment:function(e,t,r,n){L.Debug.assertNode(e,a?L.isIdentifier:L.isExpression);e=a?a(e,t,r):L.setTextRange(L.createAssignment(L.visitNode(e,i,L.isExpression),t),r);e.original=n,l(e)},createArrayBindingOrAssignmentPattern:u,createObjectBindingOrAssignmentPattern:d,createArrayBindingOrAssignmentElement:p,visitor:i},s&&(s=L.visitNode(s,i,L.isExpression),n?s=M(r,s,!0,c):L.nodeIsSynthesized(e)&&(c=s)),R(r,e,s,c,L.isDestructuringAssignment(e)),s&&n){if(!L.some(o))return s;o.push(s)}return L.aggregateTransformFlags(L.inlineExpressions(o))||L.createOmittedExpression();function l(e){L.setEmitFlags(e,64),L.aggregateTransformFlags(e),o=L.append(o,e)}};var U={name:"typescript:rest",scoped:!(L.flattenDestructuringBinding=function(e,t,r,n,i,a,s){var o,c=[],l=[];R({context:r,level:n,downlevelIteration:r.getCompilerOptions().downlevelIteration,hoistTempVariables:a,emitExpression:function(e){o=L.append(o,e)},emitBindingOrAssignment:h,createArrayBindingOrAssignmentPattern:y,createObjectBindingOrAssignmentPattern:v,createArrayBindingOrAssignmentElement:b,visitor:t},e,i,e,s),o&&(n=L.createTempVariable(void 0),a?h(n,m=L.inlineExpressions(o),o=void 0,void 0):(r.hoistVariableDeclaration(n),(t=L.lastOrUndefined(c)).pendingExpressions=L.append(t.pendingExpressions,L.createAssignment(n,t.value)),L.addRange(t.pendingExpressions,o),t.value=n));for(var u=0,d=c;u<d.length;u++){var p=d[u],f=p.pendingExpressions,_=p.name,m=p.value,g=p.location,p=p.original,f=L.createVariableDeclaration(_,void 0,f?L.inlineExpressions(L.append(f,m)):m);f.original=p,L.setTextRange(f,g),L.isIdentifier(_)&&L.setEmitFlags(f,64),L.aggregateTransformFlags(f),l.push(f)}return l;function h(e,t,r,n){L.Debug.assertNode(e,L.isBindingName),o&&(t=L.inlineExpressions(L.append(o,t)),o=void 0),c.push({pendingExpressions:o,name:e,value:t,location:r,original:n})}}),text:'\n            var __rest = (this && this.__rest) || function (s, e) {\n                var t = {};\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n                    t[p] = s[p];\n                if (s != null && typeof Object.getOwnPropertySymbols === "function")\n                    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n                        t[p[i]] = s[p[i]];\n                return t;\n            };'}})(ts=ts||{}),(Re=>{function Me(e,t,r,n,i,a){var s=[];return s.push(Re.createArrayLiteral(t,!0)),s.push(r),n&&(s.push(n),i)&&s.push(i),e.requestEmitHelper(o),Re.setTextRange(Re.createCall(Re.getHelperName("__decorate"),void 0,s),a)}var o={name:"typescript:decorate",scoped:!(Re.transformTypeScript=function(E){var D,A,w,N,l,o,I,a,P=E.startLexicalEnvironment,f=E.resumeLexicalEnvironment,O=E.endLexicalEnvironment,F=E.hoistVariableDeclaration,L=E.getEmitResolver(),R=E.getCompilerOptions(),_=void 0===R.strictNullChecks?R.strict:R.strictNullChecks,M=Re.getEmitScriptTarget(R),U=Re.getEmitModuleKind(R),s=E.onEmitNode,m=E.onSubstituteNode;return E.onEmitNode=function(e,t,r){var n=a,i=D;Re.isSourceFile(t)&&(D=t);2&o&&(e=>233===Re.getOriginalNode(e).kind)(t)&&(a|=2);8&o&&(e=>232===Re.getOriginalNode(e).kind)(t)&&(a|=8);s(e,t,r),a=n,D=i},E.onSubstituteNode=function(e,t){{if(t=m(e,t),1===e)return(e=>{switch(e.kind){case 71:return(e=>(e=>{if(1&o&&16777216&L.getNodeCheckFlags(e)){var t=L.getReferencedValueDeclaration(e);if(t){var t=I[t.id];if(t)return t=Re.getSynthesizedClone(t),Re.setSourceMapRange(t,e),Re.setCommentRange(t,e),t}}})(e)||Fe(e)||e)(e);case 179:case 180:return Le(e)}return e})(t);if(Re.isShorthandPropertyAssignment(t))return(e=>{if(2&o){var t,r=e.name,n=Fe(r);if(n)return e.objectAssignmentInitializer?(t=Re.createAssignment(n,e.objectAssignmentInitializer),Re.setTextRange(Re.createPropertyAssignment(r,t),e)):Re.setTextRange(Re.createPropertyAssignment(r,n),e)}return e})(t)}return t},E.enableSubstitution(179),E.enableSubstitution(180),function(e){if(e.isDeclarationFile)return e;e=u(D=e,k);return Re.addEmitHelpers(e,E.readEmitHelpers()),D=void 0,e};function u(e,t){var r=N,n=l,i=e;switch(i.kind){case 265:case 235:case 234:case 207:N=i,l=void 0;break;case 229:case 228:Re.hasModifier(i,2)||(i.name?ge(i):Re.Debug.assert(229===i.kind||Re.hasModifier(i,512)))}t=t(e);return N!==r&&(l=n),N=r,t}function B(e){return u(e,r)}function r(e){return 1&e.transformFlags?t(e):2&e.transformFlags?Re.visitEachChild(e,B,E):e}function g(e){return u(e,h)}function h(e){switch(e.kind){case 238:case 237:case 243:case 244:var t=e;if(Re.getParseTreeNode(t)!==t)return t;switch(t.kind){case 238:return(e=>{var t;return e.importClause?(t=Re.visitNode(e.importClause,be,Re.isImportClause))?Re.updateImportDeclaration(e,void 0,void 0,t,e.moduleSpecifier):void 0:e})(t);case 237:return Ce(t);case 243:return(e=>L.isValueAliasDeclaration(e)?Re.visitEachChild(e,B,E):void 0)(t);case 244:return(e=>{var t;return e.exportClause?L.isValueAliasDeclaration(e)&&(t=Re.visitNode(e.exportClause,Se,Re.isNamedExports))?Re.updateExportDeclaration(e,void 0,void 0,t,e.moduleSpecifier):void 0:R.isolatedModules||L.moduleExportsSomeValue(e.moduleSpecifier)?e:void 0})(t);default:Re.Debug.fail("Unhandled ellided statement")}return;default:return r(e)}}function y(e){return u(e,v)}function v(e){if(244!==e.kind&&238!==e.kind&&239!==e.kind&&(237!==e.kind||248!==e.moduleReference.kind))return 1&e.transformFlags||Re.hasModifier(e,1)?t(e):2&e.transformFlags?Re.visitEachChild(e,B,E):e}function b(e){return u(e,x)}function x(e){switch(e.kind){case 152:return;case 149:case 157:case 153:case 154:case 151:return r(e);case 206:return e;default:return void Re.Debug.failBadSyntaxKind(e)}}function j(e){if(!(2270&Re.modifierToFlag(e.kind)||A&&84===e.kind))return e}function t(e){if(Re.hasModifier(e,2)&&Re.isStatement(e))return Re.createNotEmittedStatement(e);switch(e.kind){case 84:case 79:return A?void 0:e;case 114:case 112:case 113:case 117:case 76:case 124:case 131:case 164:case 165:case 163:case 158:case 145:case 119:case 122:case 136:case 133:case 130:case 105:case 137:case 161:case 160:case 162:case 159:case 166:case 167:case 168:case 169:case 170:case 171:case 172:case 173:case 157:case 147:case 231:case 149:case 236:return;case 152:var t=e;return G(t)?Re.updateConstructor(t,Re.visitNodes(t.decorators,B,Re.isDecorator),Re.visitNodes(t.modifiers,B,Re.isModifier),Re.visitParameterList(t.parameters,B,E),Re.visitFunctionBody(t.body,B,E)):void 0;case 230:return Re.createNotEmittedStatement(e);case 229:var t=e,r=z(t,!0),n=((e,t)=>{var r=0;return Re.some(t)&&(r|=1),(t=Re.getClassExtendsHeritageClauseElement(e))&&95!==Re.skipOuterExpressions(t.expression).kind&&(r|=64),(e=>e.decorators&&0<e.decorators.length||(e=Re.getFirstConstructorWithBody(e))&&Re.forEach(e.parameters,Y))(e)&&(r|=2),Re.childIsDecorated(e)&&(r|=4),W(e)?r|=8:(e=>Q(e)&&Re.hasModifier(e,512))(e)?r|=32:Ee(e)&&(r|=16),M<=1&&7&r&&(r|=128),r})(t,r),i=(128&n&&E.startLexicalEnvironment(),t.name||(5&n?Re.getGeneratedNameForNode(t):void 0)),a=[i=(2&n?(e,t,r)=>{var n=Re.moveRangePastDecorators(e),i=(e=>{var t;if(8388608&L.getNodeCheckFlags(e))return Oe(),t=Re.createUniqueName(e.name&&!Re.isGeneratedIdentifier(e.name)?Re.idText(e.name):"default"),I[Re.getOriginalNodeId(e)]=t,F(t),t})(e),a=Re.getLocalName(e,!1,!0),s=Re.visitNodes(e.heritageClauses,B,Re.isHeritageClause),r=K(e,0!=(64&r)),t=Re.createClassExpression(void 0,t,void 0,s,r),s=(Re.setOriginalNode(t,e),Re.setTextRange(t,n),Re.createVariableStatement(void 0,Re.createVariableDeclarationList([Re.createVariableDeclaration(a,void 0,i?Re.createAssignment(i,t):t)],1)));return Re.setOriginalNode(s,e),Re.setTextRange(s,n),Re.setCommentRange(s,e),s}:(e,t,r)=>{var n=128&r?void 0:Re.visitNodes(e.modifiers,j,Re.isModifier),n=Re.createClassDeclaration(void 0,n,t,void 0,Re.visitNodes(e.heritageClauses,B,Re.isHeritageClause),K(e,0!=(64&r))),t=Re.getEmitFlags(e);return 1&r&&(t|=32),Re.setTextRange(n,e),Re.setOriginalNode(n,e),Re.setEmitFlags(n,t),n})(t,i,n)],s=(1&n&&$(a,r,128&n?Re.getInternalName(t):Re.getLocalName(t)),te(a,t,!1),te(a,t,!0),a),o=t,c=(e=>{var t,r,n=(e=>{var t=e.decorators,e=q(Re.getFirstConstructorWithBody(e));if(t||e)return{decorators:t,parameters:e}})(e);if(n=V(e,e,n))return t=I&&I[Re.getOriginalNodeId(e)],r=Re.getLocalName(e,!1,!0),n=Me(E,n,r),r=Re.createAssignment(r,t?Re.createAssignment(t,n):n),Re.setEmitFlags(r,1536),Re.setSourceMapRange(r,Re.moveRangePastDecorators(e)),r})(o);return c&&s.push(Re.setOriginalNode(Re.createStatement(c),o)),128&n&&(r=Re.createTokenRange(Re.skipTrivia(D.text,t.members.end),18),s=Re.getInternalName(t),(s=Re.createPartiallyEmittedExpression(s)).end=r.end,Re.setEmitFlags(s,1536),(s=Re.createReturn(s)).pos=r.pos,Re.setEmitFlags(s,1920),a.push(s),Re.addRange(a,E.endLexicalEnvironment()),r=Re.createImmediatelyInvokedArrowFunction(a),Re.setEmitFlags(r,33554432),s=Re.createVariableStatement(void 0,Re.createVariableDeclarationList([Re.createVariableDeclaration(Re.getLocalName(t,!1,!1),void 0,r)])),Re.setOriginalNode(s,t),Re.setCommentRange(s,t),Re.setSourceMapRange(s,Re.moveRangePastDecorators(t)),Re.startOnNewLine(s),a=[s]),8&n?Ae(a,t):(128&n||2&n)&&(32&n?a.push(Re.createExportDefault(Re.getLocalName(t,!1,!0))):16&n&&a.push(Re.createExternalModuleExport(Re.getLocalName(t,!1,!0)))),1<a.length&&(a.push(Re.createEndOfDeclarationMarker(t)),Re.setEmitFlags(i,4194304|Re.getEmitFlags(i))),Re.singleOrMany(a);case 199:c=e,o=z(c,!0),r=Re.visitNodes(c.heritageClauses,B,Re.isHeritageClause),s=K(c,Re.some(r,function(e){return 85===e.token})),r=Re.createClassExpression(void 0,c.name,void 0,r,s);return Re.setOriginalNode(r,c),Re.setTextRange(r,c),0<o.length?(s=[],n=Re.createTempVariable(F),8388608&L.getNodeCheckFlags(c)&&(Oe(),I[Re.getOriginalNodeId(c)]=Re.getSynthesizedClone(n)),Re.setEmitFlags(r,65536|Re.getEmitFlags(r)),s.push(Re.startOnNewLine(Re.createAssignment(n,r))),Re.addRange(s,((e,t)=>{for(var r=[],n=0,i=e;n<i.length;n++){var a=i[n],s=J(a,t);s.startsOnNewLine=!0,Re.setSourceMapRange(s,Re.moveRangePastModifiers(a)),Re.setCommentRange(s,a),r.push(s)}return r})(o,n)),s.push(Re.startOnNewLine(n)),Re.inlineExpressions(s)):r;case 259:i=e;return 85===i.token?(a=Re.visitNodes(i.types,B,Re.isExpressionWithTypeArguments,0,1),Re.setTextRange(Re.createHeritageClause(85,a),i)):void 0;case 201:return Re.updateExpressionWithTypeArguments(e,void 0,Re.visitNode(e.expression,B,Re.isLeftHandSideExpression));case 151:var l=e;return G(l)?((u=Re.updateMethod(l,void 0,Re.visitNodes(l.modifiers,j,Re.isModifier),l.asteriskToken,H(l),void 0,void 0,Re.visitParameterList(l.parameters,B,E),void 0,Re.visitFunctionBody(l.body,B,E)))!==l&&(Re.setCommentRange(u,l),Re.setSourceMapRange(u,Re.moveRangePastDecorators(l))),u):void 0;case 153:var u,l=e;return pe(l)?((u=Re.updateGetAccessor(l,void 0,Re.visitNodes(l.modifiers,j,Re.isModifier),H(l),Re.visitParameterList(l.parameters,B,E),void 0,Re.visitFunctionBody(l.body,B,E)||Re.createBlock([])))!==l&&(Re.setCommentRange(u,l),Re.setSourceMapRange(u,Re.moveRangePastDecorators(l))),u):void 0;case 154:var d=e;return pe(d)?((p=Re.updateSetAccessor(d,void 0,Re.visitNodes(d.modifiers,j,Re.isModifier),H(d),Re.visitParameterList(d.parameters,B,E),Re.visitFunctionBody(d.body,B,E)||Re.createBlock([])))!==d&&(Re.setCommentRange(p,d),Re.setSourceMapRange(p,Re.moveRangePastDecorators(d))),p):void 0;case 228:var p,d=e;return G(d)?(p=Re.updateFunctionDeclaration(d,void 0,Re.visitNodes(d.modifiers,j,Re.isModifier),d.asteriskToken,d.name,void 0,Re.visitParameterList(d.parameters,B,E),void 0,Re.visitFunctionBody(d.body,B,E)||Re.createBlock([])),W(d)?(Ae(C=[p],d),C):p):Re.createNotEmittedStatement(d);case 186:return G(C=e)?Re.updateFunctionExpression(C,Re.visitNodes(C.modifiers,j,Re.isModifier),C.asteriskToken,C.name,void 0,Re.visitParameterList(C.parameters,B,E),void 0,Re.visitFunctionBody(C.body,B,E)||Re.createBlock([])):Re.createOmittedExpression();case 187:return T=e,Re.updateArrowFunction(T,Re.visitNodes(T.modifiers,j,Re.isModifier),void 0,Re.visitParameterList(T.parameters,B,E),void 0,T.equalsGreaterThanToken,Re.visitFunctionBody(T.body,B,E));case 146:T=e;return Re.parameterIsThisKeyword(T)?void 0:(f=Re.createParameter(void 0,void 0,T.dotDotDotToken,Re.visitNode(T.name,B,Re.isBindingName),void 0,void 0,Re.visitNode(T.initializer,B,Re.isExpression)),Re.setOriginalNode(f,T),Re.setTextRange(f,Re.moveRangePastModifiers(T)),Re.setCommentRange(f,T),Re.setSourceMapRange(f,Re.moveRangePastModifiers(T)),Re.setEmitFlags(f.name,32),f);case 185:var f=e,_=Re.skipOuterExpressions(f.expression,-3);return Re.isAssertionExpression(_)?(_=Re.visitNode(f.expression,B,Re.isExpression),Re.createPartiallyEmittedExpression(_,f)):Re.visitEachChild(f,B,E);case 184:case 202:return _=e,S=Re.visitNode(_.expression,B,Re.isExpression),Re.createPartiallyEmittedExpression(S,_);case 181:return S=e,Re.updateCall(S,Re.visitNode(S.expression,B,Re.isExpression),void 0,Re.visitNodes(S.arguments,B,Re.isExpression));case 182:return k=e,Re.updateNew(k,Re.visitNode(k.expression,B,Re.isExpression),void 0,Re.visitNodes(k.arguments,B,Re.isExpression));case 203:return k=e,y=Re.visitNode(k.expression,B,Re.isLeftHandSideExpression),Re.createPartiallyEmittedExpression(y,k);case 232:var m,g,h,y=e;return(e=>!Re.isConst(e)||R.preserveConstEnums||R.isolatedModules)(y)?(g=2,!ye(m=[],y)||U===Re.ModuleKind.System&&N===D||(g|=512),b=Ie(y),v=Pe(y),x=Re.hasModifier(y,1)?Re.getExternalModuleOrNamespaceExportName(w,y,!1,!0):Re.getLocalName(y,!1,!0),x=Re.createLogicalOr(x,Re.createAssignment(x,Re.createObjectLiteral())),me(y)&&(h=Re.getLocalName(y,!1,!0),x=Re.createAssignment(h,x)),h=Re.createStatement(Re.createCall(Re.createFunctionExpression(void 0,void 0,void 0,void 0,[Re.createParameter(void 0,void 0,void 0,b)],void 0,((e,t)=>{var r=w,t=(w=t,[]);return P(),Re.addRange(t,Re.map(e.members,_e)),Re.addRange(t,O()),w=r,Re.createBlock(Re.setTextRange(Re.createNodeArray(t),e.members),!0)})(y,v)),void 0,[x])),Re.setOriginalNode(h,y),Re.setTextRange(h,y),Re.setEmitFlags(h,g),m.push(h),m.push(Re.createEndOfDeclarationMarker(y)),m):void 0;case 208:var v,b=e;return W(b)?0!==(v=Re.getInitializedVariables(b.declarationList)).length?Re.setTextRange(Re.createStatement(Re.inlineExpressions(Re.map(v,fe))),b):void 0:Re.visitEachChild(b,B,E);case 226:return x=e,Re.updateVariableDeclaration(x,Re.visitNode(x.name,B,Re.isBindingName),void 0,Re.visitNode(x.initializer,B,Re.isExpression));case 233:return ve(e);case 237:return Ce(e);default:return Re.Debug.failBadSyntaxKind(e),Re.visitEachChild(e,B,E)}var x,y,k,S,T,C}function k(e){var t=(void 0===R.alwaysStrict?R.strict:R.alwaysStrict)&&!(Re.isExternalModule(e)&&U>=Re.ModuleKind.ES2015);return Re.updateSourceFileNode(e,Re.visitLexicalEnvironment(e.statements,g,E,0,t))}function Y(e){return void 0!==e.decorators&&0<e.decorators.length}function K(e,t){var r,n,i,a,s=[],t=(r=e,t=t,n=Re.forEach(r.members,c),i=262144&r.transformFlags,a=Re.getFirstConstructorWithBody(r),n||i?(n=(e=>Re.visitParameterList(e&&e.parameters,B,E)||[])(a),i=((e,t,r)=>{var n=[],i=0,a=(f(),t?(i=((e,t)=>{var r;return e.body?(e=e.body.statements,(r=Re.addPrologue(t,e,!1,B))!==e.length&&210===(e=e[r]).kind&&Re.isSuperCall(e.expression)?(t.push(Re.visitNode(e,B,Re.isStatement)),r+1):r):0})(t,n),a=(e=>Re.filter(e.parameters,S))(t),Re.addRange(n,Re.map(a,T))):r&&n.push(Re.createStatement(Re.createCall(Re.createSuper(),void 0,[Re.createSpread(Re.createIdentifier("arguments"))]))),z(e,!1));return $(n,a,Re.createThis()),t&&Re.addRange(n,Re.visitNodes(t.body.statements,B,Re.isStatement,i)),n=Re.mergeLexicalEnvironment(n,O()),Re.setTextRange(Re.createBlock(Re.setTextRange(Re.createNodeArray(n),t?t.body.statements:e.members),!0),t?t.body:void 0)})(r,a,t),Re.startOnNewLine(Re.setOriginalNode(Re.setTextRange(Re.createConstructor(void 0,void 0,n,i),a||r),a))):Re.visitEachChild(a,B,E));return t&&s.push(t),Re.addRange(s,Re.visitNodes(e.members,b,Re.isClassElement)),Re.setTextRange(Re.createNodeArray(s),e.members)}function S(e){return Re.hasModifier(e,92)&&Re.isIdentifier(e.name)}function T(e){Re.Debug.assert(Re.isIdentifier(e.name));var t=e.name,r=Re.getMutableClone(t),t=(Re.setEmitFlags(r,1584),Re.getMutableClone(t));return Re.setEmitFlags(t,1536),Re.startOnNewLine(Re.setTextRange(Re.createStatement(Re.createAssignment(Re.setTextRange(Re.createPropertyAccess(Re.createThis(),r),e.name),t)),Re.moveRangePos(e,-1)))}function z(e,t){return Re.filter(e.members,t?C:c)}function C(e){return n(e,!0)}function c(e){return n(e,!1)}function n(e,t){return 149===e.kind&&t===Re.hasModifier(e,32)&&void 0!==e.initializer}function $(e,t,r){for(var n=0,i=t;n<i.length;n++){var a=i[n],s=Re.createStatement(J(a,r));Re.setSourceMapRange(s,Re.moveRangePastModifiers(a)),Re.setCommentRange(s,a),e.push(s)}}function J(e,t){var r=H(e),e=Re.visitNode(e.initializer,B,Re.isExpression),t=Re.createMemberAccessForPropertyName(t,r,r);return Re.createAssignment(t,e)}function X(e){return i(e,!0)}function Z(e){return i(e,!1)}function i(e,t){return Re.nodeOrChildIsDecorated(e)&&t===Re.hasModifier(e,32)}function q(e){var t;if(e)for(var r=e.parameters,n=0;n<r.length;n++){var i=r[n];(t||i.decorators)&&((t=t||new Array(r.length))[n]=i.decorators)}return t}function ee(e,t){switch(t.kind){case 153:case 154:var r=e,n=t;if(n.body){var i=(r=Re.getAllAccessorDeclarations(r.members,n)).firstAccessor,a=r.secondAccessor,r=r.setAccessor;if((i=i.decorators?i:a&&a.decorators?a:void 0)&&n===i)return a=i.decorators,n=q(r),a||n?{decorators:a,parameters:n}:void 0}return;case 151:i=t;return i.body?(r=i.decorators,i=q(i),r||i?{decorators:r,parameters:i}:void 0):void 0;case 149:a=t;return(a=a.decorators)?{decorators:a}:void 0;default:return}}function V(e,t,r){var n;if(r)return Re.addRange(n=[],Re.map(r.decorators,re)),Re.addRange(n,Re.flatMap(r.parameters,ne)),r=e,e=t,t=n,R.emitDecoratorMetadata&&(ie(r)&&t.push(Ue(E,"design:type",oe(r))),se(r)&&t.push(Ue(E,"design:paramtypes",ce(r,e))),ae(r))&&t.push(Ue(E,"design:returntype",le(r))),n}function te(e,t,r){Re.addRange(e,Re.map(((e,t)=>{for(var r,t=((e,t)=>Re.filter(e.members,t?X:Z))(e,t),n=0,i=t;n<i.length;n++){var a=i[n],a=((e,t)=>{var r,n,i=ee(e,t);if(i=V(t,e,i))return e=((e,t)=>Re.hasModifier(t,32)?Re.getDeclarationName(e):Re.createPropertyAccess(Re.getDeclarationName(e),"prototype"))(e,t),r=de(t,!0),n=0<M?149===t.kind?Re.createVoidZero():Re.createNull():void 0,i=Me(E,i,e,r,n,Re.moveRangePastDecorators(t)),Re.setEmitFlags(i,1536),i})(e,a);a&&(r?r.push(a):r=[a])}return r})(t,r),De))}function re(e){return Re.visitNode(e.expression,B,Re.isExpression)}function ne(e,t){var r,n;if(e)for(var i=[],a=0,s=e;a<s.length;a++){var o=s[a],c=(c=E,r=re(o),n=t,o=o.expression,c.requestEmitHelper(Be),Re.setTextRange(Re.createCall(Re.getHelperName("__param"),void 0,[Re.createLiteral(n),r]),o));Re.setEmitFlags(c,1536),i.push(c)}return i}function ie(e){e=e.kind;return 151===e||153===e||154===e||149===e}function ae(e){return 151===e.kind}function se(e){switch(e.kind){case 229:case 199:return void 0!==Re.getFirstConstructorWithBody(e);case 151:case 153:case 154:return 1}}function oe(e){switch(e.kind){case 149:case 146:case 153:return d(e.type);case 154:return d(Re.getSetAccessorTypeAnnotationNode(e));case 229:case 199:case 151:return Re.createIdentifier("Function");default:return Re.createVoidZero()}}function ce(e,t){var e=Re.isClassLike(e)?Re.getFirstConstructorWithBody(e):Re.isFunctionLike(e)&&Re.nodeIsPresent(e.body)?e:void 0,r=[];if(e)for(var n=((e,t)=>{if(t&&153===e.kind){t=Re.getAllAccessorDeclarations(t.members,e).setAccessor;if(t)return t.parameters}return e.parameters})(e,t),i=n.length,a=0;a<i;a++){var s=n[a];0===a&&Re.isIdentifier(s.name)&&"this"===s.name.escapedText||(s.dotDotDotToken?r.push(d(Re.getRestParameterElementType(s.type))):r.push(oe(s)))}return Re.createArrayLiteral(r)}function le(e){return Re.isFunctionLike(e)&&e.type?d(e.type):Re.isAsyncFunction(e)?Re.createIdentifier("Promise"):Re.createVoidZero()}function d(e){if(void 0!==e)switch(e.kind){case 105:case 139:case 95:case 130:return Re.createVoidZero();case 168:return d(e.type);case 160:case 161:return Re.createIdentifier("Function");case 164:case 165:return Re.createIdentifier("Array");case 158:case 122:return Re.createIdentifier("Boolean");case 136:return Re.createIdentifier("String");case 134:return Re.createIdentifier("Object");case 173:switch(e.literal.kind){case 9:return Re.createIdentifier("String");case 8:return Re.createIdentifier("Number");case 101:case 86:return Re.createIdentifier("Boolean");default:Re.Debug.failBadSyntaxKind(e.literal)}break;case 133:return Re.createIdentifier("Number");case 137:return M<2?ue():Re.createIdentifier("Symbol");case 159:var t=e;switch(L.getTypeReferenceSerializationKind(t.typeName,N)){case Re.TypeReferenceSerializationKind.Unknown:var r=p(t.typeName,!0),n=Re.createTempVariable(F);return Re.createLogicalOr(Re.createLogicalAnd(Re.createTypeCheck(Re.createAssignment(n,r),"function"),n),Re.createIdentifier("Object"));case Re.TypeReferenceSerializationKind.TypeWithConstructSignatureAndValue:return p(t.typeName,!1);case Re.TypeReferenceSerializationKind.VoidNullableOrNeverType:return Re.createVoidZero();case Re.TypeReferenceSerializationKind.BooleanType:return Re.createIdentifier("Boolean");case Re.TypeReferenceSerializationKind.NumberLikeType:return Re.createIdentifier("Number");case Re.TypeReferenceSerializationKind.StringLikeType:return Re.createIdentifier("String");case Re.TypeReferenceSerializationKind.ArrayLikeType:return Re.createIdentifier("Array");case Re.TypeReferenceSerializationKind.ESSymbolType:return M<2?ue():Re.createIdentifier("Symbol");case Re.TypeReferenceSerializationKind.TypeWithCallSignature:return Re.createIdentifier("Function");case Re.TypeReferenceSerializationKind.Promise:return Re.createIdentifier("Promise");default:Re.TypeReferenceSerializationKind.ObjectType;return Re.createIdentifier("Object")}return;case 167:case 166:for(var i,a=0,s=e.types;a<s.length;a++){for(var o=s[a];168===o.kind;)o=o.type;if(130!==o.kind&&(_||95!==o.kind&&139!==o.kind)){var c=d(o);if(Re.isIdentifier(c)&&"Object"===c.escapedText)return c;if(i){if(!Re.isIdentifier(i)||!Re.isIdentifier(c)||i.escapedText!==c.escapedText)return Re.createIdentifier("Object")}else i=c}}return i||Re.createVoidZero();case 162:case 170:case 171:case 172:case 163:case 119:case 169:break;default:Re.Debug.failBadSyntaxKind(e)}return Re.createIdentifier("Object")}function p(e,t){switch(e.kind){case 71:var r=Re.getMutableClone(e);return r.flags&=-9,r.original=void 0,r.parent=Re.getParseTreeNode(N),t?Re.createLogicalAnd(Re.createStrictInequality(Re.createTypeOf(r),Re.createLiteral("undefined")),r):r;case 143:var r=e,n=t;return n=71===r.left.kind?p(r.left,n):n?(n=Re.createTempVariable(F),Re.createLogicalAnd(Re.createAssignment(n,p(r.left,!0)),n)):p(r.left,!1),Re.createPropertyAccess(n,r.right)}}function ue(){return Re.createConditional(Re.createTypeCheck(Re.createIdentifier("Symbol"),"function"),Re.createIdentifier("Symbol"),Re.createIdentifier("Object"))}function de(e,t){e=e.name;return Re.isComputedPropertyName(e)?t?Re.getGeneratedNameForNode(e):e.expression:Re.isIdentifier(e)?Re.createLiteral(Re.idText(e)):Re.getSynthesizedClone(e)}function H(e){var t,r=e.name;return Re.isComputedPropertyName(r)?(t=Re.visitNode(r.expression,B,Re.isExpression),e.decorators&&(e=Re.getGeneratedNameForNode(r),F(e),t=Re.createAssignment(e,t)),Re.updateComputedPropertyName(r,t)):r}function G(e){return!Re.nodeIsMissing(e.body)}function pe(e){return!Re.nodeIsMissing(e.body)||!Re.hasModifier(e,128)}function fe(e){var t=e.name;return Re.isBindingPattern(t)?Re.flattenDestructuringAssignment(e,B,E,0,!1,we):Re.setTextRange(Re.createAssignment(Ne(t),Re.visitNode(e.initializer,B,Re.isExpression)),e)}function _e(e){var t=de(e,!1),r=(n=e,void 0!==(r=L.getConstantValue(n))?Re.createLiteral(r):(0==(8&o)&&(o|=8,E.enableSubstitution(71)),n.initializer?Re.visitNode(n.initializer,B,Re.isExpression):Re.createVoidZero())),n=Re.createAssignment(Re.createElementAccess(w,t),r),r=9===r.kind?n:Re.createAssignment(Re.createElementAccess(w,n),t);return Re.setTextRange(Re.createStatement(Re.setTextRange(r,e)),e)}function me(e){return W(e)||Q(e)&&U!==Re.ModuleKind.ES2015&&U!==Re.ModuleKind.ESNext&&U!==Re.ModuleKind.System}function ge(e){l=l||Re.createUnderscoreEscapedMap();var t=he(e);l.has(t)||l.set(t,e)}function he(e){return Re.Debug.assertNode(e.name,Re.isIdentifier),e.name.escapedText}function ye(e,t){var r=Re.createVariableStatement(Re.visitNodes(t.modifiers,j,Re.isModifier),Re.createVariableDeclarationList([Re.createVariableDeclaration(Re.getLocalName(t,!1,!0))],265===N.kind?0:1));if(Re.setOriginalNode(r,t),ge(t),n=t,!l||(i=he(n),l.get(i)===n))return 232===t.kind?Re.setSourceMapRange(r.declarationList,t):Re.setSourceMapRange(r,t),Re.setCommentRange(r,t),Re.setEmitFlags(r,4195328),e.push(r),1;var n,i=Re.createMergeDeclarationMarker(r);Re.setEmitFlags(i,4195840),e.push(i)}function ve(e){var t,r,n,i,a,s;return Re.isInstantiatedModule(e,R.preserveConstEnums||R.isolatedModules)?(Re.Debug.assertNode(e.name,Re.isIdentifier,"A TypeScript namespace should have an Identifier name."),0==(2&o)&&(o|=2,E.enableSubstitution(71),E.enableSubstitution(262),E.enableEmitNotification(233)),r=2,!ye(t=[],e)||U===Re.ModuleKind.System&&N===D||(r|=512),n=Ie(e),i=Pe(e),a=Re.hasModifier(e,1)?Re.getExternalModuleOrNamespaceExportName(w,e,!1,!0):Re.getLocalName(e,!1,!0),a=Re.createLogicalOr(a,Re.createAssignment(a,Re.createObjectLiteral())),me(e)&&(s=Re.getLocalName(e,!1,!0),a=Re.createAssignment(s,a)),s=Re.createStatement(Re.createCall(Re.createFunctionExpression(void 0,void 0,void 0,void 0,[Re.createParameter(void 0,void 0,void 0,n)],void 0,((e,t)=>{var r,n,i,a=w,s=A,o=l,c=(w=t,A=e,l=void 0,[]);return P(),234===(t=e.body).kind?(u(t,function(e){return Re.addRange(c,Re.visitNodes(e.statements,y,Re.isStatement))}),r=t.statements,n=t):((i=ve(t))&&(Re.isArray(i)?Re.addRange(c,i):c.push(i)),i=function e(t){if(233===t.body.kind)return e(t.body)||t.body}(e).body,r=Re.moveRangePos(i.statements,-1)),Re.addRange(c,O()),w=a,A=s,l=o,e=Re.createBlock(Re.setTextRange(Re.createNodeArray(c),r),!0),Re.setTextRange(e,n),234!==t.kind&&Re.setEmitFlags(e,1536|Re.getEmitFlags(e)),e})(e,i)),void 0,[a])),Re.setOriginalNode(s,e),Re.setTextRange(s,e),Re.setEmitFlags(s,r),t.push(s),t.push(Re.createEndOfDeclarationMarker(e)),t):Re.createNotEmittedStatement(e)}function be(e){var t=L.isReferencedAliasDeclaration(e)?e.name:void 0,r=Re.visitNode(e.namedBindings,xe,Re.isNamedImportBindings);return t||r?Re.updateImportClause(e,t,r):void 0}function xe(e){var t;return 240===e.kind?L.isReferencedAliasDeclaration(e)?e:void 0:(t=Re.visitNodes(e.elements,ke,Re.isImportSpecifier),Re.some(t)?Re.updateNamedImports(e,t):void 0)}function ke(e){return L.isReferencedAliasDeclaration(e)?e:void 0}function Se(e){var t=Re.visitNodes(e.elements,Te,Re.isExportSpecifier);return Re.some(t)?Re.updateNamedExports(e,t):void 0}function Te(e){return L.isValueAliasDeclaration(e)?e:void 0}function Ce(e){var t,r,n;return Re.isExternalModuleImportEqualsDeclaration(e)?L.isReferencedAliasDeclaration(e)?Re.visitEachChild(e,B,E):void 0:(r=e,L.isReferencedAliasDeclaration(r)||!Re.isExternalModule(D)&&L.isTopLevelValueImportEqualsWithEntityName(r)?(r=Re.createExpressionFromEntityName(e.moduleReference),Re.setEmitFlags(r,3584),Ee(e)||!W(e)?Re.setOriginalNode(Re.setTextRange(Re.createVariableStatement(Re.visitNodes(e.modifiers,j,Re.isModifier),Re.createVariableDeclarationList([Re.setOriginalNode(Re.createVariableDeclaration(e.name,void 0,r),e)])),e),e):Re.setOriginalNode((t=e.name,r=r,n=e,Re.setTextRange(Re.createStatement(Re.createAssignment(Re.getNamespaceMemberName(w,t,!1,!0),r)),n)),e)):void 0)}function W(e){return void 0!==A&&Re.hasModifier(e,1)}function Q(e){return void 0===A&&Re.hasModifier(e,1)}function Ee(e){return Q(e)&&!Re.hasModifier(e,512)}function De(e){return Re.createStatement(e)}function Ae(e,t){var r=Re.createAssignment(Re.getExternalModuleOrNamespaceExportName(w,t,!1,!0),Re.getLocalName(t)),r=(Re.setSourceMapRange(r,Re.createRange((t.name||t).pos,t.end)),Re.createStatement(r));Re.setSourceMapRange(r,Re.createRange(-1,t.end)),e.push(r)}function we(e,t,r){return Re.setTextRange(Re.createAssignment(Ne(e),t),r)}function Ne(e){return Re.getNamespaceMemberName(w,e,!1,!0)}function Ie(e){var t=Re.getGeneratedNameForNode(e);return Re.setSourceMapRange(t,e.name),t}function Pe(e){return Re.getGeneratedNameForNode(e)}function Oe(){0==(1&o)&&(o|=1,E.enableSubstitution(71),I=[])}function Fe(e){if(o&a&&!Re.isGeneratedIdentifier(e)&&!Re.isLocalName(e)){var t=L.getReferencedExportContainer(e,!1);if(t&&265!==t.kind)if(2&a&&233===t.kind||8&a&&232===t.kind)return Re.setTextRange(Re.createPropertyAccess(Re.getGeneratedNameForNode(t),e),e)}}function Le(e){var t,r=(e=>!R.isolatedModules&&(Re.isPropertyAccessExpression(e)||Re.isElementAccessExpression(e))?L.getConstantValue(e):void 0)(e);return void 0!==r?(Re.setConstantValue(e,r),r=Re.createLiteral(r),R.removeComments||(t=Re.isPropertyAccessExpression(e)?Re.declarationNameToString(e.name):Re.getTextOfNode(e.argumentExpression),Re.addSyntheticTrailingComment(r,3," "+t+" ")),r):e}}),priority:2,text:'\n            var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n                var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n                if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n                else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n                return c > 3 && r && Object.defineProperty(target, key, r), r;\n            };'};function Ue(e,t,r){return e.requestEmitHelper(n),Re.createCall(Re.getHelperName("__metadata"),void 0,[Re.createLiteral(t),r])}var n={name:"typescript:metadata",scoped:!1,priority:3,text:'\n            var __metadata = (this && this.__metadata) || function (k, v) {\n                if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n            };'},Be={name:"typescript:param",scoped:!1,priority:4,text:"\n            var __param = (this && this.__param) || function (paramIndex, decorator) {\n                return function (target, key) { decorator(target, key, paramIndex); }\n            };"}})(ts=ts||{}),(y=>{var i={name:"typescript:awaiter",scoped:!(y.transformES2017=function(s){var a,r=s.startLexicalEnvironment,o=s.resumeLexicalEnvironment,c=s.endLexicalEnvironment,l=s.getEmitResolver(),e=s.getCompilerOptions(),u=y.getEmitScriptTarget(e),d=0,p=s.onEmitNode,n=s.onSubstituteNode;return s.onEmitNode=function(e,t,r){if(1&a&&(e=>229===(e=e.kind)||152===e||151===e||153===e||154===e)(t)){var n,i=6144&l.getNodeCheckFlags(t);if(i!==d)return n=d,d=i,p(e,t,r),void(d=n)}p(e,t,r)},s.onSubstituteNode=function(e,t){if(t=n(e,t),1===e&&d)return(e=>{switch(e.kind){case 179:return g(e);case 180:return h(e);case 181:return(e=>{var t=e.expression;return y.isSuperProperty(t)?(t=(y.isPropertyAccessExpression(t)?g:h)(t),y.createCall(y.createPropertyAccess(t,"call"),void 0,[y.createThis()].concat(e.arguments))):e})(e)}return e})(t);return t},function(e){if(e.isDeclarationFile)return e;e=y.visitEachChild(e,f,s);return y.addEmitHelpers(e,s.readEmitHelpers()),e};function f(e){if(0==(16&e.transformFlags))return e;switch(e.kind){case 120:return;case 191:return n=e,y.setOriginalNode(y.setTextRange(y.createYield(void 0,y.visitNode(n.expression,f,y.isExpression)),n),n);case 151:return n=e,y.updateMethod(n,void 0,y.visitNodes(n.modifiers,f,y.isModifier),n.asteriskToken,n.name,void 0,void 0,y.visitParameterList(n.parameters,f,s),void 0,2&y.getFunctionFlags(n)?i(n):y.visitFunctionBody(n.body,f,s));case 228:return r=e,y.updateFunctionDeclaration(r,void 0,y.visitNodes(r.modifiers,f,y.isModifier),r.asteriskToken,r.name,void 0,y.visitParameterList(r.parameters,f,s),void 0,2&y.getFunctionFlags(r)?i(r):y.visitFunctionBody(r.body,f,s));case 186:return r=e,y.updateFunctionExpression(r,y.visitNodes(r.modifiers,f,y.isModifier),r.asteriskToken,r.name,void 0,y.visitParameterList(r.parameters,f,s),void 0,2&y.getFunctionFlags(r)?i(r):y.visitFunctionBody(r.body,f,s));case 187:return t=e,y.updateArrowFunction(t,y.visitNodes(t.modifiers,f,y.isModifier),void 0,y.visitParameterList(t.parameters,f,s),void 0,t.equalsGreaterThanToken,2&y.getFunctionFlags(t)?i(t):y.visitFunctionBody(t.body,f,s));default:return y.visitEachChild(e,f,s)}var t,r,n}function i(e){o();var t,r,n=y.getOriginalNode(e,y.isFunctionLike).type,n=u<2?(e=>{if((e=e&&y.getEntityNameFromTypeNode(e))&&y.isEntityName(e)){var t=l.getTypeReferenceSerializationKind(e);if(t===y.TypeReferenceSerializationKind.TypeWithConstructSignatureAndValue||t===y.TypeReferenceSerializationKind.Unknown)return e}})(n):void 0,i=187===e.kind,a=0!=(8192&l.getNodeCheckFlags(e));return i?(i=v(s,a,n,_(e.body)),t=c(),y.some(t)?(r=y.convertToFunctionBody(i),y.updateBlock(r,y.setTextRange(y.createNodeArray(y.concatenate(r.statements,t)),r.statements))):i):(i=y.addPrologue(t=[],e.body.statements,!1,f),t.push(y.createReturn(v(s,a,n,_(e.body,i)))),y.addRange(t,c()),r=y.createBlock(t,!0),y.setTextRange(r,e.body),2<=u&&(4096&l.getNodeCheckFlags(e)?(m(),y.addEmitHelper(r,y.advancedAsyncSuperHelper)):2048&l.getNodeCheckFlags(e)&&(m(),y.addEmitHelper(r,y.asyncSuperHelper))),r)}function _(e,t){return y.isBlock(e)?y.updateBlock(e,y.visitLexicalEnvironment(e.statements,f,s,t)):(r(),t=y.convertToFunctionBody(y.visitNode(e,f,y.isConciseBody)),e=c(),y.updateBlock(t,y.setTextRange(y.createNodeArray(y.concatenate(t.statements,e)),t.statements)))}function m(){0==(1&a)&&(a|=1,s.enableSubstitution(181),s.enableSubstitution(179),s.enableSubstitution(180),s.enableEmitNotification(229),s.enableEmitNotification(151),s.enableEmitNotification(153),s.enableEmitNotification(154),s.enableEmitNotification(152))}function g(e){return 97===e.expression.kind?t(y.createLiteral(y.idText(e.name)),e):e}function h(e){return 97===e.expression.kind?t(e.argumentExpression,e):e}function t(e,t){return 4096&d?y.setTextRange(y.createPropertyAccess(y.createCall(y.createIdentifier("_super"),void 0,[e]),"value"),t):y.setTextRange(y.createCall(y.createIdentifier("_super"),void 0,[e]),t)}}),priority:5,text:'\n            var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n                return new (P || (P = Promise))(function (resolve, reject) {\n                    function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n                    function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n                    function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n                    step((generator = generator.apply(thisArg, _arguments || [])).next());\n                });\n            };'};function v(e,t,r,n){e.requestEmitHelper(i);e=y.createFunctionExpression(void 0,y.createToken(39),void 0,void 0,[],void 0,n);return(e.emitNode||(e.emitNode={})).flags|=786432,y.createCall(y.getHelperName("__awaiter"),void 0,[y.createThis(),t?y.createIdentifier("arguments"):y.createVoidZero(),r?y.createExpressionFromEntityName(r):y.createVoidZero(),e])}y.asyncSuperHelper={name:"typescript:async-super",scoped:!0,text:"\n            const _super = name => super[name];\n        "},y.advancedAsyncSuperHelper={name:"typescript:advanced-async-super",scoped:!0,text:"\n            const _super = (function (geti, seti) {\n                const cache = Object.create(null);\n                return name => cache[name] || (cache[name] = { get value() { return geti(name); }, set value(v) { seti(name, v); } });\n            })(name => super[name], (name, value) => super[name] = value);\n        "}})(ts=ts||{}),(C=>{var r={name:"typescript:assign",scoped:!(C.transformESNext=function(g){var a,h,s=g.resumeLexicalEnvironment,o=g.endLexicalEnvironment,_=g.hoistVariableDeclaration,c=g.getEmitResolver(),e=g.getCompilerOptions(),i=C.getEmitScriptTarget(e),l=g.onEmitNode,r=(g.onEmitNode=function(e,t,r){if(1&a&&(e=>229===(e=e.kind)||152===e||151===e||153===e||154===e)(t)){var n,i=6144&c.getNodeCheckFlags(t);if(i!==u)return n=u,u=i,l(e,t,r),void(u=n)}l(e,t,r)},g.onSubstituteNode),u=(g.onSubstituteNode=function(e,t){if(t=r(e,t),1===e&&u)return(e=>{switch(e.kind){case 179:return n(e);case 180:return f(e);case 181:return(e=>{var t=e.expression;return C.isSuperProperty(t)?(t=(C.isPropertyAccessExpression(t)?n:f)(t),C.createCall(C.createPropertyAccess(t,"call"),void 0,[C.createThis()].concat(e.arguments))):e})(e)}return e})(t);return t},0);return function(e){if(e.isDeclarationFile)return e;e=C.visitEachChild(e,y,g);return C.addEmitHelpers(e,g.readEmitHelpers()),e};function y(e){return t(e,!1)}function v(e){return t(e,!0)}function b(e){if(120!==e.kind)return e}function t(e,t){if(0==(8&e.transformFlags))return e;switch(e.kind){case 191:var r=e;return 2&h&&1&h?C.setOriginalNode(C.setTextRange(C.createYield(A(g,C.visitNode(r.expression,y,C.isExpression))),r),r):C.visitEachChild(r,y,g);case 197:r=e;return 2&h&&1&h&&r.asteriskToken?(n=C.visitNode(r.expression,y,C.isExpression),C.setOriginalNode(C.setTextRange(C.createYield(A(g,C.updateYield(r,r.asteriskToken,((e,t,r)=>(e.requestEmitHelper(D),e.requestEmitHelper(N),C.setTextRange(C.createCall(C.getHelperName("__asyncDelegator"),void 0,[t]),r)))(g,I(g,n,n),n)))),r),r)):C.visitEachChild(r,y,g);case 222:var n=e;return 2&h&&1&h?216===(i=C.unwrapInnermostStatementOfLabel(n)).kind&&i.awaitModifier?x(i,n):C.restoreEnclosingLabel(C.visitEachChild(n,y,g),n):C.visitEachChild(n,y,g);case 178:var i=e;return 1048576&i.transformFlags?((a=(e=>{for(var t,r=[],n=0,i=e;n<i.length;n++){var a,s=i[n];263===s.kind?(t&&(r.push(C.createObjectLiteral(t)),t=void 0),a=s.expression,r.push(C.visitNode(a,y,C.isExpression))):(t=t||[],261===s.kind?t.push(C.createPropertyAssignment(s.name,C.visitNode(s.initializer,y,C.isExpression))):t.push(C.visitNode(s,y,C.isObjectLiteralElementLike)))}return t&&r.push(C.createObjectLiteral(t)),r})(i.properties)).length&&178!==a[0].kind&&a.unshift(C.createObjectLiteral()),E(g,a)):C.visitEachChild(i,y,g);case 194:var a=e,s=t;return C.isDestructuringAssignment(a)&&1048576&a.left.transformFlags?C.flattenDestructuringAssignment(a,y,g,1,!s):26===a.operatorToken.kind?C.updateBinary(a,C.visitNode(a.left,v,C.isExpression),C.visitNode(a.right,s?v:y,C.isExpression)):C.visitEachChild(a,y,g);case 226:s=e;return C.isBindingPattern(s.name)&&1048576&s.name.transformFlags?C.flattenDestructuringBinding(s,y,g,1):C.visitEachChild(s,y,g);case 216:return x(e,void 0);case 214:return m=e,C.updateFor(m,C.visitNode(m.initializer,v,C.isForInitializer),C.visitNode(m.condition,y,C.isExpression),C.visitNode(m.incrementor,y,C.isExpression),C.visitNode(m.statement,y,C.isStatement));case 190:return C.visitEachChild(e,v,g);case 152:return m=e,_=h,h=0,m=C.updateConstructor(m,void 0,m.modifiers,C.visitParameterList(m.parameters,y,g),S(m)),h=_,m;case 151:return _=e,f=h,h=C.getFunctionFlags(_),_=C.updateMethod(_,void 0,1&h?C.visitNodes(_.modifiers,b,C.isModifier):_.modifiers,2&h?void 0:_.asteriskToken,C.visitNode(_.name,y,C.isPropertyName),C.visitNode(void 0,y,C.isToken),void 0,C.visitParameterList(_.parameters,y,g),void 0,(2&h&&1&h?k:S)(_)),h=f,_;case 153:return f=e,p=h,h=0,f=C.updateGetAccessor(f,void 0,f.modifiers,C.visitNode(f.name,y,C.isPropertyName),C.visitParameterList(f.parameters,y,g),void 0,S(f)),h=p,f;case 154:return p=e,d=h,h=0,p=C.updateSetAccessor(p,void 0,p.modifiers,C.visitNode(p.name,y,C.isPropertyName),C.visitParameterList(p.parameters,y,g),S(p)),h=d,p;case 228:return d=e,u=h,h=C.getFunctionFlags(d),d=C.updateFunctionDeclaration(d,void 0,1&h?C.visitNodes(d.modifiers,b,C.isModifier):d.modifiers,2&h?void 0:d.asteriskToken,d.name,void 0,C.visitParameterList(d.parameters,y,g),void 0,(2&h&&1&h?k:S)(d)),h=u,d;case 186:return u=e,l=h,h=C.getFunctionFlags(u),u=C.updateFunctionExpression(u,1&h?C.visitNodes(u.modifiers,b,C.isModifier):u.modifiers,2&h?void 0:u.asteriskToken,u.name,void 0,C.visitParameterList(u.parameters,y,g),void 0,(2&h&&1&h?k:S)(u)),h=l,u;case 187:return l=e,c=h,h=C.getFunctionFlags(l),l=C.updateArrowFunction(l,l.modifiers,void 0,C.visitParameterList(l.parameters,y,g),void 0,l.equalsGreaterThanToken,S(l)),h=c,l;case 146:c=e;return 1048576&c.transformFlags?C.updateParameter(c,void 0,void 0,c.dotDotDotToken,C.getGeneratedNameForNode(c),void 0,void 0,C.visitNode(c.initializer,y,C.isExpression)):C.visitEachChild(c,y,g);case 210:return C.visitEachChild(e,v,g);case 185:return C.visitEachChild(e,t?v:y,g);case 260:return(o=e).variableDeclaration?C.visitEachChild(o,y,g):C.updateCatchClause(o,C.createVariableDeclaration(C.createTempVariable(void 0)),C.visitNode(o.block,y,C.isBlock));default:return C.visitEachChild(e,y,g)}var o,c,l,u,d,p,f,_,m}function x(e,t){return(e=1048576&e.initializer.transformFlags?(e=>{var t,r,n,i=C.skipParentheses(e.initializer);return C.isVariableDeclarationList(i)||C.isAssignmentPattern(i)?(r=t=void 0,n=C.createTempVariable(void 0),i=[C.createForOfBindingStatement(i,n)],C.isBlock(e.statement)&&(C.addRange(i,e.statement.statements),t=e.statement,r=e.statement.statements),C.updateForOf(e,e.awaitModifier,C.setTextRange(C.createVariableDeclarationList([C.setTextRange(C.createVariableDeclaration(n),e.initializer)],1),e.initializer),e.expression,C.setTextRange(C.createBlock(C.setTextRange(C.createNodeArray(i),r),!0),t))):e})(e):e).awaitModifier?(r=e,n=t,i=C.visitNode(r.expression,y,C.isExpression),a=C.isIdentifier(i)?C.getGeneratedNameForNode(i):C.createTempVariable(void 0),s=C.isIdentifier(i)?C.getGeneratedNameForNode(a):C.createTempVariable(void 0),o=C.createUniqueName("e"),c=C.getGeneratedNameForNode(o),l=C.createTempVariable(void 0),i=I(g,i,r.expression),u=C.createCall(C.createPropertyAccess(a,"next"),void 0,[]),d=C.createPropertyAccess(s,"done"),p=C.createPropertyAccess(s,"value"),f=C.createFunctionCall(l,a,[]),_(o),_(l),i=C.setEmitFlags(C.setTextRange(C.createFor(C.setEmitFlags(C.setTextRange(C.createVariableDeclarationList([C.setTextRange(C.createVariableDeclaration(a,void 0,i),r.expression),C.createVariableDeclaration(s)]),r.expression),2097152),C.createComma(C.createAssignment(s,m(u)),C.createLogicalNot(d)),void 0,((e,t)=>{var r,n,t=C.createForOfBindingStatement(e.initializer,t),t=[C.visitNode(t,y,C.isStatement)],e=C.visitNode(e.statement,y,C.isStatement);return C.isBlock(e)?(C.addRange(t,e.statements),n=(r=e).statements):t.push(e),C.setEmitFlags(C.setTextRange(C.createBlock(C.setTextRange(C.createNodeArray(t),n),!0),r),432)})(r,m(p))),r),256),C.createTry(C.createBlock([C.restoreEnclosingLabel(i,n)]),C.createCatchClause(C.createVariableDeclaration(c),C.setEmitFlags(C.createBlock([C.createStatement(C.createAssignment(o,C.createObjectLiteral([C.createPropertyAssignment("error",c)])))]),1)),C.createBlock([C.createTry(C.createBlock([C.setEmitFlags(C.createIf(C.createLogicalAnd(C.createLogicalAnd(s,C.createLogicalNot(d)),C.createAssignment(l,C.createPropertyAccess(a,"return"))),C.createStatement(m(f))),1)]),void 0,C.setEmitFlags(C.createBlock([C.setEmitFlags(C.createIf(o,C.createThrow(C.createPropertyAccess(o,"error"))),1)]),1))]))):C.restoreEnclosingLabel(C.visitEachChild(e,y,g),t);var r,n,i,a,s,o,c,l,u,d,p,f}function m(e){return 1&h?C.createYield(void 0,A(g,e)):C.createAwait(e)}function k(e){s();var t=[],r=C.addPrologue(t,e.body.statements,!1,y),n=(d(t,e),t.push(C.createReturn((n=g,r=C.createFunctionExpression(void 0,C.createToken(39),e.name&&C.getGeneratedNameForNode(e.name),void 0,[],void 0,C.updateBlock(e.body,C.visitLexicalEnvironment(e.body.statements,y,g,r))),n.requestEmitHelper(D),n.requestEmitHelper(w),(r.emitNode||(r.emitNode={})).flags|=262144,C.createCall(C.getHelperName("__asyncGenerator"),void 0,[C.createThis(),C.createIdentifier("arguments"),r])))),C.addRange(t,o()),C.updateBlock(e.body,t));return 2<=i&&(4096&c.getNodeCheckFlags(e)?(p(),C.addEmitHelper(n,C.advancedAsyncSuperHelper)):2048&c.getNodeCheckFlags(e)&&(p(),C.addEmitHelper(n,C.asyncSuperHelper))),n}function S(e){s();var t,r=0,n=[],i=C.visitNode(e.body,y,C.isConciseBody),e=(C.isBlock(i)&&(r=C.addPrologue(n,i.statements,!1,y)),C.addRange(n,d(void 0,e)),o());return 0<r||C.some(n)||C.some(e)?(t=C.convertToFunctionBody(i,!0),C.addRange(n,t.statements.slice(r)),C.addRange(n,e),C.updateBlock(t,C.setTextRange(C.createNodeArray(n),t.statements))):i}function d(e,t){for(var r=0,n=t.parameters;r<n.length;r++){var i,a=n[r];1048576&a.transformFlags&&(i=C.getGeneratedNameForNode(a),a=C.flattenDestructuringBinding(a,y,g,1,i,!1,!0),C.some(a))&&(i=C.createVariableStatement(void 0,C.createVariableDeclarationList(a)),C.setEmitFlags(i,1048576),e=C.append(e,i))}return e}function p(){0==(1&a)&&(a|=1,g.enableSubstitution(181),g.enableSubstitution(179),g.enableSubstitution(180),g.enableEmitNotification(229),g.enableEmitNotification(151),g.enableEmitNotification(153),g.enableEmitNotification(154),g.enableEmitNotification(152))}function n(e){return 97===e.expression.kind?T(C.createLiteral(C.idText(e.name)),e):e}function f(e){return 97===e.expression.kind?T(e.argumentExpression,e):e}function T(e,t){return 4096&u?C.setTextRange(C.createPropertyAccess(C.createCall(C.createIdentifier("_super"),void 0,[e]),"value"),t):C.setTextRange(C.createCall(C.createIdentifier("_super"),void 0,[e]),t)}}),priority:1,text:"\n            var __assign = (this && this.__assign) || Object.assign || function(t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                        t[p] = s[p];\n                }\n                return t;\n            };"};function E(e,t){return 2<=e.getCompilerOptions().target?C.createCall(C.createPropertyAccess(C.createIdentifier("Object"),"assign"),void 0,t):(e.requestEmitHelper(r),C.createCall(C.getHelperName("__assign"),void 0,t))}C.createAssignHelper=E;var D={name:"typescript:await",scoped:!1,text:"\n            var __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\n        "};function A(e,t){return e.requestEmitHelper(D),C.createCall(C.getHelperName("__await"),void 0,[t])}var w={name:"typescript:asyncGenerator",scoped:!1,text:'\n            var __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n                if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");\n                var g = generator.apply(thisArg, _arguments || []), i, q = [];\n                return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;\n                function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n                function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n                function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\n                function fulfill(value) { resume("next", value); }\n                function reject(value) { resume("throw", value); }\n                function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n            };\n        '},N={name:"typescript:asyncDelegator",scoped:!1,text:'\n            var __asyncDelegator = (this && this.__asyncDelegator) || function (o) {\n                var i, p;\n                return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;\n                function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; }; }\n            };\n        '},n={name:"typescript:asyncValues",scoped:!1,text:'\n            var __asyncValues = (this && this.__asyncIterator) || function (o) {\n                if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");\n                var m = o[Symbol.asyncIterator];\n                return m ? m.call(o) : typeof __values === "function" ? __values(o) : o[Symbol.iterator]();\n            };\n        '};function I(e,t,r){return e.requestEmitHelper(n),C.setTextRange(C.createCall(C.getHelperName("__asyncValues"),void 0,[t]),r)}})(ts=ts||{}),(_=>{_.transformJsx=function(c){var l=c.getCompilerOptions();return function(e){if(e.isDeclarationFile)return e;e=_.visitEachChild(e,r,c);return _.addEmitHelpers(e,c.readEmitHelpers()),e};function r(e){if(!(4&e.transformFlags))return e;var t=e;switch(t.kind){case 249:return n(t,!1);case 250:return i(t,!1);case 256:return f(t);default:return _.visitEachChild(t,r,c)}}function u(e){switch(e.kind){case 10:var t=e;return void 0===(t=(e=>{for(var t,r=0,n=-1,i=0;i<e.length;i++){var a=e.charCodeAt(i);_.isLineBreak(a)?(-1!==r&&-1!==n&&(t=s(t,e.substr(r,n-r+1))),r=-1):_.isWhiteSpaceSingleLine(a)||(n=i,-1===r&&(r=i))}return-1!==r?s(t,e.substr(r)):t})(_.getTextOfNode(t,!0)))?void 0:_.createLiteral(t);case 256:return f(e);case 249:return n(e,!0);case 250:return i(e,!0);default:return void _.Debug.failBadSyntaxKind(e)}}function n(e,t){return a(e.openingElement,e.children,t,e)}function i(e,t){return a(e,void 0,t,e)}function a(e,t,r,n){var i,a=function e(t){return 249===t.kind?e(t.openingElement):(t=t.tagName,_.isIdentifier(t)&&_.isIntrinsicJsxName(t.escapedText)?_.createLiteral(_.idText(t)):_.createExpressionFromEntityName(t))}(e),s=e.attributes.properties,o=0===s.length?_.createNull():(i=_.flatten(_.spanMap(s,_.isJsxSpreadAttribute,function(e,t){return t?_.map(e,d):_.createObjectLiteral(_.map(e,p))})),_.isJsxSpreadAttribute(s[0])&&i.unshift(_.createObjectLiteral()),(o=_.singleOrUndefined(i))||_.createAssignHelper(c,i)),s=_.createExpressionForJsxElement(c.getEmitResolver().getJsxFactoryEntity(),l.reactNamespace,a,o,_.mapDefined(t,u),e,n);return r&&_.startOnNewLine(s),s}function d(e){return _.visitNode(e.expression,r,_.isExpression)}function p(e){t=(t=e).name,r=_.idText(t);var t=/^[A-Za-z_]\w*$/.test(r)?t:_.createLiteral(r),r=(e=>{var t;return void 0===e?_.createTrue():9===e.kind?(t=(e=>{var t=o(e);return t===e?void 0:t})(e.text))?_.setTextRange(_.createLiteral(t),e):e:256===e.kind?void 0===e.expression?_.createTrue():f(e):void _.Debug.failBadSyntaxKind(e)})(e.initializer);return _.createPropertyAssignment(t,r)}function s(e,t){t=o(t);return void 0===e?t:e+" "+t}function o(e){return e.replace(/&((#((\d+)|x([\da-fA-F]+)))|(\w+));/g,function(e,t,r,n,i,a,s){return i?String.fromCharCode(parseInt(i,10)):a?String.fromCharCode(parseInt(a,16)):(i=m.get(s))?String.fromCharCode(i):e})}function f(e){return _.visitNode(e.expression,r,_.isExpression)}};var m=_.createMapFromTemplate({quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830})})(ts=ts||{}),(c=>{c.transformES2016=function(r){var s=r.hoistVariableDeclaration;return function(e){if(e.isDeclarationFile)return e;return c.visitEachChild(e,o,r)};function o(e){if(0==(32&e.transformFlags))return e;if(194!==e.kind)return c.visitEachChild(e,o,r);var t=e;switch(t.operatorToken.kind){case 62:return(e=>{var t,r,n,i=c.visitNode(e.left,o,c.isExpression),a=c.visitNode(e.right,o,c.isExpression);return r=c.isElementAccessExpression(i)?(n=c.createTempVariable(s),r=c.createTempVariable(s),t=c.setTextRange(c.createElementAccess(c.setTextRange(c.createAssignment(n,i.expression),i.expression),c.setTextRange(c.createAssignment(r,i.argumentExpression),i.argumentExpression)),i),c.setTextRange(c.createElementAccess(n,r),i)):c.isPropertyAccessExpression(i)?(n=c.createTempVariable(s),t=c.setTextRange(c.createPropertyAccess(c.setTextRange(c.createAssignment(n,i.expression),i.expression),i.name),i),c.setTextRange(c.createPropertyAccess(n,i.name),i)):t=i,c.setTextRange(c.createAssignment(t,c.createMathPow(r,a,e)),e)})(t);case 40:return(e=>{var t=c.visitNode(e.left,o,c.isExpression),r=c.visitNode(e.right,o,c.isExpression);return c.createMathPow(t,r,e)})(t);default:return c.visitEachChild(t,o,r)}}}})(ts=ts||{}),(fe=>{var _e={name:"typescript:extends",scoped:!(fe.transformES2015=function(S){var u,s,T,d,C,i,E=S.startLexicalEnvironment,c=S.resumeLexicalEnvironment,D=S.endLexicalEnvironment,y=S.hoistVariableDeclaration,o=S.getCompilerOptions(),A=S.getEmitResolver(),U=S.onSubstituteNode,a=S.onEmitNode;return S.onEmitNode=function(e,t,r){var n;1&i&&fe.isFunctionLike(t)?(n=v(16286,8&fe.getEmitFlags(t)?81:65),a(e,t,r),b(n,0,0)):a(e,t,r)},S.onSubstituteNode=function(e,t){if(t=U(e,t),1===e)return(e=>{switch(e.kind){case 71:return(e=>{if(2&i&&!fe.isInternalName(e)){var t=A.getReferencedDeclarationWithCollidingName(e);if(t&&(!fe.isClassLike(t)||!((e,t)=>{var r=fe.getParseTreeNode(t);if(!(!r||r===e||r.end<=e.pos||r.pos>=e.end))for(var n=fe.getEnclosingBlockScopeContainer(e);r;){if(r===n||r===e)return;if(fe.isClassElement(r)&&r.parent===e)return 1;r=r.parent}})(t,e)))return fe.setTextRange(fe.getGeneratedNameForNode(fe.getNameOfDeclaration(t)),e)}return e})(e);case 99:return(e=>1&i&&16&T?fe.setTextRange(fe.createIdentifier("_this"),e):e)(e)}return e})(t);if(fe.isIdentifier(t))return(e=>{if(2&i&&!fe.isInternalName(e)){var t=fe.getParseTreeNode(e,fe.isIdentifier);if(t&&(e=>{var t=e.parent;switch(t.kind){case 176:case 229:case 232:case 226:return t.name===e&&A.isDeclarationWithCollidingName(t)}})(t))return fe.setTextRange(fe.getGeneratedNameForNode(t),e)}return e})(t);return t},function(e){if(e.isDeclarationFile)return e;s=(u=e).text;e=(e=>{var t=v(3968,64),r=[],n=(E(),fe.addStandardPrologue(r,e.statements,!1));return p(r,e),n=fe.addCustomPrologue(r,e.statements,n,w),fe.addRange(r,fe.visitNodes(e.statements,w,fe.isStatement,n)),d&&r.push(fe.createVariableStatement(void 0,fe.createVariableDeclarationList(d))),fe.addRange(r,D()),b(t,0,0),fe.updateSourceFileNode(e,fe.setTextRange(fe.createNodeArray(r),e.statements))})(e);return fe.addEmitHelpers(e,S.readEmitHelpers()),u=void 0,s=void 0,d=void 0,T=0,e};function v(e,t){var r=T;return T=16383&(T&~e|t),r}function b(e,t,r){T=-16384&(T&~t|r)|e}function r(e){return 4096&T&&219===e.kind&&!e.expression}function B(e){return 0!=(128&e.transformFlags)||void 0!==C||4096&T&&(fe.isStatement(e)||207===e.kind)||fe.isIterationStatement(e,!1)&&ie(e)||0!=(33554432&fe.getEmitFlags(e))}function w(e){if(!B(e))return e;var t=e;switch(t.kind){case 115:return;case 229:return(e=>{var t=fe.createVariableDeclaration(fe.getLocalName(e,!0),void 0,z(e)),r=(fe.setOriginalNode(t,e),[]),t=fe.createVariableStatement(void 0,fe.createVariableDeclarationList([t])),n=(fe.setOriginalNode(t,e),fe.setTextRange(t,e),fe.startOnNewLine(t),r.push(t),fe.hasModifier(e,1)&&(n=fe.hasModifier(e,512)?fe.createExportDefault(fe.getLocalName(e)):fe.createExternalModuleExport(fe.getLocalName(e)),fe.setOriginalNode(n,t),r.push(n)),fe.getEmitFlags(e));return 0==(4194304&n)&&(r.push(fe.createEndOfDeclarationMarker(e)),fe.setEmitFlags(t,4194304|n)),fe.singleOrMany(r)})(t);case 199:return z(t);case 146:return(e=>{if(!e.dotDotDotToken)return fe.isBindingPattern(e.name)?fe.setOriginalNode(fe.setTextRange(fe.createParameter(void 0,void 0,void 0,fe.getGeneratedNameForNode(e),void 0,void 0,void 0),e),e):e.initializer?fe.setOriginalNode(fe.setTextRange(fe.createParameter(void 0,void 0,void 0,e.name,void 0,void 0,void 0),e),e):e})(t);case 228:return(e=>{var t=C,r=(C=void 0,v(16286,65)),n=fe.visitParameterList(e.parameters,w,S),i=(64&e.transformFlags?g:H)(e),a=16384&T?fe.getLocalName(e):e.name;return b(r,49152,0),C=t,fe.updateFunctionDeclaration(e,void 0,fe.visitNodes(e.modifiers,w,fe.isModifier),e.asteriskToken,a,void 0,n,void 0,i)})(t);case 187:return(e=>{16384&e.transformFlags&&M();var t=C,r=(C=void 0,v(16256,66)),n=fe.createFunctionExpression(void 0,void 0,void 0,void 0,fe.visitParameterList(e.parameters,w,S),void 0,g(e));return fe.setTextRange(n,e),fe.setOriginalNode(n,e),fe.setEmitFlags(n,8),b(r,0,0),C=t,n})(t);case 186:return(e=>{var t=262144&fe.getEmitFlags(e)?v(16278,69):v(16286,65),r=C,n=(C=void 0,fe.visitParameterList(e.parameters,w,S)),i=(64&e.transformFlags?g:H)(e),a=16384&T?fe.getLocalName(e):e.name;return b(t,49152,0),C=r,fe.updateFunctionExpression(e,void 0,e.asteriskToken,a,void 0,n,void 0,i)})(t);case 226:return k(t);case 71:return(e=>C&&!fe.isGeneratedIdentifier(e)&&"arguments"===e.escapedText&&A.isArgumentsLocalBinding(e)?C.argumentsName||(C.argumentsName=fe.createUniqueName("arguments")):e)(t);case 227:return(e=>{var t,r,n;return 64&e.transformFlags?(3&e.flags&&R(),n=fe.flatMap(e.declarations,1&e.flags?W:k),t=fe.createVariableDeclarationList(n),fe.setOriginalNode(t,e),fe.setTextRange(t,e),fe.setCommentRange(t,e),8388608&e.transformFlags&&(fe.isBindingPattern(e.declarations[0].name)||fe.isBindingPattern(fe.lastOrUndefined(e.declarations).name))&&(r=fe.firstOrUndefined(n))&&(n=fe.lastOrUndefined(n),fe.setSourceMapRange(t,fe.createRange(r.pos,n.end))),t):fe.visitEachChild(e,w,S)})(t);case 221:return(e=>{var t;return void 0===C?fe.visitEachChild(e,w,S):(t=C.allowedNonLabeledJumps,C.allowedNonLabeledJumps|=2,e=fe.visitEachChild(e,w,S),C.allowedNonLabeledJumps=t,e)})(t);case 235:return(e=>{var t=v(4032,0),e=fe.visitEachChild(e,w,S);return b(t,0,0),e})(t);case 207:return G(t,!1);case 218:case 217:return(e=>{if(C){var t=218===e.kind?2:4;if(!(e.label&&C.labels&&C.labels.get(fe.idText(e.label))||!e.label&&C.allowedNonLabeledJumps&t)){t=void 0,t=(e.label?218===e.kind?(t="break-"+e.label.escapedText,O(C,!0,fe.idText(e.label),t)):(t="continue-"+e.label.escapedText,O(C,!1,fe.idText(e.label),t)):t=218===e.kind?(C.nonLocalJumps|=2,"break"):(C.nonLocalJumps|=4,"continue"),fe.createLiteral(t));if(C.loopOutParameters.length){for(var r=C.loopOutParameters,n=void 0,i=0;i<r.length;i++){var a=ae(r[i],1);n=0===i?a:fe.createBinary(n,26,a)}t=fe.createBinary(n,26,t)}return fe.createReturn(t)}}return fe.visitEachChild(e,w,S)})(t);case 222:return(e=>{C&&!C.labels&&(C.labels=fe.createMap());var t=fe.unwrapInnermostStatementOfLabel(e,C&&Q);if(!fe.isIterationStatement(t,!1))return fe.restoreEnclosingLabel(fe.visitNode(t,w,fe.isStatement),e,C&&N);var r=t,n=e;switch(r.kind){case 212:case 213:return Y(r,n);case 214:return X(r,n);case 215:return Z(r,n);case 216:return ee(r,n)}})(t);case 212:case 213:return Y(t,void 0);case 214:return X(t,void 0);case 215:return Z(t,void 0);case 216:return ee(t,void 0);case 210:return(e=>{switch(e.expression.kind){case 185:return fe.updateStatement(e,n(e.expression,!1));case 194:return fe.updateStatement(e,h(e.expression,!1))}return fe.visitEachChild(e,w,S)})(t);case 178:return(e=>{for(var t=e.properties,r=t.length,n=r,i=r,a=0;a<r;a++){var s=t[a];if(16777216&s.transformFlags&&4&T&&a<i&&(i=a),144===s.name.kind){n=a;break}}if(n===r)return fe.visitEachChild(e,w,S);i<n&&(n=i);for(var o=fe.createTempVariable(y),c=[],l=fe.createAssignment(o,fe.setEmitFlags(fe.createObjectLiteral(fe.visitNodes(t,w,fe.isObjectLiteralElementLike,0,n),e.multiLine),65536)),u=(e.multiLine&&(l.startsOnNewLine=!0),c.push(l),c),d=e,p=o,l=n,f=d.properties,_=f.length,m=l;m<_;m++){var g=f[m];switch(g.kind){case 153:case 154:var h=fe.getAllAccessorDeclarations(d.properties,g);g===h.firstAccessor&&u.push(V(p,h,d,d.multiLine));break;case 151:u.push(((e,t,r,n)=>{var i=v(0,0),t=fe.createAssignment(fe.createMemberAccessForPropertyName(t,fe.visitNode(e.name,w,fe.isPropertyName)),x(e,e,void 0,r));return fe.setTextRange(t,e),n&&(t.startsOnNewLine=!0),b(i,49152,49152&T?16384:0),t})(g,p,d,d.multiLine));break;case 261:u.push(((e,t,r)=>(t=fe.createAssignment(fe.createMemberAccessForPropertyName(t,fe.visitNode(e.name,w,fe.isPropertyName)),fe.visitNode(e.initializer,w,fe.isExpression)),fe.setTextRange(t,e),r&&(t.startsOnNewLine=!0),t))(g,p,d.multiLine));break;case 262:u.push(((e,t,r)=>(t=fe.createAssignment(fe.createMemberAccessForPropertyName(t,fe.visitNode(e.name,w,fe.isPropertyName)),fe.getSynthesizedClone(e.name)),fe.setTextRange(t,e),r&&(t.startsOnNewLine=!0),t))(g,p,d.multiLine));break;default:fe.Debug.failBadSyntaxKind(d)}}return c.push(e.multiLine?fe.startOnNewLine(fe.getMutableClone(o)):o),fe.inlineExpressions(c)})(t);case 260:return(e=>{var t,r,n=v(4032,0);return fe.Debug.assert(!!e.variableDeclaration,"Catch clause variable should always be present when downleveling ES2015."),t=fe.isBindingPattern(e.variableDeclaration.name)?(r=fe.createTempVariable(void 0),t=fe.createVariableDeclaration(r),fe.setTextRange(t,e.variableDeclaration),r=fe.flattenDestructuringBinding(e.variableDeclaration,w,S,0,r),r=fe.createVariableDeclarationList(r),fe.setTextRange(r,e.variableDeclaration),r=fe.createVariableStatement(void 0,r),fe.updateCatchClause(e,t,((e,t)=>{var r=fe.visitNodes(e.statements,w,fe.isStatement);return fe.updateBlock(e,[t].concat(r))})(e.block,r))):fe.visitEachChild(e,w,S),b(n,0,0),t})(t);case 262:return(e=>fe.setTextRange(fe.createPropertyAssignment(e.name,fe.getSynthesizedClone(e.name)),e))(t);case 144:return(e=>{var t=v(0,8192),e=fe.visitEachChild(e,w,S);return b(t,49152,49152&T?32768:0),e})(t);case 177:return(e=>64&e.transformFlags?F(e.elements,!0,e.multiLine,e.elements.hasTrailingComma):fe.visitEachChild(e,w,S))(t);case 181:return(e=>{if(33554432&fe.getEmitFlags(e)){var t,r=e,n=fe.cast(fe.cast(fe.skipOuterExpressions(r.expression),fe.isArrowFunction).body,fe.isBlock),i=fe.visitNodes(n.statements,w,fe.isStatement,0,1),n=fe.visitNodes(n.statements,w,fe.isStatement,1,n.statements.length-1),a=fe.cast(fe.firstOrUndefined(i),fe.isVariableStatement).declarationList.declarations[0],s=fe.skipOuterExpressions(a.initializer),o=fe.tryCast(s,fe.isAssignmentExpression),s=fe.cast(o?fe.skipOuterExpressions(o.right):s,fe.isCallExpression),c=fe.cast(fe.skipOuterExpressions(s.expression),fe.isFunctionExpression),l=c.body.statements,u=0,d=-1,p=[];for(o&&((t=fe.tryCast(l[u],fe.isExpressionStatement))&&(p.push(t),u++),p.push(l[u]),u++,p.push(fe.createStatement(fe.createAssignment(o.left,fe.cast(a.name,fe.isIdentifier)))));!fe.isReturnStatement(fe.elementAt(l,d));)d--;return fe.addRange(p,l,u,d),d<-1&&fe.addRange(p,l,d+1),fe.addRange(p,n),fe.addRange(p,i,1),fe.recreateOuterExpressions(r.expression,fe.recreateOuterExpressions(a.initializer,fe.recreateOuterExpressions(o&&o.right,fe.updateCall(s,fe.recreateOuterExpressions(s.expression,fe.updateFunctionExpression(c,void 0,void 0,void 0,void 0,c.parameters,void 0,fe.updateBlock(c.body,p))),void 0,s.arguments))))}return 64&e.transformFlags?oe(e,!0):fe.updateCall(e,fe.visitNode(e.expression,f,fe.isExpression),void 0,fe.visitNodes(e.arguments,w,fe.isExpression))})(t);case 182:return(e=>{var t,r;return 524288&e.transformFlags?(r=fe.createCallBinding(fe.createPropertyAccess(e.expression,"bind"),y),t=r.target,r=r.thisArg,fe.createNew(fe.createFunctionApply(fe.visitNode(t,w,fe.isExpression),r,F(fe.createNodeArray([fe.createVoidZero()].concat(e.arguments)),!1,!1,!1)),void 0,[])):fe.visitEachChild(e,w,S)})(t);case 185:return n(t,!0);case 194:return h(t,!0);case 13:case 14:case 15:case 16:return(e=>fe.setTextRange(fe.createLiteral(e.text),e))(t);case 9:return(e=>e.hasExtendedUnicodeEscape?fe.setTextRange(fe.createLiteral(e.text),e):e)(t);case 8:return(e=>48&e.numericLiteralFlags?fe.setTextRange(fe.createNumericLiteral(e.text),e):e)(t);case 183:return(e=>{var t,r=fe.visitNode(e.tag,w,fe.isExpression),n=[void 0],i=[],a=[],e=e.template;if(fe.isNoSubstitutionTemplateLiteral(e))i.push(fe.createLiteral(e.text)),a.push(L(e));else{i.push(fe.createLiteral(e.head.text)),a.push(L(e.head));for(var s=0,o=e.templateSpans;s<o.length;s++){var c=o[s];i.push(fe.createLiteral(c.literal.text)),a.push(L(c.literal)),n.push(fe.visitNode(c.expression,w,fe.isExpression))}}{var l;(e=((e,t,r)=>(e.requestEmitHelper(me),fe.createCall(fe.getHelperName("__makeTemplateObject"),void 0,[t,r])))(S,fe.createArrayLiteral(i),fe.createArrayLiteral(a)),fe.isExternalModule(u))?(l=t=fe.createUniqueName("templateObject"),d=fe.append(d,fe.createVariableDeclaration(t)),n[0]=fe.createLogicalOr(t,fe.createAssignment(t,e))):n[0]=e}return fe.createCall(r,void 0,n)})(t);case 196:return(e=>{((e,t)=>{(e=>(fe.Debug.assert(0!==e.templateSpans.length),0!==e.head.text.length||0===e.templateSpans[0].literal.text.length))(t)&&e.push(fe.createLiteral(t.head.text))})(t=[],e),((e,t)=>{for(var r=0,n=t.templateSpans;r<n.length;r++){var i=n[r];e.push(fe.visitNode(i.expression,w,fe.isExpression)),0!==i.literal.text.length&&e.push(fe.createLiteral(i.literal.text))}})(t,e);var t=fe.reduceLeft(t,fe.createAdd);return fe.nodeIsSynthesized(t)&&(t.pos=e.pos,t.end=e.end),t})(t);case 197:return(e=>fe.visitEachChild(e,w,S))(t);case 198:return(e=>fe.visitNode(e.expression,w,fe.isExpression))(t);case 97:return de(!1);case 99:return(e=>C?2&T?(C.containsLexicalThis=!0,e):C.thisName||(C.thisName=fe.createUniqueName("this")):e)(t);case 204:return(e=>94!==e.keywordToken||"target"!==e.name.escapedText?e:(T|=8192&T?32768:16384,fe.createIdentifier("_newTarget")))(t);case 151:return(e=>{fe.Debug.assert(!fe.isComputedPropertyName(e.name));var t=x(e,fe.moveRangePos(e,-1),void 0,void 0);return fe.setEmitFlags(t,512|fe.getEmitFlags(t)),fe.setTextRange(fe.createPropertyAssignment(e.name,t),e)})(t);case 153:case 154:return(e=>{fe.Debug.assert(!fe.isComputedPropertyName(e.name));var t,r,n=C,i=(C=void 0,v(16286,65));return t=32768&e.transformFlags?(t=fe.visitParameterList(e.parameters,w,S),r=g(e),153===e.kind?fe.updateGetAccessor(e,e.decorators,e.modifiers,e.name,t,e.type,r):fe.updateSetAccessor(e,e.decorators,e.modifiers,e.name,t,r)):fe.visitEachChild(e,w,S),b(i,49152,0),C=n,t})(t);case 208:return(e=>{var t,r=v(0,fe.hasModifier(e,1)?32:0);if(C&&0==(3&e.declarationList.flags)){for(var n=void 0,i=0,a=e.declarationList.declarations;i<a.length;i++){var s,o=a[i];((a,e)=>{a.hoistedLocalVariables||(a.hoistedLocalVariables=[]),function e(t){if(71===t.kind)a.hoistedLocalVariables.push(t);else for(var r=0,n=t.elements;r<n.length;r++){var i=n[r];fe.isOmittedExpression(i)||e(i.name)}}(e.name)})(C,o),o.initializer&&(s=void 0,fe.isBindingPattern(o.name)?s=fe.flattenDestructuringAssignment(o,w,S,0):(s=fe.createBinary(o.name,58,fe.visitNode(o.initializer,w,fe.isExpression)),fe.setTextRange(s,o)),n=fe.append(n,s))}t=n?fe.setTextRange(fe.createStatement(fe.inlineExpressions(n)),e):void 0}else t=fe.visitEachChild(e,w,S);return b(r,0,0),t})(t);case 219:return(e=>C?(C.nonLocalJumps|=8,r(e)&&(e=K(e)),fe.createReturn(fe.createObjectLiteral([fe.createPropertyAssignment(fe.createIdentifier("value"),e.expression?fe.visitNode(e.expression,w,fe.isExpression):fe.createVoidZero())]))):r(e)?K(e):fe.visitEachChild(e,w,S))(t);default:return fe.visitEachChild(t,w,S)}}function j(e){return B(e)?G(e,!0):e}function f(e){return 97===e.kind?de(!0):w(e)}function K(e){return fe.setOriginalNode(fe.createReturn(fe.createIdentifier("_this")),e)}function z(e){e.name&&R();var t=fe.getClassExtendsHeritageClauseElement(e),r=fe.createFunctionExpression(void 0,void 0,void 0,void 0,t?[fe.createParameter(void 0,void 0,void 0,"_super")]:[],void 0,(i=e,a=t,n=[],E(),((e,t,r)=>{r&&e.push(fe.setTextRange(fe.createStatement(((e,t)=>(e.requestEmitHelper(_e),fe.createCall(fe.getHelperName("__extends"),void 0,[t,fe.createIdentifier("_super")])))(S,fe.getLocalName(t))),r))})(n,i,a),((e,t,r)=>{var n=C,i=(C=void 0,v(16278,73)),a=fe.getFirstConstructorWithBody(t),s=((e,t)=>!(!e||!t)&&!fe.some(e.parameters)&&!(!(t=fe.firstOrUndefined(e.body.statements))||!fe.nodeIsSynthesized(t)||210!==t.kind)&&(e=t.expression,!(!fe.nodeIsSynthesized(e)||181!==e.kind))&&(t=e.expression,!(!fe.nodeIsSynthesized(t)||97!==t.kind))&&!(!(t=fe.singleOrUndefined(e.arguments))||!fe.nodeIsSynthesized(t)||198!==t.kind)&&(e=t.expression,fe.isIdentifier(e))&&"arguments"===e.escapedText)(a,void 0!==r),s=fe.createFunctionDeclaration(void 0,void 0,void 0,fe.getInternalName(t),void 0,((e,t)=>fe.visitParameterList(e&&!t&&e.parameters,w,S)||[])(a,s),void 0,((e,t,r,n)=>{var i=[],a=(c(),-1);return n?a=0:e&&(a=fe.addStandardPrologue(i,e.body.statements,!1)),e&&(J(i,e),q(i,e,n),n||(a=fe.addCustomPrologue(i,e.body.statements,a,w)),fe.Debug.assert(0<=a,"statementOffset not initialized correctly!")),r=r&&95!==fe.skipOuterExpressions(r.expression).kind,1!==(n=((e,t,r,n,i)=>{if(r){if(!t)return e.push(fe.createReturn($())),2;if(n)return _(e,t,$()),M(),1;var a,s,r=t.body.statements;if((s=i<r.length&&210===(a=r[i]).kind&&fe.isSuperCall(a.expression)?(e=>oe(e,!1))(a.expression):s)&&i===r.length-1&&!(49152&t.transformFlags))return n=fe.createReturn(s),194===s.kind&&181===s.left.kind||fe.Debug.fail("Assumed generated super call would have form 'super.call(...) || this'."),fe.setCommentRange(n,fe.getCommentRange(fe.setEmitFlags(s.left,1536))),e.push(n),2;if(_(e,t,s||l(),a),s)return 1}else t&&p(e,t);return 0})(i,e,r,n,a))&&2!==n||a++,e&&(1===n&&(T|=4096),fe.addRange(i,fe.visitNodes(e.body.statements,w,fe.isStatement,a))),!r||2===n||e&&function e(t){{if(219===t.kind)return!0;if(211===t.kind){var r=t;if(r.elseStatement)return e(r.thenStatement)&&e(r.elseStatement)}else if(207===t.kind){r=fe.lastOrUndefined(t.statements);if(r&&e(r))return!0}}return!1}(e.body)||i.push(fe.createReturn(fe.createIdentifier("_this"))),fe.addRange(i,D()),e&&m(i,e,!1),a=fe.createBlock(fe.setTextRange(fe.createNodeArray(i),e?e.body.statements:t.members),!0),fe.setTextRange(a,e?e.body:t),e||fe.setEmitFlags(a,1536),a})(a,t,r,s));fe.setTextRange(s,a||t),r&&fe.setEmitFlags(s,8),e.push(s),b(i,49152,0),C=n})(n,i,a),((e,t)=>{for(var r=0,n=t.members;r<n.length;r++){var i=n[r];switch(i.kind){case 206:e.push((e=>fe.setTextRange(fe.createEmptyStatement(),e))(i));break;case 151:e.push(((e,t,r)=>{var n=v(0,0),i=fe.getCommentRange(t),a=fe.getSourceMapRange(t),e=fe.createMemberAccessForPropertyName(e,fe.visitNode(t.name,w,fe.isPropertyName),t.name),r=x(t,t,void 0,r),a=(fe.setEmitFlags(r,1536),fe.setSourceMapRange(r,a),fe.setTextRange(fe.createStatement(fe.createAssignment(e,r)),t));return fe.setOriginalNode(a,t),fe.setCommentRange(a,i),fe.setEmitFlags(a,48),b(n,49152,49152&T?16384:0),a})(pe(t,i),i,t));break;case 153:case 154:var a=fe.getAllAccessorDeclarations(t.members,i);i===a.firstAccessor&&e.push(((e,t,r)=>(e=fe.createStatement(V(e,t,r,!1)),fe.setEmitFlags(e,1536),fe.setSourceMapRange(e,fe.getSourceMapRange(t.firstAccessor)),e))(pe(t,i),a,t));break;case 152:break;default:fe.Debug.failBadSyntaxKind(t)}}})(n,i),a=fe.createTokenRange(fe.skipTrivia(s,i.members.end),18),r=fe.getInternalName(i),(r=fe.createPartiallyEmittedExpression(r)).end=a.end,fe.setEmitFlags(r,1536),(r=fe.createReturn(r)).pos=a.pos,fe.setEmitFlags(r,1920),n.push(r),fe.addRange(n,D()),a=fe.createBlock(fe.setTextRange(fe.createNodeArray(n),i.members),!0),fe.setEmitFlags(a,1536),a)),n=(65536&fe.getEmitFlags(e)&&fe.setEmitFlags(r,65536),fe.createPartiallyEmittedExpression(r)),i=(n.end=e.end,fe.setEmitFlags(n,1536),fe.createPartiallyEmittedExpression(n)),a=(i.end=fe.skipTrivia(s,e.pos),fe.setEmitFlags(i,1536),fe.createParen(fe.createCall(i,void 0,t?[fe.visitNode(t.expression,w,fe.isExpression)]:[])));return fe.addSyntheticLeadingComment(a,3,"* @class "),a}function l(){return fe.setEmitFlags(fe.createThis(),4)}function $(){return fe.createLogicalOr(fe.createLogicalAnd(fe.createStrictInequality(fe.createIdentifier("_super"),fe.createNull()),fe.createFunctionApply(fe.createIdentifier("_super"),l(),fe.createIdentifier("arguments"))),l())}function J(e,t){if(0!=(131072&t.transformFlags))for(var r,n=0,i=t.parameters;n<i.length;n++){var a,s,o,c,l=i[n],u=l.name,d=l.initializer;l.dotDotDotToken||(fe.isBindingPattern(u)?(o=e,s=l,a=u,r=d,c=void 0,c=fe.getGeneratedNameForNode(s),0<a.elements.length?o.push(fe.setEmitFlags(fe.createVariableStatement(void 0,fe.createVariableDeclarationList(fe.flattenDestructuringBinding(s,w,S,0,c))),1048576)):r&&o.push(fe.setEmitFlags(fe.createStatement(fe.createAssignment(c,fe.visitNode(r,w,fe.isExpression))),1048576))):d&&(c=o=s=a=void 0,a=e,s=l,o=u,c=d,c=fe.visitNode(c,w,fe.isExpression),(o=fe.createIf(fe.createTypeCheck(fe.getSynthesizedClone(o),"undefined"),fe.setEmitFlags(fe.setTextRange(fe.createBlock([fe.createStatement(fe.setTextRange(fe.createAssignment(fe.setEmitFlags(fe.getMutableClone(o),48),fe.setEmitFlags(c,48|fe.getEmitFlags(c))),s))]),s),417))).startsOnNewLine=!0,fe.setTextRange(o,s),fe.setEmitFlags(o,1048992),a.push(o)))}}function q(e,t,r){var n,i,a=fe.lastOrUndefined(t.parameters);r=r,(i=a)&&i.dotDotDotToken&&71===i.name.kind&&!r&&(i=fe.getMutableClone(a.name),fe.setEmitFlags(i,48),r=fe.getSynthesizedClone(a.name),t=t.parameters.length-1,n=fe.createLoopVariable(),e.push(fe.setEmitFlags(fe.setTextRange(fe.createVariableStatement(void 0,fe.createVariableDeclarationList([fe.createVariableDeclaration(i,void 0,fe.createArrayLiteral([]))])),a),1048576)),i=fe.createFor(fe.setTextRange(fe.createVariableDeclarationList([fe.createVariableDeclaration(n,void 0,fe.createLiteral(t))]),a),fe.setTextRange(fe.createLessThan(n,fe.createPropertyAccess(fe.createIdentifier("arguments"),"length")),a),fe.setTextRange(fe.createPostfixIncrement(n),a),fe.createBlock([fe.startOnNewLine(fe.setTextRange(fe.createStatement(fe.createAssignment(fe.createElementAccess(r,0==t?n:fe.createSubtract(n,fe.createLiteral(t))),fe.createElementAccess(fe.createIdentifier("arguments"),n))),a))])),fe.setEmitFlags(i,1048576),fe.startOnNewLine(i),e.push(i))}function p(e,t){32768&t.transformFlags&&187!==t.kind&&_(e,t,fe.createThis())}function _(e,t,r,n){M();r=fe.createVariableStatement(void 0,fe.createVariableDeclarationList([fe.createVariableDeclaration("_this",void 0,r)]));fe.setEmitFlags(r,1050112),fe.setTextRange(r,n),fe.setSourceMapRange(r,t),e.push(r)}function m(e,t,r){if(16384&T){var n=void 0;switch(t.kind){case 187:return e;case 151:case 153:case 154:n=fe.createVoidZero();break;case 152:n=fe.createPropertyAccess(fe.setEmitFlags(fe.createThis(),4),"constructor");break;case 228:case 186:n=fe.createConditional(fe.createLogicalAnd(fe.setEmitFlags(fe.createThis(),4),fe.createBinary(fe.setEmitFlags(fe.createThis(),4),93,fe.getLocalName(t))),fe.createPropertyAccess(fe.setEmitFlags(fe.createThis(),4),"constructor"),fe.createVoidZero());break;default:fe.Debug.failBadSyntaxKind(t)}var i=fe.createVariableStatement(void 0,fe.createVariableDeclarationList([fe.createVariableDeclaration("_newTarget",void 0,n)]));if(r)return[i].concat(e);e.unshift(i)}return e}function V(e,t,r,n){var i,a=t.firstAccessor,s=t.getAccessor,t=t.setAccessor,o=v(0,0),e=fe.getMutableClone(e),c=(fe.setEmitFlags(e,1568),fe.setSourceMapRange(e,a.name),fe.createExpressionForPropertyName(fe.visitNode(a.name,w,fe.isPropertyName))),a=(fe.setEmitFlags(c,1552),fe.setSourceMapRange(c,a.name),[]),r=(s&&(i=x(s,void 0,void 0,r),fe.setSourceMapRange(i,fe.getSourceMapRange(s)),fe.setEmitFlags(i,512),i=fe.createPropertyAssignment("get",i),fe.setCommentRange(i,fe.getCommentRange(s)),a.push(i)),t&&(s=x(t,void 0,void 0,r),fe.setSourceMapRange(s,fe.getSourceMapRange(t)),fe.setEmitFlags(s,512),i=fe.createPropertyAssignment("set",s),fe.setCommentRange(i,fe.getCommentRange(t)),a.push(i)),a.push(fe.createPropertyAssignment("enumerable",fe.createTrue()),fe.createPropertyAssignment("configurable",fe.createTrue())),fe.createCall(fe.createPropertyAccess(fe.createIdentifier("Object"),"defineProperty"),void 0,[e,c,fe.createObjectLiteral(a,!0)]));return n&&(r.startsOnNewLine=!0),b(o,49152,49152&T?16384:0),r}function x(e,t,r,n){var i=C,n=(C=void 0,n&&fe.isClassLike(n)&&!fe.hasModifier(e,32)?v(16286,73):v(16286,65)),a=fe.visitParameterList(e.parameters,w,S),s=g(e);return 16384&T&&!r&&(228===e.kind||186===e.kind)&&(r=fe.getGeneratedNameForNode(e)),b(n,49152,0),C=i,fe.setOriginalNode(fe.setTextRange(fe.createFunctionExpression(void 0,e.asteriskToken,r,void 0,a,void 0,s),t),e)}function g(e){var t,r,n=!1,i=!1,a=[],s=e.body,o=(c(),fe.isBlock(s)&&(o=fe.addStandardPrologue(a,s.statements,!1)),p(a,e),J(a,e),q(a,e,!1),!n&&0<a.length&&(n=!0),fe.isBlock(s)?(o=fe.addCustomPrologue(a,s.statements,o,w),r=s.statements,fe.addRange(a,fe.visitNodes(s.statements,w,fe.isStatement,o)),!n&&s.multiLine&&(n=!0)):(fe.Debug.assert(187===e.kind),r=fe.moveRangeEnd(s,-1),o=e.equalsGreaterThanToken,fe.nodeIsSynthesized(o)||fe.nodeIsSynthesized(s)||(fe.rangeEndIsOnSameLineAsRangeStart(o,s,u)?i=!0:n=!0),o=fe.visitNode(s,w,fe.isExpression),o=fe.createReturn(o),fe.setTextRange(o,s),fe.setEmitFlags(o,1440),a.push(o),t=s),S.endLexicalEnvironment()),s=(fe.addRange(a,o),m(a,e,!1),!n&&o&&o.length&&(n=!0),fe.createBlock(fe.setTextRange(fe.createNodeArray(a),r),n));return fe.setTextRange(s,e.body),!n&&i&&fe.setEmitFlags(s,1),t&&fe.setTokenSourceMapRange(s,18,t),fe.setOriginalNode(s,e.body),s}function H(e){var t=fe.visitFunctionBody(e.body,j,S);return fe.updateBlock(t,fe.setTextRange(fe.createNodeArray(m(t.statements,e,!0)),t.statements))}function G(e,t){return t?fe.visitEachChild(e,w,S):(t=256&T?v(4032,512):v(3904,128),e=fe.visitEachChild(e,w,S),b(t,0,0),e)}function n(e,t){if(!t)switch(e.expression.kind){case 185:return fe.updateParen(e,n(e.expression,!1));case 194:return fe.updateParen(e,h(e.expression,!1))}return fe.visitEachChild(e,w,S)}function h(e,t){return fe.isDestructuringAssignment(e)?fe.flattenDestructuringAssignment(e,w,S,0,t):fe.visitEachChild(e,w,S)}function W(e){var t,r,n=e.name;return fe.isBindingPattern(n)?k(e):e.initializer||(n=e,t=131072&(r=A.getNodeCheckFlags(n)),r&=262144,0!=(64&T))||t&&r&&0!=(512&T)||0!=(2048&T)||A.isDeclarationWithCollidingName(n)&&(!r||t||0!=(3072&T))?fe.visitEachChild(e,w,S):((n=fe.getMutableClone(e)).initializer=fe.createVoidZero(),n)}function k(e){var t=v(32,0),e=fe.isBindingPattern(e.name)?fe.flattenDestructuringBinding(e,w,S,0,void 0,0!=(32&t)):fe.visitEachChild(e,w,S);return b(t,0,0),e}function Q(e){C.labels.set(fe.idText(e.label),!0)}function N(e){C.labels.set(fe.idText(e.label),!1)}function I(e,t,r,n,i){e=v(e,t),t=((e,t,r)=>{if(!ie(e))return i=void 0,C&&(i=C.allowedNonLabeledJumps,C.allowedNonLabeledJumps=6),u=r?r(e,t,void 0):fe.restoreEnclosingLabel(fe.visitEachChild(e,w,S),t,C&&N),C&&(C.allowedNonLabeledJumps=i),u;var n,i=fe.createUniqueName("_loop");switch(e.kind){case 214:case 215:case 216:var a=e.initializer;a&&227===a.kind&&(n=a)}var s=[],o=[];if(n&&3&fe.getCombinedNodeFlags(n))for(var c=0,l=n.declarations;c<l.length;c++)!function e(t,r,n){var i=t.name;if(fe.isBindingPattern(i))for(var a=0,s=i.elements;a<s.length;a++){var o=s[a];fe.isOmittedExpression(o)||e(o,r,n)}else r.push(fe.createParameter(void 0,void 0,void 0,i)),2097152&A.getNodeCheckFlags(t)&&(t=fe.createUniqueName("out_"+fe.idText(i)),n.push({originalName:i,outParamName:t}))}(l[c],s,o);var u=C,d=(C={loopOutParameters:o},u&&(u.argumentsName&&(C.argumentsName=u.argumentsName),u.thisName&&(C.thisName=u.thisName),u.hoistedLocalVariables)&&(C.hoistedLocalVariables=u.hoistedLocalVariables),E(),fe.visitNode(e.statement,w,fe.isStatement,fe.liftToBlock)),p=D(),f=C;C=u,(o.length||p)&&(_=fe.isBlock(d)?d.statements.slice():[d],o.length&&P(o,1,_),fe.addRange(_,p),d=fe.createBlock(_,!0)),fe.isBlock(d)?d.multiLine=!0:d=fe.createBlock([d],!0);var _=(p=0!=(16777216&e.statement.transformFlags))&&0!=(4&T),m=0;f.containsLexicalThis&&(m|=8),_&&(m|=262144);var g,_=[fe.createVariableStatement(void 0,fe.setEmitFlags(fe.createVariableDeclarationList([fe.createVariableDeclaration(i,void 0,fe.setEmitFlags(fe.createFunctionExpression(void 0,p?fe.createToken(39):void 0,void 0,void 0,s,void 0,d),m))]),2097152))];if(f.argumentsName&&(u?u.argumentsName=f.argumentsName:(g=g||[]).push(fe.createVariableDeclaration(f.argumentsName,void 0,fe.createIdentifier("arguments")))),f.thisName&&(u?u.thisName=f.thisName:(g=g||[]).push(fe.createVariableDeclaration(f.thisName,void 0,fe.createIdentifier("this")))),f.hoistedLocalVariables)if(u)u.hoistedLocalVariables=f.hoistedLocalVariables;else{g=g||[];for(var h=0,y=f.hoistedLocalVariables;h<y.length;h++){var v=y[h];g.push(fe.createVariableDeclaration(v))}}if(o.length){g=g||[];for(var b=0,x=o;b<x.length;b++){var k=x[b];g.push(fe.createVariableDeclaration(k.outParamName))}}return g&&_.push(fe.createVariableStatement(void 0,fe.createVariableDeclarationList(g))),d=((e,t,r,n)=>{var i=C,a=[],s=!(-5&r.nonLocalJumps||r.labeledNonLocalBreaks||r.labeledNonLocalContinues),e=fe.createCall(e,void 0,fe.map(t,function(e){return e.name})),t=n?fe.createYield(fe.createToken(39),fe.setEmitFlags(e,8388608)):e;return s?(a.push(fe.createStatement(t)),P(r.loopOutParameters,0,a)):(n=fe.createUniqueName("state"),e=fe.createVariableStatement(void 0,fe.createVariableDeclarationList([fe.createVariableDeclaration(n,void 0,t)])),a.push(e),P(r.loopOutParameters,0,a),8&r.nonLocalJumps&&(s=void 0,s=i?(i.nonLocalJumps|=8,fe.createReturn(n)):fe.createReturn(fe.createPropertyAccess(n,"value")),a.push(fe.createIf(fe.createBinary(fe.createTypeOf(n),34,fe.createLiteral("object")),s))),2&r.nonLocalJumps&&a.push(fe.createIf(fe.createBinary(n,34,fe.createLiteral("break")),fe.createBreak())),(r.labeledNonLocalBreaks||r.labeledNonLocalContinues)&&(t=[],se(r.labeledNonLocalBreaks,!0,n,i,t),se(r.labeledNonLocalContinues,!1,n,i,t),a.push(fe.createSwitch(n,fe.createCaseBlock(t))))),a})(i,s,f,p),u=r?r(e,t,d):((m=fe.getMutableClone(e)).statement=void 0,(m=fe.visitEachChild(m,w,S)).statement=fe.createBlock(d,!0),m.transformFlags=0,fe.aggregateTransformFlags(m),fe.restoreEnclosingLabel(m,t,C&&N)),_.push(u),_})(r,n,i);return b(e,0,0),t}function Y(e,t){return I(0,256,e,t)}function X(e,t){return I(3008,1280,e,t)}function Z(e,t){return I(1984,2304,e,t)}function ee(e,t){return I(1984,2304,e,t,o.downlevelIteration?ne:re)}function te(e,t,r){var n,i,a,s,o,c,l=[];return fe.isVariableDeclarationList(e.initializer)?(3&e.initializer.flags&&R(),(n=fe.firstOrUndefined(e.initializer.declarations))&&fe.isBindingPattern(n.name)?(c=fe.flattenDestructuringBinding(n,w,S,0,t),i=fe.setTextRange(fe.createVariableDeclarationList(c),e.initializer),fe.setOriginalNode(i,e.initializer),a=c[0],c=fe.lastOrUndefined(c),fe.setSourceMapRange(i,fe.createRange(a.pos,c.end)),l.push(fe.createVariableStatement(void 0,i))):l.push(fe.setTextRange(fe.createVariableStatement(void 0,fe.setOriginalNode(fe.setTextRange(fe.createVariableDeclarationList([fe.createVariableDeclaration(n?n.name:fe.createTempVariable(void 0),void 0,t)]),fe.moveRangePos(e.initializer,-1)),e.initializer)),fe.moveRangeEnd(e.initializer,-1)))):(a=fe.createAssignment(e.initializer,t),fe.isDestructuringAssignment(a)?(fe.aggregateTransformFlags(a),l.push(fe.createStatement(h(a,!1)))):(a.end=e.initializer.end,l.push(fe.setTextRange(fe.createStatement(fe.visitNode(a,w,fe.isExpression)),fe.moveRangeEnd(e.initializer,-1))))),r?fe.addRange(l,r):(c=fe.visitNode(e.statement,w,fe.isStatement,fe.liftToBlock),fe.isBlock(c)?(fe.addRange(l,c.statements),o=(s=c).statements):l.push(c)),fe.setEmitFlags(fe.setTextRange(fe.createBlock(fe.setTextRange(fe.createNodeArray(l),o),!0),s),432)}function re(e,t,r){var n=fe.visitNode(e.expression,w,fe.isExpression),i=fe.createLoopVariable(),a=fe.isIdentifier(n)?fe.getGeneratedNameForNode(n):fe.createTempVariable(void 0),n=(fe.setEmitFlags(n,48|fe.getEmitFlags(n)),fe.setTextRange(fe.createFor(fe.setEmitFlags(fe.setTextRange(fe.createVariableDeclarationList([fe.setTextRange(fe.createVariableDeclaration(i,void 0,fe.createLiteral(0)),fe.moveRangePos(e.expression,-1)),fe.setTextRange(fe.createVariableDeclaration(a,void 0,n),e.expression)]),e.expression),2097152),fe.setTextRange(fe.createLessThan(i,fe.createPropertyAccess(a,"length")),e.expression),fe.setTextRange(fe.createPostfixIncrement(i),e.expression),te(e,fe.createElementAccess(a,i),r)),e));return fe.setEmitFlags(n,256),fe.setTextRange(n,e),fe.restoreEnclosingLabel(n,t,C&&N)}function ne(e,t,r){var n=fe.visitNode(e.expression,w,fe.isExpression),i=fe.isIdentifier(n)?fe.getGeneratedNameForNode(n):fe.createTempVariable(void 0),a=fe.isIdentifier(n)?fe.getGeneratedNameForNode(i):fe.createTempVariable(void 0),s=fe.createUniqueName("e"),o=fe.getGeneratedNameForNode(s),c=fe.createTempVariable(void 0),n=fe.createValuesHelper(S,n,e.expression),l=fe.createCall(fe.createPropertyAccess(i,"next"),void 0,[]),n=(y(s),y(c),fe.setEmitFlags(fe.setTextRange(fe.createFor(fe.setEmitFlags(fe.setTextRange(fe.createVariableDeclarationList([fe.setTextRange(fe.createVariableDeclaration(i,void 0,n),e.expression),fe.createVariableDeclaration(a,void 0,l)]),e.expression),2097152),fe.createLogicalNot(fe.createPropertyAccess(a,"done")),fe.createAssignment(a,l),te(e,fe.createPropertyAccess(a,"value"),r)),e),256));return fe.createTry(fe.createBlock([fe.restoreEnclosingLabel(n,t,C&&N)]),fe.createCatchClause(fe.createVariableDeclaration(o),fe.setEmitFlags(fe.createBlock([fe.createStatement(fe.createAssignment(s,fe.createObjectLiteral([fe.createPropertyAssignment("error",o)])))]),1)),fe.createBlock([fe.createTry(fe.createBlock([fe.setEmitFlags(fe.createIf(fe.createLogicalAnd(fe.createLogicalAnd(a,fe.createLogicalNot(fe.createPropertyAccess(a,"done"))),fe.createAssignment(c,fe.createPropertyAccess(i,"return"))),fe.createStatement(fe.createFunctionCall(c,i,[]))),1)]),void 0,fe.setEmitFlags(fe.createBlock([fe.setEmitFlags(fe.createIf(s,fe.createThrow(fe.createPropertyAccess(s,"error"))),1)]),1))]))}function ie(e){return 0!=(65536&A.getNodeCheckFlags(e))}function ae(e,t){var r=0===t?e.outParamName:e.originalName,t=0===t?e.originalName:e.outParamName;return fe.createBinary(t,58,r)}function P(e,t,r){for(var n=0,i=e;n<i.length;n++){var a=i[n];r.push(fe.createStatement(ae(a,t)))}}function O(e,t,r,n){(t?(e.labeledNonLocalBreaks||(e.labeledNonLocalBreaks=fe.createMap()),e.labeledNonLocalBreaks):(e.labeledNonLocalContinues||(e.labeledNonLocalContinues=fe.createMap()),e.labeledNonLocalContinues)).set(r,n)}function se(e,i,a,s,o){e&&e.forEach(function(e,t){var r,n=[];!s||s.labels&&s.labels.get(t)?(r=fe.createIdentifier(t),n.push(i?fe.createBreak(r):fe.createContinue(r))):(O(s,i,t,e),n.push(fe.createReturn(a))),o.push(fe.createCaseClause(fe.createLiteral(e),n))})}function oe(e,t){var r=fe.createCallBinding(e.expression,y),n=r.target,r=r.thisArg;return 97===e.expression.kind&&fe.setEmitFlags(r,4),n=524288&e.transformFlags?fe.createFunctionApply(fe.visitNode(n,f,fe.isExpression),fe.visitNode(r,w,fe.isExpression),F(e.arguments,!1,!1,!1)):fe.createFunctionCall(fe.visitNode(n,f,fe.isExpression),fe.visitNode(r,w,fe.isExpression),fe.visitNodes(e.arguments,w,fe.isExpression),e),97===e.expression.kind&&(r=fe.createThis(),fe.setEmitFlags(r,4),r=fe.createLogicalOr(n,r),n=t?fe.createAssignment(fe.createIdentifier("_this"),r):r),fe.setOriginalNode(n,e)}function F(e,t,i,a){var s=e.length,r=fe.flatten(fe.spanMap(e,ce,function(e,t,r,n){return t(e,i,a&&n===s)}));if(o.downlevelIteration){if(1===r.length){var n=r[0];if(fe.isCallExpression(n)&&fe.isIdentifier(n.expression)&&4096&fe.getEmitFlags(n.expression)&&"___spread"===n.expression.escapedText)return r[0]}return fe.createSpreadHelper(S,r)}return 1===r.length?(n=e[0],t&&fe.isSpreadElement(n)&&177!==n.expression.kind?fe.createArraySlice(r[0]):r[0]):fe.createArrayConcat(r.shift(),r)}function ce(e){return fe.isSpreadElement(e)?t:le}function t(e){return fe.map(e,ue)}function le(e,t,r){return fe.createArrayLiteral(fe.visitNodes(fe.createNodeArray(e,r),w,fe.isExpression),t)}function ue(e){return fe.visitNode(e.expression,w,fe.isExpression)}function L(e){var t=fe.getSourceTextOfNodeFromSourceFile(u,e),r=13===e.kind||16===e.kind;return t=(t=t.substring(1,t.length-(r?1:2))).replace(/\r\n?/g,"\n"),fe.setTextRange(fe.createLiteral(t),e)}function de(e){return 8&T&&!e?fe.createPropertyAccess(fe.createIdentifier("_super"),"prototype"):fe.createIdentifier("_super")}function R(){0==(2&i)&&(i|=2,S.enableSubstitution(71))}function M(){0==(1&i)&&(i|=1,S.enableSubstitution(99),S.enableEmitNotification(152),S.enableEmitNotification(151),S.enableEmitNotification(153),S.enableEmitNotification(154),S.enableEmitNotification(187),S.enableEmitNotification(186),S.enableEmitNotification(228))}function pe(e,t){return fe.hasModifier(t,32)?fe.getInternalName(e):fe.createPropertyAccess(fe.getInternalName(e),"prototype")}}),priority:0,text:"\n            var __extends = (this && this.__extends) || (function () {\n                var extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n                return function (d, b) {\n                    extendStatics(d, b);\n                    function __() { this.constructor = d; }\n                    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n                };\n            })();"},me={name:"typescript:makeTemplateObject",scoped:!1,priority:0,text:'\n            var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n                if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }\n                return cooked;\n            };'}})(ts=ts||{}),(s=>{s.transformES5=function(e){var i,a,t=e.getCompilerOptions(),r=(1!==t.jsx&&3!==t.jsx||(i=e.onEmitNode,e.onEmitNode=function(e,t,r){switch(t.kind){case 251:case 252:case 250:var n=t.tagName;a[s.getOriginalNodeId(n)]=!0}i(e,t,r)},e.enableEmitNotification(251),e.enableEmitNotification(252),e.enableEmitNotification(250),a=[]),e.onSubstituteNode);return e.onSubstituteNode=function(e,t){if(t.id&&a&&a[t.id])return r(e,t);{if(t=r(e,t),s.isPropertyAccessExpression(t))return(e=>{var t=n(e.name);return t?s.setTextRange(s.createElementAccess(e.expression,t),e):e})(t);if(s.isPropertyAssignment(t))return(e=>{var t=s.isIdentifier(e.name)&&n(e.name);return t?s.updatePropertyAssignment(e,t,e.initializer):e})(t)}return t},e.enableSubstitution(179),e.enableSubstitution(261),function(e){return e};function n(e){var t=e.originalKeywordKind||(s.nodeIsSynthesized(e)?s.stringToToken(s.idText(e)):void 0);if(72<=t&&t<=107)return s.setTextRange(s.createLiteral(e),e)}}})(ts=ts||{}),(we=>{var Ne={name:"typescript:generator",scoped:!(we.transformGenerators=function(b){var d,p,x,k,g,h,y,v,S,T,C,W,Q,E,D,A,Y,w,N,X,I,P,Z=b.resumeLexicalEnvironment,ee=b.endLexicalEnvironment,n=b.hoistFunctionDeclaration,O=b.hoistVariableDeclaration,e=b.getCompilerOptions(),te=we.getEmitScriptTarget(e),i=b.getEmitResolver(),a=b.onSubstituteNode,re=(b.onSubstituteNode=function(e,t){if(t=a(e,t),1!==e)return t;e=t;if(we.isIdentifier(e)){t=e;if(!we.isGeneratedIdentifier(t)&&d&&d.has(we.idText(t))){var r=we.getOriginalNode(t);if(we.isIdentifier(r)&&r.parent){r=i.getReferencedValueDeclaration(r);if(r){var r=p[we.getOriginalNodeId(r)];if(r)return r=we.getMutableClone(r),we.setSourceMapRange(r,t),we.setCommentRange(r,t),r}}}return t}return e},1),ne=0,F=0;return function(e){if(e.isDeclarationFile||0==(512&e.transformFlags))return e;e=we.visitEachChild(e,L,b);return we.addEmitHelpers(e,b.readEmitHelpers()),e};function L(e){var t=e.transformFlags;if(k){var r=e;switch(r.kind){case 212:return(e=>k?(de(),e=we.visitEachChild(e,L,b),K(),e):we.visitEachChild(e,L,b))(r);case 213:return(e=>k?(de(),e=we.visitEachChild(e,L,b),K(),e):we.visitEachChild(e,L,b))(r);case 221:return(e=>(k&&f({kind:2,isScript:!0,breakLabel:-1}),e=we.visitEachChild(e,L,b),k&&fe(),e))(r);case 222:return(e=>{{var t;k&&f({kind:4,isScript:!0,labelText:we.idText(e.label),breakLabel:-1})}return e=we.visitEachChild(e,L,b),k&&_e(),e})(r);default:return s(r)}}else{if(x)return s(e);if(!(256&t))return 512&t?we.visitEachChild(e,L,b):e;var n=e;switch(n.kind){case 228:return ie(n);case 186:return ae(n);default:return we.Debug.failBadSyntaxKind(n),we.visitEachChild(n,L,b)}}}function s(e){switch(e.kind){case 228:return ie(e);case 186:return ae(e);case 153:case 154:return i=e,y=x,v=k,k=x=!1,i=we.visitEachChild(e,L,b),x=y,k=v,i;case 208:y=e;if(16777216&y.transformFlags)return void ce(y.declarationList);if(1048576&we.getEmitFlags(y))return y;for(var t=0,r=y.declarationList.declarations;t<r.length;t++){var n=r[t];O(n.name)}v=we.getInitializedVariables(y.declarationList);return 0!==v.length?we.setSourceMapRange(we.createStatement(we.inlineExpressions(we.map(v,le))),y):void 0;case 214:var i=e,a=(k&&de(),i.initializer);if(a&&we.isVariableDeclarationList(a)){for(var s=0,o=a.declarations;s<o.length;s++){var c=o[s];O(c.name)}a=we.getInitializedVariables(a);i=we.updateFor(i,0<a.length?we.inlineExpressions(we.map(a,le)):void 0,we.visitNode(i.condition,L,we.isExpression),we.visitNode(i.incrementor,L,we.isExpression),we.visitNode(i.statement,L,we.isStatement,we.liftToBlock))}else i=we.visitEachChild(i,L,b);return k&&K(),i;case 215:var a=e,l=(k&&de(),a.initializer);if(we.isVariableDeclarationList(l)){for(var u=0,d=l.declarations;u<d.length;u++){var p=d[u];O(p.name)}a=we.updateForIn(a,l.declarations[0].name,we.visitNode(a.expression,L,we.isExpression),we.visitNode(a.statement,L,we.isStatement,we.liftToBlock))}else a=we.visitEachChild(a,L,b);return k&&K(),a;case 218:l=e;if(k){var f=ve(l.label&&we.idText(l.label));if(0<f)return xe(f,l)}return we.visitEachChild(l,L,b);case 217:f=e;if(k){var _=be(f.label&&we.idText(f.label));if(0<_)return xe(_,f)}return we.visitEachChild(f,L,b);case 219:_=e;var m=we.visitNode(_.expression,L,we.isExpression),g=_;return we.setTextRange(we.createReturn(we.createArrayLiteral(m?[$(2),m]:[$(2)])),g);default:if(!(16777216&e.transformFlags))return 33554944&e.transformFlags?we.visitEachChild(e,L,b):e;var h=e;switch(h.kind){case 194:return(e=>{switch(we.getExpressionAssociativity(e)){case 0:return(e=>{var t;{var r,n,i,a,s;if(R(e.right))return we.isLogicalOperator(e.operatorToken.kind)?(r=e,n=B(),q(i=U(),we.visitNode(r.left,L,we.isExpression),r.left),(53===r.operatorToken.kind?Te:Se)(n,i,r.left),q(i,we.visitNode(r.right,L,we.isExpression),r.right),j(n),i):26!==e.operatorToken.kind?((t=we.getMutableClone(e)).left=M(we.visitNode(e.left,L,we.isExpression)),t.right=we.visitNode(e.right,L,we.isExpression),t):(s=[],o((a=e).left),o(a.right),we.inlineExpressions(s));return we.visitEachChild(e,L,b);function o(e){we.isBinaryExpression(e)&&26===e.operatorToken.kind?(o(e.left),o(e.right)):(R(e)&&0<s.length&&(H(1,[we.createStatement(we.inlineExpressions(s))]),s=[]),s.push(we.visitNode(e,L,we.isExpression)))}}})(e);case 1:return(e=>{var t=e.left,r=e.right;if(R(r)){var n=void 0;switch(t.kind){case 179:n=we.updatePropertyAccess(t,M(we.visitNode(t.expression,L,we.isLeftHandSideExpression)),t.name);break;case 180:n=we.updateElementAccess(t,M(we.visitNode(t.expression,L,we.isLeftHandSideExpression)),M(we.visitNode(t.argumentExpression,L,we.isExpression)));break;default:n=we.visitNode(t,L,we.isExpression)}var i=e.operatorToken.kind;return(e=>59<=e&&e<=70)(i)?we.setTextRange(we.createAssignment(n,we.setTextRange(we.createBinary(M(n),(e=>{switch(e){case 59:return 37;case 60:return 38;case 61:return 39;case 62:return 40;case 63:return 41;case 64:return 42;case 65:return 45;case 66:return 46;case 67:return 47;case 68:return 48;case 69:return 49;case 70:return 50}})(i),we.visitNode(r,L,we.isExpression)),e)),e):we.updateBinary(e,n,we.visitNode(r,L,we.isExpression))}return we.visitEachChild(e,L,b)})(e);default:we.Debug.fail("Unknown associativity.")}})(h);case 195:return(e=>{var t,r,n;return R(e.whenTrue)||R(e.whenFalse)?(t=B(),r=B(),n=U(),Te(t,we.visitNode(e.condition,L,we.isExpression),e.condition),q(n,we.visitNode(e.whenTrue,L,we.isExpression),e.whenTrue),V(r),j(t),q(n,we.visitNode(e.whenFalse,L,we.isExpression),e.whenFalse),j(r),n):we.visitEachChild(e,L,b)})(h);case 197:return(e=>{var t=B(),r=we.visitNode(e.expression,L,we.isExpression);{var n,i,a;e.asteriskToken?H(7,[0==(8388608&we.getEmitFlags(e.expression))?we.createValuesHelper(b,r,e):r],e):H(6,[r],e)}j(t);r=e;return we.setTextRange(we.createCall(we.createPropertyAccess(E,"sent"),void 0,[]),r)})(h);case 177:return(e=>se(e.elements,void 0,void 0,e.multiLine))(h);case 178:return(r=>{var e=r.properties,n=r.multiLine,t=ue(e),i=U();return q(i,we.createObjectLiteral(we.visitNodes(e,L,we.isObjectLiteralElementLike,0,t),n)),(e=we.reduceLeft(e,function(e,t){R(t)&&0<e.length&&(J(we.createStatement(we.inlineExpressions(e))),e=[]);t=we.createExpressionForObjectLiteralElementLike(r,t,i),t=we.visitNode(t,L,we.isExpression);t&&(n&&(t.startsOnNewLine=!0),e.push(t));return e},[],t)).push(n?we.startOnNewLine(we.getMutableClone(i)):i),we.inlineExpressions(e)})(h);case 180:return(e=>{var t;return R(e.argumentExpression)?((t=we.getMutableClone(e)).expression=M(we.visitNode(e.expression,L,we.isLeftHandSideExpression)),t.argumentExpression=we.visitNode(e.argumentExpression,L,we.isExpression),t):we.visitEachChild(e,L,b)})(h);case 181:return(e=>{var t,r;return we.isImportCall(e)||!we.forEach(e.arguments,R)?we.visitEachChild(e,L,b):(r=we.createCallBinding(e.expression,O,te,!0),t=r.target,r=r.thisArg,we.setOriginalNode(we.createFunctionApply(M(we.visitNode(t,L,we.isLeftHandSideExpression)),r,se(e.arguments),e),e))})(h);case 182:return(e=>{var t,r;return we.forEach(e.arguments,R)?(r=we.createCallBinding(we.createPropertyAccess(e.expression,"bind"),O),t=r.target,r=r.thisArg,we.setOriginalNode(we.setTextRange(we.createNew(we.createFunctionApply(M(we.visitNode(t,L,we.isExpression)),r,se(e.arguments,we.createVoidZero())),void 0,[]),e),e)):we.visitEachChild(e,L,b)})(h);default:return we.visitEachChild(h,L,b)}}var i,y,v}function ie(e){var t,r;if(e.asteriskToken?e=we.setOriginalNode(we.setTextRange(we.createFunctionDeclaration(void 0,e.modifiers,void 0,e.name,void 0,we.visitParameterList(e.parameters,L,b),void 0,o(e.body)),e),e):(t=x,r=k,k=x=!1,e=we.visitEachChild(e,L,b),x=t,k=r),!x)return e;n(e)}function ae(e){var t,r;return e.asteriskToken?e=we.setOriginalNode(we.setTextRange(we.createFunctionExpression(void 0,void 0,e.name,void 0,we.visitParameterList(e.parameters,L,b),void 0,o(e.body)),e),e):(t=x,r=k,k=x=!1,e=we.visitEachChild(e,L,b),x=t,k=r),e}function o(e){var t=[],r=x,n=k,i=g,a=h,s=y,o=v,c=S,l=T,u=re,d=C,p=W,f=Q,_=E,m=(k=!(x=!0),re=1,Q=W=C=T=S=v=y=h=g=void 0,E=we.createTempVariable(void 0),Z(),we.addPrologue(t,e.statements,!1,L)),m=(oe(e.statements,m),F=ne=0,Y=A=!1,P=I=X=N=w=D=void 0,m=(()=>{if(C){for(var e=0;e<C.length;e++)(e=>{De(e);var t=e;if(g)for(;ne<y.length&&h[ne]<=t;ne++){var r=g[ne],n=y[ne];switch(r.kind){case 0:0===n?(N=N||[],(X=X||[]).push(I),I=r):1===n&&(I=X.pop());break;case 1:0===n?(P=P||[]).push(r):1===n&&P.pop()}}if(!A){Y=A=!1;var i=C[e];if(0!==i)if(10===i)A=!0,G(we.createReturn(we.createArrayLiteral([$(7)])));else{var a=W[e];if(1===i)return G(a[0]);var s=Q[e];switch(i){case 2:return((e,t,r)=>{G(we.setTextRange(we.createStatement(we.createAssignment(e,t)),r))})(a[0],a[1],s);case 3:return((e,t)=>{A=!0,G(we.setEmitFlags(we.setTextRange(we.createReturn(we.createArrayLiteral([$(3),z(e)])),t),384))})(a[0],s);case 4:return((e,t,r)=>{G(we.setEmitFlags(we.createIf(t,we.setEmitFlags(we.setTextRange(we.createReturn(we.createArrayLiteral([$(3),z(e)])),r),384)),1))})(a[0],a[1],s);case 5:return((e,t,r)=>{G(we.setEmitFlags(we.createIf(we.createLogicalNot(t),we.setEmitFlags(we.setTextRange(we.createReturn(we.createArrayLiteral([$(3),z(e)])),r),384)),1))})(a[0],a[1],s);case 6:return((e,t)=>{A=!0,G(we.setEmitFlags(we.setTextRange(we.createReturn(we.createArrayLiteral(e?[$(4),e]:[$(4)])),t),384))})(a[0],s);case 7:return((e,t)=>{A=!0,G(we.setEmitFlags(we.setTextRange(we.createReturn(we.createArrayLiteral([$(5),e])),t),384))})(a[0],s);case 8:return Ae(a[0],s);case 9:((e,t)=>{Y=A=!0,G(we.setTextRange(we.createThrow(e),t))})(a[0],s)}}}})(e);Ce(C.length)}else Ce(0);var t;return w?(t=we.createPropertyAccess(E,"label"),(t=we.createSwitch(t,we.createCaseBlock(w))).startsOnNewLine=!0,[t]):N||[]})(),((e,t)=>(e.requestEmitHelper(Ne),we.createCall(we.getHelperName("__generator"),void 0,[we.createThis(),t])))(b,we.setEmitFlags(we.createFunctionExpression(void 0,void 0,void 0,void 0,[we.createParameter(void 0,void 0,void 0,E)],void 0,we.createBlock(m,0<m.length)),524288)));return we.addRange(t,ee()),t.push(we.createReturn(m)),x=r,k=n,g=i,h=a,y=s,v=o,S=c,T=l,re=u,C=d,W=p,Q=f,E=_,we.setTextRange(we.createBlock(t,e.multiLine),e)}function se(e,n,t,i){var a,r=ue(e),s=(0<r&&(a=U(),s=we.visitNodes(e,L,we.isExpression,0,r),q(a,we.createArrayLiteral(n?[n].concat(s):s)),n=void 0),we.reduceLeft(e,function(e,t){{var r;R(t)&&0<e.length&&(r=void 0!==a,q(a=a||U(),r?we.createArrayConcat(a,[we.createArrayLiteral(e,i)]):we.createArrayLiteral(n?[n].concat(e):e,i)),n=void 0,e=[])}return e.push(we.visitNode(t,L,we.isExpression)),e},[],r));return a?we.createArrayConcat(a,[we.createArrayLiteral(s,i)]):we.setTextRange(we.createArrayLiteral(n?[n].concat(s):s,i),t)}function oe(e,t){for(var r=e.length,n=t=void 0===t?0:t;n<r;n++)c(e[n])}function u(e){we.isBlock(e)?oe(e.statements):c(e)}function c(e){var t=k;k=k||R(e),(e=>{switch(e.kind){case 207:return(e=>{R(e)?oe(e.statements):J(we.visitNode(e,L,we.isStatement))})(e);case 210:return(e=>{J(we.visitNode(e,L,we.isStatement))})(e);case 211:return(e=>{var t,r;R(e)&&(R(e.thenStatement)||R(e.elseStatement))?(t=B(),r=e.elseStatement?B():void 0,Te(e.elseStatement?r:t,we.visitNode(e.expression,L,we.isExpression),e.expression),u(e.thenStatement),e.elseStatement&&(V(t),j(r),u(e.elseStatement)),j(t)):J(we.visitNode(e,L,we.isStatement))})(e);case 212:return(e=>{var t,r;R(e)?(t=B(),r=B(),pe(t),j(r),u(e.statement),j(t),Se(r,we.visitNode(e.expression,L,we.isExpression)),K()):J(we.visitNode(e,L,we.isStatement))})(e);case 213:return(e=>{var t,r;R(e)?(t=B(),r=pe(t),j(t),Te(r,we.visitNode(e.expression,L,we.isExpression)),u(e.statement),V(t),K()):J(we.visitNode(e,L,we.isStatement))})(e);case 214:return(e=>{var t,r,n,i;R(e)?(t=B(),r=B(),n=pe(r),e.initializer&&(i=e.initializer,we.isVariableDeclarationList(i)?ce(i):J(we.setTextRange(we.createStatement(we.visitNode(i,L,we.isExpression)),i))),j(t),e.condition&&Te(n,we.visitNode(e.condition,L,we.isExpression)),u(e.statement),j(r),e.incrementor&&J(we.setTextRange(we.createStatement(we.visitNode(e.incrementor,L,we.isExpression)),e.incrementor)),V(t),K()):J(we.visitNode(e,L,we.isStatement))})(e);case 215:return(e=>{if(R(e)){var t=U(),r=U(),n=we.createLoopVariable(),i=e.initializer,r=(O(n),q(t,we.createArrayLiteral()),J(we.createForIn(r,we.visitNode(e.expression,L,we.isExpression),we.createStatement(we.createCall(we.createPropertyAccess(t,"push"),void 0,[r])))),q(n,we.createLiteral(0)),B()),a=B(),s=pe(a),s=(j(r),Te(s,we.createLessThan(n,we.createPropertyAccess(t,"length"))),void 0);if(we.isVariableDeclarationList(i)){for(var o=0,c=i.declarations;o<c.length;o++){var l=c[o];O(l.name)}s=we.getSynthesizedClone(i.declarations[0].name)}else s=we.visitNode(i,L,we.isExpression),we.Debug.assert(we.isLeftHandSideExpression(s));q(s,we.createElementAccess(t,n)),u(e.statement),j(a),J(we.createStatement(we.createPostfixIncrement(n))),V(r),K()}else J(we.visitNode(e,L,we.isStatement))})(e);case 217:return(e=>{var t=be(e.label?we.idText(e.label):void 0);0<t?V(t,e):J(e)})(e);case 218:return(e=>{var t=ve(e.label?we.idText(e.label):void 0);0<t?V(t,e):J(e)})(e);case 219:return(e=>{H(8,[we.visitNode(e.expression,L,we.isExpression)],e)})(e);case 220:return(e=>{var t,r,n;R(e)?(t=M(we.visitNode(e.expression,L,we.isExpression)),r=B(),n=B(),j(r),f({kind:1,expression:t,startLabel:r,endLabel:n}),u(e.statement),we.Debug.assert(1===l()),j(_().endLabel)):J(we.visitNode(e,L,we.isStatement))})(e);case 221:return(e=>{if(R(e.caseBlock)){for(var t=e.caseBlock,r=t.clauses.length,n=(()=>{var e=B();return f({kind:2,isScript:!1,breakLabel:e}),e})(),i=M(we.visitNode(e.expression,L,we.isExpression)),a=[],s=-1,o=0;o<r;o++){var c=t.clauses[o];a.push(B()),258===c.kind&&-1===s&&(s=o)}for(var l=0,u=[];l<r;){for(var d=0,o=l;o<r;o++)if(257===(c=t.clauses[o]).kind){var p=c;if(R(p.expression)&&0<u.length)break;u.push(we.createCaseClause(we.visitNode(p.expression,L,we.isExpression),[xe(a[o],p.expression)]))}else d++;u.length&&(J(we.createSwitch(i,we.createCaseBlock(u))),l+=u.length,u=[]),0<d&&(l+=d,d=0)}V(0<=s?a[s]:n);for(o=0;o<r;o++)j(a[o]),oe(t.clauses[o].statements);fe()}else J(we.visitNode(e,L,we.isStatement))})(e);case 222:return(e=>{var t,r;R(e)?(t=we.idText(e.label),r=B(),f({kind:4,isScript:!1,labelText:t,breakLabel:r}),u(e.statement),_e()):J(we.visitNode(e,L,we.isStatement))})(e);case 223:return(e=>{H(9,[we.visitNode(e.expression,L,we.isExpression)],e)})(e);case 224:return(e=>{var t,r,n,i,a,s,o,c;R(e)?(t=B(),r=B(),j(t),f({kind:0,state:0,startLabel:t,endLabel:r}),ke(),u(e.tryBlock),e.catchClause&&(n=e.catchClause.variableDeclaration,we.Debug.assert(0===l()),we.isGeneratedIdentifier(n.name)?(i=n.name,O(n.name)):(a=we.idText(n.name),i=U(a),d||(d=we.createMap(),p=[],b.enableSubstitution(71)),d.set(a,!0),p[we.getOriginalNodeId(n)]=i),a=m(),we.Debug.assert(a.state<1),V(a.endLabel),j(n=B()),a.state=1,a.catchVariable=i,a.catchLabel=n,q(i,we.createCall(we.createPropertyAccess(E,"sent"),void 0,[])),ke(),u(e.catchClause.block)),e.finallyBlock&&(we.Debug.assert(0===l()),s=m(),we.Debug.assert(s.state<2),V(s.endLabel),j(o=B()),s.state=2,s.finallyLabel=o,u(e.finallyBlock)),we.Debug.assert(0===l()),(c=_()).state<2?V(c.endLabel):H(10),j(c.endLabel),ke(),c.state=3):J(we.visitEachChild(e,L,b))})(e);default:J(we.visitNode(e,L,we.isStatement))}})(e),k=t}function ce(e){for(var t=0,r=e.declarations;t<r.length;t++){var n=r[t],i=we.getSynthesizedClone(n.name);we.setCommentRange(i,n.name),O(i)}for(var a=we.getInitializedVariables(e),s=a.length,o=0,c=[];o<s;){for(var l=o;l<s;l++){if(R((n=a[l]).initializer)&&0<c.length)break;c.push(le(n))}c.length&&(J(we.createStatement(we.inlineExpressions(c))),o+=c.length,c=[])}}function le(e){return we.setSourceMapRange(we.createAssignment(we.setSourceMapRange(we.getSynthesizedClone(e.name),e.name),we.visitNode(e.initializer,L,we.isExpression)),e)}function R(e){return e&&0!=(16777216&e.transformFlags)}function ue(e){for(var t=e.length,r=0;r<t;r++)if(R(e[r]))return r;return-1}function M(e){var t;return we.isGeneratedIdentifier(e)||4096&we.getEmitFlags(e)?e:(q(t=we.createTempVariable(O),e,e),t)}function U(e){e=e?we.createUniqueName(e):we.createTempVariable(void 0);return O(e),e}function B(){var e=re;return re++,(S=S||[])[e]=-1,e}function j(e){we.Debug.assert(void 0!==S,"No labels were defined."),S[e]=C?C.length:0}function f(e){g||(g=[],y=[],h=[],v=[]);var t=y.length;y[t]=0,h[t]=C?C.length:0,g[t]=e,v.push(e)}function _(){var e=m(),t=(we.Debug.assert(void 0!==e,"beginBlock was never called."),y.length);return y[t]=1,h[t]=C?C.length:0,g[t]=e,v.pop(),e}function m(){return we.lastOrUndefined(v)}function l(){var e=m();return e&&e.kind}function de(){f({kind:3,isScript:!0,breakLabel:-1,continueLabel:-1})}function pe(e){var t=B();return f({kind:3,isScript:!1,breakLabel:t,continueLabel:e}),t}function K(){we.Debug.assert(3===l());var e=_(),t=e.breakLabel;e.isScript||j(t)}function fe(){we.Debug.assert(2===l());var e=_(),t=e.breakLabel;e.isScript||j(t)}function _e(){we.Debug.assert(4===l());var e=_();e.isScript||j(e.breakLabel)}function me(e){return 2===e.kind||3===e.kind}function ge(e){return 4===e.kind}function he(e){return 3===e.kind}function ye(e,t){for(var r=t;0<=r;r--){var n=v[r];if(!ge(n))break;if(n.labelText===e)return 1}}function ve(e){if(v)if(e)for(var t=v.length-1;0<=t;t--){if(ge(r=v[t])&&r.labelText===e)return r.breakLabel;if(me(r)&&ye(e,t-1))return r.breakLabel}else for(var r,t=v.length-1;0<=t;t--)if(me(r=v[t]))return r.breakLabel;return 0}function be(e){if(v)if(e){for(var t=v.length-1;0<=t;t--)if(he(r=v[t])&&ye(e,t-1))return r.continueLabel}else for(var r,t=v.length-1;0<=t;t--)if(he(r=v[t]))return r.continueLabel;return 0}function z(e){var t;return 0<e?(void 0===T&&(T=[]),t=we.createLiteral(-1),void 0===T[e]?T[e]=[t]:T[e].push(t),t):we.createOmittedExpression()}function $(e){var t=we.createLiteral(e);return we.addSyntheticTrailingComment(t,3,(e=>{switch(e){case 2:return"return";case 3:return"break";case 4:return"yield";case 5:return"yield*";case 7:return"endfinally"}})(e)),t}function xe(e,t){return we.Debug.assertLessThan(0,e,"Invalid label"),we.setTextRange(we.createReturn(we.createArrayLiteral([$(3),z(e)])),t)}function ke(){H(0)}function J(e){e?H(1,[e]):ke()}function q(e,t,r){H(2,[e,t],r)}function V(e,t){H(3,[e],t)}function Se(e,t,r){H(4,[e,t],r)}function Te(e,t,r){H(5,[e,t],r)}function H(e,t,r){void 0===C&&(C=[],W=[],Q=[]),void 0===S&&j(B());var n=C.length;C[n]=e,W[n]=t,Q[n]=r}function Ce(e){if((e=>{if(!Y)return 1;if(S&&T)for(var t=0;t<S.length;t++)if(S[t]===e&&T[t])return 1})(e)&&(De(e),Ae(P=void 0,void 0)),N&&w&&Ee(!1),void 0!==T&&void 0!==D)for(var t=0;t<D.length;t++){var r=D[t];if(void 0!==r)for(var n=0,i=r;n<i.length;n++){var a=i[n],a=T[a];if(void 0!==a)for(var s=0,o=a;s<o.length;s++)o[s].text=String(t)}}}function Ee(e){if(w=w||[],N){if(P)for(var t=P.length-1;0<=t;t--){var r=P[t];N=[we.createWith(r.expression,we.createBlock(N))]}var n,i,a,s;I&&(n=I.startLabel,i=I.catchLabel,a=I.finallyLabel,s=I.endLabel,N.unshift(we.createStatement(we.createCall(we.createPropertyAccess(we.createPropertyAccess(E,"trys"),"push"),void 0,[we.createArrayLiteral([z(n),z(i),z(a),z(s)])]))),I=void 0),e&&N.push(we.createStatement(we.createAssignment(we.createPropertyAccess(E,"label"),we.createLiteral(F+1))))}w.push(we.createCaseClause(we.createLiteral(F),N||[])),N=void 0}function De(e){if(S)for(var t=0;t<S.length;t++)S[t]===e&&(N&&(Ee(!A),Y=A=!1,F++),void 0===(D=void 0===D?[]:D)[F]?D[F]=[t]:D[F].push(t))}function G(e){e&&(N?N.push(e):N=[e])}function Ae(e,t){Y=A=!0,G(we.setEmitFlags(we.setTextRange(we.createReturn(we.createArrayLiteral(e?[$(2),e]:[$(2)])),t),384))}}),priority:6,text:'\n            var __generator = (this && this.__generator) || function (thisArg, body) {\n                var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n                return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n                function verb(n) { return function (v) { return step([n, v]); }; }\n                function step(op) {\n                    if (f) throw new TypeError("Generator is already executing.");\n                    while (_) try {\n                        if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;\n                        if (y = 0, t) op = [0, t.value];\n                        switch (op[0]) {\n                            case 0: case 1: t = op; break;\n                            case 4: _.label++; return { value: op[1], done: false };\n                            case 5: _.label++; y = op[1]; op = [0]; continue;\n                            case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                            default:\n                                if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                                if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                                if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                                if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                                if (t[2]) _.ops.pop();\n                                _.trys.pop(); continue;\n                        }\n                        op = body.call(thisArg, _);\n                    } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n                    if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n                }\n            };'}})(ts=ts||{}),(J=>{J.transformModule=function(N){var p,f,s,n,i=N.startLexicalEnvironment,a=N.endLexicalEnvironment,C=N.hoistVariableDeclaration,_=N.getCompilerOptions(),m=N.getEmitResolver(),g=N.getEmitHost(),I=J.getEmitScriptTarget(_),P=J.getEmitModuleKind(_),r=N.onSubstituteNode,o=N.onEmitNode,c=(N.onSubstituteNode=function(e,t){if(!(t=r(e,t)).id||!s[t.id]){if(1===e)return(e=>{switch(e.kind){case 71:return S(e);case 194:return(e=>{if(J.isAssignmentOperator(e.operatorToken.kind)&&J.isIdentifier(e.left)&&!J.isGeneratedIdentifier(e.left)&&!J.isLocalName(e.left)&&!J.isDeclarationNameOfEnumOrNamespace(e.left)){var t=T(e.left);if(t){for(var r=e,n=0,i=t;n<i.length;n++){var a=i[n];s[J.getNodeId(r)]=!0,r=z(a,r,e)}return r}}return e})(e);case 193:case 192:return(e=>{if((43===e.operator||44===e.operator)&&J.isIdentifier(e.operand)&&!J.isGeneratedIdentifier(e.operand)&&!J.isLocalName(e.operand)&&!J.isDeclarationNameOfEnumOrNamespace(e.operand)){var t=T(e.operand);if(t){for(var r=193===e.kind?J.setTextRange(J.createBinary(e.operand,J.createToken(43===e.operator?59:60),J.createLiteral(1)),e):e,n=0,i=t;n<i.length;n++){var a=i[n];s[J.getNodeId(r)]=!0,r=z(a,r)}return r}}return e})(e)}return e})(t);if(J.isShorthandPropertyAssignment(t))return(e=>{var t,r=e.name,n=S(r);return n===r?e:e.objectAssignmentInitializer?(t=J.createAssignment(n,e.objectAssignmentInitializer),J.setTextRange(J.createPropertyAssignment(r,t),e)):J.setTextRange(J.createPropertyAssignment(r,n),e)})(t)}return t},N.onEmitNode=function(e,t,r){265===t.kind?(p=t,f=c[J.getOriginalNodeId(p)],s=[],o(e,t,r),s=f=p=void 0):o(e,t,r)},N.enableSubstitution(71),N.enableSubstitution(194),N.enableSubstitution(192),N.enableSubstitution(193),N.enableSubstitution(262),N.enableEmitNotification(265),[]),O=[];return function(e){if(e.isDeclarationFile||!(J.isExternalModule(e)||_.isolatedModules||67108864&e.transformFlags))return e;p=e,f=J.collectExternalModuleInfo(e,m,_),c[J.getOriginalNodeId(e)]=f;e=(e=>{switch(e){case J.ModuleKind.AMD:return E;case J.ModuleKind.UMD:return D;default:return t}})(P)(e);return p=void 0,f=void 0,n=!1,J.aggregateTransformFlags(e)};function l(){return!(f.exportEquals||!J.isExternalModule(p))}function t(e){i();var t=[],r=_.alwaysStrict||!_.noImplicitUseStrict&&J.isExternalModule(p),r=J.addPrologue(t,e.statements,r,y),r=(l()&&J.append(t,k()),J.append(t,J.visitNode(f.externalHelpersImportDeclaration,y,J.isStatement)),J.addRange(t,J.visitNodes(e.statements,y,J.isStatement,r)),h(t,!1),J.addRange(t,a()),J.updateSourceFileNode(e,J.setTextRange(J.createNodeArray(t),e.statements)));return f.hasExportStarsToExportValues&&!_.importHelpers&&J.addEmitHelper(r,A),J.addEmitHelpers(r,N.readEmitHelpers()),r}function E(e){var t=J.createIdentifier("define"),r=J.tryGetModuleNameFromFile(e,g,_),n=u(e,!0),i=n.aliasedModuleNames,a=n.unaliasedModuleNames,n=n.importAliasNames;return J.updateSourceFileNode(e,J.setTextRange(J.createNodeArray([J.createStatement(J.createCall(t,void 0,(r?[r]:[]).concat([J.createArrayLiteral([J.createLiteral("require"),J.createLiteral("exports")].concat(i,a)),J.createFunctionExpression(void 0,void 0,void 0,void 0,[J.createParameter(void 0,void 0,void 0,"require"),J.createParameter(void 0,void 0,void 0,"exports")].concat(n),void 0,d(e))])))]),e.statements))}function D(e){var t=u(e,!1),r=t.aliasedModuleNames,n=t.unaliasedModuleNames,t=t.importAliasNames,i=J.tryGetModuleNameFromFile(e,g,_),i=J.createFunctionExpression(void 0,void 0,void 0,void 0,[J.createParameter(void 0,void 0,void 0,"factory")],void 0,J.setTextRange(J.createBlock([J.createIf(J.createLogicalAnd(J.createTypeCheck(J.createIdentifier("module"),"object"),J.createTypeCheck(J.createPropertyAccess(J.createIdentifier("module"),"exports"),"object")),J.createBlock([J.createVariableStatement(void 0,[J.createVariableDeclaration("v",void 0,J.createCall(J.createIdentifier("factory"),void 0,[J.createIdentifier("require"),J.createIdentifier("exports")]))]),J.setEmitFlags(J.createIf(J.createStrictInequality(J.createIdentifier("v"),J.createIdentifier("undefined")),J.createStatement(J.createAssignment(J.createPropertyAccess(J.createIdentifier("module"),"exports"),J.createIdentifier("v")))),1)]),J.createIf(J.createLogicalAnd(J.createTypeCheck(J.createIdentifier("define"),"function"),J.createPropertyAccess(J.createIdentifier("define"),"amd")),J.createBlock([J.createStatement(J.createCall(J.createIdentifier("define"),void 0,(i?[i]:[]).concat([J.createArrayLiteral([J.createLiteral("require"),J.createLiteral("exports")].concat(r,n)),J.createIdentifier("factory")])))])))],!0),void 0));return J.updateSourceFileNode(e,J.setTextRange(J.createNodeArray([J.createStatement(J.createCall(i,void 0,[J.createFunctionExpression(void 0,void 0,void 0,void 0,[J.createParameter(void 0,void 0,void 0,"require"),J.createParameter(void 0,void 0,void 0,"exports")].concat(t),void 0,d(e))]))]),e.statements))}function u(e,t){for(var r=[],n=[],i=[],a=0,s=e.amdDependencies;a<s.length;a++){var o=s[a];o.name?(r.push(J.createLiteral(o.path)),i.push(J.createParameter(void 0,void 0,void 0,o.name))):n.push(J.createLiteral(o.path))}for(var c=0,l=f.externalImports;c<l.length;c++){var u=l[c],d=J.getExternalModuleNameLiteral(u,p,g,m,_),u=J.getLocalNameForExternalImport(u,p);d&&(t&&u?(J.setEmitFlags(u,4),r.push(d),i.push(J.createParameter(void 0,void 0,void 0,u))):n.push(d))}return{aliasedModuleNames:r,unaliasedModuleNames:n,importAliasNames:i}}function d(e){i();var t=[],r=J.addPrologue(t,e.statements,!_.noImplicitUseStrict,y),e=(l()&&J.append(t,k()),J.append(t,J.visitNode(f.externalHelpersImportDeclaration,y,J.isStatement)),J.addRange(t,J.visitNodes(e.statements,y,J.isStatement,r)),h(t,!0),J.addRange(t,a()),J.createBlock(t,!0));return f.hasExportStarsToExportValues&&!_.importHelpers&&J.addEmitHelper(e,A),n&&J.addEmitHelper(e,w),e}function h(e,t){var r,n;f.exportEquals&&(r=J.visitNode(f.exportEquals.expression,F))&&(t?(n=J.createReturn(r),J.setTextRange(n,f.exportEquals),J.setEmitFlags(n,1920)):(n=J.createStatement(J.createAssignment(J.createPropertyAccess(J.createIdentifier("module"),"exports"),r)),J.setTextRange(n,f.exportEquals),J.setEmitFlags(n,1536)),e.push(n))}function y(e){switch(e.kind){case 238:var t,r=e,n=J.getNamespaceDeclarationNode(r);if(P!==J.ModuleKind.AMD){if(!r.importClause)return J.setTextRange(J.createStatement(L(r)),r);var i=[];n&&!J.isDefaultImport(r)?i.push(J.createVariableDeclaration(J.getSynthesizedClone(n.name),void 0,L(r))):(i.push(J.createVariableDeclaration(J.getGeneratedNameForNode(r),void 0,L(r))),n&&J.isDefaultImport(r)&&i.push(J.createVariableDeclaration(J.getSynthesizedClone(n.name),void 0,J.getGeneratedNameForNode(r)))),t=J.append(t,J.setTextRange(J.createVariableStatement(void 0,J.createVariableDeclarationList(i,2<=I?2:0)),r))}else n&&J.isDefaultImport(r)&&(t=J.append(t,J.createVariableStatement(void 0,J.createVariableDeclarationList([J.setTextRange(J.createVariableDeclaration(J.getSynthesizedClone(n.name),void 0,J.getGeneratedNameForNode(r)),r)],2<=I?2:0))));return R(r)?(i=J.getOriginalNodeId(r),O[i]=M(O[i],r)):t=M(t,r),J.singleOrMany(t);case 237:var a,n=e;return J.Debug.assert(J.isExternalModuleImportEqualsDeclaration(n),"import= for internal module references should be handled in an earlier transformer."),P!==J.ModuleKind.AMD?a=J.hasModifier(n,1)?J.append(a,J.setTextRange(J.createStatement(z(n.name,L(n))),n)):J.append(a,J.setTextRange(J.createVariableStatement(void 0,J.createVariableDeclarationList([J.createVariableDeclaration(J.getSynthesizedClone(n.name),void 0,L(n))],2<=I?2:0)),n)):J.hasModifier(n,1)&&(a=J.append(a,J.setTextRange(J.createStatement(z(J.getExportName(n),J.getLocalName(n))),n))),R(n)?(i=J.getOriginalNodeId(n),O[i]=U(O[i],n)):a=U(a,n),J.singleOrMany(a);case 244:r=e;if(r.moduleSpecifier){var s=J.getGeneratedNameForNode(r);if(r.exportClause){var o=[];P!==J.ModuleKind.AMD&&o.push(J.setTextRange(J.createVariableStatement(void 0,J.createVariableDeclarationList([J.createVariableDeclaration(s,void 0,L(r))])),r));for(var c=0,l=r.exportClause.elements;c<l.length;c++){var u=l[c],d=J.createPropertyAccess(s,u.propertyName||u.name);o.push(J.setTextRange(J.createStatement(z(J.getExportName(u),d)),u))}return J.singleOrMany(o)}return J.setTextRange(J.createStatement(((e,t)=>e.getCompilerOptions().importHelpers?J.createCall(J.getHelperName("__exportStar"),void 0,[t,J.createIdentifier("exports")]):J.createCall(J.createIdentifier("__export"),void 0,[t]))(N,P!==J.ModuleKind.AMD?L(r):s)),r)}return;case 243:var p,f=e;return f.isExportEquals?void 0:((h=f.original)&&R(h)?(h=J.getOriginalNodeId(f),O[h]=K(O[h],J.createIdentifier("default"),J.visitNode(f.expression,F),f,!0)):p=K(p,J.createIdentifier("default"),J.visitNode(f.expression,F),f,!0),J.singleOrMany(p));case 208:var _,m,g,h,y=e;if(J.hasModifier(y,1)){for(var v=void 0,b=0,x=y.declarationList.declarations;b<x.length;b++){var k=x[b];J.isIdentifier(k.name)&&J.isLocalName(k.name)?(v=v||J.visitNodes(y.modifiers,$,J.isModifier),m=J.append(m,k)):k.initializer&&(g=J.append(g,(e=>J.isBindingPattern(e.name)?J.flattenDestructuringAssignment(J.visitNode(e,F),void 0,N,0,!1,z):J.createAssignment(J.setTextRange(J.createPropertyAccess(J.createIdentifier("exports"),e.name),e.name),J.visitNode(e.initializer,F)))(k)))}m&&(_=J.append(_,J.updateVariableStatement(y,v,J.updateVariableDeclarationList(y.declarationList,m)))),g&&(_=J.append(_,J.setTextRange(J.createStatement(J.inlineExpressions(g)),y)))}else _=J.append(_,J.visitEachChild(y,F,N));return R(y)?(h=J.getOriginalNodeId(y),O[h]=B(O[h],y)):_=B(_,y),J.singleOrMany(_);case 228:var S,f=e;return S=J.hasModifier(f,1)?J.append(S,J.setOriginalNode(J.setTextRange(J.createFunctionDeclaration(void 0,J.visitNodes(f.modifiers,$,J.isModifier),f.asteriskToken,J.getDeclarationName(f,!0,!0),void 0,J.visitNodes(f.parameters,F),void 0,J.visitEachChild(f.body,F,N)),f),f)):J.append(S,J.visitEachChild(f,F,N)),R(f)?(C=J.getOriginalNodeId(f),O[C]=j(O[C],f)):S=j(S,f),J.singleOrMany(S);case 229:var T,C=e;return T=J.hasModifier(C,1)?J.append(T,J.setOriginalNode(J.setTextRange(J.createClassDeclaration(void 0,J.visitNodes(C.modifiers,$,J.isModifier),J.getDeclarationName(C,!0,!0),void 0,J.visitNodes(C.heritageClauses,F),J.visitNodes(C.members,F)),C),C)):J.append(T,J.visitEachChild(C,F,N)),R(C)?(E=J.getOriginalNodeId(C),O[E]=j(O[E],C)):T=j(T,C),J.singleOrMany(T);case 290:var E=e;return R(E)&&208===E.original.kind&&(D=J.getOriginalNodeId(E),O[D]=B(O[D],E.original)),E;case 291:var D=e,A=J.getOriginalNodeId(D),w=O[A];return w?(delete O[A],J.append(w,D)):D;default:return J.visitEachChild(e,F,N)}}function F(e){if(!(67108864&e.transformFlags))return e;if(!J.isImportCall(e))return J.visitEachChild(e,F,N);var t=J.visitNode(J.firstOrUndefined(e.arguments),F),r=!!(16384&e.transformFlags);switch(_.module){case J.ModuleKind.AMD:return v(t,r);case J.ModuleKind.UMD:return((e,t)=>{var r;return n=!0,J.isSimpleCopiableExpression(e)?(r=J.isGeneratedIdentifier(e)?e:J.isStringLiteral(e)?J.createLiteral(e):J.setEmitFlags(J.setTextRange(J.getSynthesizedClone(e),e),1536),J.createConditional(J.createIdentifier("__syncRequire"),b(e,t),v(r,t))):(r=J.createTempVariable(C),J.createComma(J.createAssignment(r,e),J.createConditional(J.createIdentifier("__syncRequire"),b(r,t),v(r,t))))})(t,r);default:J.ModuleKind.CommonJS;return b(t,r)}}function v(e,t){var r,n=J.createUniqueName("resolve"),i=J.createUniqueName("reject"),a=[J.createParameter(void 0,void 0,void 0,n),J.createParameter(void 0,void 0,void 0,i)],e=J.createBlock([J.createStatement(J.createCall(J.createIdentifier("require"),void 0,[J.createArrayLiteral([e||J.createOmittedExpression()]),n,i]))]);return 2<=I?r=J.createArrowFunction(void 0,void 0,a,void 0,void 0,e):(r=J.createFunctionExpression(void 0,void 0,void 0,void 0,a,void 0,e),t&&J.setEmitFlags(r,8)),J.createNew(J.createIdentifier("Promise"),void 0,[r])}function b(e,t){var r,n=J.createCall(J.createPropertyAccess(J.createIdentifier("Promise"),"resolve"),void 0,[]),e=J.createCall(J.createIdentifier("require"),void 0,e?[e]:[]);return 2<=I?r=J.createArrowFunction(void 0,void 0,[],void 0,void 0,e):(r=J.createFunctionExpression(void 0,void 0,void 0,void 0,[],void 0,J.createBlock([J.createReturn(e)])),t&&J.setEmitFlags(r,8)),J.createCall(J.createPropertyAccess(n,"then"),void 0,[r])}function L(e){var e=J.getExternalModuleNameLiteral(e,p,g,m,_),t=[];return e&&t.push(e),J.createCall(J.createIdentifier("require"),void 0,t)}function R(e){return 0!=(4194304&J.getEmitFlags(e))}function M(e,t){if(!f.exportEquals){t=t.importClause;if(t){t.name&&(e=x(e,t));var r=t.namedBindings;if(r)switch(r.kind){case 240:e=x(e,r);break;case 241:for(var n=0,i=r.elements;n<i.length;n++)e=x(e,i[n])}}}return e}function U(e,t){return f.exportEquals?e:x(e,t)}function B(e,t){if(!f.exportEquals)for(var r=0,n=t.declarationList.declarations;r<n.length;r++)e=function e(t,r){if(f.exportEquals)return t;if(J.isBindingPattern(r.name))for(var n=0,i=r.name.elements;n<i.length;n++){var a=i[n];J.isOmittedExpression(a)||(t=e(t,a))}else J.isGeneratedIdentifier(r.name)||(t=x(t,r));return t}(e,n[r]);return e}function j(e,t){return f.exportEquals||(J.hasModifier(t,1)&&(e=K(e,J.hasModifier(t,512)?J.createIdentifier("default"):J.getDeclarationName(t),J.getLocalName(t),t)),t.name&&(e=x(e,t))),e}function x(e,t){var r=J.getDeclarationName(t),t=f.exportSpecifiers.get(J.idText(r));if(t)for(var n=0,i=t;n<i.length;n++){var a=i[n];e=K(e,a.name,r,a.name)}return e}function K(e,t,r,n,i){return e=J.append(e,((e,t,r,n)=>(e=J.setTextRange(J.createStatement(z(e,t)),r),J.startOnNewLine(e),n||J.setEmitFlags(e,1536),e))(t,r,n,i))}function k(){var e=0===I?J.createStatement(z(J.createIdentifier("__esModule"),J.createLiteral(!0))):J.createStatement(J.createCall(J.createPropertyAccess(J.createIdentifier("Object"),"defineProperty"),void 0,[J.createIdentifier("exports"),J.createLiteral("__esModule"),J.createObjectLiteral([J.createPropertyAssignment("value",J.createLiteral(!0))])]));return J.setEmitFlags(e,1048576),e}function z(e,t,r){return J.setTextRange(J.createAssignment(J.createPropertyAccess(J.createIdentifier("exports"),J.getSynthesizedClone(e)),t),r)}function $(e){switch(e.kind){case 84:case 79:return}return e}function S(e){if(4096&J.getEmitFlags(e))return(t=J.getExternalHelpersModuleName(p))?J.createPropertyAccess(t,e):e;if(!J.isGeneratedIdentifier(e)&&!J.isLocalName(e)){var t=m.getReferencedExportContainer(e,J.isExportName(e));if(t&&265===t.kind)return J.setTextRange(J.createPropertyAccess(J.createIdentifier("exports"),J.getSynthesizedClone(e)),e);var r,t=m.getReferencedImportDeclaration(e);if(t){if(J.isImportClause(t))return J.setTextRange(J.createPropertyAccess(J.getGeneratedNameForNode(t.parent),J.createIdentifier("default")),e);if(J.isImportSpecifier(t))return r=t.propertyName||t.name,J.setTextRange(J.createPropertyAccess(J.getGeneratedNameForNode(t.parent.parent.parent),J.getSynthesizedClone(r)),e)}}return e}function T(e){if(!J.isGeneratedIdentifier(e)){e=m.getReferencedImportDeclaration(e)||m.getReferencedValueDeclaration(e);if(e)return f&&f.exportedBindings[J.getOriginalNodeId(e)]}}};var A={name:"typescript:export-star",scoped:!0,text:"\n            function __export(m) {\n                for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n            }\n        "},w={name:"typescript:dynamicimport-sync-require",scoped:!0,text:'\n            var __syncRequire = typeof module === "object" && typeof module.exports === "object";'}})(ts=ts||{}),(V=>{V.transformSystemModule=function(T){var h,g,y,s,C,E,o,B=T.startLexicalEnvironment,j=T.endLexicalEnvironment,D=T.hoistVariableDeclaration,c=T.getCompilerOptions(),l=T.getEmitResolver(),u=T.getEmitHost(),a=T.onSubstituteNode,i=T.onEmitNode,d=(T.onSubstituteNode=function(e,t){if((e=>o&&e.id&&o[e.id])(t=a(e,t)))return t;if(1!==e)return t;var r=t;switch(r.kind){case 71:return(e=>{if(4096&V.getEmitFlags(e)){var t=V.getExternalHelpersModuleName(h);if(t)return V.createPropertyAccess(t,e)}else if(!V.isGeneratedIdentifier(e)&&!V.isLocalName(e)){t=l.getReferencedImportDeclaration(e);if(t){if(V.isImportClause(t))return V.setTextRange(V.createPropertyAccess(V.getGeneratedNameForNode(t.parent),V.createIdentifier("default")),e);if(V.isImportSpecifier(t))return V.setTextRange(V.createPropertyAccess(V.getGeneratedNameForNode(t.parent.parent.parent),V.getSynthesizedClone(t.propertyName||t.name)),e)}}return e})(r);case 194:return(e=>{if(V.isAssignmentOperator(e.operatorToken.kind)&&V.isIdentifier(e.left)&&!V.isGeneratedIdentifier(e.left)&&!V.isLocalName(e.left)&&!V.isDeclarationNameOfEnumOrNamespace(e.left)){var t=q(e.left);if(t){for(var r=e,n=0,i=t;n<i.length;n++){var a=i[n];r=S(a,U(r))}return r}}return e})(r);case 192:case 193:return(e=>{if((43===e.operator||44===e.operator)&&V.isIdentifier(e.operand)&&!V.isGeneratedIdentifier(e.operand)&&!V.isLocalName(e.operand)&&!V.isDeclarationNameOfEnumOrNamespace(e.operand)){var t=q(e.operand);if(t){for(var r=193===e.kind?V.setTextRange(V.createPrefix(e.operator,e.operand),e):e,n=0,i=t;n<i.length;n++){var a=i[n];r=S(a,U(r))}return r=193===e.kind?43===e.operator?V.createSubtract(U(r),V.createLiteral(1)):V.createAdd(U(r),V.createLiteral(1)):r}}return e})(r)}return r},T.onEmitNode=function(e,t,r){{var n;265===t.kind?(n=V.getOriginalNodeId(t),h=t,g=d[n],y=p[n],(o=f[n])&&delete f[n],i(e,t,r),o=y=g=h=void 0):i(e,t,r)}},T.enableSubstitution(71),T.enableSubstitution(194),T.enableSubstitution(192),T.enableSubstitution(193),T.enableEmitNotification(265),[]),A=[],p=[],f=[];return function(e){if(e.isDeclarationFile||!(V.isEffectiveExternalModule(e,c)||67108864&e.transformFlags))return e;var t=V.getOriginalNodeId(e),r=(E=h=e,g=d[t]=V.collectExternalModuleInfo(e,l,c),y=V.createUniqueName("exports"),p[t]=y,s=V.createUniqueName("context"),(e=>{for(var t=V.createMap(),r=[],n=0;n<e.length;n++){var i,a,s=e[n],o=V.getExternalModuleNameLiteral(s,h,u,l,c);o&&(i=o.text,void 0!==(a=t.get(i))?r[a].externalImports.push(s):(t.set(i,r.length),r.push({name:o,externalImports:[s]})))}return r})(g.externalImports)),n=((e,t)=>{var r=[],n=(B(),c.alwaysStrict||!c.noImplicitUseStrict&&V.isExternalModule(h)),n=V.addPrologue(r,e.statements,n,_),e=(r.push(V.createVariableStatement(void 0,V.createVariableDeclarationList([V.createVariableDeclaration("__moduleName",void 0,V.createLogicalAnd(s,V.createPropertyAccess(s,"id")))]))),V.visitNode(g.externalHelpersImportDeclaration,_,V.isStatement),V.visitNodes(e.statements,_,V.isStatement,n)),n=(V.addRange(r,C),V.addRange(r,j()),(e=>{if(g.hasExportStarsToExportValues){if(!g.exportedNames&&0===g.exportSpecifiers.size){for(var t=!1,r=0,n=g.externalImports;r<n.length;r++)if(244===(u=n[r]).kind&&u.exportClause){t=!0;break}if(!t)return m=v(void 0),e.push(m),m.name}var i=[];if(g.exportedNames)for(var a=0,s=g.exportedNames;a<s.length;a++){var o=s[a];"default"!==o.escapedText&&i.push(V.createPropertyAssignment(V.createLiteral(o),V.createTrue()))}for(var c=0,l=g.externalImports;c<l.length;c++){var u=l[c];if(244===u.kind){var d=u;if(d.exportClause)for(var p=0,f=d.exportClause.elements;p<f.length;p++){var _=f[p];i.push(V.createPropertyAssignment(V.createLiteral(V.idText(_.name||_.propertyName)),V.createTrue()))}}}var m=V.createUniqueName("exportedNames"),m=(e.push(V.createVariableStatement(void 0,V.createVariableDeclarationList([V.createVariableDeclaration(m,void 0,V.createObjectLiteral(i,!0))]))),v(m));return e.push(m),m.name}})(r));return(n=V.createObjectLiteral([V.createPropertyAssignment("setters",((e,t)=>{for(var r=[],n=0,i=t;n<i.length;n++){for(var a=i[n],s=V.forEach(a.externalImports,function(e){return V.getLocalNameForExternalImport(e,h)}),o=s?V.getGeneratedNameForNode(s):V.createUniqueName(""),c=[],l=0,u=a.externalImports;l<u.length;l++){var d=u[l],p=V.getLocalNameForExternalImport(d,h);switch(d.kind){case 238:if(!d.importClause)break;case 237:V.Debug.assert(void 0!==p),c.push(V.createStatement(V.createAssignment(p,o)));break;case 244:if(V.Debug.assert(void 0!==p),d.exportClause){for(var f=[],_=0,m=d.exportClause.elements;_<m.length;_++){var g=m[_];f.push(V.createPropertyAssignment(V.createLiteral(V.idText(g.name)),V.createElementAccess(o,V.createLiteral(V.idText(g.propertyName||g.name)))))}c.push(V.createStatement(V.createCall(y,void 0,[V.createObjectLiteral(f,!0)])))}else c.push(V.createStatement(V.createCall(e,void 0,[o])))}}r.push(V.createFunctionExpression(void 0,void 0,void 0,void 0,[V.createParameter(void 0,void 0,void 0,o)],void 0,V.createBlock(c,!0)))}return V.createArrayLiteral(r,!0)})(n,t)),V.createPropertyAssignment("execute",V.createFunctionExpression(void 0,void 0,void 0,void 0,[],void 0,V.createBlock(e,!0)))])).multiLine=!0,r.push(V.createReturn(n)),V.createBlock(r,!0)})(e,r),i=V.createFunctionExpression(void 0,void 0,void 0,void 0,[V.createParameter(void 0,void 0,void 0,y),V.createParameter(void 0,void 0,void 0,s)],void 0,n),a=V.tryGetModuleNameFromFile(e,u,c),r=V.createArrayLiteral(V.map(r,function(e){return e.name})),a=V.setEmitFlags(V.updateSourceFileNode(e,V.setTextRange(V.createNodeArray([V.createStatement(V.createCall(V.createPropertyAccess(V.createIdentifier("System"),"register"),void 0,a?[a,r,i]:[r,i]))]),e.statements)),1024);c.outFile||c.out||V.moveEmitHelpers(a,n,function(e){return!e.scoped});o&&(f[t]=o,o=void 0);return h=void 0,g=void 0,y=void 0,s=void 0,C=void 0,E=void 0,V.aggregateTransformFlags(a)};function v(e){var t=V.createUniqueName("exportStar"),r=V.createIdentifier("m"),n=V.createIdentifier("n"),i=V.createIdentifier("exports"),a=V.createStrictInequality(n,V.createLiteral("default"));return e&&(a=V.createLogicalAnd(a,V.createLogicalNot(V.createCall(V.createPropertyAccess(e,"hasOwnProperty"),void 0,[n])))),V.createFunctionDeclaration(void 0,void 0,void 0,t,void 0,[V.createParameter(void 0,void 0,void 0,r)],void 0,V.createBlock([V.createVariableStatement(void 0,V.createVariableDeclarationList([V.createVariableDeclaration(i,void 0,V.createObjectLiteral([]))])),V.createForIn(V.createVariableDeclarationList([V.createVariableDeclaration(n,void 0)]),r,V.createBlock([V.setEmitFlags(V.createIf(a,V.createStatement(V.createAssignment(V.createElementAccess(i,n),V.createElementAccess(r,n)))),1)])),V.createStatement(V.createCall(y,void 0,[i]))],!0))}function _(e){switch(e.kind){case 238:var t,r=e;return r.importClause&&D(V.getLocalNameForExternalImport(r,h)),P(r)?(i=V.getOriginalNodeId(r),A[i]=m(A[i],r)):t=m(t,r),V.singleOrMany(t);case 237:var n,i=e;return V.Debug.assert(V.isExternalModuleImportEqualsDeclaration(i),"import= for internal module references should be handled in an earlier transformer."),D(V.getLocalNameForExternalImport(i,h)),P(i)?(r=V.getOriginalNodeId(i),A[r]=b(A[r],i)):n=b(n,i),V.singleOrMany(n);case 244:return;case 243:var a=e;if(!a.isExportEquals){var s=V.visitNode(a.expression,M,V.isExpression),o=a.original;if(!o||!P(o))return $(V.createIdentifier("default"),s,!0);o=V.getOriginalNodeId(a),A[o]=k(A[o],V.createIdentifier("default"),s,!0)}return;default:return L(e)}}function w(e){if(V.isBindingPattern(e.name))for(var t=0,r=e.name.elements;t<r.length;t++){var n=r[t];V.isOmittedExpression(n)||w(n)}else D(V.getSynthesizedClone(e.name))}function N(e){return 0==(2097152&V.getEmitFlags(e))&&(265===E.kind||0==(3&V.getOriginalNode(e).flags))}function I(e,t){t=t?K:z;return V.isBindingPattern(e.name)?V.flattenDestructuringAssignment(e,M,T,0,!1,t):e.initializer?t(e.name,V.visitNode(e.initializer,M,V.isExpression)):e.name}function K(e,t,r){return n(e,t,r,!0)}function z(e,t,r){return n(e,t,r,!1)}function n(e,t,r,n){return D(V.getSynthesizedClone(e)),n?S(e,U(V.setTextRange(V.createAssignment(e,t),r))):U(V.setTextRange(V.createAssignment(e,t),r))}function P(e){return 0!=(4194304&V.getEmitFlags(e))}function m(e,t){if(!g.exportEquals){t=t.importClause;if(t){t.name&&(e=x(e,t));var r=t.namedBindings;if(r)switch(r.kind){case 240:e=x(e,r);break;case 241:for(var n=0,i=r.elements;n<i.length;n++)e=x(e,i[n])}}}return e}function b(e,t){return g.exportEquals?e:x(e,t)}function O(e,t,r){if(!g.exportEquals)for(var n=0,i=t.declarationList.declarations;n<i.length;n++){var a=i[n];(a.initializer||r)&&(e=function e(t,r,n){if(g.exportEquals)return t;if(V.isBindingPattern(r.name))for(var i=0,a=r.name.elements;i<a.length;i++){var s=a[i];V.isOmittedExpression(s)||(t=e(t,s,n))}else{var o;V.isGeneratedIdentifier(r.name)||(o=void 0,n&&(t=k(t,r.name,V.getLocalName(r)),o=V.idText(r.name)),t=x(t,r,o))}return t}(e,a,r))}return e}function F(e,t){var r;return g.exportEquals||(V.hasModifier(t,1)&&(e=k(e,r=V.hasModifier(t,512)?V.createLiteral("default"):t.name,V.getLocalName(t)),r=V.getTextOfIdentifierOrLiteral(r)),t.name&&(e=x(e,t,r))),e}function x(e,t,r){if(!g.exportEquals){var n=V.getDeclarationName(t),t=g.exportSpecifiers.get(V.idText(n));if(t)for(var i=0,a=t;i<a.length;i++){var s=a[i];s.name.escapedText!==r&&(e=k(e,s.name,n))}}return e}function k(e,t,r,n){return e=V.append(e,$(t,r,n))}function $(e,t,r){e=V.createStatement(S(e,t));return V.startOnNewLine(e),r||V.setEmitFlags(e,1536),e}function S(e,t){e=V.isIdentifier(e)?V.createLiteral(e):e;return V.setEmitFlags(t,1536|V.getEmitFlags(t)),V.setCommentRange(V.createCall(y,void 0,[e,t]),t)}function L(e){switch(e.kind){case 208:var t=e;if(!N(t.declarationList))return V.visitNode(t,M,V.isStatement);for(var r,n,i=V.hasModifier(t,1),a=P(t),s=0,o=t.declarationList.declarations;s<o.length;s++){var c=o[s];c.initializer?r=V.append(r,I(c,i&&!a)):w(c)}return r&&(n=V.append(n,V.setTextRange(V.createStatement(V.inlineExpressions(r)),t))),a?(S=V.getOriginalNodeId(t),A[S]=O(A[S],t,i)):n=O(n,t,!1),V.singleOrMany(n);case 228:return S=e,C=V.hasModifier(S,1)?V.append(C,V.updateFunctionDeclaration(S,S.decorators,V.visitNodes(S.modifiers,J,V.isModifier),S.asteriskToken,V.getDeclarationName(S,!0,!0),void 0,V.visitNodes(S.parameters,M,V.isParameterDeclaration),void 0,V.visitNode(S.body,M,V.isBlock))):V.append(C,V.visitEachChild(S,M,T)),void(P(S)?(t=V.getOriginalNodeId(S),A[t]=F(A[t],S)):C=F(C,S));case 229:return b=e,k=V.getLocalName(b),D(k),x=V.append(x,V.setTextRange(V.createStatement(V.createAssignment(k,V.setTextRange(V.createClassExpression(void 0,b.name,void 0,V.visitNodes(b.heritageClauses,M,V.isHeritageClause),V.visitNodes(b.members,M,V.isClassElement)),b))),b)),P(b)?(k=V.getOriginalNodeId(b),A[k]=F(A[k],b)):x=F(x,b),V.singleOrMany(x);case 214:return k=E,E=b=e,b=V.updateFor(b,R(b.initializer),V.visitNode(b.condition,M,V.isExpression),V.visitNode(b.incrementor,M,V.isExpression),V.visitNode(b.statement,L,V.isStatement)),E=k,b;case 215:return v=E,E=y=e,y=V.updateForIn(y,R(y.initializer),V.visitNode(y.expression,M,V.isExpression),V.visitNode(y.statement,L,V.isStatement,V.liftToBlock)),E=v,y;case 216:return v=E,E=y=e,y=V.updateForOf(y,y.awaitModifier,R(y.initializer),V.visitNode(y.expression,M,V.isExpression),V.visitNode(y.statement,L,V.isStatement,V.liftToBlock)),E=v,y;case 212:return h=e,V.updateDo(h,V.visitNode(h.statement,L,V.isStatement,V.liftToBlock),V.visitNode(h.expression,M,V.isExpression));case 213:return h=e,V.updateWhile(h,V.visitNode(h.expression,M,V.isExpression),V.visitNode(h.statement,L,V.isStatement,V.liftToBlock));case 222:return V.updateLabel(e,e.label,V.visitNode(e.statement,L,V.isStatement,V.liftToBlock));case 220:return g=e,V.updateWith(g,V.visitNode(g.expression,M,V.isExpression),V.visitNode(g.statement,L,V.isStatement,V.liftToBlock));case 221:return g=e,V.updateSwitch(g,V.visitNode(g.expression,M,V.isExpression),V.visitNode(g.caseBlock,L,V.isCaseBlock));case 235:return m=E,E=_=e,_=V.updateCaseBlock(e,V.visitNodes(e.clauses,L,V.isCaseOrDefaultClause)),E=m,_;case 257:return m=e,V.updateCaseClause(m,V.visitNode(m.expression,M,V.isExpression),V.visitNodes(m.statements,L,V.isStatement));case 258:case 224:return V.visitEachChild(e,L,T);case 260:return _=E,E=f=e,f=V.updateCatchClause(e,e.variableDeclaration,V.visitNode(e.block,L,V.isBlock)),E=_,f;case 207:return f=E,E=p=e,p=V.visitEachChild(e,L,T),E=f,p;case 290:return P(p=e)&&208===p.original.kind&&(u=V.getOriginalNodeId(p),d=V.hasModifier(p.original,1),A[u]=O(A[u],p.original,d)),p;case 291:return u=e,d=V.getOriginalNodeId(u),(l=A[d])?(delete A[d],V.append(l,u)):u;default:return M(e)}var l,u,d,p,f,_,m,g,h,y,v,b,x,k,S}function R(e){if(!e)return e;if(a=e,V.isVariableDeclarationList(a)&&N(a)){for(var t=void 0,r=0,n=e.declarations;r<n.length;r++){var i=n[r],t=V.append(t,I(i,!1));i.initializer||w(i)}return t?V.inlineExpressions(t):V.createOmittedExpression()}return V.visitEachChild(e,L,T);var a}function M(e){var t;return 1024&e.transformFlags&&194===e.kind?r((t=e).left)?V.flattenDestructuringAssignment(t,M,T,0,!0):V.visitEachChild(t,M,T):V.isImportCall(e)?(t=e,V.createCall(V.createPropertyAccess(s,V.createIdentifier("import")),void 0,V.some(t.arguments)?[V.visitNode(t.arguments[0],M)]:[])):2048&e.transformFlags||67108864&e.transformFlags?V.visitEachChild(e,M,T):e}function r(e){return V.isAssignmentExpression(e,!0)?r(e.left):V.isSpreadElement(e)?r(e.expression):V.isObjectLiteralExpression(e)?V.some(e.properties,r):V.isArrayLiteralExpression(e)?V.some(e.elements,r):V.isShorthandPropertyAssignment(e)?r(e.name):V.isPropertyAssignment(e)?r(e.initializer):!!V.isIdentifier(e)&&void 0!==(e=l.getReferencedExportContainer(e))&&265===e.kind}function J(e){switch(e.kind){case 84:case 79:return}return e}function q(e){var t,r;return V.isGeneratedIdentifier(e)||(r=l.getReferencedImportDeclaration(e)||l.getReferencedValueDeclaration(e))&&((e=l.getReferencedExportContainer(e,!1))&&265===e.kind&&(t=V.append(t,V.getDeclarationName(r))),t=V.addRange(t,g&&g.exportedBindings[V.getOriginalNodeId(r)])),t}function U(e){return(o=void 0===o?[]:o)[V.getNodeId(e)]=!0,e}}})(ts=ts||{}),(c=>{c.transformES2015Module=function(i){var n,a=i.getCompilerOptions(),s=i.onEmitNode,r=i.onSubstituteNode;return i.onEmitNode=function(e,t,r){c.isSourceFile(t)?(s(e,n=t,r),n=void 0):s(e,t,r)},i.onSubstituteNode=function(e,t){if(t=r(e,t),c.isIdentifier(t)&&1===e)return(e=>{if(4096&c.getEmitFlags(e)){var t=c.getExternalHelpersModuleName(n);if(t)return c.createPropertyAccess(t,e)}return e})(t);return t},i.enableEmitNotification(265),i.enableSubstitution(71),function(e){var t,r,n;if(!e.isDeclarationFile&&(c.isExternalModule(e)||a.isolatedModules))return(t=c.getOrCreateExternalHelpersModuleNameIfNeeded(e,a))?(r=[],n=c.addPrologue(r,e.statements),c.append(r,c.createImportDeclaration(void 0,void 0,c.createImportClause(void 0,c.createNamespaceImport(t)),c.createLiteral(c.externalHelpersModuleNameText))),c.addRange(r,c.visitNodes(e.statements,o,c.isStatement,n)),c.updateSourceFileNode(e,c.setTextRange(c.createNodeArray(r),e.statements))):c.visitEachChild(e,o,i);return e};function o(e){switch(e.kind){case 237:return;case 243:return(t=e).isExportEquals?void 0:t}var t;return e}}})(ts=ts||{}),(T=>{T.getTransformers=function(e,t){var r=e.jsx,n=T.getEmitScriptTarget(e),e=T.getEmitModuleKind(e),i=[];return T.addRange(i,t&&t.before),i.push(T.transformTypeScript),2===r&&i.push(T.transformJsx),n<5&&i.push(T.transformESNext),n<4&&i.push(T.transformES2017),n<3&&i.push(T.transformES2016),n<2&&(i.push(T.transformES2015),i.push(T.transformGenerators)),i.push((e=>{switch(e){case T.ModuleKind.ESNext:case T.ModuleKind.ES2015:return T.transformES2015Module;case T.ModuleKind.System:return T.transformSystemModule;default:return T.transformModule}})(e)),n<1&&i.push(T.transformES5),T.addRange(i,t&&t.after),i},T.transformNodes=function(e,t,r,n,i,a){for(var s,o,c,l=new Array(292),u=[],d=[],p=0,f=!1,_=function(e,t){return t},m=function(e,t,r){return r(e,t)},g=0,h={getCompilerOptions:function(){return r},getEmitResolver:function(){return e},getEmitHost:function(){return t},startLexicalEnvironment:function(){T.Debug.assert(0<g,"Cannot modify the lexical environment during initialization."),T.Debug.assert(g<2,"Cannot modify the lexical environment after transformation has completed."),T.Debug.assert(!f,"Lexical environment is suspended."),u[p]=s,d[p]=o,p++,s=void 0,o=void 0},suspendLexicalEnvironment:function(){T.Debug.assert(0<g,"Cannot modify the lexical environment during initialization."),T.Debug.assert(g<2,"Cannot modify the lexical environment after transformation has completed."),T.Debug.assert(!f,"Lexical environment is already suspended."),f=!0},resumeLexicalEnvironment:function(){T.Debug.assert(0<g,"Cannot modify the lexical environment during initialization."),T.Debug.assert(g<2,"Cannot modify the lexical environment after transformation has completed."),T.Debug.assert(f,"Lexical environment is not suspended."),f=!1},endLexicalEnvironment:function(){var e;{var t;T.Debug.assert(0<g,"Cannot modify the lexical environment during initialization."),T.Debug.assert(g<2,"Cannot modify the lexical environment after transformation has completed."),T.Debug.assert(!f,"Lexical environment is suspended."),(s||o)&&(o&&(e=o.slice()),s)&&(t=T.createVariableStatement(void 0,T.createVariableDeclarationList(s)),e?e.push(t):e=[t])}s=u[--p],o=d[p],0===p&&(u=[],d=[]);return e},hoistVariableDeclaration:function(e){T.Debug.assert(0<g,"Cannot modify the lexical environment during initialization."),T.Debug.assert(g<2,"Cannot modify the lexical environment after transformation has completed.");e=T.setEmitFlags(T.createVariableDeclaration(e),64);s?s.push(e):s=[e]},hoistFunctionDeclaration:function(e){T.Debug.assert(0<g,"Cannot modify the lexical environment during initialization."),T.Debug.assert(g<2,"Cannot modify the lexical environment after transformation has completed."),o?o.push(e):o=[e]},requestEmitHelper:function(e){T.Debug.assert(0<g,"Cannot modify the transformation context during initialization."),T.Debug.assert(g<2,"Cannot modify the transformation context after transformation has completed."),T.Debug.assert(!e.scoped,"Cannot request a scoped emit helper."),c=T.append(c,e)},readEmitHelpers:function(){T.Debug.assert(0<g,"Cannot modify the transformation context during initialization."),T.Debug.assert(g<2,"Cannot modify the transformation context after transformation has completed.");var e=c;return c=void 0,e},enableSubstitution:function(e){T.Debug.assert(g<2,"Cannot modify the transformation context after transformation has completed."),l[e]|=1},enableEmitNotification:function(e){T.Debug.assert(g<2,"Cannot modify the transformation context after transformation has completed."),l[e]|=2},isSubstitutionEnabled:k,isEmitNotificationEnabled:S,get onSubstituteNode(){return _},set onSubstituteNode(e){T.Debug.assert(g<1,"Cannot modify transformation hooks after initialization has completed."),T.Debug.assert(void 0!==e,"Value must not be 'undefined'"),_=e},get onEmitNode(){return m},set onEmitNode(e){T.Debug.assert(g<1,"Cannot modify transformation hooks after initialization has completed."),T.Debug.assert(void 0!==e,"Value must not be 'undefined'"),m=e}},y=0,v=n;y<v.length;y++){var b=v[y];T.disposeEmitNodes(T.getSourceFileOfNode(T.getParseTreeNode(b)))}T.performance.mark("beforeTransform");var x=T.chain.apply(void 0,i)(h),g=1,i=T.map(n,a?x:function(e){return!e||T.isSourceFile(e)&&e.isDeclarationFile?e:x(e)});return g=2,T.performance.mark("afterTransform"),T.performance.measure("transformTime","beforeTransform","afterTransform"),{transformed:i,substituteNode:function(e,t){return T.Debug.assert(g<3,"Cannot substitute a node after the result is disposed."),t&&k(t)&&_(e,t)||t},emitNodeWithNotification:function(e,t,r){T.Debug.assert(g<3,"Cannot invoke TransformationResult callbacks after the result is disposed."),t&&(S(t)?m(e,t,r):r(e,t))},dispose:function(){if(g<3){for(var e=0,t=n;e<t.length;e++){var r=t[e];T.disposeEmitNodes(T.getSourceFileOfNode(T.getParseTreeNode(r)))}c=m=_=d=o=u=s=void 0,g=3}}};function k(e){return 0!=(1&l[e.kind])&&0==(4&T.getEmitFlags(e))}function S(e){return 0!=(2&l[e.kind])||0!=(2&T.getEmitFlags(e))}}})(ts=ts||{}),(x=>{var k={emittedLine:1,emittedColumn:1,sourceLine:1,sourceColumn:1,sourceIndex:0},n=(x.createSourceMapWriter=function(n,i){var c,a,s,o,l,u,d,p,f=n.getCompilerOptions(),_=f.extendedDiagnostics,m=!(f.sourceMap||f.inlineSourceMap);return{initialize:function(e,t,r){m||(p&&h(),o=-1,l=a=c=void 0,u=k,d=0,(p={sourceMapFilePath:t,jsSourceMappingURL:f.inlineSourceMap?void 0:x.getBaseFileName(x.normalizeSlashes(t)),sourceMapFile:x.getBaseFileName(x.normalizeSlashes(e)),sourceMapSourceRoot:f.sourceRoot||"",sourceMapSources:[],inputSourceFileNames:[],sourceMapNames:[],sourceMapMappings:"",sourceMapSourcesContent:f.inlineSources?[]:void 0,sourceMapDecodedMappings:[]}).sourceMapSourceRoot=x.normalizeSlashes(p.sourceMapSourceRoot),p.sourceMapSourceRoot.length&&47!==p.sourceMapSourceRoot.charCodeAt(p.sourceMapSourceRoot.length-1)&&(p.sourceMapSourceRoot+=x.directorySeparator),f.mapRoot?(s=x.normalizeSlashes(f.mapRoot),265===r.kind&&(s=x.getDirectoryPath(x.getSourceFilePathInNewDir(r,n,s))),x.isRootedDiskPath(s)||x.isUrl(s)?p.jsSourceMappingURL=x.combinePaths(s,p.jsSourceMappingURL):(s=x.combinePaths(n.getCommonSourceDirectory(),s),p.jsSourceMappingURL=x.getRelativePathToDirectoryOrUrl(x.getDirectoryPath(x.normalizePath(e)),x.combinePaths(s,p.jsSourceMappingURL),n.getCurrentDirectory(),n.getCanonicalFileName,!0))):s=x.getDirectoryPath(x.normalizePath(e)))},reset:h,getSourceMapData:function(){return p},setSourceFile:b,emitPos:v,emitNodeWithSourceMap:function(e,t,r){if(m)return r(e,t);{var n,i,a,s,o;t&&(s=t.emitNode,n=s&&s.flags,s=s&&s.sourceMapRange,i=(a=s||t).pos,a=a.end,(s=(s=s&&s.source)===(o=c)?void 0:s)&&b(s),287!==t.kind&&0==(16&n)&&0<=i&&v(g(i)),s&&b(o),64&n?(m=!0,r(e,t),m=!1):r(e,t),s&&b(s),287!==t.kind&&0==(32&n)&&0<=a&&v(a),s)&&b(o)}},emitTokenWithSourceMap:function(e,t,r,n){if(m)return n(t,r);var e=e&&e.emitNode,i=e&&e.flags,e=e&&e.tokenSourceMapRanges&&e.tokenSourceMapRanges[t];r=g(e?e.pos:r),0==(128&i)&&0<=r&&v(r);r=n(t,r),e&&(r=e.end);0==(256&i)&&0<=r&&v(r);return r},getText:t,getSourceMappingURL:function(){var e;if(!m)return f.inlineSourceMap?(e=x.convertToBase64(t()),p.jsSourceMappingURL="data:application/json;base64,"+e):p.jsSourceMappingURL}};function g(e){return c.skipTrivia?c.skipTrivia(e):x.skipTrivia(a,e)}function h(){m||(p=d=u=l=o=s=c=void 0)}function y(){if(l&&l!==u){var e=u.emittedColumn;if(u.emittedLine===l.emittedLine)p.sourceMapMappings&&(p.sourceMapMappings+=",");else{for(var t=u.emittedLine;t<l.emittedLine;t++)p.sourceMapMappings+=";";e=1}p.sourceMapMappings+=r(l.emittedColumn-e),p.sourceMapMappings+=r(l.sourceIndex-u.sourceIndex),p.sourceMapMappings+=r(l.sourceLine-u.sourceLine),p.sourceMapMappings+=r(l.sourceColumn-u.sourceColumn),0<=l.nameIndex&&(x.Debug.assert(!1,"We do not support name index right now, Make sure to update updateLastEncodedAndRecordedSpans when we start using this"),p.sourceMapMappings+=r(l.nameIndex-d),d=l.nameIndex),u=l,p.sourceMapDecodedMappings.push(u)}}function v(e){var t,r;m||x.positionIsSynthesized(e)||(_&&x.performance.mark("beforeSourcemap"),(e=x.getLineAndCharacterOfPosition(c,e)).line++,e.character++,t=i.getLine(),r=i.getColumn(),!l||l.emittedLine!==t||l.emittedColumn!==r||l.sourceIndex===o&&(l.sourceLine>e.line||l.sourceLine===e.line&&l.sourceColumn>e.character)?(y(),l={emittedLine:t,emittedColumn:r,sourceLine:e.line,sourceColumn:e.character,sourceIndex:o}):(l.sourceLine=e.line,l.sourceColumn=e.character,l.sourceIndex=o),_&&(x.performance.mark("afterSourcemap"),x.performance.measure("Source Map","beforeSourcemap","afterSourcemap")))}function b(e){m||(a=(c=e).text,e=f.sourceRoot?n.getCommonSourceDirectory():s,e=x.getRelativePathToDirectoryOrUrl(e,c.fileName,n.getCurrentDirectory(),n.getCanonicalFileName,!0),-1===(o=x.indexOf(p.sourceMapSources,e))&&(o=p.sourceMapSources.length,p.sourceMapSources.push(e),p.inputSourceFileNames.push(c.fileName),f.inlineSources)&&p.sourceMapSourcesContent.push(c.text))}function t(){if(!m)return y(),JSON.stringify({version:3,file:p.sourceMapFile,sourceRoot:p.sourceMapSourceRoot,sources:p.sourceMapSources,names:p.sourceMapNames,mappings:p.sourceMapMappings,sourcesContent:p.sourceMapSourcesContent})}},"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");function r(e){e<0?e=1+(-e<<1):e<<=1;var t="";do{var r=31&e;0<(e>>=5)&&(r|=32),t+=(e=>{if(e<64)return n.charAt(e);throw TypeError(e+": not a 64 based value")})(r)}while(0<e);return t}})(ts=ts||{}),(E=>{E.createCommentWriter=function(e,s){var o,t,c,l,u,f=e.extendedDiagnostics,d=E.getNewLineCharacter(e),_=-1,m=-1,g=-1,h=!1,y=e.removeComments;return{reset:function(){t=void 0,c=void 0,l=void 0,u=void 0},setWriter:function(e){o=e},setSourceFile:function(e){c=(t=e).text,l=E.getLineStarts(t),u=void 0},emitNodeWithComments:function(e,t,r){var n,i,a,s,o,c,l,u,d,p;y?r(e,t):t&&(h=!1,n=t.emitNode,i=n&&n.flags,s=n&&n.commentRange||t,a=s.pos,s=s.end,a<0&&s<0||a===s?v(e,t,n,i,r):(f&&E.performance.mark("preEmitNodeWithComment"),o=287!==t.kind,c=a<0||0!=(512&i)||10===t.kind,l=s<0||0!=(1024&i)||10===t.kind,c||x(a,o),u=_,d=m,p=g,c||(_=a),l||(m=s,227===t.kind&&(g=s)),f&&E.performance.measure("commentTime","preEmitNodeWithComment"),v(e,t,n,i,r),f&&E.performance.mark("postEmitNodeWithComment"),_=u,m=d,g=p,!l&&o&&T(s,k),f&&E.performance.measure("commentTime","postEmitNodeWithComment")))},emitBodyWithDetachedComments:function(e,t,r){f&&E.performance.mark("preEmitBodyWithDetachedComments");var n=t.pos,i=t.end,a=E.getEmitFlags(e),i=y||i<0||0!=(1024&a);n<0||0!=(512&a)||(e=>{(e=E.emitDetachedComments(c,l,o,C,e,d,y))&&(u?u.push(e):u=[e])})(t);f&&E.performance.measure("commentTime","preEmitBodyWithDetachedComments");2048&a&&!y?(y=!0,r(e),y=!1):r(e);f&&E.performance.mark("beginEmitBodyWithDetachedCommetns");i||(x(t.end,!0),h&&!o.isAtStartOfLine()&&o.writeLine());f&&E.performance.measure("commentTime","beginEmitBodyWithDetachedCommetns")},emitTrailingCommentsOfPosition:function(e,t){y||(f&&E.performance.mark("beforeEmitTrailingCommentsOfPosition"),T(e,t?k:i),f&&E.performance.measure("commentTime","beforeEmitTrailingCommentsOfPosition"))},emitLeadingCommentsOfPosition:function(e){y||-1===e||x(e,!0)}};function v(e,t,r,n,i){var a=r&&r.leadingComments,i=(E.some(a)&&(f&&E.performance.mark("preEmitNodeWithSynthesizedComments"),E.forEach(a,p),f)&&E.performance.measure("commentTime","preEmitNodeWithSynthesizedComments"),a=e,e=t,t=i,2048&n?(y=!0,t(a,e),y=!1):t(a,e),r&&r.trailingComments);E.some(i)&&(f&&E.performance.mark("postEmitNodeWithSynthesizedComments"),E.forEach(i,b),f)&&E.performance.measure("commentTime","postEmitNodeWithSynthesizedComments")}function p(e){2===e.kind&&o.writeLine(),r(e),e.hasTrailingNewLine||2===e.kind?o.writeLine():o.write(" ")}function b(e){o.isAtStartOfLine()||o.write(" "),r(e),e.hasTrailingNewLine&&o.writeLine()}function r(e){var t=3===(t=e).kind?"/*"+t.text+"*/":"//"+t.text,e=3===e.kind?E.computeLineStarts(t):void 0;E.writeCommentRange(t,e,o,0,t.length,d)}function x(e,t){h=!1,t?S(e,a):0===e&&S(e,n)}function n(e,t,r,n,i){E.isRecognizedTripleSlashComment(c,e,t)&&a(e,t,0,n,i)}function a(e,t,r,n,i){h||(E.emitNewLineBeforeLeadingCommentOfPosition(l,o,i,e),h=!0),s&&s(e),E.writeCommentRange(c,l,o,e,t,d),s&&s(t),n?o.writeLine():o.write(" ")}function k(e,t,r,n){o.isAtStartOfLine()||o.write(" "),s&&s(e),E.writeCommentRange(c,l,o,e,t,d),s&&s(t),n&&o.writeLine()}function i(e,t,r,n){s&&s(e),E.writeCommentRange(c,l,o,e,t,d),s&&s(t),n?o.writeLine():o.write(" ")}function S(e,t){var r,n;-1!==_&&e===_||(n=e,void 0!==u&&E.lastOrUndefined(u).nodePos===n?(n=t,r=E.lastOrUndefined(u).detachedCommentEndPos,u.length-1?u.pop():u=void 0,E.forEachLeadingCommentRange(c,r,n,r)):E.forEachLeadingCommentRange(c,e,t,e))}function T(e,t){(-1===m||e!==m&&e!==g)&&E.forEachTrailingCommentRange(c,e,t)}function C(e,t,r,n,i,a){s&&s(n),E.writeCommentRange(e,t,r,n,i,a),s&&s(i)}}})(ts=ts||{}),(ye=>{function s(s,u,r,M,e,U){var d,p,f,_,m,g,h,n,y,i,a,B,o,c,l,t=266===e.kind?e.sourceFiles:[e],v=266===e.kind,b=s.getNewLine(),x=s.getCompilerOptions(),k=(J(),!1),S=x.removeComments?ye.noop:function(e){{var t;e&&(t=ye.getJSDocCommentRanges(e,y,x),ye.emitNewLineBeforeLeadingComments(i,g,e,t),ye.emitComments(y,i,g,t,!1,!0,b,ye.writeCommentRange))}},j=x.stripInternal?function(e){{var t;e&&(t=ye.getLeadingCommentRanges(y,e.pos),ye.forEach(t,$)||he(e))}}:he,T=!0,C=[],E="",K=[],z=!1,D=[];return ye.forEach(t,function(t){var e;ye.isSourceFileJavaScript(t)||(x.noResolve||ye.forEach(t.referencedFiles,function(e){e=ye.tryResolveScriptReference(s,t,e);e&&!ye.contains(K,e)&&(((r,n,e)=>{var i,a=!1;return r.isDeclarationFile?i=r.fileName:ye.forEachEmittedFile(s,function(e,t){t=266===t.kind;t&&!n||(ye.Debug.assert(!!e.declarationFilePath||ye.isSourceFileJavaScript(r),"Declaration file is not present only for javascript files"),i=e.declarationFilePath||e.jsFilePath,a=t)},r,e),i&&(i=ye.getRelativePathToDirectoryOrUrl(ye.getDirectoryPath(ye.normalizeSlashes(M)),i,s.getCurrentDirectory(),s.getCanonicalFileName,!1),E+='/// <reference path="'+i+'" />'+b),a})(e,!v&&!z,U)&&(z=!0),K.push(e))}),n=!1,v&&ye.isExternalModule(t)?ye.isExternalModule(t)&&(T=!1,d('declare module "'+ye.getResolvedExternalModuleName(s,t)+'" {'),p(),f(),Z(t),_(),d("}"),p()):(T=!0,Z(t)),C.length&&(e=g,ye.forEach(C,function(e){if(e.isVisible&&!e.asynchronousOutput){ye.Debug.assert(238===e.node.kind),J(),ye.Debug.assert(0===e.indent||1===e.indent&&v);for(var t=0;t<e.indent;t++)f();ie(e.node),e.asynchronousOutput=g.getText();for(t=0;t<e.indent;t++)_()}}),q(e),D=D.concat(C),C=[]),!v&&ye.isExternalModule(t)&&t.moduleAugmentations.length&&!n&&(d("export {};"),p()))}),l&&ye.forEachKey(l,function(e){E+='/// <reference types="'+e+'" />'+b}),{reportedDeclarationError:k,moduleElementDeclarationEmitInfo:D,synchronousDeclarationOutput:g.getText(),referencesOutput:E};function $(e){e=y.substring(e.pos,e.end);return ye.stringContains(e,"@internal")}function J(){var e=ye.createTextWriter(b);e.trackSymbol=W,e.reportInaccessibleThisError=Y,e.reportPrivateInBaseOfClassExpression=Q,e.writeKeyword=e.write,e.writeOperator=e.write,e.writePunctuation=e.write,e.writeSpace=e.write,e.writeStringLiteral=e.writeLiteral,e.writeParameter=e.write,e.writeProperty=e.write,e.writeSymbol=e.write,q(e)}function q(e){d=(g=e).write,m=e.writeTextOfNode,p=e.writeLine,f=e.increaseIndent,_=e.decreaseIndent}function V(e){var t=g;ye.forEach(e,function(e){226===e.kind?t=e.parent.parent:241===e.kind||242===e.kind||239===e.kind?ye.Debug.fail("We should be getting ImportDeclaration instead to write"):t=e;var t,e=ye.forEach(C,function(e){return e.node===t?e:void 0});if(e=!e&&c?ye.forEach(c,function(e){return e.node===t?e:void 0}):e)if(238===e.node.kind)e.isVisible=!0;else{J();for(var r=e.indent;r;r--)f();233===t.kind&&(ye.Debug.assert(void 0===c),c=[]),re(t),233===t.kind&&(e.subModuleElementDeclarationEmitInfo=c,c=void 0),e.asynchronousOutput=g.getText()}}),q(t)}function H(e){if(e){l=l||ye.createMap();for(var t=0,r=e;t<r.length;t++){var n=r[t];l.has(n)||l.set(n,n)}}}function G(e){var t;0===e.accessibility?e&&e.aliasesToMakeVisible&&V(e.aliasesToMakeVisible):(k=!0,(t=g.getSymbolAccessibilityDiagnostic(e))&&(t.typeName?r.add(ye.createDiagnosticForNode(e.errorNode||t.errorNode,t.diagnosticMessage,ye.getTextOfNodeFromSourceText(y,t.typeName),e.errorSymbolName,e.errorModuleName)):r.add(ye.createDiagnosticForNode(e.errorNode||t.errorNode,t.diagnosticMessage,e.errorSymbolName,e.errorModuleName))))}function W(e,t,r){G(u.isSymbolAccessible(e,t,r,!0)),H(u.getTypeReferenceDirectivesForSymbol(e,r))}function Q(e){o&&(k=!0,r.add(ye.createDiagnosticForNode(o,ye.Diagnostics.Property_0_of_exported_class_expression_may_not_be_private_or_protected,e)))}function Y(){o&&(k=!0,r.add(ye.createDiagnosticForNode(o,ye.Diagnostics.The_inferred_type_of_0_references_an_inaccessible_this_type_A_type_annotation_is_necessary,ye.declarationNameToString(o))))}function A(e,t,r){g.getSymbolAccessibilityDiagnostic=r,d(": ");r=146===e.kind&&(u.isRequiredInitializedParameter(e)||u.isOptionalUninitializedParameterProperty(e));t&&!r?P(t):(o=e.name,u.writeTypeOfDeclaration(e,h,16388|(r?8192:0),g),o=void 0)}function w(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];j(n)}}function X(e,t,r,n){for(var i=g.getTextPos(),a=0,s=e;a<s.length;a++){var o=s[a];n&&!n(o)||(i!==g.getTextPos()&&d(t),i=g.getTextPos(),r(o))}}function N(e,t,r){X(e,", ",t,r)}function I(e,t){g.getSymbolAccessibilityDiagnostic=t,P(e)}function P(e){switch(e.kind){case 119:case 136:case 133:case 122:case 134:case 137:case 105:case 139:case 95:case 130:case 169:case 173:return m(y,e);case 201:return s=e,void(ye.isEntityNameExpression(s.expression)&&(ye.Debug.assert(71===s.expression.kind||179===s.expression.kind),c(s.expression),s.typeArguments)&&(d("<"),N(s.typeArguments,P),d(">")));case 159:return c((s=e).typeName),void(s.typeArguments&&(d("<"),N(s.typeArguments,P),d(">")));case 162:return a=e,d("typeof "),void c(a.exprName);case 164:return P(e.elementType),void d("[]");case 165:return a=e,d("["),N(a.elementTypes,P),void d("]");case 166:return void X(e.types," | ",P);case 167:return void X(e.types," & ",P);case 168:return i=e,d("("),P(i.type),void d(")");case 170:return i=e,d(ye.tokenToString(i.operator)),d(" "),void P(i.type);case 171:return P((t=e).objectType),d("["),P(t.indexType),void d("]");case 172:var t=e,r=h;return h=t,d("{"),p(),f(),t.readonlyToken&&d("readonly "),d("["),o(t.typeParameter.name),d(" in "),P(t.typeParameter.constraint),d("]"),t.questionToken&&d("?"),d(": "),P(t.type),d(";"),p(),_(),d("}"),void(h=r);case 160:case 161:return _e(e);case 163:r=e;return d("{"),r.members.length&&(p(),f(),w(r.members),_()),void d("}");case 71:case 143:return c(e);case 158:return m(y,(n=e).parameterName),d(" is "),void P(n.type)}var n,t,i,a,s;function o(e){var t;71===e.kind?m(y,e):(t=143===e.kind?e.left:e.expression,e=143===e.kind?e.right:e.name,o(t),d("."),m(y,e))}function c(e){G(u.isEntityNameVisible(e,237===e.parent.kind?e.parent:h)),H(u.getTypeReferenceDirectivesForEntityName(e)),o(e)}}function Z(e){y=e.text,i=ye.getLineStarts(e),a=e.identifiers,B=ye.isExternalModule(e),h=e,ye.emitDetachedComments(y,i,g,ye.writeCommentRange,e,b,!0),w(e.statements)}function ee(e,t,r,n){t=(e=>{if(!a.has(e))return e;for(var t=0;;){var r=e+"_"+ ++t;if(!a.has(r))return r}})(t);return n&&d("declare "),d("const "),d(t),d(": "),g.getSymbolAccessibilityDiagnostic=function(){return r},u.writeTypeOfExpression(e,h,16388,g),d(";"),p(),t}function te(e,t){var r;t?re(e):(237===e.kind||265===e.parent.kind&&B)&&(t=void 0,(c&&265!==e.parent.kind?c:(238===e.kind&&(r=e).importClause&&(t=r.importClause.name&&u.isDeclarationVisible(r.importClause)||ne(r.importClause.namedBindings)),C)).push({node:e,outputPos:g.getTextPos(),indent:g.getIndent(),isVisible:t}))}function re(e){switch(e.kind){case 228:return fe(e);case 208:return t=e,ye.every(t.declarationList&&t.declarationList.declarations,function(e){return e.name&&ye.isEmptyBindingPattern(e.name)})||(S(t),O(t),ye.isLet(t.declarationList)?d("let "):ye.isConst(t.declarationList)?d("const "):d("var "),N(t.declarationList.declarations,ue,u.isDeclarationVisible),d(";"),p());case 230:var t=e,r=(S(t),O(t),d("interface "),m(y,t.name),h),n=(R((h=t).typeParameters),ye.filter(ye.getInterfaceBaseTypeNodes(t),function(e){return ye.isEntityNameExpression(e.expression)}));return n&&n.length&&ce(n,!1),d(" {"),p(),f(),w(t.members),_(),d("}"),p(),void(h=r);case 229:var n=e,r=h,i=(h=n,ye.getClassExtendsHeritageClauseElement(n)),a=(i&&!ye.isEntityNameExpression(i.expression)&&(a=95===i.expression.kind?"null":ee(i.expression,n.name.escapedText+"_base",{diagnosticMessage:ye.Diagnostics.extends_clause_of_exported_class_0_has_or_is_using_private_name_1,errorNode:i,typeName:n.name},!ye.findAncestor(n,function(e){return 233===e.kind}))),S(n),O(n),ye.hasModifier(n,128)&&d("abstract "),d("class "),m(y,n.name),R(n.typeParameters),i&&(ye.isEntityNameExpression(i.expression)?ce([i],!1):(d(" extends "),d(a),i.typeArguments&&(d("<"),N(i.typeArguments,P),d(">")))),ce(ye.getClassImplementsHeritageClauseElements(n),!0),d(" {"),p(),f(),ye.getFirstConstructorWithBody(n));return a&&ye.forEach(a.parameters,function(e){ye.hasModifier(e,92)&&le(e)}),w(n.members),_(),d("}"),p(),void(h=r);case 231:return i=h,S(h=l=e),O(l),d("type "),m(y,l.name),R(l.typeParameters),d(" = "),I(l.type,function(){return{diagnosticMessage:ye.Diagnostics.Exported_type_alias_0_has_or_is_using_private_name_1,errorNode:l.type,typeName:l.name}}),d(";"),p(),h=i;case 232:var s=e;return S(s),O(s),ye.isConst(s)&&d("const "),d("enum "),m(y,s.name),d(" {"),p(),f(),w(s.members),_(),d("}"),void p();case 233:var o=e;for(S(o),O(o),ye.isGlobalScopeAugmentation(o)?d("global "):(16&o.flags?d("namespace "):d("module "),ye.isExternalModuleAugmentation(o)?L(o):m(y,o.name));o.body&&234!==o.body.kind;)o=o.body,d("."),m(y,o.name);s=h;return void(o.body?(h=o,d(" {"),p(),f(),w(o.body.statements),_(),d("}"),p(),h=s):d(";"));case 237:var c=e;return S(c),ye.hasModifier(c,1)&&d("export "),d("import "),m(y,c.name),d(" = "),ye.isInternalModuleImportEqualsDeclaration(c)?(I(c.moduleReference,function(){return{diagnosticMessage:ye.Diagnostics.Import_declaration_0_is_using_private_name_1,errorNode:c,typeName:c.name}}),d(";")):(d("require("),L(c),d(");")),void g.writeLine();case 238:return ie(e);default:ye.Debug.fail("Unknown symbol kind")}var l,t}function O(e){var t;265===e.parent.kind&&(1&(t=ye.getModifierFlags(e))&&d("export "),512&t?d("default "):230!==e.kind&&T&&d("declare "))}function F(e){8&e?d("private "):16&e&&d("protected "),32&e&&d("static "),64&e&&d("readonly "),128&e&&d("abstract ")}function ne(e){if(e)return 240===e.kind?u.isDeclarationVisible(e):ye.forEach(e.elements,function(e){return u.isDeclarationVisible(e)})}function ie(e){var t;S(e),ye.hasModifier(e,1)&&d("export "),d("import "),e.importClause&&(t=g.getTextPos(),e.importClause.name&&u.isDeclarationVisible(e.importClause)&&m(y,e.importClause.name),e.importClause.namedBindings&&ne(e.importClause.namedBindings)&&(t!==g.getTextPos()&&d(", "),240===e.importClause.namedBindings.kind?(d("* as "),m(y,e.importClause.namedBindings.name)):(d("{ "),N(e.importClause.namedBindings.elements,ae,u.isDeclarationVisible),d(" }"))),d(" from ")),L(e),d(";"),g.writeLine()}function L(e){var t;if(n=n||233!==e.kind,9===(t=237===e.kind?ye.getExternalModuleImportEqualsDeclarationExpression(e):233===e.kind?e.name:e.moduleSpecifier).kind&&v&&(x.out||x.outFile)){e=ye.getExternalModuleNameFromDeclaration(s,u,e);if(e)return d('"'),d(e),void d('"')}m(y,t)}function ae(e){e.propertyName&&(m(y,e.propertyName),d(" as ")),m(y,e.name)}function se(e){ae(e),V(u.collectLinkedAliases(e.propertyName||e.name))}function oe(e){return 151===e.parent.kind&&ye.hasModifier(e.parent,8)}function R(e){e&&(d("<"),N(e,function(t){function e(){var e;switch(t.parent.kind){case 229:e=ye.Diagnostics.Type_parameter_0_of_exported_class_has_or_is_using_private_name_1;break;case 230:e=ye.Diagnostics.Type_parameter_0_of_exported_interface_has_or_is_using_private_name_1;break;case 156:e=ye.Diagnostics.Type_parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1;break;case 155:e=ye.Diagnostics.Type_parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1;break;case 151:case 150:e=ye.hasModifier(t.parent,32)?ye.Diagnostics.Type_parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:229===t.parent.parent.kind?ye.Diagnostics.Type_parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:ye.Diagnostics.Type_parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1;break;case 228:e=ye.Diagnostics.Type_parameter_0_of_exported_function_has_or_is_using_private_name_1;break;case 231:e=ye.Diagnostics.Type_parameter_0_of_exported_type_alias_has_or_is_using_private_name_1;break;default:ye.Debug.fail("This is unknown parent for type parameter: "+t.parent.kind)}return{diagnosticMessage:e,errorNode:t,typeName:t.name}}f(),S(t),_(),m(y,t.name),t.constraint&&!oe(t)&&(d(" extends "),160===t.parent.kind||161===t.parent.kind||t.parent.parent&&163===t.parent.parent.kind?(ye.Debug.assert(151===t.parent.kind||150===t.parent.kind||160===t.parent.kind||161===t.parent.kind||155===t.parent.kind||156===t.parent.kind),P(t.constraint)):I(t.constraint,e)),t.default&&!oe(t)&&(d(" = "),160===t.parent.kind||161===t.parent.kind||t.parent.parent&&163===t.parent.parent.kind?(ye.Debug.assert(151===t.parent.kind||150===t.parent.kind||160===t.parent.kind||161===t.parent.kind||155===t.parent.kind||156===t.parent.kind),P(t.default)):I(t.default,e))}),d(">"))}function ce(e,r){e&&(d(r?" implements ":" extends "),N(e,function(t){ye.isEntityNameExpression(t.expression)?I(t,function(){var e;e=229===t.parent.parent.kind?r?ye.Diagnostics.Implements_clause_of_exported_class_0_has_or_is_using_private_name_1:ye.Diagnostics.extends_clause_of_exported_class_0_has_or_is_using_private_name_1:ye.Diagnostics.extends_clause_of_exported_interface_0_has_or_is_using_private_name_1;return{diagnosticMessage:e,errorNode:t,typeName:ye.getNameOfDeclaration(t.parent.parent)}}):r||95!==t.expression.kind||d("null")}))}function le(e){ye.hasDynamicName(e)||(S(e),F(ye.getModifierFlags(e)),ue(e),d(";"),p())}function ue(t){function r(e){return 226===t.kind?e.errorModuleName?2===e.accessibility?ye.Diagnostics.Exported_variable_0_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ye.Diagnostics.Exported_variable_0_has_or_is_using_name_1_from_private_module_2:ye.Diagnostics.Exported_variable_0_has_or_is_using_private_name_1:149===t.kind||148===t.kind||146===t.kind&&ye.hasModifier(t.parent,8)?ye.hasModifier(t,32)?e.errorModuleName?2===e.accessibility?ye.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ye.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:ye.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_private_name_1:229===t.parent.kind||146===t.kind?e.errorModuleName?2===e.accessibility?ye.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ye.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:ye.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_private_name_1:e.errorModuleName?ye.Diagnostics.Property_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2:ye.Diagnostics.Property_0_of_exported_interface_has_or_is_using_private_name_1:void 0}function e(e){for(var t=[],r=0,n=e.elements;r<n.length;r++){var i=n[r];200!==i.kind&&t.push(i)}N(t,a)}function a(t){t.name&&(ye.isBindingPattern(t.name)?e(t.name):(m(y,t.name),A(t,void 0,function(e){return void 0!==(e=r(e))?{diagnosticMessage:e,errorNode:t,typeName:t.name}:void 0})))}226===t.kind&&!u.isDeclarationVisible(t)||(ye.isBindingPattern(t.name)?e(t.name):(m(y,t.name),(149===t.kind||148===t.kind||146===t.kind&&!ye.isParameterPropertyDeclaration(t))&&ye.hasQuestionToken(t)&&d("?"),149!==t.kind&&148!==t.kind||163!==t.parent.kind?u.isLiteralConstDeclaration(t)?(d(" = "),u.writeLiteralConstValue(t,g)):ye.hasModifier(t,8)||A(t,t.type,function(e){e=r(e);return void 0!==e?{diagnosticMessage:e,errorNode:t,typeName:t.name}:void 0}):de(t)))}function de(e){e.type&&(d(": "),P(e.type))}function pe(e){var t,r,n;function i(e){if(e)return 153===e.kind?e.type:0<e.parameters.length?e.parameters[0].type:void 0}ye.hasDynamicName(e)||e===(r=ye.getAllAccessorDeclarations(e.parent.members,e)).firstAccessor&&(S(r.getAccessor),S(r.setAccessor),F(ye.getModifierFlags(e)|(r.setAccessor?0:64)),m(y,e.name),ye.hasModifier(e,8)||(!(n=i(t=e))&&(n=i(r=153===e.kind?r.setAccessor:r.getAccessor))&&(t=r),A(e,n,function(e){return 154===t.kind?{diagnosticMessage:ye.hasModifier(t.parent,32)?e.errorModuleName?ye.Diagnostics.Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:ye.Diagnostics.Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_private_name_1:e.errorModuleName?ye.Diagnostics.Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:ye.Diagnostics.Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_private_name_1,errorNode:t.parameters[0],typeName:t.name}:{diagnosticMessage:ye.hasModifier(t,32)?e.errorModuleName?2===e.accessibility?ye.Diagnostics.Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ye.Diagnostics.Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:ye.Diagnostics.Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_name_0:e.errorModuleName?2===e.accessibility?ye.Diagnostics.Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ye.Diagnostics.Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:ye.Diagnostics.Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_name_0,errorNode:t.name,typeName:void 0}})),d(";"),p())}function fe(e){ye.hasDynamicName(e)||u.isImplementationOfOverload(e)||(S(e),228===e.kind?O(e):151!==e.kind&&152!==e.kind||F(ye.getModifierFlags(e)),228===e.kind?(d("function "),m(y,e.name)):152===e.kind?d("constructor"):(m(y,e.name),ye.hasQuestionToken(e)&&d("?")),me(e))}function _e(e){S(e),me(e)}function me(r){var e=h,t=!1;if(157===(h=r).kind)F(ye.getModifierFlags(r)),d("[");else{if(152===r.kind&&ye.hasModifier(r,8))return d("();"),void p();156===r.kind||161===r.kind?d("new "):160===r.kind&&(a=g.getText(),r.typeParameters)&&"<"===a.charAt(a.length-1)&&(t=!0,d("(")),R(r.typeParameters),d("(")}N(r.parameters,ge),d(157===r.kind?"]":")");var n,i,a=160===r.kind||161===r.kind;a||163===r.parent.kind?r.type&&(d(a?" => ":": "),P(r.type)):152===r.kind||ye.hasModifier(r,8)||(n=r,i=function(e){var t;switch(r.kind){case 156:t=e.errorModuleName?ye.Diagnostics.Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ye.Diagnostics.Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 155:t=e.errorModuleName?ye.Diagnostics.Return_type_of_call_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ye.Diagnostics.Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 157:t=e.errorModuleName?ye.Diagnostics.Return_type_of_index_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ye.Diagnostics.Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 151:case 150:t=ye.hasModifier(r,32)?e.errorModuleName?2===e.accessibility?ye.Diagnostics.Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ye.Diagnostics.Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:ye.Diagnostics.Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_name_0:229===r.parent.kind?e.errorModuleName?2===e.accessibility?ye.Diagnostics.Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ye.Diagnostics.Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:ye.Diagnostics.Return_type_of_public_method_from_exported_class_has_or_is_using_private_name_0:e.errorModuleName?ye.Diagnostics.Return_type_of_method_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ye.Diagnostics.Return_type_of_method_from_exported_interface_has_or_is_using_private_name_0;break;case 228:t=e.errorModuleName?2===e.accessibility?ye.Diagnostics.Return_type_of_exported_function_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ye.Diagnostics.Return_type_of_exported_function_has_or_is_using_name_0_from_private_module_1:ye.Diagnostics.Return_type_of_exported_function_has_or_is_using_private_name_0;break;default:ye.Debug.fail("This is unknown kind for signature: "+r.kind)}return{diagnosticMessage:t,errorNode:r.name||r}},g.getSymbolAccessibilityDiagnostic=i,d(": "),n.type?P(n.type):(o=n.name,u.writeReturnTypeOfSignatureDeclaration(n,h,16388,g),o=void 0)),h=e,a?t&&d(")"):(d(";"),p())}function ge(t){function r(e){174===e.kind?(d("{"),N(e.elements,n),d("}")):175===e.kind&&(d("["),N(e=e.elements,n),e&&e.hasTrailingComma&&d(", "),d("]"))}function n(e){200===e.kind?d(" "):176===e.kind&&(e.propertyName&&(m(y,e.propertyName),d(": ")),e.name)&&(ye.isBindingPattern(e.name)?r(e.name):(ye.Debug.assert(71===e.name.kind),e.dotDotDotToken&&d("..."),m(y,e.name)))}f(),S(t),t.dotDotDotToken&&d("..."),ye.isBindingPattern(t.name)?r(t.name):m(y,t.name),u.isOptionalParameter(t)&&d("?"),_(),160===t.parent.kind||161===t.parent.kind||163===t.parent.parent.kind?de(t):ye.hasModifier(t.parent,8)||A(t,t.type,function(e){e=(e=>{switch(t.parent.kind){case 152:return e.errorModuleName?2===e.accessibility?ye.Diagnostics.Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ye.Diagnostics.Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_private_module_2:ye.Diagnostics.Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_name_1;case 156:return e.errorModuleName?ye.Diagnostics.Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:ye.Diagnostics.Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1;case 155:return e.errorModuleName?ye.Diagnostics.Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:ye.Diagnostics.Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1;case 157:return e.errorModuleName?ye.Diagnostics.Parameter_0_of_index_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:ye.Diagnostics.Parameter_0_of_index_signature_from_exported_interface_has_or_is_using_private_name_1;case 151:case 150:return ye.hasModifier(t.parent,32)?e.errorModuleName?2===e.accessibility?ye.Diagnostics.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ye.Diagnostics.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:ye.Diagnostics.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:229===t.parent.parent.kind?e.errorModuleName?2===e.accessibility?ye.Diagnostics.Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ye.Diagnostics.Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:ye.Diagnostics.Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:e.errorModuleName?ye.Diagnostics.Parameter_0_of_method_from_exported_interface_has_or_is_using_name_1_from_private_module_2:ye.Diagnostics.Parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1;case 228:return e.errorModuleName?2===e.accessibility?ye.Diagnostics.Parameter_0_of_exported_function_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ye.Diagnostics.Parameter_0_of_exported_function_has_or_is_using_name_1_from_private_module_2:ye.Diagnostics.Parameter_0_of_exported_function_has_or_is_using_private_name_1;default:ye.Debug.fail("This is unknown parent for parameter: "+t.parent.kind)}})(e);return void 0!==e?{diagnosticMessage:e,errorNode:t,typeName:t.name}:void 0})}function he(e){switch(e.kind){case 228:case 233:case 237:case 230:case 229:case 231:case 232:return te(e,u.isDeclarationVisible(e));case 208:return te(e,ye.forEach(e.declarationList.declarations,function(e){return u.isDeclarationVisible(e)}));case 238:return te(e,!e.importClause);case 244:return S(n=e),d("export "),n.exportClause?(d("{ "),N(n.exportClause.elements,se),d(" }")):d("*"),n.moduleSpecifier&&(d(" from "),L(n)),d(";"),void g.writeLine();case 152:case 151:case 150:return fe(e);case 156:case 155:case 157:return _e(e);case 153:case 154:return pe(e);case 149:case 148:return le(e);case 264:return S(n=e),m(y,n.name),void 0!==(n=u.getConstantValue(n))&&(d(" = "),d(ye.getTextOfConstantValue(n))),d(","),void p();case 243:return 71===(t=e).expression.kind?(d(t.isExportEquals?"export = ":"export default "),m(y,t.expression)):(r=ee(t.expression,"_default",{diagnosticMessage:ye.Diagnostics.Default_export_of_the_module_has_or_is_using_private_name_0,errorNode:t},T),d(t.isExportEquals?"export = ":"export default "),d(r)),d(";"),p(),void(71===t.expression.kind&&V(u.collectLinkedAliases(t.expression)));case 265:return Z(e)}var t,r,n}}ye.getDeclarationDiagnostics=function(r,n,e){var i=ye.createDiagnosticCollection();return ye.forEachEmittedFile(r,function(e,t){e=e.declarationFilePath;s(r,n,i,e,t,!1)},e),i.getDiagnostics(e?e.fileName:void 0)},ye.writeDeclarationFile=function(e,t,r,n,i,a){var n=s(r,n,i,e,t,a);return(a=n.reportedDeclarationError||r.isEmitBlocked(e)||r.getCompilerOptions().noEmit)||(t=266===t.kind?t.sourceFiles:[t],n=n.referencesOutput+function t(r,e){var n=0;var i="";ye.forEach(e,function(e){e.asynchronousOutput&&(i=(i+=r.substring(n,e.outputPos))+t(e.asynchronousOutput,e.subModuleElementDeclarationEmitInfo),n=e.outputPos)});i+=r.substring(n);return i}(n.synchronousDeclarationOutput,n.moduleElementDeclarationEmitInfo),ye.writeFile(r,i,e,n,r.getCompilerOptions().emitBOM,t)),a}})(ts=ts||{}),(nt=>{(e=[""])[16]=",",e[4]=" |",e[8]=" &";var e,it=e,at=((e=[])[512]=["{","}"],e[1024]=["(",")"],e[2048]=["<",">"],e[4096]=["[","]"],e);function n(e,t,r,n){var r=nt.isArray(r)?r:nt.getSourceFilesToEmit(e,r),i=e.getCompilerOptions();if(i.outFile||i.out)r.length&&t({jsFilePath:o=i.outFile||i.out,sourceMapFilePath:l(o,i),declarationFilePath:i.declaration?nt.removeFileExtension(o)+".d.ts":""},nt.createBundle(r),n);else for(var a=0,s=r;a<s.length;a++){var o,c=s[a];t({jsFilePath:o=nt.getOwnEmitOutputFilePath(c,e,((e,t)=>{if(1===t.jsx)if(nt.isSourceFileJavaScript(e)){if(nt.fileExtensionIs(e.fileName,".jsx"))return".jsx"}else if(1===e.languageVariant)return".jsx";return".js"})(c,i)),sourceMapFilePath:l(o,i),declarationFilePath:nt.isSourceFileJavaScript(c)||!n&&!i.declaration?void 0:nt.getDeclarationEmitOutputFilePath(c,e)},c,n)}}function l(e,t){return t.sourceMap?e+".map":void 0}function v(x,e){void 0===x&&(x={});var k,y,v,b,B,n,s,t,j=(e=void 0===e?{}:e).hasGlobalName,K=e.onEmitSourceMapOfNode,z=e.onEmitSourceMapOfToken,$=e.onEmitSourceMapOfPosition,i=e.onEmitNode,J=e.onEmitHelpers,q=e.onSetSourceFile,V=e.substituteNode,m=e.onBeforeEmitNodeArray,H=e.onAfterEmitNodeArray,G=e.onBeforeEmitToken,W=e.onAfterEmitToken,Q=nt.getNewLineCharacter(x),r=nt.createCommentWriter(x,$),Y=r.emitNodeWithComments,X=r.emitBodyWithDetachedComments,S=r.emitTrailingCommentsOfPosition,Z=r.emitLeadingCommentsOfPosition;return ue(),{printNode:function(e,t,r){switch(e){case 0:nt.Debug.assert(nt.isSourceFile(t),"Expected a SourceFile node.");break;case 2:nt.Debug.assert(nt.isIdentifier(t),"Expected an Identifier node.");break;case 1:nt.Debug.assert(nt.isExpression(t),"Expected an Expression node.")}switch(t.kind){case 265:return te(t);case 266:return ee(t)}return re(e,t,r,ae()),se()},printFile:te,printBundle:ee,writeNode:re,writeFile:ie,writeBundle:ne};function ee(e){return ne(e,ae()),se()}function te(e){return ie(e,ae()),se()}function re(e,t,r,n){var i=s;le(n),oe(e,t,r),ue(),s=i}function ne(e,t){var r=s;le(t),Me(e),Re(e),he(e);for(var n=0,i=e.sourceFiles;n<i.length;n++){var a=i[n];oe(0,a,a)}ue(),s=r}function ie(e,t){var r=s;le(t),Me(e),Re(e),oe(0,e,e),ue(),s=r}function ae(){return t=t||nt.createTextWriter(Q)}function se(){var e=t.getText();return t.reset(),e}function oe(e,t,r){r&&ce(r),c(e,t)}function ce(e){k=e,r.setSourceFile(e),q&&q(e)}function le(e){s=e,r.setWriter(e)}function ue(){y=[],v=[],b=nt.createMap(),B=[],n=0,r.reset(),le(void 0)}function o(e){e&&T(e)}function T(e){c(4,e)}function de(e){c(2,e)}function C(e){c(1,e)}function c(e,t){i?i(e,t,pe):pe(e,t)}function pe(e,t){t=ge(e,t),Y&&0!==e?Y(e,t,fe):fe(e,t)}function fe(e,t){K&&0!==e&&2!==e?K(e,t,_e):_e(e,t)}function _e(e,t){switch(e){case 0:a=t,nt.Debug.assertNode(a,nt.isSourceFile);g();var r=a.statements;if(X)if(0===r.length||!nt.isPrologueDirective(r[0])||nt.nodeIsSynthesized(r[0]))return void X(a,r,Fe);return void Fe(a);case 2:return r=t,nt.Debug.assertNode(r,nt.isIdentifier),void ve(r);case 1:return me(t);case 3:return T((a=nt.cast(t,nt.isTypeParameterDeclaration)).name),P(" in "),void T(a.constraint);case 4:var n=t,i=n.kind;if(nt.isKeyword(i))$e(n);else{switch(i){case 14:case 15:case 16:return ye(n);case 71:return ve(n);case 143:return(e=>{var t=e.left;(71===t.kind?C:T)(t),P("."),T(e.right)})(n);case 144:return(e=>{P("["),C(e.expression),P("]")})(n);case 145:return(e=>{T(e.name),l(" extends ",e.constraint),l(" = ",e.default)})(n);case 146:return(e=>{w(e,e.decorators),D(e,e.modifiers),o(e.dotDotDotToken),e.name&&T(e.name),o(e.questionToken),e.parent&&273===e.parent.kind&&!e.name?T(e.type):l(": ",e.type),A(" = ",e.initializer)})(n);case 147:return(e=>{P("@"),C(e.expression)})(n);case 148:return(e=>{w(e,e.decorators),D(e,e.modifiers),T(e.name),o(e.questionToken),l(": ",e.type),P(";")})(n);case 149:return(e=>{w(e,e.decorators),D(e,e.modifiers),T(e.name),o(e.questionToken),l(": ",e.type),A(" = ",e.initializer),P(";")})(n);case 150:return(e=>{w(e,e.decorators),D(e,e.modifiers),T(e.name),o(e.questionToken),d(e,e.typeParameters),p(e,e.parameters),l(": ",e.type),P(";")})(n);case 151:return(e=>{w(e,e.decorators),D(e,e.modifiers),o(e.asteriskToken),T(e.name),o(e.questionToken),E(e,Ce)})(n);case 152:return(e=>{D(e,e.modifiers),P("constructor"),E(e,Ce)})(n);case 153:case 154:return(e=>{w(e,e.decorators),D(e,e.modifiers),P(153===e.kind?"get ":"set "),T(e.name),E(e,Ce)})(n);case 155:return(e=>{w(e,e.decorators),D(e,e.modifiers),d(e,e.typeParameters),p(e,e.parameters),l(": ",e.type),P(";")})(n);case 156:return(e=>{w(e,e.decorators),D(e,e.modifiers),P("new "),d(e,e.typeParameters),p(e,e.parameters),l(": ",e.type),P(";")})(n);case 157:return(e=>{w(e,e.decorators),D(e,e.modifiers),I(e,e.parameters,4432),l(": ",e.type),P(";")})(n);case 158:return(e=>{T(e.parameterName),P(" is "),T(e.type)})(n);case 159:return(e=>{T(e.typeName),N(e,e.typeArguments)})(n);case 160:return(e=>{d(e,e.typeParameters),je(e,e.parameters),P(" => "),T(e.type)})(n);case 273:return(e=>{P("function"),p(e,e.parameters),P(":"),T(e.type)})(n);case 161:return(e=>{P("new "),d(e,e.typeParameters),p(e,e.parameters),P(" => "),T(e.type)})(n);case 162:return(e=>{P("typeof "),T(e.exprName)})(n);case 163:return(e=>{P("{");var t=1&nt.getEmitFlags(e)?448:65;I(e,e.members,262144|t),P("}")})(n);case 164:return(e=>{T(e.elementType),P("[]")})(n);case 165:return(e=>{P("["),I(e,e.elementTypes,336),P("]")})(n);case 166:return(e=>{I(e,e.types,260)})(n);case 167:return(e=>{I(e,e.types,264)})(n);case 168:return(e=>{P("("),T(e.type),P(")")})(n);case 201:return(e=>{C(e.expression),N(e,e.typeArguments)})(n);case 169:return void P("this");case 170:return(e=>{R(e.operator),P(" "),T(e.type)})(n);case 171:return(e=>{T(e.objectType),P("["),T(e.indexType),P("]")})(n);case 172:return(e=>{var t=nt.getEmitFlags(e);P("{"),1&t?P(" "):(g(),O()),e.readonlyToken&&(T(e.readonlyToken),P(" ")),P("["),c(3,e.typeParameter),P("]"),o(e.questionToken),P(": "),T(e.type),P(";"),1&t?P(" "):(g(),F()),P("}")})(n);case 173:return(e=>{C(e.literal)})(n);case 268:return void P("*");case 269:return void P("?");case 270:return(e=>{P("?"),T(e.type)})(n);case 271:return(e=>{P("!"),T(e.type)})(n);case 272:return(e=>{T(e.type),P("=")})(n);case 274:return(e=>{P("..."),T(e.type)})(n);case 174:return(e=>{var t=e.elements;0===t.length?P("{}"):(P("{"),I(e,t,432),P("}"))})(n);case 175:return(e=>{0===e.elements.length?P("[]"):(P("["),I(e,e.elements,304),P("]"))})(n);case 176:return(e=>{Be(e.propertyName,": "),o(e.dotDotDotToken),T(e.name),A(" = ",e.initializer)})(n);case 205:return(e=>{C(e.expression),T(e.literal)})(n);case 206:return void P(";");case 207:return(e=>{L(17,e.pos,e),xe(e,!e.multiLine&&Ye(e)),O(),Z(e.statements.end),F(),L(18,e.statements.end,e)})(n);case 208:return(e=>{D(e,e.modifiers),T(e.declarationList),P(";")})(n);case 209:return void P(";");case 210:return(e=>{C(e.expression),P(";")})(n);case 211:return(e=>{var t=L(90,e.pos,e);P(" "),L(19,t,e),C(e.expression),L(20,e.expression.end,e),u(e,e.thenStatement),e.elseStatement&&(Je(e),L(82,e.thenStatement.end,e),211===e.elseStatement.kind?(P(" "),T(e.elseStatement)):u(e,e.elseStatement))})(n);case 212:return(e=>{P("do"),u(e,e.statement),nt.isBlock(e.statement)?P(" "):Je(e),P("while ("),C(e.expression),P(");")})(n);case 213:return(e=>{P("while ("),C(e.expression),P(")"),u(e,e.statement)})(n);case 214:return(e=>{var t=L(88,e.pos);P(" "),L(19,t,e),ke(e.initializer),P(";"),A(" ",e.condition),P(";"),A(" ",e.incrementor),P(")"),u(e,e.statement)})(n);case 215:return(e=>{var t=L(88,e.pos);P(" "),L(19,t),ke(e.initializer),P(" in "),C(e.expression),L(20,e.expression.end),u(e,e.statement)})(n);case 216:return(e=>{var t=L(88,e.pos);P(" "),Be(e.awaitModifier," "),L(19,t),ke(e.initializer),P(" of "),C(e.expression),L(20,e.expression.end),u(e,e.statement)})(n);case 217:return(e=>{L(77,e.pos),l(" ",e.label),P(";")})(n);case 218:return(e=>{L(72,e.pos),l(" ",e.label),P(";")})(n);case 219:return(e=>{var t=96,r=e.pos,n=e,i=n&&nt.getParseTreeNode(n);i&&i.kind===n.kind&&(r=nt.skipTrivia(k.text,r)),r=L(t,r,n),i&&i.kind===n.kind&&S(r,!0),A(" ",e.expression),P(";")})(n);case 220:return(e=>{P("with ("),C(e.expression),P(")"),u(e,e.statement)})(n);case 221:return(e=>{var t=L(98,e.pos);P(" "),L(19,t),C(e.expression),L(20,e.expression.end),P(" "),T(e.caseBlock)})(n);case 222:return(e=>{T(e.label),P(": "),T(e.statement)})(n);case 223:return(e=>{P("throw"),A(" ",e.expression),P(";")})(n);case 224:return(e=>{P("try "),T(e.tryBlock),e.catchClause&&(Je(e),T(e.catchClause)),e.finallyBlock&&(Je(e),P("finally "),T(e.finallyBlock))})(n);case 225:return(e=>{L(78,e.pos),P(";")})(n);case 226:return(e=>{T(e.name),l(": ",e.type),A(" = ",e.initializer)})(n);case 227:return(e=>{P(nt.isLet(e)?"let ":nt.isConst(e)?"const ":"var "),I(e,e.declarations,272)})(n);case 228:return(e=>{Se(e)})(n);case 229:return(e=>{we(e)})(n);case 230:return(e=>{w(e,e.decorators),D(e,e.modifiers),P("interface "),T(e.name),d(e,e.typeParameters),I(e,e.heritageClauses,256),P(" {"),I(e,e.members,65),P("}")})(n);case 231:return(e=>{w(e,e.decorators),D(e,e.modifiers),P("type "),T(e.name),d(e,e.typeParameters),P(" = "),T(e.type),P(";")})(n);case 232:return(e=>{D(e,e.modifiers),P("enum "),T(e.name),_(),P(" {"),I(e,e.members,81),P("}"),h()})(n);case 233:return(e=>{D(e,e.modifiers),512&~e.flags&&P(16&e.flags?"namespace ":"module "),T(e.name);for(var t=e.body;233===t.kind;)P("."),T(t.name),t=t.body;P(" "),T(t)})(n);case 234:return(e=>{_(),P("{"),xe(e,Ye(e)),P("}"),h()})(n);case 235:return(e=>{L(17,e.pos),I(e,e.clauses,65),L(18,e.clauses.end)})(n);case 236:return(e=>{P("export as namespace "),T(e.name),P(";")})(n);case 237:return(e=>{D(e,e.modifiers),P("import "),T(e.name),P(" = ");e=e.moduleReference;(71===e.kind?C:T)(e),P(";")})(n);case 238:return(e=>{D(e,e.modifiers),P("import "),e.importClause&&(T(e.importClause),P(" from ")),C(e.moduleSpecifier),P(";")})(n);case 239:return(e=>{T(e.name),e.name&&e.namedBindings&&P(", "),T(e.namedBindings)})(n);case 240:return(e=>{P("* as "),T(e.name)})(n);case 241:return(e=>{Ne(e)})(n);case 242:return(e=>{Ie(e)})(n);case 243:return(e=>{P(e.isExportEquals?"export = ":"export default "),C(e.expression),P(";")})(n);case 244:return(e=>{P("export "),e.exportClause?T(e.exportClause):P("*"),e.moduleSpecifier&&(P(" from "),C(e.moduleSpecifier)),P(";")})(n);case 245:return(e=>{Ne(e)})(n);case 246:return(e=>{Ie(e)})(n);case 247:return;case 248:return(e=>{P("require("),C(e.expression),P(")")})(n);case 10:return(e=>{s.writeLiteral(f(e,!0))})(n);case 251:return(e=>{P("<"),Pe(e.tagName);var t=e.attributes.properties,r=" ";nt.some(t)&&P(r),e.attributes.properties&&0<e.attributes.properties.length&&T(e.attributes),P(">")})(n);case 252:return(e=>{P("</"),Pe(e.tagName),P(">")})(n);case 253:return(e=>{T(e.name),l("=",e.initializer)})(n);case 254:return(e=>{I(e,e.properties,131328)})(n);case 255:return(e=>{P("{..."),C(e.expression),P("}")})(n);case 256:return(e=>{e.expression&&(P("{"),o(e.dotDotDotToken),C(e.expression),P("}"))})(n);case 257:return(e=>{P("case "),C(e.expression),P(":"),Oe(e,e.statements)})(n);case 258:return(e=>{P("default:"),Oe(e,e.statements)})(n);case 259:return(e=>{P(" "),R(e.token),P(" "),I(e,e.types,272)})(n);case 260:return(e=>{var t=L(74,e.pos);P(" "),e.variableDeclaration&&(L(19,t),T(e.variableDeclaration),L(20,e.variableDeclaration.end),P(" ")),T(e.block)})(n);case 261:return(e=>{var t;T(e.name),P(": "),e=e.initializer,S&&0==(512&nt.getEmitFlags(e))&&(t=nt.getCommentRange(e),S(t.pos)),C(e)})(n);case 262:return(e=>{T(e.name),e.objectAssignmentInitializer&&(P(" = "),C(e.objectAssignmentInitializer))})(n);case 263:return(e=>{e.expression&&(P("..."),C(e.expression))})(n);case 264:return(e=>{T(e.name),A(" = ",e.initializer)})(n)}if(nt.isExpression(n))return me(ge(1,n));nt.isToken(n)&&$e(n)}return}var a}function me(e){var t,r,n,i,a,s,o,c,l,u,d,p;switch(e.kind){case 8:return void ye(e);case 9:case 12:case 13:return ye(e);case 71:return ve(e);case 86:case 95:case 97:case 101:case 99:case 91:return void $e(e);case 177:return p=e.elements,void Ke(e,p,4466|(e.multiLine?32768:0));case 178:return p=e,(y=65536&nt.getEmitFlags(p))&&O(),h=p.multiLine?32768:0,g=1<=k.languageVersion?32:0,I(p,p.properties,263122|g|h),void(y&&F());case 179:var f,_,m,g=e,h=!1,y=!1;return 131072&nt.getEmitFlags(g)||(f=g.expression.end,_=nt.skipTrivia(k.text,g.expression.end)+1,(m=nt.createToken(23)).pos=f,m.end=_,h=U(g,g.expression,m),y=U(g,m,g.name)),C(g.expression),M(h),P(!h&&(e=>{var t;return e=nt.skipPartiallyEmittedExpressions(e),nt.isNumericLiteral(e)?(t=Ze(e),!e.numericLiteralFlags&&!nt.stringContains(t,nt.tokenToString(23))):nt.isPropertyAccessExpression(e)||nt.isElementAccessExpression(e)?"number"==typeof(t=nt.getConstantValue(e))&&isFinite(t)&&Math.floor(t)===t&&x.removeComments:void 0})(g.expression)?"..":"."),M(y),T(g.name),void Ve(h,y);case 180:return C((f=e).expression),P("["),C(f.argumentExpression),void P("]");case 181:return C((_=e).expression),N(_,_.typeArguments),void Ke(_,_.arguments,1296);case 182:return m=e,P("new "),C(m.expression),N(m,m.typeArguments),void Ke(m,m.arguments,9488);case 183:return C((d=e).tag),P(" "),void C(d.template);case 184:return d=e,P("<"),T(d.type),P(">"),void C(d.expression);case 185:return u=e,P("("),C(u.expression),void P(")");case 186:return void Se(e);case 187:return w(u=e,u.decorators),D(u,u.modifiers),void E(u,be);case 188:return l=e,P("delete "),void C(l.expression);case 189:return l=e,P("typeof "),void C(l.expression);case 190:return c=e,P("void "),void C(c.expression);case 191:return c=e,P("await "),void C(c.expression);case 192:var v=e;return R(v.operator),(e=>{var t=e.operand;return 192===t.kind&&(37===e.operator&&(37===t.operator||43===t.operator)||38===e.operator&&(38===t.operator||44===t.operator))})(v)&&P(" "),void C(v.operand);case 193:return C((v=e).operand),void R(v.operator);case 194:return a=26!==(i=e).operatorToken.kind,s=U(i,i.left,i.operatorToken),o=U(i,i.operatorToken,i.right),C(i.left),M(s,a?" ":void 0),Z(i.operatorToken.pos),$e(i.operatorToken),S(i.operatorToken.end,!0),M(o," "),C(i.right),void Ve(s,o);case 195:return i=U(a=e,a.condition,a.questionToken),s=U(a,a.questionToken,a.whenTrue),o=U(a,a.whenTrue,a.colonToken),n=U(a,a.colonToken,a.whenFalse),C(a.condition),M(i," "),T(a.questionToken),M(s," "),C(a.whenTrue),Ve(i,s),M(o," "),T(a.colonToken),M(n," "),C(a.whenFalse),void Ve(o,n);case 196:return T((n=e).head),void I(n,n.templateSpans,131072);case 197:return r=e,P("yield"),T(r.asteriskToken),void A(" ",r.expression);case 198:return r=e,P("..."),void C(r.expression);case 199:return void we(e);case 200:return;case 202:return C((t=e).expression),void(t.type&&(P(" as "),T(t.type)));case 203:return C(e.expression),void P("!");case 204:return L((t=e).keywordToken,t.pos),P("."),void T(t.name);case 249:return T((b=e).openingElement),I(b,b.children,131072),void T(b.closingElement);case 250:var b=e;return P("<"),Pe(b.tagName),P(" "),b.attributes.properties&&0<b.attributes.properties.length&&T(b.attributes),void P("/>");case 288:return void C(e.expression);case 289:return void Ke(e,e.elements,272)}}function ge(e,t){return t&&V&&V(e,t)||t}function he(e){J&&J(e,qe)}function ye(e){var t=Ze(e);!x.sourceMap&&!x.inlineSourceMap||9!==e.kind&&!nt.isTemplateLiteralKind(e.kind)?P(t):s.writeLiteral(t)}function ve(e){P(f(e,!1)),N(e,e.typeArguments)}function be(e){d(e,e.typeParameters),je(e,e.parameters),l(": ",e.type),P(" "),T(e.equalsGreaterThanToken)}function xe(e,t){t=t||1&nt.getEmitFlags(e)?384:65;I(e,e.statements,t)}function ke(e){void 0!==e&&(227===e.kind?T:C)(e)}function Se(e){w(e,e.decorators),D(e,e.modifiers),P("function"),o(e.asteriskToken),P(" "),de(e.name),E(e,Ce)}function Te(e,t){Ee(t)}function E(e,t){var r,n=e.body;n?nt.isBlock(n)?((r=65536&nt.getEmitFlags(e))&&O(),524288&nt.getEmitFlags(e)?(t(e),i?i(4,n,Te):Ee(n)):(_(),t(e),i?i(4,n,Te):Ee(n),h()),r&&F()):(t(e),P(" "),C(n)):(t(e),P(";"))}function Ce(e){d(e,e.typeParameters),p(e,e.parameters),l(": ",e.type)}function Ee(e){P(" {"),O();var t=(e=>{if(1&nt.getEmitFlags(e))return 1;if(!e.multiLine&&(nt.nodeIsSynthesized(e)||nt.rangeIsOnSingleLine(e,k))&&!He(e,e.statements,2)&&!We(e,e.statements,2)){for(var t,r=0,n=e.statements;r<n.length;r++){var i=n[r];if(Ge(t,i,2))return;t=i}return 1}})(e)?De:Ae;X?X(e,e.statements,t):t(e),F(),L(18,e.statements.end,e)}function De(e){Ae(e,!0)}function Ae(e,t){var r=Le(e.statements,!0),n=s.getTextPos();he(e),0===r&&n===s.getTextPos()&&t?(F(),I(e,e.statements,384),O()):I(e,e.statements,1,r)}function we(e){w(e,e.decorators),D(e,e.modifiers),P("class"),Ue(" ",e.name,de);var t=65536&nt.getEmitFlags(e);t&&O(),d(e,e.typeParameters),I(e,e.heritageClauses,256),_(),P(" {"),I(e,e.members,65),P("}"),h(),t&&F()}function Ne(e){P("{"),I(e,e.elements,432),P("}")}function Ie(e){e.propertyName&&(T(e.propertyName),P(" as ")),T(e.name)}function Pe(e){(71===e.kind?C:T)(e)}function Oe(e,t){var r=1===t.length&&(nt.nodeIsSynthesized(e)||nt.nodeIsSynthesized(t[0])||nt.rangeStartPositionsAreOnSameLine(e,t[0],k)),n=(0<t.length&&S(t.pos),81985);r&&(P(" "),n&=-66),I(e,t,n)}function Fe(e){var t=e.statements,r=(_(),he(e),nt.findIndex(t,function(e){return!nt.isPrologueDirective(e)}));I(e,t,1,-1===r?t.length:r),h()}function Le(e,t,r){for(var n=0;n<e.length;n++){var i=e[n];if(!nt.isPrologueDirective(i))return n;r&&r.has(i.expression.text)||((t||0<n)&&g(),T(i),!r)||r.set(i.expression.text,!0)}return e.length}function Re(e){if(nt.isSourceFile(e))ce(e),Le(e.statements);else for(var t=nt.createMap(),r=0,n=e.sourceFiles;r<n.length;r++){var i=n[r];ce(i),Le(i.statements,!0,t)}}function Me(e){var t;if(nt.isSourceFile(e))return(t=nt.getShebang(e.text))?(P(t),g(),1):void 0;for(var r=0,n=e.sourceFiles;r<n.length;r++)if(Me(n[r]))break}function D(e,t){t&&t.length&&(I(e,t,131328),P(" "))}function l(e,t){Ue(e,t,T)}function A(e,t){Ue(e,t,C)}function Ue(e,t,r){t&&(P(e),r(t))}function Be(e,t){e&&(T(e),P(t))}function u(e,t){nt.isBlock(t)||1&nt.getEmitFlags(e)?(P(" "),T(t)):(g(),O(),T(t),F())}function w(e,t){I(e,t,24577)}function N(e,t){I(e,t,26960)}function d(e,t){I(e,t,26960)}function p(e,t){I(e,t,1360)}function je(e,t){var r,n;r=e,n=t,!(n=nt.singleOrUndefined(n))||n.pos!==r.pos||nt.isArrowFunction(r)&&r.type||nt.some(r.decorators)||nt.some(r.modifiers)||nt.some(r.typeParameters)||nt.some(n.decorators)||nt.some(n.modifiers)||n.dotDotDotToken||n.questionToken||n.type||n.initializer||!nt.isIdentifier(n.name)?p(e,t):I(e,t,336)}function I(e,t,r,n,i){ze(T,e,t,r,n,i)}function Ke(e,t,r,n,i){ze(C,e,t,r,n,i)}function ze(e,t,r,n,i,a){void 0===i&&(i=0),void 0===a&&(a=r?r.length-i:0);var s=void 0===r;if(!(s&&8192&n)){s=s||i>=r.length||0===a;if(s&&16384&n)m&&m(r),H&&H(r);else{if(7680&n&&P(at[7680&n][0]),m&&m(r),s)1&n?g():128&n&&!(262144&n)&&P(" ");else{for(var o=0==(131072&n),c=o,l=(He(t,r,n)?(g(),c=!1):128&n&&P(" "),64&n&&O(),void 0),u=void 0,d=it[28&n],p=0;p<a;p++){var f,_=r[i+p];l&&(d&&l.end!==t.end&&Z(l.end),P(d),Ge(l,_,n)?(0==(67&n)&&(O(),u=!0),g(),c=!1):l&&256&n&&P(" ")),c?S&&(f=nt.getCommentRange(_),S(f.pos)):c=o,e(_),u&&(F(),u=!1),l=_}s=32&n&&r.hasTrailingComma;16&n&&s&&P(","),!l||!d||l.end===t.end||1024&nt.getEmitFlags(l)||Z(l.end),64&n&&F(),We(t,r,n)?g():128&n&&P(" ")}H&&H(r),7680&n&&P(at[7680&n][1])}}}function P(e){s.write(e)}function g(){s.writeLine()}function O(){s.increaseIndent()}function F(){s.decreaseIndent()}function L(e,t,r){return z?z(r,e,t,R):R(e,t)}function $e(e){G&&G(e),P(nt.tokenToString(e.kind)),W&&W(e)}function R(e,t){e=nt.tokenToString(e);return P(e),t<0?t:t+e.length}function Je(e){1&nt.getEmitFlags(e)?P(" "):g()}function qe(e){for(var t=e.split(/\r\n?|\n/g),r=(e=>{for(var t,r=0,n=e;r<n.length;r++)for(var i=n[r],a=0;a<i.length&&(void 0===t||a<t);a++)if(!nt.isWhiteSpaceLike(i.charCodeAt(a))&&(void 0===t||a<t)){t=a;break}return t})(t),n=0;n<t.length;n++){var i=r?t[n].slice(r):t[n];i.length&&(g(),P(i),g())}}function M(e,t){e?(O(),g()):t&&P(t)}function Ve(e,t){e&&F(),t&&F()}function He(e,t,r){return 1&r||2&r&&(32768&r||(void 0===(t=t[0])?!nt.rangeIsOnSingleLine(e,k):nt.positionIsSynthesized(e.pos)||nt.nodeIsSynthesized(t)?Qe(t,r):!nt.rangeStartPositionsAreOnSameLine(e,t,k)))}function Ge(e,t,r){return 1&r||(2&r?void 0!==e&&void 0!==t&&(nt.nodeIsSynthesized(e)||nt.nodeIsSynthesized(t)?Qe(e,r)||Qe(t,r):!nt.rangeEndIsOnSameLineAsRangeStart(e,t,k)):t.startsOnNewLine)}function We(e,t,r){return 1&r?0==(65536&r):2&r&&(32768&r||(void 0===(t=nt.lastOrUndefined(t))?!nt.rangeIsOnSingleLine(e,k):nt.positionIsSynthesized(e.pos)||nt.nodeIsSynthesized(t)?Qe(t,r):!nt.rangeEndPositionsAreOnSameLine(e,t,k)))}function Qe(e,t){return!nt.nodeIsSynthesized(e)||void 0===(e=e.startsOnNewLine)?0!=(32768&t):e}function U(e,t,r){return e=Xe(e),t=Xe(t),!!(r=Xe(r)).startsOnNewLine||!(nt.nodeIsSynthesized(e)||nt.nodeIsSynthesized(t)||nt.nodeIsSynthesized(r)||nt.rangeEndIsOnSameLineAsRangeStart(t,r,k))}function Ye(e){return 0===e.statements.length&&nt.rangeEndIsOnSameLineAsRangeStart(e,e,k)}function Xe(e){for(;185===e.kind&&nt.nodeIsSynthesized(e);)e=e.expression;return e}function f(e,t){var r,n;return nt.isGeneratedIdentifier(e)?4===(r=e).autoGenerateKind?et((e=>{for(var t=e.autoGenerateId,r=e,n=r.original;n&&(r=n,!nt.isIdentifier(r)||4!==r.autoGenerateKind||r.autoGenerateId===t);)n=r.original;return r})(r)):(n=r.autoGenerateId,v[n]||(v[n]=(e=>{switch(e.autoGenerateKind){case 1:return rt(0);case 2:return rt(268435456);case 3:return a(nt.idText(e))}nt.Debug.fail("Unsupported GeneratedIdentifierKind.")})(r))):!nt.isIdentifier(e)||!nt.nodeIsSynthesized(e)&&e.parent?9===e.kind&&e.textSourceNode?f(e.textSourceNode,t):!nt.isLiteralExpression(e)||!nt.nodeIsSynthesized(e)&&e.parent?nt.getSourceTextOfNodeFromSourceFile(k,e,t):e.text:nt.idText(e)}function Ze(e){var t;return 9===e.kind&&e.textSourceNode?(t=e.textSourceNode,nt.isIdentifier(t)?16777216&nt.getEmitFlags(e)?'"'+nt.escapeString(f(t))+'"':'"'+nt.escapeNonAsciiString(f(t))+'"':Ze(t)):nt.getLiteralText(e,k)}function _(){B.push(n),n=0}function h(){n=B.pop()}function et(e){var t=nt.getNodeId(e);return y[t]||(y[t]=(e=>{switch(e.kind){case 71:return a(f(e));case 233:case 232:return(e=>{var t=f(e.name);return((e,t)=>{for(var r=t;nt.isNodeDescendantOf(r,t);r=r.nextContainer)if(r.locals){var n=r.locals.get(nt.escapeLeadingUnderscores(e));if(n&&3253183&n.flags)return}return 1})(t,e)?t:a(t)})(e);case 238:case 244:return(e=>(e=nt.getExternalModuleName(e),a(nt.isStringLiteral(e)?nt.makeIdentifierFromModuleName(e.text):"module")))(e);case 228:case 229:case 243:return a("default");case 199:return a("class");case 151:case 153:case 154:return(e=>nt.isIdentifier(e.name)?et(e.name):rt(0))(e);default:return rt(0)}})(e))}function tt(e){return!(j&&j(e)||k.identifiers.has(e)||b.has(e))}function rt(e){if(e&&!(n&e)&&tt(t=268435456===e?"_i":"_n"))return n|=e,t;for(;;){var t,r=268435455&n;if(n++,8!=r&&13!=r)if(tt(t=r<26?"_"+String.fromCharCode(97+r):"_"+(r-26)))return t}}function a(e){95!==e.charCodeAt(e.length-1)&&(e+="_");for(var t=1;;){var r=e+t;if(tt(r))return b.set(r,!0),r;t++}}}nt.forEachEmittedFile=n,nt.emitFiles=function(i,s,e,a,t){var f,_,m,g=s.getCompilerOptions(),h=nt.getEmitModuleKind(g),o=g.sourceMap||g.inlineSourceMap?[]:void 0,c=g.listEmittedFiles?[]:void 0,l=nt.createDiagnosticCollection(),r=s.getNewLine(),u=nt.createTextWriter(r),d=nt.createSourceMapWriter(s,u),p=!1,r=nt.getSourceFilesToEmit(s,e),e=nt.transformNodes(i,s,g,r,t,!1),y=v(g,{hasGlobalName:i.hasGlobalName,onEmitNode:e.emitNodeWithNotification,substituteNode:e.substituteNode,onEmitSourceMapOfNode:d.emitNodeWithSourceMap,onEmitSourceMapOfToken:d.emitTokenWithSourceMap,onEmitSourceMapOfPosition:d.emitPos,onEmitHelpers:function(e,t){var r=!1,n=266===e.kind?e:void 0;if(!n||h!==nt.ModuleKind.None){for(var i=n?n.sourceFiles.length:1,a=0;a<i;a++){var s=n?n.sourceFiles[a]:e,o=nt.isSourceFile(s)?s:f,c=g.noEmitHelpers||void 0!==nt.getExternalHelpersModuleName(o),l=nt.isSourceFile(s)&&!m,o=nt.getEmitHelpers(s);if(o)for(var u=0,d=nt.stableSort(o,nt.compareEmitHelpers);u<d.length;u++){var p=d[u];if(p.scoped){if(n)continue}else{if(c)continue;if(l){if(_.get(p.name))continue;_.set(p.name,!0)}}t(p.text),r=!0}}return r}},onSetSourceFile:function(e){f=e,d.setSourceFile(e)}});return nt.performance.mark("beforePrint"),n(s,function(e,t){var r=e.jsFilePath,n=e.sourceMapFilePath,e=e.declarationFilePath;s.isEmitBlocked(r)||g.noEmit?p=!0:a||((e,t,r)=>{var n=266===r.kind?r:void 0,i=265===r.kind?r:void 0,a=n?n.sourceFiles:[i];d.initialize(e,t,r),n?(_=nt.createMap(),m=!1,y.writeBundle(n,u)):(m=!0,y.writeFile(i,u)),u.writeLine(),(r=d.getSourceMappingURL())&&u.write("//# sourceMappingURL="+r),g.sourceMap&&!g.inlineSourceMap&&nt.writeFile(s,l,t,d.getText(),!1,a),o&&o.push(d.getSourceMapData()),nt.writeFile(s,l,e,u.getText(),g.emitBOM,a),d.reset(),u.reset(),_=f=void 0,m=!1})(r,n,t);e&&(p=nt.writeDeclarationFile(e,(e=>266===e.kind?nt.updateBundle(e,nt.sameMap(e.sourceFiles,nt.getOriginalSourceFile)):nt.getOriginalSourceFile(e))(t),s,i,l,a)||p);!p&&c&&(a||c.push(r),n&&c.push(n),e)&&c.push(e)},e.transformed,a),nt.performance.measure("printTime","beforePrint"),e.dispose(),{emitSkipped:p,diagnostics:l.getDiagnostics(),emittedFiles:c,sourceMaps:o}},nt.createPrinter=v,(e={None:0,0:"None",SingleLine:0})[0]="SingleLine",e[e.MultiLine=1]="MultiLine",e[e.PreserveLines=2]="PreserveLines",e[e.LinesMask=3]="LinesMask",e[e.NotDelimited=0]="NotDelimited",e[e.BarDelimited=4]="BarDelimited",e[e.AmpersandDelimited=8]="AmpersandDelimited",e[e.CommaDelimited=16]="CommaDelimited",e[e.DelimitersMask=28]="DelimitersMask",e[e.AllowTrailingComma=32]="AllowTrailingComma",e[e.Indented=64]="Indented",e[e.SpaceBetweenBraces=128]="SpaceBetweenBraces",e[e.SpaceBetweenSiblings=256]="SpaceBetweenSiblings",e[e.Braces=512]="Braces",e[e.Parenthesis=1024]="Parenthesis",e[e.AngleBrackets=2048]="AngleBrackets",e[e.SquareBrackets=4096]="SquareBrackets",e[e.BracketsMask=7680]="BracketsMask",e[e.OptionalIfUndefined=8192]="OptionalIfUndefined",e[e.OptionalIfEmpty=16384]="OptionalIfEmpty",e[e.Optional=24576]="Optional",e[e.PreferNewLine=32768]="PreferNewLine",e[e.NoTrailingNewLine=65536]="NoTrailingNewLine",e[e.NoInterveningComments=131072]="NoInterveningComments",e[e.NoSpaceIfEmpty=262144]="NoSpaceIfEmpty",e[e.SingleElement=524288]="SingleElement",e[e.Modifiers=131328]="Modifiers",e[e.HeritageClauses=256]="HeritageClauses",e[e.SingleLineTypeLiteralMembers=448]="SingleLineTypeLiteralMembers",e[e.MultiLineTypeLiteralMembers=65]="MultiLineTypeLiteralMembers",e[e.TupleTypeElements=336]="TupleTypeElements",e[e.UnionTypeConstituents=260]="UnionTypeConstituents",e[e.IntersectionTypeConstituents=264]="IntersectionTypeConstituents",e[e.ObjectBindingPatternElements=432]="ObjectBindingPatternElements",e[e.ArrayBindingPatternElements=304]="ArrayBindingPatternElements",e[e.ObjectLiteralExpressionProperties=263122]="ObjectLiteralExpressionProperties",e[e.ArrayLiteralExpressionElements=4466]="ArrayLiteralExpressionElements",e[e.CommaListElements=272]="CommaListElements",e[e.CallExpressionArguments=1296]="CallExpressionArguments",e[e.NewExpressionArguments=9488]="NewExpressionArguments",e[e.TemplateExpressionSpans=131072]="TemplateExpressionSpans",e[e.SingleLineBlockStatements=384]="SingleLineBlockStatements",e[e.MultiLineBlockStatements=65]="MultiLineBlockStatements",e[e.VariableDeclarationList=272]="VariableDeclarationList",e[e.SingleLineFunctionBodyStatements=384]="SingleLineFunctionBodyStatements",e[e.MultiLineFunctionBodyStatements=1]="MultiLineFunctionBodyStatements",e[e.ClassHeritageClauses=256]="ClassHeritageClauses",e[e.ClassMembers=65]="ClassMembers",e[e.InterfaceMembers=65]="InterfaceMembers",e[e.EnumMembers=81]="EnumMembers",e[e.CaseBlockClauses=65]="CaseBlockClauses",e[e.NamedImportsOrExportsElements=432]="NamedImportsOrExportsElements",e[e.JsxElementChildren=131072]="JsxElementChildren",e[e.JsxElementAttributes=131328]="JsxElementAttributes",e[e.CaseOrDefaultClauseStatements=81985]="CaseOrDefaultClauseStatements",e[e.HeritageClauseTypes=272]="HeritageClauseTypes",e[e.SourceFileStatements=65537]="SourceFileStatements",e[e.Decorators=24577]="Decorators",e[e.TypeArguments=26960]="TypeArguments",e[e.TypeParameters=26960]="TypeParameters",e[e.Parameters=1360]="Parameters",e[e.IndexSignatureParameters=4432]="IndexSignatureParameters"})(ts=ts||{}),(v=>{function b(e,t,r,n,i){var a=[],e=e.emit(t,function(e,t,r){a.push({name:e,writeByteOrderMark:r,text:t})},n,r,i);return{outputFiles:a,emitSkipped:e.emitSkipped}}v.getFileEmitOutput=b,v.createBuilder=function(p){var t,c,a,s=v.createMap(),l=v.createMap(),o=v.createMap(),u=v.createMap();return{updateProgram:function(e){a&&r(e)},getFilesAffectedBy:m,emitChangedFiles:function(r,n){_(r);var e=r.getCompilerOptions();if(!o.size)return v.emptyArray;if(e.outFile||e.out)return v.Debug.assert(0===l.size),o.clear(),[r.emit(void 0,n)];var i,a=v.createMap();return o.forEach(function(e,t){m(r,t).forEach(function(e){l.delete(e.path),a.has(e.path)||(a.set(e.path,!0),(i=i||[]).push(r.emit(e,n)))})}),o.clear(),i||v.emptyArray},getSemanticDiagnostics:function(e,t){_(e),v.Debug.assert(0===o.size);var r,n=e.getCompilerOptions();if(n.outFile||n.out)return v.Debug.assert(0===l.size),e.getSemanticDiagnostics(void 0,t);for(var i=0,a=e.getSourceFiles();i<a.length;i++){var s=a[i];r=v.addRange(r,((e,t,r)=>{var n=t.path,i=l.get(n);return i||(i=e.getSemanticDiagnostics(t,r),l.set(n,i)),i})(e,s,t))}return r||v.emptyArray},clear:function(){t=void 0,a=void 0,s.clear(),l.clear(),o.clear(),u.clear()}};function r(n){var i,e=n.getCompilerOptions().module!==v.ModuleKind.None;function o(r){return v.mapDefinedIter(i.entries(),function(e){var t=e[0];return e[1].has(r)?t:void 0})}t!==e&&(a=(t=e)?(i=v.createMap(),{onAddSourceFile:function(e,t){e=h(e,t);e&&i.set(t.path,e)},onRemoveSourceFile:function(r){i.forEach(function(e,t){e.has(r)&&s.get(t)&&d(t)}),i.delete(r)},onUpdateSourceFile:function(e,t){e=h(e,t);e?i.set(t.path,e):i.delete(t.path)},onUpdateSourceFileWithSameVersion:function(e,t){var r,e=h(e,t);return e?(r=i.get(t.path),i.set(t.path,e),!r||r.size!==e.size||v.forEachEntry(e,function(e,t){return!r.delete(t)})||!!r.size):i.delete(t.path)},getFilesAffectedByUpdatedShape:function(e,t){if(!v.isExternalModule(t)&&!(e=>{for(var t=0,r=e.statements;t<r.length;t++){var n=r[t];if(!v.isModuleWithStringLiteralName(n))return}return 1})(t))return y(e,t);var r=e.getCompilerOptions();if(r&&(r.isolatedModules||r.out||r.outFile))return[t];var n=v.createMap(),r=t.path,i=(n.set(r,t),o(r));for(;0<i.length;){var a,s=i.pop();n.has(s)||(a=e.getSourceFileByPath(s),n.set(s,a),a&&g(e,a)&&i.push.apply(i,o(s)))}return v.flatMapIter(n.values(),function(e){return e})}}):{onAddSourceFile:v.noop,onRemoveSourceFile:v.noop,onUpdateSourceFile:v.noop,onUpdateSourceFileWithSameVersion:v.returnFalse,getFilesAffectedByUpdatedShape:function(e,t){var r=e.getCompilerOptions();if(r&&(r.out||r.outFile))return[t];return y(e,t)}},s.clear(),l.clear()),u.clear(),c=void 0,v.mutateMap(s,v.arrayToMap(n.getSourceFiles(),function(e){return e.path}),{createNewValue:function(e,t){return r=n,d((t=t).path),a.onAddSourceFile(r,t),{version:t.version,signature:void 0};var r},onDeleteValue:f,onExistingValue:function(e,t){var r;r=n,t=t,(e=e).version!==t.version?(d(t.path),e.version=t.version,a.onUpdateSourceFile(r,t)):a.onUpdateSourceFileWithSameVersion(r,t)&&d(t.path)}})}function d(e){o.set(e,!0),l.delete(e)}function f(e,t){o.delete(t),l.delete(t),a.onRemoveSourceFile(t)}function _(e){a||r(e)}function m(e,t){_(e);t=e.getSourceFileByPath(t);return t?g(e,t)?a.getFilesAffectedByUpdatedShape(e,t):[t]:v.emptyArray}function g(e,t){var r,n,i;if(v.Debug.assert(!!t),!u.has(t.path))return u.set(t.path,!0),r=s.get(t.path),v.Debug.assert(!!r),n=r.signature,t.isDeclarationFile?(i=t.version,r.signature=i):(e=b(e,t,!0)).outputFiles&&0<e.outputFiles.length?(i=p.computeHash(e.outputFiles[0].text),r.signature=i):i=n,!n||i!==n}function h(e,t){var r;if(t.imports&&0<t.imports.length)for(var n=e.getTypeChecker(),i=0,a=t.imports;i<a.length;i++){var s=a[i],s=n.getSymbolAtLocation(s);s&&s.declarations&&s.declarations[0]&&(s=v.getSourceFileOfNode(s.declarations[0]))&&d(s.path)}var o=v.getDirectoryPath(t.path);if(t.referencedFiles&&0<t.referencedFiles.length)for(var c=0,l=t.referencedFiles;c<l.length;c++){var u=l[c];d(v.toPath(u.fileName,o,p.getCanonicalFileName))}return t.resolvedTypeReferenceDirectiveNames&&t.resolvedTypeReferenceDirectiveNames.forEach(function(e){e&&(e=e.resolvedFileName,d(v.toPath(e,o,p.getCanonicalFileName)))}),r;function d(e){(r=r||v.createMap()).set(e,!0)}}function y(t,e){if(!c){var r;s(e);for(var n=0,i=t.getSourceFiles();n<i.length;n++){var a=i[n];a!==e&&s(a)}c=r||v.emptyArray}return c;function s(e){t.isSourceFileDefaultLibrary(e)||(r=r||[]).push(e)}}}})(ts=ts||{}),(Ge=>{var We=/(^\s*$)|(^\s*\/\/\/?\s*(@ts-ignore)?)/;function Qe(e,t){t=Ge.getDirectoryPath(t),t=Ge.isRootedDiskPath(e)?e:Ge.combinePaths(t,e);return Ge.normalizePath(t)}function Ye(e,i,a){var s;return Ge.forEach(e,function(e){var t=Ge.getNormalizedPathComponents(e,i);if(t.pop(),s){for(var r=Math.min(s.length,t.length),n=0;n<r;n++)if(a(s[n])!==a(t[n])){if(0===n)return!0;s.length=n;break}t.length<s.length&&(s.length=t.length)}else s=t})?"":s?Ge.getNormalizedPathFromPathComponents(s):i}function Xe(i,a){var s,r=Ge.createMap();function o(e){var t;e.length>Ge.getRootLength(e)&&(t=e,!(r.has(t)||Ge.sys.directoryExists(t)&&(r.set(t,!0),1)))&&(o(Ge.getDirectoryPath(e)),Ge.sys.createDirectory(e))}function t(){return Ge.getDirectoryPath(Ge.normalizePath(Ge.sys.getExecutingFilePath()))}var n=Ge.getNewLineCharacter(i),e=Ge.sys.realpath&&function(e){return Ge.sys.realpath(e)};return{getSourceFile:function(e,t,r){var n;try{Ge.performance.mark("beforeIORead"),n=Ge.sys.readFile(e,i.charset),Ge.performance.mark("afterIORead"),Ge.performance.measure("I/O Read","beforeIORead","afterIORead")}catch(e){r&&r(e.message),n=""}return void 0!==n?Ge.createSourceFile(e,n,t,a):void 0},getDefaultLibLocation:t,getDefaultLibFileName:function(e){return Ge.combinePaths(t(),Ge.getDefaultLibFileName(e))},writeFile:function(e,t,r,n){try{Ge.performance.mark("beforeIOWrite"),o(Ge.getDirectoryPath(Ge.normalizePath(e))),Ge.isWatchSet(i)&&Ge.sys.createHash&&Ge.sys.getModifiedTime?((e,t,r)=>{s=s||Ge.createMap();var n=Ge.sys.createHash(t),i=Ge.sys.getModifiedTime(e);if(i){var a=s.get(e);if(a&&a.byteOrderMark===r&&a.hash===n&&a.mtime.getTime()===i.getTime())return}Ge.sys.writeFile(e,t,r),a=Ge.sys.getModifiedTime(e),s.set(e,{hash:n,byteOrderMark:r,mtime:a})})(e,t,r):Ge.sys.writeFile(e,t,r),Ge.performance.mark("afterIOWrite"),Ge.performance.measure("I/O Write","beforeIOWrite","afterIOWrite")}catch(e){n&&n(e.message)}},getCurrentDirectory:Ge.memoize(function(){return Ge.sys.getCurrentDirectory()}),useCaseSensitiveFileNames:function(){return Ge.sys.useCaseSensitiveFileNames},getCanonicalFileName:function(e){return Ge.sys.useCaseSensitiveFileNames?e:e.toLowerCase()},getNewLine:function(){return n},fileExists:function(e){return Ge.sys.fileExists(e)},readFile:function(e){return Ge.sys.readFile(e)},trace:function(e){return Ge.sys.write(e+n)},directoryExists:function(e){return Ge.sys.directoryExists(e)},getEnvironmentVariable:function(e){return Ge.sys.getEnvironmentVariable?Ge.sys.getEnvironmentVariable(e):""},getDirectories:function(e){return Ge.sys.getDirectories(e)},realpath:e}}function a(e,t){var r,n,i=Ge.DiagnosticCategory[e.category].toLowerCase()+" TS"+e.code+": "+A(e.messageText,t.getNewLine())+t.getNewLine();return e.file?(r=(n=Ge.getLineAndCharacterOfPosition(e.file,e.start)).line,n=n.character,e=e.file.fileName,Ge.convertToRelativePath(e,t.getCurrentDirectory(),function(e){return t.getCanonicalFileName(e)})+"("+(r+1)+","+(n+1)+"): "+i):i}Ge.findConfigFile=function(e,t,r){for(void 0===r&&(r="tsconfig.json");;){var n=Ge.combinePaths(e,r);if(t(n))return n;n=Ge.getDirectoryPath(e);if(n===e)break;e=n}},Ge.resolveTripleslashReference=Qe,Ge.computeCommonSourceDirectoryOfFilenames=Ye,Ge.createCompilerHost=Xe,Ge.getPreEmitDiagnostics=function(e,t,r){var n=e.getOptionsDiagnostics(r).concat(e.getSyntacticDiagnostics(t,r),e.getGlobalDiagnostics(r),e.getSemanticDiagnostics(t,r));return e.getCompilerOptions().declaration&&Ge.addRange(n,e.getDeclarationDiagnostics(t,r)),Ge.sortAndDeduplicateDiagnostics(n)},Ge.formatDiagnostics=function(e,t){for(var r="",n=0,i=e;n<i.length;n++)r+=a(i[n],t);return r},Ge.formatDiagnostic=a;var x="[91m",k="[93m",S="[93m",T="[30;47m",C="[0m";function E(e,t){return t+e+C}function D(e,t){for(;e.length<t;)e=" "+e;return e}function A(e,t){if(Ge.isString(e))return e;for(var r=e,n="",i=0;r;){if(i){n+=t;for(var a=0;a<i;a++)n+="  "}n+=r.messageText,i++,r=r.next}return n}function Ze(e,t,r){if(0===e.length)return[];for(var n=[],i=Ge.createMap(),a=0,s=e;a<s.length;a++){var o=s[a],c=void 0;i.has(o)?c=i.get(o):i.set(o,c=r(o,t)),n.push(c)}return n}function et(e,t){switch(t.extension){case".ts":case".d.ts":return;case".tsx":return r();case".jsx":return r()||n();case".js":return n()}function r(){return e.jsx?void 0:Ge.Diagnostics.Module_0_was_resolved_to_1_but_jsx_is_not_set}function n(){return e.allowJs||!e.noImplicitAny?void 0:Ge.Diagnostics.Could_not_find_a_declaration_file_for_module_0_1_implicitly_has_an_any_type}}function tt(e){return Ge.Debug.assert(e.every(function(e){return void 0!==e}),"A name is undefined.",function(){return JSON.stringify(e)}),e}function rt(e){for(var t=e.imports,e=e.moduleAugmentations,r=t.map(function(e){return e.text}),n=0,i=e;n<i.length;n++){var a=i[n];9===a.kind&&r.push(a.text)}return r}Ge.formatDiagnosticsWithColorAndContext=function(e,t){for(var r="",n=0,i=e;n<i.length;n++){var a=i[n],s="";if(a.file){var o=a.start,c=a.length,l=a.file,u=Ge.getLineAndCharacterOfPosition(l,o),d=u.line,p=u.character,u=Ge.getLineAndCharacterOfPosition(l,o+c),f=u.line,_=u.character,m=Ge.getLineAndCharacterOfPosition(l,l.text.length).line,o=t?Ge.convertToRelativePath(l.fileName,t.getCurrentDirectory(),function(e){return t.getCanonicalFileName(e)}):l.fileName,g=4<=f-d,h=(f+1+"").length;g&&(h=Math.max("...".length,h)),s+=t.getNewLine();for(var y=d;y<=f;y++){g&&d+1<y&&y<f-1&&(s+=E(D("...",h),T)+" "+t.getNewLine(),y=f-1);var v=Ge.getPositionOfLineAndCharacter(l,y,0),b=y<m?Ge.getPositionOfLineAndCharacter(l,y+1,0):l.text.length,v=l.text.slice(v,b);v=(v=v.replace(/\s+$/g,"")).replace("\t"," "),s=(s=(s=(s+=E(D(y+1+"",h),T)+" ")+(v+t.getNewLine()))+(E(D("",h),T)+" "))+x,y===d?(b=y===f?_:void 0,s=(s+=v.slice(0,p).replace(/\S/g," "))+v.slice(p,b).replace(/./g,"~")):s+=(y===f?v.slice(0,_):v).replace(/./g,"~"),s+=C}r=r+t.getNewLine()+(o+"("+(d+1)+","+(p+1)+"): ")}r+=(e=>{switch(e){case Ge.DiagnosticCategory.Warning:return k;case Ge.DiagnosticCategory.Error:return x;case Ge.DiagnosticCategory.Message:return S}})(a.category)+Ge.DiagnosticCategory[a.category].toLowerCase()+C+" TS"+a.code+": "+A(a.messageText,t.getNewLine()),a.file&&(r=r+t.getNewLine()+s),r+=t.getNewLine()}return r},Ge.flattenDiagnosticMessageText=A,Ge.isProgramUptoDate=function(e,t,r,n,i,a,s){return!(!e||s||e.getRootFileNames().length!==t.length||e.getSourceFiles().some(function(e){return e.version!==n(e.path)||a(e.path)})||e.getMissingFilePaths().some(i)||(s=e.getCompilerOptions(),!Ge.compareDataObjects(s,r))||s.configFile&&r.configFile&&s.configFile.text!==r.configFile.text)},Ge.createProgram=function(M,S,T,C){var f,t,r,k,n,U,i,B,j,E,K,D,A,w=[],z={},$={},N=Ge.createMap(),I=Ge.createDiagnosticCollection(),J="number"==typeof S.maxNodeModuleJsDepth?S.maxNodeModuleJsDepth:0,m=0,g=Ge.createMap(),P=Ge.createMap(),q=(Ge.performance.mark("beforeProgram"),T=T||Xe(S),S.noLib),V=Ge.memoize(function(){return T.getDefaultLibFileName(S)}),H=T.getDefaultLibLocation?T.getDefaultLibLocation():Ge.getDirectoryPath(V()),_=Ge.createDiagnosticCollection(),O=T.getCurrentDirectory(),G=Ge.getSupportedExtensions(S),W=Ge.createMap(),Q=T.hasInvalidatedResolution||Ge.returnFalse,Y=(E=T.resolveModuleNames?function(e,t,r){return T.resolveModuleNames(tt(e),t,r).map(function(e){var t;return e&&void 0===e.extension?((t=Ge.clone(e)).extension=Ge.extensionFromPath(e.resolvedFileName),t):e})}:(B=Ge.createModuleResolutionCache(O,function(e){return T.getCanonicalFileName(e)}),j=function(e,t){return Ge.resolveModuleName(e,t,S,T,B).resolvedModule},function(e,t){return Ze(tt(e),t,j)}),D=T.resolveTypeReferenceDirectives?function(e,t){return T.resolveTypeReferenceDirectives(tt(e),t)}:(K=function(e,t){return Ge.resolveTypeReferenceDirective(e,t,S,T).resolvedTypeReferenceDirective},function(e,t){return Ze(tt(e),t,K)}),Ge.createMap()),F=Ge.createMap(),X=Ge.createMap(),L=Ge.createMap(),Z=T.useCaseSensitiveFileNames()?Ge.createMap():void 0,R=(s=S,(a=(a=C)&&a.getCompilerOptions())&&(a.target!==s.target||a.module!==s.module||a.moduleResolution!==s.moduleResolution||a.noResolve!==s.noResolve||a.jsx!==s.jsx||a.allowJs!==s.allowJs||a.disableSizeLimit!==s.disableSizeLimit||a.baseUrl!==s.baseUrl||!Ge.equalOwnProperties(a.paths,s.paths))),ee=(()=>{if(!C)return 0;var e=C.getCompilerOptions();if(Ge.changesAffectModuleResolution(e,S))return C.structureIsReused=0;Ge.Debug.assert(!(3&C.structureIsReused));var t=C.getRootFileNames();if(!Ge.arrayIsEqualTo(t,M))return C.structureIsReused=0;if(!Ge.arrayIsEqualTo(S.types,e.types))return C.structureIsReused=0;var r=[],n=[],i=[];if(C.structureIsReused=2,C.getMissingFilePaths().some(function(e){return T.fileExists(e)}))return C.structureIsReused=0;t=C.getSourceFiles(),e={Exists:0,0:"Exists",Modified:1,1:"Modified"};for(var a=Ge.createMap(),s=0,o=t;s<o.length;s++){var c=o[s];if(!(y=T.getSourceFileByPath?T.getSourceFileByPath(c.fileName,c.path,S.target,void 0,R):T.getSourceFile(c.fileName,S.target,void 0,R)))return C.structureIsReused=0;Ge.Debug.assert(!y.redirectInfo,"Host should not return a redirect source file from `getSourceFile`");var l=void 0;if(c.redirectInfo){if(y!==c.redirectInfo.unredirected)return C.structureIsReused=0;l=!1,y=c}else if(C.redirectTargetsSet.has(c.path)){if(y!==c)return C.structureIsReused=0;l=!1}else l=y!==c;y.path=c.path,n.push(y.path);var u=C.sourceFileToPackageName.get(c.path);if(void 0!==u){var d=a.get(u),p=l?1:0;if(void 0!==d&&1==p||1===d)return C.structureIsReused=0;a.set(u,p)}l?(c.hasNoDefaultLib!==y.hasNoDefaultLib&&(C.structureIsReused=1),Ge.arrayIsEqualTo(c.referencedFiles,y.referencedFiles,De)||(C.structureIsReused=1),we(y),Ge.arrayIsEqualTo(c.imports,y.imports,Ae)||(C.structureIsReused=1),Ge.arrayIsEqualTo(c.moduleAugmentations,y.moduleAugmentations,Ae)||(C.structureIsReused=1),(524288&c.flags)!=(524288&y.flags)&&(C.structureIsReused=1),Ge.arrayIsEqualTo(c.typeReferenceDirectives,y.typeReferenceDirectives,De)||(C.structureIsReused=1),i.push({oldFile:c,newFile:y})):Q(c.path)&&(C.structureIsReused=1,i.push({oldFile:c,newFile:y})),r.push(y)}if(2!==C.structureIsReused)return C.structureIsReused;U=i.map(function(e){return e.newFile.path});for(var f=0,_=i;f<_.length;f++){var m,g,h=_[f],c=h.oldFile,y=h.newFile,h=Ge.getNormalizedAbsolutePath(y.fileName,O);E&&(m=rt(y),g=ue(m,h,y,{program:C,file:c,modifiedFilePaths:U}),Ge.hasChangesInResolutions(m,g,c.resolvedModules,Ge.moduleResolutionIsEqualTo)?(C.structureIsReused=1,y.resolvedModules=Ge.zipToMap(m,g)):y.resolvedModules=c.resolvedModules),D&&(m=Ge.map(y.typeReferenceDirectives,function(e){return e.fileName}),g=D(m,h),Ge.hasChangesInResolutions(m,g,c.resolvedTypeReferenceDirectiveNames,Ge.typeDirectiveIsEqualTo)?(C.structureIsReused=1,y.resolvedTypeReferenceDirectiveNames=Ge.zipToMap(m,g)):y.resolvedTypeReferenceDirectiveNames=c.resolvedTypeReferenceDirectiveNames)}if(2!==C.structureIsReused)return C.structureIsReused;if(T.hasChangedAutomaticTypeDirectiveNames)return C.structureIsReused=1;A=C.getMissingFilePaths();for(var v=0;v<r.length;v++)L.set(n[v],r[v]),C.isSourceFileFromExternalLibrary(C.getSourceFileByPath(n[v]))&&P.set(n[v],!0);w=r,I=C.getFileProcessingDiagnostics();for(var b=0,x=i;b<x.length;b++){var k=x[b];I.reattachFileDiagnostics(k.newFile)}return N=C.getResolvedTypeReferenceDirectives(),F=C.sourceFileToPackageName,X=C.redirectTargetsSet,C.structureIsReused=2})();if(2!==ee){Ge.forEach(M,function(e){return Ee(e,!1)});var e=Ge.getAutomaticTypeDirectiveNames(S,T);if(e.length)for(var a=S.configFilePath?Ge.getDirectoryPath(S.configFilePath):T.getCurrentDirectory(),s=Ge.combinePaths(a,"__inferred type names__.ts"),te=D(e,s),o=0;o<e.length;o++)Re(e[o],te[o]);q||(S.lib?Ge.forEach(S.lib,function(e){Ee(Ge.combinePaths(H,e),!0)}):Ee(V(),!0)),A=Ge.arrayFrom(L.keys(),function(e){return e}).filter(function(e){return!L.get(e)})}if(Ge.Debug.assert(!!A),B=void 0,C&&T.onReleaseOldSourceFile)for(var re=0,ne=C.getSourceFiles();re<ne.length;re++){var ie=ne[re];me(ie.path)&&!R||T.onReleaseOldSourceFile(ie,C.getCompilerOptions())}if(C=void 0,f={getRootFileNames:function(){return M},getSourceFile:me,getSourceFileByPath:ge,getSourceFiles:function(){return w},getMissingFilePaths:function(){return A},getCompilerOptions:function(){return S},getSyntacticDiagnostics:function(e,t){return he(e,ye,t)},getOptionsDiagnostics:function(){return Ge.sortAndDeduplicateDiagnostics(Ge.concatenate(I.getGlobalDiagnostics(),Ge.concatenate(_.getGlobalDiagnostics(),S.configFile?_.getDiagnostics(S.configFile.fileName):[])))},getGlobalDiagnostics:function(){return Ge.sortAndDeduplicateDiagnostics(v().getGlobalDiagnostics().slice())},getSemanticDiagnostics:function(e,t){return he(e,ve,t)},getDeclarationDiagnostics:function(e,t){var r=f.getCompilerOptions();return!e||r.out||r.outFile?ke(e,t):he(e,Ce,t)},getTypeChecker:fe,getClassifiableNames:function(){if(!n){fe(),n=Ge.createUnderscoreEscapedMap();for(var e=0,t=w;e<t.length;e++){var r=t[e];Ge.copyEntries(r.classifiableNames,n)}}return n},getDiagnosticsProducingTypeChecker:v,getCommonSourceDirectory:le,emit:function(c,l,u,d,p){return b(function(){var e=f,t=c,r=l,n=u,i=d,a=p,s=[];if(S.noEmit)return{diagnostics:s,sourceMaps:void 0,emittedFiles:void 0,emitSkipped:!0};if(S.noEmitOnError){var o=e.getOptionsDiagnostics(n).concat(e.getSyntacticDiagnostics(t,n),e.getGlobalDiagnostics(n),e.getSemanticDiagnostics(t,n));if(0===o.length&&e.getCompilerOptions().declaration&&(s=e.getDeclarationDiagnostics(void 0,n)),0<o.length||0<s.length)return{diagnostics:Ge.concatenate(o,s),sourceMaps:void 0,emittedFiles:void 0,emitSkipped:!0}}return e=v().getEmitResolver(S.outFile||S.out?void 0:t),Ge.performance.mark("beforeEmit"),n=i?[]:Ge.getTransformers(S,a),o=Ge.emitFiles(e,de(r),t,i,n),Ge.performance.mark("afterEmit"),Ge.performance.measure("Emit","beforeEmit","afterEmit"),o})},getCurrentDirectory:function(){return O},getNodeCount:function(){return v().getNodeCount()},getIdentifierCount:function(){return v().getIdentifierCount()},getSymbolCount:function(){return v().getSymbolCount()},getTypeCount:function(){return v().getTypeCount()},getFileProcessingDiagnostics:function(){return I},getResolvedTypeReferenceDirectives:function(){return N},isSourceFileFromExternalLibrary:pe,isSourceFileDefaultLibrary:function(t){if(t.hasNoDefaultLib)return!0;if(!S.noLib)return!1;return S.lib?Ge.forEach(S.lib,function(e){return 0===Ge.compareStrings(t.fileName,Ge.combinePaths(H,e),!T.useCaseSensitiveFileNames())}):0===Ge.compareStrings(t.fileName,V(),!T.useCaseSensitiveFileNames())},dropDiagnosticsProducingTypeChecker:function(){r=void 0},getSourceFileFromReference:function(e,t){return Ne(Qe(t.fileName,e.fileName),function(e){return L.get(y(e))})},sourceFileToPackageName:F,redirectTargetsSet:X},S.isolatedModules&&(S.declaration&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"declaration","isolatedModules"),S.noEmitOnError&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"noEmitOnError","isolatedModules"),S.out&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"out","isolatedModules"),S.outFile)&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"outFile","isolatedModules"),S.inlineSourceMap&&(S.sourceMap&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"sourceMap","inlineSourceMap"),S.mapRoot)&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"mapRoot","inlineSourceMap"),S.paths&&void 0===S.baseUrl&&x(Ge.Diagnostics.Option_paths_cannot_be_used_without_specifying_baseUrl_option,"paths"),S.paths)for(var c in S.paths)if(Ge.hasProperty(S.paths,c))if(Ge.hasZeroOrOneAsteriskCharacter(c)||Ke(!0,c,Ge.Diagnostics.Pattern_0_can_have_at_most_one_Asterisk_character,c),Ge.isArray(S.paths[c])){var ae=S.paths[c].length;0===ae&&Ke(!1,c,Ge.Diagnostics.Substitutions_for_pattern_0_shouldn_t_be_an_empty_array,c);for(var l=0;l<ae;l++){var u=S.paths[c][l],se=typeof u;"string"==se?Ge.hasZeroOrOneAsteriskCharacter(u)||je(c,l,Ge.Diagnostics.Substitution_0_in_pattern_1_in_can_have_at_most_one_Asterisk_character,u,c):je(c,l,Ge.Diagnostics.Substitution_0_for_pattern_1_has_incorrect_type_expected_string_got_2,u,c,se)}}else Ke(!1,c,Ge.Diagnostics.Substitutions_for_pattern_0_should_be_an_array,c);S.sourceMap||S.inlineSourceMap||(S.inlineSources&&x(Ge.Diagnostics.Option_0_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided,"inlineSources"),S.sourceRoot&&x(Ge.Diagnostics.Option_0_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided,"sourceRoot")),S.out&&S.outFile&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"out","outFile"),S.mapRoot&&!S.sourceMap&&x(Ge.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"mapRoot","sourceMap"),S.declarationDir&&(S.declaration||x(Ge.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"declarationDir","declaration"),S.out||S.outFile)&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"declarationDir",S.out?"out":"outFile"),S.lib&&S.noLib&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"lib","noLib"),S.noImplicitUseStrict&&(void 0===S.alwaysStrict?S.strict:S.alwaysStrict)&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"noImplicitUseStrict","alwaysStrict");var d,p,oe,a=S.target||0,s=S.outFile||S.out,h=Ge.forEach(w,function(e){return Ge.isExternalModule(e)&&!e.isDeclarationFile?e:void 0});function ce(e,t){var r,n;e&&(r=y(e),L.has(r)&&(S.configFilePath||(n=Ge.chainDiagnosticMessages(void 0,Ge.Diagnostics.Adding_a_tsconfig_json_file_will_help_organize_projects_that_contain_both_TypeScript_and_JavaScript_files_Learn_more_at_https_Colon_Slash_Slashaka_ms_Slashtsconfig)),n=Ge.chainDiagnosticMessages(n,Ge.Diagnostics.Cannot_write_file_0_because_it_would_overwrite_input_file,e),He(e,Ge.createCompilerDiagnosticFromMessageChain(n))),n=T.useCaseSensitiveFileNames()?r:r.toLocaleLowerCase(),t.has(n)?He(e,Ge.createCompilerDiagnostic(Ge.Diagnostics.Cannot_write_file_0_because_it_would_be_overwritten_by_multiple_input_files,e)):t.set(n,!0))}return S.isolatedModules?(S.module===Ge.ModuleKind.None&&a<2&&x(Ge.Diagnostics.Option_isolatedModules_can_only_be_used_when_either_option_module_is_provided_or_option_target_is_ES2015_or_higher,"isolatedModules","target"),(p=Ge.forEach(w,function(e){return Ge.isExternalModule(e)||e.isDeclarationFile?void 0:e}))&&(d=Ge.getErrorSpanForNode(p,p),_.add(Ge.createFileDiagnostic(p,d.start,d.length,Ge.Diagnostics.Cannot_compile_namespaces_when_the_isolatedModules_flag_is_provided)))):h&&a<2&&S.module===Ge.ModuleKind.None&&(p=Ge.getErrorSpanForNode(h,h.externalModuleIndicator),_.add(Ge.createFileDiagnostic(h,p.start,p.length,Ge.Diagnostics.Cannot_use_imports_exports_or_module_augmentations_when_module_is_none))),s&&(S.module&&S.module!==Ge.ModuleKind.AMD&&S.module!==Ge.ModuleKind.System?x(Ge.Diagnostics.Only_amd_and_system_modules_are_supported_alongside_0,S.out?"out":"outFile","module"):void 0===S.module&&h&&(d=Ge.getErrorSpanForNode(h,h.externalModuleIndicator),_.add(Ge.createFileDiagnostic(h,d.start,d.length,Ge.Diagnostics.Cannot_compile_modules_using_option_0_unless_the_module_flag_is_amd_or_system,S.out?"out":"outFile")))),(S.outDir||S.sourceRoot||S.mapRoot)&&(p=le(),S.outDir)&&""===p&&Ge.forEach(w,function(e){return 1<Ge.getRootLength(e.fileName)})&&x(Ge.Diagnostics.Cannot_find_the_common_subdirectory_path_for_the_input_files,"outDir"),!S.noEmit&&S.allowJs&&S.declaration&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"allowJs","declaration"),S.checkJs&&!S.allowJs&&_.add(Ge.createCompilerDiagnostic(Ge.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"checkJs","allowJs")),S.emitDecoratorMetadata&&!S.experimentalDecorators&&x(Ge.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"emitDecoratorMetadata","experimentalDecorators"),S.jsxFactory?(S.reactNamespace&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"reactNamespace","jsxFactory"),Ge.parseIsolatedEntityName(S.jsxFactory,a)||$e("jsxFactory",Ge.Diagnostics.Invalid_value_for_jsxFactory_0_is_not_a_valid_identifier_or_qualified_name,S.jsxFactory)):S.reactNamespace&&!Ge.isIdentifierText(S.reactNamespace,a)&&$e("reactNamespace",Ge.Diagnostics.Invalid_value_for_reactNamespace_0_is_not_a_valid_identifier,S.reactNamespace),S.noEmit||S.suppressOutputPathCheck||(s=de(),oe=Ge.createMap(),Ge.forEachEmittedFile(s,function(e){ce(e.jsFilePath,oe),ce(e.declarationFilePath,oe)})),Ge.performance.mark("afterProgram"),Ge.performance.measure("Program","beforeProgram","afterProgram"),f;function y(e){return Ge.toPath(e,O,Ue)}function le(){var e;return void 0===t&&(e=Ge.filter(w,function(e){return Ge.sourceFileMayBeEmitted(e,S,pe)}),t=S.rootDir&&((e,t)=>{var r=!0;if(e)for(var n=T.getCanonicalFileName(Ge.getNormalizedAbsolutePath(t,O)),i=0,a=e;i<a.length;i++){var s=a[i];s.isDeclarationFile||0!==T.getCanonicalFileName(Ge.getNormalizedAbsolutePath(s.fileName,O)).indexOf(n)&&(_.add(Ge.createCompilerDiagnostic(Ge.Diagnostics.File_0_is_not_under_rootDir_1_rootDir_is_expected_to_contain_all_source_files,s.fileName,S.rootDir)),r=!1)}return r})(e,S.rootDir)?Ge.getNormalizedAbsolutePath(S.rootDir,O):(e=>{for(var t=[],r=0,n=e;r<n.length;r++){var i=n[r];i.isDeclarationFile||t.push(i.fileName)}return Ye(t,O,Ue)})(e))&&t[t.length-1]!==Ge.directorySeparator&&(t+=Ge.directorySeparator),t}function ue(e,t,r,n){if(0===ee&&!r.ambientModuleNames.length)return E(e,t);var i,a,s,o=n.program&&n.program.getSourceFile(t);if(o!==r&&r.resolvedModules){for(var c=[],l=0,u=e;l<u.length;l++){var d=u[l],p=r.resolvedModules.get(d);c.push(p)}return c}for(var f={},_=0;_<e.length;_++){d=e[_];if(r===o&&!Q(o.path)){var m=o&&o.resolvedModules.get(d);if(m){Ge.isTraceEnabled(S,T)&&Ge.trace(T,Ge.Diagnostics.Reusing_resolution_of_module_0_to_file_1_from_old_program,d,t),(a=a||new Array(e.length))[_]=m,(s=s||[]).push(d);continue}}m=!1;Ge.contains(r.ambientModuleNames,d)?(m=!0,Ge.isTraceEnabled(S,T)&&Ge.trace(T,Ge.Diagnostics.Module_0_was_resolved_as_locally_declared_ambient_module_in_file_1,d,t)):m=((e,t)=>{var r;return!Ge.getResolvedModule(t.file,e)&&!(!(r=t.program&&t.program.getTypeChecker().tryFindAmbientModuleWithoutAugmentations(e))||!r.declarations||!(r=Ge.forEach(r.declarations,function(e){e=Ge.getSourceFileOfNode(e);return!Ge.contains(t.modifiedFilePaths,e.path)&&e}))||(Ge.isTraceEnabled(S,T)&&Ge.trace(T,Ge.Diagnostics.Module_0_was_resolved_as_ambient_module_declared_in_1_since_this_file_was_not_modified,e,r.fileName),0))})(d,n),m?(a=a||new Array(e.length))[_]=f:(i=i||[]).push(d)}var g=i&&i.length?E(i,t,s):Ge.emptyArray;if(!a)return Ge.Debug.assert(g.length===e.length),g;for(var h=0,_=0;_<a.length;_++)a[_]?a[_]===f&&(a[_]=void 0):(a[_]=g[h],h++);return Ge.Debug.assert(h===g.length),a}function de(e){return{getCanonicalFileName:Ue,getCommonSourceDirectory:f.getCommonSourceDirectory,getCompilerOptions:f.getCompilerOptions,getCurrentDirectory:function(){return O},getNewLine:function(){return T.getNewLine()},getSourceFile:f.getSourceFile,getSourceFileByPath:f.getSourceFileByPath,getSourceFiles:f.getSourceFiles,isSourceFileFromExternalLibrary:pe,writeFile:e||function(e,t,r,n,i){return T.writeFile(e,t,r,n,i)},isEmitBlocked:_e}}function pe(e){return P.get(e.path)}function v(){return r=r||Ge.createTypeChecker(f,!0)}function fe(){return k=k||Ge.createTypeChecker(f,!1)}function _e(e){return W.has(y(e))}function me(e){return ge(y(e))}function ge(e){return L.get(e)}function he(e,t,r){return e?t(e,r):Ge.sortAndDeduplicateDiagnostics(Ge.flatMap(f.getSourceFiles(),function(e){return r&&r.throwIfCancellationRequested(),t(e,r)}))}function ye(e){var s;return Ge.isSourceFileJavaScript(e)?(e.additionalSyntacticDiagnostics||(e.additionalSyntacticDiagnostics=(s=e,b(function(){var d=[],p=s;return f(s),d;function f(e){switch(p.kind){case 146:case 149:if(p.questionToken===e)return void d.push(m(e,Ge.Diagnostics._0_can_only_be_used_in_a_ts_file,"?"));case 151:case 150:case 152:case 153:case 154:case 186:case 228:case 187:case 226:if(p.type===e)return void d.push(m(e,Ge.Diagnostics.types_can_only_be_used_in_a_ts_file))}switch(e.kind){case 237:return void d.push(m(e,Ge.Diagnostics.import_can_only_be_used_in_a_ts_file));case 243:if(e.isExportEquals)return void d.push(m(e,Ge.Diagnostics.export_can_only_be_used_in_a_ts_file));break;case 259:if(108===e.token)return void d.push(m(e,Ge.Diagnostics.implements_clauses_can_only_be_used_in_a_ts_file));break;case 230:return void d.push(m(e,Ge.Diagnostics.interface_declarations_can_only_be_used_in_a_ts_file));case 233:return void d.push(m(e,Ge.Diagnostics.module_declarations_can_only_be_used_in_a_ts_file));case 231:return void d.push(m(e,Ge.Diagnostics.type_aliases_can_only_be_used_in_a_ts_file));case 232:return void d.push(m(e,Ge.Diagnostics.enum_declarations_can_only_be_used_in_a_ts_file));case 203:return void d.push(m(e,Ge.Diagnostics.non_null_assertions_can_only_be_used_in_a_ts_file));case 202:return void d.push(m(e.type,Ge.Diagnostics.type_assertion_expressions_can_only_be_used_in_a_ts_file));case 184:Ge.Debug.fail()}var t=p;p=e,Ge.forEachChild(e,f,r),p=t}function r(e){switch(p.decorators!==e||S.experimentalDecorators||d.push(m(p,Ge.Diagnostics.Experimental_support_for_decorators_is_a_feature_that_is_subject_to_change_in_a_future_release_Set_the_experimentalDecorators_option_to_remove_this_warning)),p.kind){case 229:case 151:case 150:case 152:case 153:case 154:case 186:case 228:case 187:if(e===p.typeParameters)return void d.push(_(e,Ge.Diagnostics.type_parameter_declarations_can_only_be_used_in_a_ts_file));case 208:if(e!==p.modifiers)break;for(var t=e,r=208===p.kind,n=0,i=t;n<i.length;n++){var a=i[n];switch(a.kind){case 76:if(r)continue;case 114:case 112:case 113:case 131:case 124:case 117:d.push(m(a,Ge.Diagnostics._0_can_only_be_used_in_a_ts_file,Ge.tokenToString(a.kind)))}}return;case 149:if(e!==p.modifiers)break;for(var s=0,o=e;s<o.length;s++){var c=o[s];115!==c.kind&&d.push(m(c,Ge.Diagnostics._0_can_only_be_used_in_a_ts_file,Ge.tokenToString(c.kind)))}return;case 146:if(e===p.modifiers)return void d.push(_(e,Ge.Diagnostics.parameter_modifiers_can_only_be_used_in_a_ts_file));break;case 181:case 182:case 201:if(e===p.typeArguments)return void d.push(_(e,Ge.Diagnostics.type_arguments_can_only_be_used_in_a_ts_file))}for(var l=0,u=e;l<u.length;l++)f(u[l])}function _(e,t,r,n,i){var a=e.pos;return Ge.createFileDiagnostic(s,a,e.end-a,t,r,n,i)}function m(e,t,r,n,i){return Ge.createDiagnosticForNodeInSourceFile(s,e,t,r,n,i)}})),Ge.isCheckJsEnabledForFile(e,S)&&(e.additionalSyntacticDiagnostics=Ge.concatenate(e.additionalSyntacticDiagnostics,e.jsDocDiagnostics))),Ge.concatenate(e.additionalSyntacticDiagnostics,e.parseDiagnostics)):e.parseDiagnostics}function b(e){try{return e()}catch(e){throw e instanceof Ge.OperationCanceledException&&(r=k=void 0),e}}function ve(e,t){return Te(e,t,z,be)}function be(i,a){return b(function(){var e,t,r,n;return S.skipLibCheck&&i.isDeclarationFile||S.skipDefaultLibCheck&&i.hasNoDefaultLib?Ge.emptyArray:(t=v(),Ge.Debug.assert(!!i.bindDiagnostics),n=(e=3===i.scriptKind||4===i.scriptKind||5===i.scriptKind||Ge.isCheckJsEnabledForFile(i,S))?i.bindDiagnostics:Ge.emptyArray,e=e?t.getDiagnostics(i,a):Ge.emptyArray,t=I.getDiagnostics(i.fileName),r=_.getDiagnostics(i.fileName),n=n.concat(e,t,r),Ge.filter(n,xe))})}function xe(e){var t=e.file,e=e.start;if(t)for(var r=Ge.getLineStarts(t),n=Ge.computeLineAndCharacterOfPosition(r,e).line;0<n;){var i=t.text.slice(r[n-1],r[n]),i=We.exec(i);if(!i)return!0;if(i[3])return!1;n--}return!0}function ke(e,t){return Te(e,t,$,Se)}function Se(t,r){return b(function(){var e=v().getEmitResolver(t,r);return Ge.getDeclarationDiagnostics(de(Ge.noop),e,t)})}function Te(e,t,r,n){var i=e?r.perFile&&r.perFile.get(e.path):r.allDiagnostics;return i||(i=n(e,t)||Ge.emptyArray,e?(r.perFile||(r.perFile=Ge.createMap()),r.perFile.set(e.path,i)):r.allDiagnostics=i,i)}function Ce(e,t){return e.isDeclarationFile?[]:ke(e,t)}function Ee(e,t){Ie(Ge.normalizePath(e),t,void 0)}function De(e,t){return e.fileName===t.fileName}function Ae(e,t){return 9===e.kind?9===t.kind&&e.text===t.text:71===t.kind&&e.escapedText===t.escapedText}function we(c){if(!c.imports){var l,u,d,e,t,r=Ge.isSourceFileJavaScript(c),p=Ge.isExternalModule(c);S.importHelpers&&(S.isolatedModules||p)&&!c.isDeclarationFile&&(e=Ge.createLiteral(Ge.externalHelpersModuleNameText),t=Ge.createImportDeclaration(void 0,void 0,void 0),(e.parent=t).parent=c,l=[e]);for(var n=0,i=c.statements;n<i.length;n++){var a=i[n];!function e(t,r){switch(t.kind){case 238:case 237:case 244:var n=Ge.getExternalModuleName(t);n&&Ge.isStringLiteral(n)&&(!n.text||r&&Ge.isExternalModuleNameRelative(n.text)||(l=l||[]).push(n));break;case 233:if(Ge.isAmbientModule(t)&&(r||Ge.hasModifier(t,2)||c.isDeclarationFile)){var n=t.name,i=Ge.getTextOfIdentifierOrLiteral(n);if(p||r&&!Ge.isExternalModuleNameRelative(i))(u=u||[]).push(n);else if(!r){c.isDeclarationFile&&(d=d||[]).push(i);n=t.body;if(n)for(var a=0,s=n.statements;a<s.length;a++){var o=s[a];e(o,!0)}}}}}(a,!1),(524288&c.flags||r)&&s(a)}c.imports=l||Ge.emptyArray,c.moduleAugmentations=u||Ge.emptyArray,c.ambientModuleNames=d||Ge.emptyArray}function s(e){Ge.isRequireCall(e,!0)||Ge.isImportCall(e)&&1===e.arguments.length&&9===e.arguments[0].kind?(l=l||[]).push(e.arguments[0]):Ge.forEachChild(e,s)}}function Ne(t,r,e,n){var i;return Ge.hasExtension(t)?S.allowNonTsExtensions||Ge.forEach(G,function(e){return Ge.fileExtensionIs(T.getCanonicalFileName(t),e)})?(i=r(t),e&&(i?n&&T.getCanonicalFileName(t)===T.getCanonicalFileName(n.fileName)&&e(Ge.Diagnostics.A_file_cannot_have_a_reference_to_itself):e(Ge.Diagnostics.File_0_not_found,t)),i):void(e&&e(Ge.Diagnostics.File_0_has_unsupported_extension_The_only_supported_extensions_are_1,t,"'"+G.join("', '")+"'")):S.allowNonTsExtensions&&r(t)||(e&&S.allowNonTsExtensions?void e(Ge.Diagnostics.File_0_not_found,t):(n=Ge.forEach(G,function(e){return r(t+e)}),e&&!n&&e(Ge.Diagnostics.File_0_not_found,t+".ts"),n))}function Ie(e,t,r,n,i,a){Ne(e,function(e){return Oe(e,y(e),t,n,i,a,r)},function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];I.add(void 0!==n&&void 0!==a&&void 0!==i?Ge.createFileDiagnostic.apply(void 0,[n,i,a-i,e].concat(t)):Ge.createCompilerDiagnostic.apply(void 0,[e].concat(t)))},n)}function Pe(e,t,r,n,i){void 0!==r&&void 0!==n&&void 0!==i?I.add(Ge.createFileDiagnostic(r,n,i-n,Ge.Diagnostics.File_name_0_differs_from_already_included_file_name_1_only_in_casing,e,t)):I.add(Ge.createCompilerDiagnostic(Ge.Diagnostics.File_name_0_differs_from_already_included_file_name_1_only_in_casing,e,t))}function Oe(t,e,r,n,i,a,s){if(L.has(e))return(d=L.get(e))&&S.forceConsistentCasingInFileNames&&Ge.getNormalizedAbsolutePath(d.fileName,O)!==Ge.getNormalizedAbsolutePath(t,O)&&Pe(t,d.fileName,n,i,a),d&&P.get(d.path)&&0===m?(P.set(d.path,!1),S.noResolve||(Fe(d,r),Le(d)),g.set(d.path,!1),Be(d)):d&&g.get(d.path)&&m<J&&(g.set(d.path,!1),Be(d)),d;var o,c,l,u,d=T.getSourceFile(t,S.target,function(e){void 0!==n&&void 0!==i&&void 0!==a?I.add(Ge.createFileDiagnostic(n,i,a-i,Ge.Diagnostics.Cannot_read_file_0_Colon_1,t,e)):I.add(Ge.createCompilerDiagnostic(Ge.Diagnostics.Cannot_read_file_0_Colon_1,t,e))},R);if(s){var p,f=s.name+"/"+s.subModuleName+"@"+s.version,_=Y.get(f);if(_)return u=_,o=d,p=t,l=e,(c=Object.create(u)).fileName=p,c.path=l,c.redirectInfo={redirectTarget:u,unredirected:o},Object.defineProperties(c,{id:{get:function(){return this.redirectInfo.redirectTarget.id},set:function(e){this.redirectInfo.redirectTarget.id=e}},symbol:{get:function(){return this.redirectInfo.redirectTarget.symbol},set:function(e){this.redirectInfo.redirectTarget.symbol=e}}}),p=c,X.set(_.path,!0),L.set(e,p),F.set(e,s.name),w.push(p),p;d&&(Y.set(f,d),F.set(e,s.name))}return L.set(e,d),d&&(P.set(e,0<m),d.path=e,T.useCaseSensitiveFileNames()&&(l=e.toLowerCase(),(u=Z.get(l))?Pe(t,u.fileName,n,i,a):Z.set(l,d)),q=q||d.hasNoDefaultLib,S.noResolve||(Fe(d,r),Le(d)),Be(d),r?w.unshift(d):w.push(d)),d}function Fe(t,r){Ge.forEach(t.referencedFiles,function(e){Ie(Qe(e.fileName,t.fileName),r,void 0,t,e.pos,e.end)})}function Le(e){for(var t=Ge.map(e.typeReferenceDirectives,function(e){return e.fileName.toLocaleLowerCase()}),r=D(t,e.fileName),n=0;n<t.length;n++){var i=e.typeReferenceDirectives[n],a=r[n],s=i.fileName.toLocaleLowerCase();Ge.setResolvedTypeReferenceDirective(e,s,a),Re(s,a,e,i.pos,i.end)}}function Re(e,t,r,n,i){var a,s=N.get(e);s&&s.primary||(a=!0,t?!t.primary&&s?(t.resolvedFileName!==s.resolvedFileName&&T.readFile(t.resolvedFileName)!==me(s.resolvedFileName).text&&I.add(Me(r,n,i,Ge.Diagnostics.Conflicting_definitions_for_0_found_at_1_and_2_Consider_installing_a_specific_version_of_this_library_to_resolve_the_conflict,e,t.resolvedFileName,s.resolvedFileName)),a=!1):Ie(t.resolvedFileName,!1,t.packageId,r,n,i):I.add(Me(r,n,i,Ge.Diagnostics.Cannot_find_type_definition_file_for_0,e)),a&&N.set(e,t))}function Me(e,t,r,n){for(var i=[],a=4;a<arguments.length;a++)i[a-4]=arguments[a];return void 0===e||void 0===t||void 0===r?Ge.createCompilerDiagnostic.apply(void 0,[n].concat(i)):Ge.createFileDiagnostic.apply(void 0,[e,t,r-t,n].concat(i))}function Ue(e){return T.getCanonicalFileName(e)}function Be(e){if(we(e),e.imports.length||e.moduleAugmentations.length){var t=rt(e),r={program:C,file:e,modifiedFilePaths:U},n=ue(t,Ge.getNormalizedAbsolutePath(e.fileName,O),e,r);Ge.Debug.assert(n.length===t.length);for(var i=0;i<t.length;i++){var a,s,o,c,l=n[i];Ge.setResolvedModule(e,t[i],l),l&&(a=l.isExternalLibraryImport,c=!Ge.extensionIsTypeScript(l.extension),s=l.resolvedFileName,a&&m++,o=a&&c&&J<m,c=s&&!et(S,l)&&!S.noResolve&&i<e.imports.length&&!o&&!(c&&!S.allowJs),o?g.set(e.path,!0):c&&Oe(s,y(s),!1,e,Ge.skipTrivia(e.text,e.imports[i].pos),e.imports[i].end,l.packageId),a)&&m--}}else e.resolvedModules=void 0}function je(e,t,r,n,i,a){for(var s=!0,o=0,c=ze();o<c.length;o++){var l=c[o];if(Ge.isObjectLiteralExpression(l.initializer))for(var u=0,d=Ge.getPropertyAssignment(l.initializer,e);u<d.length;u++){var p=d[u];Ge.isArrayLiteralExpression(p.initializer)&&p.initializer.elements.length>t&&(_.add(Ge.createDiagnosticForNodeInSourceFile(S.configFile,p.initializer.elements[t],r,n,i,a)),s=!1)}}s&&_.add(Ge.createCompilerDiagnostic(r,n,i,a))}function Ke(e,t,r,n){for(var i=!0,a=0,s=ze();a<s.length;a++){var o=s[a];Ge.isObjectLiteralExpression(o.initializer)&&Ve(o.initializer,e,t,void 0,r,n)&&(i=!1)}i&&_.add(Ge.createCompilerDiagnostic(r,n))}function ze(){var e=qe();return e?Ge.getPropertyAssignment(e,"paths"):Ge.emptyArray}function x(e,t,r){Je(!0,t,r,e,t,r)}function $e(e,t,r){Je(!1,e,void 0,t,r)}function Je(e,t,r,n,i,a){var s=qe();s&&Ve(s,e,t,r,n,i,a)||_.add(Ge.createCompilerDiagnostic(n,i,a))}function qe(){if(void 0===i&&(i=null,S.configFile)&&S.configFile.jsonObject)for(var e=0,t=Ge.getPropertyAssignment(S.configFile.jsonObject,"compilerOptions");e<t.length;e++){var r=t[e];if(Ge.isObjectLiteralExpression(r.initializer)){i=r.initializer;break}}return i}function Ve(e,t,r,n,i,a,s){for(var e=Ge.getPropertyAssignment(e,r,n),o=0,c=e;o<c.length;o++){var l=c[o];_.add(Ge.createDiagnosticForNodeInSourceFile(S.configFile,t?l.name:l.initializer,i,a,s))}return e.length}function He(e,t){W.set(y(e),!0),_.add(t)}},Ge.getResolutionDiagnostic=et})(ts=ts||{}),(E=>{var e,f;function i(e){return e&&void 0!==e.enableAutoDiscovery&&void 0===e.enable?{enable:e.enableAutoDiscovery,include:e.include||[],exclude:e.exclude||[]}:e}function b(){var t,r;return e||(t=E.createMap(),r=E.createMap(),E.forEach(E.optionDeclarations,function(e){t.set(e.name.toLowerCase(),e),e.shortName&&r.set(e.shortName,e.name)}),e={optionNameMap:t,shortOptionNames:r}),e}function n(e){return o(e,E.createCompilerDiagnostic)}function o(e,t){var r=E.arrayFrom(e.type.keys()).map(function(e){return"'"+e+"'"}).join(", ");return t(E.Diagnostics.Argument_for_0_option_must_be_Colon_1,"--"+e.name,r)}function m(e,t,r){return u(e,L(t||""),r)}function g(t,e,r){if(e=L(e=void 0===e?"":e),!E.startsWith(e,"-")){if(""===e)return[];var n=e.split(",");switch(t.element.type){case"number":return E.map(n,parseInt);case"string":return E.map(n,function(e){return e||""});default:return E.filter(E.map(n,function(e){return m(t.element,e,r)}),function(e){return!!e})}}}function h(e,t){void 0===t&&(t=!1),e=e.toLowerCase();var r=b(),n=r.optionNameMap;return t&&void 0!==(t=r.shortOptionNames.get(e))&&(e=t),n.get(e)}function r(e,t){e=E.parseJsonText(e,t);return{config:d(e,e.parseDiagnostics),error:e.parseDiagnostics.length?e.parseDiagnostics[0]:void 0}}function p(e,t){t=a(e,t);return E.isString(t)?E.parseJsonText(e,t):{parseDiagnostics:[t]}}function a(t,e){var r;try{r=e(t)}catch(e){return E.createCompilerDiagnostic(E.Diagnostics.Cannot_read_file_0_Colon_1,t,e.message)}return void 0===r?E.createCompilerDiagnostic(E.Diagnostics.The_specified_path_does_not_exist_Colon_0,t):r}function _(e){return E.arrayToMap(e,function(e){return e.name})}function d(e,t){return y(e,t,void 0,void 0)}function y(p,f,_,m){return p.jsonObject?s(p.jsonObject,_,void 0,void 0):{};function s(e,t,r,n){for(var i={},a=0,s=e.properties;a<s.length;a++){var o,c,l,u,d=s[a];261!==d.kind?f.push(E.createDiagnosticForNodeInSourceFile(p,d,E.Diagnostics.Property_assignment_expected)):(d.questionToken&&f.push(E.createDiagnosticForNodeInSourceFile(p,d.questionToken,E.Diagnostics._0_can_only_be_used_in_a_ts_file,"?")),h(d.name)||f.push(E.createDiagnosticForNodeInSourceFile(p,d.name,E.Diagnostics.String_literal_with_double_quotes_expected)),o=E.unescapeLeadingUnderscores(E.getTextOfPropertyName(d.name)),c=t?t.get(o):void 0,l=(r&&!c&&f.push(E.createDiagnosticForNodeInSourceFile(p,d.name,r,o)),g(d.initializer,c)),void 0!==o&&(i[o]=l,m)&&(n||t===_)&&(u=v(c,l),n?u&&m.onSetValidOptionKeyValueInParent(n,c,l):t===_&&(u?m.onSetValidOptionKeyValueInRoot(o,d.name,l,d.initializer):c||m.onSetUnknownOptionKeyValueInRoot(o,d.name,l,d.initializer))))}return i}function g(n,t){switch(n.kind){case 101:return a(t&&"boolean"!==t.type),!0;case 86:return a(t&&"boolean"!==t.type),!1;case 95:return a(t&&"extends"===t.name),null;case 9:h(n)||f.push(E.createDiagnosticForNodeInSourceFile(p,n,E.Diagnostics.String_literal_with_double_quotes_expected)),a(t&&E.isString(t.type)&&"string"!==t.type);var e=n.text;return!t||E.isString(t.type)||(r=t).type.has(e.toLowerCase())||f.push(o(r,function(e,t,r){return E.createDiagnosticForNodeInSourceFile(p,n,e,t,r)})),e;case 8:return a(t&&"number"!==t.type),Number(n.text);case 178:a(t&&"object"!==t.type);var r=n;return t?s(r,t.elementOptions,t.extraKeyDiagnosticMessage,t.name):s(r,void 0,void 0,void 0);case 177:return a(t&&"list"!==t.type),e=n.elements,i=t&&t.element,e.map(function(e){return g(e,i)})}var i;function a(e){e&&f.push(E.createDiagnosticForNodeInSourceFile(p,n,E.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,t.name,c(t)))}t?a(!0):f.push(E.createDiagnosticForNodeInSourceFile(p,n,E.Diagnostics.Property_value_can_only_be_string_literal_numeric_literal_true_false_null_object_literal_or_array_literal))}function h(e){return E.isStringLiteral(e)&&E.isStringDoubleQuoted(e,p)}}function c(e){return"list"===e.type?"Array":E.isString(e.type)?e.type:"string"}function v(e,t){if(e)return!!k(t)||("list"===e.type?E.isArray(t):typeof t===(E.isString(e.type)?e.type:"string"))}function x(e,t){t&&Object.defineProperty(e,"configFile",{enumerable:!1,writable:!1,value:t})}function k(e){return null==e}function S(e,t){return E.getDirectoryPath(E.toPath(e,t,E.identity))}function l(e,i,a,s,t,o,c,l){void 0===t&&(t={}),void 0===c&&(c=[]),void 0===l&&(l=[]),E.Debug.assert(void 0===e&&void 0!==i||void 0!==e&&void 0===i);var u=[],r=E.createGetCanonicalFileName(a.useCaseSensitiveFileNames),e=D(e,i,a,s,o,r,c,u),d=e.raw,p=E.extend(t,e.options||{}),r=(p.configFilePath=o,x(p,i),(()=>{E.hasProperty(d,"files")&&!k(d.files)&&(E.isArray(d.files)?0===(e=d.files).length&&f(E.Diagnostics.The_files_list_in_config_file_0_is_empty,o||"tsconfig.json"):f(E.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,"files","Array")),E.hasProperty(d,"include")&&!k(d.include)&&(E.isArray(d.include)?t=d.include:f(E.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,"include","Array")),E.hasProperty(d,"exclude")&&!k(d.exclude)?E.isArray(d.exclude)?r=d.exclude:f(E.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,"exclude","Array"):(n=d.compilerOptions&&d.compilerOptions.outDir)&&(r=[n]);var e,t,r,n=((e,t,r,n,i,a,s,o,c)=>{var l,u;return n=E.normalizePath(n),t&&(l=z(t,s,!1,c,"include")),r&&(u=z(r,s,!0,c,"exclude")),s=((e,t,r,n)=>{var i=(t=E.getRegularExpressionForWildcard(t,r,"exclude"))&&new RegExp(t,n?"":"i"),a={};if(void 0!==e){for(var s=[],o=0,c=e;o<c.length;o++){var l,u,d=c[o],d=E.normalizePath(E.combinePaths(r,d));i&&i.test(d)||(d=((e,t)=>{var r=K.exec(e);return r?{key:t?r[0]:r[0].toLowerCase(),flags:j.test(e)?1:0}:E.isImplicitGlob(e)?{key:e,flags:1}:void 0})(d,n))&&(l=d.key,d=d.flags,void 0===(u=a[l])||u<d)&&1===(a[l]=d)&&s.push(l)}for(l in a)if(E.hasProperty(a,l))for(var p=0,f=s;p<f.length;p++){var _=f[p];l!==_&&E.containsPath(_,l,r,!n)&&delete a[l]}}return a})(l,u,n,a.useCaseSensitiveFileNames),R({filesSpecs:e,includeSpecs:t,excludeSpecs:r,validatedIncludeSpecs:l,validatedExcludeSpecs:u,wildcardDirectories:s},n,i,a,o)})(e,t=void 0===e&&void 0===t?["**/*"]:t,r,o?S(o,s):s,p,a,u,l,i);return 0!==n.fileNames.length||E.hasProperty(d,"files")||0!==c.length||u.push(T(n.spec,o)),n})()),t=r.fileNames,n=r.wildcardDirectories,r=r.spec;return{options:p,fileNames:t,typeAcquisition:e.typeAcquisition||I(),raw:d,errors:u,wildcardDirectories:n,compileOnSave:!!d.compileOnSave,configFileSpecs:r};function f(e,t,r){i||u.push(E.createCompilerDiagnostic(e,t,r))}}function T(e,t){var r=e.includeSpecs,e=e.excludeSpecs;return E.createCompilerDiagnostic(E.Diagnostics.No_inputs_were_found_in_config_file_0_Specified_include_paths_were_1_and_exclude_paths_were_2,t||"tsconfig.json",JSON.stringify(r||[]),JSON.stringify(e||[]))}function C(e){return e.options}function D(e,t,r,n,i,a,s,o){n=E.normalizeSlashes(n);var c,l,u=E.toPath(i||"",n,a);return 0<=s.indexOf(u)?(o.push(E.createCompilerDiagnostic(E.Diagnostics.Circularity_detected_while_resolving_configuration_Colon_0,s.concat([u]).join(" -> "))),{raw:e||d(t,o)}):((e=e?((e,t,r,n,i,a)=>{E.hasProperty(e,"excludes")&&a.push(E.createCompilerDiagnostic(E.Diagnostics.Unknown_option_excludes_Did_you_mean_exclude));var s,o=N(e.compilerOptions,r,a,i),c=P(e.typeAcquisition||e.typingOptions,r,a,i);return e.compileOnSave=((e,t,r)=>{if(E.hasProperty(e,E.compileOnSaveCommandLineOption.name))return!("boolean"!=typeof(e=O(E.compileOnSaveCommandLineOption,e.compileOnSave,t,r))||!e)&&e})(e,r,a),e.extends&&(E.isString(e.extends)?(i=i?S(i,r):r,s=A(e.extends,t,i,n,a,E.createCompilerDiagnostic)):a.push(E.createCompilerDiagnostic(E.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,"extends","string"))),{raw:e,options:o,typeAcquisition:c,extendedConfigPath:s}})(e,r,n,a,i,o):((a,s,o,c,l,u)=>{var n,i,d,p=w(l),e={onSetValidOptionKeyValueInParent:function(e,t,r){E.Debug.assert("compilerOptions"===e||"typeAcquisition"===e||"typingOptions"===e),("compilerOptions"===e?p:"typeAcquisition"===e?n=n||I(l):i=i||I(l))[t.name]=function t(e,r,n){if(k(n))return;{var i;if("list"===e.type)return(i=e).element.isFilePath||!E.isString(i.element.type)?E.filter(E.map(n,function(e){return t(i.element,r,e)}),function(e){return!!e}):n;if(!E.isString(e.type))return e.type.get(E.isString(n)?n.toLowerCase():n)}return F(e,r,n)}(t,o,r)},onSetValidOptionKeyValueInRoot:function(e,t,r,n){switch(e){case"extends":var i=l?S(l,o):o;return void(d=A(r,s,i,c,u,function(e,t){return E.createDiagnosticForNodeInSourceFile(a,n,e,t)}));case"files":return void(0===r.length&&u.push(E.createDiagnosticForNodeInSourceFile(a,n,E.Diagnostics.The_files_list_in_config_file_0_is_empty,l||"tsconfig.json")))}},onSetUnknownOptionKeyValueInRoot:function(e,t,r,n){"excludes"===e&&u.push(E.createDiagnosticForNodeInSourceFile(a,t,E.Diagnostics.Unknown_option_excludes_Did_you_mean_exclude))}},e=y(a,u,f=void 0===f?_([{name:"compilerOptions",type:"object",elementOptions:_(E.optionDeclarations),extraKeyDiagnosticMessage:E.Diagnostics.Unknown_compiler_option_0},{name:"typingOptions",type:"object",elementOptions:_(E.typeAcquisitionDeclarations),extraKeyDiagnosticMessage:E.Diagnostics.Unknown_type_acquisition_option_0},{name:"typeAcquisition",type:"object",elementOptions:_(E.typeAcquisitionDeclarations),extraKeyDiagnosticMessage:E.Diagnostics.Unknown_type_acquisition_option_0},{name:"extends",type:"string"},{name:"files",type:"list",element:{name:"files",type:"string"}},{name:"include",type:"list",element:{name:"include",type:"string"}},{name:"exclude",type:"list",element:{name:"exclude",type:"string"}},E.compileOnSaveCommandLineOption]):f,e);return n=n||(i?void 0!==i.enableAutoDiscovery?{enable:i.enableAutoDiscovery,include:i.include,exclude:i.exclude}:i:I(l)),{raw:e,options:p,typeAcquisition:n,extendedConfigPath:d}})(t,r,n,a,i,o)).extendedConfigPath&&(s=s.concat([u]),i=((e,t,r,n,i,a,s)=>{var o,c,l,u,d=p(t,function(e){return r.readFile(e)});if(e&&(e.extendedSourceFiles||(e.extendedSourceFiles=[])).push(d.fileName),!d.parseDiagnostics.length)return o=E.getDirectoryPath(t),t=D(void 0,d,r,o,E.getBaseFileName(t),i,a,s),e&&(a=e.extendedSourceFiles).push.apply(a,d.extendedSourceFiles),C(t)&&(c=E.convertToRelativePath(o,n,i),l=function(e){return E.isRootedDiskPath(e)?e:E.combinePaths(c,e)},s=function(e){u[e]&&(u[e]=E.map(u[e],l))},u=t.raw,s("include"),s("exclude"),s("files")),t;s.push.apply(s,d.parseDiagnostics)})(t,e.extendedConfigPath,r,n,a,s,o))&&C(i)&&(c=i.raw,l=e.raw,(u=function(e){var t=l[e]||c[e];t&&(l[e]=t)})("include"),u("exclude"),u("files"),void 0===l.compileOnSave&&(l.compileOnSave=c.compileOnSave),e.options=E.assign({},i.options,e.options)),e)}function A(e,t,r,n,i,a){if(e=E.normalizeSlashes(e),E.isRootedDiskPath(e)||E.startsWith(e,"./")||E.startsWith(e,"../")){r=E.toPath(e,r,n);if(t.fileExists(r)||E.endsWith(r,".json")||t.fileExists(r+=".json"))return r;i.push(a(E.Diagnostics.File_0_does_not_exist,e))}else i.push(a(E.Diagnostics.A_path_in_an_extends_option_must_be_relative_or_rooted_but_0_is_not,e))}function w(e){return"jsconfig.json"===E.getBaseFileName(e)?{allowJs:!0,maxNodeModuleJsDepth:2,allowSyntheticDefaultImports:!0,skipLibCheck:!0}:{}}function N(e,t,r,n){n=w(n);return s(E.optionDeclarations,e,t,n,E.Diagnostics.Unknown_compiler_option_0,r),n}function I(e){return{enable:"jsconfig.json"===E.getBaseFileName(e),include:[],exclude:[]}}function P(e,t,r,n){n=I(n),e=i(e);return s(E.typeAcquisitionDeclarations,e,t,n,E.Diagnostics.Unknown_type_acquisition_option_0,r),n}function s(e,t,r,n,i,a){if(t){var s,o=_(e);for(s in t){var c=o.get(s);c?n[c.name]=O(c,t[s],r,a):a.push(E.createCompilerDiagnostic(i,s))}}}function O(e,t,r,n){var i,a,s,o;if(v(e,t))return"list"===(i=e.type)&&E.isArray(t)?(a=e,s=r,o=n,E.filter(E.map(t,function(e){return O(a.element,e,s,o)}),function(e){return!!e})):E.isString(i)?F(e,r,t):u(e,t,n);n.push(E.createCompilerDiagnostic(E.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,e.name,c(e)))}function F(e,t,r){return r=e.isFilePath&&""===(r=E.normalizePath(E.combinePaths(t,r)))?".":r}function u(e,t,r){if(!k(t))return t=t.toLowerCase(),void 0!==(t=e.type.get(t))?t:void r.push(n(e))}function L(e){return"function"==typeof e.trim?e.trim():e.replace(/^[\s]+|[\s]+$/g,"")}E.compileOnSaveCommandLineOption={name:"compileOnSave",type:"boolean"},E.optionDeclarations=[{name:"help",shortName:"h",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Command_line_Options,description:E.Diagnostics.Print_this_message},{name:"help",shortName:"?",type:"boolean"},{name:"all",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Command_line_Options,description:E.Diagnostics.Show_all_compiler_options},{name:"version",shortName:"v",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Command_line_Options,description:E.Diagnostics.Print_the_compiler_s_version},{name:"init",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Command_line_Options,description:E.Diagnostics.Initializes_a_TypeScript_project_and_creates_a_tsconfig_json_file},{name:"project",shortName:"p",type:"string",isFilePath:!0,showInSimplifiedHelpView:!0,category:E.Diagnostics.Command_line_Options,paramType:E.Diagnostics.FILE_OR_DIRECTORY,description:E.Diagnostics.Compile_the_project_given_the_path_to_its_configuration_file_or_to_a_folder_with_a_tsconfig_json},{name:"pretty",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Command_line_Options,description:E.Diagnostics.Stylize_errors_and_messages_using_color_and_context_experimental},{name:"watch",shortName:"w",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Command_line_Options,description:E.Diagnostics.Watch_input_files},{name:"target",shortName:"t",type:E.createMapFromTemplate({es3:0,es5:1,es6:2,es2015:2,es2016:3,es2017:4,esnext:5}),paramType:E.Diagnostics.VERSION,showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Specify_ECMAScript_target_version_Colon_ES3_default_ES5_ES2015_ES2016_ES2017_or_ESNEXT},{name:"module",shortName:"m",type:E.createMapFromTemplate({none:E.ModuleKind.None,commonjs:E.ModuleKind.CommonJS,amd:E.ModuleKind.AMD,system:E.ModuleKind.System,umd:E.ModuleKind.UMD,es6:E.ModuleKind.ES2015,es2015:E.ModuleKind.ES2015,esnext:E.ModuleKind.ESNext}),paramType:E.Diagnostics.KIND,showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Specify_module_code_generation_Colon_none_commonjs_amd_system_umd_es2015_or_ESNext},{name:"lib",type:"list",element:{name:"lib",type:E.createMapFromTemplate({es5:"lib.es5.d.ts",es6:"lib.es2015.d.ts",es2015:"lib.es2015.d.ts",es7:"lib.es2016.d.ts",es2016:"lib.es2016.d.ts",es2017:"lib.es2017.d.ts",esnext:"lib.esnext.d.ts",dom:"lib.dom.d.ts","dom.iterable":"lib.dom.iterable.d.ts",webworker:"lib.webworker.d.ts",scripthost:"lib.scripthost.d.ts","es2015.core":"lib.es2015.core.d.ts","es2015.collection":"lib.es2015.collection.d.ts","es2015.generator":"lib.es2015.generator.d.ts","es2015.iterable":"lib.es2015.iterable.d.ts","es2015.promise":"lib.es2015.promise.d.ts","es2015.proxy":"lib.es2015.proxy.d.ts","es2015.reflect":"lib.es2015.reflect.d.ts","es2015.symbol":"lib.es2015.symbol.d.ts","es2015.symbol.wellknown":"lib.es2015.symbol.wellknown.d.ts","es2016.array.include":"lib.es2016.array.include.d.ts","es2017.object":"lib.es2017.object.d.ts","es2017.sharedmemory":"lib.es2017.sharedmemory.d.ts","es2017.string":"lib.es2017.string.d.ts","es2017.intl":"lib.es2017.intl.d.ts","esnext.asynciterable":"lib.esnext.asynciterable.d.ts"})},showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Specify_library_files_to_be_included_in_the_compilation_Colon},{name:"allowJs",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Allow_javascript_files_to_be_compiled},{name:"checkJs",type:"boolean",category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Report_errors_in_js_files},{name:"jsx",type:E.createMapFromTemplate({preserve:1,"react-native":3,react:2}),paramType:E.Diagnostics.KIND,showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Specify_JSX_code_generation_Colon_preserve_react_native_or_react},{name:"declaration",shortName:"d",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Generates_corresponding_d_ts_file},{name:"sourceMap",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Generates_corresponding_map_file},{name:"outFile",type:"string",isFilePath:!0,paramType:E.Diagnostics.FILE,showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Concatenate_and_emit_output_to_single_file},{name:"outDir",type:"string",isFilePath:!0,paramType:E.Diagnostics.DIRECTORY,showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Redirect_output_structure_to_the_directory},{name:"rootDir",type:"string",isFilePath:!0,paramType:E.Diagnostics.LOCATION,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Specify_the_root_directory_of_input_files_Use_to_control_the_output_directory_structure_with_outDir},{name:"removeComments",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Do_not_emit_comments_to_output},{name:"noEmit",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Do_not_emit_outputs},{name:"importHelpers",type:"boolean",category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Import_emit_helpers_from_tslib},{name:"downlevelIteration",type:"boolean",category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Provide_full_support_for_iterables_in_for_of_spread_and_destructuring_when_targeting_ES5_or_ES3},{name:"isolatedModules",type:"boolean",category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Transpile_each_file_as_a_separate_module_similar_to_ts_transpileModule},{name:"strict",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Strict_Type_Checking_Options,description:E.Diagnostics.Enable_all_strict_type_checking_options},{name:"noImplicitAny",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Strict_Type_Checking_Options,description:E.Diagnostics.Raise_error_on_expressions_and_declarations_with_an_implied_any_type},{name:"strictNullChecks",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Strict_Type_Checking_Options,description:E.Diagnostics.Enable_strict_null_checks},{name:"strictFunctionTypes",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Strict_Type_Checking_Options,description:E.Diagnostics.Enable_strict_checking_of_function_types},{name:"noImplicitThis",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Strict_Type_Checking_Options,description:E.Diagnostics.Raise_error_on_this_expressions_with_an_implied_any_type},{name:"alwaysStrict",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Strict_Type_Checking_Options,description:E.Diagnostics.Parse_in_strict_mode_and_emit_use_strict_for_each_source_file},{name:"noUnusedLocals",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Additional_Checks,description:E.Diagnostics.Report_errors_on_unused_locals},{name:"noUnusedParameters",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Additional_Checks,description:E.Diagnostics.Report_errors_on_unused_parameters},{name:"noImplicitReturns",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Additional_Checks,description:E.Diagnostics.Report_error_when_not_all_code_paths_in_function_return_a_value},{name:"noFallthroughCasesInSwitch",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Additional_Checks,description:E.Diagnostics.Report_errors_for_fallthrough_cases_in_switch_statement},{name:"moduleResolution",type:E.createMapFromTemplate({node:E.ModuleResolutionKind.NodeJs,classic:E.ModuleResolutionKind.Classic}),paramType:E.Diagnostics.STRATEGY,category:E.Diagnostics.Module_Resolution_Options,description:E.Diagnostics.Specify_module_resolution_strategy_Colon_node_Node_js_or_classic_TypeScript_pre_1_6},{name:"baseUrl",type:"string",isFilePath:!0,category:E.Diagnostics.Module_Resolution_Options,description:E.Diagnostics.Base_directory_to_resolve_non_absolute_module_names},{name:"paths",type:"object",isTSConfigOnly:!0,category:E.Diagnostics.Module_Resolution_Options,description:E.Diagnostics.A_series_of_entries_which_re_map_imports_to_lookup_locations_relative_to_the_baseUrl},{name:"rootDirs",type:"list",isTSConfigOnly:!0,element:{name:"rootDirs",type:"string",isFilePath:!0},category:E.Diagnostics.Module_Resolution_Options,description:E.Diagnostics.List_of_root_folders_whose_combined_content_represents_the_structure_of_the_project_at_runtime},{name:"typeRoots",type:"list",element:{name:"typeRoots",type:"string",isFilePath:!0},category:E.Diagnostics.Module_Resolution_Options,description:E.Diagnostics.List_of_folders_to_include_type_definitions_from},{name:"types",type:"list",element:{name:"types",type:"string"},showInSimplifiedHelpView:!0,category:E.Diagnostics.Module_Resolution_Options,description:E.Diagnostics.Type_declaration_files_to_be_included_in_compilation},{name:"allowSyntheticDefaultImports",type:"boolean",category:E.Diagnostics.Module_Resolution_Options,description:E.Diagnostics.Allow_default_imports_from_modules_with_no_default_export_This_does_not_affect_code_emit_just_typechecking},{name:"preserveSymlinks",type:"boolean",category:E.Diagnostics.Module_Resolution_Options,description:E.Diagnostics.Do_not_resolve_the_real_path_of_symlinks},{name:"sourceRoot",type:"string",isFilePath:!0,paramType:E.Diagnostics.LOCATION,category:E.Diagnostics.Source_Map_Options,description:E.Diagnostics.Specify_the_location_where_debugger_should_locate_TypeScript_files_instead_of_source_locations},{name:"mapRoot",type:"string",isFilePath:!0,paramType:E.Diagnostics.LOCATION,category:E.Diagnostics.Source_Map_Options,description:E.Diagnostics.Specify_the_location_where_debugger_should_locate_map_files_instead_of_generated_locations},{name:"inlineSourceMap",type:"boolean",category:E.Diagnostics.Source_Map_Options,description:E.Diagnostics.Emit_a_single_file_with_source_maps_instead_of_having_a_separate_file},{name:"inlineSources",type:"boolean",category:E.Diagnostics.Source_Map_Options,description:E.Diagnostics.Emit_the_source_alongside_the_sourcemaps_within_a_single_file_requires_inlineSourceMap_or_sourceMap_to_be_set},{name:"experimentalDecorators",type:"boolean",category:E.Diagnostics.Experimental_Options,description:E.Diagnostics.Enables_experimental_support_for_ES7_decorators},{name:"emitDecoratorMetadata",type:"boolean",category:E.Diagnostics.Experimental_Options,description:E.Diagnostics.Enables_experimental_support_for_emitting_type_metadata_for_decorators},{name:"jsxFactory",type:"string",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Specify_the_JSX_factory_function_to_use_when_targeting_react_JSX_emit_e_g_React_createElement_or_h},{name:"diagnostics",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Show_diagnostic_information},{name:"extendedDiagnostics",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Show_verbose_diagnostic_information},{name:"traceResolution",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Enable_tracing_of_the_name_resolution_process},{name:"listFiles",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Print_names_of_files_part_of_the_compilation},{name:"listEmittedFiles",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Print_names_of_generated_files_part_of_the_compilation},{name:"out",type:"string",isFilePath:!1,category:E.Diagnostics.Advanced_Options,paramType:E.Diagnostics.FILE,description:E.Diagnostics.Deprecated_Use_outFile_instead_Concatenate_and_emit_output_to_single_file},{name:"reactNamespace",type:"string",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Deprecated_Use_jsxFactory_instead_Specify_the_object_invoked_for_createElement_when_targeting_react_JSX_emit},{name:"skipDefaultLibCheck",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Deprecated_Use_skipLibCheck_instead_Skip_type_checking_of_default_library_declaration_files},{name:"charset",type:"string",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.The_character_set_of_the_input_files},{name:"emitBOM",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Emit_a_UTF_8_Byte_Order_Mark_BOM_in_the_beginning_of_output_files},{name:"locale",type:"string",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.The_locale_used_when_displaying_messages_to_the_user_e_g_en_us},{name:"newLine",type:E.createMapFromTemplate({crlf:0,lf:1}),paramType:E.Diagnostics.NEWLINE,category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Specify_the_end_of_line_sequence_to_be_used_when_emitting_files_Colon_CRLF_dos_or_LF_unix},{name:"noErrorTruncation",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_truncate_error_messages},{name:"noLib",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_include_the_default_library_file_lib_d_ts},{name:"noResolve",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_add_triple_slash_references_or_imported_modules_to_the_list_of_compiled_files},{name:"stripInternal",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_emit_declarations_for_code_that_has_an_internal_annotation},{name:"disableSizeLimit",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Disable_size_limitations_on_JavaScript_projects},{name:"noImplicitUseStrict",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_emit_use_strict_directives_in_module_output},{name:"noEmitHelpers",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_generate_custom_helper_functions_like_extends_in_compiled_output},{name:"noEmitOnError",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_emit_outputs_if_any_errors_were_reported},{name:"preserveConstEnums",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_erase_const_enum_declarations_in_generated_code},{name:"declarationDir",type:"string",isFilePath:!0,paramType:E.Diagnostics.DIRECTORY,category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Output_directory_for_generated_declaration_files},{name:"skipLibCheck",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Skip_type_checking_of_declaration_files},{name:"allowUnusedLabels",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_report_errors_on_unused_labels},{name:"allowUnreachableCode",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_report_errors_on_unreachable_code},{name:"suppressExcessPropertyErrors",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Suppress_excess_property_checks_for_object_literals},{name:"suppressImplicitAnyIndexErrors",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Suppress_noImplicitAny_errors_for_indexing_objects_lacking_index_signatures},{name:"forceConsistentCasingInFileNames",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Disallow_inconsistently_cased_references_to_the_same_file},{name:"maxNodeModuleJsDepth",type:"number",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.The_maximum_dependency_depth_to_search_under_node_modules_and_load_JavaScript_files},{name:"noStrictGenericChecks",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Disable_strict_checking_of_generic_signatures_in_function_types},{name:"plugins",type:"list",isTSConfigOnly:!0,element:{name:"plugin",type:"object"},description:E.Diagnostics.List_of_language_service_plugins}],E.typeAcquisitionDeclarations=[{name:"enableAutoDiscovery",type:"boolean"},{name:"enable",type:"boolean"},{name:"include",type:"list",element:{name:"include",type:"string"}},{name:"exclude",type:"list",element:{name:"exclude",type:"string"}}],E.defaultInitCompilerOptions={module:E.ModuleKind.CommonJS,target:1,strict:!0},E.convertEnableAutoDiscoveryToEnable=i,E.createCompilerDiagnosticForInvalidCustomType=n,E.parseCustomTypeOption=m,E.parseListTypeOption=g,E.parseCommandLine=function(e,u){var d={},p=[],f=[];return _(e),{options:d,fileNames:p,errors:f};function _(e){for(var t=0;t<e.length;){var r=e[t];if(t++,64===r.charCodeAt(0)){o=s=a=i=n=void 0;var n=r.slice(1),i=u?u(n):E.sys.readFile(n);if(i){for(var a=[],s=0;;){for(;s<i.length&&i.charCodeAt(s)<=32;)s++;if(s>=i.length)break;var o=s;if(34===i.charCodeAt(o)){for(s++;s<i.length&&34!==i.charCodeAt(s);)s++;s<i.length?(a.push(i.substring(o+1,s)),s++):f.push(E.createCompilerDiagnostic(E.Diagnostics.Unterminated_quoted_string_in_response_file_0,n))}else{for(;32<i.charCodeAt(s);)s++;a.push(i.substring(o,s))}}_(a)}else f.push(E.createCompilerDiagnostic(E.Diagnostics.File_0_not_found,n))}else if(45===r.charCodeAt(0)){var c=h(r.slice(45===r.charCodeAt(1)?2:1),!0);if(c)if(c.isTSConfigOnly)f.push(E.createCompilerDiagnostic(E.Diagnostics.Option_0_can_only_be_specified_in_tsconfig_json_file,c.name));else switch(e[t]||"boolean"===c.type||f.push(E.createCompilerDiagnostic(E.Diagnostics.Compiler_option_0_expects_an_argument,c.name)),c.type){case"number":d[c.name]=parseInt(e[t]),t++;break;case"boolean":var l=e[t];d[c.name]="false"!==l,"false"!==l&&"true"!==l||t++;break;case"string":d[c.name]=e[t]||"",t++;break;case"list":l=g(c,e[t],f);d[c.name]=l||[],l&&t++;break;default:d[c.name]=m(c,e[t],f),t++}else f.push(E.createCompilerDiagnostic(E.Diagnostics.Unknown_compiler_option_0,r))}else p.push(r)}}},E.readConfigFile=function(e,t){return t=a(e,t),E.isString(t)?r(e,t):{config:{},error:t}},E.parseConfigFileTextToJson=r,E.readJsonConfigFile=p,E.convertToObject=d,E.generateTSConfig=function(e,t,r){for(var s=(i=>{function e(e){if(E.hasProperty(i,e)){if(s.has(e)&&s.get(e).category===E.Diagnostics.Command_line_Options)return;var t,r=i[e],n=s.get(e.toLowerCase());n&&((t=function e(t){if("string"!==t.type&&"number"!==t.type&&"boolean"!==t.type)return"list"===t.type?e(t.element):t.type}(n))?"list"===n.type?a.set(e,r.map(function(e){return y(e,t)})):a.set(e,y(r,t)):a.set(e,r))}}var t,a=E.createMap(),s=b().optionNameMap;for(t in i)e(t);return a})(E.extend(e,E.defaultInitCompilerOptions)),n=E.createMultiMap(),i=0,a=E.optionDeclarations;i<a.length;i++){var o=a[i],c=o.category;void 0!==c&&c!==E.Diagnostics.Command_line_Options&&c!==E.Diagnostics.Advanced_Options&&n.add(E.getLocaleSpecificMessage(c),o)}var l=0,u=0,d=[],p=[],f=(n.forEach(function(e,t){0!==d.length&&(d.push(""),p.push("")),d.push("/* "+t+" */"),p.push("");for(var r=0,n=e;r<n.length;r++){var i=n[r],a=void 0,a=s.has(i.name)?'"'+i.name+'": '+JSON.stringify(s.get(i.name))+((u+=1)===s.size?"":","):'// "'+i.name+'": '+JSON.stringify((e=>{switch(e.type){case"number":return 1;case"boolean":return!0;case"string":return e.isFilePath?"./":"";case"list":return[];case"object":return{};default:return e.type.keys().next().value}})(i))+",";d.push(a),p.push("/* "+(i.description&&E.getLocaleSpecificMessage(i.description)||i.name)+" */"),l=Math.max(a.length,l)}}),v(2)),_=[];_.push("{"),_.push(f+'"compilerOptions": {');for(var m=0;m<d.length;m++){var g=d[m],h=p[m];_.push(g&&""+f+f+g+(h&&v(l-g.length+2)+h))}if(t.length){_.push(f+"},"),_.push(f+'"files": [');for(m=0;m<t.length;m++)_.push(""+f+f+JSON.stringify(t[m])+(m===t.length-1?"":","));_.push(f+"]")}else _.push(f+"}");return _.push("}"),_.join(r);function y(r,e){return E.forEachEntry(e,function(e,t){if(e===r)return t})}function v(e){return Array(e+1).join(" ")}},E.parseJsonConfigFileContent=function(e,t,r,n,i,a,s){return l(e,void 0,t,r,n,i,a,s)},E.parseJsonSourceFileConfigFileContent=function(e,t,r,n,i,a,s){return l(void 0,e,t,r,n,i,a,s)},E.setConfigFileInOptions=x,E.isErrorNoInputFiles=function(e){return e.code===E.Diagnostics.No_inputs_were_found_in_config_file_0_Specified_include_paths_were_1_and_exclude_paths_were_2.code},E.getErrorForNoInputFiles=T,E.convertCompilerOptionsFromJson=function(e,t,r){var n=[];return{options:N(e,t,n,r),errors:n}},E.convertTypeAcquisitionFromJson=function(e,t,r){var n=[];return{options:P(e,t,n,r),errors:n}};var M=/(^|\/)\*\*\/?$/,U=/(^|\/)\*\*\/(.*\/)?\*\*($|\/)/,B=/(^|\/)\*\*\/(.*\/)?\.\.($|\/)/,j=/\/[^/]*?[*?][^/]*\//,K=/^[^*?]*(?=\/[^/]*[*?])/;function R(e,t,r,n,i){void 0===i&&(i=[]),t=E.normalizePath(t);var a=n.useCaseSensitiveFileNames?$:J,s=E.createMap(),o=E.createMap(),c=e.filesSpecs,l=e.validatedIncludeSpecs,u=e.validatedExcludeSpecs,d=e.wildcardDirectories,p=E.getSupportedExtensions(r,i);if(c)for(var f=0,_=c;f<_.length;f++){var m=_[f],g=E.getNormalizedAbsolutePath(m,t);s.set(a(g),g)}if(l&&0<l.length)for(var h=0,y=n.readDirectory(t,p,u,l,void 0);h<y.length;h++){g=y[h];if(!((e,t,r,n,i)=>{for(var a=E.getExtensionPriority(e,n),s=E.adjustExtensionPriority(a,n),o=0;o<s;o++){var c=n[o],c=i(E.changeExtension(e,c));if(t.has(c)||r.has(c))return 1}})(g,s,o,p,a)){C=T=S=k=x=b=v=void 0;for(var v=g,b=o,x=p,k=a,S=E.getExtensionPriority(v,x),T=E.getNextLowestExtensionPriority(S,x);T<x.length;T++){var C=x[T],C=k(E.changeExtension(v,C));b.delete(C)}S=a(g);s.has(S)||o.has(S)||o.set(S,g)}}r=E.arrayFrom(s.values()),i=E.arrayFrom(o.values());return{fileNames:r.concat(i),wildcardDirectories:d,spec:e}}function z(e,r,n,c,l){return e.filter(function(e){t=e;var t=!n&&M.test(t)?E.Diagnostics.File_specification_cannot_end_in_a_recursive_directory_wildcard_Asterisk_Asterisk_Colon_0:U.test(t)?E.Diagnostics.File_specification_cannot_contain_multiple_recursive_directory_wildcards_Asterisk_Asterisk_Colon_0:B.test(t)?E.Diagnostics.File_specification_cannot_contain_a_parent_directory_that_appears_after_a_recursive_directory_wildcard_Asterisk_Asterisk_Colon_0:void 0;return void 0!==t&&r.push(((e,t)=>{if(c&&c.jsonObject)for(var r=0,n=E.getPropertyAssignment(c.jsonObject,l);r<n.length;r++){var i=n[r];if(E.isArrayLiteralExpression(i.initializer))for(var a=0,s=i.initializer.elements;a<s.length;a++){var o=s[a];if(E.isStringLiteral(o)&&o.text===t)return E.createDiagnosticForNodeInSourceFile(c,o,e,t)}}return E.createCompilerDiagnostic(e,t)})(t,e)),void 0===t})}function $(e){return e}function J(e){return e.toLowerCase()}E.getFileNamesFromConfigSpecs=R,E.convertCompilerOptionsForTelemetry=function(e){var t,r,n={};for(t in e)e.hasOwnProperty(t)&&void 0!==(r=h(t))&&(n[t]=function t(r,e){switch(e.type){case"object":case"string":return"";case"number":return"number"==typeof r?r:"";case"boolean":return"boolean"==typeof r?r:"";case"list":var n=e.element;return E.isArray(r)?r.map(function(e){return t(e,n)}):"";default:return E.forEachEntry(e.type,function(e,t){if(e===r)return t})}}(e[t],r));return n}})(ts=ts||{}),(e=>{var t,r;function n(e){this.text=e}r=e.ScriptSnapshot||(e.ScriptSnapshot={}),n.prototype.getText=function(e,t){return 0===e&&t===this.text.length?this.text:this.text.substring(e,t)},n.prototype.getLength=function(){return this.text.length},n.prototype.getChangeRange=function(){},t=n,r.fromString=function(e){return new t(e)},e.TextChange=function(){},(r=e.HighlightSpanKind||(e.HighlightSpanKind={})).none="none",r.definition="definition",r.reference="reference",r.writtenReference="writtenReference",(r=e.IndentStyle||(e.IndentStyle={}))[r.None=0]="None",r[r.Block=1]="Block",r[r.Smart=2]="Smart",(r=e.SymbolDisplayPartKind||(e.SymbolDisplayPartKind={}))[r.aliasName=0]="aliasName",r[r.className=1]="className",r[r.enumName=2]="enumName",r[r.fieldName=3]="fieldName",r[r.interfaceName=4]="interfaceName",r[r.keyword=5]="keyword",r[r.lineBreak=6]="lineBreak",r[r.numericLiteral=7]="numericLiteral",r[r.stringLiteral=8]="stringLiteral",r[r.localName=9]="localName",r[r.methodName=10]="methodName",r[r.moduleName=11]="moduleName",r[r.operator=12]="operator",r[r.parameterName=13]="parameterName",r[r.propertyName=14]="propertyName",r[r.punctuation=15]="punctuation",r[r.space=16]="space",r[r.text=17]="text",r[r.typeParameterName=18]="typeParameterName",r[r.enumMemberName=19]="enumMemberName",r[r.functionName=20]="functionName",r[r.regularExpressionLiteral=21]="regularExpressionLiteral",(r=e.OutputFileType||(e.OutputFileType={}))[r.JavaScript=0]="JavaScript",r[r.SourceMap=1]="SourceMap",r[r.Declaration=2]="Declaration",(r=e.EndOfLineState||(e.EndOfLineState={}))[r.None=0]="None",r[r.InMultiLineCommentTrivia=1]="InMultiLineCommentTrivia",r[r.InSingleQuoteStringLiteral=2]="InSingleQuoteStringLiteral",r[r.InDoubleQuoteStringLiteral=3]="InDoubleQuoteStringLiteral",r[r.InTemplateHeadOrNoSubstitutionTemplate=4]="InTemplateHeadOrNoSubstitutionTemplate",r[r.InTemplateMiddleOrTail=5]="InTemplateMiddleOrTail",r[r.InTemplateSubstitutionPosition=6]="InTemplateSubstitutionPosition",(r=e.TokenClass||(e.TokenClass={}))[r.Punctuation=0]="Punctuation",r[r.Keyword=1]="Keyword",r[r.Operator=2]="Operator",r[r.Comment=3]="Comment",r[r.Whitespace=4]="Whitespace",r[r.Identifier=5]="Identifier",r[r.NumberLiteral=6]="NumberLiteral",r[r.StringLiteral=7]="StringLiteral",r[r.RegExpLiteral=8]="RegExpLiteral",(r=e.ScriptElementKind||(e.ScriptElementKind={})).unknown="",r.warning="warning",r.keyword="keyword",r.scriptElement="script",r.moduleElement="module",r.classElement="class",r.localClassElement="local class",r.interfaceElement="interface",r.typeElement="type",r.enumElement="enum",r.enumMemberElement="enum member",r.variableElement="var",r.localVariableElement="local var",r.functionElement="function",r.localFunctionElement="local function",r.memberFunctionElement="method",r.memberGetAccessorElement="getter",r.memberSetAccessorElement="setter",r.memberVariableElement="property",r.constructorImplementationElement="constructor",r.callSignatureElement="call",r.indexSignatureElement="index",r.constructSignatureElement="construct",r.parameterElement="parameter",r.typeParameterElement="type parameter",r.primitiveType="primitive type",r.label="label",r.alias="alias",r.constElement="const",r.letElement="let",r.directory="directory",r.externalModuleName="external module name",r.jsxAttribute="JSX attribute",(r=e.ScriptElementKindModifier||(e.ScriptElementKindModifier={})).none="",r.publicMemberModifier="public",r.privateMemberModifier="private",r.protectedMemberModifier="protected",r.exportedModifier="export",r.ambientModifier="declare",r.staticModifier="static",r.abstractModifier="abstract",(r=e.ClassificationTypeNames||(e.ClassificationTypeNames={})).comment="comment",r.identifier="identifier",r.keyword="keyword",r.numericLiteral="number",r.operator="operator",r.stringLiteral="string",r.whiteSpace="whitespace",r.text="text",r.punctuation="punctuation",r.className="class name",r.enumName="enum name",r.interfaceName="interface name",r.moduleName="module name",r.typeParameterName="type parameter name",r.typeAliasName="type alias name",r.parameterName="parameter name",r.docCommentTagName="doc comment tag name",r.jsxOpenTagName="jsx open tag name",r.jsxCloseTagName="jsx close tag name",r.jsxSelfClosingTagName="jsx self closing tag name",r.jsxAttribute="jsx attribute",r.jsxText="jsx text",r.jsxAttributeStringLiteralValue="jsx attribute string literal value",(r=e.ClassificationType||(e.ClassificationType={}))[r.comment=1]="comment",r[r.identifier=2]="identifier",r[r.keyword=3]="keyword",r[r.numericLiteral=4]="numericLiteral",r[r.operator=5]="operator",r[r.stringLiteral=6]="stringLiteral",r[r.regularExpressionLiteral=7]="regularExpressionLiteral",r[r.whiteSpace=8]="whiteSpace",r[r.text=9]="text",r[r.punctuation=10]="punctuation",r[r.className=11]="className",r[r.enumName=12]="enumName",r[r.interfaceName=13]="interfaceName",r[r.moduleName=14]="moduleName",r[r.typeParameterName=15]="typeParameterName",r[r.typeAliasName=16]="typeAliasName",r[r.parameterName=17]="parameterName",r[r.docCommentTagName=18]="docCommentTagName",r[r.jsxOpenTagName=19]="jsxOpenTagName",r[r.jsxCloseTagName=20]="jsxCloseTagName",r[r.jsxSelfClosingTagName=21]="jsxSelfClosingTagName",r[r.jsxAttribute=22]="jsxAttribute",r[r.jsxText=23]="jsxText",r[r.jsxAttributeStringLiteralValue=24]="jsxAttributeStringLiteralValue"})(ts=ts||{}),(f=>{var e;function r(e){switch(e.kind){case 146:case 226:case 176:case 149:case 148:case 261:case 262:case 151:case 150:case 152:case 153:case 154:case 228:case 186:case 187:case 260:case 253:return 1;case 145:case 230:case 231:case 163:return 2;case 283:return void 0===e.name?3:2;case 264:case 229:return 3;case 233:return f.isAmbientModule(e)||1===f.getModuleInstanceState(e)?5:4;case 232:case 241:case 242:case 237:case 238:case 243:case 244:return 7;case 265:return 5}return 7}function n(e){for(;143===e.parent.kind;)e=e.parent;return f.isInternalModuleImportEqualsDeclaration(e.parent)&&e.parent.moduleReference===e}function t(e,t){e=i(e);return e&&e.parent&&e.parent.kind===t&&e.parent.expression===e}function i(e){return s(e)?e.parent:e}function a(e){return 71===e.kind&&(218===e.parent.kind||217===e.parent.kind)&&e.parent.label===e}function s(e){return e&&e.parent&&179===e.parent.kind&&e.parent.name===e}f.scanner=f.createScanner(5,!0),(e=f.SemanticMeaning||(f.SemanticMeaning={}))[e.None=0]="None",e[e.Value=1]="Value",e[e.Type=2]="Type",e[e.Namespace=4]="Namespace",e[e.All=7]="All",f.getMeaningFromDeclaration=r,f.getMeaningFromLocation=function(e){return 265===e.kind?1:243===e.parent.kind?7:n(e)?(t=e,f.Debug.assert(71===t.kind),143!==t.parent.kind||t.parent.right!==t||237!==t.parent.parent.kind?4:7):f.isDeclarationName(e)?r(e.parent):(e=>{switch((e=f.isRightSideOfQualifiedNameOrPropertyAccess(e)?e.parent:e).kind){case 99:return!f.isPartOfExpression(e);case 169:return 1}switch(e.parent.kind){case 159:return 1;case 201:return!f.isExpressionWithTypeArgumentsInClassExtendsClause(e.parent)}})(e)?2:(e=>{var t=e,r=!0;if(143===t.parent.kind){for(;t.parent&&143===t.parent.kind;)t=t.parent;r=t.right===e}return 159===t.parent.kind&&!r})(t=e)||(e=>{var t=e,r=!0;if(179===t.parent.kind){for(;t.parent&&179===t.parent.kind;)t=t.parent;r=t.name===e}return!r&&201===t.parent.kind&&259===t.parent.parent.kind&&(229===(e=t.parent.parent.parent).kind&&108===t.parent.parent.token||230===e.kind&&85===t.parent.parent.token)})(t)?4:f.isTypeParameterDeclaration(e.parent)?(f.Debug.assert(f.isJSDocTemplateTag(e.parent.parent)),2):1;var t},f.isInRightSideOfInternalImportEqualsDeclaration=n,f.isCallExpressionTarget=function(e){return t(e,181)},f.isNewExpressionTarget=function(e){return t(e,182)},f.climbPastPropertyAccess=i,f.getTargetLabel=function(e,t){for(;e;){if(222===e.kind&&e.label.escapedText===t)return e.label;e=e.parent}},f.isJumpStatementTarget=a,f.isLabelName=function(e){return 71===(t=e).kind&&222===t.parent.kind&&t.parent.label===t||a(e);var t},f.isRightSideOfQualifiedName=function(e){return 143===e.parent.kind&&e.parent.right===e},f.isRightSideOfPropertyAccess=s,f.isNameOfModuleDeclaration=function(e){return 233===e.parent.kind&&e.parent.name===e},f.isNameOfFunctionDeclaration=function(e){return 71===e.kind&&f.isFunctionLike(e.parent)&&e.parent.name===e},f.isLiteralNameOfPropertyDeclarationOrIndexAccess=function(e){switch(e.parent.kind){case 149:case 148:case 261:case 264:case 151:case 150:case 153:case 154:case 233:return f.getNameOfDeclaration(e.parent)===e;case 180:return e.parent.argumentExpression===e;case 144:return!0;case 173:return 171===e.parent.parent.kind}},f.isExpressionOfExternalModuleImportEqualsDeclaration=function(e){return f.isExternalModuleImportEqualsDeclaration(e.parent.parent)&&f.getExternalModuleImportEqualsDeclarationExpression(e.parent.parent)===e},f.getContainerNode=function(e){for(283===e.kind&&(e=e.parent.parent);;){if(!(e=e.parent))return;switch(e.kind){case 265:case 151:case 150:case 228:case 186:case 153:case 154:case 229:case 230:case 232:case 233:return e}}},f.getNodeKind=function e(t){switch(t.kind){case 265:return f.isExternalModule(t)?"module":"script";case 233:return"module";case 229:case 199:return"class";case 230:return"interface";case 231:return"type";case 232:return"enum";case 226:return a(t);case 176:return a(f.getRootDeclaration(t));case 187:case 228:case 186:return"function";case 153:return"getter";case 154:return"setter";case 151:case 150:return"method";case 149:case 148:return"property";case 157:return"index";case 156:return"construct";case 155:return"call";case 152:return"constructor";case 145:return"type parameter";case 264:return"enum member";case 146:return f.hasModifier(t,92)?"property":"parameter";case 237:case 242:case 239:case 246:case 240:return"alias";case 283:return"type";case 194:var r=f.getSpecialPropertyAssignmentKind(t),n=t.right;switch(r){case 0:return"";case 1:case 2:var i=e(n);return""===i?"const":i;case 3:return"method";case 4:return"property";case 5:return f.isFunctionExpression(n)?"method":"property";default:return f.assertTypeIsNever(r),""}default:return""}function a(e){return f.isConst(e)?"const":f.isLet(e)?"let":"var"}},f.isThis=function(e){switch(e.kind){case 99:return!0;case 71:return f.identifierIsThisKeyword(e)&&146===e.parent.kind;default:return!1}};var o=/^\/\/\/\s*</;function c(e,t,r){return e<=r.pos&&t>=r.end}function l(e,t,r,n){return Math.max(e,r)<Math.min(t,n)}function u(e,t){if(f.nodeIsMissing(e))return!1;switch(e.kind){case 229:case 230:case 232:case 178:case 174:case 163:case 207:case 234:case 235:case 241:case 245:return d(e,18,t);case 260:return u(e.block,t);case 182:if(!e.arguments)return!0;case 181:case 185:case 168:return d(e,20,t);case 160:case 161:return u(e.type,t);case 152:case 153:case 154:case 228:case 186:case 151:case 150:case 156:case 155:case 187:return e.body?u(e.body,t):e.type?u(e.type,t):p(e,20,t);case 233:return e.body&&u(e.body,t);case 211:return e.elseStatement?u(e.elseStatement,t):u(e.thenStatement,t);case 210:return u(e.expression,t)||p(e,25);case 177:case 175:case 180:case 144:case 165:return d(e,22,t);case 157:return e.type?u(e.type,t):p(e,22,t);case 257:case 258:return!1;case 214:case 215:case 216:case 213:return u(e.statement,t);case 212:return _(e,106,t)?d(e,20,t):u(e.statement,t);case 162:return u(e.exprName,t);case 189:case 188:case 190:case 197:case 198:return u(e.expression,t);case 183:return u(e.template,t);case 196:return u(f.lastOrUndefined(e.templateSpans),t);case 205:return f.nodeIsPresent(e.literal);case 244:case 238:return f.nodeIsPresent(e.moduleSpecifier);case 192:return u(e.operand,t);case 194:return u(e.right,t);case 195:return u(e.whenFalse,t);default:return!0}}function d(e,t,r){e=e.getChildren(r);if(e.length){r=f.lastOrUndefined(e);if(r.kind===t)return!0;if(25===r.kind&&1!==e.length)return e[e.length-2].kind===t}return!1}function p(e,t,r){return!!_(e,t,r)}function _(e,t,r){return f.forEach(e.getChildren(r),function(e){return e.kind===t&&e})}function m(t){var e=f.forEach(t.parent.getChildren(),function(e){if(f.isSyntaxList(e)&&e.pos<=t.pos&&e.end>=t.end)return e});return f.Debug.assert(!e||f.contains(e.getChildren(),t)),e}function g(e,t,r,n){return y(e,t,!1,n,!1,r)}function h(e,t,r,n){return y(e,t,!0,void 0,n,r)}function y(e,t,r,n,i,a){var s=e;e:for(;;){if(!f.isToken(s))for(var o=0,c=s.getChildren();o<c.length;o++){var l=c[o];if(a||!f.isJSDocNode(l)){if(t<(r?l.getFullStart():l.getStart(e,a)))break;var u=l.getEnd();if(t<u||t===u&&(1===l.kind||i)){s=l;continue e}if(n&&u===t){u=v(t,e,l);if(u&&n(u))return u}}}return s}}function v(o,c,l,u){var e=function e(t){if(f.isToken(t))return t;var r=t.getChildren();for(var n=0;n<r.length;n++){var i,a=r[n];if(o<a.end)return i=a.getStart(c,u),o<=i||!k(a)||b(a)?(s=p(r,n))&&d(s):e(a)}f.Debug.assert(void 0!==l||265===t.kind||f.isJSDocCommentContainingNode(t));{var s;if(r.length)return(s=p(r,r.length))&&d(s)}}(l||c);return f.Debug.assert(!(e&&b(e))),e;function d(e){return f.isToken(e)?e:(e=p(e=e.getChildren(),e.length))&&d(e)}function p(e,t){for(var r=t-1;0<=r;r--)if(b(e[r]))f.Debug.assert(0<r,"`JsxText` tokens should not be the first child of `JsxElement | JsxSelfClosingElement`");else if(k(e[r]))return e[r]}}function b(e){return f.isJsxText(e)&&e.containsOnlyWhiteSpaces}function x(e,t,r,n){return!!f.formatting.getRangeOfEnclosingComment(e,t,!1,void 0,r,n)}function k(e){return 0!==e.getWidth()}function S(e){return 71===e||f.isKeyword(e)}f.getLineStartPositionForPosition=function(e,t){return f.getLineStarts(t)[t.getLineAndCharacterOfPosition(e).line]},f.rangeContainsRange=function(e,t){return c(e.pos,e.end,t)},f.startEndContainsRange=c,f.rangeContainsStartEnd=function(e,t,r){return e.pos<=t&&e.end>=r},f.rangeOverlapsWithStartEnd=function(e,t,r){return l(e.pos,e.end,t,r)},f.startEndOverlapsWithStartEnd=l,f.positionBelongsToNode=function(e,t,r){return t<e.end||!u(e,r)},f.isCompletedNode=u,f.findListItemInfo=function(e){var t,r=m(e);if(r)return t=r.getChildren(),{listItemIndex:f.indexOfNode(t,e),list:r}},f.hasChildOfKind=p,f.findChildOfKind=_,f.findContainingList=m,f.getTouchingWord=function(e,t,r){return g(e,t,r,function(e){return S(e.kind)})},f.getTouchingPropertyName=function(e,t,r){return g(e,t,r,function(e){return 9===(e=e.kind)||8===e||S(e)})},f.getTouchingToken=g,f.getTokenAtPosition=h,f.findTokenOnLeftOfPosition=function(e,t){var r=h(e,t,!1);return f.isToken(r)&&t>r.getStart(e)&&t<r.getEnd()?r:v(t,e)},f.findNextToken=function(s,e){return function e(t){if(f.isToken(t)&&t.pos===s.end)return t;t=t.getChildren();for(var r=0,n=t;r<n.length;r++){var i=n[r],a=i.pos<=s.pos&&i.end>s.end||i.pos===s.end;if(a&&k(i))return e(i)}return}(e)},f.findPrecedingToken=v,f.isInString=function(e,t){if((e=v(t,e))&&f.isStringTextContainingNode(e)){var r=e.getStart(),n=e.getEnd();if(r<t&&t<n)return!0;if(t===n)return!!e.isUnterminated}return!1},f.isInsideJsxElementOrAttribute=function(e,t){return!!(e=h(e,t,!1))&&(10===e.kind||27===e.kind&&10===e.parent.kind||27===e.kind&&256===e.parent.kind||!(!e||18!==e.kind||256!==e.parent.kind)||27===e.kind&&252===e.parent.kind)},f.isWhiteSpaceOnlyJsxText=b,f.isInTemplateString=function(e,t){var r=h(e,t,!1);return f.isTemplateLiteralKind(r.kind)&&t>r.getStart(e)},f.isInComment=x,f.hasDocComment=function(r,e){return e=h(r,e,!1),e=f.getLeadingCommentRanges(r.text,e.pos),f.forEach(e,function(e){var t=r.text;return t.length>=e.pos+3&&"/"===t[e.pos]&&"*"===t[e.pos+1]&&"*"===t[e.pos+2]})},f.getNodeModifiers=function(e){var t=f.getCombinedModifierFlags(e),r=[];return 8&t&&r.push("private"),16&t&&r.push("protected"),4&t&&r.push("public"),32&t&&r.push("static"),128&t&&r.push("abstract"),1&t&&r.push("export"),f.isInAmbientContext(e)&&r.push("declare"),0<r.length?r.join(","):""},f.getTypeArgumentOrTypeParameterList=function(e){return 159===e.kind||181===e.kind?e.typeArguments:f.isFunctionLike(e)||229===e.kind||230===e.kind?e.typeParameters:void 0},f.isWord=S,f.isComment=function(e){return 2===e||3===e},f.isStringOrRegularExpressionOrTemplateLiteral=function(e){return!(9!==e&&12!==e&&!f.isTemplateLiteralKind(e))},f.isPunctuation=function(e){return 17<=e&&e<=70},f.isInsideTemplateLiteral=function(e,t){return f.isTemplateLiteralKind(e.kind)&&e.getStart()<t&&t<e.getEnd()||!!e.isUnterminated&&t===e.getEnd()},f.isAccessibilityModifier=function(e){switch(e){case 114:case 112:case 113:return!0}return!1},f.cloneCompilerOptions=function(e){var t=f.clone(e);return f.setConfigFileInOptions(t,e&&e.configFile),t},f.isArrayLiteralOrObjectLiteralDestructuringPattern=function e(t){if(177===t.kind||178===t.kind){if(194===t.parent.kind&&t.parent.left===t&&58===t.parent.operatorToken.kind)return!0;if(216===t.parent.kind&&t.parent.initializer===t)return!0;if(e((261===t.parent.kind?t.parent:t).parent))return!0}return!1},f.hasTrailingDirectorySeparator=function(e){return"/"===(e=e.charAt(e.length-1))||"\\"===e},f.isInReferenceComment=function(t,e){return x(t,e,void 0,function(e){e=t.text.substring(e.pos,e.end);return o.test(e)})},f.isInNonReferenceComment=function(t,e){return x(t,e,void 0,function(e){e=t.text.substring(e.pos,e.end);return!o.test(e)})},f.createTextSpanFromNode=function(e,t){return f.createTextSpanFromBounds(e.getStart(t),e.getEnd())},f.createTextSpanFromRange=function(e){return f.createTextSpanFromBounds(e.pos,e.end)},f.isTypeKeyword=function(e){switch(e){case 119:case 122:case 130:case 133:case 134:case 136:case 137:case 105:return!0;default:return!1}},f.isExternalModuleSymbol=function(e){return f.Debug.assert(!!(1536&e.flags)),34===e.name.charCodeAt(0)},f.nodeSeenTracker=function(){var t=[];return function(e){e=f.getNodeId(e);return!t[e]&&(t[e]=!0)}}})(ts=ts||{}),(o=>{function r(e){return e.declarations&&0<e.declarations.length&&146===e.declarations[0].kind}o.isFirstDeclarationOfSymbolParameter=r,e();var n,t,i,a={displayParts:function(){return n},writeKeyword:function(e){return c(e,o.SymbolDisplayPartKind.keyword)},writeOperator:function(e){return c(e,o.SymbolDisplayPartKind.operator)},writePunctuation:function(e){return c(e,o.SymbolDisplayPartKind.punctuation)},writeSpace:function(e){return c(e,o.SymbolDisplayPartKind.space)},writeStringLiteral:function(e){return c(e,o.SymbolDisplayPartKind.stringLiteral)},writeParameter:function(e){return c(e,o.SymbolDisplayPartKind.parameterName)},writeProperty:function(e){return c(e,o.SymbolDisplayPartKind.propertyName)},writeSymbol:function(e,t){s(),n.push(l(e,t))},writeLine:function(){n.push(f()),t=!0},increaseIndent:function(){i++},decreaseIndent:function(){i--},clear:e,trackSymbol:o.noop,reportInaccessibleThisError:o.noop,reportPrivateInBaseOfClassExpression:o.noop};function s(){var e;t&&((e=o.getIndentString(i))&&n.push(u(e,o.SymbolDisplayPartKind.space)),t=!1)}function c(e,t){s(),n.push(u(e,t))}function e(){n=[],t=!0,i=0}function l(e,t){return u(e,(e=>{var t=e.flags;return 3&t?r(e)?o.SymbolDisplayPartKind.parameterName:o.SymbolDisplayPartKind.localName:4&t||32768&t||65536&t?o.SymbolDisplayPartKind.propertyName:8&t?o.SymbolDisplayPartKind.enumMemberName:16&t?o.SymbolDisplayPartKind.functionName:32&t?o.SymbolDisplayPartKind.className:64&t?o.SymbolDisplayPartKind.interfaceName:384&t?o.SymbolDisplayPartKind.enumName:1536&t?o.SymbolDisplayPartKind.moduleName:8192&t?o.SymbolDisplayPartKind.methodName:262144&t?o.SymbolDisplayPartKind.typeParameterName:524288&t||2097152&t?o.SymbolDisplayPartKind.aliasName:o.SymbolDisplayPartKind.text})(t))}function u(e,t){return{text:e,kind:o.SymbolDisplayPartKind[t]}}function d(e){return u(o.tokenToString(e),o.SymbolDisplayPartKind.keyword)}function p(e){return u(e,o.SymbolDisplayPartKind.text)}function f(){return u("\n",o.SymbolDisplayPartKind.lineBreak)}function _(e){try{return e(a),a.displayParts()}finally{a.clear()}}function m(e){return e.parent&&(242===e.parent.kind||246===e.parent.kind)&&e.parent.propertyName===e}function g(e,t){return o.ensureScriptKind(e,t&&t.getScriptKind&&t.getScriptKind(e))}o.symbolPart=l,o.displayPart=u,o.spacePart=function(){return u(" ",o.SymbolDisplayPartKind.space)},o.keywordPart=d,o.punctuationPart=function(e){return u(o.tokenToString(e),o.SymbolDisplayPartKind.punctuation)},o.operatorPart=function(e){return u(o.tokenToString(e),o.SymbolDisplayPartKind.operator)},o.textOrKeywordPart=function(e){var t=o.stringToToken(e);return void 0===t?p(e):d(t)},o.textPart=p,o.getNewLineOrDefaultFromHost=function(e){return e.getNewLine?e.getNewLine():"\r\n"},o.lineBreakPart=f,o.mapToDisplayParts=_,o.typeToDisplayParts=function(t,r,n,i){return _(function(e){t.getSymbolDisplayBuilder().buildTypeDisplay(r,e,n,i)})},o.symbolToDisplayParts=function(t,r,n,i,a){return _(function(e){t.getSymbolDisplayBuilder().buildSymbolDisplay(r,e,n,i,a)})},o.signatureToDisplayParts=function(t,r,n,i){return i|=65536,_(function(e){t.getSymbolDisplayBuilder().buildSignatureDisplay(r,e,n,i)})},o.getDeclaredName=function(e,t,r){return m(r)||o.isStringOrNumericLiteral(r)&&144===r.parent.kind?o.getTextOfIdentifierOrLiteral(r):(r=o.getLocalSymbolForExportDefault(t),e.symbolToString(r||t))},o.isImportOrExportSpecifierName=m,o.stripQuotes=function(e){var t=e.length;return 2<=t&&e.charCodeAt(0)===e.charCodeAt(t-1)&&o.isSingleOrDoubleQuote(e.charCodeAt(0))?e.substring(1,t-1):e},o.scriptKindIs=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=g(e,t);return o.forEach(r,function(e){return e===i})},o.getScriptKind=g,o.getUniqueSymbolId=function(e,t){return o.getSymbolId(o.skipAlias(e,t))},o.getFirstNonSpaceCharacterPosition=function(e,t){for(;o.isWhiteSpaceLike(e.charCodeAt(t));)t+=1;return t},o.getOpenBrace=function(e,t){return e.body.getFirstToken(t)},o.getOpenBraceOfClassLike=function(e,t){return o.getTokenAtPosition(t,e.members.pos-1,!1)},o.getSourceFileImportLocation=function(e){var t=e.text,r=o.getLeadingCommentRanges(t,0);if(!r)return 0;var n=0;r.length&&3===r[0].kind&&o.isPinnedComment(t,r[0])&&(n=r[0].end+1,r=r.slice(1));for(var i=0,a=r;i<a.length;i++){var s=a[i];if(2!==s.kind||!o.isRecognizedTripleSlashComment(e.text,s.pos,s.end))break;n=s.end+1}return n},o.getSynthesizedDeepClone=function e(t){var r,n;if(void 0!==t)return(r=o.visitEachChild(t,e,o.nullTransformationContext))===t?(n=o.getSynthesizedClone(t),o.isStringLiteral(n)?n.textSourceNode=t:o.isNumericLiteral(n)&&(n.numericLiteralFlags=t.numericLiteralFlags),n.pos=t.pos,n.end=t.end,n):(r.parent=void 0,r)},o.suppressLeadingAndTrailingTrivia=function(e){o.Debug.assert(void 0!==e),function e(t){o.addEmitFlags(t,512);t=o.forEachChild(t,function(e){return e});t&&e(t)}(e),function e(t){o.addEmitFlags(t,1024);var r=void 0;o.forEachChild(t,function(e){r=e},function(e){e.length&&(r=o.last(e))});r&&e(r)}(e)}})(ts=ts||{}),(x=>{function u(e,t){switch(t){case 233:case 229:case 230:case 228:e.throwIfCancellationRequested()}}function a(n,i,e,a,s){var o=[];return function e(t){{var r;t&&x.textSpanIntersectsWith(s,t.getFullStart(),t.getFullWidth())&&(r=t.kind,u(i,r),71!==r||x.nodeIsMissing(t)||(r=t,a.has(r.escapedText)&&(r=n.getSymbolAtLocation(t))&&(r=l(r,x.getMeaningFromLocation(t)))&&c(t.getStart(),t.getWidth(),r)),x.forEachChild(t,e))}}(e),{spans:o,endOfLineState:0};function c(e,t,r){o.push(e),o.push(t),o.push(r)}function l(e,t){var r=e.getFlags();if(0!=(788448&r)){if(32&r)return 11;if(384&r)return 12;if(524288&r)return 16;if(2&t){if(64&r)return 13;if(262144&r)return 15}else if(1536&r&&(4&t||1&t&&x.forEach(e.declarations,function(e){return 233===e.kind&&1===x.getModuleInstanceState(e)})))return 14}}}function s(e){x.Debug.assert(e.spans.length%3==0);for(var t=e.spans,r=[],n=0;n<t.length;n+=3)r.push({textSpan:x.createTextSpan(t[n],t[n+1]),classificationType:(e=>{switch(e){case 1:return"comment";case 2:return"identifier";case 3:return"keyword";case 4:return"number";case 5:return"operator";case 6:return"string";case 8:return"whitespace";case 9:return"text";case 10:return"punctuation";case 11:return"class name";case 12:return"enum name";case 13:return"interface name";case 14:return"module name";case 15:return"type parameter name";case 16:return"type alias name";case 17:return"parameter name";case 18:return"doc comment tag name";case 19:return"jsx open tag name";case 20:return"jsx close tag name";case 21:return"jsx self closing tag name";case 22:return"jsx attribute";case 23:return"jsx text";case 24:return"jsx attribute string literal value"}})(t[n+2])});return r}function n(i,p,e){var a=e.start,s=e.length,f=x.createScanner(5,!1,p.languageVariant,p.text),_=x.createScanner(5,!1,p.languageVariant,p.text),n=[];return y(p),{spans:n,endOfLineState:0};function m(e,t,r){n.push(e),n.push(t),n.push(r)}function o(e){for(f.setTextPos(e.pos);;){var t=f.getTextPos();if(!x.couldStartTrivia(p.text,t))return t;var r=f.scan(),n=f.getTextPos(),i=n-t;if(!x.isTrivia(r))return t;if(4!==r&&5!==r)if(x.isComment(r))((e,t,r,n)=>{if(3===t){t=x.parseIsolatedJSDocComment(p.text,r,n);if(t&&t.jsDoc)return t.jsDoc.parent=e,(e=>{var t=e.pos;if(e.tags)for(var r=0,n=e.tags;r<n.length;r++){var i=n[r];switch(i.pos!==t&&g(t,i.pos-t),m(i.atToken.pos,i.atToken.end-i.atToken.pos,10),m(i.tagName.pos,i.tagName.end-i.tagName.pos,18),t=i.tagName.end,i.kind){case 279:(e=>{e.isNameFirst&&(g(t,e.name.pos-t),m(e.name.pos,e.name.end-e.name.pos,17),t=e.name.end),e.typeExpression&&(g(t,e.typeExpression.pos-t),y(e.typeExpression),t=e.typeExpression.end),e.isNameFirst||(g(t,e.name.pos-t),m(e.name.pos,e.name.end-e.name.pos,17),t=e.name.end)})(i);break;case 282:(e=>{for(var t=0,r=e.getChildren();t<r.length;t++)y(r[t])})(i);break;case 281:case 280:y(i.typeExpression)}t=i.end}t!==e.end&&g(t,e.end-t)})(t.jsDoc)}g(r,n)})(e,r,t,i),f.setTextPos(n);else if(7===r){var r=p.text,a=r.charCodeAt(t);if(60===a||62===a)m(t,i,1);else{x.Debug.assert(124===a||61===a),d=u=l=s=c=i=o=void 0;var s,o=r,i=t,c=n;for(s=i;s<c&&!x.isLineBreak(o.charCodeAt(s));s++);for(m(i,s-i,1),_.setTextPos(s);_.getTextPos()<c;){l=void 0;u=void 0;d=void 0;var l=_.getTextPos(),u=_.scan(),d=_.getTextPos();(u=h(u))&&m(l,d-l,u)}}}}}function g(e,t){m(e,t,1)}function c(e){var t,r,n;return x.isJSDoc(e)||x.nodeIsMissing(e)||(n=(e=>{switch(e.parent&&e.parent.kind){case 251:if(e.parent.tagName===e)return 19;break;case 252:if(e.parent.tagName===e)return 20;break;case 250:if(e.parent.tagName===e)return 21;break;case 253:if(e.parent.name===e)return 22}})(e),x.isToken(e)||10===e.kind||void 0!==n?(t=10===e.kind?e.pos:o(e),x.Debug.assert(0<=(r=e.end-t)),0<r&&(n=n||h(e.kind,e))&&m(t,r,n),1):void 0)}function h(e,t){if(x.isKeyword(e))return 3;if((27===e||29===e)&&t&&x.getTypeArgumentOrTypeParameterList(t.parent))return 10;if(x.isPunctuation(e)){if(t){if(58===e&&(226===t.parent.kind||149===t.parent.kind||146===t.parent.kind||253===t.parent.kind))return 5;if(194===t.parent.kind||192===t.parent.kind||193===t.parent.kind||195===t.parent.kind)return 5}return 10}if(8===e)return 4;if(9===e)return 253===t.parent.kind?24:6;if(12===e)return 6;if(x.isTemplateLiteralKind(e))return 6;if(10===e)return 23;if(71===e){if(t)switch(t.parent.kind){case 229:return t.parent.name===t?11:void 0;case 145:return t.parent.name===t?15:void 0;case 230:return t.parent.name===t?13:void 0;case 232:return t.parent.name===t?12:void 0;case 233:return t.parent.name===t?14:void 0;case 146:return t.parent.name===t?x.isThisIdentifier(t)?3:17:void 0}return 2}}function y(e){if(e&&x.decodedTextSpanIntersectsWith(a,s,e.pos,e.getFullWidth())){u(i,e.kind);for(var t=0,r=e.getChildren(p);t<r.length;t++){var n=r[t];c(n)||y(n)}}}}x.createClassifier=function(){var h=x.createScanner(5,!1),y=[],v=(y[71]=!0,y[9]=!0,y[8]=!0,y[12]=!0,y[99]=!0,y[43]=!0,y[44]=!0,y[20]=!0,y[22]=!0,y[18]=!0,y[101]=!0,y[86]=!0,[]);function n(e,t){for(var r=[],n=e.spans,i=0,a=0;a<n.length;a+=3){var s,o=n[a],c=n[a+1],l=n[a+2];0<=i&&0<(s=o-i)&&r.push({length:s,classification:x.TokenClass.Whitespace}),r.push({length:c,classification:(e=>{switch(e){case 1:return x.TokenClass.Comment;case 3:return x.TokenClass.Keyword;case 4:return x.TokenClass.NumberLiteral;case 5:return x.TokenClass.Operator;case 6:return x.TokenClass.StringLiteral;case 8:return x.TokenClass.Whitespace;case 10:return x.TokenClass.Punctuation;default:return x.TokenClass.Identifier}})(l)}),i=o+c}t=t.length-i;return 0<t&&r.push({length:t,classification:x.TokenClass.Whitespace}),{entries:r,finalLexState:e.endOfLineState}}function i(e,t,r){for(var n=0,i=0,a=0;0<v.length;)v.pop();switch(t){case 3:e='"\\\n'+e,n=3;break;case 2:e="'\\\n"+e,n=3;break;case 1:e="/*\n"+e,n=3;break;case 4:e="`\n"+e,n=2;break;case 5:e="}\n"+e,n=2;case 6:v.push(14)}h.setText(e);var s={endOfLineState:0,spans:[]},o=0;do{var c,i=h.scan(),l=(x.isTrivia(i)||(41!==i&&63!==i||y[a]?23===a&&b(i)||b(a)&&b(i)&&(c=a,l=i,x.isAccessibilityModifier(c))&&125!==l&&135!==l&&123!==l&&115!==l?i=71:71===a&&27===i?o++:29===i&&0<o?o--:119===i||136===i||133===i||122===i||137===i?0<o&&!r&&(i=71):14===i?v.push(i):17===i?0<v.length&&v.push(i):18===i&&0<v.length&&(14===(c=x.lastOrUndefined(v))?16===(i=h.reScanTemplateToken())?v.pop():x.Debug.assertEqual(i,15,"Should have been a template middle."):(x.Debug.assertEqual(c,17,"Should have been an open brace"),v.pop())):12===h.reScanSlashToken()&&(i=12),a=i),f=p=d=g=m=_=u=l=void 0,h.getTokenPos()),u=h.getTextPos(),d=l,p=u,f=(e=>{if(b(e))return 3;if((e=>{switch(e){case 39:case 41:case 42:case 37:case 38:case 45:case 46:case 47:case 27:case 29:case 30:case 31:case 93:case 92:case 118:case 32:case 33:case 34:case 35:case 48:case 50:case 49:case 53:case 54:case 69:case 68:case 70:case 65:case 66:case 67:case 59:case 60:case 61:case 63:case 64:case 58:case 26:return 1;default:return}})(e)||(e=>{switch(e){case 37:case 38:case 52:case 51:case 43:case 44:return 1;default:return}})(e))return 5;if(17<=e&&e<=70)return 10;switch(e){case 8:return 4;case 9:return 6;case 12:return 7;case 7:case 3:case 2:return 1;case 5:case 4:return 8;default:return x.isTemplateLiteralKind(e)?6:2}})(i);if(8!==f&&(0===d&&0<n&&(d+=n),0<(p=(p-=n)-(d-=n)))&&(s.spans.push(d),s.spans.push(p),s.spans.push(f)),u>=e.length)if(9===i){var _=h.getTokenText();if(h.isUnterminated()){for(var m=_.length-1,g=0;92===_.charCodeAt(m-g);)g++;1&g&&(l=_.charCodeAt(0),s.endOfLineState=34===l?3:2)}}else 3===i?h.isUnterminated()&&(s.endOfLineState=1):x.isTemplateLiteralKind(i)?h.isUnterminated()&&(16===i?s.endOfLineState=5:13===i?s.endOfLineState=4:x.Debug.fail("Only 'NoSubstitutionTemplateLiteral's and 'TemplateTail's can be unterminated; got SyntaxKind #"+i)):0<v.length&&14===x.lastOrUndefined(v)&&(s.endOfLineState=6)}while(1!==i);return s}function b(e){return 72<=e&&e<=142}return{getClassificationsForLine:function(e,t,r){return n(i(e,t,r),e)},getEncodedLexicalClassifications:i}},x.getSemanticClassifications=function(e,t,r,n,i){return s(a(e,t,r,n,i))},x.getEncodedSemanticClassifications=a,x.getSyntacticClassifications=function(e,t,r){return s(n(e,t,r))},x.getEncodedSyntacticClassifications=n})(ts=ts||{}),(x=>{var e,d,k;function S(e,t,r,n,i,a,s,o){void 0===o&&(o=[]),e=x.normalizeSlashes(e=void 0===e?"":e),""===(e=x.getDirectoryPath(e))&&(e="."+x.directorySeparator),e=x.ensureTrailingDirectorySeparator(e);var e=D(x.isRootedDiskPath(e)?e:x.combinePaths(t,e)),e=x.getDirectoryPath(e),c=!(a.useCaseSensitiveFileNames&&a.useCaseSensitiveFileNames());if(h(a,e)){r=A(a,e,r,void 0,["./*"]);if(r){for(var l=x.createMap(),u=0,d=r;u<d.length;u++){var p=d[u],p=x.normalizePath(p);s&&0===x.comparePaths(p,s,t,c)||(p=n?x.getBaseFileName(p):x.removeFileExtension(x.getBaseFileName(p)),l.get(p))||l.set(p,!0)}x.forEachKey(l,function(e){o.push(E(e,"script",i))})}r=g(a,e);if(r)for(var f=0,_=r;f<_.length;f++){var m=_[f],m=x.getBaseFileName(x.normalizePath(m));o.push(E(m,"directory",i))}}return o}function T(e,t,r,n,i){if(void 0===i&&(i=[]),t.types)for(var a=0,s=t.types;a<s.length;a++){var o=s[a];i.push(E(o,"external module name",n))}else if(e.getDirectories){var c=void 0;try{c=x.getEffectiveTypeRoots(t,e)}catch(e){}if(c)for(var l=0,u=c;l<u.length;l++)_(e,u[l],n,i)}if(e.getDirectories)for(var d=0,p=C(r,e);d<p.length;d++){var f=p[d];_(e,x.combinePaths(x.getDirectoryPath(f),"node_modules/@types"),n,i)}return i}function _(e,t,r,n){if(e.getDirectories&&h(e,t)){e=g(e,t);if(e)for(var i=0,a=e;i<a.length;i++){var s=a[i],s=x.normalizePath(s);n.push(E(x.getBaseFileName(s),"external module name",r))}}}function C(e,t){for(var r=[];n=x.findConfigFile(e,function(e){return w(t,t.fileExists,e)},"package.json");){r.push(n),e=x.getDirectoryPath(n);var n=x.getDirectoryPath(e);if(e===n)break;e=n}return r}function E(e,t,r){return{name:e,kind:t,kindModifiers:"",sortText:e,replacementSpan:r}}function p(e,t){var r=e.lastIndexOf(x.directorySeparator),r=-1!==r?r+1:0;return{start:t+r,length:e.length-r}}function D(e){return x.hasTrailingDirectorySeparator(e)?x.ensureTrailingDirectorySeparator(x.normalizePath(e)):x.normalizePath(e)}function g(e,t){return w(e,e.getDirectories,t)}function A(e,t,r,n,i){return w(e,e.readDirectory,t,r,n,i)}function h(e,t){try{return x.directoryProbablyExists(t,e)}catch(e){}}function w(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];try{return t&&t.apply(e,r)}catch(e){}}(e=(e=x.Completions||(x.Completions={})).PathCompletions||(e.PathCompletions={})).getStringLiteralCompletionEntriesFromModuleNames=function(e,t,r,n){var i,a=x.normalizeSlashes(e.text),s=e.getSourceFile().path,o=x.getDirectoryPath(s),e=p(e.text,e.getStart()+1);return{isGlobalCompletion:!1,isMemberCompletion:!1,isNewIdentifierLocation:!0,entries:(e=>{var t;if(e&&2<=e.length&&46===e.charCodeAt(0))return t=3<=e.length&&46===e.charCodeAt(1)?2:1,47===(e=e.charCodeAt(t))||92===e})(a)||x.isRootedDiskPath(a)?(i=x.getSupportedExtensions(t),t.rootDirs?((e,t,r,n,i,a,s,o,c)=>{for(var s=s.project||o.getCurrentDirectory(),l=!(o.useCaseSensitiveFileNames&&o.useCaseSensitiveFileNames()),e=((e,t,r,n)=>{e=x.map(e,function(e){return x.normalizePath(x.isRootedDiskPath(e)?e:x.combinePaths(t,e))});var i=x.forEach(e,function(e){return x.containsPath(e,r,t,n)?r.substr(e.length):void 0});return x.deduplicate(x.map(e,function(e){return x.combinePaths(e,i)}))})(e,s,r,l),u=[],d=0,p=e;d<p.length;d++){var f=p[d];S(t,f,n,i,a,o,c,u)}return u})(t.rootDirs,a,o,i,!1,e,t,r,s):S(a,o,i,!1,e,r,s)):((e,t,r,n,i,a)=>{var s,o=n.baseUrl,c=n.paths;if(o){var l=x.getSupportedExtensions(n),u=n.project||i.getCurrentDirectory(),u=x.isRootedDiskPath(o)?o:x.combinePaths(u,o);if(s=S(e,x.normalizePath(u),l,!1,r,i),c)for(var d in c)if(c.hasOwnProperty(d))if("*"===d){if(c[d])for(var p=0,f=c[d];p<f.length;p++)for(var _=f[p],m=0,g=((e,t,r,n,i)=>{if(i.readDirectory){r=x.hasZeroOrOneAsteriskCharacter(r)?x.tryParsePattern(r):void 0;if(r){var a=D(r.prefix),s=x.getDirectoryPath(a),a=x.getBaseFileName(a),o=x.stringContains(e,x.directorySeparator),e=o?x.combinePaths(s,a+x.getDirectoryPath(e)):s,c=x.normalizePath(r.suffix),s=x.combinePaths(t,e),l=o?s:x.ensureTrailingDirectorySeparator(s)+a,r=A(i,s,n,void 0,[c?"**/*":"./*"]);if(r){for(var u=[],d=0,p=r;d<p.length;d++){var f,_,m=p[d],m=x.normalizePath(m);x.endsWith(m,c)&&x.startsWith(m,l)&&(f=l.length,_=m.length-f-c.length,u.push(x.removeFileExtension(m.substr(f,_))))}return u}}}})(e,o,_,l,i);m<g.length;m++){var h=g[m];s.push(E(h,"external module name",r))}}else x.startsWith(d,e)&&c[d]&&1===c[d].length&&c[d][0]&&s.push(E(d,"external module name",r))}else s=[];T(i,n,t,r,s);for(var y=0,v=((t,e,r,n,i)=>{var a,s=x.stringContains(t,x.directorySeparator),o=s?t.substr(0,t.lastIndexOf(x.directorySeparator)):void 0,n=x.map(n.getAmbientModules(),function(e){return x.stripQuotes(e.name)}),c=x.filter(n,function(e){return x.startsWith(e,t)});if(s&&(a=x.ensureTrailingDirectorySeparator(o),c=x.map(c,function(e){return x.removePrefix(e,a)})),!r.moduleResolution||r.moduleResolution===x.ModuleResolutionKind.NodeJs)for(var l=0,u=((r,e)=>{var t=[];if(r.readFile&&r.fileExists)for(var n=0,i=C(e,r);n<i.length;n++){var a=i[n],s=(e=>{try{var t=((e,t)=>w(e,e.readFile,t))(r,e);return t?JSON.parse(t):void 0}catch(e){}})(a);if(!s)return;for(var o=x.combinePaths(x.getDirectoryPath(a),"node_modules"),c=[],l=0,u=k;l<u.length;l++){var d=u[l];((e,t)=>{if(e)for(var r in e)e.hasOwnProperty(r)&&!x.startsWith(r,"@types/")&&t.push(r)})(s[d],c)}for(var p=0,f=c;p<f.length;p++){var _=f[p],m=x.combinePaths(o,_);t.push({moduleName:_,moduleDir:m})}}return t})(i,e);l<u.length;l++){var d=u[l];if(s){if(x.startsWith(d.moduleName,o)){var p=A(i,d.moduleDir,x.supportedTypeScriptExtensions,void 0,["./*"]);if(p)for(var f=0,_=p;f<_.length;f++){var m=_[f],m=(m=x.normalizePath(m),x.removeFileExtension(x.getBaseFileName(m)));c.push(m)}}}else c.push(d.moduleName)}return x.deduplicate(c)})(e,t,n,a,i);y<v.length;y++){var b=v[y];s.push(E(b,"external module name",r))}return s})(a,o,e,t,r,n)}},e.getTripleSlashReferenceCompletion=function(e,t,r,n){if(u=x.getTokenAtPosition(e,t,!1)){u=x.getLeadingCommentRanges(e.text,u.pos);if(u&&u.length){var i,a,s,o,c,l,u=x.forEach(u,function(e){return t>=e.pos&&t<=e.end&&e});if(u)return i={isGlobalCompletion:!1,isMemberCompletion:!1,isNewIdentifierLocation:!0,entries:[]},a=e.text.substr(u.pos,t-u.pos),(a=d.exec(a))&&(s=a[1],c=a[2],l=a[3],o=x.getDirectoryPath(e.path),"path"===c?(c=p(l,u.pos+s.length),i.entries=S(l,o,x.getSupportedExtensions(r),!0,c,n,e.path)):(l={start:u.pos+s.length,length:a[0].length-s.length},i.entries=T(n,r,o,l))),i}}},d=/^(\/\/\/\s*<reference\s+(path|types)\s*=\s*(?:'|"))([^\3"]*)$/,k=["dependencies","devDependencies","peerDependencies","optionalDependencies"]})(ts=ts||{}),(P=>{var I,n;function h(e){return e&&P.stripQuotes(e.moduleSymbol.name)}function O(e,t,r,n,i,a,s,o,c){var l=P.timestamp(),u=P.createMap();if(e)for(var d=0,p=e;d<p.length;d++){var f,_=p[d],m=c?c[P.getSymbolId(_)]:void 0,g=((e,t,r,n,i,a,s)=>{if(i=y(e,i,r,a))return{name:i,kind:P.SymbolDisplay.getSymbolKind(n,e,t),kindModifiers:P.SymbolDisplay.getSymbolModifiers(e),sortText:"0",source:h(s),hasAction:void 0!==s||void 0}})(_,r,n,i,a,o,m);g&&(f=g.name,u.has(f)||(m||void 0===_.parent&&!P.some(_.declarations,function(e){return e.getSourceFile()===r.getSourceFile()})||u.set(f,!0),t.push(g)))}return s("getCompletionsAtPosition: getCompletionEntriesFromSymbols: "+(P.timestamp()-l)),u}function F(e,t){if(e){var r=[];if(L(e,r,t),r.length)return{isGlobalCompletion:!1,isMemberCompletion:!1,isNewIdentifierLocation:!1,entries:r}}}function L(e,t,r,n){if(void 0===n&&(n=P.createMap()),e=e&&16384&e.flags?r.getBaseConstraintOfType(e):e)if(65536&e.flags)for(var i=0,a=e.types;i<a.length;i++)L(a[i],t,r,n);else 32&e.flags&&!(256&e.flags)&&(e=e.value,n.has(e)||(n.set(e,!0),t.push({name:e,kindModifiers:"",kind:"var",sortText:"0"})))}function d(e,t,r,n,i,a,s){var o,c,l=a.name,u=a.source,a=R(e,t,n,i,s);if(a)return e=a.symbols,t=a.location,o=a.allowStringLiteral,c=a.symbolToOriginInfoMap,(n=P.find(e,function(e){return y(e,r.target,!1,o)===l&&h(c[P.getSymbolId(e)])===u}))&&{symbol:n,location:t,symbolToOriginInfoMap:c}}function R(u,e,d,p,f){var t,s=P.isSourceFileJavaScript(d),r=P.timestamp(),n=P.getTokenAtPosition(d,p,!1),i=(e("getCompletionData: Get current token: "+(P.timestamp()-r)),r=P.timestamp(),P.isInComment(d,p,n)),_=(e("getCompletionData: Is inside comment: "+(P.timestamp()-r)),!1);if(i){P.hasDocComment(d,p)&&(64===d.text.charCodeAt(p-1)?t={kind:"JsDocTagName"}:(i=P.getLineStartPositionForPosition(p,d),d.text.substring(i,p).match(/[^\*|\s|(/\*\*)]/)||(t={kind:"JsDocTag"})));i=((e,t)=>{if(e=(e=>{if(!P.isToken(e))return e;switch(e.kind){case 104:case 110:case 76:return e.parent.parent;default:return e.parent}})(e).jsDoc)for(var r=0,n=e;r<n.length;r++){var i=n[r],a=i.pos,s=i.end,o=i.tags;if(!(!o||t<a||s<t))for(var c=o.length-1;0<=c;c--){var l=o[c];if(t>=l.pos)return l}}})(n,p);if(t=i&&(i.tagName.pos<=p&&p<=i.tagName.end&&(t={kind:"JsDocTagName"}),(e=>{switch(e.kind){case 279:case 284:case 280:case 281:case 283:return 1}})(i)&&i.typeExpression&&267===i.typeExpression.kind&&((n=P.getTokenAtPosition(d,p,!0))&&(P.isDeclarationName(n)||284===n.parent.kind&&n.parent.name===n)||(_=I(i.typeExpression))),P.isJSDocParameterTag(i))&&(P.nodeIsMissing(i.name)||i.name.pos<=p&&p<=i.name.end)?{kind:"JsDocParameterName",tag:i}:t)return{symbols:void 0,isGlobalCompletion:!1,isMemberCompletion:!1,allowStringLiteral:!1,isNewIdentifierLocation:!1,location:void 0,isRightOfDot:!1,request:t,keywordFilters:0,symbolToOriginInfoMap:void 0};if(!_)return void e("Returning an empty list because completion was inside a regular comment or plain text part of a JsDoc comment.")}var r=P.timestamp(),m=P.findPrecedingToken(p,d,void 0,_),g=(e("getCompletionData: Get previous token 1: "+(P.timestamp()-r)),m),h=(g&&p<=g.end&&P.isWord(g.kind)&&(i=P.timestamp(),g=P.findPrecedingToken(g.getFullStart(),d,void 0,_),e("getCompletionData: Get previous token 2: "+(P.timestamp()-i))),n),r=!1,a=!1,o=!1,y=P.getTouchingPropertyName(d,p,_);if(g){if(i=g,n=P.timestamp(),i=(e=>{if(9===e.kind||12===e.kind||P.isTemplateLiteralKind(e.kind)){var t=e.getStart(),r=e.getEnd();if(t<p&&p<r)return!0;if(p===r)return!!e.isUnterminated||12===e.kind}return!1})(i)||(e=>{var t=e.parent.kind;switch(e.kind){case 26:return 226===t||227===t||208===t||232===t||N(t)||230===t||175===t||231===t||P.isClassLike(e.parent)&&e.parent.typeParameters&&e.parent.typeParameters.end>=e.pos;case 23:return 175===t;case 56:return 176===t;case 21:return 175===t;case 19:return 260===t||N(t);case 17:return 232===t||230===t||163===t;case 25:return 148===t&&e.parent&&e.parent.parent&&(230===e.parent.parent.kind||163===e.parent.parent.kind);case 27:return 229===t||199===t||230===t||231===t||P.isFunctionLikeKind(t);case 115:return 149===t&&!P.isClassLike(e.parent.parent);case 24:return 146===t||e.parent&&e.parent.parent&&175===e.parent.parent.kind;case 114:case 112:case 113:return 146===t&&!P.isConstructorDeclaration(e.parent.parent);case 118:return 242===t||246===t||240===t;case 125:case 135:if(A(e))return!1;case 75:case 83:case 109:case 89:case 104:case 91:case 110:case 76:case 116:case 138:return!0}if(j(e.getText())&&A(e))return!1;if(w(e)&&(!P.isIdentifier(e)||z(e.getText())||I(e)))return!1;switch(e.getText()){case"abstract":case"async":case"class":case"const":case"declare":case"enum":case"function":case"interface":case"let":case"private":case"protected":case"public":case"static":case"var":case"yield":return!0}return P.isDeclarationName(e)&&!P.isJsxAttribute(e.parent)})(i)||(e=>8===e.kind&&"."===(e=e.getFullText()).charAt(e.length-1))(i)||(e=>{if(10===e.kind)return!0;if(29===e.kind&&e.parent){if(251===e.parent.kind)return!0;if(252===e.parent.kind||250===e.parent.kind)return e.parent.parent&&249===e.parent.parent.kind}return!1})(i),e("getCompletionsAtPosition: isCompletionListBlocker: "+(P.timestamp()-n)),i)return void e("Returning an empty list because completion was requested in an invalid position.");var c=g.parent;if(23===g.kind){if(179===c.kind)h=g.parent.expression;else{if(143!==c.kind)return;h=g.parent.left}r=!0}else if(1===d.languageVariant)switch((c=c&&179===c.kind?(g=c).parent:c).kind){case 252:41===g.kind&&(o=!0,y=g);break;case 194:if(!(32768&c.left.flags))break;case 250:case 249:case 251:27===g.kind&&(a=!0,y=g)}}var n=P.timestamp(),v=!1,b=!1,x=0,k=[],S=[];if(r)(()=>{C=v=!(T=!0);var e=_||P.isPartOfTypeNode(h.parent),t=P.isInRightSideOfInternalImportEqualsDeclaration(h);if(P.isEntityName(h)){var r=u.getSymbolAtLocation(h);if(r&&1920&(r=P.skipAlias(r,u)).flags){for(var n=u.getExportsOfModule(r),i=function(e){return u.isValidPropertyAccess(h.parent,e.name)},a=D,s=t?function(e){return a(e)||i(e)}:e?a:i,o=0,c=n;o<c.length;o++){var l=c[o];s(l)&&k.push(l)}return!e&&r.declarations.some(function(e){return 265!==e.kind&&233!==e.kind&&232!==e.kind})&&E(u.getTypeOfSymbolAtLocation(r,h))}}e||E(u.getTypeAtLocation(h))})();else if(a)var i=u.getJsxIntrinsicTagNames(),k=l()?i.concat(k.filter(function(e){return!!(2204607&e.flags)})):i,T=!0,C=!1;else if(o){i=g.parent.parent.openingElement.tagName,i=u.getSymbolAtLocation(i);u.isUnknownSymbol(i)||(k=[i]),C=!(T=!0)}else if(!l())return;return e("getCompletionData: Semantic work: "+(P.timestamp()-n)),{symbols:k,isGlobalCompletion:v,isMemberCompletion:T,allowStringLiteral:b,isNewIdentifierLocation:C,location:y,isRightOfDot:r||a,request:t,keywordFilters:x,symbolToOriginInfoMap:S};function E(e){for(var t=0,r=e.getApparentProperties();t<r.length;t++){var n=r[t];u.isValidPropertyAccess(h.parent,n.name)&&k.push(n)}if(s&&65536&e.flags)for(var i=0,a=e.types;i<a.length;i++)E(a[i])}function l(){if(a=(e=>{if(e)switch(e.kind){case 17:case 26:var t=e.parent;if(P.isObjectLiteralExpression(t)||P.isObjectBindingPattern(t))return t}})(g)){if(b=T=!0,178===a.kind){if(C=!0,!(t=u.getContextualType(a)))return;n=((e,t)=>{var r;return 65536&e.flags?(r=e.types.filter(function(e){return!(8190&e.flags||t.isArrayLikeType(e))}),t.getAllPossiblePropertiesOfTypes(r)):t.getPropertiesOfType(e)})(t,u),i=a.properties}else{P.Debug.assert(174===a.kind),C=!1;var e=P.getRootDeclaration(a.parent);if(!P.isVariableLike(e))throw P.Debug.fail("Root declaration is not variable-like.");var t,r=e.initializer||e.type||216===e.parent.parent.kind;if(r||146!==e.kind||(P.isExpression(e.parent)?r=!!u.getContextualType(e.parent):151!==e.parent.kind&&154!==e.parent.kind||(r=P.isExpression(e.parent.parent)&&!!u.getContextualType(e.parent.parent))),r){if(!(t=u.getTypeAtLocation(a)))return;n=u.getPropertiesOfType(t).filter(function(e){return!(24&P.getDeclarationModifierFlagsFromSymbol(e))}),i=a.elements}}n&&0<n.length&&(k=((e,t)=>{if(!t||0===t.length)return e;for(var r=P.createUnderscoreEscapedMap(),n=0,i=t;n<i.length;n++){var a,s=i[n];261!==s.kind&&262!==s.kind&&176!==s.kind&&151!==s.kind&&153!==s.kind&&154!==s.kind||I(s)||(a=void 0,176===s.kind&&s.propertyName?71===s.propertyName.kind&&(a=s.propertyName.escapedText):(s=P.getNameOfDeclaration(s),a=P.getEscapedTextOfIdentifierOrLiteral(s)),r.set(a,!0))}return P.filter(e,function(e){return!r.get(e.escapedName)})})(n,i))}else{if(e=(e=>{if(e)switch(e.kind){case 17:case 26:switch(e.parent.kind){case 241:case 245:return e.parent}}})(g))return t=241===(r=e).kind?238:244,(t=P.getAncestor(r,t).moduleSpecifier)&&(C=!(T=!0),t=u.getSymbolAtLocation(t),k=t?((e,t)=>{for(var r=P.createUnderscoreEscapedMap(),n=0,i=t;n<i.length;n++){var a=i[n];I(a)||(a=a.propertyName||a.name,r.set(a.escapedText,!0))}return 0!==r.size?P.filter(e,function(e){return"default"!==e.escapedName&&!r.get(e.escapedName)}):P.filter(e,function(e){return"default"!==e.escapedName})})(t=u.getExportsAndPropertiesOfModule(t),r.elements):P.emptyArray,1);if((e=>{if(e)switch(e.kind){case 19:case 26:return P.isConstructorDeclaration(e.parent)&&e.parent;default:if(w(e))return e.parent.parent}})(g))return C=!(T=!1),x=2;if(a=(e=>{if(e)switch(e.kind){case 17:case 26:if(P.isClassLike(e.parent))return e.parent;break;case 25:case 18:if(P.isClassLike(y))return y;if(A(y)&&y.parent.name===y)return y.parent.parent;break;default:if(A(e)&&(B(e.kind)||j(e.getText())))return e.parent.parent}if(y&&286===y.kind&&P.isClassLike(y.parent))return y.parent})(g)){var n=a,i=(C=T=!0,x=1,P.getClassExtendsHeritageClauseElement(n)),a=P.getClassImplementsHeritageClauseElements(n);if(i||a){var s=g.parent,o=P.isClassElement(s)&&P.getModifierFlags(s);if(71===g.kind&&!I(g))switch(g.getText()){case"private":o|=8;break;case"static":o|=32}8&o||(s=void 0,i&&(s=u.getTypeAtLocation(i),32&o)&&(s=u.getTypeOfSymbolAtLocation(s.symbol,n)),i=32&o?P.emptyArray:P.flatMap(a||P.emptyArray,function(e){return u.getPropertiesOfType(u.getTypeAtLocation(e))}),k=((e,t,r,n)=>{for(var o=P.createUnderscoreEscapedMap(),i=0,a=r;i<a.length;i++){var s,c,l=a[i];149!==l.kind&&151!==l.kind&&153!==l.kind&&154!==l.kind||I(l)||P.hasModifier(l,8)||(c=P.hasModifier(l,32),s=!!(32&n),c&&!s)||!c&&s||(c=P.getPropertyNameForPropertyNameNode(l.name))&&o.set(c,!0)}var u=[];return d(e,8),d(t,24),u;function d(e,t){for(var r,n,i=0,a=e;i<a.length;i++){var s=a[i];r=s,n=t,o.get(r.escapedName)||!r.getDeclarations()||P.getDeclarationModifierFlagsFromSymbol(r)&n||u.push(s)}}})(s?u.getPropertiesOfType(s):P.emptyArray,i,n.members,o))}}else{if(a=(e=>{if(e){var t=e.parent;switch(e.kind){case 28:case 41:case 71:case 179:case 254:case 253:case 255:if(t&&(250===t.kind||251===t.kind))return t;if(253===t.kind)return t.parent.parent;break;case 9:if(!t||253!==t.kind&&255!==t.kind)break;return t.parent.parent;case 18:if(t&&256===t.kind&&t.parent&&253===t.parent.kind)return t.parent.parent.parent;if(t&&255===t.kind)return t.parent.parent}}})(g))if((250===a.kind||251===a.kind)&&(s=u.getAllAttributesTypeFromJsxOpeningLikeElement(a)))return k=((e,t)=>{for(var r=P.createUnderscoreEscapedMap(),n=0,i=t;n<i.length;n++){var a=i[n];I(a)||253===a.kind&&r.set(a.name.escapedText,!0)}return P.filter(e,function(e){return!r.get(e.escapedName)})})(u.getPropertiesOfType(s),a.attributes.properties),C=!(T=!0),1;T=!1,C=(e=>{if(e){var t=e.parent.kind;switch(e.kind){case 26:return 181===t||152===t||182===t||177===t||194===t||160===t;case 19:return 181===t||152===t||182===t||185===t||168===t;case 21:return 177===t||157===t||144===t;case 128:case 129:return!0;case 23:return 233===t;case 17:return 229===t;case 58:return 226===t||194===t;case 14:return 196===t;case 15:return 205===t;case 114:case 112:case 113:return 149===t}switch(e.getText()){case"public":case"protected":case"private":return!0}}return!1})(g),m!==g&&P.Debug.assert(!!m,"Expected 'contextToken' to be defined when different from 'previousToken'.");var c,l,a=m!==g?m.getStart():p,a=((e,t,r)=>{for(var n=e;n&&!P.positionBelongsToNode(n,t,r);)n=n.parent;return n})(g,a,d)||d;a&&(v=265===a.kind||196===a.kind||256===a.kind||P.isStatement(a));k=u.getSymbolsInScope(a,2998271),c=k,a=m&&P.isIdentifier(m)?m.text:"",l=a.toLowerCase(),P.codefix.forEachExternalModule(u,f,function(e){if(e!==d.symbol)for(var t=0,r=u.getExportsOfModule(e);t<r.length;t++){var n,i=r[t],a=i.name,s="default"===a;s&&(n=P.getLocalSymbolForExportDefault(i))&&(a=(i=n).name),i.declarations&&i.declarations.some(function(e){return P.isExportSpecifier(e)&&!!e.parent.parent.moduleSpecifier})||((e,t)=>{if(0===t.length)return 1;for(var r=0,n=0;n<e.length;n++)if(e.charCodeAt(n)===t.charCodeAt(r)&&++r===t.length)return 1})(a.toLowerCase(),l)&&(c.push(i),S[P.getSymbolId(i)]={moduleSymbol:e,isDefaultExport:s})}}),a=k,P.filterMutate(a,function(e){if(!P.isSourceFile(y)){if(P.isExportAssignment(y.parent))return!0;if(e&&2097152&e.flags&&(e=u.getAliasedSymbol(e)),P.isInRightSideOfInternalImportEqualsDeclaration(y))return!!(1920&e.flags);if(_||(!(t=g)||103!==t.kind||162!==t.parent.kind)&&(P.isPartOfTypeNode(y)||(e=>{if(e){var t=e.parent.kind;switch(e.kind){case 56:return 149===t||148===t||146===t||226===t||P.isFunctionLikeKind(t);case 58:return 231===t;case 118:return 202===t}}})(g)))return D(e)}var t;return!!(107455&P.getCombinedLocalAndExportSymbolFlags(e))})}}return 1}function D(e){return e=e.exportSymbol||e,!!(793064&(e=P.skipAlias(e,u)).flags)||(1536&e.flags?(e=u.getExportsOfModule(e),P.forEach(e,D)):void 0)}function A(e){return P.isClassElement(e.parent)&&P.isClassLike(e.parent.parent)}function w(e){return e.parent&&(t=e.parent,P.isParameter(t))&&P.isConstructorDeclaration(t.parent)&&(K(e.kind)||P.isDeclarationName(e));var t}function N(e){return P.isFunctionLikeKind(e)&&152!==e}function I(e){return e.getStart()<=p&&p<=e.getEnd()}}function y(e,t,r,n){var i=e.name;if(i){if(1920&e.flags){e=i.charCodeAt(0);if(P.isSingleOrDoubleQuote(e))return}return M(i,t,r,n)}}function M(e,t,r,n){return r&&!P.isIdentifierText(e,t)?n?JSON.stringify(e):void 0:e}function U(e){var t=n[e];return t||(n[e]=(e=>{switch(e){case 0:return(()=>{for(var e=[],t=72;t<=142;t++)e.push({name:P.tokenToString(t),kind:"keyword",kindModifiers:"",sortText:"0"});return e})();case 1:return r(j);case 2:return r(z)}})(e));function r(t){return P.filter(U(0),function(e){return t(e.name)})}}function B(e){switch(e){case 114:case 113:case 112:case 117:case 115:case 123:case 131:case 125:case 135:case 120:return!0}}function j(e){return B(P.stringToToken(e))}function K(e){switch(e){case 114:case 112:case 113:case 131:return!0}}function z(e){return K(P.stringToToken(e))}(I=P.Completions||(P.Completions={})).getCompletionsAtPosition=function(e,t,r,n,i,a,s){if(P.isInReferenceComment(i,a))return I.PathCompletions.getTripleSlashReferenceCompletion(i,a,n,e);if(P.isInString(i,a)){var o=i,c=a,l=t,u=n,d=r,p=P.findPrecedingToken(c,o);if(p&&9===p.kind)if(261===p.parent.kind&&178===p.parent.parent.kind&&p.parent.name===p){var f=p.parent;var _=l;var m=u.target;var g=d;var h=_.getContextualType(f.parent),y=[];if(h&&(O(h.getApparentProperties(),y,f,!1,_,m,g,!0),y.length))return{isGlobalCompletion:!1,isMemberCompletion:!0,isNewIdentifierLocation:!0,entries:y};return}else if(P.isElementAccessExpression(p.parent)&&p.parent.argumentExpression===p){h=p.parent;f=l;_=u.target;m=d;g=f.getTypeAtLocation(h.expression),y=[];if(g&&(O(g.getApparentProperties(),y,h,!1,f,_,m,!0),y.length))return{isGlobalCompletion:!1,isMemberCompletion:!0,isNewIdentifierLocation:!0,entries:y};return}else if(238===p.parent.kind||P.isExpressionOfExternalModuleImportEqualsDeclaration(p)||P.isRequireCall(p.parent,!1))return I.PathCompletions.getStringLiteralCompletionEntriesFromModuleNames(p,u,e,l);else if((e=>P.isBinaryExpression(e)&&(e=>32===e||33===e||34===e||35===e)(e.operatorToken.kind))(p.parent))return F(l.getTypeAtLocation(p.parent.left===p?p.parent.right:p.parent.left),l);else if(P.isCaseOrDefaultClause(p.parent))return F(l.getTypeAtLocation(p.parent.parent.parent.expression),l);else if(d=P.SignatureHelp.getImmediatelyContainingArgumentInfo(p,c,o)){var v=d;var b=l;var u=[],x=[],k=P.createMap();b.getResolvedSignature(v.invocation,u,v.argumentCount);for(var S=0,T=u;S<T.length;S++){var C=T[S];L(b.getParameterType(C,v.argumentIndex),x,b,k)}if(x.length)return{isGlobalCompletion:!1,isMemberCompletion:!1,isNewIdentifierLocation:!0,entries:x};return}else return F(l.getContextualType(p),l)}else{e=R(t,r,i,a,s);if(e){c=e.symbols,o=e.isGlobalCompletion,d=e.isMemberCompletion,u=e.allowStringLiteral,p=e.isNewIdentifierLocation,l=e.location,a=e.request,s=e.keywordFilters,e=e.symbolToOriginInfoMap;if(1===i.languageVariant&&l&&l.parent&&252===l.parent.kind)return{isGlobalCompletion:!1,isMemberCompletion:!0,isNewIdentifierLocation:!1,entries:[{name:l.parent.parent.openingElement.tagName.getFullText(),kind:"class",kindModifiers:void 0,sortText:"0"}]};if(a)return{isGlobalCompletion:!1,isMemberCompletion:!1,isNewIdentifierLocation:!1,entries:"JsDocTagName"===a.kind?P.JsDoc.getJSDocTagNameCompletions():"JsDocTag"===a.kind?P.JsDoc.getJSDocTagCompletions():P.JsDoc.getJSDocParameterNameCompletions(a.tag)};var E,D,A,w,a=[];if(P.isSourceFileJavaScript(i)){var N=O(c,a,l,!0,t,n.target,r,u,e);E=l.pos,D=N,A=n.target,w=a,P.getNameTable(i).forEach(function(e,t){var r;e!==E&&(e=P.unescapeLeadingUnderscores(t),!D.has(e))&&(D.set(e,!0),r=M(e,A,!0,!1))&&w.push({name:r,kind:"warning",kindModifiers:"",sortText:"1"})})}else{if((!c||0===c.length)&&0===s)return;O(c,a,l,!0,t,n.target,r,u,e)}return 0===s&&d||P.addRange(a,U(s)),{isGlobalCompletion:o,isMemberCompletion:d,isNewIdentifierLocation:p,entries:a}}}},I.getCompletionEntryDetails=function(e,t,r,n,i,a,s,o,c){var l=a.name,u=a.source;return(t=d(e,t,r,n,i,a,s))?(i=t.symbol,a=t.location,s=((e,t,r,n,i,a,s)=>{var o;if(e=e[P.getSymbolId(t)])return o=e.moduleSymbol,e=e.isDefaultExport,P.codefix.getCodeActionForImport(o,{host:n,checker:r,newLineCharacter:n.getNewLine(),compilerOptions:i,sourceFile:a,rulesProvider:s,symbolName:t.name,getCanonicalFileName:P.createGetCanonicalFileName(!!n.useCaseSensitiveFileNames&&n.useCaseSensitiveFileNames()),symbolToken:void 0,kind:e?1:0})})(t.symbolToOriginInfoMap,i,e,o,r,n,c),t=P.SymbolDisplay.getSymbolModifiers(i),r=(o=P.SymbolDisplay.getSymbolDisplayPartsDocumentationAndSymbolKind(e,i,n,a,a,7)).displayParts,{name:l,kindModifiers:t,kind:o.symbolKind,displayParts:r,documentation:o.documentation,tags:o.tags,codeActions:s,source:void 0===u?void 0:[P.textPart(u)]}):void 0===u&&P.some(U(0),function(e){return e.name===l})?{name:l,kind:"keyword",kindModifiers:"",displayParts:[P.displayPart(l,P.SymbolDisplayPartKind.keyword)],documentation:void 0,tags:void 0,codeActions:void 0,source:void 0}:void 0},I.getCompletionEntrySymbol=function(e,t,r,n,i,a,s){return(e=d(e,t,r,n,i,a,s))&&e.symbol},n=[]})(ts=ts||{}),(u=>{function d(e,t){return{fileName:t.fileName,textSpan:u.createTextSpanFromNode(e,t),kind:"none"}}function p(e,t){return void 0!==e&&e.kind===t}function s(e){return e&&e.parent}function o(e){var n=[];return function e(t){{var r;223===t.kind?n.push(t):224===t.kind?((r=t).catchClause?e(r.catchClause):e(r.tryBlock),r.finallyBlock&&e(r.finallyBlock)):u.isFunctionLike(t)||u.forEachChild(t,e)}}(e),n}function a(e){var r=[];return function e(t){218===t.kind||217===t.kind?r.push(t):u.isFunctionLike(t)||u.forEachChild(t,e)}(e),r}function c(e,t){t=l(t);return t&&t===e}function l(e){for(var t=e.parent;t;t=t.parent)switch(t.kind){case 221:if(217===e.kind)continue;case 214:case 215:case 216:case 213:case 212:if(!e.label||((e,t)=>{for(var r=e.parent;222===r.kind;r=r.parent)if(r.label.escapedText===t)return 1})(t,e.label.text))return t;break;default:if(u.isFunctionLike(t))return}}function f(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return!(!t||!u.contains(r,t.kind)||(e.push(t),0))}function _(t){var r=[];if(f(r,t.getFirstToken(),88,106,81)&&212===t.kind)for(var e=t.getChildren(),n=e.length-1;0<=n&&!f(r,e[n],106);n--);var i=a(t.statement);return u.forEach(i,function(e){c(t,e)&&f(r,e.getFirstToken(),72,77)}),r}function m(t){var r=[];return f(r,t.getFirstToken(),98),u.forEach(t.caseBlock.clauses,function(e){f(r,e.getFirstToken(),73,79);e=a(e);u.forEach(e,function(e){c(t,e)&&f(r,e.getFirstToken(),72)})}),r}(u.DocumentHighlights||(u.DocumentHighlights={})).getDocumentHighlights=function(e,t,r,n,i){var a,n=u.getTouchingWord(r,n,!0);if(n!==r)return u.Debug.assert(void 0!==n.parent),u.isJsxOpeningElement(n.parent)&&n.parent.tagName===n||u.isJsxClosingElement(n.parent)?(a=[(a=n.parent.parent).openingElement,a.closingElement].map(function(e){return d(e.tagName,r)}),[{fileName:r.fileName,highlightSpans:a}]):((e,t,r,n)=>(e=u.FindAllReferences.getReferenceEntriesForNode(e,t,n,r))&&(e=>{for(var t=u.createMap(),r=0,n=e;r<n.length;r++){var i=n[r],i=u.FindAllReferences.toHighlightSpan(i),a=i.fileName,i=i.span,s=t.get(a);s||t.set(a,s=[]),s.push(i)}return u.arrayFrom(t.entries(),function(e){return{fileName:e[0],highlightSpans:e[1]}})})(e))(n,e,t,i)||((e,t)=>{if((e=((e,t)=>{if(e)switch(e.kind){case 90:case 82:if(p(e.parent,211))return((e,t)=>{for(var r=[];p(e.parent,211)&&e.parent.elseStatement===e;)e=e.parent;for(;e;){var n=e.getChildren();f(r,n[0],90);for(var i=n.length-1;0<=i&&!f(r,n[i],82);i--);if(!p(e.elseStatement,211))break;e=e.elseStatement}for(var a=[],i=0;i<r.length;i++){if(82===r[i].kind&&i<r.length-1){for(var s=r[i],o=r[i+1],c=!0,l=o.getStart()-1;l>=s.end;l--)if(!u.isWhiteSpaceSingleLine(t.text.charCodeAt(l))){c=!1;break}if(c){a.push({fileName:t.fileName,textSpan:u.createTextSpanFromBounds(s.getStart(),o.end),kind:"reference"}),i++;continue}}a.push(d(r[i],t))}return a})(e.parent,t);break;case 96:if(p(e.parent,219))return n((e=>{var t;if((e=u.getContainingFunction(e))&&p(e.body,207))return t=[],u.forEachReturnStatement(e.body,function(e){f(t,e.getFirstToken(),96)}),u.forEach(o(e.body),function(e){f(t,e.getFirstToken(),100)}),t})(e.parent));break;case 100:if(p(e.parent,223))return n((e=>{var t;if(e=(e=>{for(var t=e;t.parent;){var r=t.parent;if(u.isFunctionBlock(r)||265===r.kind)return r;if(224===r.kind){var n=r;if(n.tryBlock===t&&n.catchClause)return t}t=r}})(e))return t=[],u.forEach(o(e),function(e){f(t,e.getFirstToken(),100)}),u.isFunctionBlock(e)&&u.forEachReturnStatement(e,function(e){f(t,e.getFirstToken(),96)}),t})(e.parent));break;case 102:case 74:case 87:var r=74===e.kind?s(s(e)):s(e);if(p(r,224))return n(((e,t)=>{var r=[];return f(r,e.getFirstToken(),102),e.catchClause&&f(r,e.catchClause.getFirstToken(),74),e.finallyBlock&&(e=u.findChildOfKind(e,87,t),f(r,e,87)),r})(r,t));break;case 98:if(p(e.parent,221))return n(m(e.parent));break;case 73:case 79:if(p(s(s(s(e))),221))return n(m(e.parent.parent.parent));break;case 72:case 77:if(p(e.parent,218)||p(e.parent,217))return n((e=>{var t=l(e);if(t)switch(t.kind){case 214:case 215:case 216:case 212:case 213:return _(t);case 221:return m(t)}})(e.parent));break;case 88:if(p(e.parent,214)||p(e.parent,215)||p(e.parent,216))return n(_(e.parent));break;case 106:case 81:if(p(e.parent,213)||p(e.parent,212))return n(_(e.parent));break;case 123:if(p(e.parent,152))return n((e=>{var e=e.symbol.getDeclarations(),t=[];return u.forEach(e,function(e){u.forEach(e.getChildren(),function(e){return f(t,e,123)})}),t})(e.parent));break;case 125:case 135:if(p(e.parent,153)||p(e.parent,154))return n((e=>{var r=[];return t(e.symbol,153),t(e.symbol,154),r;function t(e,t){e=u.getDeclarationOfKind(e,t);e&&u.forEach(e.getChildren(),function(e){return f(r,e,125,135)})}})(e.parent));break;default:if(u.isModifierKind(e.kind)&&e.parent&&(u.isDeclaration(e.parent)||208===e.parent.kind))return n(((t,e)=>{var r;if(((e,t)=>{var r=t.parent;switch(e){case 112:case 113:case 114:switch(r.kind){case 229:case 199:return 1;case 152:return 146===t.kind;default:return}case 115:return 229===r.kind||199===r.kind;case 84:case 124:return 234===r.kind||265===r.kind;case 117:return 229===r.kind||229===t.kind;default:return}})(t,e))return r=u.modifierToFlag(t),u.mapDefined(((e,t)=>{var r=e.parent;switch(r.kind){case 234:case 265:case 207:case 257:case 258:return 128&t?e.members.concat([e]):r.statements;case 152:return r.parameters.concat(r.parent.members);case 229:case 199:var n=r.members;if(28&t){var i=u.find(r.members,u.isConstructorDeclaration);if(i)return n.concat(i.parameters)}else if(128&t)return n.concat([r]);return n;default:u.Debug.fail("Invalid container kind.")}})(e,r),function(e){if(u.getModifierFlags(e)&r)return e=u.find(e.modifiers,function(e){return e.kind===t}),u.Debug.assert(!!e),e})})(e.kind,e.parent))}function n(e){return e&&e.map(function(e){return d(e,t)})}})(e,t))&&0!==e.length)return[{fileName:t.fileName,highlightSpans:e}]})(n,r)}})(ts=ts||{}),(p=>{p.createDocumentRegistry=function(e,a){void 0===a&&(a="");var n=p.createMap(),s=p.createGetCanonicalFileName(!!e);function o(e){return"_"+e.target+"|"+e.module+"|"+e.noResolve+"|"+e.jsx+"|"+e.allowJs+"|"+e.baseUrl+"|"+JSON.stringify(e.typeRoots)+"|"+JSON.stringify(e.rootDirs)+"|"+JSON.stringify(e.paths)}function l(e,t){var r=n.get(e);return!r&&t&&n.set(e,r=p.createMap()),r}function c(e,t,r,n,i,a,s){return d(e,t,r,n,i,a,!0,s)}function u(e,t,r,n,i,a,s){return d(e,t,r,n,i,a,!1,s)}function d(e,t,r,n,i,a,s,o){var n=l(n,!0),c=n.get(t);return c?(c.sourceFile.version!==a&&(c.sourceFile=p.updateLanguageServiceSourceFile(c.sourceFile,i,a,i.getChangeRange(c.sourceFile.scriptSnapshot))),s&&c.languageServiceRefCount++):(c={sourceFile:p.createLanguageServiceSourceFile(e,i,r.target,a,!1,o),languageServiceRefCount:1,owners:[]},n.set(t,c)),c.sourceFile}function r(e,t){var t=l(t,!1),r=(p.Debug.assert(void 0!==t),t.get(e));r.languageServiceRefCount--,p.Debug.assert(0<=r.languageServiceRefCount),0===r.languageServiceRefCount&&t.delete(e)}return{acquireDocument:function(e,t,r,n,i){return c(e,p.toPath(e,a,s),t,o(t),r,n,i)},acquireDocumentWithKey:c,updateDocument:function(e,t,r,n,i){return u(e,p.toPath(e,a,s),t,o(t),r,n,i)},updateDocumentWithKey:u,releaseDocument:function(e,t){return r(p.toPath(e,a,s),o(t))},releaseDocumentWithKey:r,reportStats:function(){var e=p.arrayFrom(n.keys()).filter(function(e){return e&&"_"===e.charAt(0)}).map(function(e){var t=n.get(e),r=[];return t.forEach(function(e,t){r.push({name:t,refCount:e.languageServiceRefCount,references:e.owners.slice(0)})}),r.sort(function(e,t){return t.refCount-e.refCount}),{bucket:e,sourceFiles:r}});return JSON.stringify(e,void 0,2)},getKeyForCompilationSettings:o}}})(ts=ts||{}),(k=>{var e,t;function S(e,t){return k.forEach((265===e.kind?e:e.body).statements,function(e){return t(e)||n(e)&&k.forEach(e.body&&e.body.statements,t)})}function m(e,n){if(e.externalModuleIndicator||void 0!==e.imports)for(var t=0,r=e.imports;t<r.length;t++){var i=r[t];n((e=>{var t=e.parent;switch(t.kind){case 181:case 238:case 244:return t;case 248:return t.parent;default:k.Debug.fail("Unexpected module specifier parent: "+t.kind)}})(i),i)}else S(e,function(e){switch(e.kind){case 244:case 238:(t=e).moduleSpecifier&&9===t.moduleSpecifier.kind&&n(t,t.moduleSpecifier);break;case 237:var t,r=(t=e).moduleReference;248===r.kind&&9===r.expression.kind&&n(t,r.expression)}})}function r(e,t,r){r=r.getMergedSymbol(e.parent);return k.isExternalModuleSymbol(r)?{exportingModuleSymbol:r,exportKind:t}:void 0}function T(e){return"default"!==e.escapedName?e.escapedName:k.forEach(e.declarations,function(e){e=k.getNameOfDeclaration(e);return e&&71===e.kind&&e.escapedText})}function C(e,t){return t.getMergedSymbol(E(e).symbol)}function E(e){return 181===e.kind?e.getSourceFile():265===(e=e.parent).kind?e:(k.Debug.assert(234===e.kind&&n(e.parent)),e.parent)}function n(e){return 233===e.kind&&9===e.name.kind}function D(e){e=e.moduleReference;return 248===e.kind&&9===e.expression.kind}(e=k.FindAllReferences||(k.FindAllReferences={})).createImportTracker=function(y,v,b){var x=((e,n,t)=>{for(var i=k.createMap(),r=0,a=e;r<a.length;r++){var s=a[r];t.throwIfCancellationRequested(),m(s,function(e,t){var r,t=n.getSymbolAtLocation(t);t&&(t=k.getSymbolId(t).toString(),(r=i.get(t))||i.set(t,r=[]),r.push(e))})}return i})(y,v,b);return function(e,t,r){n=y,i=x,o=v,s=b,a=t.exportingModuleSymbol,c=t.exportKind,l=k.nodeSeenTracker(),u=k.nodeSeenTracker(),d=[],p=!!a.globalExports,f=p?void 0:[],function e(t){t=h(t);if(t)for(var r=0,n=t;r<n.length;r++){var i=n[r];if(l(i))switch(s.throwIfCancellationRequested(),i.kind){case 181:if(!p){var a=i.parent;if(2===c&&226===a.kind){a=a.name;if(71===a.kind){d.push(a);break}}g(i.getSourceFile())}break;case 237:m(i,i.name,k.hasModifier(i,1));break;case 238:a=i.importClause&&i.importClause.namedBindings;a&&240===a.kind?m(i,a.name):d.push(i);break;case 244:i.exportClause?d.push(i):e(C(i,o))}}}(a);var n,i,o,s,a,c,l,u,d,p,f,_={directImports:d,indirectUsers:(()=>{if(p)return n;for(var e=0,t=a.declarations;e<t.length;e++){var r=t[e];k.isExternalModuleAugmentation(r)&&g(r)}return f.map(k.getSourceFileOfNode)})()};function m(e,t,r){var a,s;2===c?d.push(e):p||(e=E(e),k.Debug.assert(265===e.kind||233===e.kind),(r||(r=e,s=(a=o).getSymbolAtLocation(t),S(r,function(e){if(244===e.kind){var t=e.exportClause,e=e.moduleSpecifier;if(!e&&t)for(var r=0,n=t.elements;r<n.length;r++){var i=n[r];if(a.getExportSpecifierLocalTargetSymbol(i)===s)return!0}}}))?function e(t){if(!g(t))return;t=o.getMergedSymbol(t.symbol);k.Debug.assert(!!(1536&t.flags));t=h(t);if(t)for(var r=0,n=t;r<n.length;r++){var i=n[r];e(E(i))}}:g)(e))}function g(e){k.Debug.assert(!p);var t=u(e);return t&&f.push(e),t}function h(e){return i.get(k.getSymbolId(e).toString())}return __assign({indirectUsers:_.indirectUsers},((e,t,r,s,o)=>{var n,i,a=[],c=[];function l(e,t){a.push([e,t])}if(e)for(var u=0,d=e;u<d.length;u++){p=void 0;n=void 0;i=void 0;var p=d[u];237===p.kind?D(p)&&f(p.name):71===p.kind?f(p):9===p.moduleSpecifier.kind&&(244===p.kind?_(p.exportClause):(p=p.importClause)&&((n=p.namedBindings)&&240===n.kind?f(n.name):0!==r&&(!(p=p.name)||o&&p.escapedText!==T(t)||(i=s.getSymbolAtLocation(p),l(p,i)),o||1!==r)||_(n)))}return{importSearches:a,singleReferences:c};function f(e){2!==r||o&&!m(e.escapedText)||l(e,s.getSymbolAtLocation(e))}function _(e){if(e)for(var t=0,r=e.elements;t<r.length;t++){var n=r[t],i=n.name,a=n.propertyName;m((a||i).escapedText)&&(a?(c.push(a),o||l(i,s.getSymbolAtLocation(i))):l(i,246===n.kind&&n.propertyName?s.getExportSpecifierLocalTargetSymbol(n):s.getSymbolAtLocation(i)))}}function m(e){return e===t.escapedName||0!==r&&"default"===e}})(_.directImports,e,t.exportKind,v,r))}},(t=e.ExportKind||(e.ExportKind={}))[t.Named=0]="Named",t[t.Default=1]="Default",t[t.ExportEquals=2]="ExportEquals",(t=e.ImportExport||(e.ImportExport={}))[t.Import=0]="Import",t[t.Export=1]="Export",e.findModuleReferences=function(e,t,r){for(var n=[],i=e.getTypeChecker(),a=0,s=t;a<s.length;a++){var o=s[a],c=r.valueDeclaration;if(265===c.kind){for(var l=0,u=o.referencedFiles;l<u.length;l++){var d=u[l];e.getSourceFileFromReference(o,d)===c&&n.push({kind:"reference",referencingFile:o,ref:d})}for(var p=0,f=o.typeReferenceDirectives;p<f.length;p++){var d=f[p],_=e.getResolvedTypeReferenceDirectives().get(d.fileName);void 0!==_&&_.resolvedFileName===c.fileName&&n.push({kind:"reference",referencingFile:o,ref:d})}}m(o,function(e,t){i.getSymbolAtLocation(t)===r&&n.push({kind:"import",literal:t})})}return n},e.getImportOrExportSymbol=function(i,a,s,o){return o?e():e()||(()=>{var e,t,r=(e=>{var t=e.parent;switch(t.kind){case 237:return t.name===e&&D(t)?{isNamedImport:!1}:void 0;case 242:return t.propertyName?void 0:{isNamedImport:!0};case 239:case 240:return k.Debug.assert(t.name===e),{isNamedImport:!1};default:return}})(i);return r&&(e=s.getImmediateAliasedSymbol(a))&&(void 0===(t=T(e="export="===(e=((e,t)=>{if(e.declarations)for(var r=0,n=e.declarations;r<n.length;r++){var i=n[r];if(k.isExportSpecifier(i)&&!i.propertyName&&!i.parent.parent.moduleSpecifier)return t.getExportSpecifierLocalTargetSymbol(i)}return e})(e,s)).escapedName?((e,t)=>2097152&e.flags?t.getImmediateAliasedSymbol(e):(t=e.valueDeclaration,k.isExportAssignment(t)?t.expression.symbol:k.isBinaryExpression(t)?t.right.symbol:void k.Debug.fail()))(e,s):e))||"default"===t||t===a.escapedName)?__assign({kind:0,symbol:e},r):void 0})();function e(){var e,t=i.parent;return a.exportSymbol?179===t.kind?a.declarations.some(function(e){return e===t})&&k.isBinaryExpression(t.parent)?n(t.parent,!1):void 0:c(a.exportSymbol,l(t)):(e=((e,t)=>{var r;return 226===e.kind?(r=e).name===t&&260!==r.parent.kind&&208===r.parent.parent.kind?r.parent.parent:void 0:e})(t,i))&&k.hasModifier(e,1)?k.isImportEqualsDeclaration(e)&&e.moduleReference===i?o?void 0:{kind:0,symbol:s.getSymbolAtLocation(e.name),isNamedImport:!1}:c(a,l(e)):k.isExportAssignment(t)?r(t):k.isExportAssignment(t.parent)?r(t.parent):k.isBinaryExpression(t)?n(t,!0):k.isBinaryExpression(t.parent)?n(t.parent,!0):void 0;function r(e){var t=e.symbol.parent,e=(k.Debug.assert(!!t),e.isExportEquals?2:1);return{kind:1,symbol:a,exportInfo:{exportingModuleSymbol:t,exportKind:e}}}function n(e,t){var r;switch(k.getSpecialPropertyAssignmentKind(e)){case 1:r=0;break;case 2:r=2;break;default:return}t=t?s.getSymbolAtLocation(e.left.name):a;return t&&c(t,r)}}function c(e,t){t=r(e,t,s);return t&&{kind:1,symbol:e,exportInfo:t}}function l(e){return k.hasModifier(e,512)?1:0}},e.getExportInfo=r})(ts=ts||{}),(d=>{var s;function o(e,t){return{type:"node",node:e,isInString:t}}function c(e,t,r,n,i){return l(s.Core.getReferencedSymbolsForNode(e,t,r,n,i=void 0===i?{}:i))}function p(e,t,r,n,i,a){n=d.getTouchingPropertyName(n,i,!0);return s.Core.getReferencedSymbolsForNode(n,e,r,t,a)}function l(e){return e&&d.flatMap(e,function(e){return e.references})}function f(e,t,r){r=d.SymbolDisplay.getSymbolDisplayPartsDocumentationAndSymbolKind(r,e,t.getSourceFile(),d.getContainerNode(t),t);return{displayParts:r.displayParts,kind:r.symbolKind}}function _(e){var t;return"span"===e.type?{textSpan:e.textSpan,fileName:e.fileName,isWriteAccess:!1,isDefinition:!1}:(t=e.isInString,{fileName:(e=e.node).getSourceFile().fileName,textSpan:u(e),isWriteAccess:i(e),isDefinition:79===e.kind||d.isAnyDeclarationName(e)||d.isLiteralComputedPropertyDeclarationName(e),isInString:t})}function u(e){var t=e.getStart(),r=e.getEnd();return 9===e.kind&&(t+=1,--r),d.createTextSpanFromBounds(t,r)}function i(e){return 79===e.kind||d.isAnyDeclarationName(e)||d.isWriteAccess(e)}(s=d.FindAllReferences||(d.FindAllReferences={})).nodeEntry=o,s.findReferencedSymbols=function(e,t,r,n,i){if((t=p(e,t,r,n,i))&&t.length){for(var a=[],s=e.getTypeChecker(),o=0,c=t;o<c.length;o++){var l=c[o],u=l.definition,l=l.references;u&&a.push({definition:((i,a)=>{var e,t,r,n,s=(()=>{switch(i.type){case"symbol":var e=i.symbol,t=i.node,r=f(e,t,a),n=r.displayParts,r=r.kind;return{node:t,name:n.map(function(e){return e.text}).join(""),kind:r,displayParts:n};case"label":t=i.node;return{node:t,name:t.text,kind:"label",displayParts:[d.displayPart(t.text,d.SymbolDisplayPartKind.text)]};case"keyword":r=i.node,n=d.tokenToString(r.kind);return{node:r,name:n,kind:"keyword",displayParts:[{text:n,kind:"keyword"}]};case"this":t=i.node,r=(e=a.getSymbolAtLocation(t))&&d.SymbolDisplay.getSymbolDisplayPartsDocumentationAndSymbolKind(a,e,t.getSourceFile(),d.getContainerNode(t),t).displayParts;return{node:t,name:"this",kind:"var",displayParts:r};case"string":n=i.node;return{node:n,name:n.text,kind:"var",displayParts:[d.displayPart(d.getTextOfNode(n),d.SymbolDisplayPartKind.stringLiteral)]}}})();if(s)return e=s.node,t=s.name,r=s.kind,s=s.displayParts,{containerKind:"",containerName:"",fileName:(n=e.getSourceFile()).fileName,kind:r,name:t,textSpan:d.createTextSpanFromNode(e,n),displayParts:s}})(u,s),references:l.map(_)})}return a}},s.getImplementationsAtPosition=function(e,t,r,n,i){var t=((e,t,r,n)=>{var i,a;if(265!==n.kind)return i=e.getTypeChecker(),262===n.parent.kind?(a=[],s.Core.getReferenceEntriesForShorthandPropertyAssignment(n,i,function(e){return a.push(o(e))}),a):97===n.kind||d.isSuperProperty(n.parent)?(i=i.getSymbolAtLocation(n)).valueDeclaration&&[o(i.valueDeclaration)]:c(n,e,r,t,{implementations:!0})})(e,t,r,d.getTouchingPropertyName(n,i,!1)),a=e.getTypeChecker();return d.map(t,function(e){var t,r=a;return"node"===e.type?(t=e.node,__assign({textSpan:u(t),fileName:t.getSourceFile().fileName},((e,t)=>{var r=t.getSymbolAtLocation(d.isDeclaration(e)&&e.name?e.name:e);return r?f(r,e,t):178===e.kind?{kind:"interface",displayParts:[d.punctuationPart(19),d.textPart("object literal"),d.punctuationPart(20)]}:199===e.kind?{kind:"local class",displayParts:[d.punctuationPart(19),d.textPart("anonymous local class"),d.punctuationPart(20)]}:{kind:d.getNodeKind(e),displayParts:[]}})(t,r))):{textSpan:e.textSpan,fileName:e.fileName,kind:"",displayParts:[]}})},s.findReferencedEntries=function(e,t,r,n,i,a){return e=l(p(e,t,r,n,i,a)),d.map(e,_)},s.getReferenceEntriesForNode=c,s.toHighlightSpan=function(e){var t,r,n;return"span"===e.type?{fileName:e.fileName,span:{textSpan:e.textSpan,kind:"reference"}}:(t=e.isInString,r=(e=e.node).getSourceFile().fileName,n=i(e),{fileName:r,span:{textSpan:u(e),kind:n?"writtenReference":"reference",isInString:t}})}})(ts=ts||{}),(w=>{var N,e,C;function t(e,t,r,n,i,a,s){this.sourceFiles=e,this.isForConstructor=t,this.checker=r,this.cancellationToken=n,this.searchMeaning=i,this.options=a,this.result=s,this.inheritsFromCache=w.createMap(),this.markSeenContainingTypeReference=w.nodeSeenTracker(),this.markSeenReExportRHS=w.nodeSeenTracker(),this.symbolIdToReferences=[],this.sourceFileToSeenSymbols=[]}function I(e,t,r,n){var i=n.getImportSearches(t,r),a=i.importSearches,s=i.singleReferences,i=i.indirectUsers;if(s.length)for(var o=n.referenceAdder(t,e),c=0,l=s;c<l.length;c++)o(l[c]);for(var u=0,d=a;u<d.length;u++){var p=d[u],f=p[0],p=p[1];h(f.getSourceFile(),n.createSearch(f,p,1),n)}if(i.length){var _=void 0;switch(r.exportKind){case 0:_=n.createSearch(e,t,1);break;case 1:_=n.options.isForRename?void 0:n.createSearch(e,t,1,{text:"default"})}if(_)for(var m=0,g=i;m<g.length;m++)E(g[m],_,n)}}function P(e,t){for(var r=0,n=e.declarations;r<n.length;r++){var i=n[r];h(i.getSourceFile(),t.createSearch(i,e,0),t)}}function E(e,t,r){void 0!==w.getNameTable(e).get(t.escapedText)&&h(e,t,r)}function O(e,t){return w.isArrayLiteralOrObjectLiteralDestructuringPattern(e.parent.parent)&&t.getPropertySymbolOfDestructuringAssignment(e)}function D(e){e=w.getDeclarationOfKind(e,176);if(e&&174===e.parent.kind&&!e.propertyName)return e}function F(e,t){var r,e=D(e);if(e)return(t=(r=t.getTypeAtLocation(e.parent))&&t.getPropertyOfType(r,e.name.text))&&98304&t.flags?(w.Debug.assert(!!(33554432&t.flags)),t.target):t}function A(e,t,r){void 0===r&&(r=e);var n=[];if(t&&t.length)for(var i=e.text,a=i.length,s=t.length,o=i.indexOf(t,r.pos);0<=o&&!(o>r.end);){var c=o+s;0!==o&&w.isIdentifierPart(i.charCodeAt(o-1),5)||c!==a&&w.isIdentifierPart(i.charCodeAt(c),5)||n.push(o),o=i.indexOf(t,o+s+1)}return n}function L(e,t){for(var r=[],n=e.getSourceFile(),i=t.text,a=0,s=A(n,i,e);a<s.length;a++){var o=s[a],o=w.getTouchingWord(n,o,!1);o&&(o===t||w.isJumpStatementTarget(o)&&w.getTargetLabel(o,i)===t)&&r.push(N.nodeEntry(o))}return[{definition:{type:"label",node:t},references:r}]}function R(e,t){switch(e.kind){case 71:return e.text.length===t.length;case 9:return(w.isLiteralNameOfPropertyDeclarationOrIndexAccess(e)||9===(r=e).kind&&(w.isNameOfModuleDeclaration(r)||w.isExpressionOfExternalModuleImportEqualsDeclaration(r)))&&e.text.length===t.length;case 8:return w.isLiteralNameOfPropertyDeclarationOrIndexAccess(e)&&e.text.length===t.length;case 79:return"default".length===t.length;default:return}var r}function h(e,t,r){r.cancellationToken.throwIfCancellationRequested(),M(e,e,t,r)}function M(e,t,r,n){if(n.markSearchedSymbol(t,r.symbol))for(var i=0,a=A(t,r.text,e);i<a.length;i++)((e,t,r,n)=>{var i=w.getTouchingPropertyName(e,t,!0);if(R(i,r.text)){if(w.getMeaningFromLocation(i)&n.searchMeaning&&(D=n.checker.getSymbolAtLocation(i))&&(_=i.parent,!w.isImportSpecifier(_)||_.propertyName!==i))if(w.isExportSpecifier(_)){w.Debug.assert(71===i.kind);var a=i,s=D,o=r,c=n,l=_.parent,u=_.propertyName,d=_.name,l=l.parent,p=U(a,s,_,c.checker);function f(){B(a,p,o.location,c)}o.includes(p)&&(u?a===u?(l.moduleSpecifier||f(),!c.options.isForRename&&c.markSeenReExportRHS(d)&&B(d,s,d,c)):c.markSeenReExportRHS(a)&&f():f(),a===u&&c.options.isForRename||(d=79===a.originalKeywordKind?1:0,d=N.getExportInfo(s,d,c.checker),w.Debug.assert(!!d),I(a,s,d,c)),1!==o.comingFrom)&&l.moduleSpecifier&&!u&&P(c.checker.getExportSpecifierLocalTargetSymbol(_),c)}else if(s=((t,e,r,l)=>{if(t.includes(e))return e;var n=w.getContainingObjectLiteralElement(r);if(n){n=w.forEach(K(n,l.checker),function(e){return w.find(l.checker.getRootSymbols(e),t.includes)});if(n)return n;n=O(r,l.checker);if(n&&t.includes(n))return n}if(r=F(e,l.checker)){n=i(r);if(n)return n}return i(e);function i(e){return w.forEach(l.checker.getRootSymbols(e),function(c){var e;return t.includes(c)?c:!(c.parent&&96&c.parent.flags)||t.parents&&!w.some(t.parents,function(e){return r=c.parent,n=e,a=l.inheritsFromCache,s=l.checker,o=64&n.getFlags(),t(r);function t(e){if(e===n)return!0;var t=w.getSymbolId(e)+","+w.getSymbolId(n),r=a.get(t);if(void 0!==r)return r;a.set(t,!1);r=w.forEach(e.getDeclarations(),function(e){if(w.isClassLike(e)){if(o){var t=w.getClassImplementsHeritageClauseElements(e);if(t)for(var r=0,n=t;r<n.length;r++)if(i(n[r]))return!0}return i(w.getClassExtendsHeritageClauseElement(e))}return!(230!==e.kind||!o)&&w.forEach(w.getInterfaceBaseTypeNodes(e),i)});return a.set(t,r),r}function i(e){if(e){e=s.getTypeAtLocation(e);if(e&&e.symbol)return t(e.symbol)}return!1}var r,n,a,s,o})?void 0:(j(c.parent,c.name,e=[],w.createSymbolTable(),l.checker),w.find(e,t.includes))})}})(r,D,i,n)){if(n.isForConstructor){var d=i,l=e,u=r,_=n;if(w.isNewExpressionTarget(d)&&B(d,u.symbol,u.location,_),_=_.referenceAdder(u.symbol,u.location),w.isClassLike(d.parent)){w.Debug.assert(d.parent.name===d);for(var m=u.symbol,g=l,h=_,y=0,v=m.members.get("__constructor").declarations;y<v.length;y++){var b=v[y],x=w.findChildOfKind(b,123,g);w.Debug.assert(152===b.kind&&!!x),h(x)}m.exports.forEach(function(e){var e=e.valueDeclaration;e&&151===e.kind&&(e=e.body)&&z(e,99,function(e){w.isNewExpressionTarget(e)&&h(e)})})}else if((u=(e=>w.tryGetClassExtendingExpressionWithTypeArguments(w.climbPastPropertyAccess(e).parent))(d))&&w.isClassLike(u)){var l=u,k=_;if(l=l.symbol.members.get("__constructor"))for(var S=0,T=l.declarations;S<T.length;S++){var C=T[S],C=(w.Debug.assert(152===C.kind),C.body);C&&z(C,97,function(e){w.isCallExpressionTarget(e)&&k(e)})}}}else B(i,s,r.location,n);var m=i,_=D,i=r,E=n;(_=N.getImportOrExportSymbol(m,_,E.checker,1===i.comingFrom))&&(i=_.symbol,0===_.kind?E.options.isForRename&&!_.isNamedImport||P(i,E):I(m,i,_.exportInfo,E))}else{var i=r,_=n,D=(E=D).flags,E=E.valueDeclaration,A=_.checker.getShorthandAssignmentValueSymbol(E);33554432&D||!i.includes(A)||B(w.getNameOfDeclaration(E),A,i.location,_)}}else!n.options.implementations&&(n.options.findInStrings&&w.isInString(e,t)||n.options.findInComments&&w.isInNonReferenceComment(e,t))&&n.addStringOrCommentReference(e.fileName,w.createTextSpan(t,r.text.length))})(t,a[i],r,n)}function U(e,t,r,n){return e=e,a=(i=r).parent,s=r.propertyName,i=r.name,w.Debug.assert(s===e||i===e),(s?s!==e:a.parent.moduleSpecifier)?t:n.getExportSpecifierLocalTargetSymbol(r);var i,a,s}function B(e,t,r,n){var i,a,t=n.referenceAdder(t,r);n.options.implementations?(r=e,i=t,n=n,w.isDeclarationName(r)&&(e=>{if(e)if(w.isVariableLike(e)){if(e.initializer)return 1;var t;if(226===e.kind)return(t=(e=>{if(e.parent&&e.parent.parent&&208===e.parent.parent.kind)return w.Debug.assert(227===e.parent.kind),e.parent.parent})(e))&&w.hasModifier(t,2)}else{if(w.isFunctionLike(e))return!!e.body||w.hasModifier(e,2);switch(e.kind){case 229:case 199:case 232:case 233:return 1}}})(r.parent)?i(r.parent):71===r.kind&&(262===r.parent.kind&&o(r,n.checker,i),(a=function e(t){if(t&&t.parent){if(201===t.kind&&259===t.parent.kind&&w.isClassLike(t.parent.parent))return t.parent.parent;if(71===t.kind||179===t.kind)return e(t.parent)}return}(r))?i(a):(a=(e=>{for(var t=void 0;e;)w.isTypeNode(e)&&(t=e),e=e.parent;return t})(r))&&n.markSeenContainingTypeReference(a)&&(r=a.parent,w.isVariableLike(r)&&r.type===a&&r.initializer&&s(r.initializer)?i(r.initializer):w.isFunctionLike(r)&&r.type===a&&r.body?207===(n=r.body).kind?w.forEachReturnStatement(n,function(e){e.expression&&s(e.expression)&&i(e.expression)}):s(n)&&i(n):w.isAssertionExpression(r)&&s(r.expression)&&i(r.expression)))):t(e)}function s(e){switch(e.kind){case 185:return s(e.expression);case 187:case 186:case 178:case 199:case 177:return!0;default:return!1}}function j(r,n,i,a,s){function t(e){var t;e&&(e=s.getTypeAtLocation(e))&&((t=s.getPropertyOfType(e,n))&&i.push.apply(i,s.getRootSymbols(t)),a.set(r.escapedName,r),j(e.symbol,n,i,a,s))}r&&!a.has(r.escapedName)&&96&r.flags&&w.forEach(r.getDeclarations(),function(e){w.isClassLike(e)?(t(w.getClassExtendsHeritageClauseElement(e)),w.forEach(w.getClassImplementsHeritageClauseElements(e),t)):230===e.kind&&w.forEach(w.getInterfaceBaseTypeNodes(e),t)})}function K(e,t){var r,n=e.parent,t=t.getContextualType(n),i=144===(n=e).name.kind?(e=n.name.expression,w.isStringOrNumericLiteral(e)?e.text:void 0):w.getTextOfIdentifierOrLiteral(n.name);if(i&&t)return r=[],(e=t.getProperty(i))&&r.push(e),65536&t.flags&&w.forEach(t.types,function(e){e=e.getProperty(i);e&&r.push(e)}),r}function o(e,t,r){e=t.getSymbolAtLocation(e),t=t.getShorthandAssignmentValueSymbol(e.valueDeclaration);if(t)for(var n=0,i=t.getDeclarations();n<i.length;n++){var a=i[n];1&w.getMeaningFromDeclaration(a)&&r(a)}}function z(e,t,r){w.forEachChild(e,function(e){e.kind===t&&r(e),z(e,t,r)})}N=w.FindAllReferences||(w.FindAllReferences={}),(e=N.Core||(N.Core={})).getReferencedSymbolsForNode=function(e,t,r,n,i){if(void 0===i&&(i={}),265!==e.kind){if(!i.implementations){var a=((e,t,r)=>{if(w.isTypeKeyword(e.kind)){for(var n=t,i=e.kind,a=r,s=[],o=0,c=n;o<c.length;o++){var l=c[o];a.throwIfCancellationRequested(),((e,t,r,n)=>{for(var r=A(e,r,e),i=0,a=r;i<a.length;i++){var s=a[i],s=w.getTouchingPropertyName(e,s,!0);s.kind===t&&n.push(N.nodeEntry(s))}})(l,i,w.tokenToString(i),s)}return s.length?[{definition:{type:"keyword",node:s[0].node},references:s}]:void 0}if(w.isLabelName(e))return w.isJumpStatementTarget(e)?(y=w.getTargetLabel(e.parent,e.text))&&L(y.parent,y):L(e.parent,e);if(w.isThis(e)){var u=e,d=t,p=r,f=w.getThisContainer(u,!1),_=32;switch(f.kind){case 151:case 150:if(w.isObjectLiteralMethod(f))break;case 149:case 148:case 152:case 153:case 154:_&=w.getModifierFlags(f),f=f.parent;break;case 265:if(w.isExternalModule(f))return;case 228:case 186:break;default:return}var m,g=[];return 265===f.kind?w.forEach(d,function(e){p.throwIfCancellationRequested(),h(e,e,m=A(e,"this"),g)}):(d=f.getSourceFile(),m=A(d,"this",f),h(d,f,m,g)),[{definition:{type:"this",node:u},references:g}];function h(n,i,e,a){w.forEach(e,function(e){var t=w.getTouchingWord(n,e,!1);if(t&&w.isThis(t)){var r=w.getThisContainer(t,!1);switch(i.kind){case 186:case 228:i.symbol===r.symbol&&a.push(N.nodeEntry(t));break;case 151:case 150:w.isObjectLiteralMethod(i)&&i.symbol===r.symbol&&a.push(N.nodeEntry(t));break;case 199:case 229:r.parent&&i.symbol===r.parent.symbol&&(32&w.getModifierFlags(r))===_&&a.push(N.nodeEntry(t));break;case 265:265!==r.kind||w.isExternalModule(r)||a.push(N.nodeEntry(t))}}})}}else if(97===e.kind){var y=e,v=w.getSuperContainer(y,!1);if(v){var b=32;switch(v.kind){case 149:case 148:case 151:case 150:case 152:case 153:case 154:b&=w.getModifierFlags(v),v=v.parent;break;default:return}for(var x=[],k=v.getSourceFile(),t=A(k,"super",v),S=0,T=t;S<T.length;S++){var C,E=T[S],E=w.getTouchingWord(k,E,!1);E&&97===E.kind&&(C=w.getSuperContainer(E,!1))&&(32&w.getModifierFlags(C))===b&&C.parent.symbol===v.symbol&&x.push(N.nodeEntry(E))}return[{definition:{type:"symbol",symbol:v.symbol,node:y},references:x}]}}})(e,r,n);if(a)return a}var a=t.getTypeChecker(),s=a.getSymbolAtLocation(e);if(!s){if(i.implementations||9!==e.kind)return;for(var o=e,c=n,l=[],u=0,d=r;u<d.length;u++){var p=d[u],f=(c.throwIfCancellationRequested(),A(p,o.text));((e,t,r,n)=>{for(var i=0,a=r;i<a.length;i++){var s=a[i],s=w.getTouchingWord(e,s,!1);s&&9===s.kind&&s.text===t&&n.push(N.nodeEntry(s,!0))}})(p,o.text,f,l)}return[{definition:{type:"string",node:o},references:l}]}if(1536&s.flags&&(e=>{if(9===e.kind)switch(e.parent.kind){case 233:case 248:case 238:case 244:return 1;case 181:return w.isRequireCall(e.parent,!1)||w.isImportCall(e.parent);default:return}})(e)){var _=s,m=r;w.Debug.assert(!!_.valueDeclaration);for(var g=N.findModuleReferences(t,m,_).map(function(e){return"import"===e.kind?{type:"node",node:e.literal}:{type:"span",fileName:e.referencingFile.fileName,textSpan:w.createTextSpanFromRange(e.ref)}}),h=0,y=_.declarations;h<y.length;h++){var v=y[h];switch(v.kind){case 265:break;case 233:g.push({type:"node",node:v.name});break;default:w.Debug.fail("Expected a module symbol to be declared by a SourceFile or ModuleDeclaration.")}}return[{definition:{type:"symbol",symbol:_,node:_.valueDeclaration},references:g}]}var t=s,m=e,_=r,s=a,e=n,r=i,a=(t=((e,t,r)=>{var n=t.parent;return w.isExportSpecifier(n)?U(t,e,n,r):w.isImportSpecifier(n)&&n.propertyName===t?r.getImmediateAliasedSymbol(e):e})(t,m,s),((e,t)=>{if(t){var r=void 0;do{r=e;for(var n=0,i=t;n<i.length;n++){var a=i[n],a=w.getMeaningFromDeclaration(a);a&e&&(e|=a)}}while(e!==r)}return e})(w.getMeaningFromLocation(m),t.declarations)),n=[],b=new C(_,123===m.kind,s,e,a,r,n);if(79===m.kind)B(m,t,m,b),I(m,t,{exportingModuleSymbol:t.parent,exportKind:1},b);else{var x=b.createSearch(m,t,void 0,{allSearchSymbols:((e,t,i,a)=>{var r,s=[e],n=w.getContainingObjectLiteralElement(t);return n&&(262!==n.kind&&(r=O(t,i))&&s.push(r),w.forEach(K(n,i),function(e){w.addRange(s,i.getRootSymbols(e))}),r=i.getShorthandAssignmentValueSymbol(t.parent))&&s.push(r),e.valueDeclaration&&146===e.valueDeclaration.kind&&w.isParameterPropertyDeclaration(e.valueDeclaration)&&w.addRange(s,i.getSymbolsOfParameterPropertyDeclaration(e.valueDeclaration,e.name)),(n=F(e,i))&&(s.push(n),o(n)),o(e),s;function o(e){for(var t=0,r=i.getRootSymbols(e);t<r.length;t++){var n=r[t];n!==e&&s.push(n),!a&&n.parent&&96&n.parent.flags&&j(n.parent,n.name,s,w.createSymbolTable(),i)}}})(t,m,s,r.implementations)}),_=(e=>{var t,r=e.declarations,n=e.flags,i=e.parent,a=e.valueDeclaration;if(a&&(186===a.kind||199===a.kind))return a;if(r){if(8196&n)return(a=w.find(r,function(e){return w.hasModifier(e,8)}))?w.getAncestor(a,229):void 0;if(!D(e))if(!(n=i&&!(262144&e.flags))||1536&i.flags&&w.isExternalModuleSymbol(i)&&!i.globalExports){for(var s=0,o=r;s<o.length;s++){var c=o[s],c=w.getContainerNode(c);if(t&&t!==c)return;if(!c||265===c.kind&&!w.isExternalOrCommonJsModule(c))return;t=c}return n?t.getSourceFile():t}}})(t);if(_)M(_,_.getSourceFile(),x,b);else for(var k=0,S=b.sourceFiles;k<S.length;k++){var T=S[k];b.cancellationToken.throwIfCancellationRequested(),E(T,x,b)}}return n}},t.prototype.getImportSearches=function(e,t){return this.importTracker||(this.importTracker=N.createImportTracker(this.sourceFiles,this.checker,this.cancellationToken)),this.importTracker(e,t,this.options.isForRename)},t.prototype.createSearch=function(e,t,r,n){var i=(n=void 0===n?{}:n).text,i=void 0===i?w.stripQuotes(w.unescapeLeadingUnderscores((w.getLocalSymbolForExportDefault(t)||t).escapedName)):i,n=n.allSearchSymbols,a=void 0===n?void 0:n,n=w.escapeLeadingUnderscores(i),s=this.options.implementations&&((e,t,r)=>{if((e=(e=>w.isRightSideOfPropertyAccess(e)&&e.parent)(e))&&(r=r.getTypeAtLocation(e.expression)))return r.symbol&&96&r.symbol.flags&&r.symbol!==t.parent?[r.symbol]:196608&r.flags?function e(t,r){void 0===r&&(r=[]);for(var n=0,i=t.types;n<i.length;n++){var a=i[n];a.symbol&&96&a.symbol.getFlags()&&r.push(a.symbol),196608&a.getFlags()&&e(a,r)}return r}(r):void 0})(e,t,this.checker);return{location:e,symbol:t,comingFrom:r,text:i,escapedText:n,parents:s,includes:function(e){return a?w.contains(a,e):e===t}}},t.prototype.referenceAdder=function(e,t){var r=w.getSymbolId(e),n=this.symbolIdToReferences[r];return n||(n=this.symbolIdToReferences[r]=[],this.result.push({definition:{type:"symbol",symbol:e,node:t},references:n})),function(e){return n.push(N.nodeEntry(e))}},t.prototype.addStringOrCommentReference=function(e,t){this.result.push({definition:void 0,references:[{type:"span",fileName:e,textSpan:t}]})},t.prototype.markSearchedSymbol=function(e,t){e=w.getNodeId(e),t=w.getSymbolId(t),e=this.sourceFileToSeenSymbols[e]||(this.sourceFileToSeenSymbols[e]=[]);return!e[t]&&(e[t]=!0)},C=t,e.getReferenceEntriesForShorthandPropertyAssignment=o})(ts=ts||{}),(d=>{var e;function u(e,t,r){var n=[],i=t.getDeclarations(),e=m(e,t,r),a=e.symbolName,s=e.symbolKind,o=e.containerName;return((e,t,r,n,i,a)=>{if((d.isNewExpressionTarget(t)||123===t.kind)&&32&e.flags){for(var s=0,o=e.getDeclarations();s<o.length;s++){var c=o[s];if(d.isClassLike(c))return l(c.members,!0,r,n,i,a)}d.Debug.fail("Expected declaration to have at least one class-like declaration")}})(t,r,s,a,o,n)||((e,t,r,n,i,a)=>(d.isCallExpressionTarget(t)||d.isNewExpressionTarget(t)||d.isNameOfFunctionDeclaration(t))&&l(e.declarations,!1,r,n,i,a))(t,r,s,a,o,n)||d.forEach(i,function(e){n.push(f(e,s,a,o))}),n;function l(e,t,r,n,i,a){if(!e)return!1;for(var s,o=[],c=0,l=e;c<l.length;c++){var u=l[c];(t?152===u.kind:p(u))&&(o.push(u),u.body)&&(s=u)}return!!o.length&&(a.push(f(s||d.lastOrUndefined(o),r,n,i)),!0)}}function p(e){switch(e.kind){case 152:case 228:case 151:case 150:return 1;default:return}}function f(e,t,r,n){return _(d.getNameOfDeclaration(e)||e,t,r,n)}function _(e,t,r,n){var i=e.getSourceFile();return{fileName:i.fileName,textSpan:d.createTextSpanFromNode(e,i),kind:t,name:r,containerKind:void 0,containerName:n}}function m(e,t,r){return{symbolName:e.symbolToString(t),symbolKind:d.SymbolDisplay.getSymbolKind(e,t,r),containerName:t.parent?e.symbolToString(t.parent,r):""}}function g(e,t){for(var r=0,n=e;r<n.length;r++){var i=n[r];if(i.pos<=t&&t<=i.end)return i}}function h(e,t){return{fileName:t,textSpan:d.createTextSpanFromBounds(0,0),kind:"script",name:e,containerName:void 0,containerKind:void 0}}(e=d.GoToDefinition||(d.GoToDefinition={})).getDefinitionAtPosition=function(e,t,r){var n=g(t.referencedFiles,r);if(n&&(a=d.tryResolveScriptReference(e,t,n)))return[h(n.fileName,a.fileName)];if(n=g(t.typeReferenceDirectives,r))return(a=e.getResolvedTypeReferenceDirectives().get(n.fileName))&&a.resolvedFileName&&[h(n.fileName,a.resolvedFileName)];var i=d.getTouchingPropertyName(t,r,!0);if(i!==t){if(d.isJumpStatementTarget(i))return n=i.text,(a=d.getTargetLabel(i.parent,n))?[_(a,"label",n,void 0)]:void 0;var a,s=e.getTypeChecker(),r=((e,t)=>{if(t=(e=>{var t=(e=function e(t){return d.isRightSideOfPropertyAccess(t)?e(t.parent):t}(e)).parent;return t&&d.isCallLikeExpression(t)&&d.getInvokedExpression(t)===e&&t})(t),e=t&&e.getResolvedSignature(t)){t=e.declaration;if(t&&p(t))return t}})(s,i);if(r)return[(t=m(t=s,(a=r).symbol,a),n=t.symbolName,f(a,t.symbolKind,n,t.containerName))];var o,c,l,e=s.getSymbolAtLocation(i);if(e){if(2097152&e.flags&&((e,t)=>{if(71===e.kind){if(e.parent===t)return 1;switch(t.kind){case 239:case 237:return 1;case 242:return 241===t.parent.kind;default:return}}})(i,e.declarations[0])&&(r=s.getAliasedSymbol(e)).declarations&&(e=r),262===i.parent.kind)return(n=s.getShorthandAssignmentValueSymbol(e.valueDeclaration))?(t=n.getDeclarations(),o=d.SymbolDisplay.getSymbolKind(s,n,i),c=s.symbolToString(n),l=s.symbolToString(e.parent,i),d.map(t,function(e){return f(e,o,c,l)})):[];if(d.isPropertyName(i)&&d.isBindingElement(i.parent)&&d.isObjectBindingPattern(i.parent.parent)&&i===(i.parent.propertyName||i.parent.name)){r=s.getTypeAtLocation(i.parent.parent);if(r){n=d.getPropertySymbolsFromType(r,i);if(n)return d.flatMap(n,function(e){return u(s,e,i)})}}t=d.getContainingObjectLiteralElement(i);return t&&s.getContextualType(t.parent)?d.flatMap(d.getPropertySymbolsFromContextualType(s,t),function(e){return u(s,e,i)}):u(s,e,i)}}},e.getTypeDefinitionAtPosition=function(t,e,r){var n=d.getTouchingPropertyName(e,r,!0);if(n!==e){r=t.getSymbolAtLocation(n);if(r){var i,e=t.getTypeOfSymbolAtLocation(r,n);if(e)return 65536&e.flags&&!(16&e.flags)?(i=[],d.forEach(e.types,function(e){e.symbol&&d.addRange(i,u(t,e.symbol,n))}),i):e.symbol?u(t,e.symbol,n):void 0}}}})(ts=ts||{}),(p=>{var e,t,r,n;function a(e,t){if(e)for(var r=0;r<e.length;r++)if(p.indexOf(e,e[r])===r){var n=t(e[r],r);if(n)return}}e=p.JsDoc||(p.JsDoc={}),n=["augments","author","argument","borrows","class","constant","constructor","constructs","default","deprecated","description","event","example","extends","field","fileOverview","function","ignore","inner","lends","link","memberOf","method","name","namespace","param","private","prop","property","public","requires","returns","see","since","static","throws","type","typedef","version"],e.getJsDocCommentsFromDeclarations=function(e){var t=[];return a(e,function(e){p.forEach(p.getAllJSDocs(e),function(e){e.comment&&(t.length&&t.push(p.lineBreakPart()),t.push(p.textPart(e.comment)))})}),t},e.getJsDocTagsFromDeclarations=function(e){var i=[];return a(e,function(e){for(var t=0,r=p.getJSDocTags(e);t<r.length;t++){var n=r[t];276===n.kind&&i.push({name:n.tagName.text,text:n.comment})}}),i},e.getJSDocTagNameCompletions=function(){return t=t||p.map(n,function(e){return{name:e,kind:"keyword",kindModifiers:"",sortText:"0"}})},e.getJSDocTagCompletions=function(){return r=r||p.map(n,function(e){return{name:"@"+e,kind:"keyword",kindModifiers:"",sortText:"0"}})},e.getJSDocParameterNameCompletions=function(r){var n,i,e;return p.isIdentifier(r.name)?(n=r.name.text,e=(i=r.parent).parent,p.isFunctionLike(e)?p.mapDefined(e.parameters,function(e){if(p.isIdentifier(e.name)){var t=e.name.text;if(!i.tags.some(function(e){return e!==r&&p.isJSDocParameterTag(e)&&p.isIdentifier(e.name)&&e.name.escapedText===t})&&(void 0===n||p.startsWith(t,n)))return{name:t,kind:"parameter",kindModifiers:"",sortText:"0"}}}):[]):p.emptyArray},e.getDocCommentTemplateAtPosition=function(e,t,r){if(!(p.isInString(t,r)||p.isInComment(t,r)||p.hasDocComment(t,r))){var n=p.getTokenAtPosition(t,r,!1),i=n.getStart();if(n&&!(i<r)){n=(e=>{for(var t=e;t;t=t.parent)switch(t.kind){case 228:case 151:case 152:var r=t.parameters;return{commentOwner:t,parameters:r};case 229:return{commentOwner:t};case 208:var r=t.declarationList.declarations,n=1===r.length&&r[0].initializer?(e=>{for(;185===e.kind;)e=e.expression;switch(e.kind){case 186:case 187:return e.parameters;case 199:for(var t=0,r=e.members;t<r.length;t++){var n=r[t];if(152===n.kind)return n.parameters}}return p.emptyArray})(r[0].initializer):void 0;return{commentOwner:t,parameters:n};case 265:return;case 233:return 233===t.parent.kind?void 0:{commentOwner:t};case 194:var i,n=t;return 0===p.getSpecialPropertyAssignmentKind(n)?void 0:(i=p.isFunctionLike(n.right)?n.right.parameters:p.emptyArray,{commentOwner:t,parameters:i})}})(n);if(n){var a=n.commentOwner,s=n.parameters;if(!(a.getStart()<r)){var n=t.getLineAndCharacterOfPosition(r),a=t.getLineStarts()[n.line],o=t.text.substr(a,n.character).replace(/\S/i,function(){return" "}),c=p.hasJavaScriptFileExtension(t.fileName),l="";if(s)for(var u=0;u<s.length;u++){var d=s[u].name,d=71===d.kind?d.escapedText:"param"+u;l+=c?o+" * @param {any} "+d+e:o+" * @param "+d+e}a="/**"+e+o+" * ";return{newText:a+e+l+o+" */"+(i===r?e+o:""),caretOffset:a.length}}}}}}})(ts=ts||{}),(b=>{var e=b.JsTyping||(b.JsTyping={});e.nodeCoreModuleList=["buffer","querystring","events","http","cluster","zlib","os","https","punycode","repl","readline","vm","child_process","url","dns","net","dgram","fs","path","string_decoder","tls","crypto","stream","util","assert","tty","domain","constants","process","v8","timers","console"];var t,x=b.arrayToSet(e.nodeCoreModuleList);e.loadSafeList=function(t,e){return e=b.readConfigFile(e,function(e){return t.readFile(e)}),b.createMapFromTemplate(e.config)},e.loadTypesMap=function(t,e){if((e=b.readConfigFile(e,function(e){return t.readFile(e)})).config)return b.createMapFromTemplate(e.config.simpleMap)},e.discoverTypings=function(c,l,e,t,r,n,i,a){if(!i||!i.enable)return{cachedTypingPaths:[],newTypingNames:[],filesToWatch:[]};var u=b.createMap(),s=(e=b.mapDefined(e,function(e){e=b.normalizePath(e);if(b.hasJavaScriptFileExtension(e))return e}),[]),i=(i.include&&h(i.include,"Explicitly included types"),i.exclude||[]),o=b.arrayToSet(e,b.getDirectoryPath),t=(o.set(t,!0),o.forEach(function(e,t){y(b.combinePaths(t,"package.json"),s);var r=b.combinePaths(t,"bower.json");y(r,s);v(b.combinePaths(t,"bower_components"),s);r=b.combinePaths(t,"node_modules");v(r,s)}),e);(o=b.mapDefined(t,function(e){if(b.hasJavaScriptFileExtension(e))return e=b.removeFileExtension(b.getBaseFileName(e.toLowerCase())).replace(/((?:\.|-)min(?=\.|$))|((?:-|\.)\d+)/g,""),r.get(e)})).length&&h(o,"Inferred typings from file names"),b.some(t,function(e){return b.fileExtensionIs(e,".jsx")})&&(l&&l("Inferred 'react' typings due to presence of '.jsx' extension"),g("react")),a&&h(b.deduplicate(a.map(function(e){return x.has(e)?"node":e})),"Inferred typings from unresolved imports"),n.forEach(function(e,t){u.has(t)&&void 0===u.get(t)&&u.set(t,e)});for(var d=0,p=i;d<p.length;d++){var f=p[d];u.delete(f)&&l&&l("Typing for "+f+" is in exclude list, will be ignored.")}var _=[],m=[],e=(u.forEach(function(e,t){void 0!==e?m.push(e):_.push(t)}),{cachedTypingPaths:m,newTypingNames:_,filesToWatch:s});return l&&l("Result: "+JSON.stringify(e)),e;function g(e){u.has(e)||u.set(e,void 0)}function h(e,t){l&&l(t+": "+JSON.stringify(e)),b.forEach(e,g)}function y(e,t){c.fileExists(e)&&(t.push(e),t=b.readConfigFile(e,function(e){return c.readFile(e)}).config,h(b.flatMap([t.dependencies,t.devDependencies,t.optionalDependencies,t.peerDependencies],b.getOwnKeys),"Typing names in '"+e+"' dependencies"))}function v(e,t){if(t.push(e),c.directoryExists(e)){for(var t=c.readDirectory(e,[".json"],void 0,void 0,2),r=(l&&l("Searching for typing names in "+e+"; all files: "+JSON.stringify(t)),[]),n=0,i=t;n<i.length;n++){var a,s=i[n],s=b.normalizePath(s),o=b.getBaseFileName(s);"package.json"!==o&&"bower.json"!==o||(a=b.readConfigFile(s,function(e){return c.readFile(e)}).config,"package.json"===o&&a._requiredBy&&0===b.filter(a._requiredBy,function(e){return"#"===e[0]||"/"===e}).length)||a.name&&((o=a.types||a.typings)?(o=b.getNormalizedAbsolutePath(o,b.getDirectoryPath(s)),l&&l("    Package '"+a.name+"' provides its own types."),u.set(a.name,o)):r.push(a.name))}h(r,"    Found package names")}}},(t=e.PackageNameValidationResult||(e.PackageNameValidationResult={}))[t.Ok=0]="Ok",t[t.ScopedPackagesNotSupported=1]="ScopedPackagesNotSupported",t[t.EmptyName=2]="EmptyName",t[t.NameTooLong=3]="NameTooLong",t[t.NameStartsWithDot=4]="NameStartsWithDot",t[t.NameStartsWithUnderscore=5]="NameStartsWithUnderscore",t[t.NameContainsNonURISafeCharacters=6]="NameContainsNonURISafeCharacters",e.validatePackageName=function(e){return e?214<e.length?3:46===e.charCodeAt(0)?4:95===e.charCodeAt(0)?5:/^@[^/]+\/[^/]+$/.test(e)?1:encodeURIComponent(e)!==e?6:0:2},e.renderPackageNameValidationFailure=function(e,t){switch(e){case 2:return"Package name '"+t+"' cannot be empty";case 3:return"Package name '"+t+"' should be less than 214 characters";case 4:return"Package name '"+t+"' cannot start with '.'";case 5:return"Package name '"+t+"' cannot start with '_'";case 1:return"Package '"+t+"' is scoped and currently is not supported";case 6:return"Package name '"+t+"' contains non URI safe characters";case 0:throw b.Debug.fail();default:b.Debug.assertNever(e)}}})(ts=ts||{}),(h=>{function y(e,t,r){var n=h.getTextOfIdentifierOrLiteral(e);return void 0!==n?(r&&t.unshift(n),!0):179===e.kind&&(n=e,r&&t.unshift(n.name.text),y(n.expression,t,!0))}function c(e,t){return e.matchKind-t.matchKind||h.compareStringsCaseInsensitive(e.name,t.name)||h.compareStrings(e.name,t.name)}function l(e){var t=e.declaration,r=h.getContainerNode(t),n=r&&h.getNameOfDeclaration(r);return{name:e.name,kind:h.getNodeKind(t),kindModifiers:h.getNodeModifiers(t),matchKind:h.PatternMatchKind[e.matchKind],isCaseSensitive:e.isCaseSensitive,fileName:e.fileName,textSpan:h.createTextSpanFromNode(t),containerName:n?n.text:"",containerKind:n?h.getNodeKind(r):""}}(h.NavigateTo||(h.NavigateTo={})).getNavigateToItems=function(e,_,t,r,n,i){for(var m=h.createPatternMatcher(r),g=[],a=function(f){if(t.throwIfCancellationRequested(),i&&h.fileExtensionIs(f.fileName,".d.ts"))return"continue";h.forEachEntry(f.getNamedDeclarations(),function(e,t){var r=m,n=t,t=e,i=_,a=f.fileName,s=g,o=r.getMatchesForLastSegmentOfPattern(n);if(o)for(var c=0,l=t;c<l.length;c++){var u,d,p=l[c];((e,t)=>{switch(e.kind){case 239:case 242:case 237:var r=t.getSymbolAtLocation(e.name),n=t.getAliasedSymbol(r);return r.escapedName!==n.escapedName;default:return 1}})(p,i)&&(d=o,r.patternContainsDots&&!(d=r.getMatches((e=>{var t=[],r=h.getNameOfDeclaration(e);if(144!==r.kind||y(r.expression,t,!1)){for(e=h.getContainerNode(e);e;){if(!((e,t)=>{if(e){e=h.getNameOfDeclaration(e);if(e){var r=h.getTextOfIdentifierOrLiteral(e);if(void 0===r)return 144===e.kind&&y(e.expression,t,!0);t.unshift(r)}}return 1})(e,t))return;e=h.getContainerNode(e)}return t}})(p),n))||(u=(e=>{h.Debug.assert(0<e.length);for(var t=h.PatternMatchKind.camelCase,r=0,n=e;r<n.length;r++){var i=n[r].kind;i<t&&(t=i)}return t})(d),d=(e=>{h.Debug.assert(0<e.length);for(var t=0,r=e;t<r.length;t++)if(!r[t].isCaseSensitive)return!1;return!0})(d),s.push({name:n,fileName:a,matchKind:u,isCaseSensitive:d,declaration:p})))}})},s=0,o=e;s<o.length;s++)a(o[s]);return g.sort(c),(g=void 0!==n?g.slice(0,n):g).map(l)}})(ts=ts||{}),(_=>{var e,m,n,i,t,a,r;function s(){a=[],i=m=n=void 0,r=[]}function u(e){return e.getText(n)}function o(e){return e.node.kind}function c(e,t){e.children?e.children.push(t):e.children=[t]}function l(e){_.Debug.assert(!a.length);var t={node:e,additionalNodes:void 0,parent:void 0,children:void 0,indent:0};i=t;for(var r=0,n=e.statements;r<n.length;r++)b(n[r]);return y(),_.Debug.assert(!i&&!a.length),t}function g(e){c(i,d(e))}function d(e){return{node:e,additionalNodes:void 0,parent:i,children:void 0,indent:i.indent+1}}function h(e){e=d(e);c(i,e),a.push(i),i=e}function y(){i.children&&(!function n(e){var o=_.createMap();_.filterMutate(e,function(e){var t=_.getNameOfDeclaration(e.node),t=t&&u(t);if(!t)return!0;var r=o.get(t);if(!r)return o.set(t,e),!0;if(r instanceof Array){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(s(a,e))return!1}return r.push(e),!0}return!s(a=r,e)&&(o.set(t,[a,e]),!0);function s(e,t){return!!c(e.node,t.node)&&(l(e,t),!0)}});function c(e,t){return e.kind===t.kind&&(233!==e.kind||r(e,t));function r(e,t){return e.body.kind===t.body.kind&&(233!==e.body.kind||r(e.body,t.body))}}function l(e,t){var r;e.additionalNodes=e.additionalNodes||[],e.additionalNodes.push(t.node),t.additionalNodes&&(r=e.additionalNodes).push.apply(r,t.additionalNodes),e.children=_.concatenate(e.children,t.children),e.children&&(n(e.children),p(e.children))}}(i.children),p(i.children)),i=a.pop()}function v(e,t){h(e),b(t),y()}function b(e){var t;if(m.throwIfCancellationRequested(),e&&!_.isToken(e))switch(e.kind){case 152:var r=e;v(r,r.body);for(var n=0,i=r.parameters;n<i.length;n++){var a=i[n];_.isParameterPropertyDeclaration(a)&&g(a)}break;case 151:case 153:case 154:case 150:_.hasDynamicName(e)||v(e,e.body);break;case 149:case 148:_.hasDynamicName(e)||g(e);break;case 239:r=e,r=(r.name&&g(r),r.namedBindings);if(r)if(240===r.kind)g(r);else for(var s=0,o=r.elements;s<o.length;s++)g(o[s]);break;case 176:case 226:var r=e.name,c=e.initializer;_.isBindingPattern(r)?b(r):c&&(e=>{switch(e.kind){case 187:case 186:case 199:return 1;default:return}})(c)?c.name?b(c):(h(e),_.forEachChild(c,b),y()):v(e,c);break;case 187:case 228:case 186:v(e,e.body);break;case 232:h(e);for(var l=0,u=e.members;l<u.length;l++){var d=u[l];(t=d).name&&144!==t.name.kind&&g(d)}y();break;case 229:case 199:case 230:h(e);for(var p=0,f=e.members;p<f.length;p++)b(d=f[p]);y();break;case 233:v(e,function e(t){return 233===t.body.kind?e(t.body):t}(e).body);break;case 246:case 237:case 157:case 155:case 156:case 231:g(e);break;default:_.hasJSDocNodes(e)&&_.forEach(e.jsDoc,function(e){_.forEach(e.tags,function(e){283===e.kind&&g(e)})}),_.forEachChild(e,b)}}function p(e){e.sort(f)}function f(e,t){var r,n=x(e.node),i=x(t.node);return n&&i?0!==(r=_.compareStringsCaseInsensitive(n,i))?r:o(e)-o(t):n?1:i?-1:o(e)-o(t)}function x(e){if(233===e.kind)return D(e);var t=_.getNameOfDeclaration(e);if(t)return _.unescapeLeadingUnderscores(_.getPropertyNameForPropertyNameNode(t));switch(e.kind){case 186:case 187:case 199:return N(e);case 283:return S(e);default:return}}function k(e){if(233===e.kind)return D(e);var t=_.getNameOfDeclaration(e);if(t){t=u(t);if(0<t.length)return t}switch(e.kind){case 265:var r=e;return _.isExternalModule(r)?'"'+_.escapeString(_.getBaseFileName(_.removeFileExtension(_.normalizePath(r.fileName))))+'"':"<global>";case 187:case 228:case 186:case 229:case 199:return 512&_.getModifierFlags(e)?"default":N(e);case 152:return"constructor";case 156:return"new()";case 155:return"()";case 157:return"[]";case 283:return S(e);default:return"<unknown>"}}function S(e){if(e.name)return e.name.text;e=e.parent&&e.parent.parent;if(e&&208===e.kind&&0<e.declarationList.declarations.length){e=e.declarationList.declarations[0].name;if(71===e.kind)return e.text}return"<typedef>"}function T(e){return{text:k(e.node),kind:_.getNodeKind(e.node),kindModifiers:w(e.node),spans:E(e),childItems:_.map(e.children,T)}}function C(e){return{text:k(e.node),kind:_.getNodeKind(e.node),kindModifiers:w(e.node),spans:E(e),childItems:_.map(e.children,function(e){return{text:k(e.node),kind:_.getNodeKind(e.node),kindModifiers:_.getNodeModifiers(e.node),spans:E(e),childItems:r,indent:0,bolded:!1,grayed:!1}})||r,indent:e.indent,bolded:!1,grayed:!1}}function E(e){var t=[A(e.node)];if(e.additionalNodes)for(var r=0,n=e.additionalNodes;r<n.length;r++){var i=n[r];t.push(A(i))}return t}function D(e){if(_.isAmbientModule(e))return _.getTextOfNode(e.name);var t=[];for(t.push(_.getTextOfIdentifierOrLiteral(e.name));e.body&&233===e.body.kind;)t.push(_.getTextOfIdentifierOrLiteral((e=e.body).name));return t.join(".")}function A(e){return 265===e.kind?_.createTextSpanFromBounds(e.getFullStart(),e.getEnd()):_.createTextSpanFromNode(e,n)}function w(e){return e.parent&&226===e.parent.kind&&(e=e.parent),_.getNodeModifiers(e)}function N(e){return e.name&&0<_.getFullWidth(e.name)?_.declarationNameToString(e.name):226===e.parent.kind?_.declarationNameToString(e.parent.name):194===e.parent.kind&&58===e.parent.operatorToken.kind?u(e.parent.left).replace(t,""):261===e.parent.kind&&e.parent.name?u(e.parent.name):512&_.getModifierFlags(e)?"default":_.isClassLike(e)?"<class>":"<function>"}e=_.NavigationBar||(_.NavigationBar={}),t=/\s+/g,a=[],r=[],e.getNavigationBarItems=function(e,t){m=t,n=e;try{return _.map((r=l(e),i=[],function e(t){if((e=>{switch(o(e)){case 229:case 199:case 232:case 230:case 233:case 265:case 231:case 283:return 1;case 152:case 151:case 153:case 154:case 226:return t(e);case 187:case 228:case 186:return(e=>{if(e.node.body)switch(o(e.parent)){case 234:case 265:case 151:case 152:return 1;default:return t(e)}})(e);default:return}function t(e){return _.forEach(e.children,function(e){return 226!==(e=o(e))&&176!==e})}})(t)&&(i.push(t),t.children))for(var r=0,n=t.children;r<n.length;r++)e(n[r])}(r),i),C)}finally{s()}var r,i},e.getNavigationTree=function(e,t){m=t,n=e;try{return T(l(e))}finally{s()}}})(ts=ts||{}),(g=>{var e,h;e=g.OutliningElementsCollector||(g.OutliningElementsCollector={}),h=new RegExp("^\\s*//\\s*#(end)?region(?:\\s+(.*))?$"),e.collectElements=function(c,l){var s=[],o=0,e=[];!function e(t){l.throwIfCancellationRequested();if(40<o)return;g.isDeclaration(t)&&f(t);switch(t.kind){case 207:if(!g.isFunctionBlock(t)){var r=t.parent,n=g.findChildOfKind(t,17,c),i=g.findChildOfKind(t,18,c);if(212===r.kind||215===r.kind||216===r.kind||214===r.kind||211===r.kind||213===r.kind||220===r.kind||260===r.kind){d(r,n,i,m(t),!0);break}if(224===r.kind){var a=r;if(a.tryBlock===t){d(r,n,i,m(t),!0);break}if(a.finallyBlock===t){r=g.findChildOfKind(a,87,c);if(r){d(r,n,i,m(t),!0);break}}}a=g.createTextSpanFromNode(t);s.push({textSpan:a,hintSpan:a,bannerText:"...",autoCollapse:m(t)});break}case 234:r=g.findChildOfKind(t,17,c),n=g.findChildOfKind(t,18,c);d(t.parent,r,n,m(t),!0);break;case 229:case 230:case 232:case 235:i=g.findChildOfKind(t,17,c),a=g.findChildOfKind(t,18,c);d(t,i,a,m(t),!0);break;case 178:r=g.findChildOfKind(t,17,c),n=g.findChildOfKind(t,18,c);d(t,r,n,m(t),!g.isArrayLiteralExpression(t.parent));break;case 177:i=g.findChildOfKind(t,21,c),a=g.findChildOfKind(t,22,c);d(t,i,a,m(t),!g.isArrayLiteralExpression(t.parent))}o++;g.forEachChild(t,e);o--}(c);for(var t=c.getLineStarts(),r=0;r<t.length;r++){var n,i=t[r],a=t[r+1]-1||c.getEnd(),u=c.text.substring(i,a).match(h);u&&!g.isInComment(c,i)&&(u[1]?(n=e.pop())&&(n.textSpan.length=a-n.textSpan.start,n.hintSpan.length=a-n.textSpan.start,s.push(n)):(i=c.getFullText().indexOf("//",i),i=g.createTextSpanFromBounds(i,a),n={textSpan:i,hintSpan:i,bannerText:u[2]||"#region",autoCollapse:!1},e.push(n)))}return s.sort(function(e,t){return e.textSpan.start-t.textSpan.start});function d(e,t,r,n,i){e&&t&&r&&(i={textSpan:g.createTextSpanFromBounds(i?t.getFullStart():t.getStart(),r.getEnd()),hintSpan:g.createTextSpanFromNode(e,c),bannerText:"...",autoCollapse:n},s.push(i))}function p(e,t){e&&(e={textSpan:g.createTextSpanFromBounds(e.pos,e.end),hintSpan:g.createTextSpanFromBounds(e.pos,e.end),bannerText:"...",autoCollapse:t},s.push(e))}function f(e){e=g.getLeadingCommentRangesOfNode(e,c);if(e){for(var t=-1,r=-1,n=!0,i=0,a=0,s=e;a<s.length;a++){var o=s[a];l.throwIfCancellationRequested(),2===o.kind?(n&&(t=o.pos),n=!1,r=o.end,i++):3===o.kind&&(_(i,t,r),p(o,!1),r=-1,n=!(i=0))}_(i,t,r)}}function _(e,t,r){1<e&&p({kind:2,pos:t,end:r},!1)}function m(e){return g.isFunctionBlock(e)&&187!==e.parent.kind}}})(ts=ts||{}),(_=>{var p,e;function m(e,t,r,n){return{kind:e,punctuationStripped:t,isCaseSensitive:r,camelCaseWeight:n}}function n(e){return 0===e.subWordTextChunks.length}function g(e){return 65<=e&&e<=90||!(e<127||!_.isUnicodeIdentifierStart(e,5))&&(e=String.fromCharCode(e))===e.toUpperCase()}function h(e){return 97<=e&&e<=122||!(e<127||!_.isUnicodeIdentifierStart(e,5))&&(e=String.fromCharCode(e))===e.toLowerCase()}function y(e){return 65<=e&&e<=90?e-65+97:e<127?e:String.fromCharCode(e).toLowerCase().charCodeAt(0)}function v(e){return 48<=e&&e<=57}function a(e){var t=e.toLowerCase();return{text:e,textLowerCase:t,isLowerCase:e===t,characterSpans:r(e)}}function r(e){return t(e,!1)}function i(e){return t(e,!0)}function t(e,t){for(var r,n,i=[],a=0,s=1;s<e.length;s++){var o=v(e.charCodeAt(s-1)),c=v(e.charCodeAt(s)),l=(u=t,l=s,n=void 0,n=g((r=e).charCodeAt(l-1)),r=g(r.charCodeAt(l)),u?r&&!n:r),u=((e,t,r,n)=>{if(t&&r!==n&&r+1<e.length){var t=g(e.charCodeAt(r)),i=h(e.charCodeAt(r+1));if(t&&i){for(var a=n;a<r;a++)if(!g(e.charCodeAt(a)))return!1;return!0}}return!1})(e,t,s,a);(d(e.charCodeAt(s-1))||d(e.charCodeAt(s))||o!==c||l||u)&&(f(e,a,s)||i.push(_.createTextSpan(a,s-a)),a=s)}return f(e,a,e.length)||i.push(_.createTextSpan(a,e.length-a)),i}function d(e){switch(e){case 33:case 34:case 35:case 37:case 38:case 39:case 40:case 41:case 42:case 44:case 45:case 46:case 47:case 58:case 59:case 63:case 64:case 91:case 92:case 93:case 95:case 123:case 125:return 1}}function f(e,t,r){for(var n=t;n<r;n++){var i=e.charCodeAt(n);if(!d(i)||95===i||36===i)return}return 1}(e=p=_.PatternMatchKind||(_.PatternMatchKind={}))[e.exact=0]="exact",e[e.prefix=1]="prefix",e[e.substring=2]="substring",e[e.camelCase=3]="camelCase",_.createPatternMatcher=function(e){var r=_.createMap(),s=(e=e.trim()).split(".").map(function(e){return{totalTextChunk:a(e=e.trim()),subWordTextChunks:(e=>{for(var t=[],r=0,n=0,i=0;i<e.length;i++)(e=>g(e)||h(e)||v(e)||95===e||36===e)(e.charCodeAt(i))?(0===n&&(r=i),n++):0<n&&(t.push(a(e.substr(r,n))),n=0);return 0<n&&t.push(a(e.substr(r,n))),t})(e)}}),t=0===s.length||_.forEach(s,n);return{getMatches:function(e,t){if(o(t))return;t=l(t,_.lastOrUndefined(s));if(!t)return;if(e=e||[],s.length-1>e.length)return;for(var r=t,n=s.length-2,i=e.length-1;0<=n;--n,--i){var a=s[n],a=l(e[i],a);if(!a)return;_.addRange(r,a)}return r},getMatchesForLastSegmentOfPattern:function(e){if(o(e))return;return l(e,_.lastOrUndefined(s))},patternContainsDots:1<s.length};function o(e){return t||!e}function u(e){var t=r.get(e);return t||r.set(e,t=i(e)),t}function c(e,t,r){var n=((e,t)=>{for(var r=e.length-t.length,n=0;n<=r;n++)if(((e,t,r)=>{for(var n=0;n<t.length;n++){var i=y(e.charCodeAt(n+r)),a=t.charCodeAt(n);if(i!==a)return}return 1})(e,t,n))return n;return-1})(e,t.textLowerCase);if(0===n)return t.text.length===e.length?m(p.exact,r,e===t.text):m(p.prefix,r,_.startsWith(e,t.text));var i=t.isLowerCase;if(i){if(0<n)for(var a=0,s=u(e);a<s.length;a++){var o=s[a];if(f(e,o,t.text,!0))return m(p.substring,r,f(e,o,t.text,!1))}}else if(0<e.indexOf(t.text))return m(p.substring,r,!0);if(!i&&0<t.characterSpans.length){var c=u(e),l=d(e,c,t,!1);if(void 0!==l)return m(p.camelCase,r,!0,l);if(void 0!==(l=d(e,c,t,!0)))return m(p.camelCase,r,!1,l)}return i&&t.text.length<e.length&&0<n&&g(e.charCodeAt(n))?m(p.substring,r,!1):void 0}function l(e,t){if(!(e=>{for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(32===r||42===r)return 1}})(t.totalTextChunk.text)){var r=c(e,t.totalTextChunk,!1);if(r)return[r]}for(var n=void 0,i=0,a=t.subWordTextChunks;i<a.length;i++){var s=c(e,a[i],!0);if(!s)return;(n=n||[]).push(s)}return n}function f(e,t,r,n,i){var a=i?i.start:0,s=(i||r).length;if(s>t.length)return!1;if(n)for(var o=0;o<s;o++){var c=r.charCodeAt(a+o),l=e.charCodeAt(t.start+o);if(y(c)!==y(l))return!1}else for(o=0;o<s;o++)if((c=r.charCodeAt(a+o))!==(l=e.charCodeAt(t.start+o)))return!1;return!0}function d(e,t,r,n){for(var i,a=r.characterSpans,s=0,o=0,c=void 0,l=void 0;;){if(o===a.length)return i=0,l&&(i+=1),0===c&&(i+=2),i;if(s===t.length)return;for(var u=t[s],d=!1;o<a.length;o++){var p=a[o];if(d&&(!g(r.text.charCodeAt(a[o-1].start))||!g(r.text.charCodeAt(a[o].start))))break;if(!f(e,u,r.text,n,p))break;d=!0,c=void 0===c?s:c,l=void 0===l||l,u=_.createTextSpan(u.start+p.length,u.length-p.length)}d||void 0===l||(l=!1),s++}}},_.breakIntoCharacterSpans=r,_.breakIntoWordSpans=i})(ts=ts||{}),(S=>{S.preProcessFile=function(r,e,t){void 0===t&&(t=!1);var n,i=[],a=[],s=[],o=!1,c=0,l=!1;function u(){var e=S.scanner.scan();return 17===e?c++:18===e&&c--,e}function d(){var e=S.scanner.getTokenValue(),t=S.scanner.getTokenPos();return{fileName:e,pos:t,end:t+e.length}}function p(){s.push(d()),f()}function f(){0===c&&(l=!0)}function _(){return 124===S.scanner.getToken()&&(128===u()&&9===u()&&(n=n||[]).push({ref:d(),depth:c}),1)}function m(e){return 132===(e?u():S.scanner.getToken())&&(19===u()&&9===u()&&p(),1)}function g(){for(S.scanner.setText(r),u();;){if(1===S.scanner.getToken())break;_()||(()=>{var e=S.scanner.getToken();if(91===e){if(19===(e=u())){if(9===(e=u()))p()}else{if(9===e)return p(),1;if(71===e||S.isKeyword(e))if(140===(e=u())){if(9===(e=u()))return p(),1}else if(58===e){if(m(!0))return 1}else{if(26!==e)return 1;e=u()}if(17===e){for(e=u();18!==e&&1!==e;)e=u();18===e&&140===(e=u())&&9===(e=u())&&p()}else 39!==e||118!==(e=u())||71!==(e=u())&&!S.isKeyword(e)||140!==(e=u())||9!==(e=u())||p()}return 1}})()||(()=>{var e=S.scanner.getToken();if(84===e){if(f(),17===(e=u())){for(e=u();18!==e&&1!==e;)e=u();18===e&&140===(e=u())&&9===(e=u())&&p()}else if(39===e)140===(e=u())&&9===(e=u())&&p();else if(91===e&&(71===(e=u())||S.isKeyword(e))&&58===(e=u())&&m(!0));return 1}})()||t&&(m(!1)||(()=>{var e=S.scanner.getToken();if(71===e&&"define"===S.scanner.getTokenValue()){if(19===(e=u())){if(9===(e=u())){if(26!==(e=u()))return 1;e=u()}if(21===e)for(e=u();22!==e&&1!==e;)9===e&&p(),e=u()}return 1}})())||u()}S.scanner.setText(void 0)}if((e=void 0===e?!0:e)&&g(),e=S.getLeadingCommentRanges(r,0),S.forEach(e,function(e){var t=r.substring(e.pos,e.end),t=S.getFileReferenceFromReferencePath(t,e);t&&(o=t.isNoDefaultLib,e=t.fileReference)&&(t.isTypeReferenceDirective?a:i).push(e)}),l){if(n)for(var h=0,y=n;h<y.length;h++){var v=y[h];s.push(v.ref)}return{referencedFiles:i,typeReferenceDirectives:a,importedFiles:s,isLibFile:o,ambientExternalModules:void 0}}var b=void 0;if(n)for(var x=0,k=n;x<k.length;x++)0===(v=k[x]).depth?(b=b||[]).push(v.ref.fileName):s.push(v.ref);return{referencedFiles:i,typeReferenceDirectives:a,importedFiles:s,isLibFile:o,ambientExternalModules:b}}})(ts=ts||{}),(o=>{function c(e,t,r,n,i,a){return{canRename:!0,kind:r,displayName:e,localizedErrorMessage:void 0,fullDisplayName:t,kindModifiers:n,triggerSpan:((e,t)=>{var r=e.getStart(t),t=e.getWidth(t);return 9===e.kind&&(r+=1,t-=2),o.createTextSpan(r,t)})(i,a)}}function l(e){return{canRename:!1,localizedErrorMessage:o.getLocaleSpecificMessage(e),displayName:void 0,fullDisplayName:void 0,kind:void 0,kindModifiers:void 0,triggerSpan:void 0}}(o.Rename||(o.Rename={})).getRenameInfo=function(e,t,r,n,i){var a=o.memoize(function(){return r(o.normalizePath(t))});return((i=o.getTouchingWord(n,i,!0))&&(e=>{switch(e.kind){case 71:case 9:case 99:return 1;case 8:return o.isLiteralNameOfPropertyDeclarationOrIndexAccess(e);default:return}})(i)?((e,t,r,n)=>{var i,a=t.getSymbolAtLocation(e);if(a){var s=a.getDeclarations();if(s&&0<s.length)return o.some(s,n)?l(o.Diagnostics.You_cannot_rename_elements_that_are_defined_in_the_standard_TypeScript_library):!(71===e.kind&&79===e.originalKeywordKind&&1536&a.parent.flags)&&(i=o.stripQuotes(o.getDeclaredName(t,a,e)),s=o.SymbolDisplay.getSymbolKind(t,a,e))?c(i,t.getFullyQualifiedName(a),s,o.SymbolDisplay.getSymbolModifiers(a),e,r):void 0}else if(9===e.kind)return n(e)?l(o.Diagnostics.You_cannot_rename_elements_that_are_defined_in_the_standard_TypeScript_library):c(i=o.stripQuotes(e.text),i,"var","",e,r)})(i,e,n,function(e){return!!t&&(e=e.getSourceFile(),r(o.normalizePath(e.fileName))===a())}):void 0)||l(o.Diagnostics.You_cannot_rename_this_element)}})(ts=ts||{}),(h=>{var e,t;function a(e,t,r){if(h.isCallOrNewExpression(e.parent)){var n=e.parent,i=void 0,a=void 0;if(27===e.kind||19===e.kind)i=((e,t,r)=>(e=e.getChildren(r),r=e.indexOf(t),h.Debug.assert(0<=r&&e.length>r+1),e[r+1]))(n,e,r),h.Debug.assert(void 0!==i),a=0;else{if(!(i=h.findContainingList(e)))return;a=((e,t)=>{for(var r=0,e=e.getChildren(),n=0,i=e;n<i.length;n++){var a=i[n];if(a===t)break;26!==a.kind&&r++}return r})(i,e)}var s=n.typeArguments&&n.typeArguments.pos===i.pos?0:1,o=(e=>{var e=e.getChildren(),t=h.countWhere(e,function(e){return 26!==e.kind});return 0<e.length&&26===h.lastOrUndefined(e).kind&&t++,t})(i);return 0!==a&&h.Debug.assertLessThan(a,o),u=r,d=(i=i).getFullStart(),u=h.skipTrivia(u.text,i.getEnd(),!1),{kind:s,invocation:n,argumentsSpan:h.createTextSpan(d,u-d),argumentIndex:a,argumentCount:o}}if(13===e.kind&&183===e.parent.kind){if(h.isInsideTemplateLiteral(e,t))return p(e.parent,0,r)}else{var c,l;if(14===e.kind&&183===e.parent.parent.kind)return l=(c=e.parent).parent,h.Debug.assert(196===c.kind),p(l,a=h.isInsideTemplateLiteral(e,t)?0:1,r);if(205===e.parent.kind&&183===e.parent.parent.parent.kind)return l=(c=(i=e.parent).parent).parent,h.Debug.assert(196===c.kind),16!==e.kind||h.isInsideTemplateLiteral(e,t)?p(l,a=((e,t,r)=>(h.Debug.assert(r>=t.getStart(),"Assumed 'position' could not occur before node."),h.isTemplateLiteralKind(t.kind)?h.isInsideTemplateLiteral(t,r)?0:e+2:e+1))(c.templateSpans.indexOf(i),e,t),r):void 0;if(e.parent&&h.isJsxOpeningLikeElement(e.parent))return s=e.parent.attributes.getFullStart(),n=h.skipTrivia(r.text,e.parent.attributes.getEnd(),!1),{kind:3,invocation:e.parent,argumentsSpan:h.createTextSpan(s,n-s),argumentIndex:0,argumentCount:1}}var u,d}function p(e,t,r){var n=13===e.template.kind?1:e.template.templateSpans.length+1;return 0!==t&&h.Debug.assertLessThan(t,n),{kind:2,invocation:e,argumentsSpan:((e,t)=>{var r=(e=e.template).getStart(),n=e.getEnd();return 196===e.kind&&0===h.lastOrUndefined(e.templateSpans).literal.getFullWidth()&&(n=h.skipTrivia(t.text,n,!1)),h.createTextSpan(r,n-r)})(e,r),argumentIndex:t,argumentCount:n}}function y(e,t,r){for(var n=e;265!==n.kind;n=n.parent){if(h.isFunctionBlock(n))return;(n.pos<n.parent.pos||n.end>n.parent.end)&&h.Debug.fail("Node of kind "+n.kind+" is not a subspan of its parent of kind "+n.parent.kind);var i=a(n,t,r);if(i)return i}}function v(e,t,r,s){var n=r.argumentCount,i=r.argumentsSpan,o=r.invocation,a=r.argumentIndex,c=0===r.kind,r=h.getInvokedExpression(o),r=s.getSymbolAtLocation(r),l=r&&h.symbolToDisplayParts(s,r,void 0,void 0),r=h.map(e,function(t){var e,r,n=[],i=[],a=(l&&h.addRange(n,l),c?(r=!1,n.push(h.punctuationPart(27)),e=(e=(t.target||t).typeParameters)&&0<e.length?h.map(e,d):h.emptyArray,i.push(h.punctuationPart(29)),a=h.mapToDisplayParts(function(e){return s.getSymbolDisplayBuilder().buildDisplayForParametersAndDelimiters(t.thisParameter,t.parameters,e,o)}),h.addRange(i,a)):(r=t.hasRestParameter,a=h.mapToDisplayParts(function(e){return s.getSymbolDisplayBuilder().buildDisplayForTypeParametersAndDelimiters(t.typeParameters,e,o)}),h.addRange(n,a),n.push(h.punctuationPart(19)),e=h.map(t.parameters,u),i.push(h.punctuationPart(20))),h.mapToDisplayParts(function(e){return s.getSymbolDisplayBuilder().buildReturnTypeDisplay(t,e,o)}));return h.addRange(i,a),{isVariadic:r,prefixDisplayParts:n,suffixDisplayParts:i,separatorDisplayParts:[h.punctuationPart(26),h.spacePart()],parameters:e,documentation:t.getDocumentationComment(),tags:t.getJsDocTags()}}),e=(0!==a&&h.Debug.assertLessThan(a,n),e.indexOf(t));return h.Debug.assert(-1!==e),{items:r,applicableSpan:i,selectedItemIndex:e,argumentIndex:a,argumentCount:n};function u(t){var e=h.mapToDisplayParts(function(e){return s.getSymbolDisplayBuilder().buildParameterDisplay(t,e,o)});return{name:t.name,documentation:t.getDocumentationComment(),displayParts:e,isOptional:s.isOptionalParameter(t.valueDeclaration)}}function d(t){var e=h.mapToDisplayParts(function(e){return s.getSymbolDisplayBuilder().buildTypeParameterDisplay(t,e,o)});return{name:t.symbol.name,documentation:h.emptyArray,displayParts:e,isOptional:!1}}}e=h.SignatureHelp||(h.SignatureHelp={}),(t=e.ArgumentListKind||(e.ArgumentListKind={}))[t.TypeArguments=0]="TypeArguments",t[t.CallArguments=1]="CallArguments",t[t.TaggedTemplateArguments=2]="TaggedTemplateArguments",t[t.JSXAttributesArguments=3]="JSXAttributesArguments",e.getSignatureHelpItems=function(e,t,r,n){var i=e.getTypeChecker(),a=h.findTokenOnLeftOfPosition(t,r);if(a){a=y(a,r,t);if(a){n.throwIfCancellationRequested();var r=a.invocation,s=[],r=i.getResolvedSignature(r,s,a.argumentCount);if(n.throwIfCancellationRequested(),s.length)return v(s,r,a,i);if(h.isSourceFileJavaScript(t)){var o=a,n=e;if(181===o.invocation.kind){var s=o.invocation.expression,c=71===s.kind?s:179===s.kind?s.name:void 0;if(c&&c.escapedText)for(var l=n.getTypeChecker(),u=0,d=n.getSourceFiles();u<d.length;u++){var p=d[u].getNamedDeclarations().get(c.text);if(p)for(var f=0,_=p;f<_.length;f++){var m=_[f],g=m.symbol;if(g){g=l.getTypeOfSymbolAtLocation(g,m);if(g){m=g.getCallSignatures();if(m&&m.length)return v(m,m[0],o,l)}}}}}}}}},e.getImmediatelyContainingArgumentInfo=a,e.getContainingArgumentInfo=y})(ts=ts||{}),(N=>{var e;function I(e,t,r){var n=N.getCombinedLocalAndExportSymbolFlags(t);if(32&n)return N.getDeclarationOfKind(t,199)?"local class":"class";if(384&n)return"enum";if(524288&n)return"type";if(64&n)return"interface";if(262144&n)return"type parameter";e=P(e,t,r);if(""===e){if(262144&n)return"type parameter";if(8&n)return"enum member";if(2097152&n)return"alias";if(1536&n)return"module"}return e}function P(e,t,r){var n;return e.isUndefinedSymbol(t)?"var":e.isArgumentsSymbol(t)?"local var":99===r.kind&&N.isExpression(r)?"parameter":3&(n=N.getCombinedLocalAndExportSymbolFlags(t))?N.isFirstDeclarationOfSymbolParameter(t)?"parameter":t.valueDeclaration&&N.isConst(t.valueDeclaration)?"const":N.forEach(t.declarations,N.isLet)?"let":i(t)?"local var":"var":16&n?i(t)?"local function":"function":32768&n?"getter":65536&n?"setter":8192&n?"method":16384&n?"constructor":4&n?33554432&n&&6&t.checkFlags?N.forEach(e.getRootSymbols(t),function(e){e=e.getFlags();if(98311&e)return"property";N.Debug.assert(!!(8208&e))})||(e.getTypeOfSymbolAtLocation(t,r).getCallSignatures().length?"method":"property"):r.parent&&N.isJsxAttribute(r.parent)?"JSX attribute":"property":""}function i(e){return!e.parent&&N.forEach(e.declarations,function(e){if(186!==e.kind){if(226!==e.kind&&228!==e.kind)return!1;for(var t=e.parent;!N.isFunctionBlock(t);t=t.parent)if(265===t.kind||234===t.kind)return!1}return!0})}(e=N.SymbolDisplay||(N.SymbolDisplay={})).getSymbolKind=I,e.getSymbolModifiers=function(e){return e&&e.declarations&&0<e.declarations.length?N.getNodeModifiers(e.declarations[0]):""},e.getSymbolDisplayPartsDocumentationAndSymbolKind=function(n,e,r,i,t,a){void 0===a&&(a=N.getMeaningFromLocation(t));var s,o,c,l=[],u=N.getCombinedLocalAndExportSymbolFlags(e),d=P(n,e,t),p=99===t.kind&&N.isExpression(t);if(""!==d||32&u||2097152&u){"getter"!==d&&"setter"!==d||(d="property");var f,_=void 0,m=p?n.getTypeAtLocation(t):n.getTypeOfSymbolAtLocation(e.exportSymbol||e,t),g=(t.parent&&179===t.parent.kind&&((g=t.parent.name)===t||g&&0===g.getFullWidth())&&(t=t.parent),void 0);if(N.isCallOrNewExpression(t)?g=t:(N.isCallExpressionTarget(t)||N.isNewExpressionTarget(t)||t.parent&&N.isJsxOpeningLikeElement(t.parent)&&N.isFunctionLike(e.valueDeclaration))&&(g=t.parent),g){_=n.getResolvedSignature(g,[]);var h=182===g.kind||N.isCallExpression(g)&&97===g.expression.kind,y=h?m.getConstructSignatures():m.getCallSignatures();if(_=N.contains(y,_.target)||N.contains(y,_)?_:y.length?y[0]:void 0){switch(h&&32&u?E(m.symbol,d="constructor"):2097152&u?(D(d="alias"),l.push(N.spacePart()),h&&(l.push(N.keywordPart(94)),l.push(N.spacePart())),C(e)):E(e,d),d){case"JSX attribute":case"property":case"var":case"const":case"let":case"parameter":case"local var":l.push(N.punctuationPart(56)),l.push(N.spacePart()),h&&(l.push(N.keywordPart(94)),l.push(N.spacePart())),32768&m.flags&&16&m.objectFlags||!m.symbol||N.addRange(l,N.symbolToDisplayParts(n,m.symbol,i,void 0,1)),A(_,y,16);break;default:A(_,y)}c=!0}}else(N.isNameOfFunctionDeclaration(t)&&!(98304&u)||123===t.kind&&152===t.parent.kind)&&(f=t.parent,N.find(e.declarations,function(e){return e===(123===t.kind?f.parent:f)}))&&(y=152===f.kind?m.getNonNullableType().getConstructSignatures():m.getNonNullableType().getCallSignatures(),_=n.isImplementationOfOverload(f)?y[0]:n.getSignatureFromDeclaration(f),152===f.kind?E(m.symbol,d="constructor"):E(155!==f.kind||2048&m.symbol.flags||4096&m.symbol.flags?e:m.symbol,d),A(_,y),c=!0)}if(32&u&&!c&&!p&&(N.getDeclarationOfKind(e,199)?D("local class"):l.push(N.keywordPart(75)),l.push(N.spacePart()),C(e),w(e,r)),64&u&&2&a&&(S(),l.push(N.keywordPart(109)),l.push(N.spacePart()),C(e),w(e,r)),524288&u&&(S(),l.push(N.keywordPart(138)),l.push(N.spacePart()),C(e),w(e,r),l.push(N.spacePart()),l.push(N.operatorPart(58)),l.push(N.spacePart()),N.addRange(l,N.typeToDisplayParts(n,n.getDeclaredTypeOfSymbol(e),i,1024))),384&u&&(S(),N.forEach(e.declarations,N.isConstEnumDeclaration)&&(l.push(N.keywordPart(76)),l.push(N.spacePart())),l.push(N.keywordPart(83)),l.push(N.spacePart()),C(e)),1536&u&&(S(),g=(v=N.getDeclarationOfKind(e,233))&&v.name&&71===v.name.kind,l.push(N.keywordPart(g?129:128)),l.push(N.spacePart()),C(e)),262144&u&&2&a&&(S(),l.push(N.punctuationPart(19)),l.push(N.textPart("type parameter")),l.push(N.punctuationPart(20)),l.push(N.spacePart()),C(e),e.parent?(T(),C(e.parent,i),w(e.parent,i)):(g=N.getDeclarationOfKind(e,145),N.Debug.assert(void 0!==g),(v=g.parent)&&(N.isFunctionLikeKind(v.kind)?(T(),_=n.getSignatureFromDeclaration(v),156===v.kind?(l.push(N.keywordPart(94)),l.push(N.spacePart())):155!==v.kind&&v.name&&C(v.symbol),N.addRange(l,N.signatureToDisplayParts(n,_,r,64))):231===v.kind&&(T(),l.push(N.keywordPart(138)),l.push(N.spacePart()),C(v.symbol),w(v.symbol,r))))),8&u&&(E(e,d="enum member"),264===(v=e.declarations[0]).kind)&&void 0!==(a=n.getConstantValue(v))&&(l.push(N.spacePart()),l.push(N.operatorPart(58)),l.push(N.spacePart()),l.push(N.displayPart(N.getTextOfConstantValue(a),"number"==typeof a?N.SymbolDisplayPartKind.numericLiteral:N.SymbolDisplayPartKind.stringLiteral))),2097152&u){switch(S(),e.declarations[0].kind){case 236:l.push(N.keywordPart(84)),l.push(N.spacePart()),l.push(N.keywordPart(129));break;case 243:l.push(N.keywordPart(84)),l.push(N.spacePart()),l.push(N.keywordPart(e.declarations[0].isExportEquals?58:79));break;default:l.push(N.keywordPart(91))}l.push(N.spacePart()),C(e),N.forEach(e.declarations,function(e){if(237===e.kind)return N.isExternalModuleImportEqualsDeclaration(e=e)?(l.push(N.spacePart()),l.push(N.operatorPart(58)),l.push(N.spacePart()),l.push(N.keywordPart(132)),l.push(N.punctuationPart(19)),l.push(N.displayPart(N.getTextOfNode(N.getExternalModuleImportEqualsDeclarationExpression(e)),N.SymbolDisplayPartKind.stringLiteral)),l.push(N.punctuationPart(20))):(e=n.getSymbolAtLocation(e.moduleReference))&&(l.push(N.spacePart()),l.push(N.operatorPart(58)),l.push(N.spacePart()),C(e,i)),!0})}if(c||(""!==d?m&&(p?(S(),l.push(N.keywordPart(99))):E(e,d),"property"===d||"JSX attribute"===d||3&u||"local var"===d||p?(l.push(N.punctuationPart(56)),l.push(N.spacePart()),m.symbol&&262144&m.symbol.flags?(g=N.mapToDisplayParts(function(e){n.getSymbolDisplayBuilder().buildTypeParameterDisplay(m,e,i)}),N.addRange(l,g)):N.addRange(l,N.typeToDisplayParts(n,m,i))):(16&u||8192&u||16384&u||131072&u||98304&u||"method"===d)&&(y=m.getNonNullableType().getCallSignatures()).length&&A(y[0],y)):d=I(n,e,t)),!s&&(s=e.getDocumentationComment(),o=e.getJsDocTags(),0===s.length)&&4&u&&e.parent&&N.forEach(e.parent.declarations,function(e){return 265===e.kind}))for(var v,b=0,x=e.declarations;b<x.length;b++)if((v=x[b]).parent&&194===v.parent.kind){var k=n.getSymbolAtLocation(v.parent.right);if(k&&(s=k.getDocumentationComment(),o=k.getJsDocTags(),0<s.length))break}return{displayParts:l,documentation:s,symbolKind:d,tags:o};function S(){l.length&&l.push(N.lineBreakPart())}function T(){l.push(N.spacePart()),l.push(N.keywordPart(92)),l.push(N.spacePart())}function C(e,t){e=N.symbolToDisplayParts(n,e,t||r,void 0,3);N.addRange(l,e)}function E(e,t){S(),t&&(D(t),l.push(N.spacePart()),C(e))}function D(e){switch(e){case"var":case"function":case"let":case"const":case"constructor":return void l.push(N.textOrKeywordPart(e));default:l.push(N.punctuationPart(19)),l.push(N.textOrKeywordPart(e)),l.push(N.punctuationPart(20))}}function A(e,t,r){N.addRange(l,N.signatureToDisplayParts(n,e,i,64|r)),1<t.length&&(l.push(N.spacePart()),l.push(N.punctuationPart(19)),l.push(N.operatorPart(37)),l.push(N.displayPart((t.length-1).toString(),N.SymbolDisplayPartKind.numericLiteral)),l.push(N.spacePart()),l.push(N.textPart(2===t.length?"overload":"overloads")),l.push(N.punctuationPart(20))),s=e.getDocumentationComment(),o=e.getJsDocTags()}function w(t,r){var e=N.mapToDisplayParts(function(e){n.getSymbolDisplayBuilder().buildTypeParameterDisplayFromSymbol(t,e,r)});N.addRange(l,e)}}})(ts=ts||{}),(l=>{function a(e,t){var r,n,i=[],a=t.compilerOptions?u(t.compilerOptions,i):l.getDefaultCompilerOptions(),s=(a.isolatedModules=!0,a.suppressOutputPathCheck=!0,a.allowNonTsExtensions=!0,a.noLib=!0,a.lib=void 0,a.types=void 0,a.noEmit=void 0,a.noEmitOnError=void 0,a.paths=void 0,a.rootDirs=void 0,a.declaration=void 0,a.declarationDir=void 0,a.out=void 0,a.outFile=void 0,a.noResolve=!0,t.fileName||(a.jsx?"module.tsx":"module.ts")),o=l.createSourceFile(s,e,a.target),c=(t.moduleName&&(o.moduleName=t.moduleName),t.renamedDependencies&&(o.renamedDependencies=l.createMapFromTemplate(t.renamedDependencies)),l.getNewLineCharacter(a)),e=l.createProgram([s],a,{getSourceFile:function(e){return e===l.normalizePath(s)?o:void 0},writeFile:function(e,t){l.fileExtensionIs(e,".map")?(l.Debug.assertEqual(n,void 0,"Unexpected multiple source map outputs, file:",e),n=t):(l.Debug.assertEqual(r,void 0,"Unexpected multiple outputs, file:",e),r=t)},getDefaultLibFileName:function(){return"lib.d.ts"},useCaseSensitiveFileNames:function(){return!1},getCanonicalFileName:function(e){return e},getCurrentDirectory:function(){return""},getNewLine:function(){return c},fileExists:function(e){return e===s},readFile:function(){return""},directoryExists:function(){return!0},getDirectories:function(){return[]}});return t.reportDiagnostics&&(l.addRange(i,e.getSyntacticDiagnostics(o)),l.addRange(i,e.getOptionsDiagnostics())),e.emit(void 0,void 0,void 0,void 0,t.transformers),l.Debug.assert(void 0!==r,"Output generation failed"),{outputText:r,diagnostics:i,sourceMapText:n}}var i;function u(r,n){i=i||l.filter(l.optionDeclarations,function(e){return"object"==typeof e.type&&!l.forEachEntry(e.type,function(e){return"number"!=typeof e})}),r=l.cloneCompilerOptions(r);for(var e=0,t=i;e<t.length;e++)(e=>{if(!l.hasProperty(r,e.name))return;var t=r[e.name];l.isString(t)?r[e.name]=l.parseCustomTypeOption(e,t,n):l.forEachEntry(e.type,function(e){return e===t})||n.push(l.createCompilerDiagnosticForInvalidCustomType(e))})(t[e]);return r}l.transpileModule=a,l.transpile=function(e,t,r,n,i){return e=a(e,{compilerOptions:t,fileName:r,reportDiagnostics:!!n,moduleName:i}),l.addRange(n,e.diagnostics),e.outputText},l.fixupCompilerOptions=u})(ts=ts||{}),(_=>{var e,m,g;e=_.formatting||(_.formatting={}),m=_.createScanner(5,!1,0),g=_.createScanner(5,!1,1),e.getFormattingScanner=function(e,t,r,i,n){var a,s,o,c,l=1===t?g:m,u=(l.setText(e),l.setTextPos(r),!0),t=n({advance:function(){d=void 0,l.getStartPos()!==r?u=s&&4===_.lastOrUndefined(s).kind:l.scan();a=void 0,s=void 0;var e=l.getStartPos();for(;e<i;){var t=l.getToken();if(!_.isTrivia(t))break;l.scan();t={pos:e,end:l.getStartPos(),kind:t};e=l.getStartPos(),a=_.append(a,t)}o=l.getStartPos()},readTokenInfo:function(e){_.Debug.assert(p());var t=(e=>{switch(e.kind){case 31:case 66:case 67:case 47:case 46:return 1}})(e)?1:12===e.kind?2:(e=>15===e.kind||16===e.kind)(e)?3:(e=>{if(e.parent)switch(e.parent.kind){case 253:case 251:case 252:case 250:return _.isKeyword(e.kind)||71===e.kind}})(e)?4:10===e.kind?5:0;if(!d||t!==c){l.getStartPos()!==o&&(_.Debug.assert(void 0!==d),l.setTextPos(o),l.scan());var r=((e,t)=>{var r,n=l.getToken();switch(c=0,t){case 1:if(29===n)return c=1,r=l.reScanGreaterToken(),_.Debug.assert(e.kind===r),r;break;case 2:if((e=>41===e||63===e)(n))return c=2,r=l.reScanSlashToken(),_.Debug.assert(e.kind===r),r;break;case 3:if(18===n)return c=3,l.reScanTemplateToken();break;case 4:return c=4,l.scanJsxIdentifier();case 5:return c=5,l.reScanJsxToken();case 0:break;default:_.Debug.assertNever(t)}return n})(e,t),t={pos:l.getStartPos(),end:l.getTextPos(),kind:r};for(s=s&&void 0;l.getStartPos()<i&&(r=l.scan(),_.isTrivia(r));){var n={pos:l.getStartPos(),end:l.getTextPos(),kind:r};if((s=s||[]).push(n),4===r){l.scan();break}}d={leadingTrivia:a,trailingTrivia:s,token:t}}return f(d,e)},isOnToken:p,getCurrentLeadingTrivia:function(){return a},lastTrailingTriviaWasNewLine:function(){return u},skipToEndOf:function(e){l.setTextPos(e.end),o=l.getStartPos(),c=void 0,d=void 0,u=!1,a=void 0,s=void 0}}),d=void 0;return l.setText(void 0),t;function p(){var e=d?d.token.kind:l.getToken();return(d?d.token.pos:l.getStartPos())<i&&1!==e&&!_.isTrivia(e)}function f(e,t){return _.isToken(t)&&e.token.kind!==t.kind&&(e.token.kind=t.kind),e}}})(ts=ts||{}),(a=>{var e;function t(e,t,r){this.sourceFile=e,this.formattingRequestKind=t,this.options=r}e=a.formatting||(a.formatting={}),t.prototype.updateContext=function(e,t,r,n,i){a.Debug.assert(void 0!==e,"currentTokenSpan is null"),a.Debug.assert(void 0!==t,"currentTokenParent is null"),a.Debug.assert(void 0!==r,"nextTokenSpan is null"),a.Debug.assert(void 0!==n,"nextTokenParent is null"),a.Debug.assert(void 0!==i,"commonParent is null"),this.currentTokenSpan=e,this.currentTokenParent=t,this.nextTokenSpan=r,this.nextTokenParent=n,this.contextNode=i,this.contextNodeAllOnSameLine=void 0,this.nextNodeAllOnSameLine=void 0,this.tokensAreOnSameLine=void 0,this.contextNodeBlockIsOnOneLine=void 0,this.nextNodeBlockIsOnOneLine=void 0},t.prototype.ContextNodeAllOnSameLine=function(){return void 0===this.contextNodeAllOnSameLine&&(this.contextNodeAllOnSameLine=this.NodeIsOnOneLine(this.contextNode)),this.contextNodeAllOnSameLine},t.prototype.NextNodeAllOnSameLine=function(){return void 0===this.nextNodeAllOnSameLine&&(this.nextNodeAllOnSameLine=this.NodeIsOnOneLine(this.nextTokenParent)),this.nextNodeAllOnSameLine},t.prototype.TokensAreOnSameLine=function(){var e,t;return void 0===this.tokensAreOnSameLine&&(e=this.sourceFile.getLineAndCharacterOfPosition(this.currentTokenSpan.pos).line,t=this.sourceFile.getLineAndCharacterOfPosition(this.nextTokenSpan.pos).line,this.tokensAreOnSameLine=e===t),this.tokensAreOnSameLine},t.prototype.ContextNodeBlockIsOnOneLine=function(){return void 0===this.contextNodeBlockIsOnOneLine&&(this.contextNodeBlockIsOnOneLine=this.BlockIsOnOneLine(this.contextNode)),this.contextNodeBlockIsOnOneLine},t.prototype.NextNodeBlockIsOnOneLine=function(){return void 0===this.nextNodeBlockIsOnOneLine&&(this.nextNodeBlockIsOnOneLine=this.BlockIsOnOneLine(this.nextTokenParent)),this.nextNodeBlockIsOnOneLine},t.prototype.NodeIsOnOneLine=function(e){return this.sourceFile.getLineAndCharacterOfPosition(e.getStart(this.sourceFile)).line===this.sourceFile.getLineAndCharacterOfPosition(e.getEnd()).line},t.prototype.BlockIsOnOneLine=function(e){var t=a.findChildOfKind(e,17,this.sourceFile),e=a.findChildOfKind(e,18,this.sourceFile);return!(!t||!e)&&this.sourceFile.getLineAndCharacterOfPosition(t.getEnd()).line===this.sourceFile.getLineAndCharacterOfPosition(e.getStart(this.sourceFile)).line},e.FormattingContext=t})(ts=ts||{}),(e=>{(e=(e=e.formatting||(e.formatting={})).FormattingRequestKind||(e.FormattingRequestKind={}))[e.FormatDocument=0]="FormatDocument",e[e.FormatSelection=1]="FormatSelection",e[e.FormatOnEnter=2]="FormatOnEnter",e[e.FormatOnSemicolon=3]="FormatOnSemicolon",e[e.FormatOnOpeningCurlyBrace=4]="FormatOnOpeningCurlyBrace",e[e.FormatOnClosingCurlyBrace=5]="FormatOnClosingCurlyBrace"})(ts=ts||{}),(e=>{(e.formatting||(e.formatting={})).Rule=function(e,t,r){void 0===r&&(r=0),this.Descriptor=e,this.Operation=t,this.Flag=r}})(ts=ts||{}),(e=>{(e=(e=e.formatting||(e.formatting={})).RuleAction||(e.RuleAction={}))[e.Ignore=1]="Ignore",e[e.Space=2]="Space",e[e.NewLine=4]="NewLine",e[e.Delete=8]="Delete"})(ts=ts||{}),(e=>{var r;function n(e,t){this.LeftTokenRange=e,this.RightTokenRange=t}r=e.formatting||(e.formatting={}),n.prototype.toString=function(){return"[leftRange="+this.LeftTokenRange+",rightRange="+this.RightTokenRange+"]"},n.create1=function(e,t){return n.create4(r.Shared.TokenRange.FromToken(e),r.Shared.TokenRange.FromToken(t))},n.create2=function(e,t){return n.create4(e,r.Shared.TokenRange.FromToken(t))},n.create3=function(e,t){return n.create4(r.Shared.TokenRange.FromToken(e),t)},n.create4=function(e,t){return new n(e,t)},r.RuleDescriptor=n})(ts=ts||{}),(e=>{(e=(e=e.formatting||(e.formatting={})).RuleFlags||(e.RuleFlags={}))[e.None=0]="None",e[e.CanDeleteNewLines=1]="CanDeleteNewLines"})(ts=ts||{}),(e=>{var t;function r(e,t){this.Context=e,this.Action=t}t=e.formatting||(e.formatting={}),r.prototype.toString=function(){return"[context="+this.Context+",action="+this.Action+"]"},r.create1=function(e){return r.create2(t.RuleOperationContext.Any,e)},r.create2=function(e,t){return new r(e,t)},t.RuleOperation=r})(ts=ts||{}),(e=>{function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.customContextChecks=e}e=e.formatting||(e.formatting={}),t.prototype.IsAny=function(){return this===t.Any},t.prototype.InContext=function(e){if(!this.IsAny())for(var t=0,r=this.customContextChecks;t<r.length;t++)if(!(0,r[t])(e))return!1;return!0},t.Any=new t,e.RuleOperationContext=t})(ts=ts||{}),(r=>{var n,e;function i(){if(this.IgnoreBeforeComment=new n.Rule(n.RuleDescriptor.create4(n.Shared.TokenRange.Any,n.Shared.TokenRange.Comments),n.RuleOperation.create1(1)),this.IgnoreAfterLineComment=new n.Rule(n.RuleDescriptor.create3(2,n.Shared.TokenRange.Any),n.RuleOperation.create1(1)),this.NoSpaceBeforeSemicolon=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,25),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeColon=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,56),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsNotBinaryOpContext),8)),this.NoSpaceBeforeQuestionMark=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,55),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsNotBinaryOpContext),8)),this.SpaceAfterColon=new n.Rule(n.RuleDescriptor.create3(56,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsNotBinaryOpContext),2)),this.SpaceAfterQuestionMarkInConditionalOperator=new n.Rule(n.RuleDescriptor.create3(55,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsConditionalOperatorContext),2)),this.NoSpaceAfterQuestionMark=new n.Rule(n.RuleDescriptor.create3(55,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterSemicolon=new n.Rule(n.RuleDescriptor.create3(25,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),2)),this.SpaceAfterCloseBrace=new n.Rule(n.RuleDescriptor.create3(18,n.Shared.TokenRange.FromRange(0,142,[20])),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsAfterCodeBlockContext),2)),this.SpaceBetweenCloseBraceAndElse=new n.Rule(n.RuleDescriptor.create1(18,82),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),2)),this.SpaceBetweenCloseBraceAndWhile=new n.Rule(n.RuleDescriptor.create1(18,106),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),2)),this.NoSpaceAfterCloseBrace=new n.Rule(n.RuleDescriptor.create3(18,n.Shared.TokenRange.FromTokens([22,26,25])),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeDot=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,23),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterDot=new n.Rule(n.RuleDescriptor.create3(23,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeOpenBracket=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.AnyExcept(120),21),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterCloseBracket=new n.Rule(n.RuleDescriptor.create3(22,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsNotBeforeBlockInFunctionDeclarationContext),8)),this.FunctionOpenBraceLeftTokenRange=n.Shared.TokenRange.AnyIncludingMultilineComments,this.SpaceBeforeOpenBraceInFunction=new n.Rule(n.RuleDescriptor.create2(this.FunctionOpenBraceLeftTokenRange,17),n.RuleOperation.create2(new n.RuleOperationContext(i.isOptionDisabledOrUndefinedOrTokensOnSameLine("placeOpenBraceOnNewLineForFunctions"),i.IsFunctionDeclContext,i.IsBeforeBlockContext,i.IsNotFormatOnEnter,i.IsSameLineTokenOrBeforeBlockContext),2),1),this.TypeScriptOpenBraceLeftTokenRange=n.Shared.TokenRange.FromTokens([71,3,75,84,91]),this.SpaceBeforeOpenBraceInTypeScriptDeclWithBlock=new n.Rule(n.RuleDescriptor.create2(this.TypeScriptOpenBraceLeftTokenRange,17),n.RuleOperation.create2(new n.RuleOperationContext(i.isOptionDisabledOrUndefinedOrTokensOnSameLine("placeOpenBraceOnNewLineForFunctions"),i.IsTypeScriptDeclWithBlockContext,i.IsNotFormatOnEnter,i.IsSameLineTokenOrBeforeBlockContext),2),1),this.ControlOpenBraceLeftTokenRange=n.Shared.TokenRange.FromTokens([20,3,81,102,87,82]),this.SpaceBeforeOpenBraceInControl=new n.Rule(n.RuleDescriptor.create2(this.ControlOpenBraceLeftTokenRange,17),n.RuleOperation.create2(new n.RuleOperationContext(i.isOptionDisabledOrUndefinedOrTokensOnSameLine("placeOpenBraceOnNewLineForControlBlocks"),i.IsControlDeclContext,i.IsNotFormatOnEnter,i.IsSameLineTokenOrBeforeBlockContext),2),1),this.SpaceAfterOpenBrace=new n.Rule(n.RuleDescriptor.create3(17,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces"),i.IsBraceWrappedContext),2)),this.SpaceBeforeCloseBrace=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,18),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces"),i.IsBraceWrappedContext),2)),this.NoSpaceAfterOpenBrace=new n.Rule(n.RuleDescriptor.create3(17,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionDisabled("insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces"),i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeCloseBrace=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,18),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionDisabled("insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces"),i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBetweenEmptyBraceBrackets=new n.Rule(n.RuleDescriptor.create1(17,18),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsObjectContext),8)),this.NewLineAfterOpenBraceInBlockContext=new n.Rule(n.RuleDescriptor.create3(17,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsMultilineBlockContext),4)),this.NewLineBeforeCloseBraceInBlockContext=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.AnyIncludingMultilineComments,18),n.RuleOperation.create2(new n.RuleOperationContext(i.IsMultilineBlockContext),4)),this.NoSpaceAfterUnaryPrefixOperator=new n.Rule(n.RuleDescriptor.create4(n.Shared.TokenRange.UnaryPrefixOperators,n.Shared.TokenRange.UnaryPrefixExpressions),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsNotBinaryOpContext),8)),this.NoSpaceAfterUnaryPreincrementOperator=new n.Rule(n.RuleDescriptor.create3(43,n.Shared.TokenRange.UnaryPreincrementExpressions),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterUnaryPredecrementOperator=new n.Rule(n.RuleDescriptor.create3(44,n.Shared.TokenRange.UnaryPredecrementExpressions),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeUnaryPostincrementOperator=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.UnaryPostincrementExpressions,43),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeUnaryPostdecrementOperator=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.UnaryPostdecrementExpressions,44),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterPostincrementWhenFollowedByAdd=new n.Rule(n.RuleDescriptor.create1(43,37),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsBinaryOpContext),2)),this.SpaceAfterAddWhenFollowedByUnaryPlus=new n.Rule(n.RuleDescriptor.create1(37,37),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsBinaryOpContext),2)),this.SpaceAfterAddWhenFollowedByPreincrement=new n.Rule(n.RuleDescriptor.create1(37,43),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsBinaryOpContext),2)),this.SpaceAfterPostdecrementWhenFollowedBySubtract=new n.Rule(n.RuleDescriptor.create1(44,38),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsBinaryOpContext),2)),this.SpaceAfterSubtractWhenFollowedByUnaryMinus=new n.Rule(n.RuleDescriptor.create1(38,38),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsBinaryOpContext),2)),this.SpaceAfterSubtractWhenFollowedByPredecrement=new n.Rule(n.RuleDescriptor.create1(38,44),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsBinaryOpContext),2)),this.NoSpaceBeforeComma=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,26),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterCertainKeywords=new n.Rule(n.RuleDescriptor.create4(n.Shared.TokenRange.FromTokens([104,100,94,80,96,103,121]),n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),2)),this.NoSpaceAfterNewKeywordOnConstructorSignature=new n.Rule(n.RuleDescriptor.create1(94,19),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsConstructorSignatureContext),8)),this.SpaceAfterLetConstInVariableDeclaration=new n.Rule(n.RuleDescriptor.create4(n.Shared.TokenRange.FromTokens([110,76]),n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsStartOfVariableDeclarationList),2)),this.NoSpaceBeforeOpenParenInFuncCall=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,19),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsFunctionCallOrNewContext,i.IsPreviousTokenNotComma),8)),this.SpaceAfterFunctionInFuncDecl=new n.Rule(n.RuleDescriptor.create3(89,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsFunctionDeclContext),2)),this.SpaceBeforeOpenParenInFuncDecl=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,19),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("insertSpaceBeforeFunctionParenthesis"),i.IsNonJsxSameLineTokenContext,i.IsFunctionDeclContext),2)),this.NoSpaceBeforeOpenParenInFuncDecl=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,19),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionDisabledOrUndefined("insertSpaceBeforeFunctionParenthesis"),i.IsNonJsxSameLineTokenContext,i.IsFunctionDeclContext),8)),this.SpaceAfterVoidOperator=new n.Rule(n.RuleDescriptor.create3(105,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsVoidOpContext),2)),this.NoSpaceBetweenReturnAndSemicolon=new n.Rule(n.RuleDescriptor.create1(96,25),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),8)),this.SpaceBetweenStatements=new n.Rule(n.RuleDescriptor.create4(n.Shared.TokenRange.FromTokens([20,81,82,73]),n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsNonJsxElementContext,i.IsNotForContext),2)),this.SpaceAfterTryFinally=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.FromTokens([102,87]),17),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),2)),this.SpaceAfterGetSetInMember=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.FromTokens([125,135]),71),n.RuleOperation.create2(new n.RuleOperationContext(i.IsFunctionDeclContext),2)),this.SpaceBeforeBinaryKeywordOperator=new n.Rule(n.RuleDescriptor.create4(n.Shared.TokenRange.Any,n.Shared.TokenRange.BinaryKeywordOperators),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsBinaryOpContext),2)),this.SpaceAfterBinaryKeywordOperator=new n.Rule(n.RuleDescriptor.create4(n.Shared.TokenRange.BinaryKeywordOperators,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsBinaryOpContext),2)),this.SpaceAfterConstructor=new n.Rule(n.RuleDescriptor.create1(123,19),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("insertSpaceAfterConstructor"),i.IsNonJsxSameLineTokenContext),2)),this.NoSpaceAfterConstructor=new n.Rule(n.RuleDescriptor.create1(123,19),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionDisabledOrUndefined("insertSpaceAfterConstructor"),i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterModuleImport=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.FromTokens([128,132]),19),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterCertainTypeScriptKeywords=new n.Rule(n.RuleDescriptor.create4(n.Shared.TokenRange.FromTokens([117,75,124,79,83,84,85,125,108,91,109,128,129,112,114,113,131,135,115,138,140,127]),n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),2)),this.SpaceBeforeCertainTypeScriptKeywords=new n.Rule(n.RuleDescriptor.create4(n.Shared.TokenRange.Any,n.Shared.TokenRange.FromTokens([85,108,140])),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),2)),this.SpaceAfterModuleName=new n.Rule(n.RuleDescriptor.create1(9,17),n.RuleOperation.create2(new n.RuleOperationContext(i.IsModuleDeclContext),2)),this.SpaceBeforeArrow=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,36),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),2)),this.SpaceAfterArrow=new n.Rule(n.RuleDescriptor.create3(36,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),2)),this.NoSpaceAfterEllipsis=new n.Rule(n.RuleDescriptor.create1(24,71),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterOptionalParameters=new n.Rule(n.RuleDescriptor.create3(55,n.Shared.TokenRange.FromTokens([20,26])),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsNotBinaryOpContext),8)),this.NoSpaceBeforeOpenAngularBracket=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.TypeNames,27),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsTypeArgumentOrParameterOrAssertionContext),8)),this.NoSpaceBetweenCloseParenAndAngularBracket=new n.Rule(n.RuleDescriptor.create1(20,27),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsTypeArgumentOrParameterOrAssertionContext),8)),this.NoSpaceAfterOpenAngularBracket=new n.Rule(n.RuleDescriptor.create3(27,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsTypeArgumentOrParameterOrAssertionContext),8)),this.NoSpaceBeforeCloseAngularBracket=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,29),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsTypeArgumentOrParameterOrAssertionContext),8)),this.NoSpaceAfterCloseAngularBracket=new n.Rule(n.RuleDescriptor.create3(29,n.Shared.TokenRange.FromTokens([19,21,29,26])),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsTypeArgumentOrParameterOrAssertionContext),8)),this.NoSpaceBetweenEmptyInterfaceBraceBrackets=new n.Rule(n.RuleDescriptor.create1(17,18),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsObjectTypeContext),8)),this.SpaceBeforeAt=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,57),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),2)),this.NoSpaceAfterAt=new n.Rule(n.RuleDescriptor.create3(57,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterDecorator=new n.Rule(n.RuleDescriptor.create4(n.Shared.TokenRange.Any,n.Shared.TokenRange.FromTokens([117,71,84,79,75,115,114,112,113,125,135,21,39])),n.RuleOperation.create2(new n.RuleOperationContext(i.IsEndOfDecoratorContextOnSameLine),2)),this.NoSpaceBetweenFunctionKeywordAndStar=new n.Rule(n.RuleDescriptor.create1(89,39),n.RuleOperation.create2(new n.RuleOperationContext(i.IsFunctionDeclarationOrFunctionExpressionContext),8)),this.SpaceAfterStarInGeneratorDeclaration=new n.Rule(n.RuleDescriptor.create3(39,n.Shared.TokenRange.FromTokens([71,19])),n.RuleOperation.create2(new n.RuleOperationContext(i.IsFunctionDeclarationOrFunctionExpressionContext),2)),this.NoSpaceBetweenYieldKeywordAndStar=new n.Rule(n.RuleDescriptor.create1(116,39),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsYieldOrYieldStarWithOperand),8)),this.SpaceBetweenYieldOrYieldStarAndOperand=new n.Rule(n.RuleDescriptor.create4(n.Shared.TokenRange.FromTokens([116,39]),n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsYieldOrYieldStarWithOperand),2)),this.SpaceBetweenAsyncAndOpenParen=new n.Rule(n.RuleDescriptor.create1(120,19),n.RuleOperation.create2(new n.RuleOperationContext(i.IsArrowFunctionContext,i.IsNonJsxSameLineTokenContext),2)),this.SpaceBetweenAsyncAndFunctionKeyword=new n.Rule(n.RuleDescriptor.create1(120,89),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),2)),this.NoSpaceBetweenTagAndTemplateString=new n.Rule(n.RuleDescriptor.create3(71,n.Shared.TokenRange.FromTokens([13,14])),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),8)),this.SpaceBeforeJsxAttribute=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,71),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNextTokenParentJsxAttribute,i.IsNonJsxSameLineTokenContext),2)),this.SpaceBeforeSlashInJsxOpeningElement=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,41),n.RuleOperation.create2(new n.RuleOperationContext(i.IsJsxSelfClosingElementContext,i.IsNonJsxSameLineTokenContext),2)),this.NoSpaceBeforeGreaterThanTokenInJsxOpeningElement=new n.Rule(n.RuleDescriptor.create1(41,29),n.RuleOperation.create2(new n.RuleOperationContext(i.IsJsxSelfClosingElementContext,i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeEqualInJsxAttribute=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,58),n.RuleOperation.create2(new n.RuleOperationContext(i.IsJsxAttributeContext,i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterEqualInJsxAttribute=new n.Rule(n.RuleDescriptor.create3(58,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsJsxAttributeContext,i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeNonNullAssertionOperator=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,51),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext,i.IsNonNullAssertionContext),8)),this.SpaceAfterComma=new n.Rule(n.RuleDescriptor.create3(26,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("insertSpaceAfterCommaDelimiter"),i.IsNonJsxSameLineTokenContext,i.IsNonJsxElementContext,i.IsNextTokenNotCloseBracket),2)),this.NoSpaceAfterComma=new n.Rule(n.RuleDescriptor.create3(26,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionDisabledOrUndefined("insertSpaceAfterCommaDelimiter"),i.IsNonJsxSameLineTokenContext,i.IsNonJsxElementContext),8)),this.SpaceBeforeBinaryOperator=new n.Rule(n.RuleDescriptor.create4(n.Shared.TokenRange.Any,n.Shared.TokenRange.BinaryOperators),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("insertSpaceBeforeAndAfterBinaryOperators"),i.IsNonJsxSameLineTokenContext,i.IsBinaryOpContext),2)),this.SpaceAfterBinaryOperator=new n.Rule(n.RuleDescriptor.create4(n.Shared.TokenRange.BinaryOperators,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("insertSpaceBeforeAndAfterBinaryOperators"),i.IsNonJsxSameLineTokenContext,i.IsBinaryOpContext),2)),this.NoSpaceBeforeBinaryOperator=new n.Rule(n.RuleDescriptor.create4(n.Shared.TokenRange.Any,n.Shared.TokenRange.BinaryOperators),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionDisabledOrUndefined("insertSpaceBeforeAndAfterBinaryOperators"),i.IsNonJsxSameLineTokenContext,i.IsBinaryOpContext),8)),this.NoSpaceAfterBinaryOperator=new n.Rule(n.RuleDescriptor.create4(n.Shared.TokenRange.BinaryOperators,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionDisabledOrUndefined("insertSpaceBeforeAndAfterBinaryOperators"),i.IsNonJsxSameLineTokenContext,i.IsBinaryOpContext),8)),this.SpaceAfterKeywordInControl=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Keywords,19),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("insertSpaceAfterKeywordsInControlFlowStatements"),i.IsControlDeclContext),2)),this.NoSpaceAfterKeywordInControl=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Keywords,19),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionDisabledOrUndefined("insertSpaceAfterKeywordsInControlFlowStatements"),i.IsControlDeclContext),8)),this.NewLineBeforeOpenBraceInFunction=new n.Rule(n.RuleDescriptor.create2(this.FunctionOpenBraceLeftTokenRange,17),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("placeOpenBraceOnNewLineForFunctions"),i.IsFunctionDeclContext,i.IsBeforeMultilineBlockContext),4),1),this.NewLineBeforeOpenBraceInTypeScriptDeclWithBlock=new n.Rule(n.RuleDescriptor.create2(this.TypeScriptOpenBraceLeftTokenRange,17),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("placeOpenBraceOnNewLineForFunctions"),i.IsTypeScriptDeclWithBlockContext,i.IsBeforeMultilineBlockContext),4),1),this.NewLineBeforeOpenBraceInControl=new n.Rule(n.RuleDescriptor.create2(this.ControlOpenBraceLeftTokenRange,17),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("placeOpenBraceOnNewLineForControlBlocks"),i.IsControlDeclContext,i.IsBeforeMultilineBlockContext),4),1),this.SpaceAfterSemicolonInFor=new n.Rule(n.RuleDescriptor.create3(25,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("insertSpaceAfterSemicolonInForStatements"),i.IsNonJsxSameLineTokenContext,i.IsForContext),2)),this.NoSpaceAfterSemicolonInFor=new n.Rule(n.RuleDescriptor.create3(25,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionDisabledOrUndefined("insertSpaceAfterSemicolonInForStatements"),i.IsNonJsxSameLineTokenContext,i.IsForContext),8)),this.SpaceAfterOpenParen=new n.Rule(n.RuleDescriptor.create3(19,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis"),i.IsNonJsxSameLineTokenContext),2)),this.SpaceBeforeCloseParen=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,20),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis"),i.IsNonJsxSameLineTokenContext),2)),this.SpaceBetweenOpenParens=new n.Rule(n.RuleDescriptor.create1(19,19),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis"),i.IsNonJsxSameLineTokenContext),2)),this.NoSpaceBetweenParens=new n.Rule(n.RuleDescriptor.create1(19,20),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterOpenParen=new n.Rule(n.RuleDescriptor.create3(19,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionDisabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis"),i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeCloseParen=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,20),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionDisabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis"),i.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterOpenBracket=new n.Rule(n.RuleDescriptor.create3(21,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets"),i.IsNonJsxSameLineTokenContext),2)),this.SpaceBeforeCloseBracket=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,22),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets"),i.IsNonJsxSameLineTokenContext),2)),this.NoSpaceBetweenBrackets=new n.Rule(n.RuleDescriptor.create1(21,22),n.RuleOperation.create2(new n.RuleOperationContext(i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterOpenBracket=new n.Rule(n.RuleDescriptor.create3(21,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionDisabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets"),i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeCloseBracket=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,22),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionDisabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets"),i.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterTemplateHeadAndMiddle=new n.Rule(n.RuleDescriptor.create4(n.Shared.TokenRange.FromTokens([14,15]),n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionDisabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces"),i.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterTemplateHeadAndMiddle=new n.Rule(n.RuleDescriptor.create4(n.Shared.TokenRange.FromTokens([14,15]),n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces"),i.IsNonJsxSameLineTokenContext),2)),this.NoSpaceBeforeTemplateMiddleAndTail=new n.Rule(n.RuleDescriptor.create4(n.Shared.TokenRange.Any,n.Shared.TokenRange.FromTokens([15,16])),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionDisabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces"),i.IsNonJsxSameLineTokenContext),8)),this.SpaceBeforeTemplateMiddleAndTail=new n.Rule(n.RuleDescriptor.create4(n.Shared.TokenRange.Any,n.Shared.TokenRange.FromTokens([15,16])),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces"),i.IsNonJsxSameLineTokenContext),2)),this.NoSpaceAfterOpenBraceInJsxExpression=new n.Rule(n.RuleDescriptor.create3(17,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionDisabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces"),i.IsNonJsxSameLineTokenContext,i.IsJsxExpressionContext),8)),this.SpaceAfterOpenBraceInJsxExpression=new n.Rule(n.RuleDescriptor.create3(17,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces"),i.IsNonJsxSameLineTokenContext,i.IsJsxExpressionContext),2)),this.NoSpaceBeforeCloseBraceInJsxExpression=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,18),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionDisabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces"),i.IsNonJsxSameLineTokenContext,i.IsJsxExpressionContext),8)),this.SpaceBeforeCloseBraceInJsxExpression=new n.Rule(n.RuleDescriptor.create2(n.Shared.TokenRange.Any,18),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces"),i.IsNonJsxSameLineTokenContext,i.IsJsxExpressionContext),2)),this.SpaceAfterAnonymousFunctionKeyword=new n.Rule(n.RuleDescriptor.create1(89,19),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("insertSpaceAfterFunctionKeywordForAnonymousFunctions"),i.IsFunctionDeclContext),2)),this.NoSpaceAfterAnonymousFunctionKeyword=new n.Rule(n.RuleDescriptor.create1(89,19),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionDisabledOrUndefined("insertSpaceAfterFunctionKeywordForAnonymousFunctions"),i.IsFunctionDeclContext),8)),this.NoSpaceAfterTypeAssertion=new n.Rule(n.RuleDescriptor.create3(29,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionDisabledOrUndefined("insertSpaceAfterTypeAssertion"),i.IsNonJsxSameLineTokenContext,i.IsTypeAssertionContext),8)),this.SpaceAfterTypeAssertion=new n.Rule(n.RuleDescriptor.create3(29,n.Shared.TokenRange.Any),n.RuleOperation.create2(new n.RuleOperationContext(i.IsOptionEnabled("insertSpaceAfterTypeAssertion"),i.IsNonJsxSameLineTokenContext,i.IsTypeAssertionContext),2)),this.HighPriorityCommonRules=[this.IgnoreBeforeComment,this.IgnoreAfterLineComment,this.NoSpaceBeforeColon,this.SpaceAfterColon,this.NoSpaceBeforeQuestionMark,this.SpaceAfterQuestionMarkInConditionalOperator,this.NoSpaceAfterQuestionMark,this.NoSpaceBeforeDot,this.NoSpaceAfterDot,this.NoSpaceAfterUnaryPrefixOperator,this.NoSpaceAfterUnaryPreincrementOperator,this.NoSpaceAfterUnaryPredecrementOperator,this.NoSpaceBeforeUnaryPostincrementOperator,this.NoSpaceBeforeUnaryPostdecrementOperator,this.SpaceAfterPostincrementWhenFollowedByAdd,this.SpaceAfterAddWhenFollowedByUnaryPlus,this.SpaceAfterAddWhenFollowedByPreincrement,this.SpaceAfterPostdecrementWhenFollowedBySubtract,this.SpaceAfterSubtractWhenFollowedByUnaryMinus,this.SpaceAfterSubtractWhenFollowedByPredecrement,this.NoSpaceAfterCloseBrace,this.NewLineBeforeCloseBraceInBlockContext,this.SpaceAfterCloseBrace,this.SpaceBetweenCloseBraceAndElse,this.SpaceBetweenCloseBraceAndWhile,this.NoSpaceBetweenEmptyBraceBrackets,this.NoSpaceBetweenFunctionKeywordAndStar,this.SpaceAfterStarInGeneratorDeclaration,this.SpaceAfterFunctionInFuncDecl,this.NewLineAfterOpenBraceInBlockContext,this.SpaceAfterGetSetInMember,this.NoSpaceBetweenYieldKeywordAndStar,this.SpaceBetweenYieldOrYieldStarAndOperand,this.NoSpaceBetweenReturnAndSemicolon,this.SpaceAfterCertainKeywords,this.SpaceAfterLetConstInVariableDeclaration,this.NoSpaceBeforeOpenParenInFuncCall,this.SpaceBeforeBinaryKeywordOperator,this.SpaceAfterBinaryKeywordOperator,this.SpaceAfterVoidOperator,this.SpaceBetweenAsyncAndOpenParen,this.SpaceBetweenAsyncAndFunctionKeyword,this.NoSpaceBetweenTagAndTemplateString,this.SpaceBeforeJsxAttribute,this.SpaceBeforeSlashInJsxOpeningElement,this.NoSpaceBeforeGreaterThanTokenInJsxOpeningElement,this.NoSpaceBeforeEqualInJsxAttribute,this.NoSpaceAfterEqualInJsxAttribute,this.NoSpaceAfterModuleImport,this.SpaceAfterCertainTypeScriptKeywords,this.SpaceBeforeCertainTypeScriptKeywords,this.SpaceAfterModuleName,this.SpaceBeforeArrow,this.SpaceAfterArrow,this.NoSpaceAfterEllipsis,this.NoSpaceAfterOptionalParameters,this.NoSpaceBetweenEmptyInterfaceBraceBrackets,this.NoSpaceBeforeOpenAngularBracket,this.NoSpaceBetweenCloseParenAndAngularBracket,this.NoSpaceAfterOpenAngularBracket,this.NoSpaceBeforeCloseAngularBracket,this.NoSpaceAfterCloseAngularBracket,this.SpaceBeforeAt,this.NoSpaceAfterAt,this.SpaceAfterDecorator,this.NoSpaceBeforeNonNullAssertionOperator,this.NoSpaceAfterNewKeywordOnConstructorSignature],this.UserConfigurableRules=[this.SpaceAfterConstructor,this.NoSpaceAfterConstructor,this.SpaceAfterComma,this.NoSpaceAfterComma,this.SpaceAfterAnonymousFunctionKeyword,this.NoSpaceAfterAnonymousFunctionKeyword,this.SpaceAfterKeywordInControl,this.NoSpaceAfterKeywordInControl,this.SpaceAfterOpenParen,this.SpaceBeforeCloseParen,this.SpaceBetweenOpenParens,this.NoSpaceBetweenParens,this.NoSpaceAfterOpenParen,this.NoSpaceBeforeCloseParen,this.SpaceAfterOpenBracket,this.SpaceBeforeCloseBracket,this.NoSpaceBetweenBrackets,this.NoSpaceAfterOpenBracket,this.NoSpaceBeforeCloseBracket,this.SpaceAfterOpenBrace,this.SpaceBeforeCloseBrace,this.NoSpaceBetweenEmptyBraceBrackets,this.NoSpaceAfterOpenBrace,this.NoSpaceBeforeCloseBrace,this.SpaceAfterTemplateHeadAndMiddle,this.SpaceBeforeTemplateMiddleAndTail,this.NoSpaceAfterTemplateHeadAndMiddle,this.NoSpaceBeforeTemplateMiddleAndTail,this.SpaceAfterOpenBraceInJsxExpression,this.SpaceBeforeCloseBraceInJsxExpression,this.NoSpaceAfterOpenBraceInJsxExpression,this.NoSpaceBeforeCloseBraceInJsxExpression,this.SpaceAfterSemicolonInFor,this.NoSpaceAfterSemicolonInFor,this.SpaceBeforeBinaryOperator,this.SpaceAfterBinaryOperator,this.NoSpaceBeforeBinaryOperator,this.NoSpaceAfterBinaryOperator,this.SpaceBeforeOpenParenInFuncDecl,this.NoSpaceBeforeOpenParenInFuncDecl,this.NewLineBeforeOpenBraceInControl,this.NewLineBeforeOpenBraceInFunction,this.NewLineBeforeOpenBraceInTypeScriptDeclWithBlock,this.SpaceAfterTypeAssertion,this.NoSpaceAfterTypeAssertion],this.LowPriorityCommonRules=[this.NoSpaceBeforeSemicolon,this.SpaceBeforeOpenBraceInControl,this.SpaceBeforeOpenBraceInFunction,this.SpaceBeforeOpenBraceInTypeScriptDeclWithBlock,this.NoSpaceBeforeComma,this.NoSpaceBeforeOpenBracket,this.NoSpaceAfterCloseBracket,this.SpaceAfterSemicolon,this.SpaceBetweenStatements,this.SpaceAfterTryFinally],r.Debug.isDebugging)for(var e in this){var t=this[e];t instanceof n.Rule&&(t.debugName=e)}}n=r.formatting||(r.formatting={}),i.IsOptionEnabled=function(t){return function(e){return e.options&&e.options.hasOwnProperty(t)&&!!e.options[t]}},i.IsOptionDisabled=function(t){return function(e){return e.options&&e.options.hasOwnProperty(t)&&!e.options[t]}},i.IsOptionDisabledOrUndefined=function(t){return function(e){return!e.options||!e.options.hasOwnProperty(t)||!e.options[t]}},i.isOptionDisabledOrUndefinedOrTokensOnSameLine=function(t){return function(e){return!e.options||!e.options.hasOwnProperty(t)||!e.options[t]||e.TokensAreOnSameLine()}},i.IsOptionEnabledOrUndefined=function(t){return function(e){return!e.options||!e.options.hasOwnProperty(t)||!!e.options[t]}},i.IsForContext=function(e){return 214===e.contextNode.kind},i.IsNotForContext=function(e){return!i.IsForContext(e)},i.IsBinaryOpContext=function(e){switch(e.contextNode.kind){case 194:case 195:case 202:case 246:case 242:case 158:case 166:case 167:return!0;case 176:case 231:case 237:case 226:case 146:case 264:case 149:case 148:return 58===e.currentTokenSpan.kind||58===e.nextTokenSpan.kind;case 215:case 145:return 92===e.currentTokenSpan.kind||92===e.nextTokenSpan.kind;case 216:return 142===e.currentTokenSpan.kind||142===e.nextTokenSpan.kind}return!1},i.IsNotBinaryOpContext=function(e){return!i.IsBinaryOpContext(e)},i.IsConditionalOperatorContext=function(e){return 195===e.contextNode.kind},i.IsSameLineTokenOrBeforeBlockContext=function(e){return e.TokensAreOnSameLine()||i.IsBeforeBlockContext(e)},i.IsBraceWrappedContext=function(e){return 174===e.contextNode.kind||i.IsSingleLineBlockContext(e)},i.IsBeforeMultilineBlockContext=function(e){return i.IsBeforeBlockContext(e)&&!(e.NextNodeAllOnSameLine()||e.NextNodeBlockIsOnOneLine())},i.IsMultilineBlockContext=function(e){return i.IsBlockContext(e)&&!(e.ContextNodeAllOnSameLine()||e.ContextNodeBlockIsOnOneLine())},i.IsSingleLineBlockContext=function(e){return i.IsBlockContext(e)&&(e.ContextNodeAllOnSameLine()||e.ContextNodeBlockIsOnOneLine())},i.IsBlockContext=function(e){return i.NodeIsBlockContext(e.contextNode)},i.IsBeforeBlockContext=function(e){return i.NodeIsBlockContext(e.nextTokenParent)},i.NodeIsBlockContext=function(e){if(i.NodeIsTypeScriptDeclWithBlockContext(e))return!0;switch(e.kind){case 207:case 235:case 178:case 234:return!0}return!1},i.IsFunctionDeclContext=function(e){switch(e.contextNode.kind){case 228:case 151:case 150:case 153:case 154:case 155:case 186:case 152:case 187:case 230:return!0}return!1},i.IsFunctionDeclarationOrFunctionExpressionContext=function(e){return 228===e.contextNode.kind||186===e.contextNode.kind},i.IsTypeScriptDeclWithBlockContext=function(e){return i.NodeIsTypeScriptDeclWithBlockContext(e.contextNode)},i.NodeIsTypeScriptDeclWithBlockContext=function(e){switch(e.kind){case 229:case 199:case 230:case 232:case 163:case 233:case 244:case 245:case 238:case 241:return!0}return!1},i.IsAfterCodeBlockContext=function(e){switch(e.currentTokenParent.kind){case 229:case 233:case 232:case 260:case 234:case 221:return!0;case 207:var t=e.currentTokenParent.parent;if(!t||187!==t.kind&&186!==t.kind)return!0}return!1},i.IsControlDeclContext=function(e){switch(e.contextNode.kind){case 211:case 221:case 214:case 215:case 216:case 213:case 224:case 212:case 220:case 260:return!0;default:return!1}},i.IsObjectContext=function(e){return 178===e.contextNode.kind},i.IsFunctionCallContext=function(e){return 181===e.contextNode.kind},i.IsNewContext=function(e){return 182===e.contextNode.kind},i.IsFunctionCallOrNewContext=function(e){return i.IsFunctionCallContext(e)||i.IsNewContext(e)},i.IsPreviousTokenNotComma=function(e){return 26!==e.currentTokenSpan.kind},i.IsNextTokenNotCloseBracket=function(e){return 22!==e.nextTokenSpan.kind},i.IsArrowFunctionContext=function(e){return 187===e.contextNode.kind},i.IsNonJsxSameLineTokenContext=function(e){return e.TokensAreOnSameLine()&&10!==e.contextNode.kind},i.IsNonJsxElementContext=function(e){return 249!==e.contextNode.kind},i.IsJsxExpressionContext=function(e){return 256===e.contextNode.kind},i.IsNextTokenParentJsxAttribute=function(e){return 253===e.nextTokenParent.kind},i.IsJsxAttributeContext=function(e){return 253===e.contextNode.kind},i.IsJsxSelfClosingElementContext=function(e){return 250===e.contextNode.kind},i.IsNotBeforeBlockInFunctionDeclarationContext=function(e){return!i.IsFunctionDeclContext(e)&&!i.IsBeforeBlockContext(e)},i.IsEndOfDecoratorContextOnSameLine=function(e){return e.TokensAreOnSameLine()&&e.contextNode.decorators&&i.NodeIsInDecoratorContext(e.currentTokenParent)&&!i.NodeIsInDecoratorContext(e.nextTokenParent)},i.NodeIsInDecoratorContext=function(e){for(;r.isPartOfExpression(e);)e=e.parent;return 147===e.kind},i.IsStartOfVariableDeclarationList=function(e){return 227===e.currentTokenParent.kind&&e.currentTokenParent.getStart(e.sourceFile)===e.currentTokenSpan.pos},i.IsNotFormatOnEnter=function(e){return 2!==e.formattingRequestKind},i.IsModuleDeclContext=function(e){return 233===e.contextNode.kind},i.IsObjectTypeContext=function(e){return 163===e.contextNode.kind},i.IsConstructorSignatureContext=function(e){return 156===e.contextNode.kind},i.IsTypeArgumentOrParameterOrAssertion=function(e,t){if(27!==e.kind&&29!==e.kind)return!1;switch(t.kind){case 159:case 184:case 231:case 229:case 199:case 230:case 228:case 186:case 187:case 151:case 150:case 155:case 156:case 181:case 182:case 201:return!0;default:return!1}},i.IsTypeArgumentOrParameterOrAssertionContext=function(e){return i.IsTypeArgumentOrParameterOrAssertion(e.currentTokenSpan,e.currentTokenParent)||i.IsTypeArgumentOrParameterOrAssertion(e.nextTokenSpan,e.nextTokenParent)},i.IsTypeAssertionContext=function(e){return 184===e.contextNode.kind},i.IsVoidOpContext=function(e){return 105===e.currentTokenSpan.kind&&190===e.currentTokenParent.kind},i.IsYieldOrYieldStarWithOperand=function(e){return 197===e.contextNode.kind&&void 0!==e.contextNode.expression},i.IsNonNullAssertionContext=function(e){return 203===e.contextNode.kind},e=i,n.Rules=e})(ts=ts||{}),(n=>{var e=n.formatting||(n.formatting={});function t(e){this.mapRowLength=143,this.map=new Array(this.mapRowLength*this.mapRowLength);for(var t=new Array(this.map.length),r=0,n=e;r<n.length;r++){var i=n[r];this.FillRule(i,t)}}t.prototype.GetRuleBucketIndex=function(e,t){return n.Debug.assert(e<=142&&t<=142,"Must compute formatting context from tokens"),e*this.mapRowLength+t},t.prototype.FillRule=function(n,i){var a=this,s=n.Descriptor.LeftTokenRange.isSpecific()&&n.Descriptor.RightTokenRange.isSpecific();n.Descriptor.LeftTokenRange.GetTokens().forEach(function(r){n.Descriptor.RightTokenRange.GetTokens().forEach(function(e){var e=a.GetRuleBucketIndex(r,e),t=a.map[e];(t=void 0===t?a.map[e]=new o:t).AddRule(n,s,i,e)})})},t.prototype.GetRule=function(e){var t=this.GetRuleBucketIndex(e.currentTokenSpan.kind,e.nextTokenSpan.kind),t=this.map[t];if(t)for(var r=0,n=t.Rules();r<n.length;r++){var i=n[r];if(i.Operation.Context.InContext(e))return i}},e.RulesMap=t,(r=a=a||{})[r.IgnoreRulesSpecific=0]="IgnoreRulesSpecific",r[r.IgnoreRulesAny=5]="IgnoreRulesAny",r[r.ContextRulesSpecific=10]="ContextRulesSpecific",r[r.ContextRulesAny=15]="ContextRulesAny",r[r.NoContextRulesSpecific=20]="NoContextRulesSpecific",r[r.NoContextRulesAny=25]="NoContextRulesAny",i.prototype.GetInsertionIndex=function(e){for(var t=0,r=0,n=this.rulesInsertionIndexBitmap;r<=e;)t+=31&n,n>>=5,r+=5;return t},i.prototype.IncreaseInsertionIndex=function(e){var t=this.rulesInsertionIndexBitmap>>e&31,r=(n.Debug.assert((31&++t)==t,"Adding more rules into the sub-bucket than allowed. Maximum allowed is 32 rules."),this.rulesInsertionIndexBitmap&~(31<<e));this.rulesInsertionIndexBitmap=r|=t<<e};var a,r,s=i;function i(){this.rulesInsertionIndexBitmap=0}e.RulesBucketConstructionState=s,c.prototype.Rules=function(){return this.rules},c.prototype.AddRule=function(e,t,r,n){var t=1===e.Operation.Action?t?a.IgnoreRulesSpecific:a.IgnoreRulesAny:e.Operation.Context.IsAny()?t?a.NoContextRulesSpecific:a.NoContextRulesAny:t?a.ContextRulesSpecific:a.ContextRulesAny,i=r[n],r=(i=void 0===i?r[n]=new s:i).GetInsertionIndex(t);this.rules.splice(r,0,e),i.IncreaseInsertionIndex(t)};var o=c;function c(){this.rules=[]}e.RulesBucket=o})(ts=ts||{}),(a=>{for(var e=(e=a.formatting||(a.formatting={})).Shared||(e.Shared={}),r=[],t=0;t<=142;t++)r.push(t);n.prototype.GetTokens=function(){return this.tokens},n.prototype.Contains=function(e){return 0<=this.tokens.indexOf(e)},n.prototype.isSpecific=function(){return!0};var s=n;function n(e){this.tokens=e=void 0===e?[]:e}o.prototype.GetTokens=function(){return[this.token]},o.prototype.Contains=function(e){return e===this.token},o.prototype.isSpecific=function(){return!0};var i=o;function o(e){this.token=e}l.prototype.GetTokens=function(){return r},l.prototype.Contains=function(){return!0},l.prototype.toString=function(){return"[allTokens]"},l.prototype.isSpecific=function(){return!1};var c=l;function l(){}d.prototype.GetTokens=function(){var t=this;return r.filter(function(e){return e!==t.except})},d.prototype.Contains=function(e){return e!==this.except},d.prototype.isSpecific=function(){return!1};var u=d;function d(e){this.except=e}(e=e.TokenRange||(e.TokenRange={})).FromToken=function(e){return new i(e)},e.FromTokens=function(e){return new s(e)},e.FromRange=function(e,t,r){void 0===r&&(r=[]);for(var n=[],i=e;i<=t;i++)a.indexOf(r,i)<0&&n.push(i);return new s(n)},e.AnyExcept=function(e){return new u(e)},e.Any=new c,e.AnyIncludingMultilineComments=e.FromTokens(r.concat([3])),e.Keywords=e.FromRange(72,142),e.BinaryOperators=e.FromRange(27,70),e.BinaryKeywordOperators=e.FromTokens([92,93,142,118,126]),e.UnaryPrefixOperators=e.FromTokens([43,44,52,51]),e.UnaryPrefixExpressions=e.FromTokens([8,71,19,21,17,99,94]),e.UnaryPreincrementExpressions=e.FromTokens([71,19,99,94]),e.UnaryPostincrementExpressions=e.FromTokens([71,20,22,94]),e.UnaryPredecrementExpressions=e.FromTokens([71,19,99,94]),e.UnaryPostdecrementExpressions=e.FromTokens([71,20,22,94]),e.Comments=e.FromTokens([2,3]),e.TypeNames=e.FromTokens([71,133,136,122,137,105,119])})(ts=ts||{}),(t=>{var r;function e(){this.globalRules=new r.Rules;var e=this.globalRules.HighPriorityCommonRules.concat(this.globalRules.UserConfigurableRules).concat(this.globalRules.LowPriorityCommonRules);this.rulesMap=new r.RulesMap(e)}r=t.formatting||(t.formatting={}),e.prototype.getRulesMap=function(){return this.rulesMap},e.prototype.getFormatOptions=function(){return this.options},e.prototype.ensureUpToDate=function(e){this.options&&t.compareDataObjects(this.options,e)||(this.options=t.clone(e))},r.RulesProvider=e})(ts=ts||{}),(P=>{var O,s,o,c;function a(e,t,r){r=P.findPrecedingToken(e,r);return r&&r.kind===t&&e===r.getEnd()?r:void 0}function l(e){for(var t=e;t&&t.parent&&t.parent.end===e.end&&!((e,t)=>{switch(e.kind){case 229:case 230:return P.rangeContainsRange(e.members,t);case 233:var r=e.body;return r&&234===r.kind&&P.rangeContainsRange(r.statements,t);case 265:case 207:case 234:return P.rangeContainsRange(e.statements,t);case 260:return P.rangeContainsRange(e.block.statements,t)}})(t.parent,t);)t=t.parent;return t}function i(n,i){return function e(t){var r=P.forEachChild(t,function(e){return P.startEndContainsRange(e.getStart(i),e.end,n)&&e});if(r){r=e(r);if(r)return r}return t}(i)}function u(e,t,r,n,i){return e?d({pos:P.getLineStartPositionForPosition(e.getStart(t),t),end:e.end},t,r,n,i):[]}function d(a,s,o,c,l){var e,t,r,n,u=i(a,s);return O.getFormattingScanner(s.text,s.languageVariant,(t=a,r=s,(n=(e=u).getStart(r))===t.pos&&e.end===t.end?n:!(n=P.findPrecedingToken(t.pos,r))||n.end>=t.pos?e.pos:n.end),a.end,function(e){return p(a,u,O.SmartIndenter.getIndentationForNode(u,a,s,o),((e,t,r)=>{for(var n,i=-1;e;){var a=r.getLineAndCharacterOfPosition(e.getStart(r)).line;if(-1!==i&&a!==i)break;if(O.SmartIndenter.shouldIndentChildNode(e,n))return t.indentSize;i=a,e=(n=e).parent}return 0})(u,o,s),e,o,c,l,(e=s.parseDiagnostics,r=a,e.length&&(n=e.filter(function(e){return P.rangeOverlapsWithStartEnd(r,e.start,e.start+e.length)}).sort(function(e,t){return e.start-t.start})).length?(i=0,function(e){for(;;){if(i>=n.length)return!1;var t=n[i];if(e.end<=t.start)return!1;if(P.startEndOverlapsWithStartEnd(e.pos,e.end,t.start,t.start+t.length))return!0;i++}}):t),s);function t(){return!1}var r,n,i})}function p(y,e,t,r,v,m,l,n,b,x){var k,s,o,S,T,u=new O.FormattingContext(x,n,m),i=[];return v.advance(),v.isOnToken()&&(n=x.getLineAndCharacterOfPosition(e.getStart(x)).line,function f(_,e,t,r,n,i){if(!P.rangeOverlapsWithStartEnd(y,_.getStart(x),_.getEnd()))return;var a=D(_,t,n,i);var h=e;P.forEachChild(_,function(e){m(e,-1,_,a,t,r,!1)},function(e){o(e,_,t,a)});for(;v.isOnToken();){var s=v.readTokenInfo(_);if(s.token.end>_.end)break;g(s,_,a,_)}function m(e,t,r,n,i,a,s,o){var c,l=e.getStart(x),u=x.getLineAndCharacterOfPosition(l).line,d=u,p=(e.decorators&&(d=x.getLineAndCharacterOfPosition(P.getNonDecoratorTokenPosOfNode(e,x)).line),-1);if(s&&P.rangeContainsRange(y,r)&&-1!==(p=C(l,e.end,i,y,t))&&(t=p),P.rangeOverlapsWithStartEnd(y,e.pos,e.end)){if(0!==e.getFullWidth()){for(;v.isOnToken();){if((c=v.readTokenInfo(_)).token.end>l)break;g(c,_,n,_)}v.isOnToken()&&(P.isToken(e)&&10!==e.kind?(c=v.readTokenInfo(e),P.Debug.assert(c.token.end===e.end,"Token end is child end"),g(c,_,n,e)):(s=147===e.kind?u:a,i=E(e,u,p,_,n,s),f(e,h,u,d,i.indentation,i.delta),h=_,o&&177===r.kind&&-1===t&&(t=i.indentation)))}}else e.end<y.pos&&v.skipToEndOf(e);return t}function o(e,t,r,n){P.Debug.assert(P.isNodeArray(e));var i,a=F(t,e),s=L(a),o=n,c=r;if(0!==a)for(;v.isOnToken();){if((l=v.readTokenInfo(t)).token.end>e.pos)break;l.token.kind===a?(c=x.getLineAndCharacterOfPosition(l.token.pos).line,i=E(l.token,c,-1,t,n,r),o=D(t,r,i.indentation,i.delta),g(l,t,o,t)):g(l,t,n,t)}for(var l,u=-1,d=0;d<e.length;d++){var p=e[d];u=m(p,u,_,o,c,c,!0,0===d)}0!==s&&v.isOnToken()&&(l=v.readTokenInfo(t)).token.kind===s&&P.rangeContainsRange(t,l.token)&&g(l,t,o,t)}function g(e,t,r,n){P.Debug.assert(P.rangeContainsRange(t,e.token));var i,a,s=v.lastTrailingTriviaWasNewLine(),o=!1,c=(e.leadingTrivia&&A(e.leadingTrivia,t,h,r),P.rangeContainsRange(y,e.token)),l=x.getLineAndCharacterOfPosition(e.token.pos);if(c&&(a=b(e.token),u=k,i=w(e.token,l,t,h,r),o=!a&&(void 0!==i?i:(a=u&&x.getLineAndCharacterOfPosition(u.end).line,s&&l.line!==a))),e.trailingTrivia&&A(e.trailingTrivia,t,h,r),o){var u=c&&!b(e.token)?r.getIndentationForToken(l.line,e.token.kind,n):-1,d=!0;if(e.leadingTrivia)for(var p=r.getIndentationForComment(e.token.kind,u,n),f=0,_=e.leadingTrivia;f<_.length;f++){var m=_[f],g=P.rangeContainsRange(y,m);switch(m.kind){case 3:g&&I(m,p,!d),d=!1;break;case 2:d&&g&&N(m.pos,p,!1),d=!1;break;case 4:d=!0}}-1!==u&&d&&(N(e.token.pos,u,i),S=l.line,T=u)}v.advance(),h=t}}(e,e,n=n,n=e.decorators?x.getLineAndCharacterOfPosition(P.getNonDecoratorTokenPosOfNode(e,x)).line:n,t,r)),v.isOnToken()||(n=v.getCurrentLeadingTrivia())&&(A(n,e,e,void 0),t=k?k.end:y.pos,t=x.getLineAndCharacterOfPosition(t).line,r=x.getLineAndCharacterOfPosition(y.end).line,d(t,r+1,k)),i;function C(e,t,r,n,i){if(P.rangeOverlapsWithStartEnd(n,e,t)||P.rangeContainsStartEnd(n,e,t)){if(-1!==i)return i}else{var n=x.getLineAndCharacterOfPosition(e).line,t=P.getLineStartPositionForPosition(e,x),i=O.SmartIndenter.findFirstNonWhitespaceColumn(t,e,x,m);if(n!==r||e===i)return i<(t=O.SmartIndenter.getBaseIndentation(m))?t:i}return-1}function E(e,t,r,n,i,a){var s=O.SmartIndenter.shouldIndentChildNode(e)?m.indentSize:0;return a===t?(r=t===S?T:i.getIndentation(),s=Math.min(m.indentSize,i.getDelta(e)+s)):-1===r&&(r=O.SmartIndenter.childStartsOnTheSameLineWithElseInIfStatement(n,e,t,x)?i.getIndentation():i.getIndentation()+i.getDelta(e)),{indentation:r,delta:s}}function D(n,i,a,s){return{getIndentationForComment:function(e,t,r){switch(e){case 18:case 22:case 20:return a+o(s,r)}return-1!==t?t:a},getIndentationForToken:function(e,t,r){if(i!==e&&n.decorators&&t===(e=>{if(e.modifiers&&e.modifiers.length)return e.modifiers[0].kind;switch(e.kind){case 229:return 75;case 230:return 109;case 228:return 89;case 232:return 232;case 153:return 125;case 154:return 135;case 151:if(e.asteriskToken)return 39;case 149:case 146:return P.getNameOfDeclaration(e).kind}})(n))return a;switch(t){case 17:case 18:case 19:case 20:case 82:case 106:case 57:return a;case 41:case 29:if(251===r.kind||252===r.kind||250===r.kind)return a;break;case 21:case 22:if(172!==r.kind)return a}return i!==e?a+o(s,r):a},getIndentation:function(){return a},getDelta:function(e){return o(s,e)},recomputeIndentation:function(e){n.parent&&O.SmartIndenter.shouldIndentChildNode(n.parent,n)&&(e?a+=m.indentSize:a-=m.indentSize,s=O.SmartIndenter.shouldIndentChildNode(n)?m.indentSize:0)}};function o(e,t){return O.SmartIndenter.nodeWillIndentChild(n,t,!0)?e:0}}function A(e,t,r,n){for(var i=0,a=e;i<a.length;i++){var s=a[i];P.isComment(s.kind)&&P.rangeContainsRange(y,s)&&w(s,x.getLineAndCharacterOfPosition(s.pos),t,r,n)}}function w(e,t,r,n,i){var a;return b(e)||(k?a=((e,t,r,n,i,a,s,o)=>{u.updateContext(n,a,e,r,s);var c,a=l.getRulesMap().GetRule(u);return s=!(a&&(((e,t,r,n,i)=>{switch(e.Operation.Action){case 1:return;case 8:t.end!==n.pos&&g(t.end,n.pos-t.end);break;case 4:1!==e.Flag&&r!==i||1!=i-r&&h(t.end,n.pos-t.end,m.newLineCharacter);break;case 2:1!==e.Flag&&r!==i||1==n.pos-t.end&&32===x.text.charCodeAt(t.end)||h(t.end,n.pos-t.end," ")}})(a,n,i,e,t),10&a.Operation.Action&&t!==i?(c=!1,r.getStart(x)===e.pos&&o.recomputeIndentation(!1)):4&a.Operation.Action&&t===i&&(c=!0,r.getStart(x)===e.pos)&&o.recomputeIndentation(!0),8&a.Operation.Action||1===a.Flag)),t!==i&&s&&d(i,t,n),c})(e,t.line,r,k,o,s,n,i):d(x.getLineAndCharacterOfPosition(y.pos).line,t.line)),k=e,s=r,o=t.line,a}function N(e,t,r){var n=R(t,m);r?h(e,0,n):(r=x.getLineAndCharacterOfPosition(e),t===((e,t)=>{for(var r=0,n=0;n<t;n++)9===x.text.charCodeAt(e+n)?r+=m.tabSize-r%m.tabSize:r++;return r})(e=P.getStartPositionOfLine(r.line,x),r.character)&&n===x.text.substr(e,n.length)||h(e,r.character,n))}function I(e,t,r){var n=x.getLineAndCharacterOfPosition(e.pos).line,i=x.getLineAndCharacterOfPosition(e.end).line;if(n===i)r||N(e.pos,t,!1);else{for(var a=[],s=e.pos,o=n;o<i;o++){var c=P.getEndLinePosition(o,x);a.push({pos:s,end:c}),s=P.getStartPositionOfLine(o+1,x)}a.push({pos:s,end:e.end});var e=P.getStartPositionOfLine(n,x),l=O.SmartIndenter.findFirstNonWhitespaceCharacterAndColumn(e,a[0].pos,x,m);if(t!==l.column)for(var e=0,u=(r&&(e=1,n++),t-l.column),d=e;d<a.length;d++,n++){var p=P.getStartPositionOfLine(n,x),f=0===d?l:O.SmartIndenter.findFirstNonWhitespaceCharacterAndColumn(a[d].pos,a[d].end,x,m),_=f.column+u;0<_?(_=R(_,m),h(p,f.character,_)):g(p,f.character)}}}function d(e,t,r){for(var n=e;n<t;n++){var i,a=P.getStartPositionOfLine(n,x),s=P.getEndLinePosition(n,x);r&&(P.isComment(r.kind)||P.isStringOrRegularExpressionOrTemplateLiteral(r.kind))&&r.pos<=s&&r.end>s||-1!==(i=((e,t)=>{for(var r=t;e<=r&&P.isWhiteSpaceSingleLine(x.text.charCodeAt(r));)r--;return r===t?-1:r+1})(a,s))&&(P.Debug.assert(i===a||!P.isWhiteSpaceSingleLine(x.text.charCodeAt(i-1))),g(i,s+1-i))}}function a(e,t,r){return{span:P.createTextSpan(e,t),newText:r}}function g(e,t){t&&i.push(a(e,t,""))}function h(e,t,r){(t||r)&&i.push(a(e,t,r))}}function F(e,t){switch(e.kind){case 152:case 228:case 186:case 151:case 150:case 187:if(e.typeParameters===t)return 27;if(e.parameters===t)return 19;break;case 181:case 182:if(e.typeArguments===t)return 27;if(e.arguments===t)return 19;break;case 159:if(e.typeArguments===t)return 27}return 0}function L(e){switch(e){case 19:return 20;case 27:return 29}return 0}function R(e,t){var r,n,i;return(!s||s.tabSize!==t.tabSize||s.indentSize!==t.indentSize)&&(s={tabSize:t.tabSize,indentSize:t.indentSize},o=c=void 0),t.convertTabsToSpaces?(i=void 0,r=Math.floor(e/t.indentSize),n=e%t.indentSize,void 0===(c=c||[])[r]?(i=a(" ",t.indentSize*r),c[r]=i):i=c[r],n?i+a(" ",n):i):(n=e-(r=Math.floor(e/t.tabSize))*t.tabSize,(i=void 0)===(o=o||[])[r]?o[r]=i=a("\t",r):i=o[r],n?i+a(" ",n):i);function a(e,t){for(var r="",n=0;n<t;n++)r+=e;return r}}(O=P.formatting||(P.formatting={})).formatOnEnter=function(e,t,r,n){if(0===(e=t.getLineAndCharacterOfPosition(e).line))return[];for(var i=P.getEndLinePosition(e,t);P.isWhiteSpaceSingleLine(t.text.charCodeAt(i));)i--;return P.isLineBreak(t.text.charCodeAt(i))&&i--,d({pos:P.getStartPositionOfLine(e-1,t),end:i+1},t,n,r,2)},O.formatOnSemicolon=function(e,t,r,n){return u(l(a(e,25,t)),t,n,r,3)},O.formatOnOpeningCurly=function(e,t,r,n){var i=a(e,17,t);return i?(i=l(i.parent),d({pos:P.getLineStartPositionForPosition(i.getStart(t),t),end:e},t,n,r,4)):[]},O.formatOnClosingCurly=function(e,t,r,n){return u(l(a(e,18,t)),t,n,r,5)},O.formatDocument=function(e,t,r){return d({pos:0,end:e.text.length},e,r,t,0)},O.formatSelection=function(e,t,r,n,i){return d({pos:P.getLineStartPositionForPosition(e,r),end:t},r,i,n,1)},O.formatNodeGivenIndentation=function(t,r,e,n,i,a){var s={pos:0,end:r.text.length};return O.getFormattingScanner(r.text,e,s.pos,s.end,function(e){return p(s,t,n,i,e,a.getFormatOptions(),a,1,function(e){return!1},r)})},O.getRangeOfEnclosingComment=function(e,t,r,n,i,a){var s=(i=void 0===i?P.getTokenAtPosition(e,t,!1):i).getStart(e);if(!(s<=t&&t<i.getEnd())){s=(n=void 0===n?P.findPrecedingToken(t,e):n)&&P.getTrailingCommentRanges(e.text,n.end),n=P.getLeadingCommentRangesOfNode(i,e),i=s&&n?s.concat(n):s||n;if(i)for(var o=0,c=i;o<c.length;o++){var l=c[o];if(l.pos<t&&t<l.end||t===l.end&&(2===l.kind||t===e.getFullWidth()))return 3!==l.kind&&r||a&&!a(l)?void 0:l}}},O.getIndentationString=R})(ts=ts||{}),(h=>{var y,v;function b(e){return e.baseIndentSize||0}function x(e,t,r,n,i,a){for(var s,o,c,l,u,d=e.parent;d;){var p=!0;if(p=r?(f=e.getStart(i))<r.pos||f>r.end:p)if(-1!==(_=C(e,i,a)))return _+n;var f,_,m=(f=((e,t,r)=>(t=(t=T(t,r))?t.pos:e.getStart(r),r.getLineAndCharacterOfPosition(t)))(d,e,i)).line===t.line||S(d,e,t.line,i);if(p){if(p=e,s=d,o=t,c=m,l=i,u=a,-1!==(_=!h.isDeclaration(p)&&!h.isStatementButNotDeclaration(p)||265!==s.kind&&c?-1:A(o,l,u)))return _+n;if(-1!==(_=E(e,i,a)))return _+n}I(d,e)&&!m&&(n+=a.indentSize);p=g(d,e,t.line,i),d=(e=d).parent;t=p?i.getLineAndCharacterOfPosition(e.getStart()):f}return n+b(a)}function k(e,t){return t.getLineAndCharacterOfPosition(e.getStart(t))}function g(e,t,r,n){return!(!h.isCallExpression(e)||!h.contains(e.arguments,t))&&(t=e.expression.getEnd(),h.getLineAndCharacterOfPosition(n,t).line===r)}function S(e,t,r,n){return 211===e.kind&&e.elseStatement===t&&(t=h.findChildOfKind(e,82,n),h.Debug.assert(void 0!==t),k(t,n).line===r)}function n(e,t,r){return e&&h.rangeContainsStartEnd(e,t,r)?e:void 0}function T(e,t){if(e.parent)switch(e.parent.kind){case 159:return n(e.parent.typeArguments,e.getStart(t),e.getEnd());case 178:return e.parent.properties;case 177:return e.parent.elements;case 228:case 186:case 187:case 151:case 150:case 155:case 152:case 161:case 156:var r=e.getStart(t);return n(e.parent.typeParameters,r,e.getEnd())||n(e.parent.parameters,r,e.getEnd());case 229:return n(e.parent.typeParameters,e.getStart(t),e.getEnd());case 182:case 181:r=e.getStart(t);return n(e.parent.typeArguments,r,e.getEnd())||n(e.parent.arguments,r,e.getEnd());case 227:return n(e.parent.declarations,e.getStart(t),e.getEnd());case 241:case 245:return n(e.parent.elements,e.getStart(t),e.getEnd())}}function C(e,t,r){var n=T(e,t);return n&&(n=n,-1!==(e=h.indexOf(n,e)))?D(n,e,t,r):-1}function E(e,t,r){var n;return 20===e.kind||!e.parent||!h.isCallOrNewExpression(e.parent)||e.parent.expression===e||(e=e.parent.expression)===(n=(e=>{for(;;)switch(e.kind){case 181:case 182:case 179:case 180:e=e.expression;break;default:return e}})(e))||(e=t.getLineAndCharacterOfPosition(e.end),n=t.getLineAndCharacterOfPosition(n.end),e.line===n.line)?-1:A(e,t,r)}function D(e,t,r,n){h.Debug.assert(0<=t&&t<e.length);for(var i=k(e[t],r),a=t-1;0<=a;a--)if(26!==e[a].kind){if(r.getLineAndCharacterOfPosition(e[a].end).line!==i.line)return A(i,r,n);i=k(e[a],r)}return-1}function A(e,t,r){var n=t.getPositionOfLineAndCharacter(e.line,0);return N(n,n+e.character,t,r)}function w(e,t,r,n){for(var i=0,a=0,s=e;s<t;s++){var o=r.text.charCodeAt(s);if(!h.isWhiteSpaceSingleLine(o))break;9===o?a+=n.tabSize+a%n.tabSize:a++,i++}return{column:a,character:i}}function N(e,t,r,n){return w(e,t,r,n).column}function r(e,t,r){var n=t?t.kind:0;switch(e.kind){case 212:case 213:case 215:case 216:case 214:case 211:case 228:case 186:case 151:case 187:case 152:case 153:case 154:return 207!==n;case 244:return 245!==n;case 238:return 239!==n||t.namedBindings&&241!==t.namedBindings.kind;case 249:return 252!==n}return r}function I(e,t){return(e=>{switch(e){case 210:case 229:case 199:case 230:case 232:case 231:case 177:case 207:case 234:case 178:case 163:case 172:case 165:case 235:case 258:case 257:case 185:case 179:case 181:case 182:case 208:case 226:case 243:case 219:case 195:case 175:case 174:case 251:case 250:case 256:case 150:case 155:case 156:case 146:case 160:case 161:case 168:case 183:case 191:case 245:case 241:case 246:case 242:case 261:case 149:return!0}return!1})(e.kind)||r(e,t,!1)}y=h.formatting||(h.formatting={}),(v=y.SmartIndenter||(y.SmartIndenter={})).getIndentation=function(e,t,r,n){if(void 0===n&&(n=!1),e>t.text.length)return b(r);if(r.indentStyle===h.IndentStyle.None)return 0;var i,a,s=h.findPrecedingToken(e,t),o=y.getRangeOfEnclosingComment(t,e,!0,s||null);if(o)return i=h.getLineAndCharacterOfPosition(t,e).line-1,o=h.getLineAndCharacterOfPosition(t,o.pos).line,h.Debug.assert(0<=o),i<=o?N(h.getStartPositionOfLine(o,t),e,t,r):0!==(a=(i=w(o=h.getStartPositionOfLine(i,t),e,t,r)).column)&&42===t.text.charCodeAt(o+i.character)?a-1:a;if(!s)return b(r);if(h.isStringOrRegularExpressionOrTemplateLiteral(s.kind)&&s.getStart(t)<=e&&e<s.end)return 0;var c,l=t.getLineAndCharacterOfPosition(e).line;if(r.indentStyle===h.IndentStyle.Block){for(var u=e;0<u;){var d=t.text.charCodeAt(u);if(!h.isWhiteSpaceLike(d))break;u--}o=h.getLineStartPositionForPosition(u,t);return v.findFirstNonWhitespaceColumn(o,u,t,r)}if(26===s.kind&&194!==s.parent.kind&&-1!==(p=((e,t,r)=>(e=h.findListItemInfo(e))&&0<e.listItemIndex?D(e.list.getChildren(),e.listItemIndex-1,t,r):-1)(s,t,r)))return p;for(var p,f=s;f;){if(h.positionBelongsToNode(f,e,t)&&I(f,c)){var _=k(f,t),m=((e,t,r,n)=>{if(e=h.findNextToken(e,t)){if(17===e.kind)return 1;if(18===e.kind)return t=k(e,n).line,r===t?2:0}return 0})(s,f,l,t),g=0!==m?n&&2===m?r.indentSize:0:l!==_.line?r.indentSize:0;break}if(-1!==(p=C(f,t,r)))return p;if(-1!==(p=E(f,t,r)))return p+r.indentSize;f=(c=f).parent}return f?x(f,_,void 0,g,t,r):b(r)},v.getIndentationForNode=function(e,t,r,n){var i=r.getLineAndCharacterOfPosition(e.getStart(r));return x(e,i,t,0,r,n)},v.getBaseIndentation=b,v.isArgumentAndStartLineOverlapsExpressionBeingCalled=g,v.childStartsOnTheSameLineWithElseInIfStatement=S,v.getContainingList=T,v.findFirstNonWhitespaceCharacterAndColumn=w,v.findFirstNonWhitespaceColumn=N,v.nodeWillIndentChild=r,v.shouldIndentChildNode=I})(ts=ts||{}),(d=>{var s,p,e,t=d.textChanges||(d.textChanges={});function a(e){e=e.__pos;return d.Debug.assert("number"==typeof e),e}function i(e,t){d.Debug.assert("number"==typeof t),e.__pos=t}function o(e){e=e.__end;return d.Debug.assert("number"==typeof e),e}function c(e,t){d.Debug.assert("number"==typeof t),e.__end=t}function f(e,t){return d.skipTrivia(e,t,!1,!0)}function l(e,t,r,n){var i;return r.useNonAdjustedStartPosition?t.getFullStart():(r=t.getFullStart())===(t=t.getStart(e))?t:(i=d.getLineStartPositionForPosition(r,e),d.getLineStartPositionForPosition(t,e)===i?n===s.Start?t:r:(n=0<r?1:0,t=d.getStartPositionOfLine(d.getLineOfLocalPosition(e,i)+n,e),t=f(e.text,t),d.getStartPositionOfLine(d.getLineOfLocalPosition(e,t),e)))}function u(e,t,r){return r.useNonAdjustedEndPosition||d.isExpression(t)?t.getEnd():(r=t.getEnd(),(t=d.skipTrivia(e.text,r,!0))!==r&&d.isLineBreak(e.text.charCodeAt(t-1))?t:r)}function _(e,t){return t&&e.parent&&(26===t.kind||25===t.kind&&178===e.parent.kind)}function m(e,t,r){this.newLine=e,this.rulesProvider=t,this.validator=r,this.changes=[],this.newLineCharacter=d.getNewLineCharacter({newLine:e})}function g(e,t){for(var r=t.length-1;0<=r;r--){var n=t[r];e=""+e.substring(0,n.span.start)+n.newText+e.substring(d.textSpanEnd(n.span))}return e}function h(e){var t=d.visitEachChild(e,h,d.nullTransformationContext,r,h),t=d.nodeIsSynthesized(t)?t:Object.create(t);return t.pos=a(e),t.end=o(e),t}function r(e,t,r,n,i){t=d.visitNodes(e,t,r,n,i);return t&&((r=t===e?d.createNodeArray(t.slice(0)):t).pos=a(e),r.end=o(e),r)}(e=s=t.Position||(t.Position={}))[e.FullStart=0]="FullStart",e[e.Start=1]="Start",(e=p=p||{})[e.Remove=0]="Remove",e[e.ReplaceWithSingleNode=1]="ReplaceWithSingleNode",e[e.ReplaceWithMultipleNodes=2]="ReplaceWithMultipleNodes",t.getSeparatorCharacter=function(e){return d.tokenToString(e.kind)},t.getAdjustedStartPosition=l,t.getAdjustedEndPosition=u,m.fromContext=function(e){return new m("\n"===e.newLineCharacter?1:0,e.rulesProvider)},m.with=function(e,t){e=m.fromContext(e);return t(e),e.getChanges()},m.prototype.deleteRange=function(e,t){return this.changes.push({kind:p.Remove,sourceFile:e,range:t}),this},m.prototype.deleteNode=function(e,t,r){var n=l(e,t,r=void 0===r?{}:r,s.FullStart),t=u(e,t,r);return this.changes.push({kind:p.Remove,sourceFile:e,range:{pos:n,end:t}}),this},m.prototype.deleteNodeRange=function(e,t,r,n){t=l(e,t,n=void 0===n?{}:n,s.FullStart),r=u(e,r,n);return this.changes.push({kind:p.Remove,sourceFile:e,range:{pos:t,end:r}}),this},m.prototype.deleteNodeInList=function(e,t){var r,n,i,a=d.formatting.SmartIndenter.getContainingList(t,e);return a?(r=d.indexOfNode(a,t))<0||(1===a.length?this.deleteNode(e,t):r!==a.length-1?(i=d.getTokenAtPosition(e,t.end,!1))&&_(t,i)&&(i=d.skipTrivia(e.text,l(e,t,{},s.FullStart),!1,!0),n=a[r+1],n=d.skipTrivia(e.text,l(e,n,{},s.FullStart),!1,!0),this.deleteRange(e,{pos:i,end:n})):(i=d.getTokenAtPosition(e,a[r-1].end,!1))&&_(t,i)&&this.deleteNodeRange(e,i,t)):d.Debug.fail("node is not a list element"),this},m.prototype.replaceRange=function(e,t,r,n){return this.changes.push({kind:p.ReplaceWithSingleNode,sourceFile:e,range:t,options:n=void 0===n?{}:n,node:r}),this},m.prototype.replaceNode=function(e,t,r,n){var i=l(e,t,n=void 0===n?{}:n,s.Start),t=u(e,t,n);return this.replaceWithSingle(e,i,t,r,n)},m.prototype.replaceNodeRange=function(e,t,r,n,i){t=l(e,t,i=void 0===i?{}:i,s.Start),r=u(e,r,i);return this.replaceWithSingle(e,t,r,n,i)},m.prototype.replaceWithSingle=function(e,t,r,n,i){return this.changes.push({kind:p.ReplaceWithSingleNode,sourceFile:e,options:i,node:n,range:{pos:t,end:r}}),this},m.prototype.replaceWithMultiple=function(e,t,r,n,i){return this.changes.push({kind:p.ReplaceWithMultipleNodes,sourceFile:e,options:i,nodes:n,range:{pos:t,end:r}}),this},m.prototype.replaceNodeWithNodes=function(e,t,r,n){var i=l(e,t,n,s.Start),t=u(e,t,n);return this.replaceWithMultiple(e,i,t,r,n)},m.prototype.replaceNodesWithNodes=function(e,t,r,n){var i=l(e,t[0],n,s.Start),t=u(e,d.lastOrUndefined(t),n);return this.replaceWithMultiple(e,i,t,r,n)},m.prototype.replaceRangeWithNodes=function(e,t,r,n){return this.replaceWithMultiple(e,t.pos,t.end,r,n)},m.prototype.replaceNodeRangeWithNodes=function(e,t,r,n,i){t=l(e,t,i,s.Start),r=u(e,r,i);return this.replaceWithMultiple(e,t,r,n,i)},m.prototype.insertNodeAt=function(e,t,r,n){return this.changes.push({kind:p.ReplaceWithSingleNode,sourceFile:e,options:n=void 0===n?{}:n,node:r,range:{pos:t,end:t}}),this},m.prototype.insertNodeBefore=function(e,t,r,n){t=l(e,t,n=void 0===n?{}:n,s.Start);return this.replaceWithSingle(e,t,t,r,n)},m.prototype.insertNodeAfter=function(e,t,r,n){void 0===n&&(n={}),!d.isStatementButNotDeclaration(t)&&149!==t.kind&&148!==t.kind&&150!==t.kind||59===e.text.charCodeAt(t.end-1)||this.changes.push({kind:p.ReplaceWithSingleNode,sourceFile:e,options:{},range:{pos:t.end,end:t.end},node:d.createToken(25)});t=u(e,t,n);return this.replaceWithSingle(e,t,t,r,n)},m.prototype.insertNodeInListAfter=function(e,t,r){var n,i,a,s,o,c,l,u=d.formatting.SmartIndenter.getContainingList(t,e);return u?(n=d.indexOfNode(u,t))<0||(i=t.getEnd(),n!==u.length-1?(l=d.getTokenAtPosition(e,t.end,!1))&&_(t,l)&&(s=d.getLineAndCharacterOfPosition(e,f(e.text,u[n+1].getFullStart())),o=c=void 0,(a=d.getLineAndCharacterOfPosition(e,l.end)).line===s.line?(o=l.end,c=(e=>{for(var t="",r=0;r<e;r++)t+=" ";return t})(s.character-a.character)):o=d.getStartPositionOfLine(s.line,e),this.changes.push({kind:p.ReplaceWithSingleNode,sourceFile:e,range:{pos:o,end:u[n+1].getStart(e)},node:r,options:{prefix:c,suffix:""+d.tokenToString(l.kind)+e.text.substring(l.end,u[n+1].getStart(e))}})):(a=t.getStart(e),s=d.getLineStartPositionForPosition(a,e),o=void 0,c=!1,1===u.length?o=26:(o=_(t,l=d.findPrecedingToken(t.pos,e))?l.kind:26,c=d.getLineStartPositionForPosition(u[n-1].getStart(e),e)!==s),(c=((e,t)=>{for(var r=t;r<e.length;){var n=e.charCodeAt(r);if(!d.isWhiteSpaceSingleLine(n))return 47===n;r++}})(e.text,t.end)?!0:c)?(this.changes.push({kind:p.ReplaceWithSingleNode,sourceFile:e,range:{pos:i,end:i},node:d.createToken(o),options:{}}),l=d.formatting.SmartIndenter.findFirstNonWhitespaceColumn(s,a,e,this.rulesProvider.getFormatOptions()),(u=d.skipTrivia(e.text,i,!0,!1))!==i&&d.isLineBreak(e.text.charCodeAt(u-1))&&u--,this.changes.push({kind:p.ReplaceWithSingleNode,sourceFile:e,range:{pos:u,end:u},node:r,options:{indentation:l,prefix:this.newLineCharacter}})):this.changes.push({kind:p.ReplaceWithSingleNode,sourceFile:e,range:{pos:i,end:i},node:r,options:{prefix:d.tokenToString(o)+" "}}))):d.Debug.fail("node is not a list element"),this},m.prototype.getChanges=function(){for(var s=this,e=d.createMap(),t=0,r=this.changes;t<r.length;t++){var n=r[t],i=e.get(n.sourceFile.path);i||e.set(n.sourceFile.path,i=[]),i.push(n)}var o=[];return e.forEach(function(e){for(var t=e[0].sourceFile,r={fileName:t.fileName,textChanges:[]},n=0,i=m.normalize(e);n<i.length;n++){var a=i[n];r.textChanges.push({span:s.computeSpan(a,t),newText:s.computeNewText(a,t)})}o.push(r)}),o},m.prototype.computeSpan=function(e,t){return d.createTextSpanFromBounds(e.range.pos,e.range.end)},m.prototype.computeNewText=function(e,t){var r,n,i,a=this;return e.kind===p.Remove?"":(r=e.options||{},n=e.range.pos,i=d.getLineStartPositionForPosition(n,t)===n,e=e.kind===p.ReplaceWithMultipleNodes?e.nodes.map(function(e){return a.getFormattedTextOfNode(e,t,n,r)}).join(e.options.nodeSeparator):(d.Debug.assert(e.kind===p.ReplaceWithSingleNode,"change.kind === ReplaceWithSingleNode"),this.getFormattedTextOfNode(e.node,t,n,r)),e=i||void 0!==r.indentation?e:e.replace(/^\s+/,""),(r.prefix||"")+e+(r.suffix||""))},m.prototype.getFormattedTextOfNode=function(e,t,r,n){c=e,s=t,a={newLine:a=this.newLine,target:s&&s.languageVersion},o=new y(d.getNewLineCharacter(a)),d.createPrinter(a,o).writeNode(4,c,s,o);var i,a={text:o.getText(),node:h(c)},s=(this.validator&&this.validator(a),this.rulesProvider.getFormatOptions()),o=d.getLineStartPositionForPosition(r,t)===r,c=void 0!==n.indentation?n.indentation:!1!==n.useIndentationFromFile?d.formatting.SmartIndenter.getIndentation(r,t,s,o||n.prefix===this.newLineCharacter):0,r=void 0!==n.delta?n.delta:d.formatting.SmartIndenter.shouldIndentChildNode(e)&&s.indentSize||0;return o=a,n=t,e=c,s=r,a=this.rulesProvider,i=d.computeLineStarts(o.text),t={text:o.text,lineMap:i,getLineAndCharacterOfPosition:function(e){return d.computeLineAndCharacterOfPosition(i,e)}},t=d.formatting.formatNodeGivenIndentation(o.node,t,n.languageVariant,e,s,a),g(o.text,t)},m.normalize=function(e){for(var t=d.stableSort(e,function(e,t){return e.range.pos-t.range.pos}),r=0;r<t.length-2;r++)d.Debug.assert(t[r].range.end<=t[r+1].range.pos);return t},t.ChangeTracker=m,t.applyChanges=g,n.prototype.setLastNonTriviaPosition=function(e,t){if(t||(t=e,d.skipTrivia(t,0)!==t.length)){this.lastNonTriviaPosition=this.writer.getTextPos();for(var r=0;d.isWhiteSpaceLike(e.charCodeAt(e.length-r-1));)r++;this.lastNonTriviaPosition-=r}},n.prototype.write=function(e){this.writer.write(e),this.setLastNonTriviaPosition(e,!1)},n.prototype.writeTextOfNode=function(e,t){this.writer.writeTextOfNode(e,t)},n.prototype.writeLine=function(){this.writer.writeLine()},n.prototype.increaseIndent=function(){this.writer.increaseIndent()},n.prototype.decreaseIndent=function(){this.writer.decreaseIndent()},n.prototype.getText=function(){return this.writer.getText()},n.prototype.rawWrite=function(e){this.writer.rawWrite(e),this.setLastNonTriviaPosition(e,!1)},n.prototype.writeLiteral=function(e){this.writer.writeLiteral(e),this.setLastNonTriviaPosition(e,!0)},n.prototype.getTextPos=function(){return this.writer.getTextPos()},n.prototype.getLine=function(){return this.writer.getLine()},n.prototype.getColumn=function(){return this.writer.getColumn()},n.prototype.getIndent=function(){return this.writer.getIndent()},n.prototype.isAtStartOfLine=function(){return this.writer.isAtStartOfLine()},n.prototype.reset=function(){this.writer.reset(),this.lastNonTriviaPosition=0};var y=n;function n(e){var n=this;this.lastNonTriviaPosition=0,this.writer=d.createTextWriter(e),this.onEmitNode=function(e,t,r){t&&i(t,n.lastNonTriviaPosition),r(e,t),t&&c(t,n.lastNonTriviaPosition)},this.onBeforeEmitNodeArray=function(e){e&&i(e,n.lastNonTriviaPosition)},this.onAfterEmitNodeArray=function(e){e&&c(e,n.lastNonTriviaPosition)},this.onBeforeEmitToken=function(e){e&&i(e,n.lastNonTriviaPosition)},this.onAfterEmitToken=function(e){e&&c(e,n.lastNonTriviaPosition)}}})(ts=ts||{}),(t=>{var e,n;e=t.codefix||(t.codefix={}),n=[],e.registerCodeFix=function(r){t.forEach(r.errorCodes,function(e){var t=n[e];t||(n[e]=t=[]),t.push(r)})},e.getSupportedErrorCodes=function(){return Object.keys(n)},e.getFixes=function(i){var e=n[i.errorCode],a=[];return t.forEach(e,function(e){e=e.getCodeActions(i);if(e&&0<e.length)for(var t=0,r=e;t<r.length;t++){var n=r[t];void 0===n?i.host.log("Action for error code "+i.errorCode+" added an invalid action entry; please log a bug"):a.push(n)}}),a}})(ts=ts||{}),(e=>{var t,n;t=e.refactor||(e.refactor={}),n=e.createMap(),t.registerRefactor=function(e){n.set(e.name,e)},t.getApplicableRefactors=function(t){return e.flatMapIter(n.values(),function(e){return t.cancellationToken&&t.cancellationToken.isCancellationRequested()?void 0:e.getAvailableActions(t)})},t.getEditsForRefactor=function(e,t,r){return(t=n.get(t))&&t.getEditsForAction(e,r)},e.getRefactorContextLength=function(e){return void 0===e.endPosition?0:e.endPosition-e.startPosition}})(ts=ts||{}),(i=>{(i.codefix||(i.codefix={})).registerCodeFix({errorCodes:[i.Diagnostics._0_accepts_too_few_arguments_to_be_used_as_a_decorator_here_Did_you_mean_to_call_it_first_and_write_0.code],getCodeActions:function(e){var t=e.sourceFile,r=i.getTokenAtPosition(t,e.span.start,!1),r=i.getAncestor(r,147),n=(i.Debug.assert(!!r,"Expected position to be owned by a decorator."),i.createCall(r.expression,void 0,void 0)),e=i.textChanges.ChangeTracker.fromContext(e);return e.replaceNode(t,r.expression,n),[{description:i.getLocaleSpecificMessage(i.Diagnostics.Call_decorator_expression),changes:e.getChanges()}]}})})(ts=ts||{}),(s=>{(s.codefix||(s.codefix={})).registerCodeFix({errorCodes:[s.Diagnostics.Cannot_access_0_1_because_0_is_a_type_but_not_a_namespace_Did_you_mean_to_retrieve_the_type_of_the_property_1_in_0_with_0_1.code],getCodeActions:function(e){var t,r,n,i=e.sourceFile,a=s.getTokenAtPosition(i,e.span.start,!1),a=s.getAncestor(a,143);if(s.Debug.assert(!!a,"Expected position to be owned by a qualified name."),s.isIdentifier(a.left))return t=a.left.getText(i),r=a.right.getText(i),n=s.createIndexedAccessTypeNode(s.createTypeReferenceNode(a.left,void 0),s.createLiteralTypeNode(s.createLiteral(r))),(e=s.textChanges.ChangeTracker.fromContext(e)).replaceNode(i,a,n),[{description:s.formatStringFromArgs(s.getLocaleSpecificMessage(s.Diagnostics.Rewrite_as_the_indexed_access_type_0),[t+'["'+r+'"]']),changes:e.getChanges()}]}})})(ts=ts||{}),(g=>{var h;(h=g.codefix||(g.codefix={})).registerCodeFix({errorCodes:[g.Diagnostics.Class_0_incorrectly_implements_interface_1.code],getCodeActions:function(n){var e=n.sourceFile,t=n.span.start,t=g.getTokenAtPosition(e,t,!1),i=n.program.getTypeChecker(),a=g.getContainingClass(t);if(!a)return;for(var s=g.getOpenBraceOfClassLike(a,e),t=i.getTypeAtLocation(a),e=g.getClassImplementsHeritageClauseElements(a),r=!!i.getIndexTypeOfType(t,1),o=!!i.getIndexTypeOfType(t,0),c=[],l=0,u=e;l<u.length;l++){var d=u[l],p=i.getTypeAtLocation(d),f=i.getPropertiesOfType(p).filter(function(e){return!(8&g.getModifierFlags(e.valueDeclaration))}),_=[],p=(m(p,1,r,_),m(p,0,o,_),_=_.concat(h.createMissingMemberNodes(a,f,i)),g.formatStringFromArgs(g.getLocaleSpecificMessage(g.Diagnostics.Implement_interface_0),[d.getText()]));0<_.length&&((e,t,r)=>{e.push({description:r,changes:h.newNodesToChanges(t,s,n)})})(c,_,p)}return c;function m(e,t,r,n){r||(r=i.getIndexInfoOfType(e,t))&&(e=i.indexInfoToIndexSignatureDeclaration(r,t,a),n.push(e))}}})})(ts=ts||{}),(d=>{var p;(p=d.codefix||(d.codefix={})).registerCodeFix({errorCodes:[d.Diagnostics.Property_0_does_not_exist_on_type_1.code,d.Diagnostics.Property_0_does_not_exist_on_type_1_Did_you_mean_2.code],getCodeActions:function(a){var e=a.sourceFile,t=a.span.start,s=d.getTokenAtPosition(e,t,!1);if(71!==s.kind)return;if(!d.isPropertyAccessExpression(s.parent))return;var r,o,c,l=s.getText(e),n=!1;if(99===s.parent.expression.kind){t=d.getThisContainer(s,!1);if(!d.isClassElement(t))return;r=t.parent,n=r&&d.hasModifier(t,32)}else{var i,e=a.program.getTypeChecker(),t=s.parent.expression,t=e.getTypeAtLocation(t);32768&t.flags&&32&(i=t.symbol).flags&&(r=i.declarations&&i.declarations[0],t!==e.getDeclaredTypeOfSymbol(i))&&(n=!0)}if(r&&d.isClassLike(r))return o=d.getSourceFileOfNode(r),c=d.getOpenBraceOfClassLike(r,o),(d.isInJavaScriptFile(o)?(e,t)=>{var r,n=u(!1);return n&&(r=[n]),t?199!==e.kind&&(n=e.name.getText(),t=d.createStatement(d.createAssignment(d.createPropertyAccess(d.createIdentifier(n),l),d.createIdentifier("undefined"))),(n=d.textChanges.ChangeTracker.fromContext(a)).insertNodeAfter(o,e,t,{prefix:a.newLineCharacter,suffix:a.newLineCharacter}),t={description:d.formatStringFromArgs(d.getLocaleSpecificMessage(d.Diagnostics.Initialize_static_property_0),[l]),changes:n.getChanges()},(r=r||[]).push(t)):(n=d.getFirstConstructorWithBody(e))&&(t=d.createStatement(d.createAssignment(d.createPropertyAccess(d.createThis(),l),d.createIdentifier("undefined"))),(e=d.textChanges.ChangeTracker.fromContext(a)).insertNodeBefore(o,n.body.getLastToken(),t,{suffix:a.newLineCharacter}),n={description:d.formatStringFromArgs(d.getLocaleSpecificMessage(d.Diagnostics.Initialize_property_0_in_the_constructor),[l]),changes:e.getChanges()},(r=r||[]).push(n)),r}:(e,t)=>{var r,n,i=u(!0);return i&&(r=[i]),194===s.parent.parent.kind&&(i=s.parent.parent,i=s.parent===i.left?i.right:i.left,n=a.program.getTypeChecker(),i=n.getWidenedType(n.getBaseTypeOfLiteralType(n.getTypeAtLocation(i))),n=n.typeToTypeNode(i,e)),n=n||d.createKeywordTypeNode(119),i=d.createProperty(void 0,t?[d.createToken(115)]:void 0,l,void 0,n,void 0),(e=d.textChanges.ChangeTracker.fromContext(a)).insertNodeAfter(o,c,i,{suffix:a.newLineCharacter}),i=t?d.Diagnostics.Declare_static_property_0:d.Diagnostics.Declare_property_0,r=d.append(r,{description:d.formatStringFromArgs(d.getLocaleSpecificMessage(i),[l]),changes:e.getChanges()}),t||(i=d.createKeywordTypeNode(136),e=d.createParameter(void 0,void 0,void 0,"x",void 0,i,void 0),t=d.createIndexSignature(void 0,void 0,[e],n),(i=d.textChanges.ChangeTracker.fromContext(a)).insertNodeAfter(o,c,t,{suffix:a.newLineCharacter}),r.push({description:d.formatStringFromArgs(d.getLocaleSpecificMessage(d.Diagnostics.Add_index_signature_for_property_0),[l]),changes:i.getChanges()})),r})(r,n);function u(e){var t;if(181===s.parent.parent.kind)return t=s.parent.parent,t=p.createMethodFromCallExpression(t,l,e,n),(e=d.textChanges.ChangeTracker.fromContext(a)).insertNodeAfter(o,c,t,{suffix:a.newLineCharacter}),t=n?d.Diagnostics.Declare_static_method_0:d.Diagnostics.Declare_method_0,{description:d.formatStringFromArgs(d.getLocaleSpecificMessage(t),[l]),changes:e.getChanges()}}}})})(ts=ts||{}),(i=>{(i.codefix||(i.codefix={})).registerCodeFix({errorCodes:[i.Diagnostics.Property_0_does_not_exist_on_type_1_Did_you_mean_2.code,i.Diagnostics.Cannot_find_name_0_Did_you_mean_1.code],getCodeActions:function(e){var t=e.sourceFile,r=i.getTokenAtPosition(t,e.span.start,!1),e=e.program.getTypeChecker();{var n;e=i.isPropertyAccessExpression(r.parent)&&r.parent.name===r?(i.Debug.assert(71===r.kind),n=e.getTypeAtLocation(r.parent.expression),e.getSuggestionForNonexistentProperty(r,n)):(n=i.getMeaningFromLocation(r),e.getSuggestionForNonexistentSymbol(r,i.getTextOfNode(r),(e=>{var t=0;return 4&e&&(t|=1920),2&e&&(t|=793064),1&e&&(t|=107455),t})(n)))}if(e)return[{description:i.formatStringFromArgs(i.getLocaleSpecificMessage(i.Diagnostics.Change_spelling_to_0),[e]),changes:[{fileName:t.fileName,textChanges:[{span:{start:r.getStart(),length:r.getWidth()},newText:e}]}]}]}})})(ts=ts||{}),(n=>{var e;function i(e,t){t=n.getPackageName(t).packageName;if(e.isKnownTypesPackageName(t))return{description:"Install '"+(e=n.getTypesPackageName(t))+"'",changes:[],commands:[{type:"install package",packageName:e}]}}(e=n.codefix||(n.codefix={})).registerCodeFix({errorCodes:[n.Diagnostics.Could_not_find_a_declaration_file_for_module_0_1_implicitly_has_an_any_type.code],getCodeActions:function(e){var t=e.sourceFile,r=e.span.start,t=n.getTokenAtPosition(t,r,!1);if(n.isStringLiteral(t))return(r=i(e.host,t.text))&&[r];throw n.Debug.fail()}}),e.tryGetCodeActionForInstallPackageTypes=i})(ts=ts||{}),(a=>{var s;function e(e){var t=e.sourceFile,r=e.span.start,r=a.getTokenAtPosition(t,r,!1),n=e.program.getTypeChecker();if(a.isClassLike(r.parent)){var r=r.parent,i=a.getClassExtendsHeritageClauseElement(r),i=n.getTypeAtLocation(i),i=n.getPropertiesOfType(i).filter(o),i=s.createMissingMemberNodes(r,i,n),n=s.newNodesToChanges(i,a.getOpenBraceOfClassLike(r,t),e);if(n&&0<n.length)return[{description:a.getLocaleSpecificMessage(a.Diagnostics.Implement_inherited_abstract_class),changes:n}]}}function o(e){e=e.getDeclarations(),a.Debug.assert(!!(e&&0<e.length)),e=a.getModifierFlags(e[0]);return!(8&e||!(128&e))}(s=a.codefix||(a.codefix={})).registerCodeFix({errorCodes:[a.Diagnostics.Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_class_2.code],getCodeActions:e}),s.registerCodeFix({errorCodes:[a.Diagnostics.Non_abstract_class_expression_does_not_implement_inherited_abstract_member_0_from_class_1.code],getCodeActions:e})})(ts=ts||{}),(c=>{(c.codefix||(c.codefix={})).registerCodeFix({errorCodes:[c.Diagnostics.super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class.code],getCodeActions:function(e){var t=e.sourceFile,r=c.getTokenAtPosition(t,e.span.start,!1);if(99===r.kind){var n=c.getContainingFunction(r),i=function e(t){if(210===t.kind&&c.isSuperCall(t.expression))return t;if(c.isFunctionLike(t))return;return c.forEachChild(t,e)}(n.body);if(i){if(i.expression&&181===i.expression.kind)for(var a=i.expression.arguments,s=0;s<a.length;s++)if(a[s].expression===r)return;var o=c.textChanges.ChangeTracker.fromContext(e);return o.insertNodeAfter(t,c.getOpenBrace(n,t),i,{suffix:e.newLineCharacter}),o.deleteNode(t,i),[{description:c.getLocaleSpecificMessage(c.Diagnostics.Make_super_call_the_first_statement_in_the_constructor),changes:o.getChanges()}]}}}})})(ts=ts||{}),(a=>{(a.codefix||(a.codefix={})).registerCodeFix({errorCodes:[a.Diagnostics.Constructors_for_derived_classes_must_contain_a_super_call.code],getCodeActions:function(e){var t,r,n=e.sourceFile,i=a.getTokenAtPosition(n,e.span.start,!1);if(123===i.kind)return t=a.textChanges.ChangeTracker.fromContext(e),r=a.createStatement(a.createCall(a.createSuper(),void 0,a.emptyArray)),t.insertNodeAfter(n,a.getOpenBrace(i.parent,n),r,{suffix:e.newLineCharacter}),[{description:a.getLocaleSpecificMessage(a.Diagnostics.Add_missing_super_call),changes:t.getChanges()}]}})})(ts=ts||{}),(c=>{(c.codefix||(c.codefix={})).registerCodeFix({errorCodes:[c.Diagnostics.Cannot_extend_an_interface_0_Did_you_mean_implements.code],getCodeActions:function(e){var t=e.sourceFile,r=e.span.start,r=c.getTokenAtPosition(t,r,!1),n=c.getContainingClass(r);if(71===r.kind&&c.isClassLike(n)){var i=n.heritageClauses;if(i&&0<i.length){r=i[0].getFirstToken();if(r&&85===r.kind){var a=c.textChanges.ChangeTracker.fromContext(e);a.replaceNode(t,r,c.createToken(108));for(var s=1;s<i.length;s++){var o=i[s].getFirstToken();o&&a.replaceNode(t,o,c.createToken(26))}return[{description:c.getLocaleSpecificMessage(c.Diagnostics.Change_extends_to_implements),changes:a.getChanges()}]}}}}})})(ts=ts||{}),(n=>{(n.codefix||(n.codefix={})).registerCodeFix({errorCodes:[n.Diagnostics.Cannot_find_name_0_Did_you_mean_the_instance_member_this_0.code],getCodeActions:function(e){var t=e.sourceFile,r=n.getTokenAtPosition(t,e.span.start,!1);if(71===r.kind)return(e=n.textChanges.ChangeTracker.fromContext(e)).replaceNode(t,r,n.createPropertyAccess(n.createThis(),r)),[{description:n.getLocaleSpecificMessage(n.Diagnostics.Add_this_to_unresolved_variable),changes:e.getChanges()}]}})})(ts=ts||{}),(g=>{(g.codefix||(g.codefix={})).registerCodeFix({errorCodes:[g.Diagnostics._0_is_declared_but_its_value_is_never_read.code,g.Diagnostics.Property_0_is_declared_but_its_value_is_never_read.code],getCodeActions:function(n){var i=n.sourceFile,e=n.span.start,t=g.getTokenAtPosition(i,e,!1);switch((t=21===t.kind?g.getTokenAtPosition(i,e+1,!1):t).kind){case 71:var r=t,a=r.parent;switch(a.kind){case 226:return((e,t)=>{switch(t.parent.parent.kind){case 214:var r=t.parent.parent.initializer;return[1===r.declarations.length?p(r):_(t)];case 216:r=t.parent.parent;return g.Debug.assert(227===r.initializer.kind),[((e,t)=>m(g.textChanges.ChangeTracker.fromContext(n).replaceNode(i,e,t)))(r.initializer.declarations[0],g.createObjectLiteral()),u(e)];case 215:return[u(e)];default:r=t.parent.parent;return 1===r.declarationList.declarations.length?[p(r)]:[_(t)]}})(r,a);case 145:var s=a.parent.typeParameters;return 1===s.length?(c=g.getTokenAtPosition(i,s.pos-1,!1),o=g.getTokenAtPosition(i,s.end,!1),g.Debug.assert(27===c.kind),g.Debug.assert(29===o.kind),[((e,t)=>m(g.textChanges.ChangeTracker.fromContext(n).deleteNodeRange(i,e,t)))(c,o)]):[_(a)];case 146:return[(1===a.parent.parameters.length?p:_)(a),u(r)];case 237:return[p(g.getAncestor(r,237))];case 242:s=a.parent;return 1===s.elements.length?d(s):[_(a)];case 239:var o,c=a;return c.namedBindings?(s=c.name.getStart(i),(o=g.getTokenAtPosition(i,c.name.end,!1))&&26===o.kind?[f({pos:s,end:g.skipTrivia(i.text,o.end,!1,!0)})]:[p(c.name)]):[p(g.getAncestor(c,238))];case 240:return d(a);default:return l()}return;case 149:case 240:return[p(t.parent)];default:return l()}function l(){return g.isDeclarationName(t)?[p(t.parent)]:g.isLiteralComputedPropertyDeclarationName(t)?[p(t.parent.parent)]:void 0}function u(e){e=e.getStart(i,!1);return{description:g.formatStringFromArgs(g.getLocaleSpecificMessage(g.Diagnostics.Prefix_0_with_an_underscore),{0:t.getText()}),changes:[{fileName:i.path,textChanges:[{span:{start:e,length:0},newText:"_"}]}]}}function d(e){var t;return e.parent.name?(t=g.getTokenAtPosition(i,e.pos-1,!1))&&26===t.kind?[f({pos:t.getStart(),end:e.end})]:void 0:[p(g.getAncestor(e,238))]}function p(e){return m(g.textChanges.ChangeTracker.fromContext(n).deleteNode(i,e))}function f(e){return m(g.textChanges.ChangeTracker.fromContext(n).deleteRange(i,e))}function _(e){return m(g.textChanges.ChangeTracker.fromContext(n).deleteNodeInList(i,e))}function m(e){return{description:g.formatStringFromArgs(g.getLocaleSpecificMessage(g.Diagnostics.Remove_declaration_for_Colon_0),{0:t.getText()}),changes:e.getChanges()}}}})})(ts=ts||{}),(s=>{function o(e,t,r,n){return{description:s.formatStringFromArgs(s.getLocaleSpecificMessage(s.Diagnostics.Change_0_to_1),[r,n]),changes:[{fileName:t,textChanges:[{span:{start:e.getStart(),length:e.getWidth()},newText:n}]}]}}(s.codefix||(s.codefix={})).registerCodeFix({errorCodes:[s.Diagnostics.JSDoc_types_can_only_be_used_inside_documentation_comments.code],getCodeActions:function(e){var t=e.sourceFile,r=s.getTokenAtPosition(t,e.span.start,!1),r=s.findAncestor(r,function(e){return 202===e.kind||155===e.kind||156===e.kind||228===e.kind||153===e.kind||157===e.kind||172===e.kind||151===e.kind||150===e.kind||146===e.kind||149===e.kind||148===e.kind||154===e.kind||231===e.kind||184===e.kind||226===e.kind});if(r){var n,i,a,e=e.program.getTypeChecker(),r=r.type;if(r)return n=s.getTextOfNode(r),i=e.getTypeFromTypeNode(r),a=[o(r,t.fileName,n,e.typeToString(i,void 0,8))],270===r.kind&&(e=e.typeToString(e.getNullableType(i,2048),void 0,8),a.push(o(r,t.fileName,n,e))),a}}})})(ts=ts||{}),(d=>{var e,t,l,r;function n(){this.symbolIdToActionMap=[]}function u(e,t,r,n,i){return{description:d.formatMessage.apply(void 0,[void 0,e].concat(t)),changes:r,kind:n,moduleSpecifier:i}}function p(e,t){var r=((r,n,e,t)=>{e=e.imports,void 0===t&&(t=[]);var i=d.getUniqueSymbolId(r,n),a=t[i];return a=a||(t[i]=d.mapDefined(e,function(e){if(n.getSymbolAtLocation(e)===r){var t=e.parent;switch(t.kind){case 238:return t;case 248:return t.parent;default:return void d.Debug.assert(244===t.kind)}}}))})(e,t.checker,t.sourceFile,t.cachedImportDeclarations),n=[];if(t.symbolToken)for(var i=0,a=r;i<a.length;i++){var s=(e=>{var t;return 238===e.kind?(t=e.importClause&&e.importClause.namedBindings)&&240===t.kind?t.name:void 0:e.name})(a[i]);s&&n.push(((t,e,r)=>{var n=e.symbolName,i=e.sourceFile;return u(d.Diagnostics.Change_0_to_1,[n,t+"."+n],l.with(e,function(e){return e.replaceNode(i,r,d.createPropertyAccess(d.createIdentifier(t),n))}),"CodeChange",void 0)})(s.text,t,t.symbolToken))}return n.push(((e,r,t)=>{var n=d.firstDefined(t,function(e){if(238===e.kind&&e.importClause){var t=((e,t)=>{var r=e.symbolName,n=e.sourceFile,i=e.kind,a=t.name,s=t.namedBindings;switch(i){case 1:return a?void 0:l.with(e,function(e){return e.replaceNode(n,t,d.createImportClause(d.createIdentifier(r),s))});case 0:var o=d.createImportSpecifier(void 0,d.createIdentifier(r));return s&&241===s.kind&&0!==s.elements.length?l.with(e,function(e){return e.insertNodeInListAfter(n,s.elements[s.elements.length-1],o)}):!s||241===s.kind&&0===s.elements.length?l.with(e,function(e){return e.replaceNode(n,t,d.createImportClause(a,d.createNamedImports([o])))}):void 0;case 2:return s?void 0:l.with(e,function(e){return e.replaceNode(n,t,d.createImportClause(a,d.createNamespaceImport(d.createIdentifier(r))))});default:d.Debug.assertNever(i)}})(r,e.importClause);if(t)return e=d.stripQuotes(e.moduleSpecifier.getText()),u(d.Diagnostics.Add_0_to_existing_import_declaration_from_1,[r.symbolName,e],t,"InsertingIntoExistingImport",e)}});if(n)return n;n=d.firstDefined(t,h)||((e,t,r,n,i)=>{var a=t.valueDeclaration.getSourceFile().fileName,e=d.getDirectoryPath(e.fileName);return(e=>{if(e=e.valueDeclaration,d.isModuleDeclaration(e)&&d.isStringLiteral(e.name))return e.name.text})(t)||((e,t,r,n)=>(e=d.getEffectiveTypeRoots(e,t))&&d.firstDefined(e,function(e){e=d.toPath(e,void 0,r);if(d.startsWith(n,e))return _(n.substring(e.length+1))}))(r,i,n,a)||((e,t,n,i,r)=>{var a;return d.getEmitModuleResolutionKind(e)===d.ModuleResolutionKind.NodeJs&&(a=(e=>{for(var t=0,r=0,n=0,i=0,a={},s=(a[a.BeforeNodeModules=0]="BeforeNodeModules",a[a.NodeModules=1]="NodeModules",a[a.Scope=2]="Scope",a[a.PackageContent=3]="PackageContent",0),o=0,c=0;0<=o;)switch(s=o,o=e.indexOf("/",s+1),c){case 0:e.indexOf("/node_modules/",s)===s&&(t=s,r=o,c=1);break;case 1:case 2:c=1===c&&"@"===e.charAt(s+1)?2:(n=o,3);break;case 3:c=e.indexOf("/node_modules/",s)===s?1:3}return i=s,1<c?{topLevelNodeModulesIndex:t,topLevelPackageNameIndex:r,packageRootIndex:n,fileNameIndex:i}:void 0})(t))?(e=(e=>{var t=e.substring(0,a.topLevelNodeModulesIndex);return 0===r.indexOf(t)?e.substring(a.topLevelPackageNameIndex+1):g(e,r,i)})(e=(e=>{var t=e.substring(0,a.packageRootIndex),r=d.combinePaths(t,"package.json");if(n.fileExists(r)){r=JSON.parse(n.readFile(r));if(r){r=r.typings||r.types||r.main;if(r)if(d.toPath(r,t,i)===i(e))return t}}return r=d.removeFileExtension(e),"/index"!==i(r.substring(a.fileNameIndex))?r:r.substring(0,a.fileNameIndex)})(t)),d.getPackageNameFromAtTypesDirectory(e)):void 0})(r,a,i,n,e)||((e,t,r)=>{if(e.baseUrl){var n=m(t,e.baseUrl,r);if(n){var i=d.removeFileExtension(n);if(n=_(n),e.paths)for(var a in e.paths)for(var s=0,o=e.paths[a];s<o.length;s++){var c=o[s],l=c.indexOf("*");if(0!==l||1!==c.length)if(-1!==l){var u=c.substr(0,l),l=c.substr(l+1);if(n.length>=u.length+l.length&&d.startsWith(n,u)&&d.endsWith(n,l))return u=n.substr(u.length,n.length-l.length),a.replace("*",u)}else if(c===n||c===i)return a}return n}}})(r,a,n)||r.rootDirs&&((e,t,r,n)=>{if(void 0!==(t=f(t,e,n)))return r=f(r,e,n),e=void 0!==r?g(t,r,n):t,d.removeFileExtension(e)})(r.rootDirs,a,e,n)||d.removeFileExtension(g(a,e,n))})(r.sourceFile,e,r.compilerOptions,r.getCanonicalFileName,r.host);var t=r,e=n,n=t.kind,i=t.sourceFile,a=t.newLineCharacter,s=t.symbolName,o=d.findLast(i.statements,d.isAnyImportSyntax),e=d.stripQuotes(e),c=d.createImportDeclaration(void 0,void 0,((e,t)=>{var r=d.createIdentifier(t);switch(e){case 1:return d.createImportClause(r,void 0);case 2:return d.createImportClause(void 0,d.createNamespaceImport(r));case 0:return d.createImportClause(void 0,d.createNamedImports([d.createImportSpecifier(void 0,r)]));default:d.Debug.assertNever(e)}})(n,s),((e,t)=>{var t=d.createLiteral(t),r=d.firstOrUndefined(e.imports);return t.singleQuote=!!r&&!d.isStringDoubleQuoted(r,e),t})(i,e)),n=l.with(t,function(e){o?e.insertNodeAfter(i,o,c,{suffix:a}):e.insertNodeAt(i,d.getSourceFileImportLocation(i),c,{suffix:""+a+a})});return u(d.Diagnostics.Import_0_from_1,[s,e],n,"NewImport",e)})(e,t,r)),n}function f(t,e,r){return d.firstDefined(e,function(e){return m(t,e,r)})}function _(e){return e=d.removeFileExtension(e),e=d.endsWith(e,"/index")?e.substr(0,e.length-6):e}function m(e,t,r){e=d.getRelativePathToDirectoryOrUrl(t,e,t,r,!1);return d.isRootedDiskPath(e)||d.startsWith(e,"..")?void 0:e}function g(e,t,r){e=d.getRelativePathToDirectoryOrUrl(t,e,t,r,!1);return d.pathIsRelative(e)?e:"./"+e}function h(e){e=238===e.kind?e.moduleSpecifier:248===e.moduleReference.kind?e.moduleReference.expression:void 0;return e&&d.isStringLiteral(e)?e.text:void 0}function y(e,t){e=e.declarations;return d.some(e,function(e){return!!(d.getMeaningFromDeclaration(e)&t)})}function v(e,t,r){for(var n=0,i=e.getAmbientModules();n<i.length;n++)r(i[n]);for(var a=0,s=t;a<s.length;a++){var o=s[a];d.isExternalOrCommonJsModule(o)&&r(o.symbol)}}e=d.codefix||(d.codefix={}),l=d.textChanges.ChangeTracker,e.registerCodeFix({errorCodes:[d.Diagnostics.Cannot_find_name_0.code,d.Diagnostics.Cannot_find_name_0_Did_you_mean_1.code,d.Diagnostics.Cannot_find_namespace_0.code,d.Diagnostics._0_refers_to_a_UMD_global_but_the_current_file_is_a_module_Consider_adding_an_import_instead.code],getCodeActions:function(e){var t=(e=>{var t=!!e.host.useCaseSensitiveFileNames&&e.host.useCaseSensitiveFileNames(),r=e.program.getTypeChecker(),n=d.getTokenAtPosition(e.sourceFile,e.span.start,!1);return{host:e.host,newLineCharacter:e.newLineCharacter,rulesProvider:e.rulesProvider,sourceFile:e.sourceFile,checker:r,compilerOptions:e.program.getCompilerOptions(),cachedImportDeclarations:[],getCanonicalFileName:d.createGetCanonicalFileName(t),symbolName:n.getText(),symbolToken:n}})(e);return e.errorCode===d.Diagnostics._0_refers_to_a_UMD_global_but_the_current_file_is_a_module_Consider_adding_an_import_instead.code?(e=>{var t,r,n=e.checker,i=e.symbolToken,a=n.getSymbolAtLocation(i);return 2097152&a.flags?(t=n.getAliasedSymbol(a),r=e.symbolName):d.isJsxOpeningLikeElement(i.parent)&&i.parent.tagName===i?(t=n.getAliasedSymbol(n.resolveName(n.getJsxNamespace(),i.parent.tagName,107455)),r=t.name):d.Debug.fail("Either the symbol or the JSX namespace should be a UMD global if we got here"),p(t,__assign({},e,{symbolName:r,kind:2}))})(t):((n,e,i)=>{var a=n.sourceFile,s=n.checker,o=n.symbolName,t=n.symbolToken,c=(d.Debug.assert("default"!==o),new r),l=d.getMeaningFromLocation(t);return v(s,e,function(e){var t,r;e!==a.symbol&&(i.throwIfCancellationRequested(),(t=s.tryGetMemberInModuleExports("default",e))&&(t=d.getLocalSymbolForExportDefault(t))&&t.escapedName===o&&y(t,l)&&(r=d.getUniqueSymbolId(t,s),c.addActions(r,p(e,__assign({},n,{kind:1})))),t=s.tryGetMemberInModuleExportsAndProperties(o,e))&&y(t,l)&&(r=d.getUniqueSymbolId(t,s),c.addActions(r,p(e,__assign({},n,{kind:0}))))}),c.getAllActions()})(t,e.program.getSourceFiles(),e.cancellationToken)}}),n.prototype.addAction=function(e,t){var r=this.symbolIdToActionMap[e];if(r)if("CodeChange"===t.kind)r.push(t);else{for(var n=[],i=0,a=this.symbolIdToActionMap[e];i<a.length;i++){var s=a[i];if("CodeChange"===s.kind)n.push(s);else switch(this.compareModuleSpecifiers(s.moduleSpecifier,t.moduleSpecifier)){case 0:if("NewImport"===t.kind)return;case 1:n.push(s);break;case 2:continue}}n.push(t),this.symbolIdToActionMap[e]=n}else this.symbolIdToActionMap[e]=[t]},n.prototype.addActions=function(e,t){for(var r=0,n=t;r<n.length;r++){var i=n[r];this.addAction(e,i)}},n.prototype.getAllActions=function(){var e,t=[];for(e in this.symbolIdToActionMap)t=d.concatenate(t,this.symbolIdToActionMap[e]);return t},n.prototype.compareModuleSpecifiers=function(e,t){var r;return e===t?1:0===t.indexOf(e)?0:0===e.indexOf(t)?2:d.isExternalModuleNameRelative(e)&&d.isExternalModuleNameRelative(t)?(r=new RegExp(d.directorySeparator,"g"),(e=(e.match(r)||[]).length)<(t=(t.match(r)||[]).length)?0:e===t?1:2):1},r=n,(t=e.ImportKind||(e.ImportKind={}))[t.Named=0]="Named",t[t.Default=1]="Default",t[t.Namespace=2]="Namespace",e.getCodeActionForImport=p,e.forEachExternalModule=v})(ts=ts||{}),(a=>{var t;(a.codefix||(a.codefix={})).registerCodeFix({errorCodes:(t=a.Diagnostics,Object.keys(t).filter(function(e){return t[e]&&t[e].category===a.DiagnosticCategory.Error}).map(function(e){return t[e].code})),getCodeActions:function(e){var t=e.sourceFile,r=e.program,n=e.newLineCharacter,e=e.span;if(a.isInJavaScriptFile(t)&&a.isCheckJsEnabledForFile(t,r.getCompilerOptions()))return[{description:a.getLocaleSpecificMessage(a.Diagnostics.Ignore_this_error_message),changes:[{fileName:t.fileName,textChanges:[((e,t,r)=>{var n=a.getLineAndCharacterOfPosition(e,t).line,n=a.getStartPositionOfLine(n,e),n=a.getFirstNonSpaceCharacterPosition(e.text,n);if(!a.isInComment(e,n)&&!a.isInString(e,n)&&!a.isInTemplateString(e,n)){var i=a.getTouchingToken(e,n,!1),i=a.getLeadingCommentRangesOfNode(i,e);if(!i||!i.length||i[0].pos>=n)return{span:{start:n,length:0},newText:"// @ts-ignore"+r}}return{span:{start:t,length:0},newText:(t===n?"":r)+"// @ts-ignore"+r}})(t,e.start,n)]}]},{description:a.getLocaleSpecificMessage(a.Diagnostics.Disable_checking_for_this_file),changes:[{fileName:t.fileName,textChanges:[{span:{start:t.checkJsDirective?t.checkJsDirective.pos:0,length:t.checkJsDirective?t.checkJsDirective.end-t.checkJsDirective.pos:0},newText:"// @ts-nocheck"+n}]}]}]}})})(ts=ts||{}),(h=>{var e;function y(e,t,r,n){for(var i=[],a=0;a<e;a++){var s=h.createParameter(void 0,void 0,void 0,t&&t[a]||"arg"+a,void 0!==r&&r<=a?h.createToken(55):void 0,n?h.createKeywordTypeNode(119):void 0,void 0);i.push(s)}return i}function v(e,t,r,n,i,a){return h.createMethod(void 0,e,void 0,t,r?h.createToken(55):void 0,n,i,a,b())}function b(){return h.createBlock([h.createThrow(h.createNew(h.createIdentifier("Error"),void 0,[h.createLiteral("Method not implemented.")]))],!0)}(e=h.codefix||(h.codefix={})).newNodesToChanges=function(e,t,r){for(var n=r.sourceFile,i=h.textChanges.ChangeTracker.fromContext(r),a=0,s=e;a<s.length;a++){var o=s[a];i.insertNodeAfter(n,t,o,{suffix:r.newLineCharacter})}return e=i.getChanges(),h.some(e)?(h.Debug.assert(1===e.length),[{fileName:e[0].fileName,textChanges:[{span:e[0].textChanges[0].span,newText:e[0].textChanges.reduce(function(e,t){return e+t.newText},"")}]}]):e},e.createMissingMemberNodes=function(e,t,r){for(var n=e.symbol.members,i=[],a=0,s=t.filter(function(e){return!n.has(e.escapedName)});a<s.length;a++){var o=((e,t,n)=>{var r=e.getDeclarations();if(r&&r.length){var i=r[0],a=h.getSynthesizedClone(h.getNameOfDeclaration(i)),s=(e=>4&e?h.createToken(114):16&e?h.createToken(113):void 0)(h.getModifierFlags(i)),o=s?h.createNodeArray([s]):void 0,c=n.getWidenedType(n.getTypeOfSymbolAtLocation(e,t)),l=!!(16777216&e.flags);switch(i.kind){case 153:case 154:case 148:case 149:var u=n.typeToTypeNode(c,t);return h.createProperty(void 0,o,a,l?h.createToken(55):void 0,u,void 0);case 150:case 151:var d=n.getSignaturesOfType(c,0);if(!h.some(d))return;if(1===r.length)return h.Debug.assert(1===d.length),g(m=d[0],t,b());for(var p=[],f=0;f<d.length;f++){var _,m=d[f];(_=g(m,t))&&p.push(_)}return r.length>d.length?(m=n.getSignatureFromDeclaration(r[r.length-1]),(_=g(m,t,b()))&&p.push(_)):(h.Debug.assert(r.length===d.length),u=((e,t,r,n)=>{for(var i=e[0],a=e[0].minArgumentCount,s=!1,o=0;o<e.length;o++){var c=e[o];a=Math.min(c.minArgumentCount,a),c.hasRestParameter&&(s=!0),c.parameters.length>=i.parameters.length&&(!c.hasRestParameter||i.hasRestParameter)&&(i=c)}var l,u=i.parameters.length-(i.hasRestParameter?1:0),d=i.parameters.map(function(e){return e.name}),p=y(u,d,a,!0);return s&&(l=h.createArrayTypeNode(h.createKeywordTypeNode(119)),d=h.createParameter(void 0,void 0,h.createToken(24),d[u]||"rest",a<=u?h.createToken(55):void 0,l,void 0),p.push(d)),v(n,t,r,void 0,p,void 0)})(d,a,l,o),p.push(u)),p;default:return}}function g(e,t,r){e=n.signatureToSignatureDeclaration(e,151,t,h.NodeBuilderFlags.SuppressAnyReturnType);return e&&(e.decorators=void 0,e.modifiers=o,e.name=a,e.questionToken=l?h.createToken(55):void 0,e.body=r),e}})(s[a],e,r);o&&(Array.isArray(o)?i=i.concat(o):i.push(o))}return i},e.createMethodFromCallExpression=function(e,t,r,n){var i,a=y(e.arguments.length,void 0,void 0,r);if(r)for(var s=h.length(e.typeArguments),o=0;o<s;o++){var c=s<8?String.fromCharCode(84+o):"T"+o,c=h.createTypeParameterDeclaration(c,void 0,void 0);(i=i||[]).push(c)}return h.createMethod(void 0,n?[h.createToken(115)]:void 0,void 0,t,void 0,i,a,r?h.createKeywordTypeNode(119):void 0,b())},e.createStubbedMethod=v})(ts=ts||{}),(x=>{var h,e;function k(e,t,r){for(;x.isRightSideOfQualifiedNameOrPropertyAccess(e);)e=e.parent;switch(e.parent.kind){case 193:r.isNumber=!0;break;case 192:var n=e.parent,i=r;switch(n.operator){case 43:case 44:case 38:case 52:i.isNumber=!0;break;case 37:i.isNumberOrString=!0}break;case 194:var a=e,s=e.parent,o=t,c=r;switch(s.operatorToken.kind){case 40:case 39:case 41:case 42:case 45:case 46:case 47:case 48:case 49:case 50:case 60:case 62:case 61:case 63:case 64:case 68:case 69:case 70:case 65:case 67:case 66:case 38:case 27:case 30:case 29:case 31:var l=o.getTypeAtLocation(s.left===a?s.right:s.left);272&l.flags?T(c,l):c.isNumber=!0;break;case 59:case 37:l=o.getTypeAtLocation(s.left===a?s.right:s.left);272&l.flags?T(c,l):84&l.flags?c.isNumber=!0:262178&l.flags?c.isString=!0:c.isNumberOrString=!0;break;case 58:case 32:case 34:case 35:case 33:T(c,o.getTypeAtLocation(s.left===a?s.right:s.left));break;case 92:a===s.left&&(c.isString=!0);break;case 54:a!==s.left||226!==a.parent.parent.kind&&!x.isAssignmentExpression(a.parent.parent,!0)||T(c,o.getTypeAtLocation(s.right))}break;case 257:case 258:n=e.parent,T(r,t.getTypeAtLocation(n.parent.parent.expression));break;case 181:case 182:if(e.parent.expression===e){var u=e.parent,d=t,p=r,f={argumentTypes:[],returnType:{}};if(u.arguments)for(var _=0,m=u.arguments;_<m.length;_++){var g=m[_];f.argumentTypes.push(d.getTypeAtLocation(g))}k(u,d,f.returnType),(181===u.kind?p.callContexts||(p.callContexts=[]):p.constructContexts||(p.constructContexts=[])).push(f)}else S(e,t,r);break;case 179:u=e.parent,p=t,y=r,v=x.escapeLeadingUnderscores(u.name.text),y.properties||(y.properties=x.createUnderscoreEscapedMap()),b=y.properties.get(v)||{},k(u,p,b),y.properties.set(v,b);break;case 180:y=e.parent,v=t,b=r,(h=e)===y.argumentExpression?b.isNumberOrString=!0:(h=v.getTypeAtLocation(y),k(y,v,y={}),84&h.flags?b.numberIndexContext=y:b.stringIndexContext=y);break;default:S(e,t,r)}var h,y,v,b}function S(e,t,r){x.isPartOfExpression(e)&&T(r,t.getContextualType(e))}function f(e,n){if(e.isNumberOrString&&!e.isNumber&&!e.isString)return n.getUnionType([n.getNumberType(),n.getStringType()]);if(e.isNumber)return n.getNumberType();if(e.isString)return n.getStringType();if(e.candidateTypes)return n.getWidenedType(n.getUnionType(x.map(e.candidateTypes,function(e){return n.getBaseTypeOfLiteralType(e)}),!0));if(e.properties&&g(e.properties.get("then")))return a=_(0,e.properties.get("then").callContexts,!1,n).getCallSignatures().map(function(e){return e.getReturnType()}),n.createPromiseType(a.length?n.getUnionType(a,!0):n.getAnyType());if(e.properties&&g(e.properties.get("push")))return n.createArrayType(_(0,e.properties.get("push").callContexts,!1,n));if(e.properties||e.callContexts||e.constructContexts||e.numberIndexContext||e.stringIndexContext){var i=x.createUnderscoreEscapedMap(),t=[],r=[],a=void 0,s=void 0;if(e.properties&&e.properties.forEach(function(e,t){var r=n.createSymbol(4,t);r.type=f(e,n)||n.getAnyType(),i.set(t,r)}),e.callContexts)for(var o=0,c=e.callContexts;o<c.length;o++){var l=c[o];t.push(m(l,n))}if(e.constructContexts)for(var u=0,d=e.constructContexts;u<d.length;u++){var p=d[u];r.push(m(p,n))}return e.numberIndexContext&&(s=n.createIndexInfo(f(e.numberIndexContext,n),!1)),e.stringIndexContext&&(a=n.createIndexInfo(f(e.stringIndexContext,n),!1)),n.createAnonymousType(void 0,i,t,r,a,s)}}function _(e,t,r,n){var i=[];if(t)for(var a=0,s=t;a<s.length;a++){var o=s[a];o.argumentTypes.length>e&&(r?i=x.concatenate(i,x.map(o.argumentTypes.slice(e),function(e){return n.getBaseTypeOfLiteralType(e)})):i.push(n.getBaseTypeOfLiteralType(o.argumentTypes[e])))}if(i.length)return t=n.getWidenedType(n.getUnionType(i,!0)),r?n.createArrayType(t):t}function m(e,t){for(var r=[],n=0;n<e.argumentTypes.length;n++){var i=t.createSymbol(1,x.escapeLeadingUnderscores("arg"+n));i.type=t.getWidenedType(t.getBaseTypeOfLiteralType(e.argumentTypes[n])),r.push(i)}var a=f(e.returnType,t)||t.getVoidType();return t.createSignature(void 0,void 0,void 0,r,a,void 0,e.argumentTypes.length,!1,!1)}function T(e,t){!t||1&t.flags||8192&t.flags||(e.candidateTypes||(e.candidateTypes=[])).push(t)}function g(e){return e&&e.callContexts}(x.codefix||(x.codefix={})).registerCodeFix({errorCodes:[x.Diagnostics.Variable_0_implicitly_has_type_1_in_some_locations_where_its_type_cannot_be_determined.code,x.Diagnostics.Variable_0_implicitly_has_an_1_type.code,x.Diagnostics.Parameter_0_implicitly_has_an_1_type.code,x.Diagnostics.Rest_parameter_0_implicitly_has_an_any_type.code,x.Diagnostics.Property_0_implicitly_has_type_any_because_its_get_accessor_lacks_a_return_type_annotation.code,x.Diagnostics._0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type.code,x.Diagnostics.Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_parameter_type_annotation.code,x.Diagnostics.Member_0_implicitly_has_an_1_type.code],getCodeActions:function(e){var a,n=e.sourceFile,t=e.program,r=e.span.start,i=e.errorCode,s=e.cancellationToken,o=x.getTokenAtPosition(n,r,!1);if(!x.isInJavaScriptFile(o)){switch(o.kind){case 71:case 24:case 114:case 112:case 113:case 131:break;default:return}var c=x.getContainingFunction(o),l=t.getTypeChecker();switch(i){case x.Diagnostics.Member_0_implicitly_has_an_1_type.code:case x.Diagnostics.Variable_0_implicitly_has_type_1_in_some_locations_where_its_type_cannot_be_determined.code:return u(o.parent);case x.Diagnostics.Variable_0_implicitly_has_an_1_type.code:return(e=>(e=l.getSymbolAtLocation(e))&&e.valueDeclaration&&u(e.valueDeclaration))(o);case x.Diagnostics.Parameter_0_implicitly_has_an_1_type.code:if(x.isSetAccessor(c))return d(c);case x.Diagnostics.Rest_parameter_0_implicitly_has_an_any_type.code:return(e=>{var t;return x.isIdentifier(e.name)&&(e=>{switch(e.kind){case 228:case 151:case 152:return 1;case 186:return e.name}})(c)&&(t=(e=>{switch(e.kind){case 152:case 186:case 228:case 151:var t=152===e.kind?g(e,n,123):e.name;if(t)return h.inferTypeForParametersFromReferences(f(t),e,l,s)}})(c)||x.map(c.parameters,function(e){return x.isIdentifier(e.name)&&_(e.name)}))&&(t=x.zipWith(c.parameters,t,function(e,t){return t&&!e.type&&!e.initializer&&(t=m(t,c))?{span:{start:e.end,length:0},newText:": "+t}:void 0}).filter(function(e){return!!e})).length?[{description:x.formatStringFromArgs(x.getLocaleSpecificMessage(x.Diagnostics.Infer_parameter_types_from_usage),[e.name.getText()]),changes:[{fileName:n.fileName,textChanges:t}]}]:void 0})(o.parent);case x.Diagnostics.Property_0_implicitly_has_type_any_because_its_get_accessor_lacks_a_return_type_annotation.code:case x.Diagnostics._0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type.code:return x.isGetAccessor(c)?(e=>{var t,r;return x.isIdentifier(e.name)&&(r=(r=_(e.name))&&m(r,c))?(t=g(e,n,20),p(e.name.getText(),t.getEnd(),": "+r)):void 0})(c):void 0;case x.Diagnostics.Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_parameter_type_annotation.code:return x.isSetAccessor(c)?d(c):void 0}}return;function u(e){if(x.isIdentifier(e.name)){var t=_(e.name),t=t&&m(t,e);if(t)return p(e.name.getText(),e.name.getEnd(),": "+t)}}function d(e){var t=e.parameters[0];if(t&&x.isIdentifier(e.name)&&x.isIdentifier(t.name)){var r=_(e.name)||_(t.name),r=r&&m(r,c);if(r)return p(e.name.getText(),t.name.getEnd(),": "+r)}}function p(e,t,r){return[{description:x.formatStringFromArgs(x.getLocaleSpecificMessage(x.Diagnostics.Infer_type_of_0_from_usage),[e]),changes:[{fileName:n.fileName,textChanges:[{span:{start:t,length:0},newText:r}]}]}]}function f(e){e=x.FindAllReferences.findReferencedSymbols(t,s,t.getSourceFiles(),e.getSourceFile(),e.getStart());return x.Debug.assert(!!e,"Found no references!"),x.Debug.assert(1===e.length,"Found more references than expected"),x.map(e[0].references,function(e){return x.getTokenAtPosition(t.getSourceFile(e.fileName),e.textSpan.start,!1)})}function _(e){return h.inferTypeFromReferences(f(e),l,s)}function m(e,t){a||(n=!(r=""),a={string:function(){return n?r:void 0},writeKeyword:i=function(e){return r+=e},writeOperator:i,writePunctuation:i,writeSpace:i,writeStringLiteral:i,writeParameter:i,writeProperty:i,writeSymbol:i,writeLine:function(){return r+=" "},increaseIndent:x.noop,decreaseIndent:x.noop,clear:function(){n=!(r="")},trackSymbol:function(e,t,r){0!==l.isSymbolAccessible(e,t,r,!1).accessibility&&(n=!1)},reportInaccessibleThisError:function(){n=!1},reportPrivateInBaseOfClassExpression:function(){n=!1}}),a.clear();var r,n,i=a;return l.getSymbolDisplayBuilder().buildTypeDisplay(e,i,t),i.string()}function g(e,t,r){for(var n=0,i=e.getChildren(t);n<i.length;n++){var a=i[n];if(a.kind===r)return a}}}}),(e=h=h||{}).inferTypeFromReferences=function(e,t,r){for(var n={},i=0,a=e;i<a.length;i++){var s=a[i];r.throwIfCancellationRequested(),k(s,t,n)}return f(n,t)},e.inferTypeForParametersFromReferences=function(e,t,r,n){if(t.parameters){for(var i={},a=0,s=e;a<s.length;a++){var o=s[a];n.throwIfCancellationRequested(),k(o,r,i)}var c=152===t.kind?i.constructContexts:i.callContexts;if(c){for(var l=[],u=0;u<t.parameters.length;u++){for(var d,p=[],f=x.isRestParameter(t.parameters[u]),_=0,m=c;_<m.length;_++){var g=m[_];g.argumentTypes.length>u&&(f?p=x.concatenate(p,x.map(g.argumentTypes.slice(u),function(e){return r.getBaseTypeOfLiteralType(e)})):p.push(r.getBaseTypeOfLiteralType(g.argumentTypes[u])))}p.length&&(d=r.getWidenedType(r.getUnionType(p,!0)),l[u]=f?r.createArrayType(d):d)}return l}}}})(ts=ts||{}),(o=>{var n,i,t;function r(e){return!!e&&(o.isFunctionLikeDeclaration(e)?e.parameters.some(r)||!e.type&&!!o.getJSDocReturnType(e):!e.type&&!!o.getJSDocType(e))}function a(e){return o.isFunctionLikeDeclaration(e)||226===e.kind||146===e.kind||148===e.kind||149===e.kind}function c(e){var t,r;if(void 0!==e)switch(e.kind){case 268:case 269:return o.createTypeReferenceNode("any",o.emptyArray);case 272:return o.createUnionTypeNode([o.visitNode(e.type,c),o.createTypeReferenceNode("undefined",o.emptyArray)]);case 271:return c(e.type);case 270:return o.createUnionTypeNode([o.visitNode(e.type,c),o.createTypeReferenceNode("null",o.emptyArray)]);case 274:return o.createArrayTypeNode(o.visitNode(e.type,c));case 273:return r=(t=e).parameters&&t.parameters.map(c),o.createFunctionTypeNode(o.emptyArray,r,t.type);case 146:return t=(r=e).parent.parameters.indexOf(r),n=274===r.type.kind&&t===r.parent.parameters.length-1,t=r.name||(n?"rest":"arg"+t),n=n?o.createToken(24):r.dotDotDotToken,o.createParameter(r.decorators,r.modifiers,n,t,r.questionToken,o.visitNode(r.type,c),r.initializer);case 159:var n=e,i=n.typeName,a=n.typeArguments;if(o.isIdentifier(n.typeName)){if(o.isJSDocIndexSignature(n))return(e=>{var t=o.createParameter(void 0,void 0,void 0,133===e.typeArguments[0].kind?"n":"s",void 0,o.createTypeReferenceNode(133===e.typeArguments[0].kind?"number":"string",[]),void 0),t=o.createTypeLiteralNode([o.createIndexSignature(void 0,void 0,[t],e.typeArguments[1])]);return o.setEmitFlags(t,1),t})(n);var s=n.typeName.text;switch(n.typeName.text){case"String":case"Boolean":case"Object":case"Number":s=s.toLowerCase();break;case"array":case"date":case"promise":s=s[0].toUpperCase()+s.slice(1)}i=o.createIdentifier(s),a="Array"!==s&&"Promise"!==s||n.typeArguments?o.visitNodes(n.typeArguments,c):o.createNodeArray([o.createTypeReferenceNode("any",o.emptyArray)])}return o.createTypeReferenceNode(i,a);default:i=o.visitEachChild(e,c,void 0);return o.setEmitFlags(i,1),i}}(n=o.refactor||(o.refactor={})).annotateWithTypeFromJSDoc||(n.annotateWithTypeFromJSDoc={}),i="annotate",t={name:"Annotate with type from JSDoc",description:o.Diagnostics.Annotate_with_type_from_JSDoc.message,getEditsForAction:function(e,t){if(i!==t)return o.Debug.fail("actionName !== action: "+i+" !== "+t);t=o.getTokenAtPosition(e.file,e.startPosition,!1),t=o.findAncestor(t,a);if(!t||t.type)return;var r=o.getJSDocType(t);{if(o.isFunctionLikeDeclaration(t)&&(o.getJSDocReturnType(t)||t.parameters.some(function(e){return!!o.getJSDocType(e)}))||r&&146===t.kind)return(e=>{var t=e.file,r=o.getTokenAtPosition(t,e.startPosition,!1),r=o.findAncestor(r,o.isFunctionLikeDeclaration),e=o.textChanges.ChangeTracker.fromContext(e),n=(e=>{var t=o.getEffectiveTypeParameterDeclarations(e,!0),r=e.parameters.map(function(e){return o.createParameter(e.decorators,e.modifiers,e.dotDotDotToken,e.name,e.questionToken,c(o.getEffectiveTypeAnnotationNode(e,!0)),e.initializer)}),n=c(o.getEffectiveReturnTypeNode(e,!0));switch(e.kind){case 228:return o.createFunctionDeclaration(e.decorators,e.modifiers,e.asteriskToken,e.name,t,r,n,e.body);case 152:return o.createConstructor(e.decorators,e.modifiers,r,e.body);case 186:return o.createFunctionExpression(e.modifiers,e.asteriskToken,e.name,t,r,n,e.body);case 187:return o.createArrowFunction(e.modifiers,t,r,n,e.equalsGreaterThanToken,e.body);case 151:return o.createMethod(e.decorators,e.modifiers,e.asteriskToken,e.name,e.questionToken,t,r,n,e.body);case 153:return o.createGetAccessor(e.decorators,e.modifiers,e.name,e.parameters,n,e.body);case 154:return o.createSetAccessor(e.decorators,e.modifiers,e.name,r,e.body);default:return o.Debug.assertNever(e,"Unexpected SyntaxKind: "+e.kind)}})(r);return o.suppressLeadingAndTrailingTrivia(n),e.replaceRange(t,{pos:r.getStart(),end:r.end},n),{edits:e.getChanges(),renameFilename:void 0,renameLocation:void 0}})(e);{if(r)return(e=>{var t,r=e.file,n=o.getTokenAtPosition(r,e.startPosition,!1),n=o.findAncestor(n,a),i=o.getJSDocType(n);return n&&i&&!n.type?(e=o.textChanges.ChangeTracker.fromContext(e),t=((e,t)=>{switch(e.kind){case 226:return o.createVariableDeclaration(e.name,t,e.initializer);case 148:return o.createPropertySignature(e.modifiers,e.name,e.questionToken,t,e.initializer);case 149:return o.createProperty(e.decorators,e.modifiers,e.name,e.questionToken,t,e.initializer);default:return o.Debug.fail("Unexpected SyntaxKind: "+e.kind)}})(n,c(i)),o.suppressLeadingAndTrailingTrivia(t),e.replaceRange(r,{pos:n.getStart(),end:n.end},t),{edits:e.getChanges(),renameFilename:void 0,renameLocation:void 0}):o.Debug.fail("!decl || !jsdocType || decl.type: !"+n+" || !"+i+" || "+n.type)})(e);o.Debug.assert(!!n,"No applicable refactor found.")}}},getAvailableActions:function(e){if(o.isInJavaScriptFile(e.file))return;e=o.getTokenAtPosition(e.file,e.startPosition,!1);if(r(o.findAncestor(e,a)))return[{name:t.name,description:t.description,actions:[{description:t.description,name:i}]}]}},n.registerRefactor(t)})(ts=ts||{}),(g=>{var e,t;function h(e){var t=e.startPosition,r=e.file,e=e.program.getTypeChecker(),r=g.getTokenAtPosition(r,t,!1);return e.getSymbolAtLocation(r)}(e=g.refactor||(g.refactor={})).convertFunctionToES6Class||(e.convertFunctionToES6Class={}),t={name:"Convert to ES2015 class",description:g.Diagnostics.Convert_function_to_an_ES2015_class.message,getEditsForAction:function(e,t){if("convert"!==t)return;var u=e.file,n=h(e),t=e.rulesProvider.getFormatOptions().newLineCharacter,r=[],i=[];if(!(19&n.flags))return;var a,s,o=n.valueDeclaration,c=g.textChanges.ChangeTracker.fromContext(e);switch(o.kind){case 228:p(a=o),s=(e=>{var t=f(n),r=(e.body&&t.unshift(g.createConstructor(void 0,void 0,e.parameters,e.body)),m(e,84));return g.createClassDeclaration(void 0,r,e.name,void 0,void 0,t)})(o);break;case 226:a=o.parent.parent,1===o.parent.declarations.length?p(a):p(o,!0),s=(e=>{var t,r=e.initializer;if(r&&186===r.kind&&71===e.name.kind)return t=f(r.symbol),r.body&&t.unshift(g.createConstructor(void 0,void 0,r.parameters,r.body)),r=m(a,84),g.createClassDeclaration(void 0,r,e.name,void 0,void 0,t)})(o)}if(!s)return;c.insertNodeAfter(u,a,s,{suffix:t});for(var l=0,d=i;l<d.length;l++)(0,d[l])();return{edits:c.getChanges(),renameFilename:void 0,renameLocation:void 0};function p(t,e){void 0===e&&(e=!1),r.some(function(e){return g.isNodeDescendantOf(t,e)})||(r.push(t),e?i.push(function(){return c.deleteNodeInList(u,t)}):i.push(function(){return c.deleteNode(u,t)}))}function f(e){var t=[];return e.members&&e.members.forEach(function(e){e=r(e,void 0);e&&t.push(e)}),e.exports&&e.exports.forEach(function(e){e=r(e,[g.createToken(115)]);e&&t.push(e)}),t;function r(e,t){if(4&e.flags){var r,n=e.valueDeclaration,i=n.parent;if(r=i.right,g.isFunctionLike(r)){if(p(i.parent&&210===i.parent.kind?i.parent:i),!i.right)return g.createProperty([],t,e.name,void 0,void 0,void 0);switch(i.right.kind){case 186:var a=i.right,s=g.concatenate(t,m(a,120));return _(i,a=g.createMethod(void 0,s,void 0,n.name,void 0,void 0,a.parameters,void 0,a.body)),a;case 187:var o=i.right,c=o.body,l=void 0,s=(l=207===c.kind?c:g.createBlock([g.createReturn(c)]),g.concatenate(t,m(o,120)));return _(i,a=g.createMethod(void 0,s,void 0,n.name,void 0,void 0,o.parameters,void 0,l)),a;default:if(!g.isSourceFileJavaScript(u))return c=g.createProperty(void 0,t,n.name,void 0,void 0,i.right),_(i.parent,c),c}}}}}function _(e,i){g.forEachLeadingCommentRange(u.text,e.pos,function(e,t,r,n){3===r?(e+=2,t-=2):e+=2,g.addSyntheticLeadingComment(i,r,u.text.slice(e,t),n)})}function m(e,t){return g.filter(e.modifiers,function(e){return e.kind===t})}},getAvailableActions:function(e){if(!g.isInJavaScriptFile(e.file))return;e=h(e);if(!e)return;g.isDeclarationOfFunctionOrClassExpression(e)&&(e=e.valueDeclaration.initializer.symbol);if(16&e.flags&&e.members&&0<e.members.size)return[{name:t.name,description:t.description,actions:[{description:t.description,name:"convert"}]}]}},e.registerRefactor(t)})(ts=ts||{}),(z=>{var e,t,L,$,_;function r(e){var t=J(e.file,{start:e.startPosition,length:z.getRefactorContextLength(e)}).targetRange;if(void 0!==t){e=(t=V(t=t,e=e)).scopes,o=(t=t.readsAndWrites).functionErrorsPerScope,c=t.constantErrorsPerScope;var o,c,t=e.map(function(e,t){i=e;var r,n,i=z.isFunctionLikeDeclaration(i)?"inner function":z.isClassLike(i)?"method":"function",a=z.isClassLike(e)?"readonly field":"constant",s=z.isFunctionLikeDeclaration(e)?(e=>{switch(e.kind){case 152:return"constructor";case 186:return e.name?"function expression '"+e.name.text+"'":"anonymous function expression";case 228:return"function '"+e.name.text+"'";case 187:return"arrow function";case 151:return"method '"+e.name.getText();case 153:return"'get "+e.name.getText()+"'";case 154:return"'set "+e.name.getText()+"'";default:z.Debug.assertNever(e)}})(e):z.isClassLike(e)?229===(r=e).kind?"class '"+r.name.text+"'":r.name?"class expression '"+r.name.text+"'":"anonymous class expression":234===(r=e).kind?"namespace '"+r.parent.name.getText()+"'":r.externalModuleIndicator?0:1,i=1===s?(n=z.formatStringFromArgs(z.getLocaleSpecificMessage(z.Diagnostics.Extract_to_0_in_1_scope),[i,"global"]),z.formatStringFromArgs(z.getLocaleSpecificMessage(z.Diagnostics.Extract_to_0_in_1_scope),[a,"global"])):0===s?(n=z.formatStringFromArgs(z.getLocaleSpecificMessage(z.Diagnostics.Extract_to_0_in_1_scope),[i,"module"]),z.formatStringFromArgs(z.getLocaleSpecificMessage(z.Diagnostics.Extract_to_0_in_1_scope),[a,"module"])):(n=z.formatStringFromArgs(z.getLocaleSpecificMessage(z.Diagnostics.Extract_to_0_in_1),[i,s]),z.formatStringFromArgs(z.getLocaleSpecificMessage(z.Diagnostics.Extract_to_0_in_1),[a,s]));return 0!==t||z.isClassLike(e)||(i=z.formatStringFromArgs(z.getLocaleSpecificMessage(z.Diagnostics.Extract_to_0_in_enclosing_scope),[a])),{functionExtraction:{description:n,errors:o[t]},constantExtraction:{description:i,errors:c[t]}}});if(void 0!==t){for(var r=[],n=z.createMap(),i=[],a=z.createMap(),s=0,l=0,u=t;l<u.length;l++){var d,p=u[l],f=p.functionExtraction,p=p.constantExtraction;0===f.errors.length&&(d=f.description,n.has(d)||(n.set(d,!0),r.push({description:d,name:"function_scope_"+s}))),0===p.errors.length&&(d=p.description,a.has(d)||(a.set(d,!0),i.push({description:d,name:"constant_scope_"+s}))),s++}e=[];return r.length&&e.push({name:_.name,description:z.getLocaleSpecificMessage(z.Diagnostics.Extract_function),actions:r}),i.length&&e.push({name:_.name,description:z.getLocaleSpecificMessage(z.Diagnostics.Extract_constant),actions:i}),e.length?e:void 0}}}function n(e,t){var r=J(e.file,{start:e.startPosition,length:z.getRefactorContextLength(e)}).targetRange,n=/^function_scope_(\d+)$/.exec(t);if(n){var i,a=+n[1],s=(z.Debug.assert(isFinite(a),"Expected to parse a finite number from the function scope index"),n=a,p=V(_=r,m=e),u=p.scopes,l=(p=p.readsAndWrites).target,d=p.usagesPerScope,c=p.functionErrorsPerScope,p=p.exposedVariableDeclarations,z.Debug.assert(!c[n].length,"The extraction went missing? How?"),m.cancellationToken.throwIfCancellationRequested(),l),o=u[n],c=d[n],l=p,u=_,d=m,n=c.usages,p=c.typeParameterUsages,c=c.substitutions,f=d.program.getTypeChecker(),_=o.getSourceFile(),m=H(z.isClassLike(o)?"newMethod":"newFunction",_.text),g=z.isInJavaScriptFile(o),h=z.createIdentifier(m),y=void 0,v=[],b=[],c=(n.forEach(function(e,t){var r=void 0,n=(g||(n=f.getTypeOfSymbolAtLocation(e.symbol,e.node),n=f.getBaseTypeOfLiteralType(n),r=f.typeToTypeNode(n,s,z.NodeBuilderFlags.NoTruncation)),z.createParameter(void 0,void 0,void 0,t,void 0,r));v.push(n),2===e.usage&&(i=i||[]).push(e),b.push(z.createIdentifier(t))}),n=void 0!==(p=0===(n=z.arrayFrom(p.values()).map(function(e){return{type:e,declaration:(e=>{var t=void 0;if((e=e.symbol)&&e.declarations)for(var r=0,n=e.declarations;r<n.length;r++){var i=n[r];(void 0===t||i.pos<t.pos)&&(t=i)}return t})(e)}}).sort(W)).length?void 0:n.map(function(e){return e.declaration}))?p.map(function(e){return z.createTypeReferenceNode(e.name,void 0)}):void 0,z.isExpression(s)&&!g&&(x=f.getContextualType(s),y=f.typeToTypeNode(x,o,z.NodeBuilderFlags.NoTruncation)),(x=((e,i,a,s,t)=>{var o,c,r,n,l=void 0!==a||0<i.length;return z.isBlock(e)&&!l&&0===s.size?{body:z.createBlock(e.statements,!0),returnValueProperty:void 0}:(c=!1,r=z.createNodeArray(z.isBlock(e)?e.statements.slice(0):[z.isStatement(e)?e:z.createReturn(e)]),l||s.size?(n=z.visitNodes(r,function e(t){{var r,n;return!c&&219===t.kind&&l?(r=Q(i,a),t.expression&&(o=o||"__return",r.unshift(z.createPropertyAssignment(o,z.visitNode(t.expression,e)))),1===r.length?z.createReturn(r[0].name):z.createReturn(z.createObjectLiteral(r))):(c=(r=c)||z.isFunctionLikeDeclaration(t)||z.isClassLike(t),n=s.get(z.getNodeId(t).toString()),n=n?z.getSynthesizedDeepClone(n):z.visitEachChild(t,e,z.nullTransformationContext),c=r,n)}}).slice(),l&&!t&&z.isStatement(e)&&(1===(t=Q(i,a)).length?n.push(z.createReturn(t[0].name)):n.push(z.createReturn(z.createObjectLiteral(t)))),{body:z.createBlock(n,!0),returnValueProperty:o}):{body:z.createBlock(r,!0),returnValueProperty:void 0})})(s,l,i,c,!!(u.facts&$.HasReturn))).body),x=x.returnValueProperty,k=(z.suppressLeadingAndTrailingTrivia(c),D=z.isClassLike(o)?(D=g?[]:[z.createToken(112)],u.facts&$.InStaticRegion&&D.push(z.createToken(115)),u.facts&$.IsAsyncFunction&&D.push(z.createToken(120)),z.createMethod(void 0,D.length?D:void 0,u.facts&$.IsGenerator?z.createToken(39):void 0,h,void 0,p,v,y,c)):z.createFunctionDeclaration(void 0,u.facts&$.IsAsyncFunction?[z.createToken(120)]:void 0,u.facts&$.IsGenerator?z.createToken(39):void 0,h,p,v,y,c),h=z.textChanges.ChangeTracker.fromContext(d),(p=((t,e)=>z.find((e=>{if(z.isFunctionLikeDeclaration(e)){var t=e.body;if(z.isBlock(t))return t.statements}else{if(z.isModuleBlock(e)||z.isSourceFile(e))return e.statements;if(z.isClassLike(e))return e.members;z.assertTypeIsNever(e)}return z.emptyArray})(e),function(e){return e.pos>=t&&z.isFunctionLikeDeclaration(e)&&!z.isConstructorDeclaration(e)}))((Y(u.range)?z.last(u.range):u.range).end,o))?h.insertNodeBefore(d.file,p,D,{suffix:d.newLineCharacter+d.newLineCharacter}):h.insertNodeBefore(d.file,o.getLastToken(),D,{prefix:z.isLineBreak(_.text.charCodeAt(o.getLastToken().pos))?d.newLineCharacter:d.newLineCharacter+d.newLineCharacter,suffix:d.newLineCharacter}),[]),c=((e,t,r)=>(r=z.createIdentifier(r),z.isClassLike(e)?(t=t.facts&$.InStaticRegion?z.createIdentifier(e.name.text):z.createThis(),z.createPropertyAccess(t,r)):r))(o,u,m),p=z.createCall(c,n,b);if(u.facts&$.IsGenerator&&(p=z.createYield(z.createToken(39),p)),u.facts&$.IsAsyncFunction&&(p=z.createAwait(p)),l.length&&!i)if(z.Debug.assert(!x),z.Debug.assert(!(u.facts&$.HasReturn)),1===l.length){var S=l[0];k.push(z.createVariableStatement(void 0,z.createVariableDeclarationList([z.createVariableDeclaration(z.getSynthesizedDeepClone(S.name),z.getSynthesizedDeepClone(S.type),p)],S.parent.flags)))}else{for(var T=[],R=[],M=l[0].parent.flags,C=!1,E=0,U=l;E<U.length;E++){var S=U[E],B=(T.push(z.createBindingElement(void 0,void 0,z.getSynthesizedDeepClone(S.name))),f.typeToTypeNode(f.getBaseTypeOfLiteralType(f.getTypeAtLocation(S)),o,z.NodeBuilderFlags.NoTruncation));R.push(z.createPropertySignature(void 0,S.symbol.name,void 0,B,void 0)),C=C||void 0!==S.type,M&=S.parent.flags}var D=C?z.createTypeLiteralNode(R):void 0;D&&z.setEmitFlags(D,1),k.push(z.createVariableStatement(void 0,z.createVariableDeclarationList([z.createVariableDeclaration(z.createObjectBindingPattern(T),D,p)],M)))}else if(l.length||i){if(l.length)for(var A=0,j=l;A<j.length;A++){var w=(S=j[A]).parent.flags;2&w&&(w=-3&w|1),k.push(z.createVariableStatement(void 0,z.createVariableDeclarationList([z.createVariableDeclaration(S.symbol.name,K(S.type))],w)))}x&&k.push(z.createVariableStatement(void 0,z.createVariableDeclarationList([z.createVariableDeclaration(x,K(y))],1)));_=Q(l,i);x&&_.unshift(z.createShorthandPropertyAssignment(x)),1===_.length?(z.Debug.assert(!x),k.push(z.createStatement(z.createAssignment(_[0].name,p))),u.facts&$.HasReturn&&k.push(z.createReturn())):(k.push(z.createStatement(z.createAssignment(z.createObjectLiteral(_),p))),x&&k.push(z.createReturn(z.createIdentifier(x))))}else u.facts&$.HasReturn?k.push(z.createReturn(p)):Y(u.range)?k.push(z.createStatement(p)):k.push(p);return c=Y(u.range)?{pos:z.first(u.range).getStart(),end:z.last(u.range).end}:{pos:u.range.getStart(),end:u.range.end},h.replaceRangeWithNodes(d.file,c,k,{nodeSeparator:d.newLineCharacter}),n=h.getChanges(),D=(Y(u.range)?z.first(u.range):u.range).getSourceFile().fileName,y=G(n,D,m,!1),{renameFilename:D,renameLocation:y,edits:n};function K(e){if(void 0!==e){for(var e=z.getSynthesizedDeepClone(e),t=e;z.isParenthesizedTypeNode(t);)t=t.type;return z.isUnionTypeNode(t)&&z.find(t.types,function(e){return 139===e.kind})?e:z.createUnionTypeNode([e,z.createKeywordTypeNode(139)])}}}var N,I,P,O,F,L,p,l=/^constant_scope_(\d+)$/.exec(t);if(l)return a=+l[1],z.Debug.assert(isFinite(a),"Expected to parse a finite number from the constant scope index"),_=a,c=V(x=r,p=e),d=c.scopes,h=(c=c.readsAndWrites).target,u=c.usagesPerScope,m=c.constantErrorsPerScope,c=c.exposedVariableDeclarations,z.Debug.assert(!m[_].length,"The extraction went missing? How?"),z.Debug.assert(0===c.length,"Extract constant accepted a range containing a variable declaration?"),p.cancellationToken.throwIfCancellationRequested(),D=z.isExpression(h)?h:h.statements[0].expression,y=d[_],n=u[_],t=x.facts,a=p,n=n.substitutions,r=a.program.getTypeChecker(),e=y.getSourceFile(),O=H(z.isClassLike(y)?"newProperty":"newLocal",e.text),F=z.isInJavaScriptFile(y),r=F?void 0:r.typeToTypeNode(r.getContextualType(D),y,z.NodeBuilderFlags.NoTruncation),n=((e,n)=>n.size?function e(t){var r=n.get(z.getNodeId(t).toString());return r?z.getSynthesizedDeepClone(r):z.visitEachChild(t,e,z.nullTransformationContext)}(e):e)(D,n),z.suppressLeadingAndTrailingTrivia(n),L=z.textChanges.ChangeTracker.fromContext(a),z.isClassLike(y)?(z.Debug.assert(!F),(F=[]).push(z.createToken(112)),t&$.InStaticRegion&&F.push(z.createToken(115)),F.push(z.createToken(131)),F=z.createProperty(void 0,F,O,void 0,r,n),P=z.createPropertyAccess(t&$.InStaticRegion?z.createIdentifier(y.name.getText()):z.createThis(),z.createIdentifier(O)),I=((e,t)=>{for(var r=t.members,n=void z.Debug.assert(0<r.length),i=!0,a=0,s=r;a<s.length;a++){var o=s[a];if(o.pos>e)return n||r[0];if(i&&!z.isPropertyDeclaration(o)){if(void 0!==n)return o;i=!1}n=o}return z.Debug.assert(void 0!==n),n})(D.pos,y),L.insertNodeBefore(a.file,I,F,{suffix:a.newLineCharacter+a.newLineCharacter}),L.replaceRange(a.file,{pos:D.getStart(),end:D.end},P)):(t=z.createVariableDeclaration(O,r,n),(F=((e,t)=>{for(var r=void 0;void 0!==e&&e!==t;){if(z.isVariableDeclaration(e)&&e.initializer===r&&z.isVariableDeclarationList(e.parent)&&1<e.parent.declarations.length)return e;e=(r=e).parent}})(D,y))?(L.insertNodeAt(a.file,F.getStart(),t,{suffix:", "}),P=z.createIdentifier(O),L.replaceRange(a.file,{pos:D.getStart(),end:D.end},P)):210===D.parent.kind&&y===z.findAncestor(D,q)?(N=z.createVariableStatement(void 0,z.createVariableDeclarationList([t],2)),L.replaceRange(a.file,{pos:D.parent.getStart(),end:D.parent.end},N)):(N=z.createVariableStatement(void 0,z.createVariableDeclarationList([t],2)),0===(I=((e,t)=>{z.Debug.assert(!z.isClassLike(t));for(var r=void 0,n=e;n!==t;n=n.parent)q(n)&&(r=n);for(n=(r||e).parent;;n=n.parent){if(X(n)){for(var i=void 0,a=0,s=n.statements;a<s.length;a++){var o=s[a];if(o.pos>e.pos)break;i=o}return z.Debug.assert(void 0!==i),i}if(n===t){z.Debug.fail("Didn't encounter a block-like before encountering scope");break}}})(D,y)).pos?(r=z.getSourceFileImportLocation(e),L.insertNodeAt(a.file,r,N,{prefix:0===r?void 0:a.newLineCharacter,suffix:z.isLineBreak(e.text.charCodeAt(r))?a.newLineCharacter:a.newLineCharacter+a.newLineCharacter})):L.insertNodeBefore(a.file,I,N,{suffix:a.newLineCharacter+a.newLineCharacter}),210===D.parent.kind?L.deleteRange(a.file,{pos:D.parent.getStart(),end:D.parent.end}):(P=z.createIdentifier(O),L.replaceRange(a.file,{pos:D.getStart(),end:D.end},P)))),n=L.getChanges(),F=D.getSourceFile().fileName,t=G(n,F,O,!0),{renameFilename:F,renameLocation:t,edits:n};z.Debug.fail("Unrecognized action name")}function i(e){return{message:e,code:0,category:z.DiagnosticCategory.Message,key:e}}function J(e,c){var t=c.length;if(0===t)return{errors:[z.createFileDiagnostic(e,c.start,t,L.CannotExtractEmpty)]};var r=f(z.getTokenAtPosition(e,c.start,!1),e,c),n=f(z.findTokenOnLeftOfPosition(e,z.textSpanEnd(c)),e,c),l=[],u=$.None;if(!r||!n)return{errors:[z.createFileDiagnostic(e,c.start,t,L.CannotExtractRange)]};if(r.parent!==n.parent)return{errors:[z.createFileDiagnostic(e,c.start,t,L.CannotExtractRange)]};if(r!==n){if(!X(r.parent))return{errors:[z.createFileDiagnostic(e,c.start,t,L.CannotExtractRange)]};for(var i=[],a=0,s=r.parent.statements;a<s.length;a++){var o=s[a];if(o===r||i.length){var d=p(o);if(d)return{errors:d};i.push(o)}if(o===n)break}return{targetRange:{range:i,facts:u,declarations:l}}}e=(e=>{if(z.isIdentifier(z.isExpressionStatement(e)?e.expression:e))return[z.createDiagnosticForNode(e,L.CannotExtractIdentifier)]})(r)||p(r);return e?{errors:e}:{targetRange:{range:(e=>z.isStatement(e)?[e]:z.isPartOfExpression(e)?z.isExpressionStatement(e.parent)?[e.parent]:e:void 0)(r),facts:u,declarations:l}};function p(e){if(0,!(z.isStatement(e)||z.isPartOfExpression(e)&&(e=>{if(264!==e.parent.kind){switch(e.kind){case 9:return 238!==e.parent.kind&&242!==e.parent.kind;case 198:case 174:case 176:return;case 71:return 176!==e.parent.kind&&242!==e.parent.kind&&246!==e.parent.kind}return 1}})(e)))return[z.createDiagnosticForNode(e,L.StatementOrExpressionExpected)];if(z.isInAmbientContext(e))return[z.createDiagnosticForNode(e,L.CannotExtractAmbientBlock)];var a,t=z.getContainingClass(e);if(t)for(var r=t,n=e;n!==r;){if(149===n.kind){z.hasModifier(n,32)&&(u|=$.InStaticRegion);break}if(146===n.kind){152===z.getContainingFunction(n).kind&&(u|=$.InStaticRegion);break}151===n.kind&&z.hasModifier(n,32)&&(u|=$.InStaticRegion),n=n.parent}var s,o=4;return function e(t){if(a)return!0;if(z.isDeclaration(t)){var r=226===t.kind?t.parent.parent:t;if(z.hasModifier(r,1))return(a=a||[]).push(z.createDiagnosticForNode(t,L.CannotExtractExportedEntity)),!0;l.push(t.symbol)}switch(t.kind){case 238:return(a=a||[]).push(z.createDiagnosticForNode(t,L.CannotExtractImport)),!0;case 97:if(181===t.parent.kind){var n=z.getContainingClass(t);if(n.pos<c.start||n.end>=c.start+c.length)return(a=a||[]).push(z.createDiagnosticForNode(t,L.CannotExtractSuper)),!0}else u|=$.UsesThis}if(!t||z.isFunctionLikeDeclaration(t)||z.isClassLike(t)){switch(t.kind){case 228:case 229:265===t.parent.kind&&void 0===t.parent.externalModuleIndicator&&(a=a||[]).push(z.createDiagnosticForNode(t,L.FunctionWillNotBeVisibleInTheNewScope))}return!1}r=o;switch(t.kind){case 211:case 224:o=0;break;case 207:t.parent&&224===t.parent.kind&&t.parent.finallyBlock===t&&(o=4);break;case 257:o|=1;break;default:z.isIterationStatement(t,!1)&&(o|=3)}switch(t.kind){case 169:case 99:u|=$.UsesThis;break;case 222:var i=t.label;(s=s||[]).push(i.escapedText),z.forEachChild(t,e),s.pop();break;case 218:case 217:(i=t.label)?z.contains(s,i.escapedText)||(a=a||[]).push(z.createDiagnosticForNode(t,L.CannotExtractRangeContainingLabeledBreakOrContinueStatementWithTargetOutsideOfTheRange)):o&(218===t.kind?1:2)||(a=a||[]).push(z.createDiagnosticForNode(t,L.CannotExtractRangeContainingConditionalBreakOrContinueStatements));break;case 191:u|=$.IsAsyncFunction;break;case 197:u|=$.IsGenerator;break;case 219:4&o?u|=$.HasReturn:(a=a||[]).push(z.createDiagnosticForNode(t,L.CannotExtractRangeContainingConditionalReturnStatement));break;default:z.forEachChild(t,e)}o=r}(e),a}}function q(e){return z.isFunctionLikeDeclaration(e)||z.isSourceFile(e)||z.isModuleBlock(e)||z.isClassLike(e)}function V(e,t){var r,n=t.file,i=(e=>{var t=Y(e.range)?z.first(e.range):e.range;if(e.facts&$.UsesThis){var r,e=z.getContainingClass(t);if(e)return(r=z.findAncestor(t,z.isFunctionLikeDeclaration))?[r,e]:[e]}for(var n=[];;)if(q(t=146===(t=t.parent).kind?z.findAncestor(t,function(e){return z.isFunctionLikeDeclaration(e)}).parent:t)&&(n.push(t),265===t.kind))return n})(e),a=(a=n,Y((r=e).range)?{pos:z.first(r.range).getStart(a),end:z.last(r.range).getEnd()}:r.range);return{scopes:i,readsAndWrites:((g,h,y,v,b,i)=>{var a=z.createMap(),x=[],k=[],S=[],T=[],s=[],o=z.createMap(),c=[],l=void 0,e=Y(g.range)?1===g.range.length&&z.isExpressionStatement(g.range[0])?g.range[0].expression:void 0:g.range,t=void 0;void 0===e?(p=g.range,f=z.first(p).getStart(),p=z.last(p).end,t=z.createFileDiagnostic(v,f,p-f,L.ExpressionExpected)):9216&b.getTypeAtLocation(e).flags&&(t=z.createDiagnosticForNode(e,L.UselessConstantType));for(var r=0,n=h;r<n.length;r++){var u=n[r],d=(x.push({usages:z.createMap(),typeParameterUsages:z.createMap(),substitutions:z.createMap()}),k.push(z.createMap()),S.push(z.isFunctionLikeDeclaration(u)&&228!==u.kind?[z.createDiagnosticForNode(u,L.CannotExtractToOtherFunctionLike)]:[]),[]);t&&d.push(t),z.isClassLike(u)&&z.isInJavaScriptFile(u)&&d.push(z.createDiagnosticForNode(u,L.CannotExtractToJSClass)),z.isArrowFunction(u)&&!z.isBlock(u.body)&&d.push(z.createDiagnosticForNode(u,L.CannotExtractToExpressionArrowFunction)),T.push(d)}var C=z.createMap(),p=Y(g.range)?z.createBlock(g.range):g.range,f=Y(g.range)?z.first(g.range):g.range,_=(e=>{for(;e;e=e.parent)if((e=>z.isDeclarationWithTypeParameters(e)&&void 0!==e.typeParameters&&0<e.typeParameters.length)(e))return!0;return!1})(f);if(function e(t,r){void 0===r&&(r=1);_&&P(b.getTypeAtLocation(t));z.isDeclaration(t)&&t.symbol&&s.push(t);z.isAssignmentExpression(t)?(e(t.left,2),e(t.right)):z.isUnaryExpressionWithWrite(t)?e(t.operand,2):!z.isPropertyAccessExpression(t)&&!z.isElementAccessExpression(t)&&z.isIdentifier(t)?!t.parent||z.isQualifiedName(t.parent)&&t!==t.parent.left||z.isPropertyAccessExpression(t.parent)&&t!==t.parent.expression||O(t,r,z.isPartOfTypeNode(t)):z.forEachChild(t,e)}(p),_&&!Y(g.range)&&P(b.getContextualType(g.range)),0<a.size){for(var m=z.createMap(),E=0,D=f;void 0!==D&&E<h.length;D=D.parent)if(D===h[E]&&(m.forEach(function(e,t){x[E].typeParameterUsages.set(t,e)}),E++),z.isDeclarationWithTypeParameters(D)&&D.typeParameters)for(var A=0,w=D.typeParameters;A<w.length;A++){var N=w[A],N=b.getTypeAtLocation(N);a.has(N.id.toString())&&m.set(N.id.toString(),N)}z.Debug.assert(E===h.length)}s.length&&(e=z.isBlockScope(h[0],h[0].parent)?h[0]:z.getEnclosingBlockScopeContainer(h[0]),z.forEachChild(e,function e(t){if(t===g.range||Y(g.range)&&0<=g.range.indexOf(t))return;var r=z.isIdentifier(t)?F(t):b.getSymbolAtLocation(t);{var n,i;r&&(n=z.find(s,function(e){return e.symbol===r}))&&(z.isVariableDeclaration(n)?(i=n.symbol.id.toString(),o.has(i)||(c.push(n),o.set(i,!0))):l=l||n)}z.forEachChild(t,e)}));for(var I=0;I<h.length;I++)(e=>{var t,r=x[e],n=(0<e&&(0<r.usages.size||0<r.typeParameterUsages.size)&&(r=Y(g.range)?g.range[0]:g.range,T[e].push(z.createDiagnosticForNode(r,L.CannotAccessVariablesFromNestedScopes))),!1),i=void 0;x[e].usages.forEach(function(e){2===e.usage&&(n=!0,106500&e.symbol.flags)&&e.symbol.valueDeclaration&&z.hasModifier(e.symbol.valueDeclaration,64)&&(i=e.symbol.valueDeclaration)}),z.Debug.assert(Y(g.range)||0===c.length),n&&!Y(g.range)?(t=z.createDiagnosticForNode(g.range,L.CannotWriteInExpression),S[e].push(t),T[e].push(t)):i&&0<e?(t=z.createDiagnosticForNode(i,L.CannotExtractReadonlyPropertyInitializerOutsideConstructor),S[e].push(t),T[e].push(t)):l&&(t=z.createDiagnosticForNode(l,L.CannotExtractExportedEntity),S[e].push(t),T[e].push(t))})(I);return{target:p,usagesPerScope:x,functionErrorsPerScope:S,constantErrorsPerScope:T,exposedVariableDeclarations:c};function P(e){for(var t=0,r=b.getSymbolWalker(function(){return i.throwIfCancellationRequested(),!0}).walkType(e).visitedTypes;t<r.length;t++){var n=r[t];16384&n.flags&&a.set(n.id.toString(),n)}}function O(e,t,r){var n=((e,t,r)=>{var n=F(e);if(n){var i=z.getSymbolId(n).toString(),a=C.get(i);if(!(a&&t<=a))if(C.set(i,t),a)for(var s=0,o=x;s<o.length;s++){var c=o[s];c.usages.get(e.text)&&c.usages.set(e.text,{usage:t,symbol:n,node:e})}else{a=z.find(n.getDeclarations(),function(e){return e.getSourceFile()===v});if(!a)return;if(z.rangeContainsStartEnd(y,a.getStart(),a.end))return;if(g.facts&$.IsGenerator&&2===t){for(var l=z.createDiagnosticForNode(e,L.CannotExtractRangeThatContainsWritesToReferencesLocatedOutsideOfTheTargetRangeInGenerators),u=0,d=S;u<d.length;u++)d[u].push(l);for(var p=0,f=T;p<f.length;p++)f[p].push(l)}for(var _=0;_<h.length;_++){var m=h[_];b.resolveName(n.name,m,n.flags)===n||k[_].has(i)||((m=function e(t,r,n){if(!t)return;if(t.getDeclarations().some(function(e){return e.parent===r}))return z.createIdentifier(t.name);var i=e(t.parent,r,n);if(void 0===i)return;return n?z.createQualifiedName(i,z.createIdentifier(t.name)):z.createPropertyAccess(i,t.name)}(n.exportSymbol||n,m,r))?k[_].set(i,m):r?262144&n.flags||(l=z.createDiagnosticForNode(e,L.TypeWillNotBeVisibleInTheNewScope),S[_].push(l),T[_].push(l)):x[_].usages.set(e.text,{usage:t,symbol:n,node:e}))}}return i}})(e,t,r);if(n)for(var i=0;i<h.length;i++){var a=k[i].get(n);a&&x[i].substitutions.set(z.getNodeId(e).toString(),a)}}function F(e){return e.parent&&z.isShorthandPropertyAssignment(e.parent)&&e.parent.name===e?b.getShorthandAssignmentValueSymbol(e.parent):b.getSymbolAtLocation(e)}})(e,i,a,n,t.program.getTypeChecker(),t.cancellationToken)}}function H(e,t){for(var r=e,n=1;z.stringContains(t,r);n++)r=e+"_"+n;return r}function G(e,t,r,n){for(var i=0,a=-1,s=0,o=e;s<o.length;s++){var c=o[s],l=c.fileName,c=c.textChanges;z.Debug.assert(l===t);for(var u=0,d=c;u<d.length;u++){var p=d[u],f=p.span,p=p.newText,_=p.indexOf(r);if(-1!==_&&(a=f.start+i+_,!n))return a;i+=p.length-f.length}}return z.Debug.assert(n),z.Debug.assert(0<=a),a}function W(e,t){var r=e.type,e=e.declaration,n=t.type,t=t.declaration;if(e){if(!t)return 1;e=e.pos-t.pos;if(0!=e)return e}else if(t)return-1;e=r.symbol?r.symbol.getName():"",t=n.symbol?n.symbol.getName():"",e=z.compareStrings(e,t);return 0!==e?e:r.id-n.id}function Q(e,t){e=z.map(e,function(e){return z.createShorthandPropertyAssignment(e.symbol.name)}),t=z.map(t,function(e){return z.createShorthandPropertyAssignment(e.symbol.name)});return void 0===e?t:void 0===t?e:e.concat(t)}function Y(e){return z.isArray(e)}function f(e,t,r){var n,i;if(e)for(;e.parent;){if(z.isSourceFile(e.parent)||(n=r,i=e.parent,!(z.textSpanContainsPosition(n,i.getStart(t))&&i.getEnd()<=z.textSpanEnd(n))))return e;e=e.parent}}function X(e){switch(e.kind){case 207:case 265:case 234:case 257:return 1;default:return}}e=z.refactor||(z.refactor={}),t=e.extractSymbol||(e.extractSymbol={}),_={name:"Extract Symbol",description:z.getLocaleSpecificMessage(z.Diagnostics.Extract_symbol),getAvailableActions:r,getEditsForAction:n},e.registerRefactor(_),t.getAvailableActions=r,t.getEditsForAction=n,(e=L=t.Messages||(t.Messages={})).CannotExtractRange=i("Cannot extract range."),e.CannotExtractImport=i("Cannot extract import statement."),e.CannotExtractSuper=i("Cannot extract super call."),e.CannotExtractEmpty=i("Cannot extract empty range."),e.ExpressionExpected=i("expression expected."),e.UselessConstantType=i("No reason to extract constant of type."),e.StatementOrExpressionExpected=i("Statement or expression expected."),e.CannotExtractRangeContainingConditionalBreakOrContinueStatements=i("Cannot extract range containing conditional break or continue statements."),e.CannotExtractRangeContainingConditionalReturnStatement=i("Cannot extract range containing conditional return statement."),e.CannotExtractRangeContainingLabeledBreakOrContinueStatementWithTargetOutsideOfTheRange=i("Cannot extract range containing labeled break or continue with target outside of the range."),e.CannotExtractRangeThatContainsWritesToReferencesLocatedOutsideOfTheTargetRangeInGenerators=i("Cannot extract range containing writes to references located outside of the target range in generators."),e.TypeWillNotBeVisibleInTheNewScope=i("Type will not visible in the new scope."),e.FunctionWillNotBeVisibleInTheNewScope=i("Function will not visible in the new scope."),e.CannotExtractIdentifier=i("Select more than a single identifier."),e.CannotExtractExportedEntity=i("Cannot extract exported declaration"),e.CannotWriteInExpression=i("Cannot write back side-effects when extracting an expression"),e.CannotExtractReadonlyPropertyInitializerOutsideConstructor=i("Cannot move initialization of read-only class property outside of the constructor"),e.CannotExtractAmbientBlock=i("Cannot extract code from ambient contexts"),e.CannotAccessVariablesFromNestedScopes=i("Cannot access variables from nested scopes"),e.CannotExtractToOtherFunctionLike=i("Cannot extract method to a function-like scope that is not a function"),e.CannotExtractToJSClass=i("Cannot extract constant to a class scope in JS"),e.CannotExtractToExpressionArrowFunction=i("Cannot extract constant to an arrow function without a block"),(e=$=$||{})[e.None=0]="None",e[e.HasReturn=1]="HasReturn",e[e.IsGenerator=2]="IsGenerator",e[e.IsAsyncFunction=4]="IsAsyncFunction",e[e.UsesThis=8]="UsesThis",e[e.InStaticRegion=16]="InStaticRegion",t.getRangeToExtract=J})(ts=ts||{}),(n=>{var e,r;function i(e){var t=e.file,r=n.getTokenAtPosition(t,e.startPosition,!1);if(n.isStringLiteral(r)&&(e=>{switch(e.parent.kind){case 238:case 248:return 1;default:return}})(r)&&void 0===n.getResolvedModule(t,r.text))return n.codefix.tryGetCodeActionForInstallPackageTypes(e.host,r.text)}(e=n.refactor||(n.refactor={})).installTypesForPackage||(e.installTypesForPackage={}),r={name:"Install missing types package",description:"Install missing types package",getEditsForAction:function(e,t){n.Debug.assertEqual("install",t);t=i(e);return{edits:[],renameFilename:void 0,renameLocation:void 0,commands:t.commands}},getAvailableActions:function(e){var t=e.program.getCompilerOptions();if(void 0===t.noImplicitAny?t.strict:t.noImplicitAny)return;t=i(e);return t&&[{name:r.name,description:r.description,actions:[{description:t.description,name:"install"}]}]}},e.registerRefactor(r)})(ts=ts||{}),(x=>{var t;function s(e,t,r,n){e=x.isNodeKind(e)?new i(e,t,r):71===e?new p(71,t,r):new l(e,t,r);return e.parent=n,e}x.servicesVersion="0.6",e.prototype.getSourceFile=function(){return x.getSourceFileOfNode(this)},e.prototype.getStart=function(e,t){return x.getTokenPosOfNode(this,e,t)},e.prototype.getFullStart=function(){return this.pos},e.prototype.getEnd=function(){return this.end},e.prototype.getWidth=function(e){return this.getEnd()-this.getStart(e)},e.prototype.getFullWidth=function(){return this.end-this.pos},e.prototype.getLeadingTriviaWidth=function(e){return this.getStart(e)-this.pos},e.prototype.getFullText=function(e){return(e||this.getSourceFile()).text.substring(this.pos,this.end)},e.prototype.getText=function(e){return(e=e||this.getSourceFile()).text.substring(this.getStart(e),this.getEnd())},e.prototype.addSyntheticNodes=function(e,t,r){for(x.scanner.setTextPos(t);t<r;){var n=x.scanner.scan(),i=x.scanner.getTextPos();if(i<=r&&e.push(s(n,t,i,this)),t=i,1===n)break}return t},e.prototype.createSyntaxList=function(e){for(var t=s(286,e.pos,e.end,this),r=(t._children=[],e.pos),n=0,i=e;n<i.length;n++){var a=i[n];r<a.pos&&(r=this.addSyntheticNodes(t._children,r,a.pos)),t._children.push(a),r=a.end}return r<e.end&&this.addSyntheticNodes(t._children,r,e.end),t},e.prototype.createChildren=function(e){var t,r=this;if(x.isNodeKind(this.kind))if(x.isJSDocCommentContainingNode(this))t=[],this.forEachChild(function(e){t.push(e)}),this._children=t;else{var n=[],i=(x.scanner.setText((e||this.getSourceFile()).text),this.pos),a=function(e){i=r.addSyntheticNodes(n,i,e.pos),n.push(e),i=e.end};if(this.jsDoc)for(var s=0,o=this.jsDoc;s<o.length;s++)a(o[s]);i=this.pos,x.forEachChild(this,a,function(e){i<e.pos&&(i=r.addSyntheticNodes(n,i,e.pos)),n.push(r.createSyntaxList(e)),i=e.end}),i<this.end&&this.addSyntheticNodes(n,i,this.end),x.scanner.setText(void 0),this._children=n}else this._children=x.emptyArray},e.prototype.getChildCount=function(e){return this._children||this.createChildren(e),this._children.length},e.prototype.getChildAt=function(e,t){return this._children||this.createChildren(t),this._children[e]},e.prototype.getChildren=function(e){return this._children||this.createChildren(e),this._children},e.prototype.getFirstToken=function(e){var t=this.getChildren(e);if(t.length)return(t=x.find(t,function(e){return e.kind<267||285<e.kind})).kind<143?t:t.getFirstToken(e)},e.prototype.getLastToken=function(e){var t=this.getChildren(e),t=x.lastOrUndefined(t);if(t)return t.kind<143?t:t.getLastToken(e)},e.prototype.forEachChild=function(e,t){return x.forEachChild(this,e,t)};var i=e;function e(e,t,r){this.pos=t,this.end=r,this.flags=0,this.transformFlags=void 0,this.parent=void 0,this.kind=e}n.prototype.getSourceFile=function(){return x.getSourceFileOfNode(this)},n.prototype.getStart=function(e,t){return x.getTokenPosOfNode(this,e,t)},n.prototype.getFullStart=function(){return this.pos},n.prototype.getEnd=function(){return this.end},n.prototype.getWidth=function(e){return this.getEnd()-this.getStart(e)},n.prototype.getFullWidth=function(){return this.end-this.pos},n.prototype.getLeadingTriviaWidth=function(e){return this.getStart(e)-this.pos},n.prototype.getFullText=function(e){return(e||this.getSourceFile()).text.substring(this.pos,this.end)},n.prototype.getText=function(e){return(e||this.getSourceFile()).text.substring(this.getStart(),this.getEnd())},n.prototype.getChildCount=function(){return 0},n.prototype.getChildAt=function(){},n.prototype.getChildren=function(){return x.emptyArray},n.prototype.getFirstToken=function(){},n.prototype.getLastToken=function(){},n.prototype.forEachChild=function(){};var r=n;function n(e,t){this.pos=e,this.end=t,this.flags=0,this.parent=void 0}o.prototype.getFlags=function(){return this.flags},Object.defineProperty(o.prototype,"name",{get:function(){return x.symbolName(this)},enumerable:!0,configurable:!0}),o.prototype.getEscapedName=function(){return this.escapedName},o.prototype.getName=function(){return this.name},o.prototype.getDeclarations=function(){return this.declarations},o.prototype.getDocumentationComment=function(){return void 0===this.documentationComment&&(this.documentationComment=x.JsDoc.getJsDocCommentsFromDeclarations(this.declarations)),this.documentationComment},o.prototype.getJsDocTags=function(){return void 0===this.tags&&(this.tags=x.JsDoc.getJsDocTagsFromDeclarations(this.declarations)),this.tags};var a=o;function o(e,t){this.flags=e,this.escapedName=t}__extends(u,c=r);var c,l=u;function u(e,t,r){t=c.call(this,t,r)||this;return t.kind=e,t}__extends(f,d=r),Object.defineProperty(f.prototype,"text",{get:function(){return x.idText(this)},enumerable:!0,configurable:!0});var d,p=f;function f(e,t,r){return d.call(this,t,r)||this}p.prototype.kind=71,m.prototype.getFlags=function(){return this.flags},m.prototype.getSymbol=function(){return this.symbol},m.prototype.getProperties=function(){return this.checker.getPropertiesOfType(this)},m.prototype.getProperty=function(e){return this.checker.getPropertyOfType(this,e)},m.prototype.getApparentProperties=function(){return this.checker.getAugmentedPropertiesOfType(this)},m.prototype.getCallSignatures=function(){return this.checker.getSignaturesOfType(this,0)},m.prototype.getConstructSignatures=function(){return this.checker.getSignaturesOfType(this,1)},m.prototype.getStringIndexType=function(){return this.checker.getIndexTypeOfType(this,0)},m.prototype.getNumberIndexType=function(){return this.checker.getIndexTypeOfType(this,1)},m.prototype.getBaseTypes=function(){return 32768&this.flags&&3&this.objectFlags?this.checker.getBaseTypes(this):void 0},m.prototype.getNonNullableType=function(){return this.checker.getNonNullableType(this)};var _=m;function m(e,t){this.checker=e,this.flags=t}h.prototype.getDeclaration=function(){return this.declaration},h.prototype.getTypeParameters=function(){return this.typeParameters},h.prototype.getParameters=function(){return this.parameters},h.prototype.getReturnType=function(){return this.checker.getReturnTypeOfSignature(this)},h.prototype.getDocumentationComment=function(){return void 0===this.documentationComment&&(this.documentationComment=this.declaration?x.JsDoc.getJsDocCommentsFromDeclarations([this.declaration]):[]),this.documentationComment},h.prototype.getJsDocTags=function(){return void 0===this.jsDocTags&&(this.jsDocTags=this.declaration?x.JsDoc.getJsDocTagsFromDeclarations([this.declaration]):[]),this.jsDocTags};var g=h;function h(e){this.checker=e}__extends(b,y=i),b.prototype.update=function(e,t){return x.updateSourceFile(this,e,t)},b.prototype.getLineAndCharacterOfPosition=function(e){return x.getLineAndCharacterOfPosition(this,e)},b.prototype.getLineStarts=function(){return x.getLineStarts(this)},b.prototype.getPositionOfLineAndCharacter=function(e,t){return x.getPositionOfLineAndCharacter(this,e,t)},b.prototype.getLineEndOfPosition=function(e){var t,e=this.getLineAndCharacterOfPosition(e).line,r=this.getLineStarts(),r=(t=(t=e+1>=r.length?this.getEnd():t)||r[e+1]-1,this.getFullText());return"\n"===r[t]&&"\r"===r[t-1]?t-1:t},b.prototype.getNamedDeclarations=function(){return this.namedDeclarations||(this.namedDeclarations=this.computeNamedDeclarations()),this.namedDeclarations},b.prototype.computeNamedDeclarations=function(){var r=x.createMultiMap();return x.forEachChild(this,function e(t){switch(t.kind){case 228:case 186:case 151:case 150:var r=t,n=o(r);n&&(n=s(n),(i=x.lastOrUndefined(n))&&r.parent===i.parent&&r.symbol===i.symbol?r.body&&!i.body&&(n[n.length-1]=r):n.push(r)),x.forEachChild(t,e);break;case 229:case 199:case 230:case 231:case 232:case 233:case 237:case 246:case 242:case 239:case 240:case 153:case 154:case 163:a(t),x.forEachChild(t,e);break;case 146:if(!x.hasModifier(t,92))break;case 226:case 176:var i=t;if(x.isBindingPattern(i.name)){x.forEachChild(i.name,e);break}i.initializer&&e(i.initializer);case 264:case 149:case 148:a(t);break;case 244:t.exportClause&&x.forEach(t.exportClause.elements,e);break;case 238:n=t.importClause;n&&(n.name&&a(n),n.namedBindings)&&(240===n.namedBindings.kind?a(n.namedBindings):x.forEach(n.namedBindings.elements,e));break;case 194:0!==x.getSpecialPropertyAssignmentKind(t)&&a(t);default:x.forEachChild(t,e)}}),r;function a(e){var t=o(e);t&&r.add(t,e)}function s(e){var t=r.get(e);return t||r.set(e,t=[]),t}function o(e){e=x.getNameOfDeclaration(e);if(e){var t=x.getTextOfIdentifierOrLiteral(e);if(void 0!==t)return t;if(144===e.kind)return 179===(t=e.expression).kind?t.name.text:x.getTextOfIdentifierOrLiteral(t)}}};var y,v=b;function b(e,t,r){return y.call(this,e,t,r)||this}S.prototype.getLineAndCharacterOfPosition=function(e){return x.getLineAndCharacterOfPosition(this,e)};var k=S;function S(e,t,r){this.fileName=e,this.text=t,this.skipTrivia=r}function T(e){var t=!0;for(r in e)if(x.hasProperty(e,r)&&!C(r)){t=!1;break}if(t)return e;var r,n={};for(r in e)x.hasProperty(e,r)&&(n[C(r)?r:r.charAt(0).toLowerCase()+r.substr(1)]=e[r]);return n}function C(e){return!e.length||e.charAt(0)===e.charAt(0).toLowerCase()}function E(){return{target:1,jsx:1}}x.toEditorSettings=T,x.displayPartsToString=function(e){return e?x.map(e,function(e){return e.text}).join(""):""},x.getDefaultCompilerOptions=E,x.getSupportedCodeFixes=function(){return x.codefix.getSupportedErrorCodes()},D.prototype.compilationSettings=function(){return this._compilationSettings},D.prototype.createEntry=function(e,t){var r=this.host.getScriptSnapshot(e),r=r?{hostFileName:e,version:this.host.getScriptVersion(e),scriptSnapshot:r,scriptKind:x.getScriptKind(e,this.host)}:e;return this.fileNameToEntry.set(t,r),r},D.prototype.getEntryByPath=function(e){return this.fileNameToEntry.get(e)},D.prototype.getHostFileInformation=function(e){e=this.fileNameToEntry.get(e);return x.isString(e)?void 0:e},D.prototype.getOrCreateEntryByPath=function(e,t){e=this.getEntryByPath(t)||this.createEntry(e,t);return x.isString(e)?void 0:e},D.prototype.getRootFileNames=function(){return x.arrayFrom(this.fileNameToEntry.values(),function(e){return x.isString(e)?e:e.hostFileName})},D.prototype.getVersion=function(e){e=this.getHostFileInformation(e);return e&&e.version},D.prototype.getScriptSnapshot=function(e){e=this.getHostFileInformation(e);return e&&e.scriptSnapshot};var R=D;function D(e,t){this.host=e,this.currentDirectory=e.getCurrentDirectory(),this.fileNameToEntry=x.createMap();for(var r=0,n=e.getScriptFileNames();r<n.length;r++){var i=n[r];this.createEntry(i,x.toPath(i,this.currentDirectory,t))}this._compilationSettings=e.getCompilationSettings()||E()}A.prototype.getCurrentSourceFile=function(e){var t,r,n,i=this.host.getScriptSnapshot(e);if(i)return r=x.getScriptKind(e,this.host),t=this.host.getScriptVersion(e),this.currentFileName!==e?n=N(e,i,5,t,!0,r):this.currentFileVersion!==t&&(r=i.getChangeRange(this.currentFileScriptSnapshot),n=I(this.currentSourceFile,i,t,r)),n&&(this.currentFileVersion=t,this.currentFileName=e,this.currentFileScriptSnapshot=i,this.currentSourceFile=n),this.currentSourceFile;throw new Error("Could not find file: '"+e+"'.")};var M=A;function A(e){this.host=e}function w(e,t,r){e.version=r,e.scriptSnapshot=t}function N(e,t,r,n,i,a){var s=t.getText(0,t.getLength()),e=x.createSourceFile(e,s,r,i,a);return w(e,t,n),e}function I(e,t,r,n,i){var a,s,o,c;if(n&&(r!==e.version&&!x.disableIncrementalParsing))return o=void 0,c=0!==n.span.start?e.text.substr(0,n.span.start):"",a=x.textSpanEnd(n.span)!==e.text.length?e.text.substr(x.textSpanEnd(n.span)):"",o=0===n.newLength?c&&a?c+a:c||a:(s=t.getText(n.span.start,n.span.start+n.newLength),c&&a?c+s+a:c?c+s:s+a),w(c=x.updateSourceFile(e,o,n,i),t,r),c.nameTable=void 0,e!==c&&e.scriptSnapshot&&(e.scriptSnapshot.dispose&&e.scriptSnapshot.dispose(),e.scriptSnapshot=void 0),c;return N(e.fileName,t,e.languageVersion,r,!0,e.scriptKind)}x.createLanguageServiceSourceFile=N,x.disableIncrementalParsing=!1,x.updateLanguageServiceSourceFile=I,P.prototype.isCancellationRequested=function(){return this.cancellationToken&&this.cancellationToken.isCancellationRequested()},P.prototype.throwIfCancellationRequested=function(){if(this.isCancellationRequested())throw new x.OperationCanceledException};var U=P;function P(e){this.cancellationToken=e}function O(e,t){void 0===t&&(t=20),this.hostCancellationToken=e,this.throttleWaitMilliseconds=t,this.lastCancellationCheckTime=0}function F(e){switch(e.kind){case 253:case 255:case 261:case 262:case 151:case 153:case 154:return 1}}function L(e,t){var r=x.unescapeLeadingUnderscores(x.getTextOfPropertyName(t));if(r&&e){var n=[],t=e.getProperty(r);if(65536&e.flags)return x.forEach(e.types,function(e){e=e.getProperty(r);e&&n.push(e)}),n;if(t)return n.push(t),n}}O.prototype.isCancellationRequested=function(){var e=x.timestamp();return Math.abs(e-this.lastCancellationCheckTime)>=this.throttleWaitMilliseconds&&(this.lastCancellationCheckTime=e,this.hostCancellationToken.isCancellationRequested())},O.prototype.throwIfCancellationRequested=function(){if(this.isCancellationRequested())throw new x.OperationCanceledException},x.ThrottledCancellationToken=O,x.createLanguageService=function(l,u){void 0===u&&(u=x.createDocumentRegistry(l.useCaseSensitiveFileNames&&l.useCaseSensitiveFileNames(),l.getCurrentDirectory()));var d,n,p=new M(l),a=(t=t||new x.formatting.RulesProvider,0),f=l.useCaseSensitiveFileNames&&l.useCaseSensitiveFileNames(),_=new U(l.getCancellationToken&&l.getCancellationToken()),m=l.getCurrentDirectory();function g(e){l.log&&l.log(e)}!x.localizedDiagnosticMessages&&l.getLocalizedDiagnosticMessages&&(x.localizedDiagnosticMessages=l.getLocalizedDiagnosticMessages());var h=x.createGetCanonicalFileName(f);function y(e){var t=d.getSourceFile(e);if(t)return t;throw new Error("Could not find file: '"+e+"'.")}function v(e){return t.ensureUpToDate(e),t}function b(){if(l.getProjectVersion){var e=l.getProjectVersion();if(e){if(n===e&&!l.hasChangedAutomaticTypeDirectiveNames)return;n=e}}var s,o,e=l.getTypeRootsVersion?l.getTypeRootsVersion():0,c=(a!==e&&(g("TypeRoots version has changed; provide new program"),d=void 0,a=e),new R(l,h)),e=c.getRootFileNames(),t=l.hasInvalidatedResolution||x.returnFalse;function r(e){var t=x.toPath(e,m,h),t=c.getEntryByPath(t);return t?!x.isString(t):l.fileExists&&l.fileExists(e)}function i(e,t,r,n,i){x.Debug.assert(void 0!==c);var a=c.getOrCreateEntryByPath(e,t);if(a){if(!i){i=d&&d.getSourceFileByPath(t);if(i)return x.Debug.assertEqual(a.scriptKind,i.scriptKind,"Registered script kind should match new script kind.",t),u.updateDocumentWithKey(e,t,s,o,a.scriptSnapshot,a.version,a.scriptKind)}return u.acquireDocumentWithKey(e,t,s,o,a.scriptSnapshot,a.version,a.scriptKind)}}x.isProgramUptoDate(d,e,c.compilationSettings(),function(e){return c.getVersion(e)},r,t,l.hasChangedAutomaticTypeDirectiveNames)||(s=c.compilationSettings(),t={getSourceFile:function(e,t,r,n){return i(e,x.toPath(e,m,h),0,0,n)},getSourceFileByPath:i,getCancellationToken:function(){return _},getCanonicalFileName:h,useCaseSensitiveFileNames:function(){return f},getNewLine:function(){return x.getNewLineCharacter(s,{newLine:x.getNewLineOrDefaultFromHost(l)})},getDefaultLibFileName:function(e){return l.getDefaultLibFileName(e)},writeFile:x.noop,getCurrentDirectory:function(){return m},fileExists:r,readFile:function(e){var t=x.toPath(e,m,h),t=c.getEntryByPath(t);return t?x.isString(t)?void 0:t.scriptSnapshot.getText(0,t.scriptSnapshot.getLength()):l.readFile&&l.readFile(e)},directoryExists:function(e){return x.directoryProbablyExists(e,l)},getDirectories:function(e){return l.getDirectories?l.getDirectories(e):[]},onReleaseOldSourceFile:function(e,t){t=u.getKeyForCompilationSettings(t);u.releaseDocumentWithKey(e.path,t)},hasInvalidatedResolution:t,hasChangedAutomaticTypeDirectiveNames:l.hasChangedAutomaticTypeDirectiveNames},l.trace&&(t.trace=function(e){return l.trace(e)}),l.resolveModuleNames&&(t.resolveModuleNames=function(e,t,r){return l.resolveModuleNames(e,t,r)}),l.resolveTypeReferenceDirectives&&(t.resolveTypeReferenceDirectives=function(e,t){return l.resolveTypeReferenceDirectives(e,t)}),o=u.getKeyForCompilationSettings(s),d=x.createProgram(e,s,t,d),c=void 0,d.getTypeChecker())}function i(){return b(),d}function s(e,t,r){b();r=x.map(r,function(e){return d.getSourceFile(e)}),e=y(e);return x.DocumentHighlights.getDocumentHighlights(d,_,e,t,r)}function o(e,t,r){b();var n=[];if(r&&r.isForRename)for(var i=0,a=d.getSourceFiles();i<a.length;i++){var s=a[i];d.isSourceFileDefaultLibrary(s)||n.push(s)}else n=d.getSourceFiles().slice();return x.FindAllReferences.findReferencedEntries(d,_,n,y(e),t,r)}function e(e){return p.getCurrentSourceFile(e)}function r(e){e=x.getScriptKind(e,l);return 3===e||4===e}function c(e,t,r){t="number"==typeof t?[t,void 0]:[t.pos,t.end];return{file:e,startPosition:t[0],endPosition:t[1],program:i(),newLineCharacter:r?r.newLineCharacter:l.getNewLine(),host:l,rulesProvider:v(r),cancellationToken:_}}return{dispose:function(){d&&(x.forEach(d.getSourceFiles(),function(e){return u.releaseDocument(e.fileName,d.getCompilerOptions())}),d=void 0),l=void 0},cleanupSemanticCache:function(){d=void 0},getSyntacticDiagnostics:function(e){return b(),d.getSyntacticDiagnostics(y(e),_).slice()},getSemanticDiagnostics:function(e){b();var e=y(e),t=d.getSemanticDiagnostics(e,_);return d.getCompilerOptions().declaration?(e=d.getDeclarationDiagnostics(e,_),t.concat(e)):t.slice()},getCompilerOptionsDiagnostics:function(){return b(),d.getOptionsDiagnostics(_).concat(d.getGlobalDiagnostics(_))},getSyntacticClassifications:function(e,t){return x.getSyntacticClassifications(_,p.getCurrentSourceFile(e),t)},getSemanticClassifications:function(e,t){return r(e)?(b(),x.getSemanticClassifications(d.getTypeChecker(),_,y(e),d.getClassifiableNames(),t)):[]},getEncodedSyntacticClassifications:function(e,t){return x.getEncodedSyntacticClassifications(_,p.getCurrentSourceFile(e),t)},getEncodedSemanticClassifications:function(e,t){return r(e)?(b(),x.getEncodedSemanticClassifications(d.getTypeChecker(),_,y(e),d.getClassifiableNames(),t)):{spans:[],endOfLineState:0}},getCompletionsAtPosition:function(e,t){return b(),x.Completions.getCompletionsAtPosition(l,d.getTypeChecker(),g,d.getCompilerOptions(),y(e),t,d.getSourceFiles())},getCompletionEntryDetails:function(e,t,r,n,i){return b(),n=n?v(n):void 0,x.Completions.getCompletionEntryDetails(d.getTypeChecker(),g,d.getCompilerOptions(),y(e),t,{name:r,source:i},d.getSourceFiles(),l,n)},getCompletionEntrySymbol:function(e,t,r,n){return b(),x.Completions.getCompletionEntrySymbol(d.getTypeChecker(),g,d.getCompilerOptions(),y(e),t,{name:r,source:n},d.getSourceFiles())},getSignatureHelpItems:function(e,t){return b(),e=y(e),x.SignatureHelp.getSignatureHelpItems(d,e,t,_)},getQuickInfoAtPosition:function(e,t){b();var e=y(e),r=x.getTouchingPropertyName(e,t,!0);if(r!==e&&!x.isLabelName(r)){var n=d.getTypeChecker(),t=((e,t)=>{if((x.isIdentifier(e)||x.isStringLiteral(e))&&x.isPropertyAssignment(e.parent)&&e.parent.name===e){var r=t.getContextualType(e.parent.parent);if(r){r=t.getPropertyOfType(r,x.getTextOfIdentifierOrLiteral(e));if(r)return r}}return t.getSymbolAtLocation(e)})(r,n);if(t&&!n.isUnknownSymbol(t))return{kind:(e=x.SymbolDisplay.getSymbolDisplayPartsDocumentationAndSymbolKind(n,t,e,x.getContainerNode(r),r)).symbolKind,kindModifiers:x.SymbolDisplay.getSymbolModifiers(t),textSpan:x.createTextSpan(r.getStart(),r.getWidth()),displayParts:e.displayParts,documentation:e.documentation,tags:e.tags};switch(r.kind){case 71:case 179:case 143:case 99:case 169:case 97:var i=n.getTypeAtLocation(r);if(i)return{kind:"",kindModifiers:"",textSpan:x.createTextSpan(r.getStart(),r.getWidth()),displayParts:x.typeToDisplayParts(n,i,x.getContainerNode(r)),documentation:i.symbol?i.symbol.getDocumentationComment():void 0,tags:i.symbol?i.symbol.getJsDocTags():void 0}}}},getDefinitionAtPosition:function(e,t){return b(),x.GoToDefinition.getDefinitionAtPosition(d,y(e),t)},getImplementationAtPosition:function(e,t){return b(),x.FindAllReferences.getImplementationsAtPosition(d,_,d.getSourceFiles(),y(e),t)},getTypeDefinitionAtPosition:function(e,t){return b(),x.GoToDefinition.getTypeDefinitionAtPosition(d.getTypeChecker(),y(e),t)},getReferencesAtPosition:function(e,t){return o(e,t)},findReferences:function(e,t){return b(),x.FindAllReferences.findReferencedSymbols(d,_,d.getSourceFiles(),y(e),t)},getOccurrencesAtPosition:function(e,t){var r;return(t=(e=>{if(e){for(var t=[],r=0,n=e;r<n.length;r++)for(var i=n[r],a=0,s=i.highlightSpans;a<s.length;a++){var o=s[a];t.push({fileName:i.fileName,textSpan:o.textSpan,isWriteAccess:"writtenReference"===o.kind,isDefinition:!1,isInString:o.isInString})}return t}})(s(e,t,[e])))&&(r=h(x.normalizeSlashes(e)),t=x.filter(t,function(e){return h(x.normalizeSlashes(e.fileName))===r})),t},getDocumentHighlights:s,getNameOrDottedNameSpan:function(e,t,r){if(e=p.getCurrentSourceFile(e),(t=x.getTouchingPropertyName(e,t,!1))!==e){switch(t.kind){case 179:case 143:case 9:case 86:case 101:case 95:case 97:case 99:case 169:case 71:break;default:return}for(var n=t;;)if(x.isRightSideOfPropertyAccess(n)||x.isRightSideOfQualifiedName(n))n=n.parent;else{if(!x.isNameOfModuleDeclaration(n))break;if(233!==n.parent.parent.kind||n.parent.parent.body!==n.parent)break;n=n.parent.parent.name}return x.createTextSpanFromBounds(n.getStart(),t.getEnd())}},getBreakpointStatementAtPosition:function(e,t){return e=p.getCurrentSourceFile(e),x.BreakpointResolver.spanInSourceFileAtLocation(e,t)},getNavigateToItems:function(e,t,r,n){return b(),r=r?[y(r)]:d.getSourceFiles(),x.NavigateTo.getNavigateToItems(r,d.getTypeChecker(),_,e,t,n)},getRenameInfo:function(e,t){b();var r=l.getDefaultLibFileName(l.getCompilationSettings());return x.Rename.getRenameInfo(d.getTypeChecker(),r,h,y(e),t)},findRenameLocations:function(e,t,r,n){return o(e,t,{findInStrings:r,findInComments:n,isForRename:!0})},getNavigationBarItems:function(e){return x.NavigationBar.getNavigationBarItems(p.getCurrentSourceFile(e),_)},getNavigationTree:function(e){return x.NavigationBar.getNavigationTree(p.getCurrentSourceFile(e),_)},getOutliningSpans:function(e){return e=p.getCurrentSourceFile(e),x.OutliningElementsCollector.collectElements(e,_)},getTodoComments:function(e,t){b();var r,n=y(e),i=(_.throwIfCancellationRequested(),n.text),a=[];if(0<t.length&&(e=n.fileName,!x.stringContains(e,"/node_modules/"))){e="("+/(?:^(?:\s|\*)*)/.source+"|"+/(?:\/\/+\s*)/.source+"|"+/(?:\/\*+\s*)/.source+")",r="(?:"+x.map(t,function(e){return"("+e.text.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+")"}).join("|")+")";for(var s,o=new RegExp(e+"("+r+/(?:.*?)/.source+")"+/(?:$|\*\/)/.source,"gim");s=o.exec(i);){_.throwIfCancellationRequested();x.Debug.assert(s.length===t.length+3);var c=s[1],c=s.index+c.length;if(x.isInComment(n,c)){for(var l,u=void 0,d=0;d<t.length;d++)s[d+3]&&(u=t[d]);x.Debug.assert(void 0!==u),97<=(l=i.charCodeAt(c+u.text.length))&&l<=122||65<=l&&l<=90||48<=l&&l<=57||(l=s[2],a.push({descriptor:u,message:l,position:c}))}}}return a},getBraceMatchingAtPosition:function(e,t){var r=p.getCurrentSourceFile(e),n=[],i=x.getTouchingToken(r,t,!1);if(i.getStart(r)===t){var a=(e=>{switch(e.kind){case 17:return 18;case 19:return 20;case 21:return 22;case 27:return 29;case 18:return 17;case 20:return 19;case 22:return 21;case 29:return 27}})(i);if(a)for(var s=0,o=i.parent.getChildren(r);s<o.length;s++){var c=o[s];if(c.kind===a){var l=x.createTextSpan(i.getStart(r),i.getWidth(r)),c=x.createTextSpan(c.getStart(r),c.getWidth(r));l.start<c.start?n.push(l,c):n.push(c,l);break}}}return n},getIndentationAtPosition:function(e,t,r){var n=x.timestamp(),r=T(r),e=p.getCurrentSourceFile(e),t=(g("getIndentationAtPosition: getCurrentSourceFile: "+(x.timestamp()-n)),n=x.timestamp(),x.formatting.SmartIndenter.getIndentation(t,e,r));return g("getIndentationAtPosition: computeIndentation  : "+(x.timestamp()-n)),t},getFormattingEditsForRange:function(e,t,r,n){return e=p.getCurrentSourceFile(e),n=T(n),x.formatting.formatSelection(t,r,e,v(n),n)},getFormattingEditsForDocument:function(e,t){return e=p.getCurrentSourceFile(e),t=T(t),x.formatting.formatDocument(e,v(t),t)},getFormattingEditsAfterKeystroke:function(e,t,r,n){if(e=p.getCurrentSourceFile(e),n=T(n),!x.isInComment(e,t)){if("{"===r)return x.formatting.formatOnOpeningCurly(t,e,v(n),n);if("}"===r)return x.formatting.formatOnClosingCurly(t,e,v(n),n);if(";"===r)return x.formatting.formatOnSemicolon(t,e,v(n),n);if("\n"===r)return x.formatting.formatOnEnter(t,e,v(n),n)}return[]},getDocCommentTemplateAtPosition:function(e,t){return x.JsDoc.getDocCommentTemplateAtPosition(x.getNewLineOrDefaultFromHost(l),p.getCurrentSourceFile(e),t)},isValidBraceCompletionAtPosition:function(e,t,r){if(60===r)return!1;var n=p.getCurrentSourceFile(e);if(x.isInString(n,t))return!1;if(x.isInsideJsxElementOrAttribute(n,t))return 123===r;if(x.isInTemplateString(n,t))return!1;switch(r){case 39:case 34:case 96:return!x.isInComment(n,t)}return!0},getSpanOfEnclosingComment:function(e,t,r){return e=p.getCurrentSourceFile(e),(e=x.formatting.getRangeOfEnclosingComment(e,t,r))&&x.createTextSpanFromRange(e)},getCodeFixesAtPosition:function(e,t,r,n,i){b();var a=y(e),s=x.createTextSpanFromBounds(t,r),o=x.getNewLineOrDefaultFromHost(l),c=v(i);return x.flatMap(x.deduplicate(n),function(e){return _.throwIfCancellationRequested(),x.codefix.getFixes({errorCode:e,sourceFile:a,span:s,program:d,newLineCharacter:o,host:l,cancellationToken:_,rulesProvider:c})})},applyCodeActionCommand:function(e,t){if(e=x.toPath(e,m,h),"install package"===t.type)return l.installPackage?l.installPackage({fileName:e,packageName:t.packageName}):Promise.reject("Host does not implement `installPackage`");x.Debug.fail()},getEmitOutput:function(e,t){b();var e=y(e),r=l.getCustomTransformers&&l.getCustomTransformers();return x.getFileEmitOutput(d,e,t,_,r)},getNonBoundSourceFile:e,getSourceFile:e,getProgram:i,getApplicableRefactors:function(e,t){return b(),e=y(e),x.refactor.getApplicableRefactors(c(e,t))},getEditsForRefactor:function(e,t,r,n,i){return b(),e=y(e),x.refactor.getEditsForRefactor(c(e,r,t),n,i)}}},x.getNameTable=function(e){var t,s;return e.nameTable||(s=(t=e).nameTable=x.createUnderscoreEscapedMap(),t.forEachChild(function e(t){var r;if((x.isIdentifier(t)&&t.escapedText||x.isStringOrNumericLiteral(t)&&(r=t,x.isDeclarationName(r)||248===r.parent.kind||(e=>e&&e.parent&&180===e.parent.kind&&e.parent.argumentExpression===e)(r)||x.isLiteralComputedPropertyDeclarationName(r)))&&(r=x.getEscapedTextOfIdentifierOrLiteral(t),s.set(r,void 0===s.get(r)?t.pos:-1)),x.forEachChild(t,e),x.hasJSDocNodes(t))for(var n=0,i=t.jsDoc;n<i.length;n++){var a=i[n];x.forEachChild(a,e)}})),e.nameTable},x.getContainingObjectLiteralElement=function(e){switch(e.kind){case 9:case 8:if(144===e.parent.kind)return F(e.parent.parent)?e.parent.parent:void 0;case 71:return!F(e.parent)||178!==e.parent.parent.kind&&254!==e.parent.parent.kind||e.parent.name!==e?void 0:e.parent}},x.getPropertySymbolsFromContextualType=function(e,t){var r=t.parent;return L(e.getContextualType(r),t.name)},x.getPropertySymbolsFromType=L,x.getDefaultLibFilePath=function(e){if("undefined"!=typeof __dirname)return __dirname+x.directorySeparator+x.getDefaultLibFileName(e);throw new Error("getDefaultLibFilePath is only supported when consumed as a node module. ")},x.objectAllocator={getNodeConstructor:function(){return i},getTokenConstructor:function(){return l},getIdentifierConstructor:function(){return p},getSourceFileConstructor:function(){return v},getSymbolConstructor:function(){return a},getTypeConstructor:function(){return _},getSignatureConstructor:function(){return g},getSourceMapSourceConstructor:function(){return k}}})(ts=ts||{}),(w=>{(w.BreakpointResolver||(w.BreakpointResolver={})).spanInSourceFileAtLocation=function(k,e){if(!k.isDeclarationFile){var t=w.getTokenAtPosition(k,e,!1),r=k.getLineAndCharacterOfPosition(e).line;if((!(k.getLineAndCharacterOfPosition(t.getStart(k)).line>r)||(t=w.findPrecedingToken(t.pos,k))&&k.getLineAndCharacterOfPosition(t.getEnd()).line===r)&&!w.isInAmbientContext(t))return A(t)}function S(e,t){var r=e.decorators?w.skipTrivia(k.text,e.decorators.end):e.getStart(k);return w.createTextSpanFromBounds(r,(t||e).getEnd())}function T(e,t){return S(e,w.findNextToken(t,t.parent))}function C(e,t){return e&&r===k.getLineAndCharacterOfPosition(e.getStart(k)).line?A(e):A(t)}function E(e){return A(w.findPrecedingToken(e.pos,k))}function D(e){return A(w.findNextToken(e,e.parent))}function A(e){if(e)switch(e.kind){case 208:return m(e.declarationList.declarations[0]);case 226:case 149:case 148:return m(e);case 146:return function e(t){{var r;return w.isBindingPattern(t.name)?b(t.name):g(t)?S(t):(r=t.parent,(t=w.indexOf(r.parameters,t))?e(r.parameters[t-1]):A(r.body))}}(e);case 228:case 151:case 150:case 153:case 154:case 152:case 186:case 187:var t=e;return t.body?h(t)?S(t):A(t.body):void 0;case 207:if(w.isFunctionBlock(e))return r=(t=e).statements.length?t.statements[0]:t.getLastToken(),h(t.parent)?C(t.parent,r):A(r);case 234:return y(e);case 260:return y(e.block);case 210:return S(e.expression);case 219:return S(e.getChildAt(0),e.expression);case 213:return T(e,e.expression);case 212:return A(e.statement);case 225:return S(e.getChildAt(0));case 211:return T(e,e.expression);case 222:return A(e.statement);case 218:case 217:return S(e.getChildAt(0),e.label);case 214:var r=e;return r.initializer?v(r):r.condition?S(r.condition):r.incrementor?S(r.incrementor):void 0;case 215:return T(e,e.expression);case 216:return v(e);case 221:return T(e,e.expression);case 257:case 258:return A(e.statements[0]);case 224:return y(e.tryBlock);case 223:case 243:return S(e,e.expression);case 237:return S(e,e.moduleReference);case 238:case 244:return S(e,e.moduleSpecifier);case 233:if(1!==w.getModuleInstanceState(e))return;case 229:case 232:case 264:case 176:return S(e);case 220:return A(e.statement);case 147:return f=e.parent.decorators,w.createTextSpanFromBounds(w.skipTrivia(k.text,f.pos),f.end);case 174:case 175:return b(e);case 230:case 231:return;case 25:case 1:return C(w.findPrecedingToken(e.pos,k));case 26:return E(e);case 17:var n=e;switch(n.parent.kind){case 232:var i=n.parent;return C(w.findPrecedingToken(n.pos,k,n.parent),i.members.length?i.members[0]:i.getLastToken(k));case 229:i=n.parent;return C(w.findPrecedingToken(n.pos,k,n.parent),i.members.length?i.members[0]:i.getLastToken(k));case 235:return C(n.parent.parent,n.parent.clauses[0])}return A(n.parent);case 18:var a=e;switch(a.parent.kind){case 234:if(1!==w.getModuleInstanceState(a.parent.parent))return;case 232:case 229:return S(a);case 207:if(w.isFunctionBlock(a.parent))return S(a);case 260:return A(w.lastOrUndefined(a.parent.statements));case 235:var s=a.parent,s=w.lastOrUndefined(s.clauses);return s?A(w.lastOrUndefined(s.statements)):void 0;case 174:s=a.parent;return A(w.lastOrUndefined(s.elements)||s);default:return w.isArrayLiteralOrObjectLiteralDestructuringPattern(a.parent)?(s=a.parent,S(w.lastOrUndefined(s.properties)||s)):A(a.parent)}return;case 22:f=e;return 175===f.parent.kind||w.isArrayLiteralOrObjectLiteralDestructuringPattern(f.parent)?(p=f.parent,S(w.lastOrUndefined(p.elements)||p)):A(f.parent);case 19:return 212!==(p=e).parent.kind&&181!==p.parent.kind&&182!==p.parent.kind?185!==p.parent.kind?A(p.parent):D(p):E(p);case 20:var o=e;switch(o.parent.kind){case 186:case 228:case 187:case 151:case 150:case 153:case 154:case 152:case 213:case 212:case 214:case 216:case 181:case 182:case 185:return E(o);default:return A(o.parent)}return;case 56:var c=e;return w.isFunctionLike(c.parent)||261===c.parent.kind||146===c.parent.kind?E(c):A(c.parent);case 29:case 27:return 184!==(c=e).parent.kind?A(c.parent):D(c);case 106:return 212!==(d=e).parent.kind?A(d.parent):T(d,d.parent.expression);case 82:case 74:case 87:return D(e);case 142:return 216!==(d=e).parent.kind?A(d.parent):D(d);default:if(w.isArrayLiteralOrObjectLiteralDestructuringPattern(e))return x(e);if((71===e.kind||198===e.kind||261===e.kind||262===e.kind)&&w.isArrayLiteralOrObjectLiteralDestructuringPattern(e.parent))return S(e);if(194===e.kind){var l=e;if(w.isArrayLiteralOrObjectLiteralDestructuringPattern(l.left))return x(l.left);if(58===l.operatorToken.kind&&w.isArrayLiteralOrObjectLiteralDestructuringPattern(l.parent))return S(e);if(26===l.operatorToken.kind)return A(l.left)}if(w.isPartOfExpression(e))switch(e.parent.kind){case 212:return E(e);case 147:return A(e.parent);case 214:case 216:return S(e);case 194:if(26===e.parent.operatorToken.kind)return S(e);break;case 187:if(e.parent.body===e)return S(e)}if(261===e.parent.kind&&e.parent.name===e&&!w.isArrayLiteralOrObjectLiteralDestructuringPattern(e.parent.parent))return A(e.parent.initializer);if(184===e.parent.kind&&e.parent.type===e)return D(e.parent.type);if(w.isFunctionLike(e.parent)&&e.parent.type===e)return E(e);if(226===e.parent.kind||146===e.parent.kind){var u=e.parent;if(u.initializer===e||u.type===e||w.isAssignmentOperator(e.kind))return E(e)}if(194===e.parent.kind){l=e.parent;if(w.isArrayLiteralOrObjectLiteralDestructuringPattern(l.left)&&(l.right===e||l.operatorToken===e))return E(e)}return A(e.parent)}var d,p,f;function _(e){return 227===e.parent.kind&&e.parent.declarations[0]===e?S(w.findPrecedingToken(e.pos,k,e.parent),e):S(e)}function m(e){return 215===e.parent.parent.kind?A(e.parent.parent):w.isBindingPattern(e.name)?b(e.name):e.initializer||w.hasModifier(e,1)||216===e.parent.parent.kind?_(e):227===e.parent.kind&&e.parent.declarations[0]!==e?A(w.findPrecedingToken(e.pos,k,e.parent)):void 0}function g(e){return!!e.initializer||void 0!==e.dotDotDotToken||w.hasModifier(e,12)}function h(e){return w.hasModifier(e,1)||229===e.parent.kind&&152!==e.kind}function y(e){switch(e.parent.kind){case 233:if(1!==w.getModuleInstanceState(e.parent))return;case 213:case 211:case 215:return C(e.parent,e.statements[0]);case 214:case 216:return C(w.findPrecedingToken(e.pos,k,e.parent),e.statements[0])}return A(e.statements[0])}function v(e){return 227!==e.initializer.kind?A(e.initializer):0<(e=e.initializer).declarations.length?A(e.declarations[0]):void 0}function b(e){var t=w.forEach(e.elements,function(e){return 200!==e.kind?e:void 0});return t?A(t):(176===e.parent.kind?S:_)(e.parent)}function x(e){w.Debug.assert(175!==e.kind&&174!==e.kind);var t=177===e.kind?e.elements:e.properties,t=w.forEach(t,function(e){return 200!==e.kind?e:void 0});return t?A(t):S(194===e.parent.kind?e.parent:e)}}}})(ts=ts||{}),(i=>{i.transform=function(e,t,r){var n=[],e=(r=i.fixupCompilerOptions(r,n),i.isArray(e)?e:[e]);return(r=i.transformNodes(void 0,void 0,r,e,t,!0)).diagnostics=i.concatenate(r.diagnostics,n),r}})(ts=ts||{}),function(){return this}()),ts,TypeScript,toolsVersion=((d=>{function p(e,t){e&&e.log("*INTERNAL ERROR* - Exception in typescript services: "+t.message)}e.prototype.getText=function(e,t){return this.scriptSnapshotShim.getText(e,t)},e.prototype.getLength=function(){return this.scriptSnapshotShim.getLength()},e.prototype.getChangeRange=function(e){var e=this.scriptSnapshotShim.getChangeRange(e.scriptSnapshotShim);return null===e?null:(e=JSON.parse(e),d.createTextChangeRange(d.createTextSpan(e.span.start,e.span.length),e.newLength))},e.prototype.dispose=function(){"dispose"in this.scriptSnapshotShim&&this.scriptSnapshotShim.dispose()};var t=e;function e(e){this.scriptSnapshotShim=e}r.prototype.log=function(e){this.loggingEnabled&&this.shimHost.log(e)},r.prototype.trace=function(e){this.tracingEnabled&&this.shimHost.trace(e)},r.prototype.error=function(e){this.shimHost.error(e)},r.prototype.getProjectVersion=function(){if(this.shimHost.getProjectVersion)return this.shimHost.getProjectVersion()},r.prototype.getTypeRootsVersion=function(){return this.shimHost.getTypeRootsVersion?this.shimHost.getTypeRootsVersion():0},r.prototype.useCaseSensitiveFileNames=function(){return!!this.shimHost.useCaseSensitiveFileNames&&this.shimHost.useCaseSensitiveFileNames()},r.prototype.getCompilationSettings=function(){var e=this.shimHost.getCompilationSettings();if(null===e||""===e)throw Error("LanguageServiceShimHostAdapter.getCompilationSettings: empty compilationSettings");e=JSON.parse(e);return e.allowNonTsExtensions=!0,e},r.prototype.getScriptFileNames=function(){var e=this.shimHost.getScriptFileNames();return this.files=JSON.parse(e)},r.prototype.getScriptSnapshot=function(e){e=this.shimHost.getScriptSnapshot(e);return e&&new t(e)},r.prototype.getScriptKind=function(e){return"getScriptKind"in this.shimHost?this.shimHost.getScriptKind(e):0},r.prototype.getScriptVersion=function(e){return this.shimHost.getScriptVersion(e)},r.prototype.getLocalizedDiagnosticMessages=function(){var e=this.shimHost.getLocalizedDiagnosticMessages();if(null===e||""===e)return null;try{return JSON.parse(e)}catch(e){return this.log(e.description||"diagnosticMessages.generated.json has invalid JSON format"),null}},r.prototype.getCancellationToken=function(){var e=this.shimHost.getCancellationToken();return new d.ThrottledCancellationToken(e)},r.prototype.getCurrentDirectory=function(){return this.shimHost.getCurrentDirectory()},r.prototype.getDirectories=function(e){return JSON.parse(this.shimHost.getDirectories(e))},r.prototype.getDefaultLibFileName=function(e){return this.shimHost.getDefaultLibFileName(JSON.stringify(e))},r.prototype.readDirectory=function(e,t,r,n,i){r=d.getFileMatcherPatterns(e,r,n,this.shimHost.useCaseSensitiveFileNames(),this.shimHost.getCurrentDirectory());return JSON.parse(this.shimHost.readDirectory(e,JSON.stringify(t),JSON.stringify(r.basePaths),r.excludePattern,r.includeFilePattern,r.includeDirectoryPattern,i))},r.prototype.readFile=function(e,t){return this.shimHost.readFile(e,t)},r.prototype.fileExists=function(e){return this.shimHost.fileExists(e)};var n=r;function r(e){var n=this;this.shimHost=e,this.loggingEnabled=!1,this.tracingEnabled=!1,"getModuleResolutionsForFile"in this.shimHost&&(this.resolveModuleNames=function(e,t){var r=JSON.parse(n.shimHost.getModuleResolutionsForFile(t));return d.map(e,function(e){e=d.getProperty(r,e);return e?{resolvedFileName:e,extension:d.extensionFromPath(e),isExternalLibraryImport:!1}:void 0})}),"directoryExists"in this.shimHost&&(this.directoryExists=function(e){return n.shimHost.directoryExists(e)}),"getTypeReferenceDirectiveResolutionsForFile"in this.shimHost&&(this.resolveTypeReferenceDirectives=function(e,t){var r=JSON.parse(n.shimHost.getTypeReferenceDirectiveResolutionsForFile(t));return d.map(e,function(e){return d.getProperty(r,e)})})}d.LanguageServiceShimHostAdapter=n,a.prototype.readDirectory=function(e,t,r,n,i){r=d.getFileMatcherPatterns(e,r,n,this.shimHost.useCaseSensitiveFileNames(),this.shimHost.getCurrentDirectory());return JSON.parse(this.shimHost.readDirectory(e,JSON.stringify(t),JSON.stringify(r.basePaths),r.excludePattern,r.includeFilePattern,r.includeDirectoryPattern,i))},a.prototype.fileExists=function(e){return this.shimHost.fileExists(e)},a.prototype.readFile=function(e){return this.shimHost.readFile(e)},a.prototype.getDirectories=function(e){return JSON.parse(this.shimHost.getDirectories(e))};var i=a;function a(e){var t=this;this.shimHost=e,this.useCaseSensitiveFileNames=!!this.shimHost.useCaseSensitiveFileNames&&this.shimHost.useCaseSensitiveFileNames(),"directoryExists"in this.shimHost&&(this.directoryExists=function(e){return t.shimHost.directoryExists(e)}),"realpath"in this.shimHost&&(this.realpath=function(e){return t.shimHost.realpath(e)})}function s(e,t,r,n){return o(e,t,!0,r,n)}function o(t,r,e,n,i){try{s=t,o=r,c=n,(l=i)&&(s.log(o),u=d.timestamp()),c=c(),l&&(l=d.timestamp(),s.log(o+" completed in "+(l-u)+" msec"),d.isString(c))&&(128<(o=c).length&&(o=o.substring(0,128)+"..."),s.log("  result.length="+o.length+", result='"+JSON.stringify(o)+"'"));var a=c;return e?JSON.stringify({result:a}):a}catch(e){return e instanceof d.OperationCanceledException?JSON.stringify({canceled:!0}):(p(t,e),e.description=r,JSON.stringify({error:e}))}var s,o,c,l,u}d.CoreServicesShimHostAdapter=i,l.prototype.dispose=function(e){this.factory.unregisterShim(this)};var c=l;function l(e){(this.factory=e).registerShim(this)}function u(e,t){return e.map(function(e){return e=e,{message:d.flattenDiagnosticMessageText(e.messageText,t),start:e.start,length:e.length,category:d.DiagnosticCategory[e.category].toLowerCase(),code:e.code}})}d.realizeDiagnostics=u,__extends(m,f=c),m.prototype.forwardJSONCall=function(e,t){return s(this.logger,e,t,this.logPerformance)},m.prototype.dispose=function(e){this.logger.log("dispose()"),this.languageService.dispose(),this.languageService=null,debugObjectHost&&debugObjectHost.CollectGarbage&&(debugObjectHost.CollectGarbage(),this.logger.log("CollectGarbage()")),this.logger=null,f.prototype.dispose.call(this,e)},m.prototype.refresh=function(e){this.forwardJSONCall("refresh("+e+")",function(){return null})},m.prototype.cleanupSemanticCache=function(){var e=this;this.forwardJSONCall("cleanupSemanticCache()",function(){return e.languageService.cleanupSemanticCache(),null})},m.prototype.realizeDiagnostics=function(e){var t=d.getNewLineOrDefaultFromHost(this.host);return d.realizeDiagnostics(e,t)},m.prototype.getSyntacticClassifications=function(e,t,r){var n=this;return this.forwardJSONCall("getSyntacticClassifications('"+e+"', "+t+", "+r+")",function(){return n.languageService.getSyntacticClassifications(e,d.createTextSpan(t,r))})},m.prototype.getSemanticClassifications=function(e,t,r){var n=this;return this.forwardJSONCall("getSemanticClassifications('"+e+"', "+t+", "+r+")",function(){return n.languageService.getSemanticClassifications(e,d.createTextSpan(t,r))})},m.prototype.getEncodedSyntacticClassifications=function(e,t,r){var n=this;return this.forwardJSONCall("getEncodedSyntacticClassifications('"+e+"', "+t+", "+r+")",function(){return g(n.languageService.getEncodedSyntacticClassifications(e,d.createTextSpan(t,r)))})},m.prototype.getEncodedSemanticClassifications=function(e,t,r){var n=this;return this.forwardJSONCall("getEncodedSemanticClassifications('"+e+"', "+t+", "+r+")",function(){return g(n.languageService.getEncodedSemanticClassifications(e,d.createTextSpan(t,r)))})},m.prototype.getSyntacticDiagnostics=function(t){var r=this;return this.forwardJSONCall("getSyntacticDiagnostics('"+t+"')",function(){var e=r.languageService.getSyntacticDiagnostics(t);return r.realizeDiagnostics(e)})},m.prototype.getSemanticDiagnostics=function(t){var r=this;return this.forwardJSONCall("getSemanticDiagnostics('"+t+"')",function(){var e=r.languageService.getSemanticDiagnostics(t);return r.realizeDiagnostics(e)})},m.prototype.getCompilerOptionsDiagnostics=function(){var t=this;return this.forwardJSONCall("getCompilerOptionsDiagnostics()",function(){var e=t.languageService.getCompilerOptionsDiagnostics();return t.realizeDiagnostics(e)})},m.prototype.getQuickInfoAtPosition=function(e,t){var r=this;return this.forwardJSONCall("getQuickInfoAtPosition('"+e+"', "+t+")",function(){return r.languageService.getQuickInfoAtPosition(e,t)})},m.prototype.getNameOrDottedNameSpan=function(e,t,r){var n=this;return this.forwardJSONCall("getNameOrDottedNameSpan('"+e+"', "+t+", "+r+")",function(){return n.languageService.getNameOrDottedNameSpan(e,t,r)})},m.prototype.getBreakpointStatementAtPosition=function(e,t){var r=this;return this.forwardJSONCall("getBreakpointStatementAtPosition('"+e+"', "+t+")",function(){return r.languageService.getBreakpointStatementAtPosition(e,t)})},m.prototype.getSignatureHelpItems=function(e,t){var r=this;return this.forwardJSONCall("getSignatureHelpItems('"+e+"', "+t+")",function(){return r.languageService.getSignatureHelpItems(e,t)})},m.prototype.getDefinitionAtPosition=function(e,t){var r=this;return this.forwardJSONCall("getDefinitionAtPosition('"+e+"', "+t+")",function(){return r.languageService.getDefinitionAtPosition(e,t)})},m.prototype.getTypeDefinitionAtPosition=function(e,t){var r=this;return this.forwardJSONCall("getTypeDefinitionAtPosition('"+e+"', "+t+")",function(){return r.languageService.getTypeDefinitionAtPosition(e,t)})},m.prototype.getImplementationAtPosition=function(e,t){var r=this;return this.forwardJSONCall("getImplementationAtPosition('"+e+"', "+t+")",function(){return r.languageService.getImplementationAtPosition(e,t)})},m.prototype.getRenameInfo=function(e,t){var r=this;return this.forwardJSONCall("getRenameInfo('"+e+"', "+t+")",function(){return r.languageService.getRenameInfo(e,t)})},m.prototype.findRenameLocations=function(e,t,r,n){var i=this;return this.forwardJSONCall("findRenameLocations('"+e+"', "+t+", "+r+", "+n+")",function(){return i.languageService.findRenameLocations(e,t,r,n)})},m.prototype.getBraceMatchingAtPosition=function(e,t){var r=this;return this.forwardJSONCall("getBraceMatchingAtPosition('"+e+"', "+t+")",function(){return r.languageService.getBraceMatchingAtPosition(e,t)})},m.prototype.isValidBraceCompletionAtPosition=function(e,t,r){var n=this;return this.forwardJSONCall("isValidBraceCompletionAtPosition('"+e+"', "+t+", "+r+")",function(){return n.languageService.isValidBraceCompletionAtPosition(e,t,r)})},m.prototype.getSpanOfEnclosingComment=function(e,t,r){var n=this;return this.forwardJSONCall("getSpanOfEnclosingComment('"+e+"', "+t+")",function(){return n.languageService.getSpanOfEnclosingComment(e,t,r)})},m.prototype.getIndentationAtPosition=function(t,r,n){var i=this;return this.forwardJSONCall("getIndentationAtPosition('"+t+"', "+r+")",function(){var e=JSON.parse(n);return i.languageService.getIndentationAtPosition(t,r,e)})},m.prototype.getReferencesAtPosition=function(e,t){var r=this;return this.forwardJSONCall("getReferencesAtPosition('"+e+"', "+t+")",function(){return r.languageService.getReferencesAtPosition(e,t)})},m.prototype.findReferences=function(e,t){var r=this;return this.forwardJSONCall("findReferences('"+e+"', "+t+")",function(){return r.languageService.findReferences(e,t)})},m.prototype.getOccurrencesAtPosition=function(e,t){var r=this;return this.forwardJSONCall("getOccurrencesAtPosition('"+e+"', "+t+")",function(){return r.languageService.getOccurrencesAtPosition(e,t)})},m.prototype.getDocumentHighlights=function(r,n,i){var a=this;return this.forwardJSONCall("getDocumentHighlights('"+r+"', "+n+")",function(){var e=a.languageService.getDocumentHighlights(r,n,JSON.parse(i)),t=d.normalizeSlashes(r).toLowerCase();return d.filter(e,function(e){return d.normalizeSlashes(e.fileName).toLowerCase()===t})})},m.prototype.getCompletionsAtPosition=function(e,t){var r=this;return this.forwardJSONCall("getCompletionsAtPosition('"+e+"', "+t+")",function(){return r.languageService.getCompletionsAtPosition(e,t)})},m.prototype.getCompletionEntryDetails=function(t,r,n,i,a){var s=this;return this.forwardJSONCall("getCompletionEntryDetails('"+t+"', "+r+", '"+n+"')",function(){var e=JSON.parse(i);return s.languageService.getCompletionEntryDetails(t,r,n,e,a)})},m.prototype.getFormattingEditsForRange=function(t,r,n,i){var a=this;return this.forwardJSONCall("getFormattingEditsForRange('"+t+"', "+r+", "+n+")",function(){var e=JSON.parse(i);return a.languageService.getFormattingEditsForRange(t,r,n,e)})},m.prototype.getFormattingEditsForDocument=function(t,r){var n=this;return this.forwardJSONCall("getFormattingEditsForDocument('"+t+"')",function(){var e=JSON.parse(r);return n.languageService.getFormattingEditsForDocument(t,e)})},m.prototype.getFormattingEditsAfterKeystroke=function(t,r,n,i){var a=this;return this.forwardJSONCall("getFormattingEditsAfterKeystroke('"+t+"', "+r+", '"+n+"')",function(){var e=JSON.parse(i);return a.languageService.getFormattingEditsAfterKeystroke(t,r,n,e)})},m.prototype.getDocCommentTemplateAtPosition=function(e,t){var r=this;return this.forwardJSONCall("getDocCommentTemplateAtPosition('"+e+"', "+t+")",function(){return r.languageService.getDocCommentTemplateAtPosition(e,t)})},m.prototype.getNavigateToItems=function(e,t,r){var n=this;return this.forwardJSONCall("getNavigateToItems('"+e+"', "+t+", "+r+")",function(){return n.languageService.getNavigateToItems(e,t,r)})},m.prototype.getNavigationBarItems=function(e){var t=this;return this.forwardJSONCall("getNavigationBarItems('"+e+"')",function(){return t.languageService.getNavigationBarItems(e)})},m.prototype.getNavigationTree=function(e){var t=this;return this.forwardJSONCall("getNavigationTree('"+e+"')",function(){return t.languageService.getNavigationTree(e)})},m.prototype.getOutliningSpans=function(e){var t=this;return this.forwardJSONCall("getOutliningSpans('"+e+"')",function(){return t.languageService.getOutliningSpans(e)})},m.prototype.getTodoComments=function(e,t){var r=this;return this.forwardJSONCall("getTodoComments('"+e+"')",function(){return r.languageService.getTodoComments(e,JSON.parse(t))})},m.prototype.getEmitOutput=function(e){var t=this;return this.forwardJSONCall("getEmitOutput('"+e+"')",function(){return t.languageService.getEmitOutput(e)})},m.prototype.getEmitOutputObject=function(e){var t=this;return o(this.logger,"getEmitOutput('"+e+"')",!1,function(){return t.languageService.getEmitOutput(e)},this.logPerformance)};var f,_=m;function m(e,t,r){e=f.call(this,e)||this;return e.host=t,e.languageService=r,e.logPerformance=!1,e.logger=e.host,e}function g(e){return{spans:e.spans.join(","),endOfLineState:e.endOfLineState}}__extends(v,h=c),v.prototype.getEncodedLexicalClassifications=function(e,t,r){var n=this;return s(this.logger,"getEncodedLexicalClassifications",function(){return g(n.classifier.getEncodedLexicalClassifications(e,t,r))},this.logPerformance)},v.prototype.getClassificationsForLine=function(e,t,r){for(var e=this.classifier.getClassificationsForLine(e,t,r),n="",i=0,a=e.entries;i<a.length;i++)var s=a[i],n=(n+=s.length+"\n")+(s.classification+"\n");return n+=e.finalLexState};var h,y=v;function v(e,t){e=h.call(this,e)||this;return e.logger=t,e.logPerformance=!1,e.classifier=d.createClassifier(),e}__extends(k,b=c),k.prototype.forwardJSONCall=function(e,t){return s(this.logger,e,t,this.logPerformance)},k.prototype.resolveModuleName=function(r,n,i){var a=this;return this.forwardJSONCall("resolveModuleName('"+r+"')",function(){var e=JSON.parse(i),e=d.resolveModuleName(n,d.normalizeSlashes(r),e,a.host),t=e.resolvedModule?e.resolvedModule.resolvedFileName:void 0;return{resolvedFileName:t=e.resolvedModule&&".ts"!==e.resolvedModule.extension&&".tsx"!==e.resolvedModule.extension&&".d.ts"!==e.resolvedModule.extension?void 0:t,failedLookupLocations:e.failedLookupLocations}})},k.prototype.resolveTypeReferenceDirective=function(t,r,n){var i=this;return this.forwardJSONCall("resolveTypeReferenceDirective("+t+")",function(){var e=JSON.parse(n),e=d.resolveTypeReferenceDirective(r,d.normalizeSlashes(t),e,i.host);return{resolvedFileName:e.resolvedTypeReferenceDirective?e.resolvedTypeReferenceDirective.resolvedFileName:void 0,primary:!e.resolvedTypeReferenceDirective||e.resolvedTypeReferenceDirective.primary,failedLookupLocations:e.failedLookupLocations}})},k.prototype.getPreProcessedFileInfo=function(e,t){var r=this;return this.forwardJSONCall("getPreProcessedFileInfo('"+e+"')",function(){var e=d.preProcessFile(t.getText(0,t.getLength()),!0,!0);return{referencedFiles:r.convertFileReferences(e.referencedFiles),importedFiles:r.convertFileReferences(e.importedFiles),ambientExternalModules:e.ambientExternalModules,isLibFile:e.isLibFile,typeReferenceDirectives:r.convertFileReferences(e.typeReferenceDirectives)}})},k.prototype.getAutomaticTypeDirectiveNames=function(t){var r=this;return this.forwardJSONCall("getAutomaticTypeDirectiveNames('"+t+"')",function(){var e=JSON.parse(t);return d.getAutomaticTypeDirectiveNames(e,r.host)})},k.prototype.convertFileReferences=function(e){if(e){for(var t=[],r=0,n=e;r<n.length;r++){var i=n[r];t.push({path:d.normalizeSlashes(i.fileName),position:i.pos,length:i.end-i.pos})}return t}},k.prototype.getTSConfigFileInfo=function(r,n){var i=this;return this.forwardJSONCall("getTSConfigFileInfo('"+r+"')",function(){var e=n.getText(0,n.getLength()),e=d.parseJsonText(r,e),t=d.normalizeSlashes(r),t=d.parseJsonSourceFileConfigFileContent(e,i.host,d.getDirectoryPath(t),{},t);return{options:t.options,typeAcquisition:t.typeAcquisition,files:t.fileNames,raw:t.raw,errors:u(e.parseDiagnostics.concat(t.errors),"\r\n")}})},k.prototype.getDefaultCompilationSettings=function(){return this.forwardJSONCall("getDefaultCompilationSettings()",function(){return d.getDefaultCompilerOptions()})},k.prototype.discoverTypings=function(t){var r=this,n=d.createGetCanonicalFileName(!1);return this.forwardJSONCall("discoverTypings()",function(){var e=JSON.parse(t);return void 0===r.safeList&&(r.safeList=d.JsTyping.loadSafeList(r.host,d.toPath(e.safeListPath,e.safeListPath,n))),d.JsTyping.discoverTypings(r.host,function(e){return r.logger.log(e)},e.fileNames,d.toPath(e.projectRootPath,e.projectRootPath,n),r.safeList,e.packageNameToTypingLocation,e.typeAcquisition,e.unresolvedImports)})};var b,x=k;function k(e,t,r){e=b.call(this,e)||this;return e.logger=t,e.host=r,e.logPerformance=!1,e}function S(){this._shims=[]}S.prototype.getServicesVersion=function(){return d.servicesVersion},S.prototype.createLanguageServiceShim=function(t){try{void 0===this.documentRegistry&&(this.documentRegistry=d.createDocumentRegistry(t.useCaseSensitiveFileNames&&t.useCaseSensitiveFileNames(),t.getCurrentDirectory()));var e=new n(t),r=d.createLanguageService(e,this.documentRegistry);return new _(this,t,r)}catch(e){throw p(t,e),e}},S.prototype.createClassifierShim=function(t){try{return new y(this,t)}catch(e){throw p(t,e),e}},S.prototype.createCoreServicesShim=function(t){try{var e=new i(t);return new x(this,t,e)}catch(e){throw p(t,e),e}},S.prototype.close=function(){d.clear(this._shims),this.documentRegistry=void 0},S.prototype.registerShim=function(e){this._shims.push(e)},S.prototype.unregisterShim=function(e){for(var t=0;t<this._shims.length;t++)if(this._shims[t]===e)return void delete this._shims[t];throw new Error("Invalid operation")},d.TypeScriptServicesFactory=S,"undefined"!=typeof module&&module.exports&&(module.exports=d)})(ts=ts||{}),(e=>{(e.Services||(e.Services={})).TypeScriptServicesFactory=ts.TypeScriptServicesFactory})(TypeScript=TypeScript||{}),"2.6"),e=(((e,t)=>{"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Fuse",[],t):"object"==typeof exports?exports.Fuse=t():e.Fuse=t()})(this,function(){return r=[function(e,t,r){e.exports=function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){var n=function(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e},i=r(5),a=r(7),l=r(4),r=(n(u,[{key:"search",value:function(e){var t,r;return this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e?{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]}:(t=(r=this.options).maxPatternLength,this.pattern.length>t?i(e,this.pattern,r.tokenSeparator):(r=(t=this.options).location,a(e,this.pattern,this.patternAlphabet,{location:r,distance:t.distance,threshold:t.threshold,findAllMatches:t.findAllMatches,minMatchCharLength:t.minMatchCharLength})))}}]),u);function u(e,t){var r=t.location,r=void 0===r?0:r,n=t.distance,n=void 0===n?100:n,i=t.threshold,i=void 0===i?.6:i,a=t.maxPatternLength,a=void 0===a?32:a,s=t.isCaseSensitive,s=void 0!==s&&s,o=t.tokenSeparator,o=void 0===o?/ +/g:o,c=t.findAllMatches,c=void 0!==c&&c,t=t.minMatchCharLength,t=void 0===t?1:t;if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.options={location:r,distance:n,threshold:i,maxPatternLength:a,isCaseSensitive:s,tokenSeparator:o,findAllMatches:c,minMatchCharLength:t},this.pattern=this.options.isCaseSensitive?e:e.toLowerCase(),this.pattern.length<=a&&(this.patternAlphabet=l(this.pattern))}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=r},function(e,t,r){function l(e,t,r){if(t){var n=t.indexOf("."),i=t,a=null,s=(-1!==n&&(i=t.slice(0,n),a=t.slice(n+1)),e[i]);if(null!=s)if(a||"string"!=typeof s&&"number"!=typeof s)if(u(s))for(var o=0,c=s.length;o<c;o+=1)l(s[o],a,r);else a&&l(s,a,r);else r.push(s.toString())}else r.push(e);return r}var u=r(0);e.exports=function(e,t){return l(e,t,[])}},function(e,t,r){e.exports=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=[],n=-1,i=0,a=e.length;i<a;i+=1){var s=e[i];s&&-1===n?n=i:s||-1===n||(t<=(s=i-1)-n+1&&r.push([n,s]),n=-1)}return e[i-1]&&t<=i-n&&r.push([n,i-1]),r}},function(e,t,r){e.exports=function(e){for(var t={},r=e.length,n=0;n<r;n+=1)t[e.charAt(n)]=0;for(var i=0;i<r;i+=1)t[e.charAt(i)]|=1<<r-i-1;return t}},function(e,t,r){e.exports=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:/ +/g,t=new RegExp(t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(r,"|")),n=e.match(t),r=!!n,i=[];if(r)for(var a=0,s=n.length;a<s;a+=1){var o=n[a];i.push([e.indexOf(o),o.length-1])}return{score:r?.5:1,isMatch:r,matchedIndices:i}}},function(e,t,r){e.exports=function(e,t){var r=t.errors,n=t.currentLocation,i=t.expectedLocation,t=t.distance,t=void 0===t?100:t,r=(void 0===r?0:r)/e.length,e=Math.abs((void 0===i?0:i)-(void 0===n?0:n));return t?r+e/t:e?1:r}},function(e,t,r){var w=r(6),N=r(3);e.exports=function(e,t,r,n){for(var i=n.location,a=n.distance,s=void 0===a?100:a,a=n.threshold,o=n.findAllMatches,c=void 0!==o&&o,o=n.minMatchCharLength,n=void 0===o?1:o,l=void 0===i?0:i,u=e.length,d=void 0===a?.6:a,p=e.indexOf(t,l),f=t.length,_=[],m=0;m<u;m+=1)_[m]=0;-1!==p&&(o=w(t,{errors:0,currentLocation:p,expectedLocation:l,distance:s}),d=Math.min(o,d),-1!==(p=e.lastIndexOf(t,l+f)))&&(i=w(t,{errors:0,currentLocation:p,expectedLocation:l,distance:s}),d=Math.min(i,d));for(var p=-1,g=[],h=1,y=f+u,v=1<<f-1,b=0;b<f;b+=1){for(var x=0,k=y;x<k;)w(t,{errors:b,currentLocation:l+k,expectedLocation:l,distance:s})<=d?x=k:y=k,k=Math.floor((y-x)/2+x);var y=k,S=Math.max(1,l-k+1),T=c?u:Math.min(l+k,u)+f,C=Array(T+2);C[T+1]=(1<<b)-1;for(var E=T;S<=E;--E){var D=E-1,A=r[e.charAt(D)];if(A&&(_[D]=1),C[E]=(C[E+1]<<1|1)&A,0!==b&&(C[E]|=(g[E+1]|g[E])<<1|1|g[E+1]),C[E]&v&&(h=w(t,{errors:b,currentLocation:D,expectedLocation:l,distance:s}))<=d){if(d=h,(p=D)<=l)break;S=Math.max(1,2*l-p)}}if(w(t,{errors:b+1,currentLocation:l,expectedLocation:l,distance:s})>d)break;g=C}return{isMatch:0<=p,score:0===h?.001:h,matchedIndices:N(_,n)}}},function(e,t,r){var n=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e},a=r(1),v=r(2),A=r(0),r=(n(b,[{key:"setCollection",value:function(e){return this.list=e}},{key:"search",value:function(e){this._log('---------\nSearch pattern: "'+e+'"');var e=this._prepareSearchers(e),t=e.tokenSearchers,t=this._search(t,e.fullSearcher),e=t.weights,t=t.results;return this._computeScore(e,t),this.options.shouldSort&&this._sort(t),this._format(t)}},{key:"_prepareSearchers",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var r=e.split(this.options.tokenSeparator),n=0,i=r.length;n<i;n+=1)t.push(new a(r[n],this.options));return{tokenSearchers:t,fullSearcher:new a(e,this.options)}}},{key:"_search",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],r=this.list,n={},i=[];if("string"==typeof r[0]){for(var a=0,s=r.length;a<s;a+=1)this._analyze({key:"",value:r[a],record:a,index:a},{resultMap:n,results:i,tokenSearchers:e,fullSearcher:t});return{weights:null,results:i}}for(var o={},c=0,l=r.length;c<l;c+=1)for(var u=r[c],d=0,p=this.options.keys.length;d<p;d+=1){var f=this.options.keys[d];if("string"!=typeof f){if(o[f.name]={weight:1-f.weight||1},f.weight<=0||1<f.weight)throw new Error("Key weight has to be > 0 and <= 1");f=f.name}else o[f]={weight:1};this._analyze({key:f,value:this.options.getFn(u,f),record:u,index:c},{resultMap:n,results:i,tokenSearchers:e,fullSearcher:t})}return{weights:o,results:i}}},{key:"_analyze",value:function(e,t){var r=e.key,n=e.arrayIndex,n=void 0===n?-1:n,i=e.value,a=e.record,s=e.index,e=t.tokenSearchers,o=void 0===e?[]:e,e=t.fullSearcher,c=void 0===e?[]:e,e=t.resultMap,l=void 0===e?{}:e,e=t.results,u=void 0===e?[]:e;if(null!=i){var d=!1,p=-1,f=0;if("string"==typeof i){this._log("\nKey: "+(""===r?"-":r));t=c.search(i);if(this._log('Full text: "'+i+'", score: '+t.score),this.options.tokenize){for(var _=i.split(this.options.tokenSeparator),m=[],g=0;g<o.length;g+=1){var h=o[g];this._log('\nPattern: "'+h.pattern+'"');for(var y=!1,v=0;v<_.length;v+=1){var b=_[v],x=h.search(b),k={};x.isMatch?(k[b]=x.score,y=d=!0,m.push(x.score)):(k[b]=1,this.options.matchAllTokens||m.push(1)),this._log('Token: "'+b+'", score: '+k[b])}y&&(f+=1)}for(var p=m[0],S=m.length,T=1;T<S;T+=1)p+=m[T];this._log("Token score average:",p/=S)}var e=t.score,C=(this._log("Score average:",e=-1<p?(e+p)/2:e),!this.options.tokenize||!this.options.matchAllTokens||f>=o.length);this._log("\nCheck Matches: "+C),(d||t.isMatch)&&C&&((C=l[s])?C.output.push({key:r,arrayIndex:n,value:i,score:e,matchedIndices:t.matchedIndices}):(l[s]={item:a,output:[{key:r,arrayIndex:n,value:i,score:e,matchedIndices:t.matchedIndices}]},u.push(l[s])))}else if(A(i))for(var E=0,D=i.length;E<D;E+=1)this._analyze({key:r,arrayIndex:E,value:i[E],record:a,index:s},{resultMap:l,results:u,tokenSearchers:o,fullSearcher:c})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var r=0,n=t.length;r<n;r+=1){for(var i=t[r].output,a=i.length,s=0,o=1,c=0;c<a;c+=1){var l=e?e[i[c].key].weight:1,u=(1===l?i[c].score:i[c].score||.001)*l;1!==l?o=Math.min(o,u):s+=i[c].nScore=u}t[r].score=1===o?s/a:o,this._log(t[r])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[],r=(this._log("\n\nOutput:\n\n",JSON.stringify(e)),[]);this.options.includeMatches&&r.push(function(e,t){var r=e.output;t.matches=[];for(var n=0,i=r.length;n<i;n+=1){var a,s=r[n];0!==s.matchedIndices.length&&(a={indices:s.matchedIndices,value:s.value},s.key&&(a.key=s.key),s.hasOwnProperty("arrayIndex")&&-1<s.arrayIndex&&(a.arrayIndex=s.arrayIndex),t.matches.push(a))}}),this.options.includeScore&&r.push(function(e,t){t.score=e.score});for(var n=0,i=e.length;n<i;n+=1){var a=e[n];if(this.options.id&&(a.item=this.options.getFn(a.item,this.options.id)[0]),r.length){for(var s={item:a.item},o=0,c=r.length;o<c;o+=1)r[o](a,s);t.push(s)}else t.push(a.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}]),b);function b(e,t){var r=t.location,r=void 0===r?0:r,n=t.distance,n=void 0===n?100:n,i=t.threshold,i=void 0===i?.6:i,a=t.maxPatternLength,a=void 0===a?32:a,s=t.caseSensitive,s=void 0!==s&&s,o=t.tokenSeparator,o=void 0===o?/ +/g:o,c=t.findAllMatches,c=void 0!==c&&c,l=t.minMatchCharLength,l=void 0===l?1:l,u=t.id,u=void 0===u?null:u,d=t.keys,d=void 0===d?[]:d,p=t.shouldSort,p=void 0===p||p,f=t.getFn,f=void 0===f?v:f,_=t.sortFn,_=void 0===_?function(e,t){return e.score-t.score}:_,m=t.tokenize,m=void 0!==m&&m,g=t.matchAllTokens,g=void 0!==g&&g,h=t.includeMatches,h=void 0!==h&&h,y=t.includeScore,y=void 0!==y&&y,t=t.verbose,t=void 0!==t&&t;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.options={location:r,distance:n,threshold:i,maxPatternLength:a,isCaseSensitive:s,tokenSeparator:o,findAllMatches:c,minMatchCharLength:l,id:u,keys:d,includeMatches:h,includeScore:y,shouldSort:p,getFn:f,sortFn:_,verbose:t,tokenize:m,matchAllTokens:g},this.setCollection(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=r}],i={},n.m=r,n.c=i,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8);function n(e){var t;return(i[e]||(t=i[e]={i:e,l:!1,exports:{}},r[e].call(t.exports,t,t.exports,n),t.l=!0,t)).exports}var r,i}),(()=>{function N(e,t){postMessage({action:Ne,cbn:t,result:e})}function m(e){var t=[];return t[e-1]=void 0,t}function h(e,t){return r(e[0]+t[0],e[1]+t[1])}function I(e,t){return r=~~Math.max(Math.min(e[1]/s,2147483647),-2147483648)&~~Math.max(Math.min(t[1]/s,2147483647),-2147483648),(e=e=b(e)&b(t))<0&&(e+=s),[e,r*s];var r}function y(e,t){var r,n;return e[0]==t[0]&&e[1]==t[1]?0:(r=e[1]<0,n=t[1]<0,r&&!n||(r||!n)&&L(e,t)[1]<0?-1:1)}function r(e,t){var r,n;for(e%=0x10000000000000000,t=(t%=0x10000000000000000)-(r=t%s)+(n=Math.floor(e/s)*s),e=e-n+r;e<0;)e+=s,t-=s;for(;4294967295<e;)e-=s,t+=s;for(t%=0x10000000000000000;0x7fffffff00000000<t;)t-=0x10000000000000000;for(;t<-0x8000000000000000;)t+=0x10000000000000000;return[e,t]}function P(e,t){return e[0]==t[0]&&e[1]==t[1]}function v(e){return 0<=e?[e,0]:[e+s,-s]}function b(e){return 2147483648<=e[0]?~~Math.max(Math.min(e[0]-s,2147483647),-2147483648):~~Math.max(Math.min(e[0],2147483647),-2147483648)}function n(e){return e<=30?1<<e:n(30)*n(e-30)}function O(e,t){var r;if(t&=63,P(e,Ie))return t?w:e;if(e[1]<0)throw Error("Neg");return t=n(t),r=e[1]*t%0x10000000000000000,0x8000000000000000<=(r+=t=(e=e[0]*t)-e%s)&&(r-=0x10000000000000000),[e-=t,r]}function F(e,t){t=n(t&=63);return r(Math.floor(e[0]/t),e[1]/t)}function L(e,t){return r(e[0]-t[0],e[1]-t[1])}function R(e,t){return e.Mc=t,e.Lc=0,e.Yb=t.length,e}function l(e){return e.Lc>=e.Yb?-1:255&e.Mc[e.Lc++]}function M(e){return e.Mc=m(32),e.Yb=0,e}function u(e){var t=e.Mc;return t.length=e.Yb,t}function U(e,t){e.Mc[e.Yb++]=t<<24>>24}function B(e,t,r,n){j(t,r,e.Mc,e.Yb,n),e.Yb+=n}function j(e,t,r,n,i){for(var a=0;a<i;++a)r[n+a]=e[t+a]}function K(t,r,n,i,a){var s;if(y(i,A)<0)throw Error("invalid length "+i);t.Tb=i;var o=(e=>{var t;for(e.v=m(4),e.a=[],e.d={},e.C=m(192),e.bb=m(12),e.hb=m(12),e.Ub=m(12),e.vc=m(12),e._=m(192),e.K=[],e.Sb=m(114),e.S=g({},4),e.$=xe({}),e.i=xe({}),e.A={},e.m=[],e.P=[],e.lb=[],e.nc=m(16),e.x=m(4),e.Q=m(4),e.Xb=[w],e.uc=[w],e.Kc=[0],e.fc=m(5),e.yc=m(128),e.vb=0,e.X=1,e.D=0,e.Hb=-1,t=e.mb=0;t<4096;++t)e.a[t]={};for(t=0;t<4;++t)e.K[t]=g({},6);return e})({}),c=o,l=c,u=1<<a.s;l.ab=u;for(var d,p=0;1<<p<u;++p);l.$b=2*p,c.n=a.f,l=a.m,d=(a=c).X,a.X=l,a.b&&d!=a.X&&(a.wb=-1,a.b=null),c.eb=0,c.fb=3,c.Y=2,c.y=3,o.Gc=void 0===e.disableEndMark;var f=o,l=n;f.fc[0]=9*(5*f.Y+f.eb)+f.fb<<24>>24;for(var _=0;_<4;++_)f.fc[1+_]=f.ab>>8*_<<24>>24;for(B(l,f.fc,0,5),s=0;s<64;s+=8)U(n,255&b(F(i,s)));t.yb=(o.W=0,o.oc=r,o.pc=0,(d=o).b||(a={},c=4,d.X||(c=2),((e,t)=>{e.qb=2<t,e.qb?(e.w=0,e.xb=4,e.R=66560):(e.w=2,e.xb=3,e.R=0)})(a,c),d.b=a),((e,t,r)=>{var n,i;if(null==e.V||e.u!=r||e.I!=t)for(e.I=t,e.qc=(1<<t)-1,e.u=r,e.V=m(i=1<<e.u+e.I),n=0;n<i;++n)e.V[n]=(e=>(e.tb=m(768),e))({})})(d.A,d.eb,d.fb),d.ab==d.wb&&d.Hb==d.n||(((e,t,r,n,i)=>{t<1073741567&&(e.Fc=16+(n>>1),((e,t,r,n)=>{t=(e.Bc=t)+(e._b=r)+n,null!=e.c&&e.Kb==t||(e.c=null,e.Kb=t,e.c=m(e.Kb)),e.H=e.Kb-r})(e,t+r,n+i,256+~~((t+r+n+i)/2)),e.ob=n,e.p!=(r=t+1)&&(e.L=m(2*(e.p=r))),i=65536,e.qb&&(i=t-1,16777216<(i=(i=(i=(i=(i|=i>>1)|i>>2)|i>>4)|i>>8)>>1|65535)&&(i>>=1),e.Ec=i,++i,i+=e.R),i!=e.rc)&&(e.ub=m(e.rc=i))})(d.b,d.ab,4096,d.n,274),d.wb=d.ab,d.Hb=d.n),o.d.Ab=n,(e=>{var t=e;t.l=0;for(var r=t.J=0;r<4;++r)t.v[r]=0;var n,i=e.d,a=(i.mc=w,i.xc=w,i.E=-1,i.Jb=1,i.Oc=0,T(e.C),T(e._),T(e.bb),T(e.hb),T(e.Ub),T(e.vc),T(e.Sb),e.A),s=1<<a.u+a.I;for(n=0;n<s;++n)T(a.V[n].tb);for(var o=0;o<4;++o)T(e.K[o].G);ye(e.$,1<<e.Y),ye(e.i,1<<e.Y),T(e.S.G),e.N=0,e.jb=0,e.q=0,e.s=0})(o),de(o),ue(o),o.$.rb=o.n+1-2,ke(o.$,1<<o.Y),o.i.rb=o.n+1-2,ke(o.i,1<<o.Y),o.g=w,l=o,(t={}).cb=l,t.Z=null,t.zc=1,t)}function z(e,t,r){return e.Nb=M({}),K(e,R({},t),e.Nb,v(t.length),r),e}function $(e,t,r){for(var n,i,a,s="",o=[],c=0;c<5;++c){if(-1==(i=l(t)))throw Error("truncated input");o[c]=i<<24>>24}if(!((e,t)=>{var r,n,i,a,s;if(!(t.length<5)){for(i=(s=255&t[0])%9,a=(s=~~(s/9))%5,s=~~(s/5),n=r=0;n<4;++n)r+=(255&t[1+n])<<8*n;return!(99999999<r)&&((e,t,r,n)=>{if(!(8<t||4<r||4<n)){var i=e.gb,a=r,s,o;if(null==i.V||i.u!=t||i.I!=a)for(i.I=a,i.qc=(1<<a)-1,i.u=t,i.V=m(o=1<<i.u+i.I),s=0;s<o;++s)i.V[s]=(e=>(e.Ib=m(768),e))({});return ae(e.Rb,r=1<<n),ae(e.sb,r),e.Dc=r-1,1}})(e,i,a,s)&&((e,t)=>!(t<0)&&(e.Ob!=t&&(e.Ob=t,e.nb=Math.max(e.Ob,1),((e,t)=>{null!=e.Lb&&e.M==t||(e.Lb=m(t)),e.M=t,e.o=0,e.h=0})(e.B,Math.max(e.nb,4096))),1))(e,r)}})(n=(e=>{e.B={},e.e={},e.Gb=m(192),e.Zb=m(12),e.Cb=m(12),e.Db=m(12),e.Eb=m(12),e.pb=m(192),e.kb=m(4),e.kc=m(114),e.Fb=p({},4),e.Rb=oe({}),e.sb=oe({}),e.gb={};for(var t=0;t<4;++t)e.kb[t]=p({},6);return e})({}),o))throw Error("corrupted input");for(c=0;c<64;c+=8){if(-1==(i=l(t)))throw Error("truncated input");s=(i=1==(i=i.toString(16)).length?"0"+i:i)+""+s}/^0+$|^f+$/i.test(s)?e.Tb=A:(a=parseInt(s,16),e.Tb=4294967295<a?A:v(a)),e.yb=(a=r,r=e.Tb,(e=n).e.Ab=t,ie(e.B),e.B.cc=a,(e=>{e.B.h=0,e.B.o=0,T(e.Gb),T(e.pb),T(e.Zb),T(e.Cb),T(e.Db),T(e.Eb),T(e.kc);var t,r,n=e.gb;for(r=1<<n.u+n.I,t=0;t<r;++t)T(n.V[t].Ib);for(var i=0;i<4;++i)T(e.kb[i].G);ce(e.Rb),ce(e.sb),T(e.Fb.G);var a=e.e;a.Bb=0,a.E=-1;for(var s=0;s<5;++s)a.Bb=a.Bb<<8|l(a.Ab)})(e),e.U=0,e.ib=0,e.Jc=0,e.Ic=0,e.Qc=0,e.Nc=r,e.g=w,e.jc=0,((e,t)=>(e.Z=t,e.cb=null,e.zc=1,e))({},e))}function J(e,t){return e.Nb=M({}),$(e,R({},t),e.Nb),e}function q(e,t){return e.c[e.f+e.o+t]}function V(e,t,r,n){var i,a;for(e.T&&e.o+t+n>e.h&&(n=e.h-(e.o+t)),++r,a=e.f+e.o+t,i=0;i<n&&e.c[a+i]==e.c[a+i-r];++i);return i}function H(e){return e.h-e.o}function ee(e){var t,r,n,i;if(!e.T)for(;;){if(!(i=-e.f+e.Kb-e.h))return;if(t=e.cc,r=e.c,n=e.f+e.h,i=i,-1==(r=t.Lc>=t.Yb?-1:(i=Math.min(i,t.Yb-t.Lc),j(t.Mc,t.Lc,r,n,i),t.Lc+=i,i)))return e.zb=e.h,e.H<e.f+e.zb&&(e.zb=e.H-e.f),e.T=1;e.h+=r,e.o+e._b<=e.h&&(e.zb=e.h-e._b)}}function te(e,t){e.f+=t,e.zb-=t,e.o-=t,e.h-=t}function k(e){++e.k>=e.p&&(e.k=0);var t,r=e;if(++r.o,r.zb<r.o){if(t=r.f+r.o,r.H<t){var n,i,a=r,s=a.f+a.o-a.Bc;for(0<s&&--s,i=a.f+a.h-s,n=0;n<i;++n)a.c[n]=a.c[s+n];a.f-=s}ee(r)}1073741823==e.o&&(t=e.o-e.p,re(e.L,2*e.p,t),re(e.ub,e.rc,t),te(e,t))}function re(e,t,r){for(var n,i=0;i<t;++i)(n=e[i]||0)<=r?n=0:n-=r,e[i]=n}function i(e){var t=e.o-e.h;t&&(B(e.cc,e.Lb,e.h,t),e.M<=e.o&&(e.o=0),e.h=e.o)}function ne(e,t){t=e.o-t-1;return t<0&&(t+=e.M),e.Lb[t]}function ie(e){i(e),e.cc=null}function x(e){return(e-=2)<4?e:3}function G(e){return e<4?0:e<10?e-3:e-6}function d(e){if(e.zc){if(e.cb){r=e,((e,t,r,n)=>{var i,a,s,o,c,l,u,d,p,f,_,m;{var g;t[0]=w,r[0]=w,n[0]=1,e.oc&&(e.b.cc=e.oc,(g=e.b).f=0,g.o=0,g.h=0,g.T=0,ee(g),g.k=0,te(g,-1),e.W=1,e.oc=null)}if(!e.pc){if(e.pc=1,P(_=e.g,w)){if(!H(e.b))return pe(e,b(e.g));me(e),f=b(e.g)&e.y,C(e.d,e.C,(e.l<<4)+f,0),e.l=G(e.l),a=q(e.b,-e.s),Se(Y(e.A,b(e.g),e.J),e.d,a),e.J=a,--e.s,e.g=h(e.g,Pe)}if(H(e.b))for(;;){if(l=((e,t)=>{var r,R,M,n,i,a,U,s,o,c,l,u,d,B,p,f,_,j,K,m,g,z,h,y,v,b,x,k,S,T,C,E,$,D,J,A,w,N,I,P,O,F;if(e.jb!=e.q)return L=e.a[e.q].r-e.q,e.mb=e.a[e.q].j,e.q=e.a[e.q].r,L;if(e.q=e.jb=0,e.N?(l=e.vb,e.N=0):l=me(e),v=e.D,(h=H(e.b)+1)<2)return e.mb=-1,1;for(273<h&&(h=273),s=w=0;s<4;++s)e.x[s]=e.v[s],e.Q[s]=V(e.b,-1,e.x[s],273),e.Q[s]>e.Q[w]&&(w=s);if(e.Q[w]>=e.n)return e.mb=w,L=e.Q[w],_e(e,L-1),L;if(e.n<=l)return e.mb=e.m[v-1]+4,_e(e,l-1),l;if(a=q(e.b,-1),p=q(e.b,-e.v[0]-1-1),l<2&&a!=p&&e.Q[w]<2)return e.mb=-1,1;{var L;e.a[0].Hc=e.l,C=t&e.y,e.a[1].z=Z[e.C[(e.l<<4)+C]>>>2]+X(Y(e.A,t,e.J),7<=e.l,p,a),Te(e.a[1]),f=Z[2048-e.C[(e.l<<4)+C]>>>2],A=f+Z[2048-e.bb[e.l]>>>2],p==a&&(N=A+((e,t,r)=>Z[e.hb[t]>>>2]+Z[e._[(t<<4)+r]>>>2])(e,e.l,C),e.a[1].z>N)&&(e.a[1].z=N,(L=e.a[1]).j=0,L.t=0)}if((c=l>=e.Q[w]?l:e.Q[w])<2)return e.mb=e.a[1].j,1;for(e.a[1].r=0,e.a[0].bc=e.x[0],e.a[0].ac=e.x[1],e.a[0].dc=e.x[2],e.a[0].lc=e.x[3],o=c;e.a[o--].z=268435455,2<=o;);for(s=0;s<4;++s)if(!((J=e.Q[s])<2))for($=A+W(e,s,e.l,C);n=$+Q(e.i,J-2,C),(k=e.a[J]).z>n&&(k.z=n,k.r=0,k.j=s,k.t=0),2<=--J;);if(z=f+Z[e.bb[e.l]>>>2],(o=2<=e.Q[0]?e.Q[0]+1:2)<=l){for(b=0;o>e.m[b];)b+=2;for(;U=e.m[b+1],n=z+fe(e,U,o,C),(k=e.a[o]).z>n&&(k.z=n,k.r=0,k.j=U+4,k.t=0),o!=e.m[b]||(b+=2)!=v;++o);}for(r=0;;){if(++r==c)return le(e,r);if(_=me(e),v=e.D,e.n<=_)return e.vb=_,e.N=1,le(e,r);if(++t,T=e.a[r].r,P=e.a[r].t?(--T,G(P=e.a[r].Ac?(P=e.a[e.a[r].r2].Hc,e.a[r].j2<4?P<7?8:11:P<7?7:10):e.a[T].Hc)):e.a[T].Hc,T==r-1?P=e.a[r].j?G(P):P<7?9:11:(P=e.a[r].t&&e.a[r].Ac?(T=e.a[r].r2,S=e.a[r].j2,P<7?8:11):(S=e.a[r].j)<4?P<7?8:11:P<7?7:10,T=e.a[T],S<4?S?1==S?(e.x[0]=T.ac,e.x[1]=T.bc,e.x[2]=T.dc,e.x[3]=T.lc):2==S?(e.x[0]=T.dc,e.x[1]=T.bc,e.x[2]=T.ac,e.x[3]=T.lc):(e.x[0]=T.lc,e.x[1]=T.bc,e.x[2]=T.ac,e.x[3]=T.dc):(e.x[0]=T.bc,e.x[1]=T.ac,e.x[2]=T.dc,e.x[3]=T.lc):(e.x[0]=S-4,e.x[1]=T.bc,e.x[2]=T.ac,e.x[3]=T.dc)),e.a[r].Hc=P,e.a[r].bc=e.x[0],e.a[r].ac=e.x[1],e.a[r].dc=e.x[2],e.a[r].lc=e.x[3],T=e.a[r].z,a=q(e.b,-1),p=q(e.b,-e.x[0]-1-1),R=T+Z[e.C[(P<<4)+(C=t&e.y)]>>>2]+X(Y(e.A,t,q(e.b,-2)),7<=P,p,a),m=e.a[r+1],j=0,m.z>R&&(m.z=R,m.r=r,m.j=-1,m.t=0,j=1),f=T+Z[2048-e.C[(P<<4)+C]>>>2],A=f+Z[2048-e.bb[P]>>>2],p!=a||r>m.r&&!m.j||(N=A+(Z[e.hb[P]>>>2]+Z[e._[(P<<4)+C]>>>2]),m.z>=N&&(m.z=N,m.r=r,m.j=0,m.t=0,j=1)),y=H(e.b)+1,!((h=y=4095-r<y?4095-r:y)<2)){if(h>e.n&&(h=e.n),!j&&p!=a&&(F=Math.min(y-1,e.n),2<=(d=V(e.b,0,e.x[0],F)))){for(O=G(P),E=t+1&e.y,g=R+Z[2048-e.C[(O<<4)+E]>>>2]+Z[2048-e.bb[O]>>>2],x=r+1+d;c<x;)e.a[++c].z=268435455;n=g+(Q(e.i,d-2,E)+W(e,0,O,E)),(k=e.a[x]).z>n&&(k.z=n,k.r=r+1,k.j=0,k.t=1,k.Ac=0)}for(I=2,D=0;D<4;++D)if(!((u=V(e.b,-1,e.x[D],h))<2)){B=u;do{for(;c<r+u;)e.a[++c].z=268435455}while(n=A+(Q(e.i,u-2,C)+W(e,D,P,C)),(k=e.a[r+u]).z>n&&(k.z=n,k.r=r,k.j=D,k.t=0),2<=--u);if(u=B,D||(I=u+1),u<y&&(F=Math.min(y-1-u,e.n),2<=(d=V(e.b,u,e.x[D],F)))){for(O=P<7?8:11,E=t+u&e.y,M=A+(Q(e.i,u-2,C)+W(e,D,P,C))+Z[e.C[(O<<4)+E]>>>2]+X(Y(e.A,t+u,q(e.b,u-1-1)),1,q(e.b,u-1-(e.x[D]+1)),q(e.b,u-1)),O=G(O),K=M+Z[2048-e.C[(O<<4)+(E=t+u+1&e.y)]>>>2],g=K+Z[2048-e.bb[O]>>>2],x=u+1+d;c<r+x;)e.a[++c].z=268435455;n=g+(Q(e.i,d-2,E)+W(e,0,O,E)),(k=e.a[r+x]).z>n&&(k.z=n,k.r=r+u+1,k.j=0,k.t=1,k.Ac=1,k.r2=r,k.j2=D)}}if(h<_){for(_=h,v=0;_>e.m[v];v+=2);e.m[v]=_,v+=2}if(I<=_){for(z=f+Z[e.bb[P]>>>2];c<r+_;)e.a[++c].z=268435455;for(b=0;I>e.m[b];)b+=2;for(u=I;;++u)if(i=e.m[b+1],n=z+fe(e,i,u,C),(k=e.a[r+u]).z>n&&(k.z=n,k.r=r,k.j=i+4,k.t=0),u==e.m[b]){if(u<y&&(F=Math.min(y-1-u,e.n),2<=(d=V(e.b,u,i,F)))){for(O=P<7?7:10,E=t+u&e.y,M=n+Z[e.C[(O<<4)+E]>>>2]+X(Y(e.A,t+u,q(e.b,u-1-1)),1,q(e.b,u-(i+1)-1),q(e.b,u-1)),O=G(O),K=M+Z[2048-e.C[(O<<4)+(E=t+u+1&e.y)]>>>2],g=K+Z[2048-e.bb[O]>>>2],x=u+1+d;c<r+x;)e.a[++c].z=268435455;n=g+(Q(e.i,d-2,E)+W(e,0,O,E)),(k=e.a[r+x]).z>n&&(k.z=n,k.r=r+u+1,k.j=0,k.t=1,k.Ac=1,k.r2=r,k.j2=i+4)}if((b+=2)==v)break}}}}})(e,b(e.g)),d=e.mb,f=b(e.g)&e.y,o=(e.l<<4)+f,1==l&&-1==d)C(e.d,e.C,o,0),a=q(e.b,-e.s),m=Y(e.A,b(e.g),e.J),e.l<7?Se(m,e.d,a):(u=q(e.b,-e.v[0]-1-e.s),((e,t,r,n)=>{var i,a,s,o,c=1,l=1;for(a=7;0<=a;--a)i=n>>a&1,o=l,c&&(o+=1+(s=r>>a&1)<<8,c=s==i),C(t,e.tb,o,i),l=l<<1|i})(m,e.d,u,a)),e.J=a,e.l=G(e.l);else{if(C(e.d,e.C,o,1),d<4){if(C(e.d,e.bb,e.l,1),d?(C(e.d,e.hb,e.l,1),1==d?C(e.d,e.Ub,e.l,0):(C(e.d,e.Ub,e.l,1),C(e.d,e.vc,e.l,d-2))):(C(e.d,e.hb,e.l,0),C(e.d,e._,o,1==l?0:1)),1==l?e.l=e.l<7?9:11:(be(e.i,e.d,l-2,f),e.l=e.l<7?8:11),s=e.v[d],0!=d){for(c=d;1<=c;--c)e.v[c]=e.v[c-1];e.v[0]=s}}else{for(C(e.d,e.bb,e.l,0),e.l=e.l<7?7:10,be(e.$,e.d,l-2,f),m=he(d-=4),u=x(l),S(e.K[u],e.d,m),4<=m&&(p=d-(i=(2|1&m)<<(o=(m>>1)-1)),m<14?((e,t,r,n,i)=>{var a,s,o=1;for(s=0;s<n;++s)C(r,e,t+o,a=1&i),o=o<<1|a,i>>=1})(e.Sb,i-m-1,e.d,o,p):(Ee(e.d,p>>4,o-4),Ce(e.S,e.d,15&p),++e.Qb)),s=d,c=3;1<=c;--c)e.v[c]=e.v[c-1];e.v[0]=s,++e.Mb}e.J=q(e.b,l-1-e.s)}if(e.s-=l,e.g=h(e.g,v(l)),!e.s){if(128<=e.Mb&&de(e),16<=e.Qb&&ue(e),t[0]=e.g,r[0]=(e=>h(h(v(e.Jb),e.mc),[4,0]))(e.d),!H(e.b))return pe(e,b(e.g));if(0<=y(L(e.g,_),[4096,0]))return e.pc=0,n[0]=0}}else pe(e,b(e.g))}})(r.cb,r.cb.Xb,r.cb.uc,r.cb.Kc),r.Pb=r.cb.Xb[0];if(r.cb.Kc[0]){{var t=r.cb;ge(t),t.d.Ab=null}r.zc=0}}else{t=e;r=(e=>{var t;if(t=b(e.g)&e.Dc,c(e.e,e.Gb,(e.U<<4)+t)){if(c(e.e,e.Zb,e.U))n=0,c(e.e,e.Cb,e.U)?(c(e.e,e.Db,e.U)?(c(e.e,e.Eb,e.U)?(r=e.Qc,e.Qc=e.Ic):r=e.Ic,e.Ic=e.Jc):r=e.Jc,e.Jc=e.ib,e.ib=r):c(e.e,e.pb,(e.U<<4)+t)||(e.U=e.U<7?9:11,n=1),n||(n=se(e.sb,e.e,t)+2,e.U=e.U<7?8:11);else if(e.Qc=e.Ic,e.Ic=e.Jc,e.Jc=e.ib,n=2+se(e.Rb,e.e,t),e.U=e.U<7?7:10,4<=(r=a(e.kb[x(n)],e.e))){if(t=(r>>1)-1,e.ib=(2|1&r)<<t,r<14)e.ib+=((e,t,r,n)=>{var i,a,s=1,o=0;for(a=0;a<n;++a)i=c(r,e,t+s),s=(s<<1)+i,o|=i<<a;return o})(e.kc,e.ib-r-1,e.e,t);else if(e.ib+=((e,t)=>{var r,n,i=0;for(r=t;0!=r;--r)e.E>>>=1,e.Bb-=e.E&(n=e.Bb-e.E>>>31)-1,i=i<<1|1-n,-16777216&e.E||(e.Bb=e.Bb<<8|l(e.Ab),e.E<<=8);return i})(e.e,t-4)<<4,e.ib+=((e,t)=>{var r,n,i=1,a=0;for(n=0;e.F>n;++n)r=c(t,e.G,i),i=(i<<1)+r,a|=r<<n;return a})(e.Fb,e.e),e.ib<0)return-1==e.ib?1:-1}else e.ib=r;if(0<=y(v(e.ib),e.g)||e.ib>=e.nb)return-1;((e,t,r)=>{var n=e.o-t-1;for(n<0&&(n+=e.M);0!=r;--r)n>=e.M&&(n=0),e.Lb[e.o++]=e.Lb[n++],e.M<=e.o&&i(e)})(e.B,e.ib,n),e.g=h(e.g,v(n)),e.jc=ne(e.B,0)}else{t=((e,t,r)=>e.V[((t&e.qc)<<e.u)+((255&r)>>>8-e.u)])(e.gb,b(e.g),e.jc),e.jc=e.U<7?((e,t)=>{for(var r=1;(r=r<<1|c(t,e.Ib,r))<256;);return r<<24>>24})(t,e.e):((e,t,r)=>{var n,i,a=1;do{if(i=r>>7&1,r<<=1,n=c(t,e.Ib,(1+i<<8)+a),a=a<<1|n,i!=n){for(;a<256;)a=a<<1|c(t,e.Ib,a);break}}while(a<256);return a<<24>>24})(t,e.e,ne(e.B,e.ib));{var r=e.B;var n=e.jc;r.Lb[r.o++]=n,r.M<=r.o&&i(r)}e.U=G(e.U),e.g=h(e.g,Pe)}return 0})(t.Z);if(-1==r)throw Error("corrupted input");t.Pb=A,t.Pc=t.Z.g,(r||0<=y(t.Z.Nc,w)&&0<=y(t.Z.g,t.Z.Nc))&&(i(t.Z.B),ie(t.Z.B),t.Z.e.Ab=null,t.zc=0)}return e.zc}throw Error("bad state");var r}function ae(e,t){for(;t>e.O;++e.O)e.ec[e.O]=p({},3),e.hc[e.O]=p({},3)}function se(e,t,r){return c(t,e.wc,0)?8+(c(t,e.wc,1)?8+a(e.tc,t):a(e.hc[r],t)):a(e.ec[r],t)}function oe(e){return e.wc=m(2),e.ec=m(16),e.hc=m(16),e.tc=p({},8),e.O=0,e}function ce(e){T(e.wc);for(var t=0;e.O>t;++t)T(e.ec[t].G),T(e.hc[t].G);T(e.tc.G)}function le(e,t){var r,n,i,a;for(e.jb=t,i=e.a[t].r,n=e.a[t].j;e.a[t].t&&(Te(e.a[i]),e.a[i].r=i-1,e.a[t].Ac)&&(e.a[i-1].t=0,e.a[i-1].r=e.a[t].r2,e.a[i-1].j=e.a[t].j2),a=i,r=n,n=e.a[a].j,i=e.a[a].r,e.a[a].j=r,e.a[a].r=t,0<(t=a););return e.mb=e.a[0].j,e.q=e.a[0].r}function ue(e){for(var t=0;t<16;++t)e.nc[t]=((e,t)=>{var r,n,i=1,a=0;for(n=e.F;0!=n;--n)r=1&t,t>>>=1,a+=_(e.G[i],r),i=i<<1|r;return a})(e.S,t);e.Qb=0}function de(e){for(var t,r,n,i,a,s,o,c=4;c<128;++c)a=he(c),e.yc[c]=((e,t,r,n)=>{var i,a,s=1,o=0;for(a=r;0!=a;--a)i=1&n,n>>>=1,o+=Z[(2047&(e[t+s]-i^-i))>>>2],s=s<<1|i;return o})(e.Sb,(t=(2|1&a)<<(n=(a>>1)-1))-a-1,n,c-t);for(i=0;i<4;++i){for(r=e.K[i],s=i<<6,a=0;e.$b>a;++a)e.P[s+a]=f(r,a);for(a=14;e.$b>a;++a)e.P[s+a]+=(a>>1)-1-4<<6;for(o=128*i,c=0;c<4;++c)e.lb[o+c]=e.P[s+c];for(;c<128;++c)e.lb[o+c]=e.P[s+he(c)]+e.yc[c]}e.Mb=0}function pe(e,t){var r;ge(e),r=t&(t=e).y,t.Gc&&(C(t.d,t.C,(t.l<<4)+r,1),C(t.d,t.bb,t.l,0),t.l=t.l<7?7:10,be(t.$,t.d,0,r),r=x(2),S(t.K[r],t.d,63),Ee(t.d,67108863,26),Ce(t.S,t.d,15));for(var n=0;n<5;++n)De(e.d)}function fe(e,t,r,n){var i=x(r);return(t<128?e.lb[128*i+t]:e.P[(i<<6)+((i=t)<131072?o[i>>6]+12:i<134217728?o[i>>16]+32:o[i>>26]+52)]+e.nc[15&t])+Q(e.$,r-2,n)}function W(e,t,r,n){var i;return t?(i=Z[2048-e.hb[r]>>>2],1==t?i+=Z[e.Ub[r]>>>2]:i=(i+=Z[2048-e.Ub[r]>>>2])+_(e.vc[r],t-2)):(i=Z[e.hb[r]>>>2],i+=Z[2048-e._[(r<<4)+n]>>>2]),i}function _e(e,t){if(0<t){var r,n,i,a,s,o,c,l,u,d,p,f,_,m=e.b,g=t;do{if(m.h>=m.o+m.ob)l=m.ob;else if((l=m.h-m.o)<m.xb){k(m);continue}for(u=m.p<m.o?m.o-m.p:0,n=m.f+m.o,_=m.qb?(_=Oe[255&m.c[n]]^255&m.c[n+1],m.ub[1023&_]=m.o,_^=(255&m.c[n+2])<<8,m.ub[1024+(65535&_)]=m.o,(_^Oe[255&m.c[n+3]]<<5)&m.Ec):255&m.c[n]^(255&m.c[n+1])<<8,i=m.ub[m.R+_],m.ub[m.R+_]=m.o,p=1+(m.k<<1),f=m.k<<1,o=c=m.w,r=m.Fc;;){if(i<=u||0==r--){m.L[p]=m.L[f]=0;break}if(a=((a=m.o-i)<=m.k?m.k-a:m.k-a+m.p)<<1,m.c[(d=m.f+i)+(s=o<c?o:c)]==m.c[n+s]){for(;++s!=l&&m.c[d+s]==m.c[n+s];);if(s==l){m.L[f]=m.L[a],m.L[p]=m.L[1+a];break}}(255&m.c[n+s])>(255&m.c[d+s])?(m.L[f]=i,i=m.L[f=1+a],c=s):(m.L[p]=i,i=m.L[p=a],o=s)}k(m)}while(0!=--g);e.s+=t}}function me(e){var t=0;return e.D=((e,t)=>{var r,n,i,a,s,o,c,l,u,d,p,f,_,m,g,h,y,v,b,x;if(e.h>=e.o+e.ob)_=e.ob;else if((_=e.h-e.o)<e.xb)return k(e),0;for(m=e.p<e.o?e.o-e.p:0,n=e.f+e.o,g=1,u=l=h=0,x=e.qb?(l=1023&(x=Oe[255&e.c[n]]^255&e.c[n+1]),u=65535&(x^=(255&e.c[n+2])<<8),(x^Oe[255&e.c[n+3]]<<5)&e.Ec):255&e.c[n]^(255&e.c[n+1])<<8,i=e.ub[e.R+x]||0,e.qb&&(a=e.ub[l]||0,s=e.ub[1024+u]||0,e.ub[l]=e.o,e.ub[1024+u]=e.o,m<a&&e.c[e.f+a]==e.c[n]&&(t[h++]=g=2,t[h++]=e.o-a-1),m<s&&e.c[e.f+s]==e.c[n]&&(s==a&&(h-=2),t[h++]=g=3,t[h++]=e.o-s-1,a=s),0!=h)&&a==i&&(h-=2,g=1),e.ub[e.R+x]=e.o,v=1+(e.k<<1),b=e.k<<1,0!=(p=f=e.w)&&m<i&&e.c[e.f+i+e.w]!=e.c[n+e.w]&&(t[h++]=g=e.w,t[h++]=e.o-i-1),r=e.Fc;;){if(i<=m||0==r--){e.L[v]=e.L[b]=0;break}if(o=((c=e.o-i)<=e.k?e.k-c:e.k-c+e.p)<<1,e.c[(y=e.f+i)+(d=p<f?p:f)]==e.c[n+d]){for(;++d!=_&&e.c[y+d]==e.c[n+d];);if(g<d&&(t[h++]=g=d,t[h++]=c-1,d==_)){e.L[b]=e.L[o],e.L[v]=e.L[1+o];break}}(255&e.c[n+d])>(255&e.c[y+d])?(e.L[b]=i,i=e.L[b=1+o],f=d):(e.L[v]=i,i=e.L[v=o],p=d)}return k(e),h})(e.b,e.m),0<e.D&&(t=e.m[e.D-2])==e.n&&(t+=V(e.b,t-1,e.m[e.D-1],273-t)),++e.s,t}function ge(e){e.b&&e.W&&(e.b.cc=null,e.W=0)}function he(e){return e<2048?o[e]:e<2097152?o[e>>10]+20:o[e>>20]+40}function ye(e,t){T(e.db);for(var r=0;r<t;++r)T(e.Vb[r].G),T(e.Wb[r].G);T(e.ic.G)}function ve(e,t,r,n,i){var a=Z[e.db[0]>>>2],s=Z[2048-e.db[0]>>>2],o=s+Z[e.db[1]>>>2],c=s+Z[2048-e.db[1]>>>2],l=0;for(l=0;l<8;++l){if(r<=l)return;n[i+l]=a+f(e.Vb[t],l)}for(;l<16;++l){if(r<=l)return;n[i+l]=o+f(e.Wb[t],l-8)}for(;l<r;++l)n[i+l]=c+f(e.ic,l-8-8)}function be(e,t,r,n){var i,a;i=e,t=t,a=n,(r=r)<8?(C(t,i.db,0,0),S(i.Vb[a],t,r)):(r-=8,C(t,i.db,0,1),r<8?(C(t,i.db,1,0),S(i.Wb[a],t,r)):(C(t,i.db,1,1),S(i.ic,t,r-8))),0==--e.sc[n]&&(ve(e,n,e.rb,e.Cc,272*n),e.sc[n]=e.rb)}function xe(e){var t=e;t.db=m(2),t.Vb=m(16),t.Wb=m(16),t.ic=g({},8);for(var r=0;r<16;++r)t.Vb[r]=g({},3),t.Wb[r]=g({},3);return e.Cc=[],e.sc=[],e}function Q(e,t,r){return e.Cc[272*r+t]}function ke(e,t){for(var r=0;r<t;++r)ve(e,r,e.rb,e.Cc,272*r),e.sc[r]=e.rb}function Y(e,t,r){return e.V[((t&e.qc)<<e.u)+((255&r)>>>8-e.u)]}function Se(e,t,r){for(var n,i=1,a=7;0<=a;--a)C(t,e.tb,i,n=r>>a&1),i=i<<1|n}function X(e,t,r,n){var i,a,s=1,o=7,c=0;if(t)for(;0<=o;--o)if(c+=_(e.tb[(1+(a=r>>o&1)<<8)+s],i=n>>o&1),s=s<<1|i,a!=i){--o;break}for(;0<=o;--o)c+=_(e.tb[s],i=n>>o&1),s=s<<1|i;return c}function Te(e){e.j=-1,e.t=0}function p(e,t){return e.F=t,e.G=m(1<<t),e}function a(e,t){for(var r=1,n=e.F;0!=n;--n)r=(r<<1)+c(t,e.G,r);return r-(1<<e.F)}function g(e,t){return e.F=t,e.G=m(1<<t),e}function S(e,t,r){for(var n,i=1,a=e.F;0!=a;)C(t,e.G,i,n=r>>>--a&1),i=i<<1|n}function f(e,t){for(var r,n=1,i=0,a=e.F;0!=a;)i+=_(e.G[n],r=t>>>--a&1),n=(n<<1)+r;return i}function Ce(e,t,r){for(var n,i=1,a=0;e.F>a;++a)C(t,e.G,i,n=1&r),i=i<<1|n,r>>=1}function c(e,t,r){var n=t[r],i=(e.E>>>11)*n;return(-2147483648^e.Bb)<(-2147483648^i)?(e.E=i,t[r]=n+(2048-n>>>5)<<16>>16,-16777216&e.E||(e.Bb=e.Bb<<8|l(e.Ab),e.E<<=8),0):(e.E-=i,e.Bb-=i,t[r]=n-(n>>>5)<<16>>16,-16777216&e.E||(e.Bb=e.Bb<<8|l(e.Ab),e.E<<=8),1)}function T(e){for(var t=e.length-1;0<=t;--t)e[t]=1024}function C(e,t,r,n){var i=t[r],a=(e.E>>>11)*i;n?(e.xc=h(e.xc,I(v(a),[4294967295,0])),e.E-=a,t[r]=i-(i>>>5)<<16>>16):(e.E=a,t[r]=i+(2048-i>>>5)<<16>>16),-16777216&e.E||(e.E<<=8,De(e))}function Ee(e,t,r){for(var n=r-1;0<=n;--n)e.E>>>=1,1==(t>>>n&1)&&(e.xc=h(e.xc,v(e.E))),-16777216&e.E||(e.E<<=8,De(e))}function De(e){var t,r,n,i,a=b((r=e.xc,n=32,i=F(r,n&=63),i=r[1]<0?h(i,O([2,0],63-n)):i));if(0!=a||y(e.xc,[4278190080,0])<0){for(e.mc=h(e.mc,v(e.Jb)),t=e.Oc;U(e.Ab,t+a),t=255,0!=--e.Jb;);e.Oc=b(e.xc)>>>24}++e.Jb,e.xc=O(I(e.xc,[16777215,0]),8)}function _(e,t){return Z[(2047&(e-t^-t))>>>2]}function Ae(e){for(var t,r,n,i=0,a=0,s=e.length,o=[],c=[];i<s;++i,++a){if(128&(t=255&e[i]))if(192==(224&t)){if(s<=i+1)return e;if(128!=(192&(r=255&e[++i])))return e;c[a]=(31&t)<<6|63&r}else{if(224!=(240&t))return e;if(s<=i+2)return e;if(128!=(192&(r=255&e[++i])))return e;if(128!=(192&(n=255&e[++i])))return e;c[a]=(15&t)<<12|(63&r)<<6|63&n}else{if(!t)return e;c[a]=t}16383==a&&(o.push(String.fromCharCode.apply(String,c)),a=-1)}return 0<a&&(c.length=a,o.push(String.fromCharCode.apply(String,c))),o.join("")}function we(e){var t,r,n,i=[],a=0,s=e.length;if("object"==typeof e)return e;for(var o=e,c=s,l=i,u=0,d=0;d<c;++d)l[u++]=o.charCodeAt(d);for(n=0;n<s;++n)1<=(t=i[n])&&t<=127?++a:a+=!t||128<=t&&t<=2047?2:3;for(r=[],n=a=0;n<s;++n)1<=(t=i[n])&&t<=127?r[a++]=t<<24>>24:(!t||128<=t&&t<=2047?r[a++]=(192|t>>6&31)<<24>>24:(r[a++]=(224|t>>12&15)<<24>>24,r[a++]=(128|t>>6&63)<<24>>24),r[a++]=(128|63&t)<<24>>24);return r}function E(e){return e[1]+e[0]}var t,Ne=3,D="function"==typeof setImmediate?setImmediate:setTimeout,s=4294967296,A=[4294967295,-s],Ie=[0,-0x8000000000000000],w=[0,0],Pe=[1,0],Oe=(()=>{for(var e,t,r=[],n=0;n<256;++n){for(t=n,e=0;e<8;++e)0!=(1&t)?t=t>>>1^-306674912:t>>>=1;r[n]=t}return r})(),o=(()=>{for(var e,t,r=2,n=[0,1],i=2;i<22;++i)for(t=1<<(i>>1)-1,e=0;e<t;++e,++r)n[r]=i<<24>>24;return n})(),Z=(()=>{for(var e,t,r=[],n=8;0<=n;--n)for(e=1<<9-n,t=1<<9-n-1;t<e;++t)r[t]=(n<<6)+(e-t<<6>>>9-n-1);return r})(),Fe=(t=[{s:16,f:64,m:0},{s:20,f:64,m:0},{s:19,f:64,m:1},{s:20,f:64,m:1},{s:21,f:128,m:1},{s:22,f:128,m:1},{s:23,f:128,m:1},{s:24,f:255,m:1},{s:25,f:255,m:1}],function(e){return t[e-1]||t[6]});return"undefined"==typeof onmessage||"undefined"!=typeof window&&void 0!==window.document||(onmessage=function(t){t&&t.gc&&(2==t.gc.action?e.decompress(t.gc.gc,t.gc.cbn):1==t.gc.action&&e.compress(t.gc.gc,t.gc.Rc,t.gc.cbn))}),{compress:function(e,t,n,i){var a,r,s={},o=void 0===n&&void 0===i;if("function"!=typeof n&&(r=n,n=i=0),i=i||function(e){return void 0!==r?N(e,r):void 0},n=n||function(e,t){return void 0!==r?postMessage({action:1,cbn:r,result:e,error:t}):void 0},o){for(s.c=z({},we(e),Fe(t));d(s.c.yb););return u(s.c.Nb)}try{s.c=z({},we(e),Fe(t)),i(0)}catch(e){return n(null,e)}D(function e(){try{for(var t,r=(new Date).getTime();d(s.c.yb);)if(a=E(s.c.yb.Pb)/E(s.c.Tb),200<(new Date).getTime()-r)return i(a),D(e,0),0;i(1),t=u(s.c.Nb),D(n.bind(null,t),0)}catch(e){n(null,e)}},0)},decompress:function(e,i,a){var s,r,o,c,l={},t=void 0===i&&void 0===a;if("function"!=typeof i&&(r=i,i=a=0),a=a||function(e){return void 0!==r?N(o?e:-1,r):void 0},i=i||function(e,t){return void 0!==r?postMessage({action:2,cbn:r,result:e,error:t}):void 0},t){for(l.d=J({},e);d(l.d.yb););return Ae(u(l.d.Nb))}try{l.d=J({},e),c=E(l.d.Tb),o=-1<c,a(0)}catch(e){return i(null,e)}D(function e(){try{for(var t,r=0,n=(new Date).getTime();d(l.d.yb);)if(++r%1e3==0&&200<(new Date).getTime()-n)return o&&(s=E(l.d.yb.Z.g)/c,a(s)),D(e,0),0;a(1),t=Ae(u(l.d.Nb)),D(i.bind(null,t),0)}catch(e){i(null,e)}},0)}}})()),pxt,pxt,pxt,pxt,pxt,pxt,ts,pxtc=(this.LZMA=this.LZMA_WORKER=e,((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).DOMPurify=t()})(this,function(){var n=Object.hasOwnProperty,a=Object.setPrototypeOf,s=Object.isFrozen,he=Object.keys,ye=Object.freeze,e=Object.seal,i=Object.create,t="undefined"!=typeof Reflect&&Reflect,o=(o=t.apply)||function(e,t,r){return e.apply(t,r)},ye=ye||function(e){return e},e=e||function(e){return e},c=(c=t.construct)||function(e,t){return new(Function.prototype.bind.apply(e,[null].concat((e=>{if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)})(t))))},ve=r(Array.prototype.forEach),be=r(Array.prototype.indexOf),xe=r(Array.prototype.join),ke=r(Array.prototype.pop),Se=r(Array.prototype.push),Te=r(Array.prototype.slice),Ce=r(String.prototype.toLowerCase),Ee=r(String.prototype.match),De=r(String.prototype.replace),$e=r(String.prototype.indexOf),Je=r(String.prototype.trim),Ae=r(RegExp.prototype.test),qe=l(RegExp),we=l(TypeError);function r(i){return function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return o(i,e,r)}}function l(n){return function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return c(n,t)}}function Ne(e,t){a&&a(e,null);for(var r=t.length;r--;){var n,i=t[r];"string"==typeof i&&(n=Ce(i))!==i&&(s(t)||(t[r]=n),i=n),e[i]=!0}return e}function Ie(e){var t=i(null),r=void 0;for(r in e)o(n,e,[r])&&(t[r]=e[r]);return t}var Pe=ye(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Oe=ye(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),Fe=ye(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Le=ye(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Re=ye(["#text"]),Me=ye(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),Ue=ye(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Be=ye(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),je=ye(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ve=e(/\{\{[\s\S]*|[\s\S]*\}\}/gm),He=e(/<%[\s\S]*|[\s\S]*%>/gm),Ge=e(/^data-[\-\w.\u00B7-\uFFFF]/),We=e(/^aria-[\-\w]+$/),Qe=e(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ye=e(/^(?:\w+script|data):/i),Xe=e(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function ze(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}return function L(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,l=function(e){return L(e)};if(l.version="2.0.17",l.removed=[],o&&o.document&&9===o.document.nodeType){var c=o.document,R=!1,a=o.document,M=o.DocumentFragment,e=o.HTMLTemplateElement,u=o.Node,t=o.NodeFilter,r=o.NamedNodeMap,U=void 0===r?o.NamedNodeMap||o.MozNamedAttrMap:r,B=o.Text,j=o.Comment,K=o.DOMParser,r=o.trustedTypes,d=("function"==typeof e&&(e=a.createElement("template")).content&&e.content.ownerDocument&&(a=e.content.ownerDocument),((e,t)=>{if("object"!==(void 0===e?"undefined":Ke(e))||"function"!=typeof e.createPolicy)return null;var r=null,t="dompurify"+((r=t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")?t.currentScript.getAttribute("data-tt-policy-suffix"):r)?"#"+r:"");try{return e.createPolicy(t,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+t+" could not be created."),null}})(r,c)),z=d&&E?d.createHTML(""):"",e=a,s=e.implementation,$=e.createNodeIterator,J=e.getElementsByTagName,q=e.createDocumentFragment,V=c.importNode,r={};try{r=Ie(a).documentMode?a.documentMode:{}}catch(L){}var n={},p=(l.isSupported=s&&void 0!==s.createHTMLDocument&&9!==r,Ve),f=He,H=Ge,G=We,W=Ye,Q=Xe,i=Qe,_=null,Y=Ne({},[].concat(ze(Pe),ze(Oe),ze(Fe),ze(Le),ze(Re))),m=null,X=Ne({},[].concat(ze(Me),ze(Ue),ze(Be),ze(je))),g=null,h=null,Z=!0,y=!0,ee=!1,v=!1,b=!1,x=!1,k=!1,S=!1,T=!1,C=!1,te=!1,E=!1,re=!0,D=!0,A=!1,w={},ne=Ne({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),ie=null,ae=Ne({},["audio","video","img","source","image","track"]),N=null,se=Ne({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),I=null,oe=a.createElement("form"),ce=function(e){I&&I===e||(e=Ie(e=e&&"object"===(void 0===e?"undefined":Ke(e))?e:{}),_="ALLOWED_TAGS"in e?Ne({},e.ALLOWED_TAGS):Y,m="ALLOWED_ATTR"in e?Ne({},e.ALLOWED_ATTR):X,N="ADD_URI_SAFE_ATTR"in e?Ne(Ie(se),e.ADD_URI_SAFE_ATTR):se,ie="ADD_DATA_URI_TAGS"in e?Ne(Ie(ae),e.ADD_DATA_URI_TAGS):ae,g="FORBID_TAGS"in e?Ne({},e.FORBID_TAGS):{},h="FORBID_ATTR"in e?Ne({},e.FORBID_ATTR):{},w="USE_PROFILES"in e&&e.USE_PROFILES,Z=!1!==e.ALLOW_ARIA_ATTR,y=!1!==e.ALLOW_DATA_ATTR,ee=e.ALLOW_UNKNOWN_PROTOCOLS||!1,v=e.SAFE_FOR_JQUERY||!1,b=e.SAFE_FOR_TEMPLATES||!1,x=e.WHOLE_DOCUMENT||!1,T=e.RETURN_DOM||!1,C=e.RETURN_DOM_FRAGMENT||!1,te=e.RETURN_DOM_IMPORT||!1,E=e.RETURN_TRUSTED_TYPE||!1,S=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,D=!1!==e.KEEP_CONTENT,A=e.IN_PLACE||!1,i=e.ALLOWED_URI_REGEXP||i,b&&(y=!1),C&&(T=!0),w&&(_=Ne({},[].concat(ze(Re))),m=[],!0===w.html&&(Ne(_,Pe),Ne(m,Me)),!0===w.svg&&(Ne(_,Oe),Ne(m,Ue),Ne(m,je)),!0===w.svgFilters&&(Ne(_,Fe),Ne(m,Ue),Ne(m,je)),!0===w.mathMl)&&(Ne(_,Le),Ne(m,Be),Ne(m,je)),e.ADD_TAGS&&Ne(_=_===Y?Ie(_):_,e.ADD_TAGS),e.ADD_ATTR&&Ne(m=m===X?Ie(m):m,e.ADD_ATTR),e.ADD_URI_SAFE_ATTR&&Ne(N,e.ADD_URI_SAFE_ATTR),D&&(_["#text"]=!0),x&&Ne(_,["html","head","body"]),_.table&&(Ne(_,["tbody"]),delete g.tbody),ye&&ye(e),I=e)},le=function(t){Se(l.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){t.outerHTML=z}},P=function(e,t){try{Se(l.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Se(l.removed,{attribute:null,from:t})}t.removeAttribute(e)},ue=function(e){var t,r=void 0,n=void 0,i=(S?e="<remove></remove>"+e:n=(i=Ee(e,/^[\r\n\t ]+/))&&i[0],d?d.createHTML(e):e);try{r=(new K).parseFromString(i,"text/html")}catch(e){}return R&&Ne(g,["title"]),r&&r.documentElement||((t=(r=s.createHTMLDocument("")).body).parentNode.removeChild(t.parentNode.firstElementChild),t.outerHTML=i),e&&n&&r.body.insertBefore(a.createTextNode(n),r.body.childNodes[0]||null),J.call(r,x?"html":"body")[0]};if(l.isSupported)try{var de=ue("<x/><title>&lt;/title&gt;&lt;img&gt;");Ae(/<\/title/,de.querySelector("title").innerHTML)&&(R=!0)}catch(de){}var pe=function(e){return $.call(e.ownerDocument||e,e,t.SHOW_ELEMENT|t.SHOW_COMMENT|t.SHOW_TEXT,function(){return t.FILTER_ACCEPT},!1)},O=function(e){return"object"===(void 0===u?"undefined":Ke(u))?e instanceof u:e&&"object"===(void 0===e?"undefined":Ke(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},F=function(e,t,r){n[e]&&ve(n[e],function(e){e.call(l,t,r,I)})},fe=function(e){var t;if(F("beforeSanitizeElements",e,null),((r=e)instanceof B||r instanceof j||"string"==typeof r.nodeName&&"string"==typeof r.textContent&&"function"==typeof r.removeChild&&r.attributes instanceof U&&"function"==typeof r.removeAttribute&&"function"==typeof r.setAttribute&&"string"==typeof r.namespaceURI)&&!Ee(e.nodeName,/[\u0080-\uFFFF]/)){var r=Ce(e.nodeName);if(F("uponSanitizeElement",e,{tagName:r,allowedTags:_}),"svg"!==r&&"math"!==r||0===e.querySelectorAll("p, br, form, table").length){if(_[r]&&!g[r])return"noscript"===r&&Ae(/<\/noscript/i,e.innerHTML)||"noembed"===r&&Ae(/<\/noembed/i,e.innerHTML)?(le(e),!0):(!v||O(e.firstElementChild)||O(e.content)&&O(e.content.firstElementChild)||!Ae(/</g,e.textContent)||(Se(l.removed,{element:e.cloneNode()}),e.innerHTML?e.innerHTML=De(e.innerHTML,/</g,"&lt;"):e.innerHTML=De(e.textContent,/</g,"&lt;")),b&&3===e.nodeType&&(t=e.textContent,t=De(t,p," "),t=De(t,f," "),e.textContent!==t)&&(Se(l.removed,{element:e.cloneNode()}),e.textContent=t),F("afterSanitizeElements",e,null),!1);if(D&&!ne[r]&&"function"==typeof e.insertAdjacentHTML)try{var n=e.innerHTML;e.insertAdjacentHTML("AfterEnd",d?d.createHTML(n):n)}catch(e){}}}return le(e),!0},_e=function(e,t,r){if(re&&("id"===t||"name"===t)&&(r in a||r in oe))return!1;if(!(y&&Ae(H,t)||Z&&Ae(G,t))){if(!m[t]||h[t])return!1;if(!N[t]&&!Ae(i,De(r,Q,""))&&("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==$e(r,"data:")||!ie[e])&&(!ee||Ae(W,De(r,Q,"")))&&r)return!1}return!0},me=function(e){var t=void 0,r=void 0,n=(F("beforeSanitizeAttributes",e,null),e.attributes);if(n){for(var i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:m},r=n.length;r--;){o=n[r];var a=o.name,s=o.namespaceURI,t=Je(o.value),o=Ce(a);if(i.attrName=o,i.attrValue=t,i.keepAttr=!0,i.forceKeepAttr=void 0,F("uponSanitizeAttribute",e,i),t=i.attrValue,!i.forceKeepAttr){if("name"===o&&"IMG"===e.nodeName&&n.id)c=n.id,n=Te(n,[]),P("id",e),P(a,e),be(n,c)>r&&e.setAttribute("id",c.value);else{if("INPUT"===e.nodeName&&"type"===o&&"file"===t&&i.keepAttr&&(m[o]||!h[o]))continue;"id"===a&&e.setAttribute(a,""),P(a,e)}if(i.keepAttr)if(v&&Ae(/\/>/i,t))P(a,e);else if(Ae(/svg|math/i,e.namespaceURI)&&Ae(qe("</("+xe(he(ne),"|")+")","i"),t))P(a,e);else{b&&(t=De(t,p," "),t=De(t,f," "));var c=e.nodeName.toLowerCase();if(_e(c,o,t))try{s?e.setAttributeNS(s,a,t):e.setAttribute(a,t),ke(l.removed)}catch(e){}}}}F("afterSanitizeAttributes",e,null)}},ge=function e(t){var r,n=pe(t);for(F("beforeSanitizeShadowDOM",t,null);r=n.nextNode();)F("uponSanitizeShadowNode",r,null),fe(r)||(r.content instanceof M&&e(r.content),me(r));F("afterSanitizeShadowDOM",t,null)};l.sanitize=function(e,t){var r,n=void 0,i=void 0,a=void 0;if("string"!=typeof(e=e||"\x3c!--\x3e")&&!O(e)){if("function"!=typeof e.toString)throw we("toString is not a function");if("string"!=typeof(e=e.toString()))throw we("dirty is not a string, aborting")}if(!l.isSupported){if("object"===Ke(o.toStaticHTML)||"function"==typeof o.toStaticHTML){if("string"==typeof e)return o.toStaticHTML(e);if(O(e))return o.toStaticHTML(e.outerHTML)}return e}if(k||ce(t),l.removed=[],!(A="string"==typeof e?!1:A))if(e instanceof u)1===(t=(n=ue("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===t.nodeName||"HTML"===t.nodeName?n=t:n.appendChild(t);else{if(!T&&!b&&!x&&-1===e.indexOf("<"))return d&&E?d.createHTML(e):e;if(!(n=ue(e)))return T?null:z}n&&S&&le(n.firstChild);for(var s=pe(A?e:n);r=s.nextNode();)3===r.nodeType&&r===i||fe(r)||(r.content instanceof M&&ge(r.content),me(r),i=r);if(i=null,A)return e;if(T){if(C)for(a=q.call(n.ownerDocument);n.firstChild;)a.appendChild(n.firstChild);else a=n;return a=te?V.call(c,a,!0):a}t=x?n.outerHTML:n.innerHTML;return b&&(t=De(t,p," "),t=De(t,f," ")),d&&E?d.createHTML(t):t},l.setConfig=function(e){ce(e),k=!0},l.clearConfig=function(){I=null,k=!1},l.isValidAttribute=function(e,t,r){I||ce({});e=Ce(e),t=Ce(t);return _e(e,t,r)},l.addHook=function(e,t){"function"==typeof t&&(n[e]=n[e]||[],Se(n[e],t))},l.removeHook=function(e){n[e]&&ke(n[e])},l.removeHooks=function(e){n[e]&&(n[e]=[])},l.removeAllHooks=function(){n={}}}else l.isSupported=!1;return l}()}),pxt=pxt||{},(l=>{var e;{var u=l.analytics||(l.analytics={});let s={},o={},r=!1,c;function i(t){Object.keys(t).forEach(e=>{"string"==typeof t[e]?s[e]=t[e]:o[e]=t[e]})}(e=c=u.ConsoleTickOptions||(u.ConsoleTickOptions={}))[e.Off=0]="Off",e[e.Short=1]="Short",e[e.Verbose=2]="Verbose",u.consoleTicks=c.Off,u.addDefaultProperties=i,u.enable=function(t){if(l.aiTrackException&&l.aiTrackEvent&&!r){r=!0,i({lang:t="string"==typeof t&&0!=t.length?t:"en"}),l.debug("setting up app insights");let a=l.tickEvent,n=(l.tickEvent=function(e,n,t){var r,i;if(n=l.Util.cleanData(n),u.consoleTicks!=c.Off&&(r=u.consoleTicks==c.Short?"":(new Date).toLocaleTimeString(void 0,{hour12:!1})+" - Tick - ",i=`${e} ${n?JSON.stringify(n):"<no data>"} `+(t?JSON.stringify(t):"<no opts>"),l.log(r+i)),a&&a(e,n,t),null!=t&&t.interactiveConsent&&l.setInteractiveConsent(!0),n){let t=Object.assign({},s),r=Object.assign({},o);Object.keys(n).forEach(e=>{"string"==typeof n[e]?t[e]=n[e]:"number"==typeof n[e]?r[e]=n[e]:t[e]=JSON.stringify(n[e]||"")}),l.aiTrackEvent(e,t,r)}else l.aiTrackEvent(e)},l.reportException),e=(l.reportException=function(e,t){t=l.Util.cleanData(t),n&&n(e,t);var r={target:l.appTarget.id,version:l.appTarget.versions.target};t&&l.Util.jsonMergeFrom(r,t),l.aiTrackException(e,"exception",r)},l.reportError);l.reportError=function(t,r,n){n=l.Util.cleanData(n),e&&e(t,r,n);try{throw r}catch(e){t={target:l.appTarget.id,version:l.appTarget.versions.target,category:t,message:r};n&&l.Util.jsonMergeFrom(t,n),l.aiTrackException(e,"error",t)}}}},u.trackPerformanceReport=function(){var e,t;l.perf.perfReportLogged||(e=l.perf.report())&&({durations:e,milestones:t}=e,l.tickEvent("performance.milestones",t),l.tickEvent("performance.durations",e))}}})(pxt=pxt||{}),pxt=pxt||{},(e=>{{e=e.AudioContextManager||(e.AudioContextManager={});let r=0,n,i,a,s=!1;function o(){return n=n||(()=>{if(window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext)try{return new window.AudioContext}catch(e){}})()}function t(){n&&(a.gain.setTargetAtTime(0,n.currentTime,.015),r=0)}e.mute=function(e){n&&(s=e,t(),e)&&i&&(i.disconnect(),a.disconnect(),i=void 0,a=void 0)},e.stop=t,e.frequency=function(){return r},e.tone=function(e){if(!s&&!(isNaN(e)||e<0)){r=e;var t=o();if(t)try{i||((i=t.createOscillator()).type="triangle",(a=t.createGain()).gain.value=0,a.connect(t.destination),i.connect(a),i.start(0)),i.frequency.linearRampToValueAtTime(e,n.currentTime),a.gain.setTargetAtTime(.2,n.currentTime,.015)}catch(e){i=void 0}}}}})(pxt=pxt||{}),(f=>{{var _=f.auth||(f.auth={});let c="auth",l="csrf-token",u="login-state",r="user-state",d="interactive-login-until",t=!1;_.DEFAULT_USER_PREFERENCES=()=>({language:f.appTarget.appTheme.defaultLocale,highContrast:!1,accessibleBlocks:!1,colorThemeIds:{},reader:"",skillmap:{mapProgress:{},completedTags:{}},email:!1});let e,s=(_.client=function(){if(!t)return e},0),o=0;async function m(e,t){return t?f.storage.shared.setAsync(c,e,t):f.storage.shared.delAsync(c,e)}async function a(e){try{return await f.storage.shared.getAsync(c,e)}catch(e){}}async function n(){var e=await a(l);return _.cachedHasAuthToken=!!e,e}async function i(){return!!await n()}async function g(){return _.cachedHasAuthToken=!1,m(l,void 0)}async function h(){let t;try{t=await f.storage.shared.getAsync(c,r)}catch(e){t={}}return _.cachedUserState=t}async function y(e){return _.cachedUserState=Object.assign({},e),f.storage.shared.setAsync(c,r,e)}async function v(){return _.cachedUserState=void 0,f.storage.shared.delAsync(c,r)}async function b(e){var t={};return(e=e||await n())&&(t.authorization="mkcd "+e),t["x-pxt-target"]=null==(e=f.appTarget)?void 0:e.id,t}_.cachedHasAuthToken=!1,_.getAuthTokenAsync=n,_.hasAuthTokenAsync=i,_.getUserStateAsync=h,_.getAuthHeadersAsync=b;class T{constructor(){this.initialUserPreferences_=void 0,this.initialAuthCheck_=void 0,this.patchQueue=[],e=this}async initAsync(){var e=await h();this.setUserProfileAsync(null==e?void 0:e.profile),this.setUserPreferencesAsync(null==e?void 0:e.preferences)}async loginAsync(e,t,r=void 0){if(k()&&(n=e,0<x().filter(e=>e.id===n).length)){r=null!=r?r:p,this.clearAuthStateAsync();var n,r={key:(Math.PI*Math.random()).toString(36).slice(2),callbackState:r,callbackPathname:window.location.pathname,idp:e,persistent:t},i=(parseInt(await a(d))||0)>Date.now(),t=f.Util.stringifyQueryString("/api/auth/login",{response_type:"token",provider:e,persistent:t,redirect_uri:""+window.location.origin+window.location.pathname+"?authcallback=1&state="+r.key,prompt:i?"select_account":"silent"}),i=await this.apiAsync(t);if(i.success)r.authCodeVerifier=i.resp.authCodeVerifier,await f.storage.shared.setAsync(c,u,r),f.tickEvent("auth.login.start",{provider:e}),window.location.href=i.resp.loginUrl;else try{await this.onSignInFailed()}catch(e){}}}async logoutAsync(e){if(k()){await T.staticLogoutAsync(e);try{await this.onStateCleared()}catch(e){}try{await this.onSignedOut()}catch(e){}}}static async staticLogoutAsync(t){if(k()){f.tickEvent("auth.logout"),await m(d,(Date.now()+6e4).toString()),t=t?t.startsWith("#")?t:"#"+t:"";t=""+window.location.origin+window.location.pathname+window.location.search+t;let e="";try{var r=f.Util.stringifyQueryString("/api/auth/logout",{redirect_uri:t,authcallback:"1"}),n=await T.staticApiAsync(r);n.success&&(e=n.resp.logoutUrl)}catch(e){}await g(),await v(),f.BrowserUtils.hasWindow()&&(e?window.location.href=e:(window.location.href=t,location.reload()))}}async deleteProfileAsync(){if(await this.loggedInAsync()){var e=await h(),e=null==(e=null==e?void 0:e.profile)?void 0:e.id,t=await this.apiAsync("/api/user",null,"DELETE");if(t.err)try{await this.onApiError(t.err)}catch(e){}else try{await this.clearAuthStateAsync();try{await this.onProfileDeleted(e)}catch(e){}}finally{f.tickEvent("auth.profile.deleted")}}}async initialUserPreferencesAsync(){if(await this.loggedInAsync())return this.initialUserPreferences_||(this.initialUserPreferences_=this.fetchUserPreferencesAsync()),this.initialUserPreferences_}async userProfileAsync(){var e;if(await this.loggedInAsync())return e=await h(),Object.assign({},e.profile)}async userPreferencesAsync(){var e=await h();return Object.assign({},e.preferences)}async authCheckAsync(){var e,t;if(k()&&await i())return null!=(e=null==(t=await h())?void 0:t.profile)&&e.id?this.initialAuthCheck_||(this.initialAuthCheck_=Promise.resolve(t.profile)):this.initialAuthCheck_||(this.initialAuthCheck_=this.fetchUserAsync()),this.initialAuthCheck_}async loggedInAsync(){return!!await this.authCheckAsync()&&this.hasUserIdAsync()}async updateUserProfileAsync(e){var t;return!!await this.loggedInAsync()&&(t=await h(),(t=await this.apiAsync("/api/user/profile",{id:t.profile.id,username:e.username,avatarUrl:e.avatarUrl})).success&&await this.setUserProfileAsync(t.resp),t.success)}async patchUserPreferencesAsync(e,t={}){let n=async()=>({success:!0,res:await this.userPreferencesAsync()});if(!(e=(e=Array.isArray(e)?e:[e]).filter(e=>!!e)).length)return n();let i=(e,t,r)=>{var n=f.U.deepCopy(e);ts.pxtc.jsonPatch.patchInPlace(n,t);let i=ts.pxtc.jsonPatch.diff(e,n);return i=i.length&&r?i.filter(r):i};var r=await this.userPreferencesAsync(),a=i(r,e,t.filter);if(!a.length)return n();if(ts.pxtc.jsonPatch.patchInPlace(r,a),await this.setUserPreferencesAsync(r),!await this.loggedInAsync())return n();this.patchQueue.push({ops:e,filter:t.filter}),clearTimeout(s);a=async()=>{if(o=0,!this.patchQueue.length)return n();var e=await this.apiAsync("/api/user/preferences");if(!e.success)return f.reportError("identity","failed to fetch preferences for patch",e),{success:!1,res:void 0};let t=f.U.deepCopy(e.resp)||_.DEFAULT_USER_PREFERENCES();var r=this.patchQueue,r=(this.patchQueue=[],r.forEach(e=>{e=i(t,e.ops,e.filter);ts.pxtc.jsonPatch.patchInPlace(t,e)}),pxtc.jsonPatch.diff(e.resp,t)),e=await this.apiAsync("/api/user/preferences",r,"PATCH");return e.success?this.setUserPreferencesAsync(e.resp):f.reportError("identity","failed to patch preferences",e),{success:e.success,res:e.resp}};return t.immediate||(o=o||f.U.now(),1e4<f.U.now()-o)?a():(s=setTimeout(a,1e3),{success:!1,res:void 0})}async hasUserIdAsync(){var e;return!!k()&&(await i()?!(null==(e=null==(e=await h())?void 0:e.profile)||!e.id):void 0)}async fetchUserAsync(){var e,t;if(k()&&await i())return null!=(e=null==(t=await h())?void 0:t.profile)&&e.id?t.profile:(e=await this.apiAsync("/api/user/profile")).success?(t=e.resp,await this.setUserProfileAsync(t),t):void 0}async setUserProfileAsync(e){var t=await this.hasUserIdAsync(),e=(await this.transformUserProfileAsync(e),await this.hasUserIdAsync());try{await this.onUserProfileChanged()}catch(e){}if(e&&!t)try{await this.onSignedIn()}catch(e){}else if(!e&&t)try{await this.onSignedOut()}catch(e){}}async setUserPreferencesAsync(e){var t=await h(),t=null!=(t=null==t?void 0:t.preferences)?t:_.DEFAULT_USER_PREFERENCES(),r=ts.pxtc.jsonPatch.diff(t,e),t=await this.transformUserPreferencesAsync(Object.assign(Object.assign({},t),e));try{await this.onUserPreferencesChanged(r)}catch(e){}return t}async fetchUserPreferencesAsync(){if(await this.loggedInAsync()){await h();var e=await this.apiAsync("/api/user/preferences");if(e.success)if(e.resp)return this.setUserPreferencesAsync(e.resp)}}async transformUserProfileAsync(e){var t=await h();return await y(t=Object.assign(Object.assign({},t),{profile:Object.assign({},e)})),t.profile}async transformUserPreferencesAsync(e){var t=await h();return await y(t=Object.assign(Object.assign({},t),{preferences:Object.assign({},e)})),t.preferences}async clearAuthStateAsync(){await g(),await v();try{await this.onStateCleared()}catch(e){}}async apiAsync(e,t,r,n){return T.staticApiAsync(e,t,r,n)}static async staticApiAsync(t,e,r,n){n=await b(n);return t=f.BrowserUtils.isLocalHostDev()?""+f.cloud.DEV_BACKEND+t:t,f.Util.requestAsync({url:t,headers:n,data:e,method:r||(e?"POST":"GET"),withCredentials:!0}).then(e=>({statusCode:e.statusCode,resp:e.json,success:2===Math.floor(e.statusCode/100),err:null})).catch(async e=>(/logout/.test(t)||401!=e.statusCode||await T.staticLogoutAsync(),{statusCode:e.statusCode,err:e,resp:null,success:!1}))}}_.AuthClient=T;let p={hash:"",params:{}};function x(){var e;return Object.keys((null==(e=null==(e=f.appTarget)?void 0:e.cloud)?void 0:e.cloudProviders)||{}).map(e=>f.appTarget.cloud.cloudProviders[e]).filter(e=>e.identity).sort((e,t)=>e.order-t.order)}function k(){return!t&&!f.BrowserUtils.isPxtElectron()&&0<x().length}function S(e,t){return e.id===t.id&&e.sourceURL===t.sourceURL}_.loginCallbackAsync=async function(e){let t,r=Object.assign({},p);do{if(!(t=await f.storage.shared.getAsync(c,u)))return void f.debug("Auth state not found in storge.");await f.storage.shared.delAsync(c,u);var n=e.state;if(!n||t.key!==n)return void f.debug("Failed to get auth state for key");r=Object.assign(Object.assign({},p),t.callbackState);n=e.error;if(n){var i=e.error_description;f.tickEvent("auth.login.error",{error:n,provider:t.idp}),f.log(`Auth failed: ${n}:`+i),r=Object.assign({},p);break}n=e.token;if(!n){f.debug("Missing authToken in auth callback.");break}t.authCodeVerifier&&(i=f.Util.stringifyQueryString("/api/otac/check",{persistent:t.persistent}),await T.staticApiAsync(i,null,null,t.authCodeVerifier)),n=n,_.cachedHasAuthToken=!!n,await m(l,n),await m(d,void 0),f.tickEvent("auth.login.success",{provider:t.idp})}while(0);var a=r.hash.startsWith("#")?r.hash:"#"+r.hash,s=f.Util.stringifyQueryString("",r.params),o=t.callbackPathname.startsWith("/")?t.callbackPathname:"/"+t.callbackPathname;window.location.href=""+o+s+a},_.identityProviders=x,_.identityProvider=function(t){return x().filter(e=>e.id===t).shift()},_.hasIdentity=k,_.enableAuth=function(e=!0){t=!e},_.userName=function(e){var t;return null!=(e=null!=(t=null==(t=null==e?void 0:e.idp)?void 0:t.displayName)?t:null==(t=null==e?void 0:e.idp)?void 0:t.username)?e:"??"},_.identityProviderId=function(e){return null==(e=null==e?void 0:e.idp)?void 0:e.provider},_.firstName=function(e){return(null==(e=f.auth.userName(e))?void 0:e.split(" ").shift())||e},_.userInitials=function(e){return e=f.auth.userName(e),ts.pxtc.Util.initials(e)},_.generateUserProfilePicDataUrl=function(e){if(null!=(t=null==(t=null==e?void 0:e.idp)?void 0:t.picture)&&t.encoded){var t=window.URL||window.webkitURL;try{var r=f.Util.stringToUint8Array(atob(e.idp.picture.encoded)),n=new Blob([r],{type:e.idp.picture.mimeType});e.idp.picture.dataUrl=t.createObjectURL(n)}catch(e){}}},_.badgeEquals=S,_.hasBadge=function(e,t){return e.badges.some(e=>S(e,t))}}})(pxt=pxt||{}),(pxt||(pxt={})).tickEvent=function(e){},(e=>{let t;var r;(r=t=e.LogLevel||(e.LogLevel={}))[r.Debug=0]="Debug",r[r.Info=1]="Info",r[r.Log=1]="Log",r[r.Warning=2]="Warning",r[r.Error=3]="Error";class n{constructor(){this.setLogLevel(t.Info)}setLogLevel(e){this.logLevel=e}getLogLevel(){return this.logLevel}info(...e){this.shouldLog(t.Info)&&null!=console&&console.info&&console.info.call(null,...e)}log(...e){this.shouldLog(t.Log)&&null!=console&&console.log&&console.log.call(null,...e)}debug(...e){this.shouldLog(t.Debug)&&null!=console&&console.debug&&console.debug.call(null,...e)}error(...e){this.shouldLog(t.Error)&&null!=console&&console.error&&console.error.call(null,...e)}warn(...e){this.shouldLog(t.Warning)&&null!=console&&console.warn&&console.warn.call(null,...e)}shouldLog(e){return e>=this.logLevel}}let i=new(e.ConsoleLogger=n);e.info=function(...e){i.info(...e)},e.log=function(...e){i.log(...e)},e.debug=function(...e){i.debug(...e)},e.error=function(...e){i.error(...e)},e.warn=function(...e){i.warn(...e)},e.setLogger=function(e){var t=null==i?void 0:i.getLogLevel();i=e,void 0!==t&&i.setLogLevel(t)},e.setLogLevel=function(e){i.setLogLevel(e)}})(pxt=pxt||{}),(e=>{(e.pxtc||(e.pxtc={})).__dummy=42})(ts=ts||{}),ts.pxtc),ts,pxt,pxt,pxt,pxt,pxt,pxt,Measurements,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,ts,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,ts,pxt,pxt,pxt,pxt,ts,pxt,ts,pxtmelody,pxtmelody,pxtmelody,pxt,pxt,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,pxt,pxt,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,pxt,pxt,pxt,pxt,pxt,pxt,pxt;(a=>{a=a.pxtc||(a.pxtc={});{var c=a.Util||(a.Util={});function s(e){return e.replace(/[^\w .!?\-$]/g,e=>{e=e.charCodeAt(0).toString(16);return"\\u"+"0000".substr(0,4-e.length)+e})}c.assert=function(e,t="Assertion failed"){if(!e)throw new Error(t)},c.flatClone=function(t){if(null==t)return null;let r={};return Object.keys(t).forEach(e=>{r[e]=t[e]}),r},c.clone=function(e){return null==e?null:JSON.parse(JSON.stringify(e))},c.htmlEscape=function(e){return e&&e.replace(/([^\w .!?\-$])/g,e=>"&#"+e.charCodeAt(0)+";")},c.htmlUnescape=function(e){return e&&e.replace(/(&#\d+;)/g,e=>String.fromCharCode(Number(e.substr(2,e.length-3))))},c.jsStringQuote=s,c.jsStringLiteral=function(e){return'"'+s(e)+'"'};let t="en",r={},e={},n=!(c.initials=function(e){return(/^\w+@/.test(e)?e.match(/^\w\w/).shift():((e=e.match(/\b\w/g)||[]).shift()||"")+(e.pop()||"")).toUpperCase()});function o(){return t}function l(e){var t=/^(\w{2,3})-(\w{2,4}$)/i.exec(e);return t&&t[1]&&t[2]?[t[1].toLowerCase()+"-"+t[2].toUpperCase(),t[1].toLowerCase(),t[1].toLowerCase()+"-"+t[2].toLowerCase()]:[(e||"en").toLowerCase()]}function u(e,o){return 0==o.length?e:e.replace(/\{([0-9]+)(\:[^\}]+)?\}/g,function(e,r,t){r=o[parseInt(r)];let n="";var i=/^:f(\d*)\.(\d+)/.exec(t);if(i){var a=parseInt(i[2]);let e=parseInt(i[1])||0;var s=/^0/.test(i[1])?"0":" ";let t=r.toFixed(a);if(0<e&&0<a&&(e+=a+1),0<e)for(;t.length<e;)t=s+t;n=t}else n=":x"==t?"0x"+r.toString(16):void 0===r?"(undef)":null===r?"(null)":r.toString?r.toString():r+"";return":a"==t?/^\s*[euioah]/.test(n.toLowerCase())?n="an "+n:/^\s*[bcdfgjklmnpqrstvwxz]/.test(n.toLowerCase())&&(n="a "+n):":s"==t?n=1==r?"":"s":":q"==t?n=c.htmlEscape(n):":jq"==t?n=c.jsStringQuote(n):":uri"==t?n=encodeURIComponent(n).replace(/'/g,"%27").replace(/"/g,"%22"):":url"==t?n=encodeURI(n).replace(/'/g,"%27").replace(/"/g,"%22"):":%"==t&&(n=(100*r).toFixed(1).toString()+"%"),n})}c.enableLiveLocalizationUpdates=function(){n=!0},c.liveLocalizationEnabled=function(){return n},c.localeInfo=function(){return(n?"live-":"")+t},c.userLanguage=o,c.normalizeLanguageCode=l,c.setUserLanguage=function(e){t=l(e)[0]},c.isUserLanguageRtl=function(){return/^ar|dv|fa|ha|he|ks|ku|ps|ur|yi/i.test(t)},c.TRANSLATION_LOCALE="pxt",c.isTranslationMode=function(){return t==c.TRANSLATION_LOCALE},c._localize=function(e){return r[e]||e},c.getLocalizedStrings=function(){return r},c.setLocalizedStrings=function(e){r=e},c.translationsCache=function(){return e},c.fmt_va=u,c.fmt=function(e,...t){return u(e,t)};let i={};function d(e,t){if(!e)return e;i[e]=(i[e]||0)+1;let r=c._localize(e);return u(r=r.replace(/^\{(id|loc):[^\}]+\}/g,""),t)}c.dumpLocStats=function(){let t={};Object.keys(i).sort((e,t)=>i[t]-i[e]).forEach(e=>t[e]=e),pxt.log("prioritized list of strings:"),pxt.log(JSON.stringify(t,null,2))},c.lf_va=d,c.lf=function(e,...t){return d(e,t)},c.rlf=function(e,...t){return d(e,t)},c.lookup=function(e,t){return e.hasOwnProperty(t)?e[t]:null},c.isoTime=function(e){return e=new Date(1e3*e),c.fmt("{0}-{1:f02.0}-{2:f02.0} {3:f02.0}:{4:f02.0}:{5:f02.0}",e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())},c.userError=function(e){throw(e=new Error(e)).isUserError=!0,e},c.deq=function t(r,n){if(r!==n){if(!r||!n)return"Null value";if("object"!=typeof r||"object"!=typeof n)return"Unable to compare "+r+", "+n;if(Array.isArray(r)){if(!Array.isArray(n))return"Expected array";if(r.length!=n.length)return"Expected array of length "+r.length+", got "+n.length;for(let e=0;e<r.length;e++)if(null!=t(r[e],n[e]))return"Expected array value "+r[e]+" got "+n[e]}else{var i=Object.keys(r),e=Object.keys(r);if(i.length!=e.length)return"Expected "+i.length+" keys, got "+e.length;for(let e=0;e<i.length;e++){if(!Object.prototype.hasOwnProperty.call(n,i[e]))return"Missing key "+i[e];if(null!=t(r[i[e]],n[i[e]]))return"Expected value of "+i[e]+" to be "+r[i[e]]+", got "+n[i[e]]}}}return null},c.deepEqual=function t(r,n){if(r===n)return!0;if(r&&n&&"object"==typeof r&&"object"==typeof n){var e,i=Array.isArray(r),a=Array.isArray(n);if(i&&a){if(r.length!==n.length)return!1;for(let e=0;e<r.length;++e)if(!t(r[e],n[e]))return!1}else{if(i!==a)return!1;if((i=Object.keys(r)).length!==Object.keys(n).length)return!1;for(e of i){if(!n.hasOwnProperty(e))return!1;if(!t(r[e],n[e]))return!1}}return!0}return r!=r&&n!=n}}})(ts=ts||{});let lf=ts.pxtc.Util.lf,getCellId=((e=>{(e=e.pxtc||(e.pxtc={})).decodeBase64=function(e){return atob(e)},e.encodeBase64=function(e){return btoa(e)}})(ts=ts||{}),(s=>{var e,u=s.pxtc||(s.pxtc={});{var _=u.Util||(u.Util={});function n(t,r){if(r)for(let e=0;e<r.length;++e)t.push(r[e])}function r(t){var r=[];for(let e=0;e<t.length;++e)n(r,t[e]);return r}function i(e){return e&&"object"==typeof e&&!Array.isArray(e)}function o(t,r,n,i,a){void 0===i&&(i=0),void 0===a&&(a=n.length-i);for(let e=0;e<a;++e)t[r+e]=n[i+e]}function a(e,t){return e==t?0:e<t?-1:1}_.CancellationToken=class{constructor(){this.pending=!1,this.cancelled=!1}startOperation(){this.pending=!0}isRunning(){return this.pending}onProgress(e){this.progressHandler=e}reportProgress(e,t){this.progressHandler&&this.progressHandler(e,t)}cancel(){this.cancelled=!0,this.pending=!1}cancelAsync(){return this.cancelled||!this.pending?(this.cancelled=!0,this.pending=!1,Promise.resolve()):(this.cancelled=!0,this.deferred=new Promise(e=>{this.resolve=e}),this.deferred)}isCancelled(){return this.cancelled}throwIfCancelled(){if(this.isCancelled())throw new Error}resolveCancel(){this.pending=!1,this.deferred&&(this.resolve(),this.deferred=void 0,this.resolve=void 0)}},_.codalHash16=function(e){let i=[251,175,119,215,81,14,79,191,103,49,181,143,186,157,0,232,31,32,55,60,152,58,17,237,174,70,160,144,220,90,57,223,59,3,18,140,111,166,203,196,134,243,124,95,222,179,197,65,180,48,36,15,107,46,233,130,165,30,123,161,209,23,97,16,40,91,219,61,100,10,210,109,250,127,22,138,29,108,244,67,207,9,178,204,74,98,126,249,167,116,34,77,193,200,121,5,20,113,71,35,128,13,182,94,25,226,227,199,75,27,41,245,230,224,43,225,177,26,155,150,212,142,218,115,241,73,88,105,39,114,62,255,192,201,145,214,168,158,221,148,154,122,12,84,82,163,44,139,228,236,205,242,217,11,187,146,159,64,86,239,195,42,106,198,118,112,184,172,87,2,173,117,176,229,247,253,137,185,99,164,102,147,45,66,231,52,141,211,194,206,246,238,56,110,78,248,63,240,189,93,92,51,53,183,19,171,72,50,33,104,101,69,8,252,83,120,76,135,85,54,202,125,188,213,96,235,136,208,162,129,190,132,156,38,47,1,7,254,24,4,216,131,89,21,28,133,37,153,149,80,170,68,6,169,234,151];if(e){var r=e;var n=2;var a,s=new Uint8Array(r.length);for(let e=0;e<r.length;++e){var o=r.charCodeAt(e);s[e]=255&o}let t=0;for(let e=0;e<n;++e)a=(t=>{let r=0;for(let e=0;e<t.length;e++){var n=t[e];r=i[r^n]}return r})(s),t|=a<<8*e,s[0]=(s[0]+1)%255;return t}return 0},_.bufferSerial=function(t,r="",n="?",i=255){for(let e=0;e<r.length;++e){var a=r[e];t[n]=(t[n]||"")+a,("\n"===a||t[n].length>i)&&(a=t[n],t[n]="",window.postMessage({type:"serial",id:n,data:a},"*"))}},_.blobReadAsDataURL=function(n){return n?new Promise((e,t)=>{let r=new FileReader;r.onload=()=>e(r.result),r.onerror=e=>t(e),r.readAsDataURL(n)}):Promise.resolve(void 0)},_.fileReadAsBufferAsync=function(n){return n?new Promise((t,e)=>{let r=new FileReader;r.onerror=e=>t(null),r.onload=e=>t(new Uint8Array(r.result)),r.readAsArrayBuffer(n)}):Promise.resolve(null)},_.fileReadAsTextAsync=function(n){return n?new Promise((t,e)=>{let r=new FileReader;r.onerror=e=>t(null),r.onload=e=>t(r.result),r.readAsText(n)}):Promise.resolve(null)},_.sanitizeFileName=function(e){return e.replace(/[()\\\/.,?*^:<>!;'#$%^&|"@+={}\[\]~`\x00-\x1F]/g,"").trim().replace(/\s+/g,"-")},_.repeatMap=function(t,r){t=t||0;var n=[];for(let e=0;e<t;++e)n.push(r(e));return n},_.listsEqual=function(t,r){if(!t||!r||t.length!==r.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==r[e])return!1;return!0},_.oops=function(e="OOPS"){throw new Error(e)},_.reversed=function(e){return(e=e.slice(0)).reverse(),e},_.arrayEquals=function(t,r,n=(e,t)=>e===t){if(t!=r){if(!t&&r||!r&&t||t.length!==r.length)return!1;for(let e=0;e<t.length;e++)if(!n(t[e],r[e]))return!1}return!0},_.iterMap=function(t,r){Object.keys(t).forEach(e=>r(e,t[e]))},_.mapMap=function(t,r){let n={};return Object.keys(t).forEach(e=>n[e]=r(e,t[e])),n},_.values=function(t){return Object.keys(t||{}).map(e=>t[e])},_.pushRange=n,_.concatArrayLike=r,_.concat=r,_.memcpy=o,_.uint8ArrayConcat=function(e){let t=0;for(var r of e)t+=r.length;var n,i=new Uint8Array(t);let a=0;for(n of e)o(i,a,n),a+=n.length;return i},_.jsonTryParse=function(e){try{return JSON.parse(e)}catch(e){}},_.jsonMergeFrom=function t(r,n){n&&Object.keys(n).forEach(e=>{i(r[e])&&i(n[e])?t(r[e],n[e]):r[e]=_.clone(n[e])})},_.jsonCopyFrom=function(e,t){var r,n=_.clone(t);for(r of Object.keys(t))e[r]=n[r]},_.jsonFlatten=function(e){let n={},i=(e,t)=>{if(null!==t&&"object"==typeof t){_.assert(!Array.isArray(t)),e&&(e+=".");for(var r of Object.keys(t))i(e+r,t[r])}else n[e]=t};return i("",e),n},_.jsonUnFlatten=function(r){var n,e={};for(n of Object.keys(r)){let t=e;var i=n.split(".");for(let e=0;e<i.length;++e){var a=i[e];e==i.length-1?t[a]=r[n]:("object"!=typeof t[a]&&(t[a]={}),t=t[a])}}return e},_.strcmp=a,_.stringMapEq=function(e,t){var r,n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(r of n){if(!t.hasOwnProperty(r))return!1;if(e[r]!==t[r])return!1}return!0},_.endsWith=function(e,t){return!(e.length<t.length||0!=t.length&&e.slice(-t.length)!=t)},_.startsWith=function(e,t){return!(e.length<t.length||0!=t.length&&e.slice(0,t.length)!=t)},_.contains=function(e,t){return!(e.length<t.length)&&(0==t.length||-1<e.indexOf(t))},_.replaceAll=function(e,t,r){return t?e.split(t).join(r):e},_.snakify=function(r){let n=r.toUpperCase(),t=r.toLowerCase();if(r==n||r==t)return r;if(0<r.lastIndexOf("_"))return r;var i,a=e=>r[e]!=t[e];let s="",o=0;for(;o<r.length;){let e=a(o),t=o;for(;t<r.length;){if(e&&(i=t,r[i]!=n[i])){if(2<t-o){t--;break}e=!1}if(!e&&a(t))break;t++}s&&(s+="_"),s+=r.slice(o,t),o=t}return s.toUpperCase()===s?s:s.toLowerCase()},_.sortObjectFields=function(t){var e=Object.keys(t);e.sort(a);let r={};return e.forEach(e=>r[e]=t[e]),r},_.chopArray=function(t,r){var n=[];for(let e=0;e<t.length;e+=r)n.push(t.slice(e,e+r));return n},_.unique=function(e,r){let n=[],i={};return e.forEach(e=>{var t=r(e);i.hasOwnProperty(t)||(i[t]=null,n.push(e))}),n},_.groupBy=function(e,r){let n={};return e.forEach(e=>{var t=r(e);n.hasOwnProperty(t)||(n[t]=[]),n[t].push(e)}),n},_.toDictionary=function(e,t){let r={};return e.forEach(e=>{r[t(e)]=e}),r},_.toSet=function(e,t){let r={};return e.forEach(e=>{r[t(e)]=!0}),r},_.deepCopy=function e(t){if("object"!=typeof t||null===t)return t;var r,n=Array.isArray(t)?[]:{};for(r in t){var i=t[r];n[r]=e(i)}return n},_.toArray=function(t){if(Array.isArray(t))return t;var r=[];if(t)for(let e=0;e<t.length;++e)r.push(t[e]);return r},_.indexOfMatching=function(t,r){for(let e=0;e<t.length;++e)if(r(t[e]))return e;return-1};let t=Promise.resolve();async function c(t,r,n){let i=0;var a=[];let s=[];for(let e=0;e<t;e++){var o=(async()=>{for(;i<r.length;){var e=i++,t=r[e];s[e]=await n(t)}})();a.push(o)}try{await Promise.all(a)}catch(e){throw i=r.length,e}return s}function d(r,n){let i={};return e=>{var t=r(e);return i.hasOwnProperty(t)?i[t]:i[t]=n(e)}}function p(e){return e=e&&e.replace(/\\/g,"/")}function f(r){let n={url:""+encodeURI(r.url.replace(/[?#].*/,"...")),method:""+(r.method||"GET")};return pxt.perf.measureStart(Measurements.NetworkRequest),_.httpRequestCoreAsync(r).then(e=>{var t=e.statusCode;return(r.successCodes||[304,200,201,202]).indexOf(t)<0&&!r.allowHttpErrors?(t=_.lf("Bad HTTP status code: {0} at {1}; message: {2}",e.statusCode,r.url,(e.text||"").slice(0,500)),(t=new Error(t)).statusCode=e.statusCode,Promise.reject(t)):(e.text&&/application\/json/.test(e.headers["content-type"])&&(e.json=u.U.jsonTryParse(e.text)),e)}).then(e=>{var t=e.headers["content-length"];return t?n.sizeInBytes=""+t:e.text&&pxt.perf.isEnabled()&&(t=(new TextEncoder).encode(e.text),n.sizeInBytes=t.length+""),n.statusCode=""+e.statusCode,e}).finally(()=>{pxt.perf.measureEnd(Measurements.NetworkRequest,n)})}function m(r,n){let i="";if(r)for(let t=0;t<r.length;++t){let e=r.charCodeAt(t);var a;e<=127?i+=r.charAt(t):e<=2047?i+=String.fromCharCode(192|e>>6,128|63&e):(!n&&55296<=e&&e<=56319&&(a=r.charCodeAt(++t),isNaN(a)||(e=65536+(e-55296<<10)+(a-56320))),e<=65535?i+=String.fromCharCode(224|e>>12,128|e>>6&63,128|63&e):i+=String.fromCharCode(240|e>>18,128|e>>12&63,128|e>>6&63,128|63&e))}return i}function g(){return Date.now()}function h(){var e=new Uint8Array(4);return _.getRandomBuf(e),new Uint32Array(e.buffer)[0]}function y(i,a,s){function t(r){pxt.debug(`downloading translations for ${i} `+a);var e=pxt.BrowserUtils.isLocalHost()||pxt.webConfig.isStatic?"https://makecode.com/api/":"";let t=e+`translations?lang=${encodeURIComponent(i)}&filename=${encodeURIComponent(a)}&approved=true`;var n={};return s&&!pxt.Cloud.useCdnApi()&&(n["If-None-Match"]=s),(e?f:pxt.Cloud.apiRequestWithCdnAsync)({url:t,headers:n}).then(t=>304==t.statusCode||200==t.statusCode?(s=t.headers.etag||"",pxt.BrowserUtils.translationDbAsync().then(e=>e.setAsync(i,a,s,t.json||r)).then(()=>t.json||r)):t.json,e=>{pxt.log("failed to load translations from "+t)})}return pxt.BrowserUtils.translationDbAsync().then(e=>e.getAsync(i,a)).then(e=>e?(s=e.etag,300<(Date.now()-e.time)/1e3&&t(e.strings),e.strings):t())}function v(e){var[e,t]=_.normalizeLanguageCode(e),r=pxt.appTarget.appTheme;if(r&&r.availableLocales){if(-1<r.availableLocales.indexOf(e))return!0;if(t&&-1<r.availableLocales.indexOf(t))return!0}return!1}_.nextTick=function(e){t.then(e)},_.delay=async function(t,e){return e=await e,await new Promise(e=>setTimeout(()=>e(),t)),e},_.promiseMapAll=function(e,t){return Promise.all(e.map(e=>t(e)))},_.promiseMapAllSeries=function(e,t){return c(1,e,t)},_.promisePoolAsync=c,_.memoizeString=function(e){return d(e=>e,e)},_.promiseTimeout=async function(r,e,n){let i,a;var t=new Promise((e,t)=>{a=e,i=setTimeout(()=>{a=void 0,clearTimeout(i),t(n||`Promise timed out after ${r}ms`)},r)});return Promise.race([e,t]).then(e=>(a&&(clearTimeout(i),a()),e))},_.defer=function(){let n,r,i,e=!1;return{resolve:function(t){e?pxt.debug("Deferred promise already resolved"):(r?r(t):n=n||new Promise(function(e){e(t)}),e=!0)},reject:function(r){e?pxt.debug("Deferred promise already resolved"):(i?i(r):n=n||new Promise(function(e,t){t(r)}),e=!0)},promise:new Promise(function(e,t){n?e(n):(r=e,i=t)})}},_.memoize=d,_.debounce=function(n,i,a){let s;return function(){let e=this,t=arguments;var r=a&&!s;return clearTimeout(s),s=setTimeout(function(){s=null,a||n.apply(e,t)},i),r&&n.apply(e,t),s}},_.AdaptiveDebouncer=class{constructor(e,t=300,r=2e3,n=2){this.func=e,this.minDelay=t,this.maxDelay=r,this.slowdownFactor=n,this.lastPoke=0,this.recentGaps=[],this.wrapped=()=>{this.timeout=null,this.func()}}poke(){var e=Date.now();if(this.lastPoke){var t=e-this.lastPoke;if(t<10)return;for(t<4e3&&this.recentGaps.push(t);10<this.recentGaps.length;)this.recentGaps.shift()}this.lastPoke=e}trigger(){let e=this.maxDelay;var t;this.lastPoke&&((t=this.recentGaps.slice()).sort(),t=t[t.length>>1]||1,e=Math.min(Math.max(t*this.slowdownFactor|0,this.minDelay),this.maxDelay),t=Date.now()-this.lastPoke,(e-=t)<0&&(e=0),this.lastPoke=null),clearTimeout(this.timeout),this.timeout=setTimeout(this.wrapped,e)}},_.throttle=function(n,i,a){let s;return function(){let e=this,t=arguments;var r=a&&!s;s=s||setTimeout(function(){s=null,a||n.apply(e,t)},i),r&&n.apply(e,t)}},_.randomPermute=function(t){for(let e=0;e<t.length;++e){var r=h()%t.length,n=t[e];t[e]=t[r],t[r]=n}},_.randomPick=function(e){return 0==e.length?null:e[h()%e.length]},_.timeSince=function(e){let t=(Date.now()-(e*=1e3))/1e3;return isNaN(t)?"":t<-30?(t=-t)<60?_.lf("in a few seconds"):t<120?_.lf("in a minute"):t<3600?_.lf("in {0} minute{0:s}",Math.floor(t/60)):t<7200?_.lf("in an hour"):t<86400?_.lf("in {0} hour{0:s}",Math.floor(t/60/60)):t<2592e3?_.lf("in {0} day{0:s}",Math.floor(t/60/60/24)):t<31536e3?_.lf("in {0} month{0:s}",Math.floor(t/60/60/24/30)):_.lf("in {0} year{0:s}",Math.floor(t/60/60/24/365)):t<0?_.lf("now"):t<10?_.lf("a few seconds ago"):t<60?_.lf("{0} second{0:s} ago",Math.floor(t)):t<120?_.lf("a minute ago"):t<3600?_.lf("{0} minute{0:s} ago",Math.floor(t/60)):t<7200?_.lf("an hour ago"):t<86400?_.lf("{0} hour{0:s} ago",Math.floor(t/60/60)):t<2592e3?_.lf("{0} day{0:s} ago",Math.floor(t/60/60/24)):t<31536e3?_.lf("{0} month{0:s} ago",Math.floor(t/60/60/24/30)):_.lf("{0} year{0:s} ago",Math.floor(t/60/60/24/365))},_.unicodeToChar=function(e){return e.replace(/\\u([\d\w]{4})/gi,function(e,t){return String.fromCharCode(parseInt(t,16))})},_.escapeForRegex=function(e){return null==e?void 0:e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},_.stripUrlProtocol=function(e){return null==e?void 0:e.replace(/.*?:\/\//g,"")},_.normalizePath=p,_.pathJoin=function(e,t){if(p(e),p(t),e||t)return e?t?("/"!==e.charAt(e.length-1)&&(e+="/"),e+(t="/"==t.charAt(0)?t.substring(1):t)):e:t},_.isNodeJS="undefined"==typeof window,_.requestAsync=f,_.httpGetTextAsync=function(e){return f({url:e}).then(e=>e.text)},_.httpGetJsonAsync=function(e){return f({url:e}).then(e=>e.json)},_.httpPostJsonAsync=function(e,t){return f({url:e,data:t||{}}).then(e=>e.json)},_.stringToUint8Array=function(t){var r=t.length,n=new Uint8Array(r);for(let e=0;e<r;++e)n[e]=255&t.charCodeAt(e);return n},_.uint8ArrayToString=function(t){var r=t.length;let n="";for(let e=0;e<r;++e)n+=String.fromCharCode(t[e]);return n},_.fromUTF8=function(t){if(!t)return"";let r="";for(let e=0;e<t.length;++e){var n=255&t.charCodeAt(e);r+=37==n||127<n?"%"+n.toString(16):t.charAt(e)}return decodeURIComponent(r)},_.toUTF8=m,_.toHex=function(t){let r="";for(let e=0;e<t.length;++e)r+=("0"+t[e].toString(16)).slice(-2);return r},_.fromHex=function(t){var r=new Uint8Array(t.length>>1);for(let e=0;e<t.length;e+=2)r[e>>1]=parseInt(t.slice(e,e+2),16);return r},_.PromiseQueue=class{constructor(){this.promises={}}enqueue(n,i){return new Promise((e,t)=>{let r=this.promises[n];(r=r||(this.promises[n]=[])).push(()=>i().finally(()=>{r.shift(),0==r.length?delete this.promises[n]:r[0]()}).then(e,t)),1==r.length&&r[0]()})}},_.PromiseBuffer=class{constructor(){this.waiting=[],this.available=[]}drain(){for(var e of this.waiting)e(new Error("Promise Buffer Reset"));this.waiting=[],this.available=[]}pushError(e){this.push(e)}push(e){var t=this.waiting.shift();t?t(e):this.available.push(e)}shiftAsync(e=0){var t;return 0<this.available.length?(t=this.available.shift())instanceof Error?Promise.reject(t):Promise.resolve(t):new Promise((t,r)=>{let n=e=>{(e instanceof Error?r:t)(e)};this.waiting.push(n),0<e&&u.U.delay(e).then(()=>{var e=this.waiting.indexOf(n);0<=e&&(this.waiting.splice(e,1),r(new Error("Timeout")))})})}},_.now=g,_.nowSeconds=function(){return Math.round(g()/1e3)},_.timeout=function(t){return new Promise(e=>setTimeout(()=>e(),t))},_.runWithBackoffAsync=async function(e,t,r,n,i,a,s=1.5){let o=r;for(var c=Date.now();Date.now()-c<i;){var l=await e();if(t(l))return l;await pxt.Util.timeout(o),o=Math.min(o*s,n)}throw new Error(a)},_.cpuUs=()=>{let e="undefined"!=typeof performance?performance.now.bind(performance)||performance.moznow.bind(performance)||performance.msNow.bind(performance)||performance.webkitNow.bind(performance)||performance.oNow.bind(performance):Date.now;return _.cpuUs=()=>1e3*e(),_.cpuUs()},_.getMime=function(e){if(!(e=/\.([a-zA-Z0-9]+)$/.exec(e)))return"application/octet-stream";switch(e[1].toLowerCase()){case"txt":return"text/plain";case"html":case"htm":return"text/html";case"css":return"text/css";case"js":return"application/javascript";case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"ico":return"image/x-icon";case"manifest":return"text/cache-manifest";case"webmanifest":return"application/manifest+json";case"json":return"application/json";case"svg":return"image/svg+xml";case"eot":return"application/vnd.ms-fontobject";case"ttf":return"font/ttf";case"woff":return"application/font-woff";case"woff2":return"application/font-woff2";case"md":return"text/markdown";case"xml":return"application/xml";case"m4a":return"audio/m4a";case"mp3":return"audio/mp3";case"wasm":return"application/wasm";default:return"application/octet-stream"}},_.randomUint32=h,_.guidGen=function(){function e(){return(65536|h()).toString(16).slice(-4)}return e()+e()+"-"+e()+"-4"+e().slice(-3)+"-"+e()+"-"+e()+e()+e()},_.downloadLiveTranslationsAsync=y,_.pxtLangCookieId="PXT_LANG",_.langCookieExpirationDays=30,_.allLanguages={af:{englishName:"Afrikaans",localizedName:"Afrikaans"},ar:{englishName:"Arabic",localizedName:""},az:{englishName:"Azerbaijani",localizedName:" "},bg:{englishName:"Bulgarian",localizedName:""},bi:{englishName:"Bislama",localizedName:"Bislama"},bn:{englishName:"Bengali",localizedName:""},ca:{englishName:"Catalan",localizedName:"Catal"},cs:{englishName:"Czech",localizedName:"etina"},cy:{englishName:"Welsh",localizedName:"Cymraeg"},da:{englishName:"Danish",localizedName:"Dansk"},de:{englishName:"German",localizedName:"Deutsch"},el:{englishName:"Greek",localizedName:""},en:{englishName:"English",localizedName:"English"},"es-ES":{englishName:"Spanish (Spain)",localizedName:"Espaol (Espaa)"},"es-MX":{englishName:"Spanish (Mexico)",localizedName:"Espaol (Mxico)"},et:{englishName:"Estonian",localizedName:"Eesti"},eu:{englishName:"Basque",localizedName:"Euskara"},fa:{englishName:"Persian",localizedName:""},fi:{englishName:"Finnish",localizedName:"Suomi"},fil:{englishName:"Filipino",localizedName:"Filipino"},fo:{englishName:"Faroese",localizedName:"froyskt"},fr:{englishName:"French",localizedName:"Franais"},"fr-CA":{englishName:"French (Canada)",localizedName:"Franais (Canada)"},"ga-IE":{englishName:"Irish",localizedName:"Gaeilge"},gl:{englishName:"Galician",localizedName:"galego"},gn:{englishName:"Guarani",localizedName:"Avae'"},"gu-IN":{englishName:"Gujarati",localizedName:""},haw:{englishName:"Hawaiian",localizedName:"lelo Hawaii"},hi:{englishName:"Hindi",localizedName:""},he:{englishName:"Hebrew",localizedName:""},hr:{englishName:"Croatian",localizedName:"Hrvatski"},hu:{englishName:"Hungarian",localizedName:"Magyar"},"hy-AM":{englishName:"Armenian (Armenia)",localizedName:" ()"},id:{englishName:"Indonesian",localizedName:"Bahasa Indonesia"},is:{englishName:"Icelandic",localizedName:"slenska"},it:{englishName:"Italian",localizedName:"Italiano"},ja:{englishName:"Japanese",localizedName:""},"ja-HIRA":{englishName:"Hiragana",localizedName:""},ka:{englishName:"Georgian",localizedName:""},kab:{englishName:"Kabyle",localizedName:""},kk:{englishName:"Kazakh",localizedName:" "},km:{englishName:"Khmer",localizedName:""},kmr:{englishName:"Kurmanji (Kurdish)",localizedName:""},kn:{englishName:"Kannada",localizedName:""},ko:{englishName:"Korean",localizedName:""},lt:{englishName:"Lithuanian",localizedName:"Lietuvi"},lv:{englishName:"Latvian",localizedName:"Latvieu"},"ml-IN":{englishName:"Malayalam",localizedName:""},mr:{englishName:"Marathi",localizedName:""},ms:{englishName:"Malay",localizedName:"Melayu"},nl:{englishName:"Dutch",localizedName:"Nederlands"},no:{englishName:"Norwegian",localizedName:"Norsk"},nb:{englishName:"Norwegian Bokmal",localizedName:"Norsk bokml"},"nn-NO":{englishName:"Norwegian Nynorsk",localizedName:"Norsk nynorsk"},"pa-IN":{englishName:"Punjabi",localizedName:""},pl:{englishName:"Polish",localizedName:"Polski"},ps:{englishName:"Pashto",localizedName:""},"pt-BR":{englishName:"Portuguese (Brazil)",localizedName:"Portugus (Brasil)"},"pt-PT":{englishName:"Portuguese (Portugal)",localizedName:"Portugus (Portugal)"},ro:{englishName:"Romanian",localizedName:"Romn"},ru:{englishName:"Russian",localizedName:""},sat:{englishName:"Santali",localizedName:""},"si-LK":{englishName:"Sinhala",localizedName:""},sk:{englishName:"Slovak",localizedName:"Slovenina"},sl:{englishName:"Slovenian",localizedName:"Slovenski"},sq:{englishName:"Albanian",localizedName:"shqip"},sr:{englishName:"Serbian (Cyrillic)",localizedName:"Srpski"},su:{englishName:"Sundanese",localizedName:" "},"sv-SE":{englishName:"Swedish",localizedName:"Svenska"},sw:{englishName:"Swahili",localizedName:"Kiswahili"},"sw-TZ":{englishName:"Swahili (Tanzania)",localizedName:"Kiswahili (Tanzania)"},ta:{englishName:"Tamil",localizedName:""},te:{englishName:"Telugu",localizedName:""},th:{englishName:"Thai",localizedName:""},tl:{englishName:"Tagalog",localizedName:" "},tr:{englishName:"Turkish",localizedName:"Trke"},uk:{englishName:"Ukrainian",localizedName:""},"ur-IN":{englishName:"Urdu (India)",localizedName:" ()"},"ur-PK":{englishName:"Urdu (Pakistan)",localizedName:" ()"},vi:{englishName:"Vietnamese",localizedName:"Ting vit"},"zh-CN":{englishName:"Chinese (Simplified)",localizedName:"()"},"zh-TW":{englishName:"Chinese (Traditional)",localizedName:"()"}},_.isLocaleEnabled=v,_.updateLocalizationAsync=function(e){let{targetId:r,baseUrl:n,force:t}=e,i=e.code;if((i="en-US"===(i=_.normalizeLanguageCode(i)[0])?"en":i)===_.userLanguage()||!v(i)&&!t)return pxt.debug(`loc: ${i} (using built-in)`),Promise.resolve();pxt.debug("loc: "+i);let a=pxt.Util.liveLocalizationEnabled();return b(r,n,i,a,s.pxtc.Util.TranslationsKind.Editor).then(e=>{var t;return e&&(_.setUserLanguage(i),null!=(t=pxt.analytics)&&t.addDefaultProperties({lang:i}),_.setLocalizedStrings(e)),s.pxtc.Util.downloadTranslationsAsync(r,n,i,a,s.pxtc.Util.TranslationsKind.Apis).then(e=>{e&&(s.pxtc.apiLocalizationStrings=e)})})};let l;function b(e,r,n,t,i){if(i=i||l.Editor,"en-US"===(n=_.normalizeLanguageCode(n)[0])||"en"===n)return Promise.resolve(void 0);let a=n+`/${t}/`+i;if(_.translationsCache()[a])return Promise.resolve(_.translationsCache()[a]);let s;switch(i){case l.Editor:s=[{staticName:"strings.json",path:"strings.json"},{staticName:"target-strings.json",path:e+"/target-strings.json"}];break;case l.Sim:s=[{staticName:"sim-strings.json",path:e+"/sim-strings.json"}];break;case l.Apis:s=[{staticName:"bundled-strings.json",path:e+"/bundled-strings.json"}];break;case l.SkillMap:s=[{staticName:"skillmap-strings.json",path:"/skillmap-strings.json"}]}let o;function c(t){t&&(o=o||{},Object.keys(t).filter(e=>!!t[e]).forEach(e=>o[e]=t[e]))}if(t){let t=0;return u.U.promiseMapAllSeries(s,e=>y(n,e.path).then(c,e=>{pxt.log(e.message),++t})).then(()=>(t&&(_.translationsCache()[a]=o),t!==s.length&&o?Promise.resolve(o):(pxt.tickEvent("translations.livetranslationsfailed"),b(e,r,n,!1,i))))}return Promise.all(s.map(e=>_.httpGetJsonAsync(r+`locales/${n}/`+e.staticName).catch(e=>{}))).then(e=>{let t={};e.forEach(e=>pxt.Util.jsonMergeFrom(t,e)),Object.keys(t).length&&(o=t,_.translationsCache()[a]=o)},e=>{pxt.error("failed to load localizations")}).then(()=>o)}function x(e){var t,r={};for(t of Object.keys(e))r[t]=k(e[t]);return r}function k(e){var t;return{attributes:Object.assign({},e.attributes),parameters:null==(t=e.parameters)?void 0:t.map(S),extendsTypes:e.extendsTypes?[...e.extendsTypes]:void 0,pkgs:e.pkgs?[...e.pkgs]:void 0,combinedProperties:e.combinedProperties?[...e.combinedProperties]:void 0,name:e.name,namespace:e.namespace,fileName:e.fileName,kind:e.kind,retType:e.retType,isInstance:e.isInstance,isContextual:e.isContextual,qName:e.qName,pkg:e.pkg,snippet:e.snippet,snippetName:e.snippetName,snippetWithMarkers:e.snippetWithMarkers,pySnippet:e.pySnippet,pySnippetName:e.pySnippetName,pySnippetWithMarkers:e.pySnippetWithMarkers,blockFields:e.blockFields,isReadOnly:e.isReadOnly,pyName:e.pyName,pyQName:e.pyQName,snippetAddsDefinitions:e.snippetAddsDefinitions}}function S(e){var t;return{name:e.name,description:e.description,type:e.type,pyTypeString:e.pyTypeString,initializer:e.initializer,default:e.default,properties:null==(t=e.properties)?void 0:t.map(T),handlerParameters:null==(t=e.handlerParameters)?void 0:t.map(T),options:e.options?u.U.clone(e.options):void 0,isEnum:e.isEnum}}function T(e){return{name:e.name,type:e.type}}function C(e){if(e){var t;for(t of[{label:"Google API Key",regex:/AIza[A-Za-z0-9_\\\-]{35}/},{label:"Slack Token",regex:/xox[pbar]\-[A-Za-z0-9]/},{label:"GitHub Token",regex:/(gh[psuro]_[a-zA-Z0-9]{36}|github_pat_[a-zA-Z0-9]{22}_[a-zA-Z0-9]{59})/},{label:"Generic Secret",regex:/\b(token|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]{0,200}/i},{label:"CLI Credentials",regex:/((login|psexec|(certutil|psexec)\.exe).{1,50}(\s-u(ser(name)?)?\s+.{3,100})?\s-(admin|user|vm|root)?p(ass(word)?)?\s+["']?[^$\-\/\s]|(^|[\s\r\n\\])net(\.exe)?.{1,5}(user\s+|share\s+\/user:| user -? secrets ? set) \s + [^ $\s \/])/},{label:"JWT Token",regex:/\beyJ[A-Za-z0-9_\-]+?\.[A-Za-z0-9_\-]+?\.[A-Za-z0-9_\-]+?\b/},{label:"Email",regex:/\b[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,63}\b/i}])if(t.regex.test(e))return`<REDACTED: ${t.label}>`}return e}(e=l=_.TranslationsKind||(_.TranslationsKind={}))[e.Editor=0]="Editor",e[e.Sim=1]="Sim",e[e.Apis=2]="Apis",e[e.SkillMap=3]="SkillMap",_.downloadTranslationsAsync=b,_.capitalize=function(e){return e&&e[0].toLocaleUpperCase()+e.slice(1)},_.uncapitalize=function(e){return(e||"").split(/(?=[A-Z])/g).join(" ").toLowerCase()},_.camelCaseToLowercaseWithSpaces=function(e){return e.replace(/([A-Z])/gm," $1").toLocaleLowerCase().trim()},_.snakeCaseToLowercaseWithSpaces=function(e){return e.replace(/_/g," ").toLocaleLowerCase().trim()},_.range=function(t){var r=[];for(let e=0;e<t;++e)r.push(e);return r},_.multipartPostAsync=function(e,r={},t=null,n=null){let i="--------------------------0461489f461126c5",a="";Object.keys(r).forEach(e=>{var t;t=r[e=e],a=(a+=i+"\r\n")+'Content-Disposition: form-data; name="'+e+'"\r\n\r\n'+t+"\r\n"}),t&&(n=n,s=(t=t).split("/").reverse()[0],a=(a=a+i+'\r\nContent-Disposition: form-data; name="files['+t+']"; filename="'+s+'"\r\n')+"\r\n"+n+"\r\n"),a+=i+"--\r\n";var s,t={url:e,method:"POST",headers:{"Content-Type":"multipart/form-data; boundary="+i.slice(2)},data:a};return _.httpRequestCoreAsync(t)},_.toDataUri=function(e,t){return/^https?:/i.test(e)||/^data:/i.test(e)?e:(t||/^<svg/i.test(e)&&(t="image/svg+xml"),/xml|svg/.test(t)?`data:${t},`+encodeURIComponent(e):`data:${t||"image/png"};base64,`+u.encodeBase64(m(e)))},_.imageMagic=1496611453,_.imageHeaderSize=36,_.encodeBlobAsync=function(t,e){var r=_.imageHeaderSize+e.length,n=3*(t.width*t.height-1);let i=1;for(;i<4&&!(n*i>=8*r);)i++;var a=n*i>>3,s=r-a;let o=0;var c=t.width*t.height*4;if(0<s){var l=3*t.width,s=(o=Math.ceil(s/l),document.createElement("canvas"));s.width=t.width,s.height=t.height+o;let e=s.getContext("2d");e.drawImage(t,0,0),t=s}function u(t,r,n,i){let a=0,s=0,o=i[s++];var c=(1<<n)-1;let l=!0;for(;l;){let e=o>>a&c;var u=8-a;if(u<=n){if(s>=i.length){if(0==u)break;l=!1}o=i[s++],e|=o<<u&c,a=n-u}else a+=n;t[r]=255&(t[r]&~c|e),3==(3&++r)&&(t[r++]=255)}return r}l=pxt.HF2.encodeU32LE([_.imageMagic,e.length,o,0,0,0,0,0,0]),pxt.Util.assert(l.length==_.imageHeaderSize);let d=t.getContext("2d");var p=d.getImageData(0,0,t.width,t.height);u(p.data,0,1,[i]);let f=4;for(f=u(p.data,f,i,l),pxt.Util.assert(0==(3&f)),f=0==o?u(p.data,f,i,e):(s=a-l.length,f=u(p.data,f,i,e.slice(0,s)),u(p.data,c,8,e.slice(s))),f|=3;f<p.data.length;)p.data[f]=255,f+=4;return d.putImageData(p,0,0),t},_.decodeBlobAsync=function(e){return pxt.BrowserUtils.loadCanvasAsync(e).then(e=>{let o=e.getContext("2d").getImageData(0,0,e.width,e.height).data;var t,r,n,i=1&o[0]|(1&o[1])<<1|(1&o[2])<<2;return 5<i||0==i?Promise.reject(new Error(_.lf("Invalid encoded PNG format"))):(t=a(4,i,n=new Uint8Array(pxt.Util.imageHeaderSize)),(n=pxt.HF2.decodeU32LE(n))[0]!=pxt.Util.imageMagic?Promise.reject(new Error(_.lf("Invalid magic in encoded PNG"))):(r=new Uint8Array(n[1]),0<(n=n[2])?(n=(e.height-n)*e.width,a(t,i,e=new Uint8Array((3*(n-1)*i>>3)-pxt.Util.imageHeaderSize)),r.set(e),a(4*n,8,n=new Uint8Array(r.length-e.length)),r.set(n,e.length)):a(t,i,r),r));function a(e,t,r){let n=0,i=0,a=0;for(var s=(1<<t)-1;i<r.length;)a|=(o[e++]&s)<<n,3==(3&e)&&e++,8<=(n+=t)&&(r[i++]=255&a,a>>=8,n-=8);return e}})},_.parseQueryString=function(e){let n={};return e.replace(/\+/g," ").replace(/([^#?&=]+)=([^#?&=]*)/g,(e,t,r)=>(n[decodeURIComponent(t)]=decodeURIComponent(r),"")),n},_.stringifyQueryString=function(e,t){for(var r of Object.keys(t))0<=e.indexOf("?")?e+="&":e+="?",e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]);return e},_.cloneTargetBundle=function(e){var t=(e=Object.assign({},e)).apiInfo,r=(delete e.apiInfo,e.bundleddirs),n=(delete e.bundleddirs,e.bundledpkgs),i=(delete e.bundledpkgs,e.tutorialInfo),a=(delete e.tutorialInfo,_.clone(e));if(t){a.apiInfo={};for(var s of Object.keys(t)){var o=t[s].apis;a.apiInfo[s]={sha:t[s].sha,apis:{jres:Object.assign({},o.jres),byQName:x(o.byQName)}}}}if(r&&(a.bundleddirs=[...r]),n){a.bundledpkgs={};for(var c of Object.keys(n))a.bundledpkgs[c]=Object.assign({},n[c])}if(i){a.tutorialInfo={};for(var l of Object.keys(i)){var u=i[l];a.tutorialInfo[l]={hash:u.hash,usedBlocks:Object.assign({},u.usedBlocks),snippetBlocks:Object.assign({},u.snippetBlocks),highlightBlocks:Object.assign({},u.highlightBlocks),validateBlocks:Object.assign({},u.validateBlocks)}}}return a},_.cloneApis=x,_.cloneSymbolInfo=k,_.toUTF8Array=function(e){return(new TextEncoder).encode(e)},_.fromUTF8Array=function(e){return(new TextDecoder).decode(e)},_.getHomeUrl=function(){let e,t,r,n=null==(e=pxt.webConfig)?void 0:e.relprefix.substr(0,pxt.webConfig.relprefix.length-3);return pxt.appTarget.appTheme.homeUrl&&n?((null==(t=pxt.appTarget.appTheme.homeUrl)?void 0:t.lastIndexOf("/"))===(null==(r=pxt.appTarget.appTheme.homeUrl)?void 0:r.length)-1&&(n=n.substr(1)),pxt.appTarget.appTheme.homeUrl+n):pxt.appTarget.appTheme.homeUrl},_.isExperienceSupported=function(e){var t=null==(t=null==(t=null==(t=pxt.appTarget)?void 0:t.appTheme)?void 0:t.supportedExperiences)?void 0:t.map(e=>e.toLocaleLowerCase()),e=e.toLocaleLowerCase();return null!=(t=null==t?void 0:t.includes(e))&&t},_.ocvEnabled=function(){var e;return(null==(e=null==(e=pxt.webConfig)?void 0:e.ocv)?void 0:e.appId)&&(null==(e=null==(e=pxt.webConfig)?void 0:e.ocv)?void 0:e.iframeEndpoint)},_.bresenhamLine=function(n,i,a,s,o){var e=a-n,c=s-i;if(0==e){var t=0<=c?s:i;for(let e=0<=c?i:s;e<=t;e++)o(n,e)}else{var l=0<e?1:-1,u=0<c?1:-1,d=Math.abs(c/e);let t=0,r=i;for(let e=n;0<l?e<=a:e>=a;e+=l)for(o(e,r),t+=d;.5<=t;)(0<u?r<=s:r>=s)&&o(e,r),r+=u,--t}},_.isFeatureEnabled=function(e){var t=null==(t=null==(t=pxt.appTarget.appTheme)?void 0:t.enabledFeatures)?void 0:t[e];if(!t)return!1;let r=!0,n=pxt.Cloud.getRegion()?pxt.Cloud.getRegion().toUpperCase():void 0;return r=(r=t.includeRegions?n&&t.includeRegions.some(e=>e.toUpperCase()==n):r)&&t.excludeRegions?n&&!t.excludeRegions.some(e=>e.toUpperCase()==n):r},_.cleanData=function(e){if(!e)return e;let t;if("string"==typeof e)t=C(e);else if("object"==typeof e){t={};for(var[r,n]of Object.entries(e))t[r]="string"==typeof n?C(n):n}else t=e;return t}}})(ts=ts||{}),(e=>{var v=e.pxtc||(e.pxtc={});{e=v.BrowserImpl||(v.BrowserImpl={});v.Util.httpRequestCoreAsync=function(c){return new Promise((e,t)=>{let r,n=!1,i=v.Util.clone(c.headers)||{};r=new XMLHttpRequest,c.responseArrayBuffer&&(r.responseType="arraybuffer"),c.withCredentials&&(r.withCredentials=!0),r.onreadystatechange=()=>{if(!n&&4==r.readyState){n=!0;let t={statusCode:r.status,headers:{},buffer:r.responseBody||r.response,text:c.responseArrayBuffer?void 0:r.responseText};r.getAllResponseHeaders().split(/\r?\n/).forEach(e=>{e=/^\s*([^:]+): (.*)/.exec(e);e&&(t.headers[e[1].toLowerCase()]=e[2])}),e(t)}};var a=c.data,s=c.method||(null==a?"GET":"POST");let o;null==a?o=null:a instanceof Uint8Array?o=a:"object"==typeof a?(o=JSON.stringify(a),i["content-type"]="application/json; charset=utf8"):"string"==typeof a?o=a:v.Util.oops("bad data"),r.open(s,c.url),Object.keys(i).forEach(e=>{r.setRequestHeader(e,i[e])}),null==o?r.send():r.send(o)})},v.Util.sha256=r,v.Util.getRandomBuf=t=>{if(window.crypto)window.crypto.getRandomValues(t);else for(let e=0;e<t.length;++e)t[e]=Math.floor(255*Math.random())};let y=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function b(e,t){return e>>>t|e<<32-t}function t(e){let g=new Uint32Array(8),h=(g[0]=1779033703,g[1]=3144134277,g[2]=1013904242,g[3]=2773480762,g[4]=1359893119,g[5]=2600822924,g[6]=528734635,g[7]=1541459225,new Uint32Array(64));function t(r){var e=r.length-63;for(let t=0;t<e;t+=64){for(let e=0;e<16;e++){var n=(e<<2)+t;h[e]=r[n]<<24|r[n+1]<<16|r[n+2]<<8|r[n+3]}{l=void 0;u=void 0;d=void 0;p=void 0;f=void 0;_=void 0;m=void 0;var l=g;var u=h;v.Util.assert(8==l.length),v.Util.assert(64==u.length);for(let e=16;e<64;++e){var d=b(u[e-15],7)^b(u[e-15],18)^u[e-15]>>>3,p=b(u[e-2],17)^b(u[e-2],19)^u[e-2]>>>10;u[e]=u[e-16]+d+u[e-7]+p|0}let t=l[0],r=l[1],n=l[2],i=l[3],a=l[4],s=l[5],o=l[6],c=l[7];for(let e=0;e<64;++e){var f=b(a,6)^b(a,11)^b(a,25),_=a&s^~a&o,f=c+f+_+y[e]+u[e]|0,_=b(t,2)^b(t,13)^b(t,22),m=t&r^t&n^r&n;c=o,o=s,s=a,a=i+f|0,i=n,n=r,r=t,t=f+(_+m|0)|0}l[0]+=t,l[1]+=r,l[2]+=n,l[3]+=i,l[4]+=a,l[5]+=s,l[6]+=o,l[7]+=c}}}t(e);let r=64-(e.length+9)%64,n=(64==r&&(r=0),e.length-e.length%64);var i=new Uint8Array(e.length-n+1+r+8);let a=0;for(;n<e.length;)i[a++]=e[n++];for(i[a++]=128;0<r--;)i[a++]=0;let s=8*e.length;for(a=i.length;0<s;)i[--a]=255&s,s>>=8;t(i);let o="";for(let e=0;e<g.length;++e)o+=("000000000"+g[e].toString(16)).slice(-8);return o.toLowerCase()}function r(e){pxt.perf.measureStart(Measurements.Sha256Buffer);e=t(v.Util.toUTF8Array(e));return pxt.perf.measureEnd(Measurements.Sha256Buffer),e}e.sha256buffer=t,e.sha256string=r}})(ts=ts||{}),(e=>{var r=e.pxtc||(e.pxtc={});{e=r.jsonPatch||(r.jsonPatch={});let o={add:(e,t,r)=>{if("object"!=typeof e)throw new Error("jsonPatch: expected object type");if(t in e)throw new Error("jsonPatch: object already contains key "+t);e[t]=r},replace:(e,t,r)=>{if("object"!=typeof e)throw new Error("jsonPatch: expected object type");e[t]=r},remove:(e,t)=>{if("object"!=typeof e)throw new Error("jsonPatch: expected object type");delete e[t]}},c={add:(e,t,r)=>{if(!Array.isArray(e))throw new Error("jsonPatch: expected array type");if(t in e)throw new Error(`jsonPatch: key ${t} already exists in array`);"number"==typeof t&&t===Math.floor(t)?e.splice(t,0,r):e[t]=r},replace:(e,t,r)=>{if(!Array.isArray(e))throw new Error("jsonPatch: expected array type");"number"==typeof t&&t===Math.floor(t)?e.splice(t,1,r):e[t]=r},remove:(e,t)=>{if(!Array.isArray(e))throw new Error("jsonPatch: expected array type");"number"==typeof t&&t===Math.floor(t)?e.splice(t,1):delete e[t]}};e.diff=function(e,t){let c={add:[],remove:[],replace:[]};function l(e,t){return!Array.isArray(e)||(e=Number.parseFloat(t),Number.isNaN(e))?t:e}return function e(t,r,n){if(!Object.is(t,r)){r=r||{},t=t||{};for(var i of Object.keys(t))i in r||(i=l(t,i),c.remove.push({op:"remove",path:n.concat(i)}));for(var a of Object.keys(r)){var s=t[a],o=r[a];(a=l(r,a))in t?"object"!=typeof s&&"object"!=typeof o&&s!==o||typeof s!=typeof o||Array.isArray(s)!==Array.isArray(o)?c.replace.push({op:"replace",path:n.concat(a),value:o}):e(s,o,n.concat(a)):void 0!==r[a]&&(n.length&&c.add.push({op:"add",path:n,value:Array.isArray(r)?[]:{}}),c.add.push({op:"add",path:n.concat(a),value:o}))}}}(e,t,[]),[...c.remove.reverse(),...c.replace,...c.add.sort((e,t)=>e.path.length-t.path.length)]},e.patchInPlace=function(n,e){if(!n||"object"!=typeof n)throw new Error("jsonPatch: Must be an object or an array.");for(var i of e){var a=i.path.slice(),s=a.pop();if(null==s)throw new Error("jsonPatch: missing last key");let e=n,t=a.shift();for(;null!=t;){if(!(t in e))throw new Error("jsonPatch: missing parent element "+t);e=e[t],t=a.shift()}if(Array.isArray(e)&&"number"!=typeof s)throw new Error("jsonPatch: expected numeric index for array object");let r=Array.isArray(e)?c:o;"remove"===i.op?r.remove(e,s):"add"!==i.op||s in e?"replace"===i.op&&r.replace(e,s,i.value):r.add(e,s,i.value)}},e.opsAreEqual=function(e,t){return e.op===t.op&&r.U.arrayEquals(e.path,t.path)}}})(ts=ts||{}),(r=>{var n,e;n=r.pxtc||(r.pxtc={}),(e=(e=n.jsonPatch||(n.jsonPatch={})).tests||(e.tests={})).diffTests=function(){var e;for(e of[{comment:"test 1",obja:{a:4,b:5},objb:{a:3,b:5},expected:[{op:"replace",path:["a"],value:3}]},{comment:"test 2",obja:{a:3,b:5},objb:{a:4,c:5},expected:[{op:"remove",path:["b"]},{op:"replace",path:["a"],value:4},{op:"add",path:["c"],value:5}]},{comment:"test 3",obja:{a:4,b:[1,2,3]},objb:{a:3,b:[1,2,4]},expected:[{op:"replace",path:["a"],value:3},{op:"replace",path:["b",2],value:4}]},{comment:"test 4",obja:{a:3,b:[1,2,4]},objb:{a:3,b:[1,2,4,5]},expected:[{op:"add",path:["b"],value:[]},{op:"add",path:["b",3],value:5}]},{comment:"test 5",obja:{a:4,b:{c:3}},objb:{a:4,b:{c:4}},expected:[{op:"replace",path:["b","c"],value:4}]},{comment:"test 6",obja:{a:4,b:{c:4}},objb:{a:5,b:{d:4}},expected:[{op:"remove",path:["b","c"]},{op:"replace",path:["a"],value:5},{op:"add",path:["b"],value:{}},{op:"add",path:["b","d"],value:4}]},{comment:"test 7",obja:{a:4,b:[2,"foo"]},objb:{a:4,b:[2,"foo",["this","that"]]},expected:[{op:"add",path:["b"],value:[]},{op:"add",path:["b",2],value:["this","that"]}]}]){pxt.log(e.comment);var t=r.pxtc.jsonPatch.diff(e.obja,e.objb);n.U.deepEqual(t,e.expected)?pxt.log("succeeded"):(pxt.error("FAILED"),pxt.log("got",t),pxt.log("exp",e.expected))}},e.patchTests=function(){var e;for(e of[{comment:"test 1",obj:{a:"foo",b:[4,11]},patches:[{op:"remove",path:["b"]},{op:"replace",path:["a"],value:4},{op:"add",path:["c"],value:5}],expected:{a:4,c:5}},{comment:"test 2",obj:{a:4,b:[1,2,3]},patches:[{op:"replace",path:["a"],value:3},{op:"replace",path:["b",2],value:4},{op:"add",path:["b",3],value:9}],expected:{a:3,b:[1,2,4,9]}},{comment:"test 3",obj:{a:4,b:{c:3}},patches:[{op:"replace",path:["a"],value:5},{op:"remove",path:["b","c"]},{op:"add",path:["b","d"],value:4}],expected:{a:5,b:{d:4}}},{comment:"test 4",obj:{a:4},patches:[{op:"add",path:["b"],value:[]},{op:"add",path:["b",0],value:"foo"},{op:"add",path:["b",1],value:"bar"}],expected:{a:4,b:["foo","bar"]},validate:e=>e.b&&e.b.forEach}])pxt.log(e.comment),r.pxtc.jsonPatch.patchInPlace(e.obj,e.patches),!n.U.deepEqual(e.obj,e.expected)||!e.validate||e.validate(e.obj)?pxt.log("succeeded"):e.expected&&(pxt.error("FAILED"),pxt.log("got",e.obj),pxt.log("exp",e.expected))}})(ts=ts||{}),(e=>{e.perf||(e.perf={})})(pxt=pxt||{}),pxt.perf.isEnabled||(pxt.perf.isEnabled=()=>!1),pxt.perf.report||(pxt.perf.report=()=>{}),pxt.perf.recordMilestone||(pxt.perf.recordMilestone=()=>{}),pxt.perf.measureStart||(pxt.perf.measureStart=()=>{}),pxt.perf.measureEnd||(pxt.perf.measureEnd=()=>{}),(i=>{i.U=pxtc.Util,i.Util=pxtc.Util;let n,r={};i.setAppTarget=function(e){i.appTarget=e||{},l(),n=i.U.cloneTargetBundle(i.appTarget)};let o;function a(e,t){/^csv-/.test(e)?i.setAppTargetVariant(e.replace(/^csv-*/,"")):i.appTarget&&(r[e]=t,i.U.jsonCopyFrom(i.appTarget.compile.switches,r),i.U.jsonCopyFrom(n.compile.switches,r))}i.setBundledApiInfo=function(e){for(var t of Object.keys(e)){var r,n=e[t].apis.byQName;for(r of Object.keys(n)){var i=n[r],a=r.lastIndexOf("."),s=i.pyQName,a=n[r]={kind:Math.abs(i.kind||7),qName:r,namespace:r.slice(0,a<0?0:a),name:r.slice(a+1),pyQName:s,pyName:s?s.slice(s.lastIndexOf(".")+1):void 0,fileName:"",attributes:i.attributes||{},retType:i.retType||"void",parameters:i.parameters?i.parameters.map(e=>({name:e.name,description:e.description||"",type:e.type||"number",initializer:e.initializer,default:e.default,options:e.options||{},isEnum:!!e.isEnum,handlerParameters:e.handlerParameters})):null,extendsTypes:i.extendsTypes,snippet:i.kind&&i.kind<0?null:void 0,isInstance:!!i.isInstance,isReadOnly:!!i.isReadOnly},s=a.attributes;s.paramDefl||(s.paramDefl={}),s.callingConvention||(s.callingConvention=0),s.paramHelp||(s.paramHelp={}),s.jsDoc||(s.jsDoc=""),s._name=a.name.replace(/@.*/,"")}}o=e},i.getBundledApiInfo=function(){return o},i.savedAppTheme=function(){return n?n.appTheme:void 0},i.setCompileSwitch=a,i.setCompileSwitches=function(e){if(e)for(var t of e.split(/[\s,;:]+/))t&&("-"==t[0]?a(t.slice(1),!1):a(t,!0))};let s;function c(e,t,r){if(Array.isArray(e))return e.map(e=>c(e,t,r));if("object"!=typeof e)return"string"==typeof e&&t.test(e)?r(e):e;for(var n of Object.keys(e))e[n]=c(e[n],t,r);return e}function l(){let e=i.appTarget.compile;(e=e||(i.appTarget.compile={isNative:!1,hasHex:!1,switches:{}})).hasHex&&!e.nativeType&&(e.nativeType=pxtc.NATIVE_TYPE_THUMB),e.switches||(e.switches={}),e.nativeType==pxtc.NATIVE_TYPE_VM&&(e.sourceMap=!0),i.U.jsonCopyFrom(e.switches,r),e.jsRefCounting=!1,e.useUF2||e.useELF||null!=e.noSourceInFlash||(e.noSourceInFlash=!0),void 0===e.utf8&&(e.utf8=!0),i.appTarget.appTheme||(i.appTarget.appTheme={}),i.appTarget.appTheme.embedUrl||(i.appTarget.appTheme.embedUrl=i.appTarget.appTheme.homeUrl);var t=i.appTarget.compileService;if(t&&t.yottaTarget&&!t.yottaBinary&&(t.yottaBinary="pxt-microbit-app-combined.hex"),i.appTarget=c(i.appTarget,/^@cdnUrl@/i,e=>i.BrowserUtils.patchCdn(e)),i.appTarget.bundledpkgs&&Object.keys(i.appTarget.bundledpkgs).forEach(e=>{var e=i.appTarget.bundledpkgs[e],t=JSON.parse(e[i.CONFIG_NAME]);t.icon&&(t.icon=i.BrowserUtils.patchCdn(t.icon)),e[i.CONFIG_NAME]=i.Package.stringifyConfig(t)}),"undefined"!=typeof window){let t={"lockededitor=1":{appTheme:{lockedEditor:!0}},"hidemenu=1":{appTheme:{hideMenuBar:!0}}},r=(i.appTarget.queryVariants&&i.Util.jsonCopyFrom(t,i.appTarget.queryVariants),window.location.href);Object.keys(t).forEach(e=>{new RegExp(e,"i").exec(r)&&(e=t[e])&&i.U.jsonMergeFrom(i.appTarget,e)})}}function u(e=!1){i.perf.measureStart(Measurements.ReloadAppTargetVariant);var t,r=e?"":JSON.stringify(i.appTarget);i.appTarget=i.U.cloneTargetBundle(n),i.appTargetVariant&&((t=i.appTarget.variants&&i.appTarget.variants[i.appTargetVariant])?i.U.jsonMergeFrom(i.appTarget,t):i.U.userError(lf("Variant '{0}' not defined in pxtarget.json",i.appTargetVariant))),l(),!e&&i.onAppTargetChanged&&r!=JSON.stringify(i.appTarget)&&i.onAppTargetChanged(),i.perf.measureEnd(Measurements.ReloadAppTargetVariant)}function t(){return{relprefix:"/--",workerjs:"/worker.js",monacoworkerjs:"/monacoworker.js",gifworkerjs:"/gifjs/gif.worker.js",serviceworkerjs:"/serviceworker.js",typeScriptWorkerJs:"/tsworker.js",pxtVersion:"local",pxtRelId:"localRelId",pxtCdnUrl:"/cdn/",commitCdnUrl:"/cdn/",blobCdnUrl:"/blb/",cdnUrl:"/cdn/",targetUrl:"",targetVersion:"local",targetRelId:"",targetId:i.appTarget?i.appTarget.id:"",simUrl:"/sim/simulator.html",simserviceworkerUrl:"/simulatorserviceworker.js",simworkerconfigUrl:"/sim/workerConfig.js",partsUrl:"/sim/siminstructions.html"}}i.bundledSvg=function(t){if(t){var r=s&&s[t];if(r)return r;if(i.appTarget.simulator&&i.appTarget.simulator.dynamicBoardDefinition){s=s||{};r=i.appTarget.bundledpkgs[t];if(r){if(JSON.parse(r["pxt.json"]).core&&r["board.json"]){var n=JSON.parse(r["board.json"]);if(n&&n.visual&&n.visual.image){let e=n.visual.image;/^pkg:\/\//.test(e)&&(e=r[e.slice(6)]),s[t]="data:image/svg+xml;base64,"+ts.pxtc.encodeBase64(i.Util.toUTF8(e))}}return s[t]}}}},i.replaceStringsInJsonBlob=c,i.reloadAppTargetVariant=u,i.setAppTargetVariant=function(e,t={}){i.debug("app variant: "+e),(t.force||i.appTargetVariant!==e&&(i.appTargetVariant||e))&&(i.appTargetVariant=e,u(t.temporary))},i.setHwVariant=function(e,t){e=e.replace(/.*---/,""),/^[\w\-]+$/.test(e)?(i.hwVariant=e,i.hwName=t||e):(i.hwVariant=null,i.hwName=null),i.debug(`hwVariant: ${i.hwVariant} (${i.hwName})`)},i.hasHwVariants=function(){return!!i.appTarget.variants&&Object.keys(i.appTarget.bundledpkgs).some(e=>/^hw---/.test(e))},i.getHwVariants=function(){return i.appTarget.variants?Object.keys(i.appTarget.bundledpkgs).filter(e=>/^hw---/.test(e)).map(e=>JSON.parse(i.appTarget.bundledpkgs[e][i.CONFIG_NAME])).filter(e=>!!i.appTarget.appTheme.experimentalHw||!e.experimentalHw):[]},i.getActiveHwVariant=function(){return i.hwVariant},i.options={},i.reportException=function(e,t){if(i.error(e),t)try{i.error(t)}catch(e){}},i.reportError=function(e,t,r){if(i.error(e+": "+t),r)try{i.log(JSON.stringify(r,null,2))}catch(e){}},i.localWebConfig=t,i.getOnlineCdnUrl=function(){var e;return i.webConfig&&(e=/^(https:\/\/[^\/]+)/.exec(i.webConfig.commitCdnUrl))?e[1]:null},i.setupWebConfig=function(e){e?i.webConfig=e:i.webConfig||(i.webConfig=t())},i.getEmbeddedScript=function(e){return i.U.lookup(i.appTarget.bundledpkgs||{},e)};let e=void 0;function d(){return e=e||i.Cloud.downloadTargetConfigAsync().then(e=>e||{},e=>({}))}function p(e=null){return(e=e||i.appTarget.compile).nativeType==ts.pxtc.NATIVE_TYPE_VM?e.useESP?e.useUF2?ts.pxtc.BINARY_UF2:ts.pxtc.BINARY_ESP:ts.pxtc.BINARY_PXT64:e.useUF2&&!e.switches.rawELF?ts.pxtc.BINARY_UF2:e.useELF?ts.pxtc.BINARY_ELF:ts.pxtc.BINARY_HEX}i.targetConfigAsync=d,i.packagesConfigAsync=function(){return d().then(e=>e?e.packages:void 0)},i.CONFIG_NAME="pxt.json",i.SIMSTATE_JSON=".simstate.json",i.SERIAL_EDITOR_FILE="serial.txt",i.README_FILE="README.md",i.GITIGNORE_FILE=".gitignore",i.ASSETS_FILE="assets.json",i.CLOUD_ID="pxt/",i.BLOCKS_PROJECT_NAME="blocksprj",i.JAVASCRIPT_PROJECT_NAME="tsprj",i.PYTHON_PROJECT_NAME="pyprj",i.MAIN_BLOCKS="main.blocks",i.MAIN_TS="main.ts",i.MAIN_PY="main.py",i.DEFAULT_GROUP_NAME="other",i.TILEMAP_CODE="tilemap.g.ts",i.TILEMAP_JRES="tilemap.g.jres",i.IMAGES_CODE="images.g.ts",i.IMAGES_JRES="images.g.jres",i.TUTORIAL_CODE_START="_onCodeStart.ts",i.TUTORIAL_CODE_STOP="_onCodeStop.ts",i.TUTORIAL_INFO_FILE="tutorial-info-cache.json",i.TUTORIAL_CUSTOM_TS="tutorial.custom.ts",i.BREAKPOINT_TABLET=991,i.PALETTES_FILE="_palettes.json",i.HISTORY_FILE="_history",i.outputName=p,i.isOutputText=function(e=null){return p(e)==ts.pxtc.BINARY_HEX}})(pxt=pxt||{}),(s=>{{var y=s.blocks||(s.blocks={});let a="this";y.showBlockIdInTooltip=!1,y.requirePxtBlockly=()=>{},y.requireBlockly=()=>{},y.registerFieldEditor=()=>{},y.MATH_FUNCTIONS={unary:["sqrt","sin","cos","tan","asin","acos"],binary:["atan2"],infix:["idiv","imul"]},y.ROUNDING_FUNCTIONS=["round","ceil","floor","trunc"],y.builtinFunctionInfo={"Math.abs":{blockId:"math_op3",params:["x"]},"Math.min":{blockId:"math_op2",params:["x","y"]},"Math.max":{blockId:"math_op2",params:["x","y"]}},y.normalizeBlock=function(e,t=s.log){if(!e)return e;let r=e.replace(/(?:^|[^\\])([%$])\s+/g,"$1");return r!=e&&(t("block has extra spaces: "+e),e=r),(r=(e=r).replace(/([%$]\w+)\s*=\s*(\w+)/,"$1=$2"))!=e&&(t("block has space between %name and = : "+e),e=r),r=r.replace(/\s*\|\s*/g,"|")},y.compileInfo=function(o){let e,c={parameters:[],actualNameToParam:{},definitionNameToParam:{},handlerArgs:[]},t=!(1!=o.kind&&2!=o.kind||o.attributes.defaultInstance||o.isStatic),l=("boolean"!=typeof o.isInstance||null!=(e=o.attributes)&&e.defaultInstance||(t=o.isInstance),!!o.attributes._def),u=l?o.attributes._def.parameters.slice(0):void 0,d=l?u.length:o.parameters?o.parameters.length:0,p=y.builtinFunctionInfo[o.qName],f=(l&&o.attributes._expandedDef&&u.push(...o.attributes._expandedDef.parameters),{}),_=u?u.filter(e=>!e.ref||(f[e.name]=e,!1)):[];if(t&&l&&u.length){var r=f.this||u[0],n=r.name,i=!r.shadowBlockId||"variables_get"===r.shadowBlockId;let e=o.attributes.paramDefl[n]||o.attributes.paramDefl.this;i&&(e=r.varName||e),c.thisParameter={actualName:a,definitionName:n,shadowBlockId:r.shadowBlockId,type:o.namespace,defaultValue:e,definitionIndex:u.indexOf(r),fieldEditor:m(n,a),fieldOptions:g(n,a),shadowOptions:h(n,a)}}if(o.parameters){let s=t&&!f.this?1:0;o.parameters.forEach((t,r)=>{let n;if(f[t.name]?n=f[t.name]:s<_.length&&(n=_[s],++s),n||!l){let e=void 0;t.options&&t.options.min&&t.options.max&&(e={min:t.options.min.value,max:t.options.max.value});var i=n?n.name:p?p.params[s++]:t.name,a=n&&("variables_get"===n.shadowBlockId||"lists_create_with"==n.shadowBlockId);c.parameters.push({actualName:t.name,type:t.type,defaultValue:a&&n.varName||t.default,definitionName:i,definitionIndex:n?u.indexOf(n):r,shadowBlockId:n&&n.shadowBlockId,isOptional:!!u&&u.indexOf(n)>=d,fieldEditor:m(i,t.name),fieldOptions:g(i,t.name),shadowOptions:h(i,t.name),range:e})}t.handlerParameters&&t.handlerParameters.forEach(t=>{c.handlerArgs.push({name:t.name,type:t.type,inBlockDef:!!u&&u.some(e=>e.ref&&e.name===t.name),localizationKey:o.qName+"|handlerParam|"+t.name})})})}return c.parameters.forEach(e=>{c.actualNameToParam[e.actualName]=e,c.definitionNameToParam[e.definitionName]=e}),c;function m(e,t){return o.attributes.paramFieldEditor&&(o.attributes.paramFieldEditor[e]||o.attributes.paramFieldEditor[t])}function g(e,t){return o.attributes.paramFieldEditorOptions&&(o.attributes.paramFieldEditorOptions[e]||o.attributes.paramFieldEditorOptions[t])}function h(e,t){return o.attributes.paramShadowOptions&&(o.attributes.paramShadowOptions[e]||o.attributes.paramShadowOptions[t])}},y.hasHandler=function(e){return e.parameters&&e.parameters.some(e=>{var t;return"() => void"==e.type||"Action"==e.type||!(null==(t=e.properties)||!t.length)||!(null==(t=e.handlerParameters)||!t.length)})},y.getHelpUrl=function(e){if(e.attributes.help){var t=e.attributes.help.replace(/^\//,"");if(/^github:/.test(t))return t;if("none"!==t)return"/reference/"+t}else if(e.pkg&&!s.appTarget.bundledpkgs[e.pkg])return(t=e.qName.toLowerCase().split("."))[0]==e.pkg&&t.shift(),`/pkg/${e.pkg}#`+encodeURIComponent(t.join("-"))},y.reporterTypeForArgType=function(e){let t="boolean"!==e&&"number"!==e&&"string"!==e?"argument_reporter_custom":"argument_reporter_"+e;return t=/^(?:Array<(?:.+)>)|(?:(?:.+)\[\])$/.test(e)?"argument_reporter_array":t},y.defaultIconForArgType=function(e=""){switch(e){case"number":return"calculator";case"string":return"text width";case"boolean":return"random";case"Array":return"list";default:return"align justify"}},y.parseFields=function(e){return e.split("|").map((e,t)=>{var r=/([^%]*)\s*%([a-zA-Z0-9_]+)/.exec(e);if(!r)return{n:e,ni:t};let n=r[1];return{n:e,ni:t,pre:n=n&&n.trim(),p:r[2]}})};let i;function t(){if((i={device_while:{name:s.Util.lf("a loop that repeats while the condition is true"),tooltip:s.Util.lf("Run the same sequence of actions while the condition is met."),url:"/blocks/loops/while",category:"loops",block:{message0:s.Util.lf("while %1"),appendField:s.Util.lf("{id:while}do")}},pxt_controls_for:{name:s.Util.lf("a loop that repeats the number of times you say"),tooltip:s.Util.lf("Have the variable '{0}' take on the values from 0 to the end number, counting by 1, and do the specified blocks."),url:"/blocks/loops/for",category:"loops",block:{message0:s.Util.lf("for %1 from 0 to %2"),variable:s.Util.lf("{id:var}index"),appendField:s.Util.lf("{id:for}do")}},controls_simple_for:{name:s.Util.lf("a loop that repeats the number of times you say"),tooltip:s.Util.lf("Have the variable '{0}' take on the values from 0 to the end number, counting by 1, and do the specified blocks."),url:"/blocks/loops/for",category:"loops",block:{message0:s.Util.lf("for %1 from 0 to %2"),variable:s.Util.lf("{id:var}index"),appendField:s.Util.lf("{id:for}do")}},pxt_controls_for_of:{name:s.Util.lf("a loop that repeats for each value in an array"),tooltip:s.Util.lf("Have the variable '{0}' take the value of each item in the array one by one, and do the specified blocks."),url:"/blocks/loops/for-of",category:"loops",block:{message0:s.Util.lf("for element %1 of %2"),variable:s.Util.lf("{id:var}value"),appendField:s.Util.lf("{id:for_of}do")}},controls_for_of:{name:s.Util.lf("a loop that repeats for each value in an array"),tooltip:s.Util.lf("Have the variable '{0}' take the value of each item in the array one by one, and do the specified blocks."),url:"/blocks/loops/for-of",category:"loops",block:{message0:s.Util.lf("for element %1 of %2"),variable:s.Util.lf("{id:var}value"),appendField:s.Util.lf("{id:for_of}do")}},math_op2:{name:s.Util.lf("minimum or maximum of 2 numbers"),tooltip:{min:s.Util.lf("smaller value of 2 numbers"),max:s.Util.lf("larger value of 2 numbers")},url:"/blocks/math",operators:{op:["min","max"]},category:"math"},math_op3:{name:s.Util.lf("absolute number"),tooltip:s.Util.lf("absolute value of a number"),url:"/reference/math",category:"math",block:{message0:s.Util.lf("absolute of %1")}},math_number:{name:s.Util.lf("{id:block}number"),url:"/types/number",category:"math",tooltip:s.appTarget&&s.appTarget.compile?s.Util.lf("a decimal number"):s.Util.lf("an integer number")},math_integer:{name:s.Util.lf("{id:block}number"),url:"/types/number",category:"math",tooltip:s.Util.lf("an integer number")},math_whole_number:{name:s.Util.lf("{id:block}number"),url:"/types/number",category:"math",tooltip:s.Util.lf("a whole number")},math_number_minmax:{name:s.Util.lf("{id:block}number"),url:"/blocks/math",category:"math"},math_arithmetic:{name:s.Util.lf("arithmetic operation"),url:"/blocks/math",tooltip:{ADD:s.Util.lf("Return the sum of the two numbers."),MINUS:s.Util.lf("Return the difference of the two numbers."),MULTIPLY:s.Util.lf("Return the product of the two numbers."),DIVIDE:s.Util.lf("Return the quotient of the two numbers."),POWER:s.Util.lf("Return the first number raised to the power of the second number.")},operators:{OP:["ADD","MINUS","MULTIPLY","DIVIDE","POWER"]},category:"math",block:{MATH_ADDITION_SYMBOL:s.Util.lf("{id:op}+"),MATH_SUBTRACTION_SYMBOL:s.Util.lf("{id:op}-"),MATH_MULTIPLICATION_SYMBOL:s.Util.lf("{id:op}"),MATH_DIVISION_SYMBOL:s.Util.lf("{id:op}/"),MATH_POWER_SYMBOL:s.Util.lf("{id:op}**")}},math_modulo:{name:s.Util.lf("division remainder"),tooltip:s.Util.lf("Return the remainder from dividing the two numbers."),url:"/blocks/math",category:"math",block:{MATH_MODULO_TITLE:s.Util.lf("remainder of %1 / %2")}},math_js_op:{name:s.Util.lf("math function"),tooltip:{sqrt:s.Util.lf("Returns the square root of the argument"),sin:s.Util.lf("Returns the sine of the argument"),cos:s.Util.lf("Returns the cosine of the argument"),acos:s.Util.lf("Returns the arccosine of the argument"),asine:s.Util.lf("Returns the arcsine of the argument"),tan:s.Util.lf("Returns the tangent of the argument"),atan2:s.Util.lf("Returns the arctangent of the quotient of the two arguments"),idiv:s.Util.lf("Returns the integer portion of the division operation on the two arguments"),imul:s.Util.lf("Returns the integer portion of the multiplication operation on the two arguments")},url:"/blocks/math",operators:{OP:["sqrt","sin","cos","tan","atan2","idiv","imul"]},category:"math",block:{sqrt:s.Util.lf("{id:op}square root"),sin:s.Util.lf("{id:op}sin"),cos:s.Util.lf("{id:op}cos"),asin:s.Util.lf("{id:op}asin"),acos:s.Util.lf("{id:op}acos"),tan:s.Util.lf("{id:op}tan"),atan2:s.Util.lf("{id:op}atan2"),idiv:s.Util.lf("{id:op}integer /"),imul:s.Util.lf("{id:op}integer ")}},math_js_round:{name:s.Util.lf("rounding functions"),tooltip:{round:s.Util.lf("Increases the argument to the next higher whole number if its fractional part is more than one half"),ceil:s.Util.lf("Increases the argument to the next higher whole number"),floor:s.Util.lf("Decreases the argument to the next lower whole number"),trunc:s.Util.lf("Removes the fractional part of the argument")},url:"/blocks/math",operators:{OP:["round","ceil","floor","trunc"]},category:"math",block:{round:s.Util.lf("{id:op}round"),ceil:s.Util.lf("{id:op}ceiling"),floor:s.Util.lf("{id:op}floor"),trunc:s.Util.lf("{id:op}truncate")}},variables_change:{name:s.Util.lf("update the value of a number variable"),tooltip:s.Util.lf("Changes the value of the variable by this amount"),url:"/blocks/variables/change",category:"variables",block:{message0:s.Util.lf("change %1 by %2")}},controls_repeat_ext:{name:s.Util.lf("a loop that repeats and increments an index"),tooltip:s.Util.lf("Do some statements several times."),url:"/blocks/loops/repeat",category:"loops",block:{CONTROLS_REPEAT_TITLE:s.Util.lf("repeat %1 times"),CONTROLS_REPEAT_INPUT_DO:s.Util.lf("{id:repeat}do")}},variables_get:{name:s.Util.lf("get the value of a variable"),tooltip:s.Util.lf("Returns the value of this variable."),url:"/blocks/variables",category:"variables",block:{VARIABLES_GET_CREATE_SET:s.Util.lf("Create 'set %1'")}},variables_get_reporter:{name:s.Util.lf("get the value of a variable"),tooltip:s.Util.lf("Returns the value of this variable."),url:"/blocks/variables",category:"variables",block:{VARIABLES_GET_CREATE_SET:s.Util.lf("Create 'set %1'")}},variables_set:{name:s.Util.lf("assign the value of a variable"),tooltip:s.Util.lf("Sets this variable to be equal to the input."),url:"/blocks/variables/assign",category:"variables",block:{VARIABLES_SET:s.Util.lf("set %1 to %2")}},controls_if:{name:s.Util.lf("a conditional statement"),tooltip:{CONTROLS_IF_TOOLTIP_1:s.Util.lf("If a value is true, then do some statements."),CONTROLS_IF_TOOLTIP_2:s.Util.lf("If a value is true, then do the first block of statements. Otherwise, do the second block of statements."),CONTROLS_IF_TOOLTIP_3:s.Util.lf("If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements."),CONTROLS_IF_TOOLTIP_4:s.Util.lf("If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.")},tooltipSearch:"CONTROLS_IF_TOOLTIP_2",url:"/blocks/logic/if",category:"logic",block:{CONTROLS_IF_MSG_IF:s.Util.lf("{id:logic}if"),CONTROLS_IF_MSG_THEN:s.Util.lf("{id:logic}then"),CONTROLS_IF_MSG_ELSE:s.Util.lf("{id:logic}else"),CONTROLS_IF_MSG_ELSEIF:s.Util.lf("{id:logic}else if")}},lists_create_with:{name:s.Util.lf("create an array"),tooltip:s.Util.lf("Creates a new array."),url:"/reference/arrays/create",category:"arrays",blockTextSearch:"LISTS_CREATE_WITH_INPUT_WITH",block:{LISTS_CREATE_EMPTY_TITLE:s.Util.lf("empty array"),LISTS_CREATE_WITH_INPUT_WITH:s.Util.lf("array of"),LISTS_CREATE_WITH_CONTAINER_TITLE_ADD:s.Util.lf("array"),LISTS_CREATE_WITH_ITEM_TITLE:s.Util.lf("value")}},lists_length:{name:s.Util.lf("array length"),tooltip:s.Util.lf("Returns the number of items in an array."),url:"/reference/arrays/length",category:"arrays",block:{LISTS_LENGTH_TITLE:s.Util.lf("length of array %1")}},lists_index_get:{name:s.Util.lf("get a value in an array"),tooltip:s.Util.lf("Returns the value at the given index in an array."),url:"/reference/arrays/get",category:"arrays",block:{message0:s.Util.lf("%1 get value at %2")}},lists_index_set:{name:s.Util.lf("set a value in an array"),tooltip:s.Util.lf("Sets the value at the given index in an array"),url:"/reference/arrays/set",category:"arrays",block:{message0:s.Util.lf("%1 set value at %2 to %3")}},logic_compare:{name:s.Util.lf("comparing two numbers"),tooltip:{LOGIC_COMPARE_TOOLTIP_EQ:s.Util.lf("Return true if both inputs equal each other."),LOGIC_COMPARE_TOOLTIP_NEQ:s.Util.lf("Return true if both inputs are not equal to each other."),LOGIC_COMPARE_TOOLTIP_LT:s.Util.lf("Return true if the first input is smaller than the second input."),LOGIC_COMPARE_TOOLTIP_LTE:s.Util.lf("Return true if the first input is smaller than or equal to the second input."),LOGIC_COMPARE_TOOLTIP_GT:s.Util.lf("Return true if the first input is greater than the second input."),LOGIC_COMPARE_TOOLTIP_GTE:s.Util.lf("Return true if the first input is greater than or equal to the second input.")},url:"/blocks/logic/boolean",category:"logic",block:{search:"=  <  > "}},logic_operation:{name:s.Util.lf("boolean operation"),tooltip:{LOGIC_OPERATION_TOOLTIP_AND:s.Util.lf("Return true if both inputs are true."),LOGIC_OPERATION_TOOLTIP_OR:s.Util.lf("Return true if at least one of the inputs is true.")},url:"/blocks/logic/boolean",category:"logic",block:{LOGIC_OPERATION_AND:s.Util.lf("{id:op}and"),LOGIC_OPERATION_OR:s.Util.lf("{id:op}or")}},logic_negate:{name:s.Util.lf("logical negation"),tooltip:s.Util.lf("Returns true if the input is false. Returns false if the input is true."),url:"/blocks/logic/boolean",category:"logic",block:{LOGIC_NEGATE_TITLE:s.Util.lf("not %1")}},logic_boolean:{name:s.Util.lf("a `true` or `false` value"),tooltip:s.Util.lf("Returns either true or false."),url:"/blocks/logic/boolean",category:"logic",block:{LOGIC_BOOLEAN_TRUE:s.Util.lf("{id:boolean}true"),LOGIC_BOOLEAN_FALSE:s.Util.lf("{id:boolean}false")}},text:{name:s.Util.lf("a piece of text"),tooltip:s.Util.lf("A letter, word, or line of text."),url:"/types/string",category:"text",block:{search:s.Util.lf("a piece of text")}},text_length:{name:s.Util.lf("number of characters in the string"),tooltip:s.Util.lf("Returns the number of letters (including spaces) in the provided text."),url:"/reference/text/length",category:"text",block:{TEXT_LENGTH_TITLE:s.Util.lf("length of %1")}},text_join:{name:s.Util.lf("join items to create text"),tooltip:s.Util.lf("Create a piece of text by joining together any number of items."),url:"/reference/text/join",category:"text",block:{TEXT_JOIN_TITLE_CREATEWITH:s.Util.lf("join")}},procedures_defnoreturn:{name:s.Util.lf("define the function"),tooltip:s.Util.lf("Create a function."),url:"/types/function/define",category:"functions",block:{PROCEDURES_DEFNORETURN_TITLE:s.Util.lf("function"),PROCEDURE_ALREADY_EXISTS:s.Util.lf("A function named '%1' already exists.")}},procedures_callnoreturn:{name:s.Util.lf("call the function"),tooltip:s.Util.lf("Call the user-defined function."),url:"/types/function/call",category:"functions",block:{PROCEDURES_CALLNORETURN_TITLE:s.Util.lf("call function")}},function_return:{name:s.Util.lf("return a value from within a function"),tooltip:s.Util.lf("Return a value from within a user-defined function."),url:"/types/function/return",category:"functions",block:{message_with_value:s.Util.lf("return %1"),message_no_value:s.Util.lf("return")}},function_definition:{name:s.Util.lf("define the function"),tooltip:s.Util.lf("Create a function."),url:"/types/function/define",category:"functions",block:{FUNCTIONS_EDIT_OPTION:s.Util.lf("Edit Function")}},function_call:{name:s.Util.lf("call the function"),tooltip:s.Util.lf("Call the user-defined function."),url:"/types/function/call",category:"functions",block:{FUNCTIONS_CALL_TITLE:s.Util.lf("call"),FUNCTIONS_GO_TO_DEFINITION_OPTION:s.Util.lf("Go to Definition")}},function_call_output:{name:s.Util.lf("call the function with a return value"),tooltip:s.Util.lf("Call the user-defined function with a return value."),url:"/types/function/call",category:"functions",block:{}}})[pxtc.ON_START_TYPE]={name:s.Util.lf("on start event"),tooltip:s.Util.lf("Run code when the program starts"),url:"/blocks/on-start",category:"loops",block:{message0:s.Util.lf("on start %1 %2")}},i[pxtc.PAUSE_UNTIL_TYPE]={name:s.Util.lf("pause until"),tooltip:s.Util.lf("Pause execution of code until the given boolean expression is true"),url:"/blocks/pause-until",category:"loops",block:{message0:s.Util.lf("pause until %1")}},i[pxtc.TS_BREAK_TYPE]={name:s.Util.lf("break"),tooltip:s.Util.lf("Break out of the current loop or switch"),url:"/blocks/loops/break",category:"loops",block:{message0:s.Util.lf("break")}},i[pxtc.TS_CONTINUE_TYPE]={name:s.Util.lf("continue"),tooltip:s.Util.lf("Skip current iteration and continues with the next iteration in the loop"),url:"/blocks/loops/continue",category:"loops",block:{message0:s.Util.lf("continue")}},s.blocks.showBlockIdInTooltip)for(var e of Object.keys(i)){var t=i[e].tooltip;if("object"==typeof t&&null!==t)for(var r in t)t.hasOwnProperty(r)&&(i[e].tooltip[r]=`${t[r]} (id: ${e})`);else i[e].tooltip=`${i[e].tooltip} (id: ${e})`}}y.blockDefinitions=function(){return i||t(),i},y.getBlockDefinition=function(e){return i||t(),i[e]},y.initInContextTranslationAsync=async function(){i||t();let n={};return await Promise.all(s.Util.values(i).filter(e=>e.block).map(async r=>{var e=Object.keys(r.block);r.translationIds=s.Util.values(r.block),await Promise.all(e.map(async e=>{var t=await s.crowdin.inContextLoadAsync(r.block[e]);r.block[e]=t,/^[A-Z_]+$/.test(e)&&(n[e]=t)}))})),n}}})(pxt=pxt||{}),(u=>{{var o=u.BrowserUtils||(u.BrowserUtils={});function a(){return"undefined"!=typeof navigator}function e(){return a()&&/(Win32|Win64|WOW64)/i.test(navigator.platform)}function c(){return a()&&/mobi/i.test(navigator.userAgent)}function l(){return a()&&/Mac/i.test(navigator.platform)}function d(){return!!navigator&&/Linux/i.test(navigator.platform)}function p(){return a()&&/arm/i.test(navigator.platform)}function f(){return a()&&/Edge/i.test(navigator.userAgent)}function _(){return a()&&/Trident/i.test(navigator.userAgent)}function m(){return!f()&&!_()&&!!navigator&&(/Chrome/i.test(navigator.userAgent)||/Chromium/i.test(navigator.userAgent))}function g(){return!m()&&!f()&&!!navigator&&/(Macintosh|Safari|iPod|iPhone|iPad)/i.test(navigator.userAgent)}function h(){return!g()&&!!navigator&&(/Firefox/i.test(navigator.userAgent)||/Seamonkey/i.test(navigator.userAgent))}function y(){return a()&&/Opera|OPR/i.test(navigator.userAgent)}function v(){return a()&&/Midori/i.test(navigator.userAgent)}function b(){return a()&&/Epiphany/i.test(navigator.userAgent)}function x(){return"undefined"!=typeof window&&("ontouchstart"in window||navigator&&0<navigator.maxTouchPoints)}function k(){return"undefined"!=typeof window&&!!window.pxtElectron}function S(){return"undefined"!=typeof window&&!!window.ipcRenderer}function T(){return k()||S()}function C(e){var t;try{return"undefined"!=typeof window&&/^https?:\/\/(?:localhost|127\.0\.0\.1|192\.168\.\d{1,3}\.\d{1,3}|[a-zA-Z0-9.-]+\.local):\d+\/?/.test(window.location.href)&&(e||!/nolocalhost=1/.test(window.location.href))&&!(null!=(t=null==u?void 0:u.webConfig)&&t.isStatic)}catch(e){return!1}}function E(){return"undefined"!=typeof window&&!!window.PointerEvent}function D(){return e()?"windows":l()?"mac":d()&&p()?"rpi":d()?"linux":"unknown"}function A(){return f()?"edge":b()?"epiphany":v()?"midori":y()?"opera":_()?"ie":m()?"chrome":g()?"safari":h()?"firefox":"unknown"}function w(){if(!a())return null;let e=[];return y()&&(e=/(Opera|OPR)\/([0-9\.]+)/i.exec(navigator.userAgent)),(e=b()?/Epiphany\/([0-9\.]+)/i.exec(navigator.userAgent):v()?/Midori\/([0-9\.]+)/i.exec(navigator.userAgent):g()?(e=/Version\/([0-9\.]+)/i.exec(navigator.userAgent))||/(Macintosh|iPod( touch)?|iPhone|iPad); (CPU|Intel).*?OS (X )?(\d+)/i.exec(navigator.userAgent):(m()?/(Chrome|Chromium)\/([0-9\.]+)/i:f()?/Edge\/([0-9\.]+)/i:_()?/(MSIE |rv:)([0-9\.]+)/i:/(Firefox|Seamonkey)\/([0-9\.]+)/i).exec(navigator.userAgent))&&0!=e.length?e[e.length-1]:null}o.isDocumentVisible=function(){return"undefined"!=typeof window&&"visible"===document.visibilityState},o.isIFrame=function(){try{return window&&window.self!==window.top}catch(e){return!0}},o.hasNavigator=a,o.hasWindow=function(){return"undefined"!=typeof window},o.isWindows=e,o.isWindows10=function(){return a()&&/(Win32|Win64|WOW64)/i.test(navigator.platform)&&/Windows NT 10/i.test(navigator.userAgent)},o.isMobile=c,o.isIOS=function(){return a()&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints)},o.isAndroid=function(){return a()&&/android/i.test(navigator.userAgent)},o.isMac=l,o.isLinux=d,o.isARM=p,o.isEdge=f,o.isChromiumEdge=function(){return a()&&/Edg\//i.test(navigator.userAgent)},o.isIE=_,o.isChrome=m,o.isSafari=g,o.isFirefox=h,o.isOpera=y,o.isMidori=v,o.isEpiphany=b,o.isTouchEnabled=x,o.isPxtElectron=k,o.isIpcRenderer=S,o.isElectron=T,o.isWinRT=()=>"undefined"!=typeof Windows,o.isLocalHost=C,o.isLocalHostDev=function(){return C()&&!T()},o.isSkillmapEditor=function(){try{return/skill(?:s?)map=1/i.test(window.location.href)}catch(e){return!1}},o.isTabletSize=function(){return(null==window?void 0:window.innerWidth)<=u.BREAKPOINT_TABLET},o.isComputerSize=function(){return(null==window?void 0:window.innerWidth)>u.BREAKPOINT_TABLET},o.isInGame=function(){return!!/inGame=1/i.exec(window.location.href)},o.hasFileAccess=function(){var e=u.appTarget.appTheme.disableFileAccessinMaciOs&&(u.BrowserUtils.isMac()||u.BrowserUtils.isIOS()),t=u.appTarget.appTheme.disableFileAccessinAndroid&&u.BrowserUtils.isAndroid();return!e&&!t},o.noSharedLocalStorage=function(){try{return/nosharedlocalstorage/i.test(window.location.href)}catch(e){return!1}},o.useOldTutorialLayout=function(){var e;if(null!=(e=null==(e=u.appTarget)?void 0:e.appTheme)&&e.legacyTutorial)return!0;try{return/tutorialview=old/.test(window.location.href)}catch(e){return!1}},o.hasPointerEvents=E,o.os=D,o.browser=A,o.browserVersion=w;let s=!1;function K(){return c()&&g()&&!/downloadWindowOpen=0/i.test(window.location.href)}function N(t,e,r){var n=K(),i=w(),a=parseInt(i||"0");if(n)r?r.location.href=t:window.open(t,"_self");else if(u.BrowserUtils.isSafari()&&(a<10||0==i.indexOf("10.0")||c())){let e=document.getElementById("downloader");e||(u.debug("injecting downloader iframe"),(e=document.createElement("iframe")).id="downloader",e.style.position="absolute",e.style.right="0",e.style.bottom="0",e.style.zIndex="-1",e.style.width="1px",e.style.height="1px",document.body.appendChild(e)),e.src=t}else/^data:/i.test(t)&&(u.BrowserUtils.isEdge()||u.BrowserUtils.isIE())?(n=atob(t.split(",")[1]),r=u.Util.stringToUint8Array(n),a=new Blob([r],{type:"img/png"}),window.navigator.msSaveOrOpenBlob(a,e)):"string"==typeof(i=window.document.createElement("a")).download?(i.href=t,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i)):document.location.href=t}function z(e,t){let r="data";c()&&g()&&u.appTarget.appTheme.mobileSafariDownloadProtocol&&(r=u.appTarget.appTheme.mobileSafariDownloadProtocol);var n=/downloadProtocol=([a-z0-9:/?]+)/i.exec(window.location.href);return(r=n?n[1]:r)+":"+t+";base64,"+e}function I(e,t,r={}){u.debug("trigger download");var n,{contentType:r="application/octet-stream",userContextWindow:i,onError:a,maintainObjectURL:s}=r,o=null==(o=window.URL)?void 0:o.createObjectURL,c=u.appTarget.appTheme.disableBlobObjectDownload;let l;try{o&&!c?(N(n=o(new Blob([u.Util.stringToUint8Array(atob(e))],{type:r})),t,i),s?l=n:window.setTimeout(()=>window.URL.revokeObjectURL(l),0)):N(l=z(e,t),t,i)}catch(e){a&&a(e),u.debug("saving failed")}return l}function $(r){let n=document.createElement("img");return new Promise((e,t)=>{n.onload=()=>e(n),n.onerror=()=>e(void 0),n.crossOrigin="anonymous",n.src=r})}function P(e){return/^https?:\/\//i.test(e)?e:(window.MonacoPaths||{})[e]||(u.U.startsWith(e,u.webConfig.commitCdnUrl)?e:u.webConfig.commitCdnUrl+e)}o.isBrowserSupported=function(){var e,t,r,n,i,a;return!navigator||!!/bot|crawler|spider|crawling/i.test(navigator.userAgent)||(null==(e=(null==(e=u.appTarget)?void 0:e.unsupportedBrowsers)||(null==(e=window.pxtTargetBundle)?void 0:e.unsupportedBrowsers))||!e.some(e=>e.id==A()))&&(e=w(),n=parseInt(e||"0"),a=m()&&38<=n,i=h()&&31<=n,t=f(),r=g()&&9<=n,n=y()&&m()&&21<=n,a=a||i||t||r||n,i=v()||d()&&p()&&b(),a=(a=a&&!i)||/anybrowser=(true|1)/.test(window.location.href),s||(u.log(`Browser: ${A()} ${e} on `+D()),a||u.tickEvent("browser.unsupported",{useragent:navigator.userAgent}),s=!0),a)},o.devicePixelRatio=function(){var e,t;return"undefined"!=typeof window&&window.screen?(e=window.screen.systemXDPI,t=window.screen.logicalXDPI,void 0!==e&&void 0!==t&&t<e?e/t:window&&void 0!==window.devicePixelRatio?window.devicePixelRatio:1):1},o.browserDownloadBinText=function(e,t,r){return I(ts.pxtc.encodeBase64(e),t,r)},o.browserDownloadText=function(e,t,r){return I(ts.pxtc.encodeBase64(u.Util.toUTF8(e)),t,r)},o.isBrowserDownloadInSameWindow=K,o.isBrowserDownloadWithinUserContext=function(){var e=w(),e=parseInt(e||"0");return c()&&g()&&11<=e||/downloadUserContext=1/i.test(window.location.href)},o.browserDownloadDataUri=N,o.browserDownloadUInt8Array=function(e,t,r){return I(ts.pxtc.encodeBase64(u.Util.uint8ArrayToString(e)),t,r)},o.toDownloadDataUri=z,o.browserDownloadBase64=I,o.loadImageAsync=$,o.loadCanvasAsync=function(e){return $(e).then(e=>{var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t})},o.scaleImageData=function(e,t){var r=document.createElement("canvas"),n=document.createElement("canvas"),i=(r.width=e.width,r.height=e.height,n.width=e.width*t,n.height=e.height*t,r.getContext("2d")),n=n.getContext("2d");return i.putImageData(e,0,0),n.imageSmoothingEnabled=!1,n.scale(t,t),n.drawImage(r,0,0),n.getImageData(0,0,e.width*t,e.height*t)},o.imageDataToPNG=function(e,t=1){var r,n,i,a;if(e)return r=document.createElement("canvas"),n=document.createElement("canvas"),r.width=e.width,r.height=e.height,n.width=e.width*t,n.height=e.height*t,i=r.getContext("2d"),a=n.getContext("2d"),i.putImageData(e,0,0),a.imageSmoothingEnabled=!1,a.scale(t,t),a.drawImage(r,0,0),n.toDataURL("image/png")},o.encodeToPngAsync=function(r,e){let{width:a,height:s,pixelDensity:o=4,maxSize:c=1e7,text:l}=e||{};return new Promise((n,e)=>{let i=new Image;i.onload=function(){let t=document.createElement("canvas");var e=t.getContext("2d");t.width=(a||i.width)*o,t.height=(s||i.height)*o,l&&(e.fillStyle="#fff",e.fillRect(0,0,t.width,t.height)),e.drawImage(i,0,0,a,s,0,0,t.width,t.height);let r=t.toDataURL("image/png");for(;r.length>c;)t.width=t.width/2>>0,t.height=t.height/2>>0,u.debug(`screenshot size ${r.length}b, shrinking to ${t.width}x`+t.height),e.drawImage(i,0,0,a,s,0,0,t.width,t.height),r=t.toDataURL("image/png");l?u.lzmaCompressAsync(l).then(e=>{e=u.Util.encodeBlobAsync(t,e);n(e.toDataURL("image/png"))}):n(r)},i.onerror=e=>{u.reportError("png","png rendering failed"),n(void 0)};try{var t=new URL(r);"http:"!==t.protocol&&"https:"!==t.protocol||t.host===window.location.host||i.setAttribute("crossOrigin","anonymous")}catch(e){}i.src=r})},o.resolveCdnUrl=P,o.loadStyleAsync=function(e,t){let n="style-"+(e=t?"rtl"+e:e);if(document.getElementById(n))return Promise.resolve();let i=P(e);return(t=u.Util.toArray(document.head.getElementsByTagName("link")).filter(e=>e.getAttribute("href")==i)[0])?(t.id||(t.id=n),Promise.resolve()):new Promise((e,t)=>{var r=document.createElement("link");r.href=i,r.rel="stylesheet",r.type="text/css",r.id=n,r.addEventListener("load",()=>e()),r.addEventListener("error",e=>t(e)),document.head.appendChild(r)})};let i={};o.loadScriptAsync=function(e){let n=P(e),t=i[n];return t=t||(i[n]=new Promise((e,t)=>{u.debug("script: loading "+n);var r=document.createElement("script");r.type="text/javascript",r.addEventListener("load",()=>e()),r.addEventListener("error",e=>{delete i[n],t(e)}),r.src=n,r.async=!0,document.body.appendChild(r)}))},o.loadAjaxAsync=function(n){return new Promise((e,t)=>{let r=new XMLHttpRequest;r.onreadystatechange=function(){r.readyState==XMLHttpRequest.DONE&&(200==r.status?e(r.responseText):t(r.status))},r.open("GET",n,!0),r.send()})};let t;function J(e,t){return e?t?(e.indexOf("/")==e.length-1?e.substring(0,e.length-1):e)+"/"+(0==t.indexOf("/")?t.substring(1):t):e:t}function q(){var e=a()&&window.navigator;return e&&e.storage&&e.storage.estimate?e.storage.estimate():Promise.resolve({})}o.loadBlocklyAsync=function(){if(!t){u.debug("blockly: delay load");let e=u.BrowserUtils.loadStyleAsync("blockly.css",ts.pxtc.Util.isUserLanguageRtl());e=e.then(()=>{u.debug("blockly: loaded")}),t=e}return t},o.patchCdn=function(e){var t;return e&&((t=u.getOnlineCdnUrl())?e.replace("@cdnUrl@",t):e.replace(/@cdnUrl@\/(blob|commit)\/[a-f0-9]{40}\//,"./"))},o.initTheme=function(){var e,t,r=u.appTarget.appTheme;r&&r.accentColor&&((e=document.createElement("style")).type="text/css",e.appendChild(document.createTextNode(`.ui.accent { color: ${r.accentColor}; }
                .ui.inverted.menu .accent.active.item, .ui.inverted.accent.menu  { background-color: ${r.accentColor}; }`)),document.getElementsByTagName("head")[0].appendChild(e)),u.Util.isUserLanguageRtl()&&(u.debug("rtl layout"),u.BrowserUtils.addClass(document.body,"rtl"),document.body.style.direction="rtl",(e=(r=u.Util.toArray(document.head.getElementsByTagName("link"))).filter(e=>u.Util.endsWith(e.getAttribute("href"),"semantic.css"))[0])&&(t=e.getAttribute("data-rtl"))&&(u.debug("swapping to "+t),e.setAttribute("href",t)),e=r.filter(e=>u.Util.endsWith(e.getAttribute("href"),"blockly.css"))[0])&&(t=e.getAttribute("data-rtl"))&&(u.debug("swapping to "+t),e.setAttribute("href",t),e.removeAttribute("data-rtl"))},o.changeHash=function(e,t){"#"!=e.charAt(0)&&(e="#"+e),t?window.location.hash=e:window.history.replaceState("","",e)},o.urlJoin=J,o.joinURLs=function(...t){let r;if(t)for(let e=0;e<t.length;e++)r=J(r,t[e]);return r},o.storageEstimateAsync=q,o.scheduleStorageCleanup=a()&&navigator.storage&&navigator.storage.estimate?ts.pxtc.Util.throttle(function(){q().then(e=>(u.debug(`storage estimate: ${e.usage/e.quota*100>>0}%, ${e.usage/1e6>>0}/${e.quota/1e6>>0}Mb`),e.quota&&e.usage&&1e6<e.quota&&.9<e.usage/e.quota?(u.log("quota usage exceeded, clearing translations"),u.tickEvent("storage.cleanup"),O()):Promise.resolve())).catch(e=>{u.reportException(e)})},1e4,!1):()=>{},o.stressTranslationsAsync=function t(){let r="...";for(let e=0;e<16;++e)r+=r+Math.random();return u.log(`adding entry ${2*r.length} bytes`),u.U.delay(1).then(()=>V()).then(e=>e.setAsync("foobar",Math.random().toString(),null,void 0,r)).then(()=>u.BrowserUtils.storageEstimateAsync()).then(e=>!e.quota||e.usage/e.quota<.8?t():Promise.resolve())};class R{constructor(){this.translations={}}key(e,t){return e+`|${t}|master`}get(e,t){return this.translations[this.key(e,t)]}getAsync(e,t){return Promise.resolve(this.get(e,t))}set(e,t,r,n,i,a){this.translations[this.key(e,t)]={etag:r,time:n,strings:i,md:a}}setAsync(e,t,r,n,i){return this.set(e,t,r,u.Util.now(),n),Promise.resolve()}clearAsync(){return this.translations={},Promise.resolve()}}class M{constructor(e,t,r,n,i=!1){this.name=e,this.version=t,this.upgradeHandler=r,this.quotaExceededHandler=n,this.skipErrorLog=i}throwIfNotOpened(){if(!this._db)throw new Error("Database not opened; call IDBWrapper.openAsync() first")}errorHandler(e,t,r){this.skipErrorLog?r(e):(u.error(new Error(this.name+` IDBWrapper error for ${t}: `+e.message)),r(e),"QuotaExceededError"==e.name&&(u.log("storage quota exceeded..."),u.tickEvent("storage.quotaexceedederror"),this.quotaExceededHandler)&&this.quotaExceededHandler())}getObjectStore(e,t="readonly"){return this.throwIfNotOpened(),this._db.transaction([e],t).objectStore(e)}static deleteDatabaseAsync(n){return new Promise((e,t)=>{let r=(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB).deleteDatabase(n);r.onsuccess=()=>e(),r.onerror=()=>t(r.error)})}openAsync(){return new Promise((e,t)=>{let r=(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB).open(this.name,this.version);r.onsuccess=()=>{this._db=r.result,e()},r.onerror=()=>this.errorHandler(r.error,"open",t),r.onupgradeneeded=e=>this.upgradeHandler(e,r)})}getAsync(n,i){return new Promise((e,t)=>{let r=this.getObjectStore(n).get(i);r.onsuccess=()=>e(r.result),r.onerror=()=>this.errorHandler(r.error,"get",t)})}getAllAsync(i){return new Promise((e,t)=>{let r=this.getObjectStore(i).openCursor(),n=[];r.onsuccess=()=>{r.result?(n.push(r.result.value),r.result.continue()):e(n)},r.onerror=()=>this.errorHandler(r.error,"getAll",t)})}setAsync(i,a){return new Promise((e,t)=>{var r=this.getObjectStore(i,"readwrite");let n;(n=null!=a.id?r.put(a):r.add(a)).onsuccess=()=>e(),n.onerror=()=>this.errorHandler(n.error,"set",t)})}deleteAsync(n,i){return new Promise((e,t)=>{let r=this.getObjectStore(n,"readwrite").delete(i);r.onsuccess=()=>e(),r.onerror=()=>this.errorHandler(r.error,"delete",t)})}deleteAllAsync(n){return new Promise((e,t)=>{let r=this.getObjectStore(n,"readwrite").clear();r.onsuccess=()=>e(),r.onerror=()=>this.errorHandler(r.error,"deleteAll",t)})}getObjectStoreWrapper(e){return new U(this,e)}}o.IDBWrapper=M;class U{constructor(e,t){this.db=e,this.storeName=t}getAsync(e){return this.db.getAsync(this.storeName,e)}getAllAsync(){return this.db.getAllAsync(this.storeName)}setAsync(e){return this.db.setAsync(this.storeName,e)}async deleteAsync(e){await this.db.deleteAsync(this.storeName,e)}async deleteAllAsync(){await this.db.deleteAllAsync(this.storeName)}}o.IDBObjectStoreWrapper=U;class B{constructor(e){this.db=e,this.mem=new R}static dbName(){return"__pxt_translations_"+(u.appTarget.id||"")}static createAsync(){function t(){let e=new M(B.dbName(),2,(e,t)=>{t.result.createObjectStore(B.TABLE,{keyPath:B.KEYPATH})},()=>{O().catch(e=>{})});return e.openAsync().then(()=>new B(e))}return t().catch(e=>(u.log("db: failed to open database, try delete entire store..."),M.deleteDatabaseAsync(B.dbName()).then(()=>t())))}getAsync(t,r){t=(t||"en-US").toLowerCase();var e=this.mem.key(t,r),n=this.mem.get(t,r);return n?Promise.resolve(n):this.db.getAsync(B.TABLE,e).then(e=>e?(this.mem.set(t,r,e.etag,e.time,e.strings),Promise.resolve(e)):Promise.resolve(void 0)).catch(e=>Promise.resolve(void 0))}setAsync(e,t,r,n,i){e=(e||"en-US").toLowerCase();var a=this.mem.key(e,t),s=u.Util.now(),e=(this.mem.set(e,t,r,s,n,i),n&&Object.keys(n).filter(e=>!n[e]).forEach(e=>delete n[e]),{id:a,etag:r,time:s,strings:n,md:i});return this.db.setAsync(B.TABLE,e).finally(()=>o.scheduleStorageCleanup()).catch(e=>(u.log(`db: set failed (${e.message}), recycling...`),this.clearAsync()))}clearAsync(){return this.db.deleteAllAsync(B.TABLE).then(()=>u.debug("db: all clean")).catch(e=>{u.error("db: failed to delete all")})}}B.TABLE="files",B.KEYPATH="id";let r;function V(){return u.Util.isNodeJS?Promise.resolve(new R):r=r||B.createAsync().catch(()=>new R)}function O(){function t(){let t=B.dbName();return M.deleteDatabaseAsync(t).then(()=>{r=void 0}).catch(e=>{u.log("db: failed to delete "+t),r=void 0})}return r?r.then(e=>e.clearAsync()).catch(e=>t().then()):t()}function F(e){e=JSON.stringify(e)+u.appTarget.versions.pxt+"_"+u.appTarget.versions.target;return pxtc.U.sha256(e)}function H(e,t){return e+"|"+(t||"master")}o.translationDbAsync=V,o.clearTranslationDbAsync=O,o.getTutorialCodeHash=F;class j{constructor(e){this.db=e}static dbName(){return"__pxt_tutorialinfo_"+(u.appTarget.id||"")}static createAsync(){function t(){let e=new u.BrowserUtils.IDBWrapper(j.dbName(),2,(e,t)=>{t.result.createObjectStore(j.TABLE,{keyPath:j.KEYPATH})},()=>{u.BrowserUtils.IDBWrapper.deleteDatabaseAsync(j.dbName())});return e.openAsync().then(()=>new j(e))}return t().catch(e=>(u.log("db: failed to open tutorial info database, try delete entire store..."),u.BrowserUtils.IDBWrapper.deleteDatabaseAsync(j.dbName()).then(()=>t())))}getAsync(e,t,r){let n=H(e,r),i=F(t);return this.db.getAsync(j.TABLE,n).then(e=>{if(e&&e.hash==i&&u.Util.now()-(e.time||0)<864e5)return e;this.db.deleteAsync(j.TABLE,n)})}setAsync(e,t,r,n,i,a){u.perf.measureStart(Measurements.TutorialInfoDbSetAsync);r=F(r);return this.setWithHashAsync(e,t,r,n,i)}setWithHashAsync(e,r,t,n,i,a){u.perf.measureStart(Measurements.TutorialInfoDbSetAsync);e=H(e,a);let s={};Object.keys(r).forEach(t=>{Object.keys(r[t]).forEach(e=>{s[e]=r[t][e]})});a={id:e,time:u.Util.now(),hash:t,snippets:r,blocks:s,highlightBlocks:n,validateBlocks:i};return this.db.setAsync(j.TABLE,a).then(()=>{u.perf.measureEnd(Measurements.TutorialInfoDbSetAsync)})}clearAsync(){return this.db.deleteAllAsync(j.TABLE).then(()=>u.debug("db: all clean")).catch(e=>{u.error("db: failed to delete all")})}}j.TABLE="info",j.KEYPATH="id";let n;function L(e){return e.split(/\s+/).filter(e=>!!e)}function G(){var e=new RegExp(u.Util.escapeForRegex(u.Util.pxtLangCookieId)+"=(.*?)(?:;|$)").exec(document.cookie);return e&&e[1]||null}o.tutorialInfoDbAsync=function(){return n=n||j.createAsync()},o.clearTutorialInfoDbAsync=function(){function t(){let t=j.dbName();return M.deleteDatabaseAsync(t).then(()=>{n=void 0}).catch(e=>{u.log("db: failed to delete "+t),n=void 0})}return n?n.then(e=>e.clearAsync()).catch(e=>t().then()):t()},o.pointerEvents=E()?{up:"pointerup",down:["pointerdown"],move:"pointermove",enter:"pointerenter",leave:"pointerleave"}:x()?{up:"mouseup",down:["mousedown","touchstart"],move:"touchmove",enter:"touchenter",leave:"touchend"}:{up:"mouseup",down:["mousedown"],move:"mousemove",enter:"mouseenter",leave:"mouseleave"},o.getPageX=function(e){return("pageX"in e?e:e.changedTouches[0]).pageX},o.getPageY=function(e){return("pageY"in e?e:e.changedTouches[0]).pageY},o.getClientX=function(e){return("clientX"in e?e:e.changedTouches[0]).clientX},o.getClientY=function(e){return("clientY"in e?e:e.changedTouches[0]).clientY},o.popupWindow=function(e,t,r,n){try{var i=window.screenLeft||window.screenX,a=window.screenTop||window.screenY,s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,o="width="+r+", height="+n+", top="+((window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)/2-n/2+a)+", left="+(s/2-r/2+i),c=window.open(e,t,u.BrowserUtils.isIpcRenderer()?void 0:o);return c.focus&&c.focus(),c}catch(e){return u.tickEvent("pxt.popupError",{msg:e.message}),null}},o.containsClass=function(r,e){return L(e).every(e=>{return e=e,(t=r).classList?t.classList.contains(e):!((t.className+"").split(/\s+/).indexOf(e)<0);var t})},o.addClass=function(r,e){L(e).forEach(e=>{var t;e=e,(t=r).classList?t.classList.add(e):(t.className+"").split(/\s+/).indexOf(e)<0&&(t.className.baseVal+=" "+e)})},o.removeClass=function(r,e){L(e).forEach(e=>{var t;t=e,(e=r).classList?e.classList.remove(t):e.className.baseVal=(e.className+"").split(/\s+/).filter(e=>e!=t).join(" ")})},o.getCookieLang=G,o.setCookieLang=function(e,t=!1){u.Util.allLanguages[e]&&e!==G()&&(u.tickEvent("menu.lang.setcookielang",{lang:e,docs:""+t}),(t=new Date).setTime(t.getTime()+24*u.Util.langCookieExpirationDays*60*60*1e3),document.cookie=`${u.Util.pxtLangCookieId}=${e}; expires=${t.toUTCString()}; path=/`)},o.cacheBustingUrl=function(e){return e&&(/[?&]rnd=/.test(e)?e:`${e}${0<e.indexOf("?")?"&":"?"}rnd=`+Math.random())},o.appendUrlQueryParams=function(e,t){var r,n,i=[];for([r,n]of t.entries())i.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return i.length&&(-1!==e.indexOf("?")?e+="&"+i.join("&"):e+="?"+i.join("&")),e},o.legacyCopyText=function(e){e.focus(),e.setSelectionRange(0,9999);try{var t=document.execCommand("copy");return u.debug("copy: "+t),!!t}catch(e){return!1}},o.setApplicationTheme=function(e){var t=document.body,r=t.classList;for(let e=0;e<r.length;e++)/^theme-/.test(r[e])&&t.classList.remove(r[e]);e&&t.classList.add("theme-"+e)},o.isElement=function(e){return e.nodeType===Node.ELEMENT_NODE}}})(pxt=pxt||{}),(t=>{{var r=t.cloud||(t.cloud={});let e="https://staging.pxt.io";r.DEV_BACKEND=e,r.DEV_REGION="US",r.devBackendType=function(){return"https://makecode.com"===r.DEV_BACKEND?"prod":r.DEV_BACKEND===e?"staging":"http://localhost:8080"===r.DEV_BACKEND?"localhost":"prod"},r.cloudStatus={none:{value:"none"},synced:{value:"synced",icon:"cloud-saved-b",tooltip:lf("Project saved to cloud"),shortStatus:lf("saved"),longStatus:lf("Saved to cloud"),indicator:""},justSynced:{value:"justSynced",icon:"cloud-saved-b",tooltip:lf("Project saved to cloud"),shortStatus:lf("saved!"),longStatus:lf("Saved to cloud!"),indicator:""},offline:{value:"offline",icon:"cloud-error-b",tooltip:lf("Unable to connect to cloud"),shortStatus:lf("offline"),longStatus:lf("Offline"),indicator:lf("offline")},syncing:{value:"syncing",icon:"cloud-saving-b",tooltip:lf("Saving project to cloud..."),shortStatus:lf("saving..."),longStatus:lf("Saving to cloud..."),indicator:lf("syncing...")},conflict:{value:"conflict",icon:"cloud-error-b",tooltip:lf("Project was edited in two places and the changes conflict"),shortStatus:lf("conflict!"),longStatus:lf("Project has a conflict!"),indicator:"!"},localEdits:{value:"localEdits",icon:"cloud-saving-b",tooltip:lf("Project has local changes and will save to cloud soon."),shortStatus:"",longStatus:"",indicator:"*"}}}})(pxt=pxt||{}),(e=>{var r;(e=(r=e.commands||(e.commands={})).WebUSBPairResult||(r.WebUSBPairResult={}))[e.Failed=0]="Failed",e[e.Success=1]="Success",e[e.UserRejected=2]="UserRejected",r.deployCoreAsync=void 0,r.deployFallbackAsync=void 0,r.hasDeployFn=()=>r.deployCoreAsync||r.deployFallbackAsync,r.deployAsync=(e,t)=>(r.deployCoreAsync||r.deployFallbackAsync)(e,t),r.patchCompileResultAsync=void 0,r.browserDownloadAsync=void 0,r.saveOnlyAsync=void 0,r.renderBrowserDownloadInstructions=void 0,r.renderUsbPairDialog=void 0,r.renderIncompatibleHardwareDialog=void 0,r.showUploadInstructionsAsync=void 0,r.saveProjectAsync=void 0,r.electronDeployAsync=void 0,r.electronFileDeployAsync=void 0,r.webUsbPairDialogAsync=void 0,r.onTutorialCompleted=void 0,r.perfMeasurementThresholdMs=void 0,r.onPerfMilestone=void 0,r.onPerfMeasurement=void 0,r.workspaceLoadedAsync=void 0,r.getDownloadMenuItems=void 0,r.notifyProjectCompiled=void 0,r.notifyProjectSaved=void 0,r.onDownloadButtonClick=void 0,r.getDefaultProjectName=void 0,r.onMarkdownActivityLoad=void 0})(pxt=pxt||{}),(u=>{function r(e){var e=u.toolbox.convertColor(e),t=parseInt(e.slice(1,3),16)/255,r=parseInt(e.slice(3,5),16)/255,e=parseInt(e.slice(5,7),16)/255;return.2126*(t<=.03928?t/12.92:Math.pow((.055+t)/1.055,2.4))+.7152*(r<=.03928?r/12.92:Math.pow((.055+r)/1.055,2.4))+.0722*(e<=.03928?e/12.92:Math.pow((.055+e)/1.055,2.4))}function i(e,t){return(r(e)+.05)/(r(t)+.05)}function o(e){return("0"+e.toString(16)).slice(-2)}u.getWhiteContrastingBackground=function(t){if(!(4.5<=i("#ffffff",t))){var r=(e=>{let t=u.toolbox.convertColor(e),r=parseInt(t.slice(1,3),16)/255,n=parseInt(t.slice(3,5),16)/255,i=parseInt(t.slice(5,7),16)/255,a=Math.max(Math.max(r,n),i),s=Math.min(Math.min(r,n),i),o=a-s,c;0==o?c=0:a===r?c=((n-i)/o%6+6)%6:a===n?c=(i-r)/o+2:a===i&&(c=(r-n)/o+4);var e=(s+a)/2,l=0==o?0:o/(1-Math.abs(2*e-1));return{h:60*c,s:l,l:e}})(t);let e=r.l-.05;for(;0<e;){var n=(e=>{let t=(1-Math.abs(2*e.l-1))*e.s,r=e.h/60,n=t*(1-Math.abs(r%2-1)),i;void 0===e.h?i=[0,0,0]:r<=1?i=[t,n,0]:r<=2?i=[n,t,0]:r<=3?i=[0,t,n]:r<=4?i=[0,n,t]:r<=5?i=[n,0,t]:r<=6&&(i=[t,0,n]),e=e.l-.5*t;var a=Math.round(255*(i[0]+e)),s=Math.round(255*(i[1]+e)),e=Math.round(255*(i[2]+e));return"#"+o(a)+o(s)+o(e)})({h:r.h,s:r.s,l:e});if(4.5<=i("#ffffff",n))return n;e-=.05}u.warn("Couldn't find a contrasting background for color "+t)}return t},u.contrastRatio=i})(pxt=pxt||{}),(e=>{e.TutorialInfoDbSetAsync="tutorial info db setAsync",e.ReloadAppTargetVariant="reloadAppTargetVariant",e.Sha256Buffer="sha256buffer",e.WebworkerRecvHandler="webworker recvHandler",e.NetworkRequest="network.request"})(Measurements=Measurements||{}),(i=>{function e(){let e;return e||(e=i.U.isNodeJS?Promise.resolve(require("lzma")):Promise.resolve(window.LZMA)).then(e=>(e||i.reportError("lzma","failed to load"),e)),e}i.lzmaDecompressAsync=function(n){return e().then(t=>new Promise((r,e)=>{try{t.decompress(n,(e,t)=>{t&&i.debug("lzma decompression failed"),r(t?void 0:e)})}catch(e){e&&i.debug("lzma decompression failed"),r(void 0)}}))},i.lzmaCompressAsync=function(n){return e().then(t=>new Promise((r,e)=>{try{t.compress(n,7,(e,t)=>{t&&i.reportException(t),r(t?void 0:new Uint8Array(e))})}catch(e){i.reportException(e),r(void 0)}}))}})(pxt=pxt||{}),(xe=>{{var e=xe.cpp||(xe.cpp={}),ke=pxtc.Util;let ye=ke.lf,ve={"pxt::mkAction":1,"pxt::dumpPerfCounters":1,"pxt::deepSleep":1,"pxt::getConfig":1,"pxtrt::mkMap":1,"pxtrt::mapSet":1,"pxtrt::stclo":1,"pxtrt::mklocRef":1,"pxtrt::stlocRef":1,"pxtrt::ldlocRef":1,"pxtrt::panic":1};function Se(r="namespace"){let n="",i="",e=(e,t="")=>{i!=e&&(i&&(n+="}\n"),e&&(n+=t||r+" "+e+" {\n"),i=e)},t="    ";return{setNs:e,clear:()=>{n="",i=""},write:e=>{e.trim()?(e=e.trim().replace(/^\s*/gm,t).replace(/^(\s*)\*/gm,(e,t)=>t+" *"),n+=e+"\n"):n+="\n"},incrIndent:()=>{t+="    "},decrIndent:()=>{t=t.slice(4)},finish:()=>(e(""),n)}}function Te(e){if(!e)return null;e=e.trim();var t=/^\((.*)\)/.exec(e);return t&&(e=t[1]),/^-?(\d+|0[xX][0-9a-fA-F]+)$/.test(e)?parseInt(e):null}e.nsWriter=Se,e.parseCppInt=Te;let be={};class Ce extends Error{constructor(e){super(e),this.isUserError=!0,this.message=e}}function c(t){if(!t)return"";let r="";for(let e=0;e<t.length;++e){var n=255&t[e];r+=37==n||127<n?"%"+n.toString(16):String.fromCharCode(n)}return decodeURIComponent(r)}function l(e){let t="",r=0;for(;r<e.length;r+=2)t=e[r]+e[r+1]+t;return xe.Util.assert(r==e.length),t}function a(r){var n=[65,20,14,47,184,47,162,187];e:for(let t=0;t<r.length;t+=16)if(r[t]==n[0]){for(let e=0;e<n.length;++e)if(r[t+e]!=n[e])continue e;var e,i=r[t+8]|r[t+9]<<8,a=r[t+10]|r[t+11]<<8|r[t+12]<<16|r[t+13]<<24,a=(t+=16)+i+a;if(!(r.length<a))return e=r.slice(t,t+i),i=r.slice(t+i,a),{meta:c(e),text:i}}return null}function s(e){if(e){let r=0,n=0,i=0,a,s=0;if(e.split(/\r?\n/).forEach(e=>{var t=/^:10....0[0E]41140E2FB82FA2BB(....)(....)(....)(....)(..)/.exec(e);if(t)r=parseInt(l(t[1]),16),n=parseInt(l(t[2]),16),i=r+n,a=new Uint8Array(i);else if(0<i&&(t=/^:10....0[0E](.*)(..)$/.exec(e))){let e=t[1];for(;0<i&&0<e.length;)a[s++]=parseInt(e[0]+e[1],16),e=e.slice(2),i--}}),a&&0==i&&s==a.length){var t=new Uint8Array(r),o=new Uint8Array(n);for(let e=0;e<r;++e)t[e]=a[e];for(let e=0;e<n;++e)o[e]=a[r+e];return{meta:c(t),text:o}}}}function t(e){function t(e){return xe.debug(e),Promise.reject(new Error(e))}let r;var n;if(xe.HF2.read32(e,0)==ts.pxtc.UF2.UF2_MAGIC_START0&&(n=ts.pxtc.UF2.toBin(e))&&(r=a(n.buf)),1179403647==xe.HF2.read32(e,0)&&(r=a(e)),58==e[0]&&(n=c(e),r=s(n||"")),!r||!r.meta||!r.text)return t("This .hex file doesn't contain source.");let i=JSON.parse(r.meta);return i?"LZMA"==i.compression?xe.lzmaDecompressAsync(r.text).then(e=>{var t;return e?(t=e.slice(0,i.headerSize||i.metaSize||0),e=e.slice(t.length),t&&xe.Util.jsonCopyFrom(i,JSON.parse(t)),{meta:i,source:e}):null}):i.compression?t(`Compression type ${i.compression} not supported.`):Promise.resolve({source:c(r.text)}):t("This .hex file is not valid.")}e.PkgConflictError=Ce,e.getExtensionInfo=function(R){var M={__appVariant:xe.appTargetVariant||""},U="dal.d.ts";let r="/source/",e="";var t,B=[];for(t of R.sortedDeps(!0).sort((e,t)=>"this"==e.id?1:"this"==t.id?-1:ke.strcmp(e.id,t.id)))t.disablesVariant(xe.appTargetVariant)||t.resolvedDependencies().some(e=>e.disablesVariant(xe.appTargetVariant))?(e&&(e+=", "),e+=t.id,xe.debug(`disable variant ${xe.appTargetVariant} due to `+t.id)):(B.push(t),t.addSnapshot(M,[U,".h",".cpp"]));var j=JSON.stringify(M),n=be[j];if(n)return xe.debug("Using cached extinfo"),(n=ke.flatClone(n)).disabledDeps=e,n;xe.debug("Generating new extinfo");let m=pxtc.emptyExtInfo(),i=(m.disabledDeps=e,xe.appTarget.compileService),a=(i=i||{gittag:"none",serviceId:"nocompile"},i=ke.clone(i),R.getTargetOptions()),K=(a=a||{isNative:!1,hasHex:!1,switches:{}},n=!!i.platformioIni,"codal"==i.buildEngine||"dockercodal"==i.buildEngine);var s,z,o,c,l="dockermake"==i.buildEngine||"dockercross"==i.buildEngine,u="dockerespidf"==i.buildEngine;let g=!(n||K||l||u),$=a.nativeType==pxtc.NATIVE_TYPE_VM,J=(n?r="/src/":K||l?r="/pxtapp/":u&&(r="/main/"),"// Configuration defines\n"),h="\nPXT_SHIMS_BEGIN\n",y="",q="",V=`#include "pxt.h"
`,H="",v=e=>H+=`   ${W}(${G}): ${e}
`,G=0,W="",b=Se("namespace"),x=Se("declare namespace"),k=Se("declare namespace"),Q="",Y={},X={},Z={true:"1",false:"0",null:"0",NULL:"0"};function S(e){return e.trim().replace(/[\_\*]$/,"")}for(s of B){0<=s.getFiles().indexOf(U)&&(z=s.host().readFile(s,U),xe.Util.assert(!!z,U+" not found in "+s.id),z.split(/\r?\n/).forEach(e=>{e=/^\s*(\w+) = (.*),/.exec(e);e&&(Z[e[1]]=e[2])}));for(o of s.getFiles())(0<=["Makefile","sdkconfig.defaults","CMakeLists.txt"].indexOf(o)||ke.endsWith(o,".mk"))&&(m.generatedFiles["/"+o]=s.host().readFile(s,o))}let ee=["0","false","PXT_UTF8"],T={};function te(e){return e.replace(/\/\/.*/,"").replace(/\/\*/,"")}a.switches.boxDebug&&(T.PXT_BOX_DEBUG=1),a.utf8&&(T.PXT_UTF8=1),a.switches.profile&&(T.PXT_PROFILE=1),a.switches.gcDebug&&(T.PXT_GC_DEBUG=1),a.switches.numFloat&&(T.PXT_USE_FLOAT=1),a.nativeType==pxtc.NATIVE_TYPE_VM&&(T.PXT_VM=1);let C=0,E=!1,D="",A="",w="",re=!1;function ne(){x.setNs(""),x.write(""),x.write(""),(w||A)&&(x.write(A),x.write(w),w="",A="")}function ie(e,u){D="",A="",w="",re=!1;let d,t=-1;function p(){var e=D.replace(/Methods$/,"");return e==D?null:e}function f(e){switch(e.replace(/\s+/g,"")){case"void":return"void";case"int32_t":case"int":return"int32";case"uint32_t":case"unsigned":return"uint32";case"TNumber":case"float":case"double":return"number";case"uint16_t":return"uint16";case"int16_t":case"short":return"int16";case"uint8_t":case"byte":return"uint8";case"int8_t":case"sbyte":return"int8";case"bool":return a.shortPointers&&v("use 'boolean' not 'bool' on 8 bit targets"),"boolean";case"StringData*":case"String":case"ImageLiteral_":case"ImageLiteral":return"string";case"Action":return"() => void";case"TValue":return"any";default:return S(e)}}function _(e){switch(e=e.replace(/\s+/g,"")){case"int32_t":case"uint32_t":case"unsigned":case"uint16_t":case"int16_t":case"short":case"uint8_t":case"byte":case"int8_t":case"sbyte":case"int":case"ramint_t":return"I";case"void":return"V";case"float":return"F";case"TNumber":return"N";case"TValue":return"T";case"bool":return"B";case"double":return"D";case"ImageLiteral_":return"T";case"String":return"S";default:return ke.lookup(Y,e)?"I":"_"+e.replace(/[\*_]+$/,"")}}e=e.replace(/^(\s*#\s*if\s+(\w+)\s*$)([^]*?)(^\s*#\s*(elif|else|endif)\s*$)/gm,(e,t,r,n,i)=>0<=ee.indexOf(r)&&!T[r]?t+n.replace(/[^\n]/g,"")+i:e),G=0,E=!1,C=0,k.setNs(""),x.setNs(""),e.split(/\r?\n/).forEach(e=>{++G;var i=te(e),a=e,s=te(a);if(E&&0<=s.indexOf("}")&&(E=!1,k.write("}")),E){var r=/^\s*(\w+)\s*(=\s*(.*?))?,?\s*$/.exec(s);if(r){var n=r[1];let e=r[3],t="";e?(e=e.trim(),null!=(r=ke.lookup(Z,e))&&(t="  // "+e,e=r),null==(C=Te(e))&&v("cannot determine value of "+s)):(C++,e=C+""),k.write(`    ${S(n)} = ${e},`+t)}else k.write(a)}r=/^\s*enum\s+(|class\s+|struct\s+)(\w+)\s*({|$)/.exec(i);if(r&&(s=r[2],n=r[3],E=!0,C=-1,k.write(""),k.write(""),(w||A)&&(k.write(A),k.write(w),w="",A=""),k.write(`declare const enum ${S(s)} `+n),Y[s]=!0,u||(b.setNs(D),b.write(`enum ${r[2]} : int;`))),a=e,!E&&!(/^\s*\/\*\*/.test(a)?(re=!0,A=a+"\n",/\*\//.test(a)&&(re=!1),1):re?(A+=a+"\n",/\*\//.test(a)&&(re=!1),1):/^\s*\/\/%/.test(a)&&(w+=a+"\n",1)))if(/^typedef.*;\s*$/.test(e)&&(b.setNs(D),b.write(e)),i=/^\s*namespace\s+(\w+)/.exec(e))D=i[1],p()?(ne(),s=p(),x.setNs(D,`declare interface ${s} {`)):(w||A)&&(ne(),x.setNs(S(D)),k.setNs(S(D)));else if((i=/^PXT_ABI\((\w+)\)/.exec(e))&&!$&&(h+=`PXT_FNPTR(::${i[1]}),
`,q+=`extern "C" void ${i[1]}();
`,m.functions.push({name:i[1],argsFmt:[],value:0})),(i=/^\s*PXT_EXPORT\(([:\&\w]+)\)/.exec(e))&&(m.vmPointers||(m.vmPointers=[]),m.vmPointers.push(i[1])),(i=/^#define\s+PXT_COMM_BASE\s+([0-9a-fx]+)/.exec(e))&&(m.commBase=parseInt(i[1])),i=/^\s*(\w+)([\*\&]*\s+[\*\&]*)(\w+)\s*\(([^\(\)]*)\)\s*(;\s*$|\{|$)/.exec(e),w&&i){d=null;let t=pxtc.parseCommentString(w);D||v("missing namespace declaration");a=(i[1]+i[2]).replace(/\s+/g,"");let e=i[3];s=i[4];w=w.trim().replace(/ \w+\.defl=\w+/g,"");let r=[_(a)],n=[];var o=s.split(/,/).filter(e=>!!e).map(e=>{e=((e,t)=>{t=t.trim();let r=/(.*)=\s*(-?\w+)$/.exec(t),n="",i="";var a;return r&&(n=r[2],i="?",t=r[1].trim()),(r=/^(.*?)(\w+)$/.exec(t))?(a=r[2],e.paramDefl[a]&&(n=e.paramDefl[a],i="?"),e=n?ke.lookup(Z,n):null,(n=null!=e?e:n)&&(null==Te(n)&&v("Invalid default value (non-integer): "+n),w+=` ${a}.defl=`+n),{name:a+i,type:r[1]}):(v("invalid argument: "+t),{name:"???",type:"int"})})(t,e);return r.push(_(e.type)),n.push(e.type.replace(/ /g,"")),e.name+": "+f(e.type)}),c={name:D+"::"+e,argsFmt:r,value:null};A&&(x.setNs(S(D)),x.write(""),x.write(A),/ImageLiteral/.test(i[4])&&!/imageLiteral=/.test(w)&&(w+=" imageLiteral=1"),w+=" shim="+c.name,x.write(w),e=S(e),p()?((l=(o[0]||"").replace(/^.*:\s*/,"").trim()).toLowerCase()!=p().toLowerCase()&&v(ye("Invalid first argument; should be of type '{0}', but is '{1}'",p(),l)),o.shift(),0==o.length&&/\bproperty\b/.test(w)?x.write(`${e}: ${f(a)};`):x.write(`${e}(${o.join(", ")}): ${f(a)};`)):x.write(`function ${e}(${o.join(", ")}): ${f(a)};`)),A="",w="",u||(b.setNs(D),b.write(`${a} ${e}(${s});`)),m.functions.push(c),void(g?h+="(uint32_t)(void*)::"+c.name+",\n":$?(ke.startsWith(c.name,"pxt::op_")||ve[c.name]||t.expose||!ke.startsWith(c.name,"pxt::")&&!ke.startsWith(c.name,"pxtrt::"))&&(l=((a,s)=>{if("FiberContext*"==s[0])return"::"+a.name;var e="_wrp_"+a.name.replace(/:/g,"_");if(!X[a.name]){X[a.name]=!0,y+=`
void ${e}(FiberContext *ctx) {
`;var o=s.length,c=[];let n=!1,i="";for(let r=0;r<o;++r){var l=a.argsFmt[r+1],u=s[r];let e="I"==l?"toInt":"B"==l?"numops::toBool":"";l=r==o-1?"ctx->r0":`ctx->sp[${o-r-2}]`;let t="";switch(u){case"TValue":case"TNumber":break;case"Action":e="asRefAction";break;case"String":e="convertToString",t="ctx, ",n=!0;break;default:e=e||"as"+u.replace(/\*/g,"")}i+=`  ${u} a${r} = (${u}) ${e}(${t}${l});
`,c.push("a"+r)}n&&(y+="  auto prevSP = ctx->sp;\n"),y+=i,n&&(y+="  if (panicCode) { ctx->sp = prevSP; return; }\n");var t=`::${a.name}(${c.join(", ")})`;"V"==a.argsFmt[0]?y=y+`  ${t};
`+`  ctx->r0 = NULL;
`:"I"==a.argsFmt[0]?y+=`  ctx->r0 = fromInt(${t});
`:"B"==a.argsFmt[0]?y+=`  ctx->r0 = fromBool(${t});
`:y+=`  ctx->r0 = (TValue)${t};
`,n&&(y+="  ctx->sp = prevSP;\n"),1<o&&(y+=`  ctx->sp += ${o-1};
`),y+=`}
`}return e})(c,n),o=c.argsFmt.length-1,h+=`{ "${c.name}", (OpFun)(void*)${l}, ${o} },
`):h+="PXT_FNPTR(::"+c.name+"),\n")}else{i=/^\s*extern const (\w+) (\w+);/.exec(e);if(w&&i)a={name:D+"::"+i[2],argsFmt:[],value:null},m.functions.push(a),$||(h+="PXT_FNPTR(&::"+a.name+"),\n"),w="";else{if(i=/^\s*(\w+)\s+(\w+)\s*;/.exec(e),w&&i){var s=pxtc.parseCommentString(w),l=(s.indexedInstanceNS&&(d=s,x.setNs(s.indexedInstanceNS),t=0),i[1]),o=i[2];if(d)return w=w.trim(),w+=` fixedInstance shim=${d.indexedInstanceShim}(${t++})`,x.write(""),x.write(A),x.write(w),x.write(`const ${o}: ${f(l)};`),A="",void(w="")}w&&e.trim()&&(v("declaration not understood: "+e),w="",A="")}}})}let ae=ke.clone(i.yottaConfig||{}),d={},se={},oe={};if(g&&a.hasHex&&(F=i,ke.assert(!!F.yottaCorePackage),ke.assert(!!F.githubCorePackage),ke.assert(!!F.gittag),L=F.githubCorePackage+"#"+i.gittag,m.yotta.dependencies[F.yottaCorePackage]=L),R){let e=!1;for(var p of B){H="",pe=_e=fe=I=P=de=ue=ce=le=N=_=f=void 0;var f=p,_=((_=f.config.platformio)&&_.dependencies&&ke.jsonCopyFrom(m.platformio.dependencies,_.dependencies),m.npmDependencies&&f.config.npmDependencies&&ke.jsonCopyFrom(m.npmDependencies,f.config.npmDependencies),f.config.codal);if(K&&_)for(var ce of _.libraries||[]){var N=xe.github.parseRepoId(ce),ce=(N||ke.userError(ye("codal library {0} doesn't look like github repo",ce)),xe.github.stringifyRepo(N)),le=ke.lookup(oe,N.project);le?xe.github.stringifyRepo(le)!=ce&&ke.userError(ye("conflict between codal libraries: {0} and {1}",xe.github.stringifyRepo(le),ce)):oe[N.project]=N}if(_=f.config.yotta){if(_.dependencies&&ke.jsonCopyFrom(m.yotta.dependencies,_.dependencies),_.config){var I,ue=ke.jsonFlatten(_.config);for(I of Object.keys(ue)){var de=ke.lookup(se,I),P=ue[I];if(!de||de.config.yotta.configIsJustDefaults)se[I]=f,ae[I]=P;else if(ae[I]!==P)if(!f.parent.config.yotta||!f.parent.config.yotta.ignoreConflicts)throw(P=new Ce(ye("conflict on yotta setting {0} between extensions {1} and {2}",I,f.id,de.id))).pkg0=de,P.pkg1=f,P.settingName=I,P}}if(_.optionalConfig){var pe,fe=ke.jsonFlatten(_.optionalConfig);for(pe of Object.keys(fe)){var _e=fe[pe];d[pe]=_e}}}p==R?(e=!0,x.clear(),k.clear()):ke.assert(!e);let t=e=>ke.endsWith(e,".h");for(c of p.getFiles().filter(t).concat(p.getFiles().filter(e=>!t(e)))){var O=t(c);if(O||ke.endsWith(c,".cpp")){let e=p.config.name+"/"+c;("base"==p.config.name||/^core($|---)/.test(p.config.name))&&O&&(e=c),O&&(V+=`#include "${g?r.slice(1):""}${e}"
`);var me=p.readFile(c);null==me&&ke.userError(ye("C++ file {0} is missing in extension {1}.",c,p.config.name)),W=e,ie(me,O),m.extensionFiles[r+e]=me,0==p.level&&(m.onlyPublic=!1),p.verProtocol()&&"pub"!=p.verProtocol()&&"embed"!=p.verProtocol()&&(m.onlyPublic=!1)}(ke.endsWith(c,".c")||ke.endsWith(c,".S")||ke.endsWith(c,".s"))&&(O=p.readFile(c),m.extensionFiles[r+p.config.name+"/"+c.replace(/\.S$/,".s")]=O)}H&&(Q+=ye("Extension {0}:\n",p.id)+H)}e||(x.clear(),k.clear())}function ge(t){return Object.keys(m.extensionFiles).concat(Object.keys(m.generatedFiles)).filter(e=>ke.endsWith(e,t)).map(e=>e.slice(1))}Q&&ke.userError(Q),ke.jsonCopyFrom(d,ae),ke.iterMap(d,(e,t)=>{null===t&&delete d[e]}),Object.keys(d).filter(e=>/-/.test(e)).forEach(e=>{var t=d[e];delete d[e],d[e.replace(/-/g,"_")]=t}),!g&&i.yottaConfigCompatibility&&Object.keys(d).forEach(e=>d["YOTTA_CFG_"+e]=d[e]),d.PXT_TARGET=JSON.stringify(xe.appTarget.id);var he,F=ke.jsonUnFlatten(d);if(l){var L={name:"pxt-app",private:!0,dependencies:m.npmDependencies};m.generatedFiles["/package.json"]=JSON.stringify(L,null,4)+"\n"}else if(u){l=ke.concatArrayLike([ge(".c"),ge(".cpp"),ge(".s")]).map(e=>e.slice(r.length-1)).concat(["main.cpp"]);l.push("pointers.cpp"),m.generatedFiles[r+"CMakeLists.txt"]=`idf_component_register(
  SRCS
`+l.map(e=>`    "${e}"
`).join("")+`  INCLUDE_DIRS
    "."
)
`}else if(K){L=i;let r=ke.clone(L.codalDefinitions)||{},e=L.codalTarget;"string"==typeof e&&(e+=".json");u={target:e,definitions:r,config:r,application:"pxtapp",output_folder:"build",pxt_gitrepo:L.githubCorePackage,pxt_gittag:L.gittag,libraries:ke.values(oe).map(e=>({name:e.project,url:"https://github.com/"+e.fullName,branch:e.tag||"master",type:"git"}))};0==u.libraries.length&&delete u.libraries,ke.iterMap(ke.jsonFlatten(F),(e,t)=>{e=e.replace(/^codal\./,"device.").toUpperCase().replace(/\./g,"_"),r[e]=t}),m.generatedFiles["/codal.json"]=JSON.stringify(u,null,4)+"\n",xe.debug("codal.json: "+m.generatedFiles["/codal.json"]),m.codal=u}else if(n){let r=i.platformioIni.slice();r.push("lib_deps ="),ke.iterMap(m.platformio.dependencies,(e,t)=>{e=/[@#\/]/.test(t)?t:e+"@"+t;r.push("  "+e)}),m.generatedFiles["/platformio.ini"]=r.join("\n")+"\n"}else{m.yotta.config=F;let e="pxt-app";l={name:e=i.yottaBinary?i.yottaBinary.replace(/-combined/,"").replace(/\.hex$/,""):e,version:"0.0.0",description:"Auto-generated. Do not edit.",license:"n/a",dependencies:m.yotta.dependencies,targetDependencies:{},bin:"./source"};m.generatedFiles["/module.json"]=JSON.stringify(l,null,4)+"\n",xe.debug("module.json: "+m.generatedFiles["/module.json"])}for(he of Object.keys(T))J+=`#define ${he} ${T[he]}
`;if(a.uf2Family&&(J+=`#define PXT_UF2_FAMILY ${a.uf2Family}
`),m.generatedFiles[r+"pointers.cpp"]=V+b.finish()+q+y+h+"\nPXT_SHIMS_END\n",m.generatedFiles[r+"pxtconfig.h"]=J,xe.debug("pxtconfig.h: "+m.generatedFiles[r+"pxtconfig.h"]),g&&(m.generatedFiles["/config.json"]=JSON.stringify(F,null,4)+"\n",xe.debug("yotta config.json: "+m.generatedFiles["/config.json"])),m.generatedFiles[r+"main.cpp"]=`
#include "pxt.h"
#ifdef PXT_MAIN
PXT_MAIN
#else
int main() {
    uBit.init();
    pxt::start();
    release_fiber();
    return 0;   // your program will never reach this line.
}
#endif
`,m.generatedFiles["/Makefile"]){let r="";L=(e,t)=>{r+=`${e} = ${ge(t).join(" ")}\n`};L("PXT_C",".c"),L("PXT_CPP",".cpp"),L("PXT_S",".s"),L("PXT_HEADERS",".h"),r=r+"PXT_SOURCES := $(PXT_C) $(PXT_S) $(PXT_CPP)\n"+"PXT_OBJS := $(addprefix bld/, $(PXT_C:.c=.o) $(PXT_S:.s=.o) $(PXT_CPP:.cpp=.o))\n",m.generatedFiles["/Makefile.inc"]=r}return m.generatedFiles["/functions.json"]=JSON.stringify(m.functions,null,1),u=m.extensionFiles,ke.jsonCopyFrom(u,m.generatedFiles),n={config:i.serviceId,tag:i.gittag,replaceFiles:u,dependencies:g?m.yotta.dependencies:null},l=JSON.stringify(n),m.sha=ke.sha256(l),m.skipCloudBuild=!!i.skipCloudBuild,m.compileData=ts.pxtc.encodeBase64(ke.toUTF8(l)),m.shimsDTS=x.finish(),m.enumsDTS=k.finish(),(be=10<Object.keys(be).length?{}:be)[j]=m},e.unpackSourceFromHexFileAsync=function(e){if(e)return xe.Util.fileReadAsBufferAsync(e).then(e=>t(new Uint8Array(e)))},e.unpackSourceFromHexAsync=t}})(pxt=pxt||{}),(u=>{{var n=u.hexloader||(u.hexloader={});let t={},r,a={};function s(e){return t.hasOwnProperty(e.sha)||(t[e.sha]=(t=>{let l="";return n.showLoading(u.U.lf("Compiling (this may take a minute)...")),u.tickEvent("cppcompile.start"),(e=>e.skipCloudBuild?Promise.resolve({hex:["SKIP"]}):u.webConfig&&u.webConfig.isStatic?u.Util.requestAsync({url:`${u.webConfig.cdnUrl}hexcache/${e.sha}.hex`}).then(e=>e.text?(e={enums:[],functions:[],hex:e.text.split(/\r?\n/)},Promise.resolve(e)):(u.log("Hex info not found in bundled hex cache"),Promise.resolve())).catch(e=>(u.log("Error fetching hex info from bundled hex cache"),Promise.resolve())):u.Cloud.localToken&&window&&u.BrowserUtils.isLocalHost()?((e,t)=>u.Cloud.localRequestAsync(e,t).then(e=>e.json))("compile/"+e.sha).then(e=>e&&!e.notInOfflineCache&&e.hex?(e.hex=e.hex.split(/\r?\n/),e):Promise.resolve(void 0)).catch(e=>Promise.resolve(void 0)):Promise.resolve(void 0))(t).then(e=>e?(u.tickEvent("cppcompile.cachehit"),e):(()=>{var e;return r||(e=u.getOnlineCdnUrl(),r=e?Promise.resolve(e):(e=u.webConfig&&u.webConfig.isStatic,u.Cloud.privateGetAsync("clientconfig",e).then(e=>e.primaryCdnUrl)))})().then(e=>(l=e+"/compile/"+t.sha,u.U.httpGetTextAsync(l+".hex"))).then(e=>e,e=>u.Cloud.privatePostAsync("compile/extension",{data:t.compileData},!0).then(c=>new Promise((r,e)=>{let n=0,i=8e3,a=3e5,s=u.U.now(),o=()=>{if(n++,u.U.now()-s>a)return u.log("abandoning C++ build"),u.tickEvent("cppcompile.cancel",{retry:n}),r(null),null;let t=c.hex.replace(/\.hex/,".json");return u.log(`polling C++ build ${t} (attempt #${n})`),u.tickEvent("cppcompile.poll",{retry:n}),u.Util.httpGetJsonAsync(t).then(e=>{u.log("build log "+t.replace(/\.json$/,".log")),u.tickEvent("cppcompile.done",{success:null!=e&&e.success?1:0,retry:n,duration:u.U.now()-s}),e.success?(u.log("fetching "+l+".hex"),r(u.U.httpGetTextAsync(l+".hex"))):(u.log("build failed"),e.mbedresponse&&e.mbedresponse.result&&e.mbedresponse.result.exception&&u.log(e.mbedresponse.result.exception),r(null))},e=>(u.log(`waiting ${i/1e3|0}s for C++ build...`),setTimeout(o,i),null))};o()}))).then(e=>(n.hideLoading(),{hex:e&&e.split(/\r?\n/)}))).finally(()=>{n.hideLoading()})})(e)),t[e.sha]}function o(r,n,i,e,a=10){return r.cacheStoreAsync(i,e).then(()=>r.cacheGetAsync(n)).then(e=>{let t;try{t=JSON.parse(e||"[]")}catch(e){u.error("invalid cache entry, clearing entry"),t=[]}(t=t.filter(e=>e!=i)).unshift(i);e=t.slice(a);return t=t.slice(0,a),u.U.promiseMapAll(e,e=>r.cacheStoreAsync(e,"[]")).then(()=>r.cacheStoreAsync(n,JSON.stringify(t)))})}function c(r,n,i){return r.cacheGetAsync(n).then(e=>{let t;try{t=JSON.parse(e||"[]")}catch(e){return u.error("invalid cache entry, clearing entry"),r.cacheStoreAsync(n,"[]")}return t[0]!=i?((t=t.filter(e=>e!=i)).unshift(i),r.cacheStoreAsync(n,JSON.stringify(t))):null})}n.showLoading=e=>{},n.hideLoading=()=>{},n.storeWithLimitAsync=o,n.recordGetAsync=c,n.getHexInfoAsync=function(n,r,e){if(!r.sha)return Promise.resolve(null);var t=a[r.sha];if(t)return Promise.resolve(t);u.debug("get hex info: "+r.sha);let i="hex-"+r.sha;return n.cacheGetAsync(i).then(e=>{let t;try{t=e?JSON.parse(e):null}catch(e){u.log("invalid cache entry, clearing entry"),t=null}return t&&t.hex?(u.debug("cache hit, size="+e.length),t.hex=(r=>{var a=[];for(let t=0;t<r.length;t++){var n=/^([@!])(....)$/.exec(r[t]);if(n){let e=parseInt(n[2],16);var s=r[++t];let i="";if("@"==n[1]){i="";let e=parseInt(s,16);for(;0<e--;)i+="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}else i=ts.pxtc.decodeBase64(s);u.Util.assert(0<i.length),u.Util.assert(i.length%16==0);for(let n=0;n<i.length;){var o=[16,e>>8&255,255&e,0];e+=16;for(let e=0;e<16;++e)o.push(i.charCodeAt(n++));let t=0;for(let e=0;e<o.length;++e)t+=o[e];o.push(255&-t);let r=":";for(let e=0;e<o.length;++e){var c=255&o[e];c<=15&&(r+="0"),r+=c.toString(16)}a.push(r.toUpperCase())}}else a.push(r[t])}return a})(t.hex),c(n,"hex-keys",i).then(()=>t)):s(r).then(e=>{var t=e.hex,r=(e.hex=(i=>{let a=[],s=0;for(let n=0;n<i.length;n+=s){let e=-1,r="",t=(s=0,!1);for(;s<500;){var o=/^:10(....)00(.{32})(..)$/.exec(i[n+s]);if(!o)break;var c=o[2],l=/^0+$/.test(c),u=parseInt(o[1],16);if(-1==e)t=l,a.push((t?"@":"!")+o[1]),e=u-16;else{if(l!=t)break;if(e+16!=u)break}t||(r+=c),e=u,s++}if(0==s)a.push(i[n]),s=1;else if(t)a.push(s.toString(16));else{let t="";for(let e=0;e<r.length;e+=2)t+=String.fromCharCode(parseInt(r.slice(e,e+2),16));a.push(ts.pxtc.encodeBase64(t))}}return a})(e.hex),JSON.stringify(e));return e.hex=t,o(n,"hex-keys",i,r).then(()=>e)}).catch(e=>(u.reportException(e,{sha:r.sha}),Promise.resolve(null)))}).then(e=>(e&&((a=20<Object.keys(a).length?{}:a)[r.sha]=e),e))}}})(pxt=pxt||{}),(a=>{var e;(e=a.crowdin||(a.crowdin={})).KEY_VARIABLE="CROWDIN_KEY",e.testMode=!1,e.setTestMode=function(){a.crowdin.testMode=!0,a.log("CROWDIN TEST MODE - files will NOT be uploaded")},e.inContextLoadAsync=function(n){let i=document.createElement("input");i.type="text",i.setAttribute("class","hidden"),i.value=n;var e=new Promise((t,e)=>{let r=new MutationObserver(()=>{var e;n!=i.value&&(e=a.Util.rlf(i.value),i.remove(),r.disconnect(),t(e))});r.observe(i,{attributes:!0})});return document.body.appendChild(i),e}})(pxt=pxt||{}),(_=>{var e;{var t=_.diff||(_.diff={});function x(r,e){if(!r)return[];if(e){var n=[];let t=0;for(let e=0;e<r.length;e++)"\n"===r.charAt(e)&&(n.push(r.substring(t,e+1)),t=e+1);return n.push(r.substring(t)),n}return r.split(/\r?\n/)}t.toLines=x;let b;function m(e,t,i={}){i.ignoreWhitespace&&(e=e.replace(/[\r\n]+$/,""),t=t.replace(/[\r\n]+$/,""));var a=x(e,!0),s=x(t,!0);let o=Math.min(i.maxDiffSize||1024,a.length+s.length);if(0==o)return[];let c=65520<a.length?Uint32Array:Uint16Array,l={},u=0,d=r(a),p=r(s);function r(e){var t,r=new c(e.length);let n=0;for(t of e)i.ignoreWhitespace&&(t=t.replace(/\s+$/g,"").replace(/^\s+/g,"")),l.hasOwnProperty(t)?r[n]=l[t]:(++u,r[n]=u,l[t]=u),n++;return r}let n=new c(2*o+1),f=-1;for(let e=0;e<=o;e++)null!=v(e,n)&&(f=e);if(-1==f)return null;var _=[];let m=null;for(let t=0;t<=f;t++){let e=_.length?_[_.length-1].slice(0):new c(2*f+1);if(_.push(e),null!=(m=v(t,e)))break}var g=[];let h=m;for(let n=_.length-1;0<=n;n--){let t=_[n],r=0,e=0;var y=(r=h==-n||h!=n&&t[o+h-1]<t[o+h+1]?(e=h+1,t[o+e]):(e=h-1,t[o+e]+1))-h;for(let e=t[o+h]-r-1;0<=e;--e)g.push([b.Unchanged,s[y+e]]);e==h-1?g.push([b.Deleted,a[r-1]]):0<y&&g.push([b.Added,s[y-1]]),h=e}return g.reverse(),g;function v(n,i){for(let r=-n;r<=n;r+=2){let e=0,t=(e=r==-n||r!=n&&i[o+r-1]<i[o+r+1]?i[o+r+1]:i[o+r-1]+1)-r;for(;e<d.length&&t<p.length&&d[e]==p[t];)e++,t++;if((i[o+r]=e)>=d.length&&t>=p.length)return r}return null}}function g(e,t,r={}){var n=m(e,t,r);if(r.context==1/0||r.full)return n.map(p);let i=1,a=1,s=0;for(var o=[],c=r.context||3;s<n.length;){let e=s;for(;e<n.length&&n[e][0]===b.Unchanged;)e++;if(e==n.length)break;var l=e-c,u=l-s,u=(0<u&&(i+=u,a+=u,s=l),o.length),l=i,d=a;o.push("@@");let t=s,r=0;for(;t<n.length;){if(n[t][0]===b.Unchanged){if(++r>2*c+2){t-=c+2;break}}else r=0;t++}for(;s<t;){switch(o.push(p(n[s])),n[s][0]){case b.Deleted:i++;break;case b.Added:a++;break;case b.Unchanged:i++,a++}s++}o[u]=`@@ -${l},${i-l} +${d},${a-d} @@`}return o}function p([e,t]){let r;return(r=e===b.Added?"+ ":e===b.Deleted?"- ":"  ")+t.replace(/\r?\n/,"")}function a(e){return x(e).map(e=>e.replace(/;\s*$/,"")).join("\n")}function h(e){e=/^@@ -(\d+),(\d+) \+(\d+),(\d+)/.exec(e);return e&&{oldStart:parseInt(e[1])-1,oldLength:parseInt(e[2]),newStart:parseInt(e[3])-1,newLength:parseInt(e[4])}}(e=b=b||{})[e.Added=1]="Added",e[e.Deleted=-1]="Deleted",e[e.Unchanged=0]="Unchanged",t.compute=m,t.computeFormattedDiff=g,t.computePatch=function(e,t){var a=m(e,t,{full:!0,maxDiffSize:2048});if(a){var s=a;let e=[],t="",r="",n="",i=b.Unchanged;var o=()=>{e.push({start1:t.length,length1:n.length,diffs:[[b.Added,r]]}),t+=r,r="",n=""};for(let e=0;e<s.length;e++){var[c,l]=s[e];c==b.Unchanged?(i!==b.Unchanged&&o(),t+=l):c===b.Added?r+=l:c===b.Deleted&&(i===b.Added&&o(),n+=l),i=c}return i!==b.Unchanged&&o(),e}return[{start1:0,length1:e.length,diffs:[[b.Added,t]]}]},t.applyPatch=function(e,t){let r=e;for(var n of t){var i=n.diffs.filter(e=>e[0]!==b.Deleted).map(e=>e[1]).join("");r=r.substring(0,n.start1)+i+r.substring(n.start1+n.length1)}return r},t.diff3=function(e,t,r,o,c){var l=n(e),u=n(r);if(l&&u){var d=x(e),p=x(r);let i=0;var f=[];let a=0,s=0;for(let n=0;n<l.length-1;)if(l[n]==a&&u[n]==s)f.push(d[a]),a++,s++,n++;else{let e=!0,t=!0,r=n;for(;r<l.length&&(l[r]!=a+r-n&&(e=!1),u[r]!=s+r-n&&(t=!1),null==l[r]||null==u[r]);)r++;if(_.U.assert(r<l.length),e)for(;s<u[r];)f.push(p[s++]);else if(t)for(;a<l[r];)f.push(d[a++]);else if(d.slice(a,l[r]).join("\n")==p.slice(s,u[r]).join("\n"))for(;a<l[r];)f.push(d[a++]);else{for(i++,f.push("<<<<<<< "+o);a<l[r];)f.push(d[a++]);for(f.push("=======");s<u[r];)f.push(p[s++]);f.push(">>>>>>> "+c)}n=r,a=l[r],s=u[r]}return{merged:f.join("\n"),numConflicts:i};function n(r){r=m(t,r,{context:1/0});if(r){var n,i=[];let e=0,t=0;for(n of r)n[0]==b.Added?e++:n[0]==b.Deleted?(i[t]=null,t++):n[0]==b.Unchanged?(i[t]=e,e++,t++):_.U.oops();return i.push(e+1),i}}}},t.removeTrailingSemiColumns=a,t.split=function(e,t){var r=e.split(/-{10,}/,2);if(r.length<2)return{fileA:e,fileB:void 0};let n=r[0].replace(/\n$/,""),i=r[1].replace(/^\n/,"");return t&&t.removeTrailingSemiColumns&&(n=a(n),i=a(i)),{fileA:n,fileB:i}},t.parseDiffMarker=h,t.render=function(e,t,s={}){let o=g(e,t,s);if(!o)return _.dom.el("div",null,pxtc.Util.lf("Too many differences to render diff."));let c={"@":"diff-marker"," ":"diff-unchanged","+":"diff-added","-":"diff-removed"},l=0,u=0,d="",p=_.dom.el("tbody"),f=(e=_.dom.el("table",{class:"diffview "+(s.update?"update":"")},p),null);return o.forEach((e,t)=>{var r=h(e),r=(r?(l=r.oldStart,u=r.newStart):("+"!=e[0]&&l++,"-"!=e[0]&&u++),o[t+1]?o[t+1][0]:""),n=o[t+2]?o[t+2][0]:"",i=e.slice(2);let a=_.dom.el("code",null,i);f?(a=f,f=null):"-"!=e[0]||" "!=d&&"@"!=d||"+"!=r||" "!=n&&"@"!=n&&""!=n||(i=((e,t)=>{var r=g(e.split("").join("\n"),t.split("").join("\n"),{context:1/0});if(!r)return{a:_.dom.el("div",{class:"inline-diff"},_.dom.el("code",null,e)),b:_.dom.el("div",{class:"inline-diff"},_.dom.el("code",null,t))};var n=[],i=[];for(let t=0;t<r.length;){let e=t;for(var a=r[t][0];r[e]&&r[e][0]==a;)e++;var s=r.slice(t,e).map(e=>e.slice(2)).join("");" "==a?(n.push(_.dom.el("code",{class:"ch-common"},s)),i.push(_.dom.el("code",{class:"ch-common"},s))):"-"==a?n.push(_.dom.el("code",{class:"ch-removed"},s)):"+"==a?i.push(_.dom.el("code",{class:"ch-added"},s)):_.Util.oops(),t=e}return{a:_.dom.el("div",{class:"inline-diff"},n),b:_.dom.el("div",{class:"inline-diff"},i)}})(e.slice(2),o[t+1].slice(2)),a=i.a,f=i.b),d=e[0],s.hideMarkerLine&&"@"==d||s.hideRemoved&&"-"==d||(r="@"==d,n=""+c[d],p.appendChild(_.dom.el("tr",{class:n},[!s.hideLineNumbers&&_.dom.el("td",{class:"line-a","data-content":l}),!s.hideLineNumbers&&_.dom.el("td",{class:"line-b","data-content":u}),r&&_.dom.el("td",{colspan:2,class:"change"},_.dom.el("code",null,e)),!s.hideMarker&&!r&&_.dom.el("td",{class:"marker","data-content":d}),!r&&_.dom.el("td",{class:"change"},a)])))}),e},t.resolveMergeConflictMarker=function(e,t,r,n){var i=_.diff.toLines(e);let a=t;for(;a<i.length&&!/^<<<<<<<[^<]/.test(i[a]);)a++;let s=a+1;for(;s<i.length&&!/^=======$/.test(i[s]);)s++;let o=s+1;for(;o<i.length&&!/^>>>>>>>[^>]/.test(i[o]);)o++;if(o>=i.length)return _.debug(`diff marker mistmatch: ${i.length} -> ${a} ${s} `+o),e;if(i[a]=void 0,i[s]=void 0,i[o]=void 0,!r)for(let e=a;e<=s;++e)i[e]=void 0;if(!n)for(let e=s;e<=o;++e)i[e]=void 0;return i.filter(e=>void 0!==e).join("\n")},t.mergeDiff3Config=function(e,t,r){var n=_.Util.jsonTryParse(e);let i=_.Util.jsonTryParse(t);var a=_.Util.jsonTryParse(r);if(n&&!a)return e;if(!n)return r||t;if(!i&&a&&(i=a),n&&i&&a){delete n.installedVersion,delete i.installedVersion,delete a.installedVersion;var s,o,c={};for(s of _.U.unique(Object.keys(i).concat(Object.keys(n)).concat(Object.keys(a)),e=>e)){var l=n[s],u=i[s],d=a[s];if(JSON.stringify(l)==JSON.stringify(d))void 0!==l&&(c[s]=l);else switch(s){case"name":c[s]=(f=d,(o=l)==(p=u)||f!=p&&o==lf("Untitled")?f:o);break;case"version":c[s]=0<_.semver.strcmp(l,d)?l:d;break;case"languageRestriction":case"preferredEditor":case"targetVersion":c[s]=l;break;case"public":c[s]=l&&d;break;case"files":case"testFiles":var p=((e,t,r)=>{var n,i=[];for(n of _.U.unique(t.concat(e).concat(r),e=>e)){var a=-1<e.indexOf(n),s=-1<r.indexOf(n),o=-1<t.indexOf(n);a==s||s==o?a&&i.push(n):s&&i.push(n)}return i})(l||[],u||[],d||[]);if(!p)return;c[s]=p.length?p:void 0;break;case"dependencies":case"testDependencies":var f=((e,t,r)=>{var n,i={};for(n of _.U.unique(Object.keys(t).concat(Object.keys(e)).concat(Object.keys(r)),e=>e)){var a,s,o=e[n],c=r[n],l=t[n];o==c?o&&(i[n]=o):(a=_.github.parseRepoId(o),s=_.github.parseRepoId(c),a&&s&&_.semver.tryParse(a.tag)&&_.semver.tryParse(s.tag)&&a.owner&&a.project&&a.owner==s.owner&&a.project==s.project?(s=(0<_.semver.strcmp(a.tag,s.tag)?a:s).tag,i[n]=`github:${a.owner}/${a.project}#`+s):c==l?o&&(i[n]=o):c&&(i[n]=c))}return i})(l||{},u||{},d||{});if(Object.keys(f).length)return;c[s]=f;break;case"description":if(l&&!d)c[s]=l;else{if(l||!d)return;c[s]=d}break;default:return}}return _.Package.stringifyConfig(c)}},t.hasMergeConflictMarker=function(e){return e&&/^(<<<<<<<[^<]|>>>>>>>[^>])/m.test(e)},t.reconstructConfig=function(t,r,e,n){var i={};let a=e.tree.tree.map(e=>e.path).filter(e=>/\.(ts|blocks|md|jres|asm|json)$/.test(e)).filter(e=>e!=_.CONFIG_NAME);return(a=t.fileName?a.filter(e=>0===e.indexOf(t.fileName)).map(e=>e.slice(t.fileName.length+1)):a).find(e=>/\.ts$/.test(e))||(n.config.files.filter(e=>a.indexOf(e)<0).forEach(e=>{a.push(e),r[e]=n.files[e]}),_.Util.jsonCopyFrom(i,n.config.dependencies)),Object.keys(i).length||(i[_.appTarget.corepkg]="*"),{name:"",files:a,dependencies:i,preferredEditor:a.find(e=>/.blocks$/.test(e))?_.BLOCKS_PROJECT_NAME:_.JAVASCRIPT_PROJECT_NAME}}}})(pxt=pxt||{}),(n=>{var e;(e=n.discourse||(n.discourse={})).extractSharedIdFromPostUrl=function(e){return n.Util.httpGetJsonAsync(e+".json").then(e=>e.post_stream&&e.post_stream.posts&&e.post_stream.posts[0]&&e.post_stream.posts[0].link_counts.map(e=>n.Cloud.parseScriptId(e.url)).filter(e=>!!e)[0])},e.topicsByTag=function(r,e){return e=(r=r.replace(/\/$/,""))+`/tag/${e}.json`,n.Util.httpGetJsonAsync(e).then(e=>{let t=n.Util.toDictionary(e.users,e=>e.id.toString());return e.topic_list.topics.map(e=>({id:e.id,title:e.title,url:r+`/t/${e.slug}/`+e.id,imageUrl:e.image_url,author:t[e.posters[0].user_id].username,cardType:"forumUrl"}))})}})(pxt=pxt||{}),(f=>{{var C=f.docs||(f.docs={}),E=pxtc.Util;let v,x={},k={};var e="\x3c!-- @CMD@ @ARGS@ --\x3e";let S={parent:e,short:e,description:"\x3c!-- desc --\x3e",activities:"\x3c!-- activities --\x3e",explicitHints:"\x3c!-- hints --\x3e",flyoutOnly:"\x3c!-- flyout --\x3e",hideToolbox:"\x3c!-- hideToolbox --\x3e",hideIteration:"\x3c!-- iter --\x3e",codeStart:"\x3c!-- start --\x3e",codeStop:"\x3c!-- stop --\x3e",autoOpen:"\x3c!-- autoOpen --\x3e",autoexpandOff:"\x3c!-- autoexpandOff --\x3e",preferredEditor:"\x3c!-- preferredEditor --\x3e"};function t(e,t,r){return e.split(t).join(r)}function r(e){return e=t(e,"&","&amp;"),e=t(e,"<","&lt;"),e=t(e,">","&gt;"),e=t(e,'"',"&quot;"),e=t(e,"'","&#39;")}function D(e){return e&&r(e.replace(/\&([#a-z0-9A-Z]+);/g,(e,t)=>{switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return"#"==t[0]?String.fromCharCode(parseInt(t.slice(1))):e}}))}C.htmlQuote=r,C.html2Quote=D;let b=[{rx:/^vimeo\.com\/(\d+)/i,cmd:"### @vimeo $1"},{rx:/^(www\.youtube\.com\/watch\?v=|youtu\.be\/)([\w\-]+(\#t=([0-9]+m[0-9]+s|[0-9]+m|[0-9]+s))?)/i,cmd:"### @youtube $2"}],T=(C.requireMarked=()=>"undefined"!=typeof marked?marked:"undefined"!=typeof require?require("marked"):void 0,C.requireDOMSanitizer=()=>"undefined"!=typeof DOMPurify?DOMPurify.sanitize:"undefined"!=typeof require?require("DOMPurify").sanitize:void 0,e=>`<div class='ui negative message'>${r(e)}</div>`);function A(i){let a=E.clone(x),s=E.clone(k),o=E.clone(S),c={},l={},r=i.params;var e=i.theme;i.boxes=a,i.macros=s,i.settings=o,i.html=i.html.replace(/<aside\s+([^<>]+)>([^]*?)<\/aside>/g,(e,t,r)=>{var t=(t=>{for(var r,n={};t.trim();){let e=/\s*([^=\s]+)=("([^"]*)"|'([^']*)'|(\S*))/.exec(t);e?(r=e[3]||e[4]||e[5]||"",n[e[1].toLowerCase()]=r):n[(e=/^\s*(\S+)/.exec(t))[1]]="true",t=t.slice(e[0].length)}return n})(t),n=t["data-name"]||t.id;return n?(/box/.test(t.class)?a[n]=r:/aside/.test(t.class)?a[n]=`<!-- BEGIN-ASIDE ${n} -->${r}<!-- END-ASIDE -->`:/setting/.test(t.class)?o[n]=r:/menu/.test(t.class)?c[n]=r:/toc/.test(t.class)?l[n]=r:s[n]=r,`<!-- macro ${n} -->`):T("id or data-name missing on macro")});let u=(e,t)=>{let r=c.item;var n={NAME:e.name};if(e.subitems)r=c["toc-dropdown"]||(0==t?c["top-dropdown"]:c["inner-dropdown"]),n.ITEMS=e.subitems.map(e=>u(e,t+1)).join("\n");else{if(/^-+$/.test(e.name)&&(r=c.divider),e.path&&!/^(https?:|\/)/.test(e.path))return T("Invalid link: "+e.path);n.LINK=e.path}return I(r,n,["ITEMS"])},d=[{name:lf("Docs"),href:"/docs"}];var n=i.TOC||e.TOC||[];let p=[],f=e=>{for(var t of e.subitems||[])if(f(t))return p.push(e),!0;return!(!i.filepath||!e.path||i.filepath!=e.path||(p.push(e),0))},_=(n.forEach(f),(e,t)=>{let r=l.item;var n={NAME:e.name};return e.path&&!/^(https?:|\/)/.test(e.path)?T("Invalid link: "+e.path):(/^\//.test(e.path)&&i.versionPath&&(e.path="/"+i.versionPath+e.path),n.LINK=e.path,0<=p.indexOf(e)?(n.ACTIVE="active",n.EXPANDED="true",d.push({name:e.name,href:e.path})):n.EXPANDED="false",e.subitems&&0<e.subitems.length?(r=l["toc-dropdown"]?""!==e.name?l["toc-dropdown"]:l["toc-dropdown-noLink"]:0==t?""!==e.name?l["top-dropdown"]:l["top-dropdown-noHeading"]:1==t?l["inner-dropdown"]:l["nested-dropdown"],n.ITEMS=e.subitems.map(e=>_(e,t+1)).join("\n")):/^-+$/.test(e.name)&&(r=l.divider),I(r,n,["ITEMS"]))}),t=(r.menu=(e.docMenu||[]).map(e=>u(e,0)).join("\n"),r.TOC=n.map(e=>_(e,0)).join("\n"),e.appStoreID&&(r.appstoremeta=`<meta name="apple-itunes-app" content="app-id=${E.htmlEscape(e.appStoreID)}"/>`),"");1<d.length&&(t=`
            <nav class="ui breadcrumb" aria-label="${lf("Breadcrumb")}">
                ${d.map((e,t)=>`<a class="${t==d.length-1?"active":""} section"
                        href="${D(e.href)}" aria-current="${t==d.length-1?"page":""}">${D(e.name)}</a>`).join('<i class="right chevron icon divider"></i>')}
            </nav>`),r.breadcrumb=t,e.boardName&&(r.boardname=D(e.boardName)),e.boardNickname&&(r.boardnickname=D(e.boardNickname)),e.driveDisplayName&&(r.drivename=D(e.driveDisplayName)),e.homeUrl&&(r.homeurl=D(e.homeUrl)),r.targetid=e.id||"???",r.targetname=e.name||"Microsoft MakeCode",r.docsheader=e.docsHeader||"Documentation",r.orgtitle="MakeCode";var n=e.docsLogo&&E.htmlEscape(e.docsLogo),m=(e.organizationWideLogo||e.organizationLogo)&&E.htmlEscape(e.organizationWideLogo||e.organizationLogo),g=e.organizationLogo&&E.htmlEscape(e.organizationLogo),n=(r.targetlogo=n?`<img aria-hidden="true" role="presentation" class="ui ${e.logoWide?"small":"mini"} image" src="${n}" />`:"",r.orglogo=m?`<img aria-hidden="true" role="presentation" class="ui image" src="${m}" />`:"",r.orglogomobile=g?`<img aria-hidden="true" role="presentation" class="ui image" src="${g}" />`:"",i.ghEditURLs||[]);if(n.length){let e=`<p style="margin-top:1em">
`,t=lf("Edit this page on GitHub");for(var h of n)e+=`<a href="${h}"><i class="write icon"></i>${t}</a><br>
`,t=lf("Edit template of this page on GitHub");e+=`</p>
`,r.github=e}else r.github="";var y,m=`
            <a href="#maincontent" class="ui item link" tabindex="0" role="menuitem">${lf("Skip to main content")}</a>
        `,g=(r.accMenu=m,lf("Print this page")),n=(r.printBtn=`
            <button id="printbtn" class="circular ui icon right floated button hideprint" title="${g}" aria-label="${g}">
                <i class="icon print"></i>
            </button>
        `,`
            <a id="togglesidebar" class="launch icon item" tabindex="0" title="Side menu" aria-label="${lf("Side menu")}" role="menuitem" aria-expanded="false">
                <i class="content icon"></i>
            </a>
        `),m=(r.sidebarToggle=n,["tocsearch1","tocsearch2"].map(e=>`
                <input type="search" name="q" placeholder="${lf("Search...")}" aria-label="${lf("Search Documentation")}">
                <i onclick="document.getElementById('${e}').submit();" tabindex="0" class="search link icon" aria-label="${lf("Search")}" role="button"></i>
            `));r.searchBar1=m[0],r.searchBar2=m[1];let v="";e.accentColor&&(v+=`
.ui.accent { color: ${e.accentColor}; }
.ui.inverted.accent { background: ${e.accentColor}; }
`),r.targetstyle=v,r.tocclass=e.lightToc?"lighttoc":"inverted";for(y of Object.keys(e)){var b=e[y];void 0===r[y]&&"string"==typeof b&&(r[y]=b)}i.finish=()=>I(i.html,r,["body","menu","accMenu","TOC","prev","next","printBtn","breadcrumb","targetlogo","orglogo","orglogomobile","github","JSON","appstoremeta","sidebarToggle","searchBar1","searchBar2"])}function w(e){e.image=function(n,t,r){if(n.startsWith("youtube:"))return'<div class="tutorial-video-embed"><iframe class="yt-embed" src="https://www.youtube.com/embed/'+n.split(":").pop()+'" title="'+r+'" frameborder="0" allowFullScreen allow="autoplay; picture-in-picture"></iframe></div>';if(n.startsWith("azuremedia:")){let e=n.split(":")[1];var i=e.split("?");let t,r;i[1]&&(e=i[0],i=i[1],t=null==(a=/start(?:time)?=(\d+)/i.exec(i))?void 0:a[1],r=null==(a=/end(?:time)?=(\d+)/i.exec(i))?void 0:a[1]);var i=new URL(`https://makecodeprodmediaeastus-usea.streaming.media.azure.net/${e}/manifest(format=mpd-time-csf).mpd`),a=(t&&(i.hash="t="+t,i.searchParams.append("startTime",t)),r&&i.searchParams.append("endTime",r),`<div class="tutorial-video-embed"><video class="ams-embed" controls src="${i.toString()}" /></div>`);return a}{let e='<img class="ui image" src="'+n+'" alt="'+r+'"';return t&&(e+=' title="'+t+'"'),e=(e+=' loading="lazy"')+(this.options.xhtml?"/>":">")}},e.listitem=function(e){var t=/^\s*\[( |x)\]/i.exec(e);return t?`<li class="${" "==t[1]?"unchecked":"checked"}">`+e.slice(t[0].length)+"</li>\n":"<li>"+e+"</li>\n"},e.heading=function(e,t,r){var n=/(.*)#([\w\-]+)\s*$/.exec(e);let i="";return n&&(e=n[1],i=n[2]),(e=e&&e.replace(/@(fullscreen|unplugged|showdialog|showhint)/gi,"")).match(/\{([\s\S]+)\}/)&&(e=e.match(/\{([\s\S]+)\}/)[1].trim()),""===i&&(i=e.toLowerCase().replace(/[^\w]+/g,"-")),`<h${t} id="${this.options.headerPrefix}${i}">${e}</h${t}>`}}function N(e,i){return e.replace(/<!--\s*@(ifn?def)\s+(\w+)\s*-->([^]*?)<!--\s*@endif\s*-->/g,(e,t,r,n)=>"ifdef"==t&&i[r]||"ifndef"==t&&!i[r]?`<!-- ${t} ${r} -->${n}<!-- endif -->`:`<!-- ${t} ${r} endif -->`)}function I(e,n,i=[]){return e?e.replace(/@(\w+)@/g,(e,t)=>{let r=E.lookup(n,t)||"";return r+="",r=i.indexOf(t)<0?D(r):r}):""}C.prepTemplate=A,C.setupRenderer=w,C.renderConditionalMacros=N,C.renderMarkdown=function(o){let e=!0,c=(o.pubinfo||(e=!1,o.pubinfo={}),o.pubinfo),t=(o.theme||(o.theme={}),delete o.pubinfo.private,c.time&&(d=parseInt(c.time),c.timems||(c.timems=1e3*d+""),c.humantime||(c.humantime=E.isoTime(d))),c.name&&(c.dirname=c.name.replace(/[^A-Za-z0-9_]/g,"-"),c.title=c.name),e&&(c.JSON=JSON.stringify(c,null,4).replace(/</g,"\\u003c")),o.template),l=(t=N(t=t.replace(/<!--\s*@include\s+(\S+)\s*-->/g,(e,t)=>"\x3c!-- include "+t+" --\x3e\n"+((o.theme.htmlDocIncludes||{})[t]||"")+"\n\x3c!-- end include --\x3e\n"),c),{html:t=o.locale?P(t,o.locale).text:t,theme:o.theme,filepath:o.filepath,versionPath:o.versionPath,ghEditURLs:o.ghEditURLs,params:c,TOC:o.TOC}),a=(A(l),new(v=v||C.requireMarked()).Renderer),s=(w(a),a.link);a.link=function(e,t,r){var n=new RegExp("^[/#]").test(e),i=n?"":"_blank";return n&&l.versionPath&&(e="/"+l.versionPath+e),s.call(a,e,t,r).replace(/^<a /,`<a ${i?`target="${i}"`:""} rel="nofollow noopener" `)};var r,n,i,u,d=C.requireDOMSanitizer();v.setOptions({renderer:a,gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!0,sanitizer:d,smartLists:!0,smartypants:!0});let p=o.markdown,f=(o.repo&&(p+=`
\`\`\`package
${o.repo.name.replace(/^pxt-/,"")}=github:${o.repo.fullName}#${o.repo.tag||"master"}
\`\`\`
`),p=(p=p.replace(/^\s*https?:\/\/(\S+)\s*$/gm,(e,t)=>{for(var n of b){let r=n.rx.exec(t);if(r)return n.cmd.replace(/\$(\d+)/g,(e,t)=>r[parseInt(t)]||"")+"\n"}return e})).replace(/@([a-z]+)@/gi,(e,t)=>{var r=c[t];return!r&&o.throwOnError&&E.userError("unknown macro "+t),r||"unknown macro"}),v(p)),_=(f=(f=f.replace(/&lt;br\s*\/&gt;/gi,"<br/>")).replace(/(<img [^>]* src=")\/docs\/static\/([^">]+)"/g,(e,t,r)=>t+"/static/"+r+'"'),""),m=0;function g(e,t,r){let n=r;return e<=m&&(n=_+n,_="",m=0),n}f=f.replace(/<h(\d)[^>]+>\s*([~@])?\s*(.*?)<\/h\d>/g,(e,t,r,n)=>{var i,a=/^(\w+)\s+(.*)/.exec(n),n=a?a[1]:n,a=(a=a?a[2]:"",D(a)),n=D(n);if(t=parseInt(t),r){if("@"!=r)return n?(r=E.lookup(l.boxes,n))?(s=r.split("@BODY@"),i=g(t,_,s[0].replace("@ARGS@",a)),_=s[1],(s=r.match(/data-[^>\s]+/gi))&&0<=s.indexOf("data-inferred")&&(m=t),i):(o.throwOnError&&E.userError("Unknown box: ~ "+n),T("Unknown box: ~ "+n)):(r=_,_="",r);{let e=E.lookup(l.settings,n);if(null!=e)c[n]=a;else if(null==(e=E.lookup(l.macros,n)))return o.throwOnError&&E.userError("Unknown command: @"+n),T("Unknown command: @"+n);var s={ARGS:a,CMD:n};return g(t,_,I(e,s,["ARGS","CMD"]))}}return g(t,_,e)}),_&&(f+=_),c.title||(d=/<h1[^<>]*>([^<>]+)<\/h1>/.exec(f))&&(c.title=D(d[1])),c.description||(d=/<p>([^]+?)<\/p>/.exec(f))&&(c.description=D(d[1])),(d=/<div class="ui embed mdvid"[^<>]+?data-placeholder="([^"]+)"[^>]*\/?>/i.exec(f)||/<img class="ui [^"]*image" src="([^"]+)"[^>]*\/?>/i.exec(f))&&(c.cardLogo=D(d[1])),c.twitter=D(o.theme.twitter||"@msmakecode");let h={main:""};f=(f=f.replace(/<!-- BEGIN-ASIDE (\S+) -->([^]*?)<!-- END-ASIDE -->/g,(e,t,r)=>{var n=E.lookup(h,t);return h[t]=(n||"")+r,"\x3c!-- aside --\x3e"})).replace(/\n<\/code>/g,"</code>"),h.main=f,f="";for(r of Object.keys(h))f+=(n=r+"-container",i=h[r],I(l.boxes[n]||"@BODY@",{BODY:i},["BODY"]));c.body=f,c.name=c.title||"";for(u of Object.keys(o.theme)){var y=o.theme[u];"string"==typeof y&&(c["theme_"+u]=y)}return l.finish()},C.embedUrl=function(e,t,r,n){return`<div style="position:relative;height:0;padding-bottom:70%;overflow:hidden;"><iframe style="position:absolute;top:0;left:0;width:100%;height:100%;" src="${e+`#${t}:`+r}" frameborder="0" sandbox="allow-popups allow-forms allow-scripts allow-same-origin"></iframe></div>`},C.runUrl=function(e,t,r){return`<div style="position:relative;height:0;padding-bottom:${t};overflow:hidden;"><iframe style="position:absolute;top:0;left:0;width:100%;height:100%;" src="${e}?id=${encodeURIComponent(r)}" allowfullscreen="allowfullscreen" sandbox="allow-popups allow-forms allow-scripts allow-same-origin" frameborder="0"></iframe></div>`},C.codeEmbedUrl=function(e,t,r){return e=e+"---codeembed#pub:"+t,`<div style="position:relative;height:calc(${r=Math.ceil(r||300)}px + 5em);width:100%;overflow:hidden;"><iframe style="position:absolute;top:0;left:0;width:100%;height:100%;" src="${e}" allowfullscreen="allowfullscreen" frameborder="0" sandbox="allow-scripts allow-same-origin"></iframe></div>`};let o={b:1,strong:1,em:1};function P(e,n){let i={};function a(e){var t,e=/^(\s*)([^]*?)(\s*)$/.exec(e);let r=e[2].replace(/\s+/g," ");return""==r||/^((IE=edge,.*|width=device-width.*|(https?:\/\/|\/)[\w@\/\.]+|@[\-\w]+@|\{[^\{\}]+\}|[^a-zA-Z]*|(&nbsp;)+)\s*)+$/.test(r)?null:((t=E.lookup(n,r))?r=t:i[r]="",e[1]+r+e[3])}function s(e){return e.replace(/&llt;/g,"<").replace(/&ggt;/g,">")}return{text:e=(e=(e=(e="<start>"+(e=e.replace(/<([\/\w]+)([^<>]*)>/g,(e,t,r)=>{var n=t.replace(/^\//,"").toLowerCase();return 1===o[n]?"&llt;"+t+r+"&ggt;":e}))).replace(/(<([\/\w]+)([^<>]*)>)([^<>]+)/g,(e,t,r,n,i)=>"script"==r||"style"==r||null==(r=a(s(i)))?s(e):t+r)).replace(/(<[^<>]*)(content|placeholder|alt|title)="([^"]+)"/g,(e,t,r,n)=>null==a(n)?e:t+r+'="'+n.replace(/"/g,"''")+'"')).replace(/^<start>/g,""),missing:i}}function _(e,n){let t=0;var i,a=[{level:0,id:"",title:"",start:t,text:"",children:[]}],e=(e=e.replace(/\r/g,"")).split(/\n/);let s={};for(i of e){let e=/^\s*(#+)\s*(.*?)(#(\S+)\s*)?$/.exec(i),r=null;if(n&&e)if(e[4])if(s[e[4]])e=null;else{r=function e(t,r){if(t.id==r)return t;for(var n of t.children)if(n=e(n,r))return n;return null}(n,e[4]);let t=e=>{e.id&&(s[e.id]=!0),e.children.forEach(t)};r&&t(r)}else e=null;if(e){var o={level:n?1:e[1].length,title:e[2].trim(),id:e[4]||"",start:t,text:"",children:[]};if(r){i="";for(let e=0;e<r.level;++e)i+="#";i=(i=(i+=" ")+(o.title||r.title))+(" #"+o.id)}for(;a[a.length-1].level>=o.level;)a.pop();a[a.length-1].children.push(o),a.push(o)}a[a.length-1].text+=i+"\n",t++}return a[0]}C.translate=P,C.buildTOC=function(e){if(!e)return null;var t=f.docs.requireMarked(),r=C.requireDOMSanitizer(),r={renderer:new t.Renderer,gfm:!0,tables:!1,breaks:!1,pedantic:!1,sanitize:!0,sanitizer:r,smartLists:!1,smartypants:!1},n={name:"dummy",subitems:[]};let i=[],a=(i.push(n),t=t.lexer(e,r),!1);return t.forEach(e=>{switch(e.type){case"heading":e.depth;break;case"list_start":break;case"list_item_start":case"loose_item_start":a=!0;var t={name:"",path:"",subitems:[]};return void i.push(t);case"text":let n=i[i.length-1];0<=e.text.indexOf("[")?e.text.replace(/\[(.*?)\]\((.*?)\)/i,function(e,t,r){n.name=t,n.path=r.replace(".md","")}):a&&(n.name=e.text);break;case"list_item_end":case"loose_item_end":t=i.pop();i[i.length-1].subitems.push(t)}a=!1}),(e=n.subitems)&&0!=e.length?e:null};let p=!(C.visitTOC=function(e,t){e.forEach(function(e){t(e),e.subitems&&e.subitems.forEach(t)})});function m(e,t){function r(e,t,r){var n=m(e,t).trim();if(n!=(r=r.trim()))throw f.log(`*** Template:
${e}
*** Input:
${t}
*** Expected:
${r}
*** Output:
`+n),new Error("augment docs test fail")}if(p||(p=!0,r(i=`
# T0
## Examples #ex
### Example 1
TEx1
### Example 2 #ex2
TEx2
### Example 3
TEx3

## See also #also
TAlso
`,"",i),r(i," ",i),r(i,`
# @extends
# #ex2
My example
## See Also These! #also
My links
`,`
# T0
## Examples #ex
### Example 1
TEx1
### Example 2 #ex2
My example
### Example 3
TEx3

## See Also These! #also
My links
`),r(i,`
# @extends
### #ex
Foo
#### Example 1
Ex1
#### Example 2x #ex2
Ex2
## See Also These! #also
My links
`,`
# T0
## Examples #ex
Foo
#### Example 1
Ex1
#### Example 2x #ex2
Ex2
## See Also These! #also
My links
`)),!t)return e;var n,i=_(e,null),e=_(t,i);let a={},s={};for(n of e.children)E.assert(0==n.children.length),E.assert(!!n.id),a[n.id]=n.text;let o=e=>{e.id&&void 0!==a[e.id]&&(s[e.id]=!0,e.text=a[e.id],e.children=[]),e.children.forEach(o)},c=(o(i),""),l=e=>{c+=e.text,e.children.forEach(l)},u=(l(i),"");var d,t=e.text.replace(/^\s*#+\s*@extends.*/gm,"").replace(/^\s*\n/gm,"");t.trim()&&(u+=t.trim()+"\n");for(d of e.children)s[d.id]||(u+=d.text);return u&&(c+="## Couldn't apply replacement logic to:\n"+u),c}C.augmentDocs=m}})(pxt=pxt||{}),(e=>{(e.dom||(e.dom={})).el=function(e,t,r){let n=document.createElement(e);return t&&Object.keys(t).forEach(e=>n.setAttribute(e,t[e]+"")),function t(e){Array.isArray(e)?e.forEach(e=>t(e)):"string"==typeof e?n.appendChild(document.createTextNode(e)):e instanceof HTMLElement&&n.appendChild(e)}(r),n}})(pxt=pxt||{}),(l=>{var e;function u(e){e=/```package\s+((.|\s)+?)\s*```/i.exec(e);let t=void 0;return e&&(t={},e[1].split("\n").map(e=>e.replace(/\s*/g,"")).filter(e=>!!e).map(e=>e.split("=")).forEach(e=>t[e[0]]=e[1]||"*")),t}function d(e){e=/```config\s+((.|\s)+?)\s*```/i.exec(e);let t=[];return e&&e[1].split("\n").map(e=>e.replace(/\s*/g,"")).filter(e=>!!e).map(e=>e.split("=")).filter(e=>"feature"==e[0]&&!!e[1]).forEach(e=>t.push(e[1])),t.length?t:void 0}function p(e){var t,e=/```jres\s+((.|\s)+?)\s*```/i.exec(e);if(e)return e=e[1],t=JSON.parse(e),{jres:e,ts:l.emitTilemapsFromJRes(t)}}function f(e){e=/```assetjson\s+((.|\s)+?)\s*```/i.exec(e);return e?l.tutorial.parseAssetJson(e[1]):{}}function _(e){e=/```simtheme\s+([\s\S]*?)```/i.exec(e);return e?l.tutorial.parseSimThemeJson(e[1]):{}}function s(e){let t=l.Util.jsonTryParse(e);return null!=(t=t&&!Array.isArray(t)?[t]:t)&&t.length||null!=(t=e.split(/^---$/gm).filter(e=>!!e).map(e=>{let i={};return e.replace(/^\s*(?:-|\*)\s+(\w+)\s*:\s*(.*)$/gm,(e,t,r)=>{var n;return"flags"==t?i[t]=r.split(","):"otherAction"===t?(n=r.split(",").map(e=>null==e?void 0:e.trim()),(i.otherActions||(i.otherActions=[])).push({url:n[0],editor:n[1],cardType:n[2]})):i[t]=r,""}),!!Object.keys(i).length&&i}).filter(e=>!!e))&&t.length?t:void 0}function t(e){if(!e)return[];let r=[],n=!1,i=void 0,a="";return e.split(/\r?\n/).forEach(e=>{var t;/^## /.test(e)?i=e.substr(2).trim():/^(### ~ |```)codecard$/.test(e)?n=!0:/^(### ~|```)$/.test(e)?(n=!1,i&&a&&(null!=(t=s(a))&&t.length?r.push({name:i,cards:t}):l.log("invalid gallery format")),a="",i=void 0):n&&(a+=e+"\n")}),r.forEach(e=>e.cards.forEach(t=>{var e;!t.otherActions||t.otherActions.length||"tutorial"!=t.cardType&&"example"!=t.cardType||(e=["js"],l.appTarget.appTheme.python&&e.unshift("py"),t.otherActions=e.map(e=>({url:t.url,cardType:t.cardType,editor:e})))})),r}(e=l.gallery||(l.gallery={})).parsePackagesFromMarkdown=u,e.parseFeaturesFromMarkdown=d,e.parseJResFromMarkdown=p,e.parseTemplateProjectJSON=f,e.parseSimThemeJSON=_,e.parseExampleMarkdown=function(e,t){if(t){var r,n,i,a,s,o,c=/```(blocks?|typescript|python|spy|sim)\s+((.|\s)+?)\s*```/i.exec(t);if(c)return r=u(t),n=c[1],i=c[2],a=d(t),s=p(t),o=_(t),(e={name:e,filesOverride:{[l.MAIN_BLOCKS]:'<xml xmlns="http://www.w3.org/1999/xhtml"></xml>',["python"===c[1]?l.MAIN_PY:l.MAIN_TS]:i},dependencies:r,features:a,snippetType:n,source:i,simTheme:o}).filesOverride=Object.assign(Object.assign({},e.filesOverride),f(t)),s&&(e.filesOverride[l.TILEMAP_JRES]=s.jres,e.filesOverride[l.TILEMAP_CODE]=s.ts),e}},e.parseCodeCards=s,e.parseCodeCardsHtml=function(e){let t=[],r;return Array.from(e.children).forEach(e=>{"UL"===e.tagName||"OL"===e.tagName?(r=r||{},Array.from(e.querySelectorAll("li")).forEach(e=>{var t,e=e.innerText,e=/^\s*(\w+)\s*:\s*(.*)$/.exec(e);e&&(t=e[1],r[t]=e[2].trim(),"flags"===t)&&(r[t]=r[t].split(/,\s*/))})):"HR"==e.tagName&&(r&&t.push(r),r=void 0)}),r&&t.push(r),!(null==(t=0===t.length&&"CODE"===e.tagName?l.Util.jsonTryParse(e.textContent):t)||!t.length)&&t},e.parseGalleryMardown=t,e.loadGalleryAsync=function(e){return l.Cloud.markdownAsync(e).then(e=>t(e))},e.codeCardsToMarkdown=function(e){return`### ~ codecard

${(e||[]).map(t=>Object.keys(t).filter(e=>!!t[e]).map(e=>"otherActions"===e?t[e].map(e=>`* otherAction: ${e.url}, ${e.editor||""}, `+(e.cardType||"")).join("\n"):`* ${e}: `+t[e]).join("\n")).join(`

---

`)}

### ~
`}})(pxt=pxt||{}),(o=>{class e{constructor(e){this.io=e,this.q=new o.U.PromiseQueue,this.dataBuf="",this.numSent=0,this.pktSize=400,this.trace=!1,this.bmpMode=!0,this.targetInfo="",this.onEvent=e=>{},this.io.onData=e=>this.onData(e)}onData(e){for(this.dataBuf+=o.U.uint8ArrayToString(e);0<this.dataBuf.length;){var t=this.dataBuf[0];if("+"==t)this.dataBuf=this.dataBuf.slice(1);else if("$"==t||"%"==t){var r=this.decodeResp(this.dataBuf.slice(1));if(null==r)break;"$"==t?(this.io.sendPacketAsync(this.buildCmd("+")),this.onResponse?this.onResponse(r):0<this.numSent&&this.io.error("unexpected response: "+r)):this.onEvent(r)}else this.io.error("invalid character: "+t)}}buildCmd(t){if("+"==t)return o.U.stringToUint8Array(t);let r="";for(let e=0;e<t.length;++e){var n=t.charAt(e);"}"==n||"#"==n||"$"==n?r=(r+="}")+String.fromCharCode(32^n.charCodeAt(0)):r+=n}let i=0;t=r;for(let e=0;e<t.length;++e)i=i+t.charCodeAt(e)&255;return r="$"+t+"#"+("0"+i.toString(16)).slice(-2),o.U.stringToUint8Array(r)}decodeResp(r){let n="";for(let t=0;t<r.length;++t){var e=r[t];if("}"==e)++t,n+=String.fromCharCode(32^r.charCodeAt(t));else if("*"==e){++t;let e=r.charCodeAt(t)-29;for(var i=n.charAt(n.length-1);0<e--;)n+=i}else{if("#"==e)return 2==r.slice(t+1,t+3).length?(this.dataBuf=r.slice(t+3),n):null;n+=e}}return null}sendCmdOKAsync(e){return this.sendCmdAsync(e,e=>"OK"==e)}error(e){this.io.error(e),this.io.disconnectAsync()}sendCmdAsync(r,n){this.numSent++;let e=this.buildCmd(r);return this.q.enqueue("one",()=>null===n?this.io.sendPacketAsync(e).then(()=>null):new Promise(t=>{this.onResponse=e=>{this.onResponse=null,this.trace&&o.log(`GDB: '${r}' -> '${e}'`),void 0===n||n(e)||this.error(`Invalid GDB command response: '${r}' -> '${e}'`),t(e)},this.io.sendPacketAsync(e)}))}sendRCmdAsync(e){return this.sendMCmdAsync("qRcmd,"+o.U.toHex(o.U.stringToUint8Array(e)))}sendMCmdAsync(n){this.numSent++;let e=this.buildCmd(n),i="";return this.q.enqueue("one",()=>new Promise(r=>{this.onResponse=e=>{var t;"OK"!=e&&"O"==e[0]?i+=(t=e.slice(1),o.U.uint8ArrayToString(o.U.fromHex(t))):("OK"!=e&&(i+=" - "+e),this.onResponse=null,this.trace&&o.log(`Final GDB: '${n}' -> '${i}'`),r(i))},this.io.sendPacketAsync(e)}))}write32Async(e,t){var r=new Uint8Array(4);return o.HF2.write32(r,0,t),this.writeMemAsync(e,r)}writeMemAsync(e,t){var r=this.pktSize/2-10;return o.U.assert(t.length<r),this.sendCmdOKAsync("M"+e.toString(16)+","+t.length.toString(16)+":"+o.U.toHex(t)).then(e=>{o.log(e)})}readMemAsync(e,a){let s=this.pktSize/2-6;if(a>s){let n=new Uint8Array(a),i=t=>{let r=Math.min(a-t,s);return 0==r?Promise.resolve(n):this.readMemAsync(e+t,r).then(e=>(o.U.memcpy(n,t,e),i(t+r)))};return i(0)}return this.sendCmdAsync("m"+e.toString(16)+","+a.toString(16)).then(e=>o.U.fromHex(e))}initBMPAsync(){return Promise.resolve().then(()=>this.sendRCmdAsync("swdp_scan")).then(e=>(this.targetInfo=e,this.sendCmdAsync("vAttach;1",e=>"T"==e[0]))).then(()=>{})}initAsync(){return o.U.delay(1e3).then(()=>this.sendCmdAsync("!")).then(()=>this.sendCmdAsync("qSupported")).then(e=>{let n={};return e=(e=";"+e+";").replace(/;([^;]+)[=:]([^:;]+)/g,(e,t,r)=>(n[t]=r,";")),this.pktSize=parseInt(n.PacketSize)||1024,o.log("GDB-server caps: "+JSON.stringify(n)+" "+e.replace(/;+/g,";")),this.bmpMode?this.initBMPAsync():this.sendCmdAsync("c").then(()=>{})})}}o.GDBServer=e})(pxt=pxt||{}),(l=>{var e;{var o=l.github||(l.github={});function c(){var e;return!!o.forceProxy||!(l.U.isNodeJS||null!=(e=null==(e=null==l?void 0:l.appTarget)?void 0:e.cloud)&&e.noGithubProxy)}o.token=null,o.forceProxy=!1;let i={};function u(i){var e;return i.method=null!=(e=i.method)?e:"GET",function r(e){var t;let n=l.U.clone(i);o.token&&(n.headers||(n.headers={}),n.url==s?n.headers.Authorization="bearer "+o.token:(n.url=l.BrowserUtils.cacheBustingUrl(n.url),n.headers.Authorization="token "+o.token));n.allowHttpErrors=null!=(t=n.allowHttpErrors)&&t;return l.U.requestAsync(n).catch(t=>{if(l.tickEvent("github.error",{statusCode:t.statusCode}),o.handleGithubNetworkError){let e=o.handleGithubNetworkError(n,t);if(e)return r(!1)}throw t})}(o.token)}function d(e){return u({url:e,method:"GET"}).then(e=>e.json)}function p(e){return l.Cloud.apiRequestWithCdnAsync({url:"gh/"+e,forceLiveEndpoint:!0}).then(e=>e.json)}function f(e){l.log("github proxy error: "+e.message),l.debug(e)}o.isOrgAsync=function(e){return u({url:"https://api.github.com/orgs/"+e,method:"GET",allowHttpErrors:!0}).then(e=>200==e.statusCode)};class R{constructor(){this.latestVersions={},this.configs={},this.packages={}}proxyWithCdnLoadPackageAsync(e,t){let r=e+"/"+t;var n=this.packages[r];return n?(l.debug(`github cache ${e}/${t}/text`),Promise.resolve(n)):p(N((n=D(e)).slug,t,n.fileName,"text")).then(e=>this.packages[r]={files:e})}cacheConfig(e,t){t=l.Package.parseAndValidConfig(t);return this.configs[e]=t,l.U.clone(t)}async loadConfigAsync(e,t){t||(l.debug("dep: default to master branch"),t="master");var r=e+"/"+t,n=this.configs[r];if(n)return l.debug(`github cache ${e}/${t}/config`),l.U.clone(n);if(c())try{var i=await this.proxyWithCdnLoadPackageAsync(e,t);return this.cacheConfig(r,i.files[l.CONFIG_NAME])}catch(e){f(e)}n=await m(e,t,l.CONFIG_NAME);return this.cacheConfig(r,n)}async latestVersionAsync(e,t){let r=this.latestVersions[e];return r||(l.debug("dep: resolve latest version of "+e),this.latestVersions[e]=r=await l.github.latestVersionAsync(e,t,!0,!1)),r}async loadPackageAsync(e,t){if(t||(l.debug("load pkg: default to master branch"),t="master"),c())try{return await this.proxyWithCdnLoadPackageAsync(e,t).then(e=>l.U.clone(e))}catch(e){f(e)}return this.githubLoadPackageAsync(e,t)}githubLoadPackageAsync(i,r){return b(i,r).then(n=>{let t=i+"/"+n;var e=this.packages[t];return e?(l.debug(`github cache ${i}/${r}/text`),Promise.resolve(l.U.clone(e))):(l.log(`Downloading ${i}/${r} -> `+n),m(i,n,l.CONFIG_NAME).then(e=>{let r={files:{}};r.files[l.CONFIG_NAME]=e;e=JSON.parse(e);return l.U.promiseMapAll(l.allPkgFiles(e).slice(1),t=>m(i,n,t).then(e=>{r.files[t]=e})).then(()=>(this.packages[t]=r,l.U.clone(r)))}))})}async loadTutorialMarkdown(e,t){e=(await r(e=L(e),t)).resp,t=e.markdown;return l.Util.assert("object"==typeof t),await this.cacheReposAsync(e),t.repo}async cacheReposAsync(e){var t,r;"object"==typeof e.markdown&&(t=e.markdown,this.cacheRepo(t.repo));for(r of e.dependencies)this.cacheRepo(r)}cacheRepo(e){let t=e.repo;e.subPath&&(t+="/"+e.subPath);var r=t,n=(this.packages[r+="/"+e.sha]={files:e.files},e.latestVersion&&this.cacheLatestVersion(t,e.latestVersion),e.files["pxt.json"]);n&&(e=r+"/"+(e.version||"master"),this.cacheConfig(r,n),this.cacheConfig(e,n))}cacheLatestVersion(e,t){this.latestVersions[e]=t}}function _(t,e,r){return u({url:"https://api.github.com/repos/"+N(t.slug,"contents",t.fileName,r+"?ref="+e),method:"GET"}).then(e=>{e=e.json;return i[t.slug]=!0,e&&"base64"==e.encoding&&null!=e.content?l.Util.fromUTF8(atob(e.content)):l.U.httpGetTextAsync(e.download_url)})}function m(e,t,r){let n=D(e);return i[n.slug]?_(n,t,r):l.U.requestAsync({url:"https://raw.githubusercontent.com/"+N(n.slug,t,n.fileName,r),allowHttpErrors:!0}).then(e=>200==e.statusCode?e.text:_(n,t,r))}async function r(e,t,r,n){let i=l.Cloud.apiRequestWithCdnAsync;var a=new URLSearchParams;t&&a.set("ref",t),r&&(a.set("noCache","1"),i=l.Cloud.privateRequestAsync);t=l.BrowserUtils.appendUrlQueryParams("ghtutorial/"+e,a),r=await i({url:t,method:"GET",headers:n?{"If-None-Match":n}:void 0});let s;return{resp:s=304===r.statusCode?void 0:r.json,etag:r.headers.etag}}function g(e,t,r,n){return u({url:/^https:/.test(e)?e:"https://api.github.com/repos/"+e,headers:r,method:n||"POST",data:t,successCodes:[200,201,202,204]}).then(e=>e.json)}function h(e,t){let r=1;for(;e.refs[t+r];)r++;return t+r}async function y(e,t,r){return await g(e+"/git/refs",{ref:"refs/heads/"+t,sha:r}),t}function v(e,r="tags",t,n){e=D(e),t=t,t=!!o.forceProxy||!(o.token&&!t)&&c();let i=null;t=t?l.U.httpGetJsonAsync(l.BrowserUtils.cacheBustingUrl(`${l.Cloud.apiRoot}gh/${e.slug}/refs`+(n?"?nocache=1":""))).then(t=>{var e=Object.keys(t.refs).filter(e=>l.U.startsWith(e,"refs/"+r+"/")).map(e=>({ref:e,object:{sha:t.refs[e]}}));return i=t.refs.HEAD,e}):d(`https://api.github.com/repos/${e.slug}/git/refs/${r}/?per_page=100`);let a=e=>e.replace(/^refs\/[^\/]+\//,"");return t.then(e=>{e.sort((e,t)=>l.semver.strcmp(a(e.ref),a(t.ref)));var t,r={};for(t of e)r[a(t.ref)]=t.object.sha;return{refs:r,head:i}},e=>404==e.statusCode?{refs:{}}:Promise.reject(e))}function n(e){return"commit"==e.object.type?Promise.resolve(e.object.sha):"tag"==e.object.type?d(e.object.url).then(e=>"commit"==e.object.type?e.object.sha:Promise.reject(new Error("Bad type (2nd order) "+e.object.type))):Promise.reject(new Error("Bad type "+e.object.type))}function b(e,t){if(/^[a-f0-9]{40}$/.test(t))return Promise.resolve(t);let r=D(e);return d(`https://api.github.com/repos/${r.slug}/git/refs/tags/`+t).then(n,e=>d(`https://api.github.com/repos/${r.slug}/git/refs/heads/`+t).then(n))}async function x(e,t,r){return t=t||await o.db.latestVersionAsync(e,r),o.db.loadConfigAsync(e,t)}async function k(e,t){var r,n=D(e);if(n){if(!C(n,t))return n.tag||(n.tag=await o.db.latestVersionAsync(n.slug,t)),n=await o.db.loadPackageAsync(n.fullName,n.tag),(t=P(t,e))&&(r=l.Package.parseAndValidConfig(n.files[l.CONFIG_NAME]))&&(l.log(`auto-disable ${t.join(",")} due to targetconfig entry for `+e),r.disablesVariants=t,n.files[l.CONFIG_NAME]=l.Package.stringifyConfig(r)),n;l.tickEvent("github.download.banned"),l.log("Github repo is banned")}else l.log("Unknown GitHub syntax")}o.MemoryGithubDb=R,o.downloadTextAsync=m,o.downloadMarkdownTutorialInfoAsync=r,o.downloadTutorialMarkdownAsync=async function(e,t){return o.db.loadTutorialMarkdown(e,t)},o.db=new R,o.authenticatedUserAsync=function(){return o.token?d("https://api.github.com/user"):Promise.resolve(void 0)},o.getCommitsAsync=function(e,t){return d("https://api.github.com/repos/"+D(e).slug+"/commits?sha="+t).then(e=>e.map(e=>{var t=e.commit;return t.url=e.url,t.sha=e.sha,t}))},o.getCommitAsync=function(e,t){return d("https://api.github.com/repos/"+D(e).slug+"/git/commits/"+t).then(t=>d(t.tree.url+"?recursive=1").then(e=>(t.tree=e,t)))},o.createObjectAsync=function(e,t,r){return g(D(e).slug+"/git/"+t+"s",r).then(e=>e.sha)},o.postCommitComment=function(e,t,r,n,i){return g(D(e).slug+`/commits/${t}/comments`,{body:r,path:n,position:i}).then(e=>e.id)},o.fastForwardAsync=async function(e,t,r){return 200==(await u({url:`https://api.github.com/repos/${D(e).slug}/git/refs/heads/`+t,method:"PATCH",allowHttpErrors:!0,data:{sha:r,force:!1}})).statusCode},o.putFileAsync=async function(e,t,r){e=D(e),await u({url:"https://api.github.com/repos/"+l.github.join(e.slug,"contents",e.fileName,t),method:"PUT",allowHttpErrors:!0,data:{message:lf("Initialize empty repo"),content:btoa(l.U.toUTF8(r)),branch:"master"},successCodes:[201]})},o.createTagAsync=async function(e,t,r){await g(e+"/git/refs",{ref:"refs/tags/"+t,sha:r})},o.createReleaseAsync=async function(e,t,r){await g(e+"/releases",{tag_name:t,target_commitish:r,name:t,draft:!1,prerelease:!1})},o.createPRFromBranchAsync=async function(e,t,r,n,i){return null==(e=await g(e+"/pulls",{title:n,body:i||lf("Automatically created from MakeCode."),head:r,base:t,maintainer_can_modify:!0}))?void 0:e.html_url},o.mergeAsync=function(t,e,r,n){return u({url:`https://api.github.com/repos/${D(t).slug}/merges`,method:"POST",successCodes:[201,204,409],data:{base:e,head:r,commit_message:n}}).then(e=>{if(201==e.statusCode||204==e.statusCode)return e.json.sha;if(409==e.statusCode)return null;throw l.U.userError(lf("Cannot merge in github.com/{1}; code: {2}",t,e.statusCode))})},o.getRefAsync=function(e,t){return d("https://api.github.com/repos/"+e+"/git/refs/heads/"+(t=t||"master")).then(n).catch(e=>{404!=e.statusCode&&Promise.reject(e)})},o.getNewBranchNameAsync=async function(e,t="patch-"){return h(await v(e,"heads"),t)},o.createNewBranchAsync=y,o.forkRepoAsync=async function(e,t,r="pr-"){var n=S(await g((e=D(e)).slug+"/forks",{}),{fullName:e.fullName,fileName:e.fileName}),i=Date.now()+3e5;let a=null;for(;!a&&Date.now()<i;){await l.U.delay(1e3);try{a=await v(n.slug,"heads")}catch(e){}}if(a)return e=h(a,r),await y(n.slug,e,t),n.fullName+"#"+e;throw new Error(lf("Timeout waiting for fork"))},o.listRefsAsync=function(e,t="tags",r,n){return v(e,t,r,n).then(e=>Object.keys(e.refs))},o.listRefsExtAsync=v,o.pkgConfigAsync=x,o.downloadPackageAsync=k,o.downloadLatestPackageAsync=async function(e,t,r){var n=await l.packagesConfigAsync(),t=await l.github.latestVersionAsync(e.slug,n,t,r),r=e.fullName+"#"+t,e=(await l.github.downloadPackageAsync(r,n),await x(e.fullName,t,n));return{version:"github:"+r,config:e}},o.cacheProjectDependenciesAsync=async function(n){var e=null==(e=Object.keys(n.dependencies))?void 0:e.filter(e=>A(n.dependencies[e]));if(e.length){let r=await l.packagesConfigAsync();await Promise.all(e.map(async e=>{var t=n.dependencies[e];if(!await k(t,r))throw new Error(lf("Cannot load extension {0} from {1}",e,t))}))}};let a;function t(e){return l.Cloud.cdnApiUrl(`gh/${e.fullName}/icon`)}function S(e,t){var r;if(e)return(r={owner:e.owner.login.toLowerCase(),slug:e.full_name.toLowerCase(),fullName:((null==t?void 0:t.fullName)||e.full_name).toLowerCase(),fileName:null==(r=null==t?void 0:t.fileName)?void 0:r.toLocaleLowerCase(),name:e.name,description:e.description,defaultBranch:e.default_branch,tag:null==t?void 0:t.tag,updatedAt:Math.round(new Date(e.updated_at).getTime()/1e3),fork:e.fork,private:e.private}).status=T(r,null==t?void 0:t.config),r}function T(e,t){return e?C(e,t)?a.Banned:((e,t)=>{var r;return!(!((t,e)=>!(!t||!e||!(t.owner&&e.approvedOrgs&&e.approvedOrgs.some(e=>e.toLowerCase()==t.owner.toLowerCase()))))(e,t)&&(r=null==(r=null==e?void 0:e.fullName)?void 0:r.toLowerCase(),e=null==(e=null==e?void 0:e.slug)?void 0:e.toLowerCase(),null==t||!t.approvedRepoLib||!r&&!e||!t.approvedRepoLib[r]&&!t.approvedRepoLib[e]))})(e,t)?a.Approved:a.Unknown:a.Unknown}function C(e,n){var t,i;if(t=e,!(!(i=n)||t&&t.owner&&(!i.bannedOrgs||!i.bannedOrgs.some(e=>e.toLowerCase()==t.owner.toLowerCase()))))return 1;if(n){if(!e)return 1;let t=null==(i=e.fullName)?void 0:i.toLowerCase(),r=null==(i=e.slug)?void 0:i.toLowerCase();return!(!n.bannedRepos||!n.bannedRepos.some(e=>e&&(e.toLowerCase()==t||e.toLowerCase()==r)))}}async function E(e,t){e=D(e);if(e){var r,n,i=T(e,t);if(i!=a.Banned){if(c())try{return n=i,await p((r=e).slug).then(e=>{if(e)return{github:!0,owner:r.owner,fullName:r.fullName,fileName:r.fileName,slug:r.slug,name:r.fileName?e.name+"-"+r.fileName:e.name,description:e.description,defaultBranch:e.defaultBranch||"master",tag:r.tag,status:n}}).catch(e=>{l.reportException(e)})}catch(e){f(e)}return S(await d("https://api.github.com/repos/"+e.slug),{config:t,fullName:e.fullName,fileName:e.fileName,tag:e.tag})}}}function D(t){if(t){t=(t=t.trim()).replace(/\/$/,"");var r=/^https:\/\/([^./#]+)\.github\.io\/([^/#]+)\/?$/i.exec(t),r=(t=(t=(t=(t=r?`github:${r[1]}/`+r[2]:t).replace(/^github:/i,"")).replace(/^https:\/\/github\.com\//i,"")).replace(/\.git\b/i,""),/^([^#\/:]+)\/([^#\/:]+)(\/([^#]+))?(#([^\/:]*))?$/.exec(t));if(r){var t=r[1],n=r[2];let e=r[4];var r=r[6],i=e&&/^tree\/([^\/]+\/)/.exec(e);return i&&(e=e.slice(i[0].length)),{owner:t,project:n,slug:N(t,n),fullName:N(t,n,e),tag:r,fileName:e}}}}function A(e){return!!e&&"github:"==e.slice(0,7)}function w(e,t=!1){return e?"github:"+(t?e.fullName:e.fullName.toLowerCase())+(e.tag?"#"+e.tag:""):void 0}function N(...e){return e.filter(e=>!!e).join("/")}function I(e,t){return e&&(t=D(t))?(e.approvedRepoLib,e.approvedRepoLib&&(null==(e=l.U.lookup(e.approvedRepoLib,t.slug.toLowerCase()))?void 0:e.upgrades)):null}function P(e,t){e=I(e,t)||[];if(e)for(var r of e){var r=/^dv:(.*)/.exec(r);if(r)return(r=r[1].split(/,/)).some(e=>!/^\w+$/.test(e))?null:r}return null}function O(e,a,t,r){let s=D(e);return s?E(s.slug,a).then(i=>{if(i)return v(i.slug,"tags",t,r).then(e=>{var r=Object.keys(e.refs),r=l.semver.sortLatestTags(r),n=l.appTarget.versions&&l.semver.tryParse(l.appTarget.versions.target);if(n&&a.releases&&a.releases["v"+n.major]){let t=a.releases["v"+n.major].map(e=>l.github.parseRepoId(e)).filter(e=>e&&e.fullName.toLowerCase()==s.fullName.toLowerCase())[0];if(t){if(r.some(e=>e==t.tag))return l.debug(`approved release ${t.fullName}#${t.tag} for v`+n.major),Promise.resolve(t.tag);l.reportError("packages",`approved release ${t.fullName}#${t.tag} for v${n.major} not found anymore`,{repo:i.fullName})}}return r[0]?Promise.resolve(r[0]):e.head||b(i.slug,i.defaultBranch)})}):Promise.resolve(null)}(e=a=o.GitRepoStatus||(o.GitRepoStatus={}))[e.Unknown=0]="Unknown",e[e.Approved=1]="Approved",e[e.Banned=2]="Banned",o.isDefaultBranch=function(e,t){return t&&t.defaultBranch?e===t.defaultBranch:/^(main|master)$/.test(e)},o.listUserReposAsync=function(){return F(`{
  viewer {
    repositories(first: 100, affiliations: [OWNER, COLLABORATOR], orderBy: {field: PUSHED_AT, direction: DESC}) {
      nodes {
        name
        description
        full_name: nameWithOwner
        private: isPrivate
        fork: isFork
        updated_at: updatedAt
        owner {
          login
        }
        defaultBranchRef {
          name
        }
        pxtjson: object(expression: "HEAD:pxt.json") {
          ... on Blob {
            text
          }
        }
        readme: object(expression: "HEAD:README.md") {
          ... on Blob {
            text
          }
        }
      }
    }
  }
}`).then(e=>e.data.viewer.repositories.nodes.filter(e=>e.pxtjson).filter(e=>{e.default_branch=e.defaultBranchRef.name;var t=l.Package.parseAndValidConfig(e.pxtjson&&e.pxtjson.text),e=e.readme&&e.readme.text;return!!t&&(t.supportedTargets?-1<t.supportedTargets.indexOf(l.appTarget.id):e&&-1<e.indexOf("PXT/"+l.appTarget.id))}).map(e=>S(e,{fullName:e.full_name})))},o.createRepoAsync=function(e,t,r){return g("https://api.github.com/user/repos",{name:e,description:t,private:!!r,has_issues:!0,has_projects:!1,has_wiki:!1,allow_rebase_merge:!1,allow_merge_commit:!0,delete_branch_on_merge:!1}).then(e=>S(e))},o.enablePagesAsync=async function(e){var t=D(e);let r=void 0;try{var n=await d(`https://api.github.com/repos/${t.slug}/pages`);n&&(r=n.html_url)}catch(e){}if(!r)try{var i=await g(`https://api.github.com/repos/${t.slug}/pages`,{source:{branch:"master",path:"/"}},{Accept:"application/vnd.github.switcheroo-preview+json"});r=i.html_url}catch(e){l.tickEvent("github.pages.error"),l.reportException(e)}if(r){n=await d("https://api.github.com/repos/"+e);if(n&&!n.homepage)try{await g("https://api.github.com/repos/"+e,{homepage:r},void 0,"PATCH")}catch(e){l.tickEvent("github.homepage.error")}}},o.repoIconUrl=function(e){if(e.status==a.Approved)return t(e)},o.mkRepoIconUrl=t,o.repoStatus=T,o.isRepoHidden=function(e,t){var r;return!(e&&t&&(r=null==(r=e.fullName)?void 0:r.toLowerCase(),e=null==(e=e.slug)?void 0:e.toLowerCase(),!(r=t.approvedRepoLib[r]||t.approvedRepoLib[e])||!r.hidden))},o.repoAsync=E,o.searchAsync=function(e,t){var r;return t?0<(r=e.split("|").map(D).filter(e=>!!e)).length?Promise.all(r.map(e=>E(e.fullName,t))).then(e=>e.filter(e=>e&&e.status!=a.Banned)):l.U.httpGetJsonAsync(`${l.Cloud.apiRoot}ghsearch/${l.appTarget.id}/${l.appTarget.platformid||l.appTarget.id}?q=`+encodeURIComponent(e)).then(e=>e.items.map(e=>S(e,{config:t,fullName:e.full_name})).filter(e=>e.status==a.Approved||t.allowUnapproved&&e.status==a.Unknown).filter(e=>!l.appTarget.appTheme.githubUrl||"https://github.com/"+e.fullName!=l.appTarget.appTheme.githubUrl.toLowerCase())).catch(e=>[]):Promise.resolve([])},o.parseRepoId=D,o.toGithubDependencyPath=function(e,t){let r="github:"+e;return t&&(r+="#"+t),r},o.isGithubId=A,o.stringifyRepo=w,o.normalizeRepoId=function(e,t){if(e=D(e))return!e.tag&&t&&(e.tag=t),w(e)},o.join=N,o.upgradedPackageReferenceAsync=async function e(t,r){var n,i=I(t,r);if(!i)return null;for(n of i){var a=/^move:(.*)$/.exec(n);if(a){if(o=D(a[1]))return o.tag||(o.tag=await O(a[1],t)),c=D(r),!o.fileName&&c.fileName&&(o.fileName=c.fileName,o.fullName=N(o.owner,o.project,o.fileName)),c=w(o),l.debug(`upgrading ${r} to ${c}}`),await e(t,c)||c;l.log("cannot parse move target: "+a[1])}var s,o,c=(o=/^min:(.*)/.exec(n))&&l.semver.tryParse(o[1]);if(c)return a=D(r),(s=l.semver.tryParse(a.tag))&&l.semver.cmp(s,c)<0?(a.tag=o[1],l.debug(`upgrading ${r} to `+o[1]),w(a)):(s||l.log(`not upgrading ${r} - cannot parse version`),null);P(t,r)||l.log(`invalid upgrade rule: ${r} -> `+n)}return r},o.upgradedPackageId=function(e,t){return(e=P(e,t))?t+"?dv="+e.join(","):t},o.latestVersionAsync=O,o.resolveMonoRepoVersions=function(r){r=l.Util.clone(r);let n={};return Object.keys(r).map(e=>({id:e,ghid:o.parseRepoId(r[e])})).filter(e=>null==(e=e.ghid)?void 0:e.tag).forEach(e=>{var t=e.ghid;let r=n[t.slug];(r=r||(n[t.slug]={tag:t.tag,deps:[]})).deps.push(e),l.semver.strcmp(r.tag,t.tag)<0&&(l.debug("dep: resolve later monorepo tag to "+l.github.stringifyRepo(t)),r.tag=t.tag)}),l.U.values(n).forEach(t=>t.deps.forEach(e=>{e.ghid.tag!==t.tag&&(l.debug(`dep: ${l.github.stringifyRepo(e.ghid)} -> `+t.tag),e.ghid.tag=t.tag,r[e.id]=l.github.stringifyRepo(e.ghid))})),r},o.GIT_JSON=".git.json";let s="https://api.github.com/graphql";function F(e){e=JSON.stringify({query:e});return g(s,e)}function L(e){var t;return/^github\:/i.test(e)&&(e=e.slice(7)),e=/^https?\:/i.test(e)&&(e=new URL(e).pathname.slice(1),t=/^((?:[^\/]+\/){2})blob\/[^\/]+\/(.*)\.md$/.exec(e))?t[1]+t[2]:e}o.lookupFile=function(e,t,r){if(!t)return null;let n=N(e.fileName,r);return t.tree.tree.find(e=>e.path==n)},o.ghGraphQLQueryAsync=F,o.findPRNumberforBranchAsync=function(e,t){return e=D(e),F(`
{
    repository(owner: ${JSON.stringify(e.owner)}, name: ${JSON.stringify(e.project)}) {
        pullRequests(last: 1, states: [OPEN, MERGED], headRefName: ${JSON.stringify(t)}) {
            edges {
                node {
                    number
                    state
                    mergeable
                    baseRefName
                    url
                    isDraft
                }
            }
        }
    }
}
`).then(e=>{var e=e.data.repository.pullRequests.edges[0];return e&&e.node?{number:(e=e.node).number,mergeable:e.mergeable,state:e.state,title:e.title,url:e.url,base:e.baseRefName}:{number:-1}})},o.getPagesStatusAsync=function(e){return d(`https://api.github.com/repos/${e}/pages`).catch(e=>({status:null}))},o.normalizeTutorialPath=L}})(pxt=pxt||{}),(e=>{e.REFCNT_FLASH="0xfffe",e.VTABLE_MAGIC=249,e.ValTypeObject=4,(e=e.BuiltInType||(e.BuiltInType={}))[e.BoxedString=1]="BoxedString",e[e.BoxedNumber=2]="BoxedNumber",e[e.BoxedBuffer=3]="BoxedBuffer",e[e.RefAction=4]="RefAction",e[e.RefImage=5]="RefImage",e[e.RefCollection=6]="RefCollection",e[e.RefRefLocal=7]="RefRefLocal",e[e.RefMap=8]="RefMap",e[e.RefMImage=9]="RefMImage",e[e.MMap=10]="MMap",e[e.BoxedString_SkipList=11]="BoxedString_SkipList",e[e.BoxedString_ASCII=12]="BoxedString_ASCII",e[e.ZPin=13]="ZPin",e[e.User0=16]="User0"})(pxt=pxt||{}),(l=>{{var u=l.HF2||(l.HF2={});function o(e,t,r){e[t+0]=r>>0&255,e[t+1]=r>>8&255,e[t+2]=r>>16&255,e[t+3]=r>>24&255}function c(e,t,r){e[t+0]=r>>0&255,e[t+1]=r>>8&255}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function d(e,t){return e[t]|e[t+1]<<8}function r(t){var r=new Uint8Array(4*t.length);for(let e=0;e<t.length;++e)o(r,4*e,t[e]);return r}u.HF2_CMD_BININFO=1,u.HF2_MODE_BOOTLOADER=1,u.HF2_MODE_USERSPACE=2,u.HF2_CMD_INFO=2,u.HF2_CMD_RESET_INTO_APP=3,u.HF2_CMD_RESET_INTO_BOOTLOADER=4,u.HF2_CMD_START_FLASH=5,u.HF2_CMD_WRITE_FLASH_PAGE=6,u.HF2_CMD_CHKSUM_PAGES=7,u.HF2_CMD_READ_WORDS=8,u.HF2_CMD_WRITE_WORDS=9,u.HF2_CMD_DMESG=16,u.HF2_FLAG_SERIAL_OUT=128,u.HF2_FLAG_SERIAL_ERR=192,u.HF2_FLAG_CMDPKT_LAST=64,u.HF2_FLAG_CMDPKT_BODY=0,u.HF2_FLAG_MASK=192,u.HF2_SIZE_MASK=63,u.HF2_STATUS_OK=0,u.HF2_STATUS_INVALID_CMD=1,u.HF2_STATUS_EXEC_ERR=2,u.HF2_STATUS_EVENT=128,u.HF2_CMD_JDS_CONFIG=32,u.HF2_CMD_JDS_SEND=33,u.HF2_EV_JDS_PACKET=8388640,u.CUSTOM_EV_JACDAC="jacdac",u.HF2_EV_MASK=8388608,u.write32=o,u.write16=c,u.read32=a,u.read16=d,u.encodeU32LE=r;let t=!(u.decodeU32LE=function(t){var r=[];for(let e=0;e<t.length;e+=4)r.push(a(t,e));return r});function p(e){t?l.log("HF2: "+e):l.debug("HF2: "+e)}u.enableLog=function(){t=!0};class n{constructor(o){var e;this.io=o,this.initialized=!1,this.cmdSeq=l.U.randomUint32(),this.lock=new l.U.PromiseQueue,this.flashing=!1,this.rawMode=!1,this.maxMsgSize=63,this.bootloaderMode=!1,this.reconnectTries=0,this.autoReconnect=!1,this.icon=(null==(e=l.appTarget.appTheme.downloadDialogTheme)?void 0:e.deviceIcon)||"usb",this.msgs=new l.U.PromiseBuffer,this.eventHandlers={},this.jacdacAvailable=!1,this.onSerial=(e,t)=>{},this.onCustomEvent=(e,t)=>{},this.onConnectionChanged=()=>{};let c=[];o.onDeviceConnectionChanged=e=>this.disconnectAsync().then(()=>e&&this.reconnectAsync()),o.onSerial=(e,t)=>this.onSerial(e,t),o.onData=e=>{var r=e[0]&u.HF2_FLAG_MASK,t=63&e[0],n=new Uint8Array(t);if(l.U.memcpy(n,0,e,1,t),r&u.HF2_FLAG_SERIAL_OUT)this.onSerial(n,r==u.HF2_FLAG_SERIAL_ERR);else if(c.push(n),r!=u.HF2_FLAG_CMDPKT_BODY){l.U.assert(r==u.HF2_FLAG_CMDPKT_LAST);let e=0;for(var i of c)e+=i.length;var a,s=new Uint8Array(e);let t=0;for(a of c)l.U.memcpy(s,t,a),t+=a.length;c=[],s[2]&u.HF2_STATUS_EVENT?o.onEvent(s):this.msgs.push(s)}},o.onEvent=e=>{var t=a(e,0),r=l.U.lookup(this.eventHandlers,t+"");r?r(e.slice(4)):p("unhandled event: "+t.toString(16))},o.onError=e=>{p("recv error: "+e.message),this.autoReconnect&&(this.autoReconnect=!1,this.reconnectAsync().then(()=>{this.autoReconnect=!0},e=>{p("reconnect error: "+e.message)}))},this.onEvent(u.HF2_EV_JDS_PACKET,e=>{this.onCustomEvent(u.CUSTOM_EV_JACDAC,e)})}resetState(){this.initialized=!1,this.lock=new l.U.PromiseQueue,this.info=null,this.infoRaw=null,this.pageSize=null,this.flashSize=null,this.maxMsgSize=63,this.bootloaderMode=!1,this.msgs.drain()}onEvent(e,t){l.U.assert(!!(e&u.HF2_EV_MASK)),this.eventHandlers[e+""]=t}sendCustomEventAsync(e,t){return e==u.CUSTOM_EV_JACDAC?this.jacdacAvailable?this.talkAsync(u.HF2_CMD_JDS_SEND,t).then(()=>{}):Promise.resolve():Promise.reject(new Error("invalid custom event type"))}isConnected(){return this.io.isConnected()&&this.initialized}isConnecting(){return this.io.isConnecting()||this.io.isConnected()&&!this.initialized}reconnectAsync(){return this.resetState(),p("reconnect raw="+this.rawMode),this.io.reconnectAsync().then(()=>this.initAsync()).catch(e=>{if(this.reconnectTries<5)return this.reconnectTries++,p(`error ${e.message}; reconnecting attempt #`+this.reconnectTries),l.U.delay(500).then(()=>this.reconnectAsync());throw e})}disconnectAsync(){return p("disconnect"),this.io.disconnectAsync()}error(e){return this.io.error(e)}talkAsync(e,t){if(this.io.talksAsync)return this.io.talksAsync([{cmd:e,data:t}]).then(e=>e[0]);let r=8;t&&(r+=t.length);var n=new Uint8Array(r);let i=65535&++this.cmdSeq,a=(o(n,0,e),c(n,4,i),c(n,6,0),t&&l.U.memcpy(n,8,t,0,t.length),0),s=()=>this.msgs.shiftAsync(1e3).then(e=>{if(d(e,0)!=i){if(a<3)return a++,p(`message out of sync, (${i} vs ${d(e,0)}); will re-try`),s();this.error("out of sync")}let t="";switch(e[3]&&(t="; info="+e[3]),e[2]){case u.HF2_STATUS_OK:return e.slice(4);case u.HF2_STATUS_INVALID_CMD:this.error("invalid command"+t);break;case u.HF2_STATUS_EXEC_ERR:this.error("execution error"+t);break;default:this.error("error "+e[2]+t)}return null});return this.sendMsgAsync(n).then(s)}sendMsgAsync(e){return this.sendMsgCoreAsync(e)}sendSerialAsync(e,t=!1){return this.io.sendSerialAsync?this.io.sendSerialAsync(e,t):this.sendMsgCoreAsync(e,t?2:1)}sendMsgCoreAsync(n,e=0){let i=new Uint8Array(64),a=t=>{let r=n.length-t;if(r<=0)return Promise.resolve();63<r?(r=63,i[0]=u.HF2_FLAG_CMDPKT_BODY):i[0]=u.HF2_FLAG_CMDPKT_LAST,e&&(i[0]=1==e?u.HF2_FLAG_SERIAL_OUT:u.HF2_FLAG_SERIAL_ERR),i[0]|=r;for(let e=0;e<r;++e)i[e+1]=n[t+e];return this.io.sendPacketAsync(i).then(()=>a(t+r))};return this.lock.enqueue("out",()=>a(0))}switchToBootloaderAsync(){return this.bootloaderMode?Promise.resolve():(p("Switching into bootloader mode"),this.io.isSwitchingToBootloader&&this.io.isSwitchingToBootloader(),this.maybeReconnectAsync().then(()=>this.talkAsync(u.HF2_CMD_START_FLASH).then(()=>{},e=>this.talkAsync(u.HF2_CMD_RESET_INTO_BOOTLOADER).then(()=>{},e=>{}).then(()=>this.reconnectAsync().catch(e=>{throw"devicenotfound"===e.type&&(e.type="repairbootloader"),e})))).then(()=>this.initAsync()).then(()=>{this.bootloaderMode||this.error("cannot switch into bootloader mode")}))}isFlashing(){return!!this.flashing}reflashAsync(e){p("reflash"),l.U.assert(l.appTarget.compile.useUF2);e=e.outfiles[pxtc.BINARY_UF2];let t=pxtc.UF2.parseFile(l.Util.stringToUint8Array(atob(e)));return this.flashing=!0,this.io.reconnectAsync().then(()=>this.flashAsync(t)).then(()=>l.U.delay(100)).finally(()=>this.flashing=!1).then(()=>this.reconnectAsync())}writeWordsAsync(e,t){return l.U.assert(t.length<=64),this.talkAsync(u.HF2_CMD_WRITE_WORDS,r([e,t.length].concat(t))).then(()=>{})}readWordsAsync(e,t){var r=new Uint8Array(8);return o(r,0,e),o(r,4,t),l.U.assert(t<=64),this.talkAsync(u.HF2_CMD_READ_WORDS,r)}pingAsync(){return this.rawMode?Promise.resolve():this.talkAsync(u.HF2_CMD_BININFO).then(e=>{})}maybeReconnectAsync(){return this.pingAsync().catch(e=>this.reconnectAsync().then(()=>this.pingAsync()))}flashAsync(n){let r=Date.now(),i=0,a=e=>{var t,r;return e>=n.length?Promise.resolve():(t=n[e],o(r=new Uint8Array(4+t.payloadSize),0,t.targetAddr),l.U.memcpy(r,4,t.data,0,t.payloadSize),this.talkAsync(u.HF2_CMD_WRITE_FLASH_PAGE,r).then(()=>a(e+1)))};return this.switchToBootloaderAsync().then(()=>{var e=256*n.length;return p(`Starting flash (${Math.round(e/1024)}kB).`),i=Date.now(),16384<this.pageSize?n:s(n,(e,t)=>this.readWordsAsync(e,t))}).then(e=>{e.length!=n.length&&(e=256*(n=e).length,p(`Performing partial flash (${Math.round(e/1024)}kB).`))}).then(()=>a(0)).then(()=>{var e=Date.now(),t=e-r,e=e-i;p(`Flashing done at ${Math.round(256*n.length/e*1e3/1024)} kB/s in ${t}ms (reset ${t-e}ms). Resetting.`)}).then(()=>this.talkAsync(u.HF2_CMD_RESET_INTO_APP).catch(e=>{})).then(()=>{})}initAsync(){return this.rawMode?(this.initialized=!0,Promise.resolve()):Promise.resolve().then(()=>this.talkAsync(u.HF2_CMD_BININFO)).then(e=>(this.bootloaderMode=e[0]==u.HF2_MODE_BOOTLOADER,this.pageSize=a(e,4),this.flashSize=a(e,8)*this.pageSize,this.maxMsgSize=a(e,12),this.familyID=a(e,16),p(`Connected; msgSize ${this.maxMsgSize}B; flash ${this.flashSize/1024}kB; ${this.bootloaderMode?"bootloader":"application"} mode; family=0x`+this.familyID.toString(16)),this.talkAsync(u.HF2_CMD_INFO))).then(e=>{this.infoRaw=l.Util.fromUTF8Array(e),l.debug("Info: "+this.infoRaw);let n={};("Header: "+this.infoRaw).replace(/^([\w\-]+):\s*([^\n\r]*)/gm,(e,t,r)=>(n[t.replace(/-/g,"")]=r,"")),this.info=n;e=/v(\d\S+)(\s+(\S+))?/.exec(this.info.Header);this.info.Parsed=e?{Version:e[1],Features:e[3]||""}:{Version:"?",Features:""},p(`Board-ID: ${this.info.BoardID} v${this.info.Parsed.Version} f`+this.info.Parsed.Features)}).then(()=>this.talkAsync(u.HF2_CMD_JDS_CONFIG,new Uint8Array([1])).then(()=>{this.jacdacAvailable=!0},e=>{this.jacdacAvailable=!1})).then(()=>{this.reconnectTries=0,this.initialized=!0,this.io.onConnectionChanged()})}}function s(n,e){if(!l.appTarget.compile.flashChecksumAddr)return Promise.resolve(n);var r,t=pxtc.UF2.readBytes(n,l.appTarget.compile.flashChecksumAddr,48);let i=pxtc.parseChecksumBlock(t);return i?(r=e,(l.appTarget.compile.flashChecksumAddr?r(l.appTarget.compile.flashChecksumAddr,12).then(e=>{let t=pxtc.parseChecksumBlock(e);return t?r(t.endMarkerPos,1).then(e=>a(e,0)!=t.endMarker?(l.log("end-marker mismatch"),null):t):null}):Promise.resolve(null)).then(e=>{if(!e)return n;let r=e.regions.filter(t=>i.regions.some(e=>t.checksum==e.checksum&&t.length==e.length&&t.start==e.start));if(0==r.length)return n;p("skipping flash at: "+r.map(e=>`${pxtc.assembler.tohex(e.start)} (${e.length/1024}kB)`).join(", "));let t=t=>r.some(e=>e.start<=t&&t<e.start+e.length);return n.filter(e=>!(t(e.targetAddr)&&t(e.targetAddr+e.payloadSize-1)))})):Promise.resolve(n)}u.Wrapper=n,u.mkHF2PacketIOWrapper=function(e){return l.debug("packetio: wrapper hf2"),new n(e)},u.onlyChangedBlocksAsync=s}})(pxt=pxt||{}),(u=>{{var m=u.HWDBG||(u.HWDBG={}),g=u.Util,h=u.HF2;let e=1409050336,t=665147697,r=1888490768,n=h.read32,a=!1,p,i,s,o,f,_,c,l;function y(e){return 1&e?e>>1:0!=e?2&e?e==m.taggedNull?null:e!=m.taggedFalse&&(e==m.taggedTrue||{tagged:e>>2}):{ptr:e}:void 0}function d(e,t){var r;if(g.assert(!(3&e)),g.assert(0<=e),e<2097152)return r=new Uint8Array(t),e-=c.start,g.memcpy(r,0,c.buf,e,t),Promise.resolve(r);var n=l.maxMsgSize-32;if(n<t){for(var i=[];0<t;){var a=Math.min(n,t);i.push(d(e,a)),t-=a,e+=a}return Promise.all(i).then(g.uint8ArrayConcat)}return l.readWordsAsync(e,Math.ceil(t/4)).then(e=>e.length>t?e.slice(0,t):e)}function v(n){if("object"!=typeof n||!n)return Promise.resolve(n);if("number"!=typeof n.ptr)return Promise.resolve(n);{if(3&n.ptr)return Promise.resolve({unalignedPtr:n.ptr});let r=0;return d(n.ptr,56).then(t=>{r=h.read16(t,2);let e=t.length;return r==u.BuiltInType.BoxedString||r==u.BuiltInType.BoxedBuffer?e=h.read16(t,4)+6:r==u.BuiltInType.BoxedNumber&&(e=12),e>t.length?d(n.ptr+t.length,e-t.length).then(e=>g.uint8ArrayConcat([t,e])):e<t.length?t.slice(0,e):t}).then(e=>r==u.BuiltInType.BoxedString?g.uint8ArrayToString(e.slice(6)):r==u.BuiltInType.BoxedBuffer?{type:"buffer",data:e.slice(6)}:r==u.BuiltInType.BoxedNumber?new Float64Array(e.buffer.slice(4))[0]:{type:"unknown",tag:r,refcnt:h.read16(e,0),data:e.slice(4)})}}function b(r){var e=[];for(let t of Object.keys(r))e.push(v(r[t]).then(e=>{r[t]=e}));return Promise.all(e).then(()=>{})}function x(e){var t,r=p.breakpoints;let n=r[0],i=1/0;for(t of r){var a=e-t.binAddr;0<=a&&a<i&&(i=a,n=t)}return n}function k(t){if(a)return Promise.resolve();a=!0;let d;return E().then(n=>{var e=h.decodeU32LE(t)[0],i={};for(let r of p.procDebugInfo[0].locals){let e=n.globals;let t=(()=>{switch(r.type){case"uint32":return h.read32(e,r.index);case"int32":return 0|h.read32(e,r.index);case"uint16":return h.read16(e,r.index);case"int16":return h.read16(e,r.index)<<16>>16;case"uint8":return e[r.index];case"int8":return e[r.index]<<24>>24;default:return null}})();null===t&&(g.assert(0==(3&r.index)),t=y(h.read32(e,r.index))),i[r.name]=t}return f=x(e),d={type:"debugger",subtype:"breakpoint",breakpointId:f.id,globals:i,stackframes:[]},s(),l.talkAsync(r)}).then(e=>{{var i=h.decodeU32LE(e),a=d;let t=f.binAddr,r=0,n=p.procDebugInfo.filter(e=>e.codeStartLoc<=t&&t<=e.codeEndLoc)[0];for(;;){if(!n)break;if(n==p.procDebugInfo[0])break;var s,o=x(t),c=g.clone(o),l=(c.functionName=n.name,c.argumentNames=n.args&&n.args.map(e=>e.name),a.stackframes.push({locals:{},funcInfo:c,breakpointId:o.id}),a.stackframes[a.stackframes.length-1]);let e=0;for(s of n.locals)g.assert(s.index==e++),l.locals[s.name]=y(i[r++]);t=2147483646&i[r++];var u,c=_[t+""];for(u of n.args)l.locals[u.name]=y(i[r+(n.args.length-1-u.index)]);if(!c)break;n=c.from,r+=c.stack-n.localsMark}}e=[d.globals].concat(d.stackframes.map(e=>e.locals));return g.promiseMapAll(e,b)}).then(()=>m.postMessage(d))}function S(){a=!1,i=new Promise((e,t)=>{s=e})}function T(e=!1){return Promise.resolve().then(()=>l.talkAsync(t,h.encodeU32LE([e?1:3]))).then(S)}function C(){return i=i||Promise.resolve()}function E(){return(o?Promise.resolve(o):l.talkAsync(e).then(e=>o={numGlobals:n(e,0),globalsPtr:n(e,4)})).then(e=>l.readWordsAsync(e.globalsPtr,e.numGlobals)).then(e=>({staticState:o,globals:e}))}m.taggedUndefined=0,m.taggedNull=6,m.taggedFalse=10,m.taggedTrue=66,m.postMessage=e=>u.log(e),m.decodeValue=y,m.heapExpandAsync=v,m.heapExpandMapAsync=b,m.startDebugAsync=function(i,e){return(l=e).onEvent(915601917,k),a=!1,p=null,o=null,Promise.resolve().then(()=>{p=i,_={};var e,t,r=[];for(e of i.procDebugInfo)r[e.idx]=e;for(t of i.procDebugInfo)for(var n of t.calls)_[n.addr+""]={from:t,to:r[n.procIndex],stack:n.stack}}).then(()=>{var e=p.outfiles[pxtc.BINARY_UF2],e=g.stringToUint8Array(atob(e));return c=pxtc.UF2.toBin(e),l.reflashAsync(p).then(()=>l.reconnectAsync())}).then(()=>l.talkAsync(287358355).catch(e=>{})).then(()=>g.delay(200)).then(()=>l.reconnectAsync()).then(S).then(C)},m.handleMessage=function(t){if(u.log("HWDBGMSG",t),"debugger"==t.type){let e=!1;switch(t.subtype){case"stepinto":e=!0;case"stepover":T(e)}}},m.resumeAsync=T,m.waitForHaltAsync=C,m.getHwStateAsync=E}})(pxt=pxt||{}),(_=>{class e{logTime(){var e;this.start&&(e=Date.now()-this.start,_.debug("Icon creation: "+e+"ms"))}convert(e){this.start||(this.start=Date.now());let t=atob(e.slice(e.indexOf(",")+1)),r=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2);return 135===r&&(r=224|t.charCodeAt(1),n=t.charCodeAt(2)|t.charCodeAt(3)<<8,i=t.charCodeAt(4)|t.charCodeAt(5)<<8,t=t.slice(4)),225!=r&&228!=r?null:(this.palette||this.setPalette(_.appTarget.runtime.palette.map(function(e){return[(e=parseInt(e.replace(/#/,""),16))>>0&255,e>>8&255,e>>16&255,255]})),225==r?this.genMonochrome(t,n,i):(e=(_.BrowserUtils.isEdge()||_.BrowserUtils.isIE())&&n<100&&i<100?3:1,this.genColor(t,n,i,e)))}setPalette(t){t[0][3]=0,this.palette=new Uint8Array(4*t.length);for(let e=0;e<t.length;++e)this.palette[4*e+0]=t[e][0],this.palette[4*e+1]=t[e][1],this.palette[4*e+2]=t[e][2],this.palette[4*e+3]=t[e][3]}genMonochrome(t,r,n){var i=r+3&-4,a=54+this.palette.length,e=a+i*n,s=new Uint8Array(e);s[0]=66,s[1]=77,_.HF2.write32(s,2,e),_.HF2.write32(s,10,a),_.HF2.write32(s,14,40),_.HF2.write32(s,18,r),_.HF2.write32(s,22,-n),_.HF2.write16(s,26,1),_.HF2.write16(s,28,8),_.HF2.write32(s,38,2835),_.HF2.write32(s,42,2835),_.HF2.write32(s,46,this.palette.length>>2),s.set(this.palette,54);let o=4,c=a,l=1,u=t.charCodeAt(o++);for(let e=0;e<r;++e){c=a+e;for(let e=0;e<n;++e)s[c]=u&l?1:0,c+=i,256==(l<<=1)&&(l=1,u=t.charCodeAt(o++))}return"data:image/bmp;base64,"+btoa(_.U.uint8ArrayToString(s))}genColor(i,e,a,s){var t=e*(s=Math.max(1,0|s)),o=a*s,c=t<<2,e=138+c*o,l=new Uint8Array(e);l[0]=66,l[1]=77,_.HF2.write32(l,2,e),_.HF2.write32(l,10,138),_.HF2.write32(l,14,124),_.HF2.write32(l,18,t),_.HF2.write32(l,22,-o),_.HF2.write16(l,26,1),_.HF2.write16(l,28,32),_.HF2.write16(l,30,3),_.HF2.write32(l,38,2835),_.HF2.write32(l,42,2835),_.HF2.write32(l,54,16711680),_.HF2.write32(l,58,65280),_.HF2.write32(l,62,255),_.HF2.write32(l,66,4278190080),l[70]=66,l[71]=71,l[72]=82,l[73]=115;let u=4,d=138,p=!0;for(let e=0;e<t;e++){let t=!1;d=138+(e<<2);var f=u;let r=i.charCodeAt(u++),n=t?(r>>4&15)<<2:(15&r)<<2;for(let e=0;e<o;e++)r&&(p=!1),l[d]=this.palette[n],l[d+1]=this.palette[n+1],l[d+2]=this.palette[n+2],l[d+3]=this.palette[n+3],d+=c,e%s==s-1&&(t&&(r=i.charCodeAt(u++)),t=!t,n=t?(r>>4&15)<<2:(15&r)<<2);if(p&&(l[141]=1),e%s==s-1)for(a%2||--u;3&u;)u++;else u=f}return"data:image/bmp;base64,"+btoa(_.U.uint8ArrayToString(l))}}_.ImageConverter=e,_.convertUint8BufferToPngUri=function(t,e){var r=new _.ImageConverter,n=[];for(let e=0;e<16;e++)n.push([t[3*e+2],t[3*e+1],t[3*e+0],255]);return r.setPalette(n),e=String.fromCharCode.apply(null,e),e="data:image/x-mkcd-f4;base64,"+btoa(e),r.convert(e)}})(pxt=pxt||{}),(o=>{var e;function c(){let t={"tsconfig.json":e.TS_CONFIG,"test.ts":`// ${lf("tests go here; this will not be compiled when this package is used as an extension.")}
`,"_config.yml":`makecode:
  target: @TARGET@
  platform: @PLATFORM@
  home_url: @HOMEURL@
theme: jekyll-theme-slate
include:
  - assets
  - README.md
`,Makefile:`all: deploy

build:
	pxt build

deploy:
	pxt deploy

test:
	pxt test
`,Gemfile:`source 'https://rubygems.org'
gem 'github-pages', group: :jekyll_plugins`,"README.md":`
> ${lf("Open this page at {0}","[https://@REPOOWNER@.github.io/@REPONAME@/](https://@REPOOWNER@.github.io/@REPONAME@/)")}

## ${lf("Use as Extension")}

${lf("This repository can be added as an **extension** in MakeCode.")}

* ${lf("open [@HOMEURL@](@HOMEURL@)")}
* ${lf("click on **New Project**")}
* ${lf("click on **Extensions** under the gearwheel menu")}
* ${lf("search for **https://github.com/@REPO@** and import")}

## ${lf("Edit this project")}

${lf("To edit this repository in MakeCode.")}

* ${lf("open [@HOMEURL@](@HOMEURL@)")}
* ${lf("click on **Import** then click on **Import URL**")}
* ${lf("paste **https://github.com/@REPO@** and click import")}

#### ${lf("Metadata (used for search, rendering)")}

* for PXT/@TARGET@
<script src="https://makecode.com/gh-pages-embed.js"></script><script>makeCodeRender("{{ site.makecode.home_url }}", "{{ site.github.owner_name }}/{{ site.github.repository_name }}");</script>
`,".gitignore":`# MakeCode
built
node_modules
yotta_modules
yotta_targets
pxt_modules
.pxt
_site
*.db
*.tgz
.header.json
.simstate.json
`,".vscode/settings.json":`{
    "editor.formatOnType": true,
    "files.autoSave": "afterDelay",
    "files.watcherExclude": {
        "**/.git/objects/**": true,
        "**/built/**": true,
        "**/node_modules/**": true,
        "**/yotta_modules/**": true,
        "**/yotta_targets": true,
        "**/pxt_modules/**": true,
        "**/.pxt/**": true
    },
    "files.associations": {
        "*.blocks": "html",
        "*.jres": "json"
    },
    "search.exclude": {
        "**/built": true,
        "**/node_modules": true,
        "**/yotta_modules": true,
        "**/yotta_targets": true,
        "**/pxt_modules": true,
        "**/.pxt": true
    },
    "files.exclude": {
        "**/pxt_modules": true,
        "**/.pxt": true
    }
}`,".vscode/extensions.json":`{
    "recommendations": ["ms-edu.pxt-vscode-web"]
}`},r=n();return r&&Object.keys(r).forEach(e=>t[e]=r[e]),t}function n(){var e=o.appTarget.bundledpkgs[o.template.TEMPLATE_PRJ];if(e)return delete(e=o.Util.clone(e))[o.CONFIG_NAME],e}(e=o.template||(o.template={})).TS_CONFIG=`{
    "compilerOptions": {
        "target": "ES5",
        "noImplicitAny": true,
        "outDir": "built",
        "rootDir": "."
    },
    "exclude": ["pxt_modules/**/*test.ts"]
}
`,e.defaultFiles=c,e.targetTemplateFiles=n,e.TEMPLATE_PRJ="template",e.packageFiles=function(e){var t,r,n=o.appTarget.blocksprj||o.appTarget.tsprj,i=o.U.clone(n.config),a=(delete i.installedVersion,delete i.additionalFilePath,delete i.additionalFilePaths,i.preferredEditor=i.files.find(e=>/\.blocks$/.test(e))?o.BLOCKS_PROJECT_NAME:o.JAVASCRIPT_PROJECT_NAME,i.name=e,i.public=!0,i.version||(i.version="0.0.0"),{}),s=c();for(t in s)a[t]=s[t];for(r in n.files)"README.md"!=r&&(a[r]=n.files[r]);return e=Object.keys(a).filter(e=>/\.(blocks|md|ts|asm|cpp|h|py)$/.test(e)),i.files=e.filter(e=>!/test/.test(e)),i.testFiles=e.filter(e=>/test/.test(e)),i.supportedTargets=[o.appTarget.id],a[o.CONFIG_NAME]=o.Package.stringifyConfig(i),a},e.packageFilesFixup=function(r,e){let n=JSON.parse(r[o.CONFIG_NAME]);e&&o.Util.jsonMergeFrom(n,e),o.webConfig&&(Object.keys(o.webConfig).forEach(e=>n[e.toLowerCase()]=o.webConfig[e]),n.platform=o.appTarget.platformid||o.appTarget.id,n.target=o.appTarget.id,n.docs=o.appTarget.appTheme.homeUrl||"./",n.homeurl=o.appTarget.appTheme.homeUrl||"???"),o.U.iterMap(r,(e,t)=>{t=t.replace(/@([A-Z]+)@/g,(e,t)=>n[t.toLowerCase()]||""),r[e]=t})}})(pxt=pxt||{}),(k=>{var e,r;{var n=k.blocks||(k.blocks={});let b;(e=b=n.NT||(n.NT={}))[e.Prefix=0]="Prefix",e[e.Postfix=1]="Postfix",e[e.Infix=2]="Infix",e[e.Block=3]="Block",e[e.NewLine=4]="NewLine";let x,t=((e=x=n.GlueMode||(n.GlueMode={}))[e.None=0]="None",e[e.WithSpace=1]="WithSpace",e[e.NoSpace=2]="NoSpace",["break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with"]);function i(e){return"`"+e.replace(/[\\`${}]/g,e=>"\\"+e)+"`"}function a(e){return 20<e.length&&/\n/.test(e)?i(e):JSON.stringify(e)}function s(e,t,r){return{type:e,op:t,children:r}}function c(){return s(b.NewLine,"",[])}function l(e,t){return s(b.Prefix,e,t)}function u(e,t,r){return s(b.Infix,t,null==e?[r]:[e,r])}function S(e){return l(e,[])}function d(e){return s(b.Block,"",e)}function T(e){return l("",e)}function p(e,t=!1){var r,n=[];for(r of e)t?(0<n.length&&n.push(S(",")),n.push(c())):0<n.length&&n.push(S(", ")),n.push(r);return t&&n.push(c()),T(n)}function f(e,t,r=!1,n=!1){return T(n?[u(t[0],".",S(e)),S("("),p(t.slice(1),r),S(")")]:[S(e),S("("),p(t,r),S(")")])}function _(e,t,r,n){return f(e+"."+t,r,n)}function m(e,t){return k.U.assert(2==t.length),u(t[0],e,t[1])}n.backtickLit=i,n.stringLit=a,n.mkNode=s,n.mkNewLine=c,n.mkPrefix=l,n.mkPostfix=function(e,t){return s(b.Postfix,t,e)},n.mkInfix=u,n.mkText=S,n.mkBlock=d,n.mkGroup=T,n.mkStmt=function(...e){var t=e[e.length-1];return t&&t.type==b.Block||e.push(c()),T(e)},n.mkCommaSep=p,(r=e=n.Helpers||(n.Helpers={})).mkArrayLiteral=function(e,t){return T([S("["),p(e,t),S("]")])},r.mkNumberLiteral=function(e){return S(e.toString())},r.mkBooleanLiteral=function(e){return S(e?"true":"false")},r.mkStringLiteral=function(e){return S(a(e))},r.mkPropertyAccess=function(e,t){return T([u(t,".",S(e))])},r.mkCall=f,r.stdCall=function(e,t,r){return f(e,t,r)},r.extensionCall=function(e,t,r){return f(e,t,r,!0)},r.namespaceCall=_,r.mathCall=function(e,t){return _("Math",e,t,!1)},r.mkGlobalRef=S,r.mkSimpleCall=m,r.mkWhile=function(e,t){return T([S("while ("),e,S(")"),d(t)])},r.mkComment=function(e){return S("// "+e)},r.mkMultiComment=function(e){let n=[S("/**"),c()];return e.split("\n").forEach((e,t,r)=>{e&&(n.push(S(" * "+e)),n.push(c()),t<r.length-1)&&(n.push(S(" * ")),n.push(c()))}),T(n.concat([S(" */"),c()]))},r.mkAssign=function(e,t){return m("=",[e,t])},r.mkParenthesizedExpression=function(e){return h(g([e]).output)?e:T([S("("),e,S(")")])},n.H=e;let o={"=":3,"+=":3,"-=":3,"?":4,":":4,"||":5,"&&":6,"|":7,"^":8,"&":9,"==":10,"!=":10,"===":10,"!==":10,"<":11,">":11,"<=":11,">=":11,">>":12,">>>":12,"<<":12,"+":13,"-":13,"*":14,"/":14,"%":14,"**":15,"!":16,"~":16,"P-":16,"P+":16,"++":16,"--":16,".":18};function g(e){let u=[],d={},p="",f="",_=[{}],m=0;function g(e){"string"==typeof e&&(m+=(e.match(/\n/g)||[]).length),p+=e}e=T(e);return function e(r,n){if(r.type!=b.Infix)for(var t of r.children)e(t,-1);else{let t=[];var i,a=k.U.lookup(o,r.op);function s(e){"P"==e[0]&&(e=e.slice(1)),t.push(S(e))}null==a&&k.U.oops("bad infix op: "+r.op),a<n&&s("("),1==r.children.length?(s(r.op),e(r.children[0],a),t.push(r.children[0])):(i=3!=a&&"**"!=r.op,e(r.children[0],i?a:a+.1),t.push(r.children[0]),"."==r.op?s("."):s(" "+r.op+" "),e(r.children[1],i?a+.1:a),t.push(r.children[1])),a<n&&s(")"),r.type=b.Prefix,r.op="",r.children=t}}(e,-1),h(e),p||g("\n"),{output:p,sourceMap:u};function h(e){e.glueToBlock&&(v(),e.glueToBlock==x.WithSpace)&&g(" ");var t=m,r=p.length;switch(e.type){case b.Infix:k.U.oops("no infix should be left");break;case b.NewLine:g("\n"+f);break;case b.Block:var n=e,i=n.noFinalNewline?"":"\n";if(0==n.children.length)y(" {\n\t\n}"+i);else{var a,s=k.U.clone(_[_.length-1]||{});_.push(s),f+="    "," "!=p[p.length-1]&&y(" "),y("{\n");for(a of n.children)h(a);f=f.slice(4),v(),y("\n}"+i),_.pop()}break;case b.Prefix:e.canIndentInside?g(e.op.replace(/\n/g,"\n"+f+"    ")):g(e.op),e.children.forEach(h);break;case b.Postfix:e.children.forEach(h),e.canIndentInside?g(e.op.replace(/\n/g,"\n"+f+"    ")):g(e.op)}var o,c=m,l=Math.max(p.length,1);e.id&&(d[e.id]?((o=d[e.id]).startLine=Math.min(o.startLine,t),o.endLine=Math.max(o.endLine,c),o.startPos=Math.min(o.startPos,r),o.endPos=Math.max(o.endPos,l)):(o={id:e.id,startLine:t,startPos:r,endLine:c,endPos:l},d[e.id]=o,u.push(o)))}function y(e){g(e.replace(/\n/g,"\n"+f))}function v(){p=p.replace(/\n *$/,function(){return m--,""})}}function h(r){if("("===r[0]&&")"===r[r.length-1]){let t=1;for(let e=1;e<r.length;e++){var n=r[e];if("("===n)t++;else if(")"===n&&0===--t)return e===r.length-1}}return!1}n.flattenNode=g,n.isReservedWord=function(e){return-1!==t.indexOf(e)},n.isParenthesized=h}})(pxt=pxt||{}),(l=>{var i;{var a=i=l.sprite||(l.sprite={});let s=[".","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];a.BLOCKLY_TILESET_TYPE="BLOCKLY_TILESET_TYPE",a.TILE_PREFIX="tile",a.TILE_NAMESPACE="myTiles",a.IMAGES_NAMESPACE="myImages",a.IMAGE_PREFIX="image",a.ANIMATION_NAMESPACE="myAnimations",a.ANIMATION_PREFIX="anim",a.SONG_NAMESPACE="mySongs",a.JSON_NAMESPACE="myFiles",a.SONG_PREFIX="song",a.JSON_PREFIX="file";class T{constructor(e,t,r=0,n=0,i){this.width=e,this.height=t,this.x0=r,this.y0=n,this.width||(this.width=16),this.height||(this.height=16),this.buf=i||new Uint8ClampedArray(this.dataLength())}static fromData(e){return new T(e.width,e.height,e.x0,e.y0,e.data)}set(e,t,r){e<this.width&&t<this.height&&0<=e&&0<=t&&(e=this.coordToIndex(e,t),this.setCore(e,r))}get(e,t){return e<this.width&&t<this.height&&0<=e&&0<=t?(e=this.coordToIndex(e,t),this.getCore(e)):0}copy(r=0,n=0,e=this.width,i=this.height){var a=new T(e,i);a.x0=r,a.y0=n;for(let t=0;t<e;t++)for(let e=0;e<i;e++)a.set(t,e,this.get(r+t,n+e));return a}apply(r,n=!1){var i;for(let t=0;t<r.width;t++)for(let e=0;e<r.height;e++)!(i=r.get(t,e))&&n||this.set(r.x0+t,r.y0+e,i)}equals(t){if(this.width!==t.width||this.height!==t.height||this.x0!==t.x0||this.y0!==t.y0||this.buf.length!==t.buf.length)return!1;for(let e=0;e<this.buf.length;e++)if(this.buf[e]!==t.buf[e])return!1;return!0}data(){return{width:this.width,height:this.height,x0:this.x0,y0:this.y0,data:this.buf}}resize(e,t){return u(this,e,t)}coordToIndex(e,t){return e+t*this.width}getCore(e){var t=Math.floor(e/2);return e%2==0?15&this.buf[t]:(240&this.buf[t])>>4}setCore(e,t){var r=Math.floor(e/2);this.buf[r]=e%2==0?240&this.buf[r]|15&t:15&this.buf[r]|(15&t)<<4}dataLength(){return Math.ceil(this.width*this.height/2)}}a.Bitmap=T;class C extends T{static fromData(e){return new C(e.width,e.height,e.x0,e.y0,e.data)}copy(r=0,n=0,e=this.width,i=this.height){var a=new C(e,i);a.x0=r,a.y0=n;for(let t=0;t<e;t++)for(let e=0;e<i;e++)a.set(t,e,this.get(r+t,n+e));return a}resize(e,t){return d(this,e,t)}getCore(e){return this.buf[e]}setCore(e,t){this.buf[e]=t}dataLength(){return this.width*this.height}}a.Tilemap=C;class E{constructor(e,t,r){this.tilemap=e,this.tileset=t,this.layers=r,this.nextId=0}cloneData(e=!1){var t=this.tilemap.copy(),r={tileWidth:this.tileset.tileWidth,tiles:this.tileset.tiles.map(e=>Object.assign(Object.assign({},e),{bitmap:T.fromData(e.bitmap).copy().data()}))},n=T.fromData(this.layers).copy().data(),t=new E(t,r,n);return e&&(t.nextId=this.nextId,t.projectReferences=null==(r=this.projectReferences)?void 0:r.slice(),t.tileOrder=null==(n=this.tileOrder)?void 0:n.slice(),t.editedTiles=null==(e=this.editedTiles)?void 0:e.slice(),t.deletedTiles=null==(r=this.deletedTiles)?void 0:r.slice()),t}equals(e){return this.tilemap.equals(e.tilemap)&&h(this.tileset,e.tileset)&&g(this.layers,e.layers)}}function r(e){return t(atob(e.slice(e.indexOf(",")+1)))}function t(i){let e=i.charCodeAt(0),a=i.charCodeAt(1),s=i.charCodeAt(2);135===e&&(e=224|i.charCodeAt(1),a=i.charCodeAt(2)|i.charCodeAt(3)<<8,s=i.charCodeAt(4)|i.charCodeAt(5)<<8,i=i.slice(4));var o=new l.sprite.Bitmap(a,s);let c=4;if(225===e){let r=1,n=i.charCodeAt(c++);for(let t=0;t<a;++t)for(let e=0;e<s;++e)o.set(t,e,n&r?1:0),256==(r<<=1)&&(r=1,n=i.charCodeAt(c++))}else for(let t=0;t<a;t++){for(let e=0;e<s;e+=2){var r=i.charCodeAt(c++);o.set(t,e,15&r),e!=s-1&&o.set(t,e+1,r>>4&15)}for(;3&c;)c++}return o}function o(e,t){!(e=(e=(e=e.replace(/[ `]|(?:&#96;)|(?:&#9;)|(?:hex)/g,"").trim()).replace(/^["`\(\)]*/,"").replace(/["`\(\)]*$/,"")).replace(/&#10;/g,"\n"))&&t&&(e=t);var t=parseInt(e.substr(0,2),16)|parseInt(e.substr(2,2),16)<<8,r=parseInt(e.substr(4,2),16)|parseInt(e.substr(6,2),16)<<8,e=b(e.substring(8));return C.fromData({width:t,height:r,x0:0,y0:0,data:e})}function c(e){return""+n(e.width,2)+n(e.height,2)+x(e.data().data)}function n(e,t){let r=e.toString(16);var n=t<<1;for(1&r.length&&(r="0"+r);r.length<n;)r+="0";return r}function u(e,t,r){t=new T(t,r);return t.apply(e),t}function d(e,t,r){t=new C(t,r);return t.apply(e),t}function p(e,t="img"){var r=(e=(e=(e=(e=e.replace(/[ `]|(?:&#96;)|(?:&#9;)|(?:img)/g,"").trim()).replaceAll(t,"")).replace(/^["`\(\)]*/,"").replace(/["`\(\)]*$/,"")).replace(/&#10;/g,"\n")).split("\n"),n=[];let i=0;for(let e=0;e<r.length;e++){var a=r[e],s=[];for(let e=0;e<a.length;e++)switch(a[e]){case"0":case".":s.push(0);break;case"1":case"#":s.push(1);break;case"2":case"T":s.push(2);break;case"3":case"t":s.push(3);break;case"4":case"N":s.push(4);break;case"5":case"n":s.push(5);break;case"6":case"G":s.push(6);break;case"7":case"g":s.push(7);break;case"8":s.push(8);break;case"9":s.push(9);break;case"a":case"A":case"R":s.push(10);break;case"b":case"B":case"P":s.push(11);break;case"c":case"C":case"p":s.push(12);break;case"d":case"D":case"O":s.push(13);break;case"e":case"E":case"Y":s.push(14);break;case"f":case"F":case"W":s.push(15);break;default:if(!/\s/.test(a[e]))return}s.length&&(n.push(s),i=Math.max(i,s.length))}var o=n.length,c=new T(i,o);for(let t=0;t<o;t++){var l=n[t];for(let e=0;e<i;e++)e<l.length?c.set(e,t,l[e]):c.set(e,t,0)}return c}function f(e,t="img"){let r="";return r="python"===e?t+'("""':t+"`"}function _(e){let t="";return t+="python"===e?'""")':"`"}function m(r,e,t="img"){if(!r||0===r.height||0===r.width)return"";let n=f(e,t);if(r){var i=300<r.width*r.height?"":" ";for(let t=0;t<r.height;t++){n+="\n";for(let e=0;e<r.width;e++)n+=s[r.get(e,t)]+i}}return n=(n+="\n")+_(e)}function g(e,t){return e===t||!(!e&&t||!t&&e)&&l.sprite.Bitmap.fromData(e).equals(l.sprite.Bitmap.fromData(t))}function h(e,t){return e.tileWidth===t.tileWidth&&l.U.arrayEquals(e.tiles,t.tiles,l.assetEquals)}function y(e){switch(e){case 4:return"TileScale.Four";case 8:return"TileScale.Eight";case 16:return"TileScale.Sixteen";case 32:return"TileScale.ThirtyTwo";default:return Math.floor(Math.log2(e)).toString()}}function v(e){switch(e=e.replace(/\s/g,"")){case"TileScale.Four":return 4;case"TileScale.Eight":return 8;case"TileScale.Sixteen":return 16;case"TileScale.ThirtyTwo":return 32;default:return Math.pow(2,parseInt(e))}}function b(t){var r=new Uint8ClampedArray(t.length>>1);for(let e=0;e<t.length;e+=2)r[e>>1]=parseInt(t.slice(e,e+2),16);return r}function x(t){var r="0123456789abcdef";let n="";for(let e=0;e<t.length;++e)n=(n+=r[t[e]>>4])+r[15&t[e]];return n}function k(e,t,r){e[t]=255&r,e[t+1]=r>>8&255}function S(e){e=(e=>{if(e){if(6===e.length)return parseInt("0x"+e);if(7===e.length)return parseInt("0x"+e.substr(1))}return 0})(e);return[e>>16&255,e>>8&255,255&e]}a.TilemapData=E,a.Bitmask=class{constructor(e,t){this.width=e,this.height=t,this.mask=new Uint8Array(Math.ceil(e*t/8))}set(e,t){e+=this.width*t;this.mask[e>>3]|=1<<(7&e)}get(e,t){e+=this.width*t;return this.mask[e>>3]>>(7&e)&1}},a.encodeTilemap=function(e,t,r){return e?`tiles.createTilemap(${n=e.tilemap,n?`hex\`${c(n)}\``:"hex``"}, ${m(T.fromData(e.layers),t)}, [${e.tileset.tiles.map(e=>{var t=r;return t&&t[e.id]?t[e.id]:e.id})}], ${y(e.tileset.tileWidth)})`:"null";var n},a.decodeTilemap=function(e,t,r){var n,i,a,s;return(e=l.Util.htmlUnescape(e).trim()).trim()&&-1!==e.indexOf("(")?(a=(e=(e=e.substr(e.indexOf("(")+1)).substr(0,e.lastIndexOf(")"))).substr(0,e.indexOf(",")),n=(e=e.substr(a.length+1)).substr(0,e.indexOf(",")),i=(e=e.substr(n.length+1)).substr(0,e.lastIndexOf("]")+1),e=e=e.substr(i.length+1),new E(o(a),{tiles:(s=r,(a=(a=i).replace(/[\[\]]/g,""))?a.split(",").filter(e=>!!e.trim()).map(e=>{var t=e,r=s;if(0===(t=t.trim()).indexOf("img"))return e=p(t),r.createNewTile(e.data());switch(t){case"myTiles.tile0":case"myTiles.transparency16":return r.getTransparency(16);case"myTiles.transparency8":return r.getTransparency(8);case"myTiles.transparency4":return r.getTransparency(4);case"myTiles.transparency32":return r.getTransparency(32);default:return r.resolveTile(t)}}):[]),tileWidth:v(e)},p(n).data())):null},a.trimTilemapTileset=function(e){var r=e.tileset.tiles.slice(),n=e.tilemap;let i={};i[r[0].id]=!0;for(let t=0;t<n.width;t++)for(let e=0;e<n.height;e++)i[r[n.get(t,e)].id]=!0;let t=e.editedTiles||[];var a=r.filter(e=>i[e.id]||"*"===e.id.charAt(0)||-1!==t.indexOf(e.id));if(a.length!==r.length){var s=[];for(let e=0;e<r.length;e++)s.push(a.indexOf(r[e]));for(let t=0;t<n.width;t++)for(let e=0;e<n.height;e++)n.set(t,e,s[n.get(t,e)]);e.tileset.tiles=a}},a.isEmptyTilemap=function(e){var r=e.tileset.tiles,n=e.tilemap,i=r[0].id;for(let t=0;t<n.width;t++)for(let e=0;e<n.height;e++)if(r[n.get(t,e)].id!==i)return!1;return!0},a.computeAverageColor=function(r,e){var n=e.map(S),i=[0,0,0];let a=0;for(let t=0;t<r.width;t++)for(let e=0;e<r.height;e++){var s=r.get(t,e);s&&(++a,s=n[s],i[0]+=s[0],i[1]+=s[1],i[2]+=s[2])}return a?"#"+(t=>{let r="";for(let e=0;e<t.length;++e)r+=("0"+t[e].toString(16)).slice(-2);return r})(i.map(e=>Math.floor(e/a))):"#00000000"},a.getBitmap=function(e,t){return(e=e.apis.byQName[t])?r(e.attributes.jresURL):null},a.getBitmapFromJResURL=r,a.hexToBitmap=t,a.filterItems=function(e,t){let i=(t=t.filter(e=>!!e).map(e=>e.toLowerCase())).filter(e=>0!==e.indexOf("!")),a=t.filter(e=>0===e.indexOf("!")&&1<e.length).map(e=>e.substring(1));return e.filter(e=>{return n=e,i.every(t=>{let r="?"+t;return n.tags.some(e=>e===t||e===r)})&&(r=e,a.every(t=>!r.tags.some(e=>e===t)));var r,n})},a.getGalleryItems=function(e,t){n=e.apis,i=t;let r=l.Util.values(n.byQName).filter(e=>4===e.kind&&e.attributes.fixedInstance&&((e,t,r)=>t==r||!(!(e=e.byQName[t])||!e.extendsTypes)&&0<=e.extendsTypes.indexOf(r))(n,e.retType,i));var n,i;r=r.filter(e=>e.namespace!=a.TILE_NAMESPACE);{e=r;let t=new l.ImageConverter;e.forEach(e=>{e.attributes.jresURL&&!e.attributes.iconURL&&0==e.attributes.jresURL.indexOf("data:image/x-mkcd-f")&&(e.attributes.iconURL=t.convert(e.attributes.jresURL))})}return r.map(e=>{var t=(e.attributes.tags||"").split(" ").filter(e=>!!e).map(e=>l.Util.startsWith(e,"category-")?e:e.toLowerCase());return{qName:e.qName,src:e.attributes.iconURL,alt:e.qName,tags:t}})},a.base64EncodeBitmap=function(e){let r=T.fromData(e);return e=pxtc.f4EncodeImg(e.width,e.height,4,(e,t)=>r.get(e,t)),btoa(l.U.uint8ArrayToString(b(e)))},a.tilemapLiteralToTilemap=o,a.hexEncodeTilemap=c,a.formatByte=n,a.resizeBitmap=u,a.resizeTilemap=d,a.imageLiteralToBitmap=p,a.encodeAnimationString=function(e,t){var r=e.map(e=>e.data);let n=new Uint8ClampedArray(8+r[0].length*r.length),i=(k(n,0,t),k(n,2,e[0].width),k(n,4,e[0].height),k(n,6,e.length),8);return r.forEach(e=>{n.set(e,i),i+=e.length}),btoa(l.sprite.uint8ArrayToHex(n))},a.addMissingTilemapTilesAndReferences=function(e,r){var n=e.getProjectTiles(r.data.tileset.tileWidth,!0);r.data.projectReferences=[];for(let t of n.tiles)r.data.tileset.tiles.some(e=>e.id===t.id)||r.data.tileset.tiles.push(t),e.isAssetUsed(t,null,[r.id])&&r.data.projectReferences.push(t.id)},a.updateTilemapReferencesFromResult=function(r,e){var n=e.data;if(n.deletedTiles)for(var t of n.deletedTiles)r.deleteTile(t);if(n.editedTiles)for(let t of n.editedTiles){var i=n.tileset.tiles.findIndex(e=>e.id===t),a=n.tileset.tiles[i];a&&(n.tileset.tiles[i]=r.updateTile(a))}for(let e=0;e<n.tileset.tiles.length;e++){var s=n.tileset.tiles[e];s.jresData||(n.tileset.tiles[e]=r.resolveTile(s.id))}l.sprite.trimTilemapTileset(n)},a.isTilemapEmptyOrUnused=function(r,e,t){var n=i.Bitmap.fromData(r.data.layers);for(let t=0;t<r.data.tilemap.width;t++)for(let e=0;e<r.data.tilemap.height;e++)if(r.data.tilemap.get(t,e)||n.get(t,e))return!1;return!e.isAssetUsed(r,t)},a.imageLiteralFromDimensions=function(t,r,n,e){let i=f(e);var a=300<t*r?"":" ";for(let e=0;e<r;e++){i+="\n";for(let e=0;e<t;e++)i+=s[n]+a}return i=(i+="\n")+_(e)},a.bitmapToImageLiteral=m,a.bitmapEquals=g,a.tilesetEquals=h,a.tileWidthToTileScale=y,a.tileScaleToTileWidth=v,a.hexToUint8Array=b,a.uint8ArrayToHex=x,a.colorStringToRGB=S}})(pxt=pxt||{}),(s=>{var o=s.sprite||(s.sprite={});{var e=o.legacy||(o.legacy={});let a=new RegExp(`^\\s*${o.TILE_NAMESPACE}\\s*\\.\\s*${o.TILE_PREFIX}(\\d+)\\s*$`);class c{constructor(e,t,r){this.tilemap=e,this.tileset=t,this.layers=r,this.nextId=0}}e.LegacyTilemapData=c,e.decodeTilemap=function(e,t){var r,n,i;return null!=(e=null==(i=s.Util.htmlUnescape(e))?void 0:i.trim())&&e.trim()?(i=(e=(e=e.substr(e.indexOf("(")+1)).substr(0,e.lastIndexOf(")"))).substr(0,e.indexOf(",")),r=(e=e.substr(i.length+1)).substr(0,e.indexOf(",")),n=(e=e.substr(r.length+1)).substr(0,e.lastIndexOf("]")+1),e=e=e.substr(n.length+1),new c(o.tilemapLiteralToTilemap(i),{tiles:(i=(i=n).replace(/[\[\]]/g,""))?i.split(",").filter(e=>!!e.trim()).map(e=>{var t;return 0===(e=e.trim()).indexOf("img")?{data:o.imageLiteralToBitmap(e).data()}:(t=a.exec(e))?{data:null,projectId:Number(t[1])}:{data:null,qualifiedName:e}}):[],tileWidth:o.tileScaleToTileWidth(e)},o.imageLiteralToBitmap(r).data())):new c(new o.Tilemap(16,16),{tileWidth:16,tiles:[]},new o.Bitmap(16,16).data())},e.tileToBlocklyVariable=function(e){return`${e.projectId};${e.data.width};${e.data.height};`+pxtc.Util.toHex(e.data.data)},e.blocklyVariableToTile=function(e){return 4!==(e=e.split(";")).length?null:{projectId:parseInt(e[0]),data:{width:parseInt(e[1]),height:parseInt(e[2]),data:new Uint8ClampedArray(pxtc.Util.fromHex(e[3])),x0:0,y0:0}}}}})(pxt=pxt||{}),(a=>{{var e=a.storage||(a.storage={});class o{constructor(){this.items={}}removeItem(e){delete this.items[e]}getItem(e){return this.items[e]}setItem(e,t){this.items[e]=t}clear(){this.items={}}}class c{constructor(e){this.storageId=e,this.type="localstorage"}targetKey(e){return this.storageId+"/"+e}removeItem(e){window.localStorage.removeItem(this.targetKey(e))}getItem(e){return window.localStorage[this.targetKey(e)]}setItem(e,t){window.localStorage[this.targetKey(e)]=t}clear(){var t=this.targetKey(""),r=[];for(let e=0;e<window.localStorage.length;++e){var n=window.localStorage.key(e);0==n.indexOf(t)&&r.push(n)}r.forEach(e=>window.localStorage.removeItem(e))}}function s(){var e;return a.appTarget?a.appTarget.id:(e=window.pxtConfig)?e.targetId:(e=window.pxtTargetBundle)?e.id:""}e.storageId=s;let i;function r(){if(!i){var t=s();let e=!1;if(!a.shell.isSandboxMode())try{var r=a.Util.guidGen(),n=(window.localStorage[t]=r,window.localStorage[t]);e=n===r}catch(e){}e?(i=new c(t),a.debug("storage: local under "+t)):(i=new o,a.debug("storage: in memory"))}}e.setLocal=function(e,t){r(),i.setItem(e,t)},e.getLocal=function(e){return r(),i.getItem(e)},e.removeLocal=function(e){r(),i.removeItem(e)},e.clearLocal=function(){r(),i.clear()}}})(pxt=pxt||{}),(a=>{var t=a.storage||(a.storage={});{t=t.shared||(t.shared={});let e=!0,i="http://localhost:3232/api/store/";function s(){return e&&a.BrowserUtils.isLocalHostDev()&&!a.BrowserUtils.noSharedLocalStorage()}function o(){return a.BrowserUtils.isChromiumEdge()?"chromium-edge":a.BrowserUtils.browser()}t.getAsync=async function(e,t){if(s()){e+="-"+o();var r=await a.Util.requestAsync({url:i+encodeURIComponent(e)+"/"+encodeURIComponent(t),method:"GET",allowHttpErrors:!0});if(204===r.statusCode)throw new Error(`Missing ${t} not available in `+e);return r.json||r.text||void 0}return r=a.storage.getLocal(e+":"+t),a.Util.jsonTryParse(r)||r},t.setAsync=async function(t,r,n){if(void 0===n)await a.storage.shared.delAsync(t,r);else{let e="";e="object"==typeof n?JSON.stringify(n):n.toString(),s()?(t+="-"+o(),n={type:"object"==typeof n?"json":"text",val:e},n=JSON.stringify(n),await a.Util.requestAsync({url:i+encodeURIComponent(t)+"/"+encodeURIComponent(r),method:"POST",data:n})):a.storage.setLocal(t+":"+r,e)}},t.delAsync=async function(e,t){s()?(e+="-"+o(),await a.Util.requestAsync({url:i+encodeURIComponent(e)+"/"+encodeURIComponent(t),method:"DELETE",allowHttpErrors:!0})):a.storage.removeLocal(e+":"+t)}}})(pxt=pxt||{}),(pxt||(pxt={})).getSectionsFromMarkdownMetadata=function(e){var t,r,n,e=e.split(/\r?\n/);let i=[],a=null,s=null,o=null,c=[],l=0;for(t of e)if(t.trim()){if(t.startsWith("#")){var u=/^(#+)\s*(.+)$/.exec(t);if(u){d(),a={headerKind:1===u[1].length?"single":2===u[1].length?"double":"triple",header:u[2],attributes:{}},s=null,o=null,l=0;continue}}a&&(u=(t=>{let r=0;for(let e=0;e<t.length;e++)if(" "===t.charAt(e))r++;else{if("\t"!==t.charAt(e))return r;r+=4}return 0})(t),r=t.trim(),r=/^[*-]\s+(?:([^:]+):)?(.*)$/.exec(r))&&(1<Math.abs(u-l)&&s&&(u>l?(n={key:s,items:[]},c.length?c[c.length-1].items.push(n):(a.listAttributes||(a.listAttributes={}),a.listAttributes[s]=n),s=null,c.push(n)):(n=c.pop(),s&&o&&(null!=n&&n.items.push((s+":"+o).trim()),o=null)),l=u),r)&&(r[1]?(s&&o&&(c.length?c[c.length-1].items.push((s+":"+o).trim()):a.attributes[s]=o.trim()),s=r[1].trim().toLowerCase(),o=r[2]):s&&(o+=r[2]))}else o&&(o+="\n");return d(),i;function d(){a&&(s&&o&&(c.length?c[c.length-1].items.push((s+":"+o).trim()):a.attributes[s]=o.trim()),i.push(a)),c=[]}},(r=>{var n;{var i=r.multiplayer||(r.multiplayer={});let e,t=((n=e=e||{})[n.PROD=0]="PROD",n[n.STAGING=1]="STAGING",n[n.LOCAL=2]="LOCAL",e.STAGING);i.ABSOLUTE_LINKS={PROD_BETA:"https://arcade.makecode.com/beta--multiplayer",STAGING_BETA:"https://arcade.staging.pxt.io/beta--multiplayer",LOCAL:"http://localhost:3000"},i.RELATIVE_LINKS={PROD:"/--multiplayer",BETA:"/beta--multiplayer"},i.SHORT_LINKS={PROD:"https://aka.ms/a9",PROD_BETA:"https://aka.ms/a9b",STAGING:"https://aka.ms/a9s",STAGING_BETA:"https://aka.ms/a9sb"},i.RELATIVE_LINK=()=>{if(r.BrowserUtils.isLocalHostDev())switch(t){case e.PROD:return i.ABSOLUTE_LINKS.PROD_BETA;case e.STAGING:return i.ABSOLUTE_LINKS.STAGING_BETA;case e.LOCAL:return i.ABSOLUTE_LINKS.LOCAL}return window.location.pathname.startsWith("/beta")?i.RELATIVE_LINKS.BETA:i.RELATIVE_LINKS.PROD},i.SHORT_LINK=()=>{if(r.BrowserUtils.isLocalHostDev())switch(t){case e.PROD:return i.SHORT_LINKS.PROD_BETA;case e.STAGING:return i.SHORT_LINKS.STAGING_BETA;case e.LOCAL:return i.ABSOLUTE_LINKS.LOCAL}return window.location.host.endsWith(".staging.pxt.io")?window.location.pathname.startsWith("/beta")?i.SHORT_LINKS.STAGING_BETA:i.SHORT_LINKS.STAGING:window.location.pathname.startsWith("/beta")?i.SHORT_LINKS.PROD_BETA:i.SHORT_LINKS.PROD},i.makeHostLink=function(e,t){return`${t?i.SHORT_LINK():i.RELATIVE_LINK()}?host=`+encodeURIComponent(e)},i.makeJoinLink=function(e,t){return`${t?i.SHORT_LINK():i.RELATIVE_LINK()}?join=`+encodeURIComponent(e)}}})(pxt=pxt||{}),(t=>{var e;function f(e,t,r){var n=new Uint8Array(2);new Uint16Array(n.buffer)[0]=0|r,e[t]=n[0],e[t+1]=n[1]}function l(e,t){var r=new Uint8Array(2);return r[0]=e[t],r[1]=e[t+1],new Uint16Array(r.buffer)[0]}function _(t){var r=new Uint8Array(5+7*t.steps.length);r[0]=t.steps.length,f(r,1,t.startFrequency),f(r,3,t.startVolume);for(let e=0;e<t.steps.length;e++){var n=5+7*e;r[n]=t.steps[e].waveform,f(r,1+n,t.steps[e].frequency),f(r,3+n,t.steps[e].volume),f(r,5+n,t.steps[e].duration)}return r}function m(t,r,n){var i=new Uint8Array(5+t.notes.length);f(i,0,t.startTick),f(i,2,t.endTick),i[4]=t.notes.length;for(let e=0;e<t.notes.length;e++)i[5+e]=((e,t,r)=>{if(r)return e.note;let n=0;return"flat"===e.enharmonicSpelling?n=1:"sharp"===e.enharmonicSpelling&&(n=2),e.note-12*(t-2)|n<<6})(t.notes[e],r,n);return i}function s(t){if(t.drums){var r,n,i=t,a=i.drums.map(_),s=a.reduce((e,t)=>t.length+e,0),o=i.notes.map(e=>m(e,0,!0)),c=o.reduce((e,t)=>t.length+e,0),l=new Uint8Array(6+s+c);l[0]=i.id,l[1]=1,f(l,2,s);let e=4;for(r of a)l.set(r,e),e+=r.length;f(l,e,c),e+=2;for(n of o)l.set(n,e),e+=n.length;return l}{var u=t;var d,i=(e=>{var t,r=new Uint8Array(28);return r[0]=e.waveform,f(r,1,e.ampEnvelope.attack),f(r,3,e.ampEnvelope.decay),f(r,5,e.ampEnvelope.sustain),f(r,7,e.ampEnvelope.release),f(r,9,e.ampEnvelope.amplitude),f(r,11,(null==(t=e.pitchEnvelope)?void 0:t.attack)||0),f(r,13,(null==(t=e.pitchEnvelope)?void 0:t.decay)||0),f(r,15,(null==(t=e.pitchEnvelope)?void 0:t.sustain)||0),f(r,17,(null==(t=e.pitchEnvelope)?void 0:t.release)||0),f(r,19,(null==(t=e.pitchEnvelope)?void 0:t.amplitude)||0),r[21]=(null==(t=e.ampLFO)?void 0:t.frequency)||0,f(r,22,(null==(t=e.ampLFO)?void 0:t.amplitude)||0),r[24]=(null==(t=e.pitchLFO)?void 0:t.frequency)||0,f(r,25,(null==(t=e.pitchLFO)?void 0:t.amplitude)||0),r[27]=e.octave,r})(u.instrument),s=u.notes.map(e=>m(e,u.instrument.octave,!1)),a=s.reduce((e,t)=>t.length+e,0),p=new Uint8Array(6+i.length+a);p[0]=u.id,p[1]=0,f(p,2,i.length);let e=4;p.set(i,e),e+=i.length,f(p,e,a),e+=2;for(d of s)p.set(d,e),e+=d.length;return p;return}}function u(t,r,n,i){var a={startTick:l(t,r),endTick:l(t,r+2),notes:[]};for(let e=0;e<t[r+4];e++)a.notes.push(((e,t,r)=>{var n=e>>6,r={note:r?e:(63&e)+12*(t-2),enharmonicSpelling:"normal"};return 1==n?r.enharmonicSpelling="flat":2==n&&(r.enharmonicSpelling="sharp"),r})(t[r+5+e],n,i));return a}function r(e){return{ticksPerBeat:8,beatsPerMeasure:4,beatsPerMinute:120,measures:e,tracks:[{id:0,name:lf("Dog"),notes:[],iconURI:"music-editor/dog.png",instrument:{waveform:1,octave:4,ampEnvelope:{attack:10,decay:100,sustain:500,release:100,amplitude:1024},pitchLFO:{frequency:5,amplitude:0}}},{id:1,name:lf("Duck"),notes:[],iconURI:"music-editor/duck.png",instrument:{waveform:15,octave:4,ampEnvelope:{attack:5,decay:530,sustain:705,release:450,amplitude:1024},pitchEnvelope:{attack:5,decay:40,sustain:0,release:100,amplitude:40},ampLFO:{frequency:3,amplitude:20},pitchLFO:{frequency:6,amplitude:2}}},{id:2,name:lf("Cat"),notes:[],iconURI:"music-editor/cat.png",instrument:{waveform:12,octave:5,ampEnvelope:{attack:150,decay:100,sustain:365,release:400,amplitude:1024},pitchEnvelope:{attack:120,decay:300,sustain:0,release:100,amplitude:50},pitchLFO:{frequency:10,amplitude:6}}},{id:3,name:lf("Fish"),notes:[],iconURI:"music-editor/fish.png",instrument:{waveform:1,octave:3,ampEnvelope:{attack:220,decay:105,sustain:1024,release:350,amplitude:1024},ampLFO:{frequency:5,amplitude:100},pitchLFO:{frequency:1,amplitude:4}}},{id:4,name:lf("Car"),notes:[],iconURI:"music-editor/car.png",instrument:{waveform:16,octave:4,ampEnvelope:{attack:5,decay:100,sustain:1024,release:30,amplitude:1024},pitchLFO:{frequency:10,amplitude:4}}},{id:5,name:lf("Computer"),notes:[],iconURI:"music-editor/computer.png",instrument:{waveform:15,octave:2,ampEnvelope:{attack:10,decay:100,sustain:500,release:10,amplitude:1024}}},{id:6,name:lf("Burger"),notes:[],iconURI:"music-editor/burger.png",instrument:{waveform:1,octave:2,ampEnvelope:{attack:10,decay:100,sustain:500,release:100,amplitude:1024}}},{id:7,name:lf("Cherry"),notes:[],iconURI:"music-editor/cherry.png",instrument:{waveform:2,octave:3,ampEnvelope:{attack:10,decay:100,sustain:500,release:100,amplitude:1024}}},{id:8,name:lf("Lemon"),notes:[],iconURI:"music-editor/lemon.png",instrument:{waveform:14,octave:2,ampEnvelope:{attack:5,decay:70,sustain:870,release:50,amplitude:1024},pitchEnvelope:{attack:10,decay:45,sustain:0,release:100,amplitude:20},ampLFO:{frequency:1,amplitude:50},pitchLFO:{frequency:2,amplitude:1}}},{id:9,name:lf("Drums"),notes:[],iconURI:"music-editor/explosion.png",instrument:{waveform:11,octave:4,ampEnvelope:{attack:10,decay:100,sustain:500,release:100,amplitude:1024}},drums:[{startFrequency:100,startVolume:1024,steps:[{waveform:3,frequency:120,duration:10,volume:1024},{waveform:3,frequency:1,duration:100,volume:0}]},{startFrequency:200,startVolume:1024,steps:[{frequency:0,volume:0,duration:100,waveform:1}]},{startFrequency:100,startVolume:1024,steps:[{frequency:0,volume:0,duration:250,waveform:1}]},{startFrequency:175,startVolume:1024,steps:[{waveform:1,frequency:200,duration:10,volume:1024},{waveform:1,frequency:150,duration:20,volume:1024},{waveform:5,frequency:1,duration:20,volume:100},{waveform:5,frequency:1,duration:300,volume:0}]},{startFrequency:220,startVolume:1024,steps:[{waveform:1,frequency:250,duration:10,volume:1024},{waveform:1,frequency:200,duration:20,volume:1024},{waveform:5,frequency:2e3,duration:20,volume:100},{waveform:5,frequency:2e3,duration:200,volume:0}]},{startFrequency:400,startVolume:500,steps:[{frequency:450,volume:500,duration:10,waveform:5},{frequency:400,volume:20,duration:20,waveform:5}]},{startFrequency:400,startVolume:0,steps:[{frequency:450,volume:500,duration:5,waveform:5},{frequency:900,volume:5,duration:50,waveform:5},{frequency:900,volume:0,duration:250,waveform:5}]},{startFrequency:400,startVolume:0,steps:[{frequency:450,volume:500,duration:5,waveform:5},{frequency:900,volume:200,duration:50,waveform:5},{frequency:900,volume:5,duration:100,waveform:5},{frequency:900,volume:0,duration:400,waveform:5}]},{startFrequency:400,startVolume:0,steps:[{frequency:450,volume:500,duration:5,waveform:5},{frequency:900,volume:200,duration:100,waveform:5},{frequency:900,volume:5,duration:200,waveform:5},{frequency:900,volume:0,duration:500,waveform:5}]},{startFrequency:3500,startVolume:1024,steps:[{frequency:4e3,volume:0,duration:10,waveform:4},{frequency:3500,volume:800,duration:1,waveform:4},{frequency:4e3,volume:0,duration:40,waveform:4},{frequency:3500,volume:400,duration:1,waveform:4},{frequency:4e3,volume:0,duration:40,waveform:4}]},{startFrequency:2e3,startVolume:1024,steps:[{frequency:1800,volume:15,duration:100,waveform:4},{frequency:1800,volume:0,duration:200,waveform:4}]},{startFrequency:200,startVolume:200,steps:[{frequency:125,volume:200,duration:25,waveform:14},{frequency:100,volume:15,duration:50,waveform:14},{frequency:120,volume:0,duration:250,waveform:14}]},{startFrequency:300,startVolume:200,steps:[{frequency:225,volume:200,duration:25,waveform:14},{frequency:200,volume:15,duration:50,waveform:14},{frequency:220,volume:0,duration:250,waveform:14}]},{startFrequency:500,startVolume:200,steps:[{frequency:425,volume:200,duration:25,waveform:14},{frequency:400,volume:15,duration:50,waveform:14},{frequency:420,volume:0,duration:250,waveform:14}]},{startFrequency:200,startVolume:1024,steps:[{frequency:75,volume:0,duration:200,waveform:1}]},{startFrequency:300,startVolume:1024,steps:[{frequency:200,volume:0,duration:200,waveform:1}]},{startFrequency:400,startVolume:1024,steps:[{frequency:300,volume:0,duration:200,waveform:1}]},{startFrequency:200,startVolume:1024,steps:[{frequency:200,volume:15,duration:100,waveform:4},{frequency:150,volume:0,duration:200,waveform:4}]},{startFrequency:450,startVolume:1024,steps:[{frequency:350,volume:15,duration:100,waveform:4},{frequency:300,volume:0,duration:100,waveform:4}]},{startFrequency:2500,startVolume:1024,steps:[{frequency:2500,volume:100,duration:150,waveform:4},{frequency:2550,volume:0,duration:500,waveform:4}]},{startFrequency:3e3,startVolume:1024,steps:[{frequency:3e3,volume:100,duration:300,waveform:4},{frequency:3060,volume:0,duration:500,waveform:4}]},{startFrequency:800,startVolume:0,steps:[{frequency:800,volume:1024,duration:10,waveform:4},{frequency:800,volume:0,duration:490,waveform:4}]},{startFrequency:400,startVolume:0,steps:[{frequency:400,volume:1024,duration:10,waveform:4},{frequency:400,volume:0,duration:400,waveform:4}]},{startFrequency:2e3,startVolume:1024,steps:[{frequency:2e3,volume:100,duration:150,waveform:16},{frequency:2e3,volume:0,duration:200,waveform:16}]}]}]}}(e=(e=t.assets||(t.assets={})).music||(e.music={})).encodeSongToHex=function(e){return e=(e=>{var t,r=e.tracks.filter(e=>0<e.notes.length).map(s),n=r.reduce((e,t)=>t.length+e,0),i=new Uint8Array(7+n);i[0]=0,f(i,1,e.beatsPerMinute),i[3]=e.beatsPerMeasure,i[4]=e.ticksPerBeat,i[5]=e.measures,i[6]=r.length;let a=7;for(t of r)i.set(t,a),a+=t.length;return i})(e),t.U.toHex(e)},e.decodeSongFromHex=function(r){r=t.U.fromHex(r);{var n=r;let e={beatsPerMinute:l(n,1),beatsPerMeasure:n[3],ticksPerBeat:n[4],measures:n[5],tracks:[]},t=7;for(;t<n.length;){var[i,a]=((i,a)=>{if(i[a+1]){var n=i,s=a;let e={id:n[s],instrument:{ampEnvelope:{attack:0,decay:0,sustain:0,release:0,amplitude:0},waveform:0},notes:[],drums:[]},t=l(n,s+2),r=s+4;for(;r<s+4+t;)e.drums.push(((t,r)=>{var n={startFrequency:l(t,r+1),startVolume:l(t,r+3),steps:[]};for(let e=0;e<t[r];e++){var i=r+5+7*e;n.steps.push({waveform:t[i],frequency:l(t,i+1),volume:l(t,i+3),duration:l(t,i+5)})}return n})(n,r)),r+=5+7*e.drums[e.drums.length-1].steps.length;var o=l(n,r);for(r+=2;r<s+4+t+o;)e.notes.push(u(n,r,0,!0)),r+=5+e.notes[e.notes.length-1].notes.length;return[e,r]}{var c=i,i=a;let e={id:c[i],instrument:((e,t)=>({waveform:e[t],ampEnvelope:{attack:l(e,t+1),decay:l(e,t+3),sustain:l(e,t+5),release:l(e,t+7),amplitude:l(e,t+9)},pitchEnvelope:{attack:l(e,t+11),decay:l(e,t+13),sustain:l(e,t+15),release:l(e,t+17),amplitude:l(e,t+19)},ampLFO:{frequency:e[t+21],amplitude:l(e,22)},pitchLFO:{frequency:e[t+24],amplitude:l(e,25)},octave:e[t+27]}))(c,i+4),notes:[]},t=i+4+l(c,i+2),r=l(c,t),n=t+2;for(;n<t+2+r;)e.notes.push(u(c,n,e.instrument.octave,!1)),n+=5+e.notes[e.notes.length-1].notes.length;return[e,n]}})(n,t);t=a,e.tracks.push(i)}return e}},e.cloneSong=function(e){return Object.assign(Object.assign({},e),{tracks:e.tracks.map(e=>Object.assign(Object.assign({},e),{instrument:e.instrument&&Object.assign(Object.assign({},e.instrument),{ampEnvelope:Object.assign({},e.instrument.ampEnvelope),pitchEnvelope:e.instrument.pitchEnvelope&&Object.assign({},e.instrument.pitchEnvelope),ampLFO:e.instrument.ampLFO&&Object.assign({},e.instrument.ampLFO),pitchLFO:e.instrument.pitchLFO&&Object.assign({},e.instrument.pitchLFO)}),drums:e.drums&&e.drums.map(e=>Object.assign(Object.assign({},e),{steps:e.steps.map(e=>Object.assign({},e))})),notes:e.notes.map(e=>Object.assign(Object.assign({},e),{notes:e.notes.slice()}))}))})},e.songEquals=function(e,t){return function t(r,n){{if(typeof r!=typeof n)return!1;if("object"!=typeof r)return r===n;if(Array.isArray(r)){if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++)if(!t(r[e],n[e]))return!1;return!0}}let e=Object.keys(r);let i=Object.keys(n);if(e.length!==i.length)return!1;for(var a of e){if(-1===i.indexOf(a))return!1;if(!t(r[a],n[a]))return!1}return!0}(e,t)},e.inflateSong=function(n){var e=r(1);n.tracks=e.tracks.map((e,t)=>{var r=n.tracks.find(e=>e.id===t);return r&&(e.notes=r.notes),e})},e.getSongInfo=function(e){return{ticksPerBeat:e.ticksPerBeat,beatsPerMeasure:e.beatsPerMeasure,beatsPerMinute:e.beatsPerMinute,measures:e.measures}},e.getEmptySong=r})(pxt=pxt||{}),(m=>{let a=["name","version","description","license","dependencies","files","testFiles","testDependencies","fileDependencies","public","targetVersions","supportedTargets","preferredEditor","languageRestriction","additionalFilePath","additionalFilePaths"];class f{constructor(e,t,r,n,i){this.id=e,this._verspec=t,this.parent=r,this.depName=i,this.level=-1,this.isLoaded=!1,this.ignoreTests=!1,this.cppOnly=!1,n&&(this.level=n.level+1),this.addedBy=[n]}static stringifyConfig(e){var t,r,n=e,i={};for(t of a)n.hasOwnProperty(t)&&(i[t]=n[t]);for(r of Object.keys(n))i.hasOwnProperty(r)||(i[r]=n[r]);return JSON.stringify(i,null,4)+"\n"}static parseAndValidConfig(e){let t=m.Util.jsonTryParse(e);return t&&void 0!==t.name&&"string"==typeof t.name&&t.files&&Array.isArray(t.files)&&t.files.every(e=>"string"==typeof e)&&t.dependencies&&Object.keys(t.dependencies).every(e=>"string"==typeof t.dependencies[e])&&t}static async getConfigAsync(e,t,r){var n,i;if(m.github.isGithubId(r))return n=m.github.parseRepoId(r),i=await m.packagesConfigAsync(),await m.github.repoAsync(n.fullName,i)?await m.github.pkgConfigAsync(n.fullName,n.tag,i):null;if(r.startsWith("workspace:"))return r.slice("workspace:".length),null;if(!r.startsWith("pub:"))return n=m.patching.upgradePackageReference(e,t,r),i=m.appTarget.bundledpkgs[n],JSON.parse(i[m.CONFIG_NAME]);{let e=r.slice("pub:".length);try{var a=await m.Cloud.downloadScriptFilesAsync(e);return JSON.parse(a[m.CONFIG_NAME])}catch(e){return m.log(`Unable to fetch files for published script '${r}'`),null}}}static corePackages(){let t=m.appTarget.bundledpkgs;return Object.keys(t).map(e=>JSON.parse(t[e][m.CONFIG_NAME])).filter(e=>!!e)}disablesVariant(e){return this.config&&this.config.disablesVariants&&0<=this.config.disablesVariants.indexOf(e)}invalid(){return/^invalid:/.test(this.version())}version(){return this.resolvedVersion||this._verspec}verProtocol(){var e=this.version().split(":");return 1<e.length?e[0]:""}verArgument(){var e=this.verProtocol();return e?this.version().slice(e.length+1):this.version()}targetVersion(){return this.parent&&this.parent!=this?this.parent.targetVersion():this.config.targetVersions?this.config.targetVersions.target:void 0}async commonDownloadAsync(){var e,t=this.verProtocol();let r;return"pub"==t?r=await m.Cloud.downloadScriptFilesAsync(this.verArgument()):"github"==t?(e=await m.packagesConfigAsync(),e=await m.github.downloadPackageAsync(this.verArgument(),e),r=e.files):"embed"==t?r=m.getEmbeddedScript(this.verArgument()):"pkg"==t&&(e=(this.parent||this).readFile(this.verArgument()),(t=m.U.jsonTryParse(e))||m.log("unable to find "+this.verArgument()),r=t),r}writeAssetPackFiles(){var e,t=JSON.parse(JSON.stringify(this.config));t.files=t.files.filter(e=>e.endsWith(".jres")),t.files.push("gallery.ts"),t.dependencies={},t.assetPack=!0,this.config=t,this.saveConfig();let r="";for(e of t.files){var n,i=this.readFile(e),i=m.U.jsonTryParse(i);i&&([i,n]=m.emitGalleryDeclarations(i,this.getNamespaceName()),this.writeFile(e,JSON.stringify(i,null,4)),r+=n)}this.writeFile("gallery.ts",r)}getNamespaceName(){let e=this,t=e.addedBy[0];for(var r=[];t&&t!==e;)e.depName&&r.push(e.depName),t=(e=t).addedBy[0];return r.reverse().map(e=>ts.pxtc.escapeIdentifier(e)).join(".")}host(){return this.parent._host}readFile(e){return this.host().readFile(this,e)}writeFile(e,t){this.host().writeFile(this,e,t,!0)}readGitJson(){var e=this.readFile(m.github.GIT_JSON);return m.Util.jsonTryParse(e)}resolveDep(e){return this.parent.deps.hasOwnProperty(e)?this.parent.deps[e]:null}saveConfig(){var e=m.U.clone(this.config),e=(delete e.additionalFilePaths,m.Package.stringifyConfig(e));this.host().writeFile(this,m.CONFIG_NAME,e)}setPreferredEditor(e){this.config.preferredEditor!=e&&(this.config.preferredEditor=e,this.saveConfig())}getPreferredEditor(){var e,t=this.config.preferredEditor;return t||(!(0<=this.getFiles().indexOf(m.MAIN_BLOCKS))||(t=this.readFile(m.MAIN_BLOCKS),e=this.readFile(m.MAIN_TS),!t&&e)?m.JAVASCRIPT_PROJECT_NAME:m.BLOCKS_PROJECT_NAME)}parseJRes(e={}){for(var t of this.getFiles())m.U.endsWith(t,".jres")&&r(JSON.parse(this.readFile(t)),e);return e}isAssetPack(){var e;return 0<this.level&&!(null==(e=this.config)||!e.assetPack)}resolveVersionAsync(){let e,r=this._verspec;if(m.getEmbeddedScript(this.id))this.resolvedVersion=r="embed:"+this.id;else if(r&&"*"!=r){if("github"==this.verProtocol()){let t=m.github.parseRepoId(this._verspec);var n;t&&!t.tag&&this.parent&&(m.debug("dep: unbound github extensions, trying to resolve tag"),n=m.semver.sortLatestTags(m.Util.values((null==(e=this.parent)?void 0:e.deps)||{}).map(e=>m.github.parseRepoId(e.version())).filter(e=>(null==e?void 0:e.slug)===t.slug).map(e=>e.tag))[0])&&(t.tag=n,this.resolvedVersion=r=m.github.stringifyRepo(t),m.debug(`dep: github patched ${this._verspec} to `+r))}}else this.configureAsInvalidPackage(lf("version not specified for {0}",this.id)),r=this._verspec;return Promise.resolve(r)}downloadAsync(){return this.resolveVersionAsync().then(e=>{if(this.invalid())m.debug("skip download of invalid package "+this.id);else if(/^embed:/.test(e)||this.installedVersion!=e)return m.debug("downloading "+e),this.host().downloadPackageAsync(this).then(()=>{this.loadConfig(),this.isAssetPack()&&this.writeAssetPackFiles(),m.debug(`installed ${this.id} /`+e)})})}loadConfig(){var e;0!=this.level&&this.invalid()||((e=this.readFile(m.CONFIG_NAME))||m.U.userError(`extension ${this.id} is missing `+m.CONFIG_NAME),this.parseConfig(e),0!=this.level&&(this.installedVersion=this.version()),this.saveConfig())}validateConfig(){this.config.dependencies||m.U.userError("Missing dependencies in config of: "+this.id),Array.isArray(this.config.files)||m.U.userError("Missing files in config of: "+this.id),"string"==typeof this.config.name&&this.config.name||(this.config.name=lf("Untitled")),this.config.targetVersions&&this.config.targetVersions.target&&this.config.targetVersions.targetId===m.appTarget.id&&m.appTarget.versions&&0<m.semver.majorCmp(this.config.targetVersions.target,m.appTarget.versions.target)&&m.U.userError(lf("{0} requires target version {1} (you are running {2})",this.config.name,this.config.targetVersions.target,m.appTarget.versions.target))}isPackageInUse(r,e=this.readFile(m.MAIN_TS)){let n=null;var t=m.patching.computePatches(this.targetVersion(),"missingPackage");return t&&t.forEach(t=>{Object.keys(t.map).forEach(e=>{t.map[e]===r&&(n=new RegExp(e,"g"))})}),(n=n||new RegExp(r+"\\.","g")).test(e)}upgradePackagesAsync(){return this.config||this.loadConfig(),m.packagesConfigAsync().then(async n=>{let i=0,a={},e=[];return m.U.iterMap(this.config.dependencies,(t,r)=>{e.push((async()=>{var e;m.github.isGithubId(r)&&(e=await m.github.upgradedPackageReferenceAsync(n,r))&&e!=r&&(m.log(`upgrading dep ${t}: ${r} -> `+e),a[r]=e,this.config.dependencies[t]=e,i++)})())}),await Promise.all(e),i&&this.saveConfig(),i&&a})}getMissingPackages(i,a){var e=m.patching.computePatches(this.targetVersion(),"missingPackage");let s={};return a&&e&&e.forEach(n=>{Object.keys(n.map).forEach(e=>{var t=new RegExp(e,"g");let r=n.map[e];a.replace(t,e=>(i.dependencies[r]||(s[r]="*"),""))})}),s}findConflictsAsync(e,u){let d=[],p;return Promise.resolve().then(()=>"string"==typeof e?f.getConfigAsync(this.targetVersion(),e,u):Promise.resolve(e)).then(e=>{if(p=e){let l=p.yotta?m.U.jsonFlatten(p.yotta.config):null;this.parent.sortedDeps().forEach(t=>{var r,n;if(p.core&&t.config.core&&p.name!=t.config.name)(n=new m.cpp.PkgConflictError(lf("conflict between core extensions {0} and {1}",p.name,t.id))).pkg0=t,d.push(n);else{let e=!1;if(l){var i=t.config||JSON.parse(t.readFile(m.CONFIG_NAME));if(!!i&&!!i.yotta&&!!t.config.yotta.config){var a,s=m.U.jsonFlatten(i.yotta.config);for(a of Object.keys(l)){var o=s[a],c=p.yotta.configIsJustDefaults||i.yotta.configIsJustDefaults;!s.hasOwnProperty(a)||o===l[a]||c||t.parent.config.yotta&&t.parent.config.yotta.ignoreConflicts||((o=new m.cpp.PkgConflictError(lf("conflict on yotta setting {0} between extensions {1} and {2}",a,p.name,t.id))).pkg0=t,o.settingName=a,d.push(o),e=!0)}}}e||p.name!==t.id||t._verspec===u||/^file:/.test(t._verspec)||/^file:/.test(u)||(n=/^github:/.test(t._verspec)&&m.github.parseRepoId(t._verspec),r=/^github:/.test(u)&&m.github.parseRepoId(u),n&&r&&n.fullName===r.fullName&&!(r.tag&&m.semver.strcmp(n.tag,r.tag)<0))||((n=new m.cpp.PkgConflictError(lf("version mismatch for extension {0} (added: {1}, adding: {2})",t.id,t._verspec,u))).pkg0=t,n.isVersionConflict=!0,d.push(n))}})}return Object.keys(null!=(e=null==p?void 0:p.dependencies)?e:{}).reduce((e,t)=>e.then(()=>this.findConflictsAsync(t,p.dependencies[t])).then(e=>d.push.apply(d,e)),Promise.resolve())}).then(()=>{let n=e=>{let t=[];return e.addedBy.forEach(e=>{e.id!==this.id&&(t.push.apply(n(e)),t.push(e))}),t},e=[];return d.forEach(r=>{e.push.apply(e,n(r.pkg0).map(e=>{var t=new m.cpp.PkgConflictError(r.isVersionConflict?lf("a dependency of {0} has a version mismatch with extension {1} (added: {1}, adding: {2})",e.id,p.name,r.pkg0._verspec,u):lf("conflict on yotta setting {0} between extensions {1} and {2}",r.settingName,p.name,r.pkg0.id));return t.pkg0=e,t}))}),d.push.apply(d,e),d=d.filter((t,r)=>{for(let e=0;e<r;++e)if(t.pkg0.id===d[e].pkg0.id)return!1;return!0})})}configureAsInvalidPackage(e){m.log(`invalid package ${this.id}: `+e),this._verspec="invalid:"+this.id,this.config={name:this.id,description:e,dependencies:{},files:[]}}parseConfig(e,t){try{var r=JSON.parse(e);this.config=r}catch(e){this.configureAsInvalidPackage(lf("Syntax error in pxt.json")),m.tickEvent("package.invalidConfigEncountered")}var n,e=JSON.stringify(this.config);for(n in this.config.dependencies){var i=m.patching.upgradePackageReference(this.targetVersion(),n,this.config.dependencies[n]);i!=n&&(delete this.config.dependencies[n],i)&&(this.config.dependencies[i]="*")}t&&(this.config.targetVersions={target:t}),JSON.stringify(this.config)!=e&&this.saveConfig(),this.validateConfig()}patchCorePackage(){m.Util.assert(m.appTarget.simulator&&m.appTarget.simulator.dynamicBoardDefinition),m.Util.assert(0==this.level);var e,t=Object.keys(this.config.dependencies).filter(e=>!!e&&(e==m.BLOCKS_PROJECT_NAME||e==m.JAVASCRIPT_PROJECT_NAME||JSON.parse((m.appTarget.bundledpkgs[e]||{})[m.CONFIG_NAME]||"{}").core));0==t.length?(e=m.Package.corePackages()).length&&this.config.dependencies[e[0].name]:1<t.length&&(t.pop(),t.forEach(e=>{m.log("removing core package "+e),delete this.config.dependencies[e]}))}resolvedDependencies(){return Object.keys(this.dependencies()).map(e=>this.resolveDep(e))}dependencies(e=!1){if(!this.config)return{};let r=m.Util.clone(this.config.dependencies||{});return 0==this.level&&this.config.testDependencies&&m.Util.iterMap(this.config.testDependencies,(e,t)=>{"*"==t&&!m.appTarget.bundledpkgs[e]||(r[e]=t)}),e&&this.config.cppDependencies&&m.Util.jsonMergeFrom(r,this.config.cppDependencies),r}async loadAsync(l=!1,e){if(!this.isLoaded){0!=this.level||m.appTarget.multiVariants||m.setAppTargetVariant(null),this.isLoaded=!0;var r,n=this.readFile(m.CONFIG_NAME);if(null==n?l||m.U.userError("Package not installed: "+this.id+", did you forget to run `pxt install`?"):this.parseConfig(n),l||await this.upgradePackagesAsync(),l&&(await this.downloadAsync(),0!==this.level)&&!this.isAssetPack())for(var i of this.addedBy)if(null!=(i=i.config.assetPacks)&&i[this.id]){this.writeAssetPackFiles();break}l&&(n=await this.upgradePackagesAsync())&&(Object.keys(n).forEach(e=>m.tickEvent("package.doubleload",{extension:e})),m.log("upgraded, downloading again"),m.debug(n),await this.downloadAsync()),m.appTarget.simulator&&m.appTarget.simulator.dynamicBoardDefinition&&(0==this.level&&this.patchCorePackage(),this.config.compileServiceVariant&&m.setAppTargetVariant(this.config.compileServiceVariant),0<=this.config.files.indexOf("board.json"))&&((n=m.appTarget.simulator.boardDefinition=JSON.parse(this.readFile("board.json"))).id=this.config.name,m.appTarget.appTheme.boardName=n.boardName||lf("board"),m.appTarget.appTheme.driveDisplayName=n.driveDisplayName||lf("DRIVE"),n=e=>{var t,r=/^pkg:\/\/(.*)/.exec(e);return r?(r=r[1],t=this.readFile(r),m.U.toDataUri(t,m.U.getMime(r))):e},"object"==typeof(r=m.appTarget.simulator.boardDefinition).visual)&&((r=r.visual).image=n(r.image),r.outlineImage=n(r.outlineImage));let c=(e,t)=>{if(m.debug(`version spec mismatch: ${e._verspec} != `+t),/^github:/.test(e._verspec)&&/^github:/.test(t)){var r=m.github.parseRepoId(e._verspec),n=m.github.parseRepoId(t);if(null!=r&&r.slug&&(null==r?void 0:r.slug)===(null==n?void 0:n.slug)){var r=(null==r?void 0:r.tag)||(null==(r=e.config)?void 0:r.version),i=n.tag;if(r&&!i)return void m.debug(`unversioned ${t}, using `+r);i=m.semver.strcmp(r,n.tag);if(0==i)return void m.debug("resolved version are "+r);if(0<i)return void m.debug(`auto-upgraded ${t} to `+r)}}/^file:/.test(e._verspec)||/^file:/.test(t)?m.debug("ignore file: mismatch issues"):e.configureAsInvalidPackage(lf("version mismatch"))},t=async(n,i,a=!1)=>{n=n||i.dependencies(a),m.debug(`deps: ${i.id}->`+Object.keys(n).join(", ")),n=m.github.resolveMonoRepoVersions(n),m.debug(`deps: resolved ${i.id}->`+Object.keys(n).join(", "));for(var s of Object.keys(n)){let e=n[s]||"*",t=(m.debug(`dep: load ${i.id}.${s}${a?"++":""}: `+e),"hw"==s&&m.hwVariant&&(s="hw---"+m.hwVariant),m.github.parseRepoId(e));var o;null!=t&&t.slug&&(o=Object.values(i.parent.deps).map(e=>m.github.parseRepoId(e._verspec)).filter(e=>(null==e?void 0:e.slug)===t.slug).map(e=>e.tag).reduce((e,t)=>0<m.semver.strcmp(e,t)?e:t,"0.0.0"),m.debug(`dep: common repo ${t.slug} version found `+o),0<m.semver.strcmp(o,"0.0.0"))&&(!t.tag||0<m.semver.strcmp(o,t.tag))&&(m.debug(`dep: upgrade from ${t.tag} to `+o),t.tag=o,e=m.github.stringifyRepo(t,!0));let r=i.resolveDep(s);r?(r.invalid()||r._verspec===e||c(r,e),!r.invalid()&&a||(r.level=Math.min(r.level,i.level+1),r.addedBy.push(i))):(r=new f(s,e,i.parent,i,s),a&&(r.cppOnly=!0),i.parent.deps[s]=r,await(i.parent.deps[s.replace(/---.*/,"")]=r).loadAsync(l))}};if(await t(null,this),this.patchAppTargetPalette(),this.config.screenSize&&m.appTarget.runtime&&(m.appTarget.runtime.screenSize=m.U.clone(this.config.screenSize)),0===this.level){n=this.readFile(m.MAIN_TS);if(n){var a,s=this.getMissingPackages(this.config,n);let e=!1;for(a of Object.keys(s)){var o,u=await this.findConflictsAsync(a,s[a]);u.length?(o=u.map(e=>e.pkg0.id).join(", "),u=u.map(e=>e.settingName).filter(e=>!!e).join(", "),m.log(`skipping missing package ${a} because it conflicts with the following packages: ${o} (conflicting settings: ${u})`)):(m.log("adding missing package "+a),e=!0,this.config.dependencies[a]="*",(o={})[a]=s[a],await t(o,this))}e&&(this.saveConfig(),this.validateConfig())}await Promise.all(m.U.values(this.parent.deps).map(e=>t(null,e,!0)))}m.debug("  installed "+this.id)}}getFiles(){let e,t=(e=0!=this.level||this.ignoreTests?this.config.files.slice(0):this.config.files.concat(this.config.testFiles||[]),this.config.fileDependencies);return e=this.config.fileDependencies?e.filter(r=>{let n=e=>{var t;return"!"==(e=e.trim())[0]?!n(e.slice(1)):/^[\w-]+$/.test(e)?!(!(t=this.parent.resolveDep(e))||t.cppOnly):(t=/^target:(\w+)$/.exec(e))?t[1]==m.appTarget.id||t[1]==m.appTarget.platformid:(f.depWarnings[e]||(f.depWarnings[e]=!0,m.log(`invalid dependency expression: ${e} in ${this.id}/`+r)),!1)};var e=m.U.lookup(t,r);return!e||!e.trim()||e.split("||").some(e=>e.split("&&").every(n))}):e}addSnapshot(e,r=[""]){for(let t of this.getFiles())r.some(e=>m.U.endsWith(t,e))&&(e[this.id+"/"+t]=this.readFile(t));e[this.id+"/"+m.CONFIG_NAME]=this.readFile(m.CONFIG_NAME)}packageLocalizationStringsAsync(r){let n=m.appTarget.id;var e=[this.config.name+"-jsdoc",this.config.name];let i={};m.appTarget.appTheme;return this.config.skipLocalization?Promise.resolve(i):m.Util.liveLocalizationEnabled()&&"this"!=this.id&&m.appTarget.bundledpkgs[this.id]?(m.debug("loading live translations for "+this.id),Promise.all(e.map(t=>m.Util.downloadLiveTranslationsAsync(r,n+`/${t}-strings.json`).then(e=>{e&&Object.keys(e).length?m.Util.jsonMergeFrom(i,e):(m.tickEvent("translations.livetranslationsfailed",{filename:t}),m.Util.jsonMergeFrom(i,this.bundledStringsForFile(r,t)))}).catch(e=>{m.tickEvent("translations.livetranslationsfailed",{filename:t}),m.log(`error while downloading ${n}/${t}-strings.json`),m.Util.jsonMergeFrom(i,this.bundledStringsForFile(r,t))}))).then(()=>i)):(e.map(e=>this.bundledStringsForFile(r,e)).filter(e=>!!e).forEach(e=>m.Util.jsonMergeFrom(i,e)),Promise.resolve(i))}bundledStringsForFile(t,e){let r={};var[n,i,a]=m.Util.normalizeLanguageCode(t),s=this.config.files;let o=`_locales/${n}/${e}-strings.json`;if(a&&-1===s.indexOf(o)&&(o=`_locales/${a}/${e}-strings.json`),i&&-1===s.indexOf(o)&&(o=`_locales/${i}/${e}-strings.json`),-1<s.indexOf(o))try{r=JSON.parse(this.readFile(o))}catch(e){m.reportError("extension","Extension localization JSON failed to parse",{fileName:o,lang:t,extension:this.verArgument()}),"github"===this.verProtocol()&&m.tickEvent("loc.errors.json",{repo:this.verArgument(),file:o})}return r}patchAppTargetPalette(){this.config.palette&&m.appTarget.runtime&&(m.appTarget.runtime.palette=m.U.clone(this.config.palette),this.config.paletteNames)&&(m.appTarget.runtime.paletteNames=this.config.paletteNames)}}f.depWarnings={},m.Package=f;class e extends f{constructor(e){super("this","file:.",null,null,null),this._host=e,this.deps={},(this.parent=this).addedBy=[this],this.level=0,this.deps[this.id]=this}installAllAsync(e){return this.loadAsync(!0,e)}sortedDeps(r=!1){let n={},i=[],a=e=>e.config?Object.keys(e.config.cppDependencies||{}).length:0,s=e=>{var t;e&&!m.U.lookup(n,e.id)&&(n[e.id]=!0,(t=Object.keys(e.dependencies(r)).map(e=>this.resolveDep(e))).sort((e,t)=>a(t)-a(e)||m.U.strcmp(e.id,t.id)),t.forEach(s),i.push(e.id))};return s(this),i.map(e=>this.resolveDep(e))}localizationStringsAsync(t){let r={};return Promise.all(m.Util.values(this.deps).map(e=>e.packageLocalizationStringsAsync(t).then(t=>{t&&Object.keys(t).forEach(e=>{r[e]||(r[e]=t[e])})}))).then(()=>{let t=m.U.getLocalizedStrings();return Object.keys(r).forEach(e=>{!m.U.startsWith(e,"{id:subcategory}")&&!m.U.startsWith(e,"{id:group}")||t[e]||(t[e]=r[e])}),m.U.setLocalizedStrings(t),Promise.resolve(r)})}getTargetOptions(){let t=m.U.clone(m.appTarget.compile);return m.U.assert(!!t),t.utf8||this.sortedDeps(!0).forEach(e=>{e.config&&e.config.utf8&&(m.debug("forcing utf8 mode: pkg="+e.id),t.utf8=!0)}),t}getJRes(){if(!this._jres){this._jres={};for(var e of this.sortedDeps())e.parseJRes(this._jres);var t=(m.appTarget.runtime&&m.appTarget.runtime.palette?m.appTarget.runtime.palette:["#000000","#ffffff"]).map(e=>("000000"+parseInt(e.replace(/#/,""),16).toString(16)).slice(-6)).join("");this._jres.__palette={id:"__palette",data:t,dataEncoding:"hex",mimeType:"application/x-palette"}}return this._jres}updateJRes(){this._jres&&this.parseJRes(this._jres)}resolveBannedCategories(){if(void 0===this._resolvedBannedCategories){let t=[];m.appTarget&&m.appTarget.runtime&&m.appTarget.runtime.bannedCategories&&m.appTarget.runtime.bannedCategories.length&&(t=m.appTarget.runtime.bannedCategories.slice(),Object.keys(this.deps).map(e=>this.deps[e]).filter(e=>!!e).map(e=>m.Util.jsonTryParse(e.readFile(m.CONFIG_NAME))).filter(e=>e&&e.requiredCategories).forEach(e=>e.requiredCategories.forEach(e=>{e=t.indexOf(e);-1<e&&t.splice(e,1)})),this._resolvedBannedCategories=t),this._resolvedBannedCategories=t,this._resolvedBannedCategories.length||(this._resolvedBannedCategories=null)}return this._resolvedBannedCategories}async getCompileOptionsAsync(i=this.getTargetOptions()){let e,n={sourceFiles:[],fileSystem:{},target:i,name:this.config?this.config.name:""},a=(e,t)=>{this.config.files.indexOf(e)<0&&m.U.userError(lf("please add '{0}' to \"files\" in {1}",e,m.CONFIG_NAME)),t="// Auto-generated. Do not edit.\n"+t+"\n// Auto-generated. Do not edit. Really.\n",this.host().readFile(this,e,!0)!==t&&(m.debug(`updating ${e} (size=${t.length})...`),this.host().writeFile(this,e,t,!0))},s=m.appTarget.disabledVariants,o=!1,c=async e=>{var t={extinfo:null,target:null},r=m.appTargetVariant;e&&m.setAppTargetVariant(e,{temporary:!0});let n;try{t.target=m.appTarget.compile,n=m.cpp.getExtensionInfo(this),o||!n.shimsDTS&&!n.enumsDTS||(o=!0,n.shimsDTS&&a("shims.d.ts",n.shimsDTS),n.enumsDTS&&a("enums.d.ts",n.enumsDTS))}finally{e&&m.setAppTargetVariant(r,{temporary:!0})}n.appVariant=e;r=i.isNative?await this.host().getHexInfoAsync(n):null;return n=m.U.flatClone(n),i.keepCppFiles||(delete n.compileData,delete n.generatedFiles,delete n.extensionFiles),n.hexinfo=r,t.extinfo=n,t};await this.loadAsync(),n.bannedCategories=this.resolveBannedCategories(),m.debug("building: "+this.sortedDeps().map(e=>null==(e=e.config)?void 0:e.name).join(", "));let l,u=(m.appTarget.multiVariants?(l=m.appTargetVariant?[m.appTargetVariant]:m.appTarget.alwaysMultiVariant||m.appTarget.compile.switches.multiVariant?m.appTarget.multiVariants:[m.appTarget.multiVariants[0]],!m.appTarget.alwaysMultiVariant&&s&&(l=l.filter(e=>!s.includes(e)))):l=[null],null);var t,r,d;await Promise.all(l.map(async e=>{u&&m.debug("building for "+e);var t=await c(e),r=t.extinfo;r.appVariant=e,r.outputPrefix=1!=l.length&&e?e+"-":"",-1<(null==s?void 0:s.indexOf(e))&&(r.disabledDeps=r.disabledDeps||"user-disabled"),u?n.otherMultiVariants.push(t):(t.target.isNative=n.target.isNative,n.target=t.target,u=r,n.otherMultiVariants=[])})),n.extinfo=u,n.target.preferredEditor=this.getPreferredEditor(),!(m.appTarget.compile.shortPointers||"vm"==m.appTarget.compile.nativeType||this.config.binaryonly||!n.target.isNative)&&(t=await this.filesToBePublishedAsync(!0),_=JSON.stringify({name:this.config.name,comment:this.config.description,status:"unpublished",scriptId:this.installedVersion,cloudId:m.CLOUD_ID+m.appTarget.id,editor:this.getPreferredEditor(),targetVersions:m.appTarget.versions}),t=JSON.stringify(t),r=await m.lzmaCompressAsync(_+t))&&(n.embedMeta=JSON.stringify({compression:"LZMA",headerSize:_.length,textSize:t.length,name:this.config.name,eURL:m.appTarget.appTheme.embedUrl,eVER:m.appTarget.versions?m.appTarget.versions.target:"",pxtTarget:m.appTarget.id}),n.embedBlob=ts.pxtc.encodeBase64(m.U.uint8ArrayToString(r)));for(d of this.sortedDeps())for(var p of d.getFiles())if(/\.(ts|asm|py)$/.test(p)){let e=p;0<d.level&&(e="pxt_modules/"+d.id+"/"+p),n.sourceFiles.push(e),n.fileSystem[e]=d.readFile(p)}n.jres=this.getJRes();var f,_=m.appTarget.runtime&&m.appTarget.runtime.functionsOptions;n.allowedArgumentTypes=_&&_.extraFunctionEditorTypes&&_.extraFunctionEditorTypes.map(e=>e.typeName).concat("number","boolean","string"),n.unfetteredInitializers=null==(e=m.appTarget.compile)?void 0:e.unfetteredInitializers;for(f of this.sortedDeps())f.patchAppTargetPalette();return this.patchAppTargetPalette(),n}prepareConfigToBePublished(){let i=m.U.clone(this.config);return delete i.installedVersion,delete i.additionalFilePath,delete i.additionalFilePaths,i.targetVersions||(i.targetVersions=m.Util.clone(m.appTarget.versions)),m.U.iterMap(i.dependencies,(e,t)=>{if(!t||/^(file|workspace):/.test(t)){t="*";try{var r,n=this.resolveDep(e).readGitJson();n&&n.repo&&((r=m.github.parseRepoId(n.repo)).tag=n.commit.tag||n.commit.sha,t=m.github.stringifyRepo(r))}catch(e){}i.dependencies[e]=t}}),i.files=i.files.filter(e=>e!==m.HISTORY_FILE),i}filesToBePublishedAsync(n=!1){let i={};return this.loadAsync().then(()=>{n||this.config.public||m.U.userError('Only packages with "public":true can be published');var e,t,r=this.prepareConfigToBePublished();i[m.CONFIG_NAME]=m.Package.stringifyConfig(r);for(e of this.getFiles())e!==m.CONFIG_NAME&&e!==m.HISTORY_FILE&&(null==(t=this.readFile(e))&&m.U.userError("referenced file missing: "+e),i[e]=t);return m.U.sortObjectFields(i)})}saveToJsonAsync(){return this.filesToBePublishedAsync(!0).then(e=>({meta:{cloudId:m.CLOUD_ID+m.appTarget.id,targetVersions:m.appTarget.versions,editor:this.getPreferredEditor(),name:this.config.name},source:JSON.stringify(e,null,2)}))}compressToFileAsync(){return this.saveToJsonAsync().then(e=>m.lzmaCompressAsync(JSON.stringify(e,null,2)))}computePartDefinitions(n){if(!n||!n.length)return{};let i={};return this.sortedDeps().forEach(r=>{var t=r.readFile("pxtparts.json");if(t)try{let e=JSON.parse(t);Object.keys(e).forEach(t=>{if(0<=n.indexOf(t)){t=i[t]=e[t];if("string"==typeof t.visual.image&&/\.svg$/i.test(t.visual.image)){let e=r.readFile(t.visual.image);e||m.reportError("parts","invalid part definition",{error:"missing visual "+t.visual.image}),/^data:image\/svg\+xml/.test(e)||(e="data:image/svg+xml,"+encodeURIComponent(e)),t.visual.image=e}}})}catch(e){m.reportError("parts","invalid pxtparts.json file")}}),i}}function r(n,i={}){var a,s=n["*"]||{};for(a of Object.keys(n))if("*"!=a){let e=n[a],t=(e="string"==typeof e?{data:e}:e).namespace||s.namespace||"";t&&!t.endsWith(".")&&(t+=".");var o=e.id||t+a;let r=e.icon;var c=e.mimeType||s.mimeType,l=e.dataEncoding||s.dataEncoding||"base64";r||"base64"!=l||"image/png"!=c&&"image/jpeg"!=c||(r="data:"+c+";base64,"+e.data),i[o]={id:o,data:e.data,dataEncoding:l,icon:r,namespace:t,mimeType:c,tilemapTile:e.tilemapTile,displayName:e.displayName,tileset:e.tileset,tags:e.tags}}return i}m.MainPackage=e,m.inflateJRes=r,m.allPkgFiles=function(e){return[m.CONFIG_NAME].concat(e.files||[]).concat(e.testFiles||[])},m.isPkgBeta=function(e){return e&&/\bbeta\b/.test(e.description)}})(pxt=pxt||{}),(c=>{{var l=c.packetio||(c.packetio={});let n,r,i=()=>{},a,s;l.isActive=function(){return!!n},l.isConnected=function(){return!(null==n||!n.isConnected())},l.isConnecting=function(){return!(null==n||!n.isConnecting())},l.icon=function(){var e;return!!n&&(n.icon||(null==(e=c.appTarget.appTheme.downloadDialogTheme)?void 0:e.deviceIcon)||"usb")},l.unsupportedParts=function(){return null!=n&&n.unsupportedParts?n.unsupportedParts():[]},l.deviceVariant=function(){return null==n?void 0:n.devVariant};let o;function u(){if(o)return o;let t=Promise.resolve();if(n){c.debug("packetio: disconnect");let e=n;t=t.then(()=>e.disconnectAsync()).then(()=>e.io.disposeAsync()).catch(e=>{c.reportException(e)}).finally(()=>{r=void 0,n=void 0,o=void 0}),i&&(t=t.then(()=>i())),o=t}return t}l.disconnectAsync=u,l.configureEvents=function(e,t,r){i=e,a=t,s=r,n&&(n.io.onConnectionChanged=i,n.onSerial=a,n.onCustomEvent=r)},l.sendCustomEventAsync=function(e,t){return n?n.sendCustomEventAsync(e,t):Promise.resolve()},l.initAsync=function(t=!1){if(c.debug("packetio: init "+(t?"(force)":"")),!r){let e=Promise.resolve();t&&(e=e.then(()=>u())),r=e.then(()=>n?Promise.resolve(n):l.mkPacketIOAsync?(c.debug("packetio: new wrapper"),l.mkPacketIOAsync().then(e=>(e.onConnectionChanged=i,n=l.mkPacketIOWrapper(e),a&&(n.onSerial=a),s&&(n.onCustomEvent=s),i&&i(),n))):(c.debug("packetio: not defined, skipping"),Promise.resolve(void 0))).finally(()=>{r=void 0})}return r}}})(pxt=pxt||{}),(a=>{var e;function n(e,t,r){let n=a.semver.tryParse(e||"0.0.0")||a.semver.tryParse("0.0.0"),i=[];return Object.keys(t).filter(e=>a.semver.inRange(e,n)).forEach(e=>i=i.concat(t[e])),(i=r?i.filter(e=>e.type==r):i).length?i:void 0}function r(e,t,r){let n=t;return r&&(r.filter(e=>"api"===e.type).forEach(r=>{Object.keys(r.map).forEach(e=>{var t=new RegExp(e,"g");n=n.replace(t,r.map[e])})}),r.filter(e=>"userenum"===e.type).forEach(r=>{Object.keys(r.map).forEach(e=>{var t=new RegExp("enum\\s+"+e+"\\s*{","gm"),t=(n=n.replace(t,`enum ${r.map[e]} {`),new RegExp(`(^|[^_a-zA-Z0-9])${e}(\\s*\\.)`,"g"));n=n.replace(t,`$1${r.map[e]}$2`)})})),n}(e=a.patching||(a.patching={})).computePatches=function(e,t){var r=a.appTarget.compile?a.appTarget.compile.patches:void 0;if(r)return n(e,r,t)},e.computePyPatches=function(e,t){var r=a.appTarget.compile?a.appTarget.compile.pyPatches:void 0;if(r)return n(e,r,t)},e.upgradePackageReference=function(e,t,r){if("*"!=r)return t;r=a.patching.computePatches(e,"package");let n=t;return r&&r.forEach(t=>{Object.keys(t.map).forEach(e=>{n==e&&(n=t.map[e])})}),n},e.patchJavaScript=function(e,t){return r(0,t,a.patching.computePatches(e))},e.patchPython=function(e,t){return r(0,t,a.patching.computePyPatches(e))}})(pxt=pxt||{}),(e=>{e.react||(e.react={})})(pxt=pxt||{}),(s=>{var t;function a(r,n){if(r){if(n){let t=r.major-n.major||r.minor-n.minor||r.patch-n.patch;if(t)return t;if(0==r.pre.length&&0<n.pre.length)return 1;if(0<r.pre.length&&0==n.pre.length)return-1;for(let e=0;e<r.pre.length+1;++e){var i=r.pre[e],a=n.pre[e];if(!i)return a?-1:0;if(!a)return 1;if(/^\d+$/.test(i)){if(!/^\d+$/.test(a))return-1;if(t=parseInt(i)-parseInt(a))return t}else{if(/^\d+$/.test(a))return 1;if(t=s.U.strcmp(i,a))return t}}return 0}return-1}return n?1:0}function o(e,t){t=c(e)||c(t);return t||s.U.userError(s.U.lf("'{0}' doesn't look like a semantic version number",e)),t}function c(e){if(!e)return null;if("*"===e)return{major:Number.MAX_SAFE_INTEGER,minor:Number.MAX_SAFE_INTEGER,patch:Number.MAX_SAFE_INTEGER,pre:[],build:[]};/^v\d/i.test(e)&&(e=e.slice(1));e=/^(\d+)\.(\d+)\.(\d+)(-([0-9a-zA-Z\-\.]+))?(\+([0-9a-zA-Z\-\.]+))?$/.exec(e);return e?{major:parseInt(e[1]),minor:parseInt(e[2]),patch:parseInt(e[3]),pre:e[5]?e[5].split("."):[],build:e[7]?e[7].split("."):[]}:null}function l(e){let t=e.major+"."+e.minor+"."+e.patch;return e.pre.length&&(t+="-"+e.pre.join(".")),e.build.length&&(t+="+"+e.build.join(".")),t}function r(e,t){var r=c(e),n=c(t);return r||n?a(r,n):s.U.strcmp(e,t)}function u(e,t){var r,e=e.split(" - ");return 2==e.length&&(r=c(e[0]),e=c(e[1]),!(!r||!e))&&(!t||(r=a(r,t),t=a(t,e),r<=0&&t<0))}(t=s.semver||(s.semver={})).cmp=a,t.parse=o,t.tryParse=c,t.normalize=function(e){return l(o(e))},t.stringify=l,t.majorCmp=function(e,t){return e=c(e),t=c(t),e.major-t.major},t.strcmp=r,t.inRange=u,t.sortLatestTags=function(e){return(e=e.filter(e=>!!t.tryParse(e))).sort(r),e.reverse(),e},t.bump=function(e,t){let r=o(l(e));switch(t){case"major":r.major++,r.minor=0,r.patch=0;break;case"minor":r.minor++,r.patch=0;break;case"patch":r.patch++;break;default:r=s.semver.parse(t)}return r},t.test=function(){s.log("Test semver");var r=["0.9.0","1.0.0-0.3.7","1.0.0-alpha","1.0.0-alpha.1","1.0.0-alpha.beta","1.0.0-beta","1.0.0-beta.2","1.0.0-beta.11","1.0.0-rc.1","1.0.0-x.7.z.92","1.0.0","1.0.1","1.9.0","1.10.0","1.11.0"];for(let t=0;t<r.length;++t){var n=o(r[t]);s.log(r[t],n),s.U.assert(l(n)==r[t]);for(let e=0;e<r.length;++e){var i=a(n,o(r[e]));s.log(r[t],r[e],i),t<e?s.U.assert(i<0):t>e?s.U.assert(0<i):s.U.assert(0==i)}}var e=c("1.2.3");s.U.assert(u("0.1.2 - 2.2.3",e)),s.U.assert(u("1.2.3 - 2.2.3",e)),s.U.assert(!u("0.0.0 - 1.2.3",e)),s.U.assert(!u("1.2.4 - 4.2.3",e)),s.U.assert(!u("0.0.0 - 0.0.1",e))}})(pxt=pxt||{}),(e=>{var u;{var S=e.pxtc||(e.pxtc={});function t(e){return S.Util.values(e.byQName).filter(e=>e.attributes.block&&/^{[^:]+:[^}]+}/.test(e.attributes.block)).forEach(e=>{e.attributes.block=e.attributes.block.replace(/^{[^:]+:[^}]+}/,"")}),e}S.assert=S.Util.assert,S.oops=S.Util.oops,S.U=S.Util,S.ON_START_TYPE="pxt-on-start",S.ON_START_COMMENT="on start",S.HANDLER_COMMENT="code goes here",S.TS_STATEMENT_TYPE="typescript_statement",S.TS_DEBUGGER_TYPE="debugger_keyword",S.TS_BREAK_TYPE="break_keyword",S.TS_CONTINUE_TYPE="continue_keyword",S.TS_OUTPUT_TYPE="typescript_expression",S.TS_RETURN_STATEMENT_TYPE="function_return",S.PAUSE_UNTIL_TYPE="pxt_pause_until",S.COLLAPSED_BLOCK="pxt_collapsed_block",S.FUNCTION_DEFINITION_TYPE="function_definition",S.BINARY_JS="binary.js",S.BINARY_ASM="binary.asm",S.BINARY_HEX="binary.hex",S.BINARY_UF2="binary.uf2",S.BINARY_ELF="binary.elf",S.BINARY_PXT64="binary.pxt64",S.BINARY_ESP="binary.bin",S.BINARY_SRCMAP="binary.srcmap",S.NATIVE_TYPE_THUMB="thumb",S.NATIVE_TYPE_VM="vm",S.BLOCK_TRANSLATION_CACHE_KEY="_blocks",S.BuildSourceMapHelpers=function(i,t,r){let a={ts:(u=e=>{let t=e.split("\n").map(e=>e.length),r=t.reduce(({lens:e,sum:t},r)=>({lens:[...e,t+r+1],sum:t+r+1}),{lens:[],sum:0}).lens;return{posToLineCol:n=>{var e=r.reduce((e,t,r)=>n<t?e:r+1,0);return[e,t[e]-(r[e]-n)+1]},lineColToPos:(e,t)=>(r[e-1]||0)+t}})(t),py:u(r)},s=e=>e.endPos-e.startPos,n=(e,t)=>{let{startPos:r,endPos:n}=e;return i.filter(e=>e[t].startPos<=r&&n<=e[t].endPos)},o=(e,r)=>{e=n(e,r);return e.reduce((e,t)=>s(t[r])<s(e[r])?t:e,e[0])};const e={allOverlaps:e=>n(e,"ts"),smallestOverlap:e=>o(e,"ts")},c={allOverlaps:e=>n(e,"py"),smallestOverlap:e=>o(e,"py")};var l=(u=(n,i)=>e=>{e=e;var t,[e,r]=[a[n].lineColToPos(e.line,e.column),e.length],r=e+r,e=o({startPos:e,endPos:r},n);if(e)return[r,t]=a[i].posToLineCol(e[i].startPos),{fileName:"main."+i,start:e[i].startPos,length:s(e[i]),line:r,column:t}})("ts","py"),u=u("py","ts");return{ts:Object.assign(Object.assign(Object.assign({},a.ts),e),{locToLoc:l,getText:e=>t.substring(e.startPos,e.endPos)}),py:Object.assign(Object.assign(Object.assign({},a.py),c),{locToLoc:u,getText:e=>r.substring(e.startPos,e.endPos)})}},S.computeUsedParts=function(t,e,r=!1){if(!t.usedSymbols||!pxt.appTarget.simulator||!r&&!pxt.appTarget.simulator.parts)return[];let n=(e,t)=>{e&&(e=e.split(/[ ,]+/g),t.push(...e.filter(e=>!!e&&t.indexOf(e)<0)))},i=[],a=[];if(Object.keys(t.usedSymbols).forEach(e=>{e=t.usedSymbols[e];n(null==e?void 0:e.attributes.parts,i),n(null==e?void 0:e.attributes.hiddenParts,a)}),e){let t=pxt.appTarget.simulator.boardDefinition.onboardComponents;t&&("ignorebuiltin"===e?i=i.filter(e=>-1===t.indexOf(e)):"onlybuiltin"===e&&(i=i.filter(e=>0<=t.indexOf(e))))}return(i=i.filter(e=>a.indexOf(e)<0)).sort(),i=i.reverse()},S.buildSimJsInfo=function(e){return{js:e.outfiles[S.BINARY_JS],targetVersion:pxt.appTarget.versions.target,fnArgs:e.usedArguments,parts:S.computeUsedParts(e,"ignorebuiltin"),usedBuiltinParts:S.computeUsedParts(e,"onlybuiltin"),allParts:S.computeUsedParts(e,void 0,!0),breakpoints:null==(e=e.breakpoints)?void 0:e.map(e=>e.id)}},S.blocksCategory=function(e){return(e=e?e.attributes.blockNamespace||e.namespace:void 0)?S.Util.capitalize(e.split(".")[0]):void 0},S.getBlocksInfo=function(e,t){let r,n,f=[],_={},m={},g={};var i,a,s,o,c={},l={};function u(r,n){var i="get"==r,a="set"==r,s="number"==n.retType,o=i?m:a?_:g,c=n.namespace+"."+n.retType;let l=S.U.lookup(o,c);if(!l){var u=`@${r}@`;let e,t;n.attributes.blockCombineShadow&&(d=(p=n.attributes.blockCombineShadow).match(/^([^,.]*),?([^,.]*)$/))&&3==d.length&&(e=d[1].trim(),0!=(t=d[2].trim()).length||S.Util.endsWith(p,",")||(t=e,e=""));var d=(n.attributes.blockSetVariable||n.namespace.toLocaleLowerCase())+"="+(e||""),p="value="+(t||"");(l=o[c]={attributes:{blockId:`${s?n.namespace:c}_blockCombine_`+r,callingConvention:0,group:n.attributes.group,paramDefl:{},jsDoc:i?S.U.lf("Read value of a property on an object"):S.U.lf("Update value of property on an object")},name:u,namespace:n.namespace,fileName:n.fileName,qName:c+"."+u,pkg:n.pkg,kind:2,parameters:[{name:"property",description:i?S.U.lf("the name of the property to read"):S.U.lf("the name of the property to change"),isEnum:!0,type:"@combined@"},{name:"value",description:a?S.U.lf("the new value of the property"):S.U.lf("the amount by which to change the property"),type:n.retType}].slice(0,i?1:2),retType:i?n.retType:"void",combinedProperties:[]}).attributes.block=i?`%${d} %property`:a?S.U.lf("set %{0} %property to %{1}",d,p):S.U.lf("change %{0} %property by %{1}",d,p),C(l.attributes),pxt.Util.isTranslationMode()&&(l.attributes.translationId=l.attributes.block,l.attributes.block=i?`%${d} %property`:a?`set %${d} %property to %`+p:`change %${d} %property by %`+p,C(l.attributes),pxt.crowdin.inContextLoadAsync(l.attributes.translationId).then(e=>{l.attributes.block=e,C(l.attributes)})),f.push(l)}l.combinedProperties.push(n.qName)}for(i of S.Util.values(e.byQName)){if("ENUM_GET"===i.attributes.shim&&i.attributes.enumName&&i.attributes.blockId){let e=!1;if(c[i.attributes.enumName]&&(pxt.warn(`Enum block ${i.attributes.blockId} trying to overwrite enum `+i.attributes.enumName),e=!0),i.attributes.enumMemberName||(pxt.warn(`Enum block ${i.attributes.blockId} should specify enumMemberName`),e=!0),i.attributes.enumPromptHint||(pxt.warn(`Enum block ${i.attributes.blockId} should specify enumPromptHint`),e=!0),i.attributes.enumInitialMembers&&i.attributes.enumInitialMembers.length||(pxt.warn(`Enum block ${i.attributes.blockId} should specify enumInitialMembers`),e=!0),e)continue;var d=parseInt(i.attributes.enumStartValue);c[i.attributes.enumName]={blockId:i.attributes.blockId,name:i.attributes.enumName,memberName:i.attributes.enumMemberName,firstValue:isNaN(d)?void 0:d,isBitMask:i.attributes.enumIsBitMask,isHash:i.attributes.enumIsHash,initialMembers:i.attributes.enumInitialMembers,promptHint:i.attributes.enumPromptHint}}if("KIND_GET"===i.attributes.shim&&i.attributes.blockId){var p=i.attributes.kindNamespace||i.attributes.blockNamespace||i.namespace;if(l[p]){pxt.warn("More than one block defined for kind "+p);continue}var h=[];if(e.byQName[p])for(var y of S.Util.values(e.byQName))y.namespace===p&&y.attributes.isKind&&h.push(y.name);l[p]={blockId:i.attributes.blockId,name:p,memberName:i.attributes.kindMemberName||p,initialMembers:h,promptHint:i.attributes.enumPromptHint||S.Util.lf("Create a new kind..."),createFunctionName:i.attributes.kindCreateFunction||"create"}}if(i.attributes.blockCombine)/@set/.test(i.name)||u("get",i),i.isReadOnly||("number"==i.retType&&u("change",i),u("set",i));else if(i.attributes.block&&!i.attributes.fixedInstance&&7!=i.kind&&5!=i.kind&&9!=i.kind&&8!=i.kind&&!i.attributes.blockIdentity){if(i.attributes.blockId||(i.attributes.blockId=i.qName.replace(/\./g,"_")),"true"==i.attributes.block){let e=S.U.uncapitalize(i.name);1!=i.kind&&2!=i.kind||(e+=" %"+i.namespace.toLowerCase());for(a of null!=(n=null==(r=i.parameters)?void 0:r.filter(e=>!T(e)))?n:[])e+=" %"+a.name;i.attributes.block=e,C(i.attributes)}f.push(i)}}for(s of f){var v=S.U.lookup(e.byQName,s.namespace);if(v){var b,x=v.attributes,k=s.attributes;for(b of["blockNamespace","color","blockGap"])void 0===k[b]&&x[b]&&(k[b]=x[b])}}return{apis:e,blocks:f=t&&(o=t).length?f.filter(e=>{e=(e.attributes.blockNamespace||e.namespace).split(".")[0];return-1===o.indexOf(e)}):f,blocksById:pxt.Util.toDictionary(f,e=>e.attributes.blockId),enumsByName:c,kindsByName:l}},S.tsSnippetToPySnippet=function(e,t){var r={true:"True",false:"False",null:"None"}[e];return r||(t&&6==t.kind||!t&&e.includes(".")?(r=e.lastIndexOf("."),t=e.substr(0,r),r=e.substr(r+1),r=S.U.snakify(r).toUpperCase(),t?t+"."+r:r):e)},S.apiLocalizationStrings={},S.localizeApisAsync=async function(u,e){let d=S.Util.userLanguage();if("en"==d)return Promise.resolve(t(u));let p=d.toLowerCase(),f=p+"|jsdoc",_=p+"|block",m=await e.localizationStringsAsync(d);return S.apiLocalizationStrings&&S.Util.jsonMergeFrom(m,S.apiLocalizationStrings),e=S.Util.values(u.byQName).filter(e=>e.attributes._translatedLanguageCode!==d),await S.Util.promiseMapAll(e,async n=>{var e=n.attributes.useLoc||n.attributes.blockAliasFor;let i=e&&u.byQName[e],r=(n.attributes._untranslatedJsDoc&&(n.attributes.jsDoc=n.attributes._untranslatedJsDoc),n.attributes._untranslatedBlock&&(n.attributes.jsDoc=n.attributes._untranslatedBlock),(e,t)=>{var r;return m[n.qName+e]||(null==(r=n.attributes.locs)?void 0:r[t])||i&&(m[i.qName+e]||(null==(r=i.attributes.locs)?void 0:r[t]))});var e=r("",f),e=(e&&(n.attributes._untranslatedJsDoc||(n.attributes._untranslatedJsDoc=n.attributes.jsDoc),n.attributes.jsDoc=e),null!=(e=n.parameters)&&e.forEach(e=>{var t="|param|"+e.name,t=r(t,p+t);t&&(e.description=t)}),m["{id:category}"+S.Util.capitalize(n.qName)]);let t=m[n.qName+"|block"]||(null==(c=n.attributes.locs)?void 0:c[_]);if(n.attributes.block){var a,s,o,c=pxt.blocks.compileInfo(n);if(c.handlerArgs)for(var l of c.handlerArgs)m[l.localizationKey]?(o=s=a=void 0,a=l.localizationKey,s=m[l.localizationKey],(o=pxt.Util.translationsCache())[S.BLOCK_TRANSLATION_CACHE_KEY]||(o[S.BLOCK_TRANSLATION_CACHE_KEY]={}),o[S.BLOCK_TRANSLATION_CACHE_KEY][a]=s):(o=l.localizationKey,a=void 0,(a=pxt.Util.translationsCache())[S.BLOCK_TRANSLATION_CACHE_KEY]&&delete a[S.BLOCK_TRANSLATION_CACHE_KEY][o])}(t=!t&&i&&(c=m[i.qName+"|block"]||(null==(c=i.attributes.locs)?void 0:c[_]),n.attributes.block===(i.attributes._untranslatedBlock||i.attributes.block))&&c?c:t)&&pxt.Util.isTranslationMode()&&(n.attributes.translationId=t,t=await pxt.crowdin.inContextLoadAsync(t)),e?(n.attributes.block?n.attributes.block=t||n.attributes.block:n.attributes.block=e,C(n.attributes)):n.attributes.block&&t?(c=pxt.blocks.compileInfo(n),e=n.attributes.block,n.attributes.block=pxt.blocks.normalizeBlock(t,e=>{pxt.tickEvent("loc.normalized",{block:n.attributes.block,lang:d,error:e})}),n.attributes._untranslatedBlock||(n.attributes._untranslatedBlock=e),e!=n.attributes.block&&(C(n.attributes),((e,t)=>{if(e.parameters.length==t.parameters.length){for(var r of e.parameters){var n=t.actualNameToParam[r.actualName];if(!n||r.type!=n.type||r.shadowBlockId!=n.shadowBlockId||r.definitionName!=n.definitionName)return void pxt.debug(`Parameter ${r.actualName} type, shadow block, or definition name does not match after localization`)}return 1}pxt.debug("Localized block has extra or missing parameters")})(c,pxt.blocks.compileInfo(n))||(pxt.reportError("loc.errors","block has non matching arguments",{block:n.attributes.blockId,lang:d,originalDefinition:e,translatedBlock:n.attributes.block}),pxt.tickEvent("loc.errors",{block:n.attributes.blockId,lang:d}),n.attributes.block=e,C(n.attributes)))):C(n.attributes),n.attributes._translatedLanguageCode=d}),t(u)},S.getBlockTranslationsCacheKey=function(e){var t=pxt.Util.translationsCache();if(t[S.BLOCK_TRANSLATION_CACHE_KEY])return t[S.BLOCK_TRANSLATION_CACHE_KEY][e]},S.emptyExtInfo=function(){let e=pxt.appTarget.compileService;var t=!!(e=e||{}).platformioIni,r="dockermake"==e.buildEngine||"dockercross"==e.buildEngine||"dockerespidf"==e.buildEngine,n={functions:[],generatedFiles:{},extensionFiles:{},sha:"",compileData:"",shimsDTS:"",enumsDTS:"",onlyPublic:!0};return t?n.platformio={dependencies:{}}:r?n.npmDependencies={}:n.yotta={config:{},dependencies:{}},n};let n=["weight","imageLiteral","gridLiteral","topblockWeight","inlineInputModeLimit"],i=["advanced","handlerStatement","forceStatement","afterOnStart","optionalVariableArgs","blockHidden","constantShim","blockCombine","enumIsBitMask","enumIsHash","decompileIndirectFixedInstances","topblock","callInDebugger","duplicateShadowOnDrag","argsNullable","compileHiddenArguments","expandArgumentsInToolbox"];function T(e){return"Action"===e.type||/^\([^\)]*\)\s*=>/.test(e.type)}function C(r){var e;function t(e){return r._shadowOverrides&&e.parameters.forEach(e=>{var t=r._shadowOverrides[e.name];"unset"===t?delete e.shadowBlockId:null!=t&&(e.shadowBlockId=t)}),e}r.block&&(e=r.block.split("||"),r._def=t(a(e[0])),r._def||pxt.debug("Unable to parse block def for id: "+r.blockId),e[1]&&(r._expandedDef=t(a(e[1]))),e[1])&&!r._expandedDef&&pxt.debug("Unable to parse expanded block def for id: "+r.blockId)}function a(n){var i=[];let e,a=0;for(;a<n.length;a++){let t=n[a];var s=a;let r;switch(t){case"*":case"_":var o=h(e=>e==t),c="_"===t?2:0;1===o.length?r={kind:1<<c,content:o}:2===o.length?r={kind:2<<c,content:o}:3===o.length?r={kind:3<<c,content:o}:a=s;break;case"`":c=y("`");void 0===c?a=s:r={kind:256,content:c};break;case"|":r={kind:32};break;case"\\":a<n.length-1&&(r={kind:16,content:n[1+a++]});break;case"[":o=y("]");if(void 0!==o&&"("===n[1+a++]){var l=y(")");if(void 0!==l){r={kind:512,content:o,type:l};break}}a=s;break;case"$":case"%":var u,l=h(e=>/[a-zA-Z0-9_=]/.test(e),!0).split("=");if(2<l.length)a=s;else{let e;"("!==n[a+1]||(u=a,++a,e=y(")"))||(a=u),r={kind:"$"===t?1024:64,content:l[0],type:l[1],name:e}}}r?(e&&i.push({kind:128,content:e}),e=void 0,i.push(r)):e?e+=t:e=t}e&&i.push({kind:128,content:e});let r=[];var t=[];let d=[],p=0,f="",_=[];for(let e=0;e<i.length;e++){var m=i[e].kind,g=d[d.length-1];15&m?(x(i[e].content),m&p?g&m?(d.pop(),(g=g&(p^=m)|m&p)&&d.push(g)):v():(p|=m,d.push(m))):144&m?f+=i[e].content:1120&m&&b(),64==m?(g={kind:"param",name:i[e].content,shadowBlockId:i[e].type,ref:!1},i[e].name&&(g.varName=i[e].name),r.push(g),t.push(g)):1024==m?(g={kind:"param",name:i[e].content,shadowBlockId:i[e].type,ref:!0},i[e].name&&(g.varName=i[e].name),r.push(g),t.push(g)):256==m?(x(),_.push({kind:"image",uri:i[e].content})):512==m?(x(),_.push({kind:"label",text:i[e].content,cssClass:i[e].type})):32==m&&r.push({kind:"break"})}return b(),{parts:r,parameters:t};function h(e,t=!1){let r="";for(t&&a++;a<n.length&&e(n[a]);)r+=n[a],++a;return r&&a--,r}function y(t){var e=h(e=>e!==t,!0);if(n[a+1]===t)return++a,e}function v(){let e="";var t,r=[];for(t of _)t.kind?(r.push({content:e,styles:0}),r.push(t),e=""):(e+=t.content,t.endingToken&&(e+=t.endingToken));_=r,e&&_.push({content:e,styles:0}),d=[],p=0}function b(){for(x(),p&&v();_.length;){var e,t=_.shift();t.kind?r.push(t):t.content&&(e=[],10&t.styles&&e.push("bold"),5&t.styles&&e.push("italics"),r.push({kind:"label",text:t.content,style:e}))}}function x(e){_.push({content:f,styles:p,endingToken:e}),f=""}}function f(t){var r=e=>t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24)>>>0;if(!t||512!=t.length||r(0)!=u.UF2_MAGIC_START0||r(4)!=u.UF2_MAGIC_START1||r(t.length-4)!=u.UF2_MAGIC_END)return null;var e=r(8);let n=r(16),i=(476<n&&(n=256),null),a=0,s=0;if(e&u.UF2_FLAG_FILE){let e=t.slice(32+n);var o=e.indexOf(0);0<=o&&(e=e.slice(0,o)),i=S.U.fromUTF8Array(e),s=r(28)}return e&u.UF2_FLAG_FAMILY_ID_PRESENT&&(a=r(28)),{flags:e,targetAddr:r(12),payloadSize:n,blockNo:r(20),numBlocks:r(24),fileSize:s,familyId:a,data:t.slice(32,32+n),filename:i}}function s(e,t){return!!e&&e.targetAddr<=t&&t<e.targetAddr+e.payloadSize}function d(e,t,r){e[t]=255&r,e[t+1]=r>>8&255,e[t+2]=r>>16&255,e[t+3]=r>>24&255}function o(e){return{currBlock:null,currPtr:-1,blocks:[],ptrs:[],filesize:0,familyId:(e="string"==typeof e?parseInt(e):e)||0}}function c(t){for(let e=0;e<t.blocks.length;++e)d(t.blocks[e],20,e),d(t.blocks[e],24,t.blocks.length),t.filename&&d(t.blocks[e],28,t.filesize)}function p(t,e,r,n=0){let i=t.currBlock;var a=e>>8;let s=256-(255&e);if(r.length>s){var o=new Uint8Array(r);for(p(t,e,o.slice(0,s));s<r.length;){var c=Math.min(s+256,r.length);p(t,e+s,o.slice(s,c)),s=c}}else{if(a!=t.currPtr){i=null;for(let e=0;e<t.ptrs.length;++e)if(t.ptrs[e]==a){i=t.blocks[e];break}if(!i){i=new Uint8Array(512),t.filename?n|=u.UF2_FLAG_FILE:t.familyId&&(n|=u.UF2_FLAG_FAMILY_ID_PRESENT),d(i,0,u.UF2_MAGIC_START0),d(i,4,u.UF2_MAGIC_START1),d(i,8,n),d(i,12,a<<8),d(i,16,256),d(i,20,t.blocks.length),d(i,28,t.familyId),d(i,508,u.UF2_MAGIC_END);for(let e=32;e<288;++e)i[e]=255;t.filename&&S.U.memcpy(i,288,S.U.toUTF8Array(t.filename)),t.blocks.push(i),t.ptrs.push(a)}t.currPtr=a,t.currBlock=i}var l=32+(255&e);for(let e=0;e<r.length;++e)i[l+e]=r[e];t.filesize=Math.max(t.filesize,r.length+e)}}S.parseCommentString=function(e){let c={paramDefl:{},callingConvention:0,_source:e},l=!0;for(;l;)l=!1,e=e.replace(/\/\/%[ \t]*([\w\.-]+)(=(("[^"\n]*")|'([^'\n]*)'|([^\s]*)))?/,(e,t,r,n,i,a,s)=>{let o=i?JSON.parse(i):r?i||a||s:"true";return o=o||"",S.U.startsWith(t,"block.loc.")?(c.locs||(c.locs={}),c.locs[t.slice("block.loc.".length).toLowerCase()+"|block"]=o):S.U.startsWith(t,"jsdoc.loc.")?(c.locs||(c.locs={}),c.locs[t.slice("jsdoc.loc.".length).toLowerCase()+"|jsdoc"]=o):S.U.contains(t,".loc.")?(c.locs||(c.locs={}),r=t.slice(0,t.indexOf(".loc.")),i=t.slice(t.indexOf(".loc.")+".loc.".length),c.locs[i+"|param|"+r]=o):S.U.endsWith(t,".defl")?(-1<o.indexOf(" ")?c.paramDefl[t.slice(0,t.length-5)]=`"${o}"`:c.paramDefl[t.slice(0,t.length-5)]=o,c.explicitDefaults||(c.explicitDefaults=[]),c.explicitDefaults.push(t.slice(0,t.length-5))):S.U.endsWith(t,".shadow")?(c._shadowOverrides||(c._shadowOverrides={}),c._shadowOverrides[t.slice(0,t.length-7)]=o):S.U.endsWith(t,".snippet")?(c.paramSnippets||(c.paramSnippets={}),a=t.slice(0,t.length-8),c.paramSnippets[a]||(c.paramSnippets[a]={}),c.paramSnippets[a].ts=o):S.U.endsWith(t,".pySnippet")?(c.paramSnippets||(c.paramSnippets={}),s=t.slice(0,t.length-10),c.paramSnippets[s]||(c.paramSnippets[s]={}),c.paramSnippets[s].python=o):S.U.endsWith(t,".fieldEditor")?(c.paramFieldEditor||(c.paramFieldEditor={}),c.paramFieldEditor[t.slice(0,t.length-12)]=o):S.U.contains(t,".fieldOptions.")?(c.paramFieldEditorOptions||(c.paramFieldEditorOptions={}),i=t.slice(0,t.indexOf(".fieldOptions.")),r=t.slice(t.indexOf(".fieldOptions.")+14,t.length),c.paramFieldEditorOptions[i]||(c.paramFieldEditorOptions[i]={}),c.paramFieldEditorOptions[i][r]=o):S.U.contains(t,".shadowOptions.")?(c.paramShadowOptions||(c.paramShadowOptions={}),a=t.slice(0,t.indexOf(".shadowOptions.")),s=t.slice(t.indexOf(".shadowOptions.")+15,t.length),c.paramShadowOptions[a]||(c.paramShadowOptions[a]={}),c.paramShadowOptions[a][s]=o):S.U.endsWith(t,".min")?(c.paramMin||(c.paramMin={}),c.paramMin[t.slice(0,t.length-4)]=o):S.U.endsWith(t,".max")?(c.paramMax||(c.paramMax={}),c.paramMax[t.slice(0,t.length-4)]=o):c[t]=o,l=!0,"//% "});for(var t of n)"string"==typeof c[t]&&(c[t]=parseInt(c[t]));for(var r of i)"string"==typeof c[r]&&(c[r]="true"==c[r]||"1"==c[r]);if(c.trackArgs&&(c.trackArgs=c.trackArgs.split(/[ ,]+/).map(e=>parseInt(e)||0)),c.enumInitialMembers&&(c.enumInitialMembers=c.enumInitialMembers.split(/[ ,]+/)),c.blockExternalInputs&&!c.inlineInputMode&&(c.inlineInputMode="external"),c.paramHelp={},c.jsDoc="",e=e.replace(/\/\*\*([^]*?)\*\//g,(e,t)=>(t=(t=t.replace(/\n\s*(\*\s*)?/g,"\n")).replace(/^\s*@param\s+(\w+)\s+(.*)$/gm,(e,t,r)=>{if(c.paramHelp[t]=r,!c.paramDefl[t]){r=/\beg\.?:\s*(.+)/.exec(r);if(r&&r[1]){r=/(?:"([^"]*)")|(?:'([^']*)')|(?:([^\s,]+))/g.exec(r[1]);if(r){let e=r[1]||r[2]||r[3];-1<(e=e||"").indexOf(" ")?c.paramDefl[t]=`"${e}"`:c.paramDefl[t]=e}}}return""}),c.jsDoc+=t,"")),c.jsDoc=c.jsDoc.trim(),c.async&&(c.callingConvention=1),c.promise&&(c.callingConvention=2),c.jres&&(c.whenUsed=!0),c.subcategories)try{c.subcategories=JSON.parse(c.subcategories)}catch(e){c.subcategories=void 0}if(c.groups)try{c.groups=JSON.parse(c.groups)}catch(e){c.groups=void 0}if(c.groupIcons)try{c.groupIcons=JSON.parse(c.groupIcons)}catch(e){c.groupIcons=void 0}if(c.groupHelp)try{c.groupHelp=JSON.parse(c.groupHelp)}catch(e){c.groupHelp=void 0}return C(c),c},S.parameterTypeIsArrowFunction=T,S.updateBlockDef=C,S.parseBlockDefinition=a,S.parseChecksumBlock=function(t,r=0){var e=pxt.HF2.read32(t,r);if(133083260!=(2147483647&e))return pxt.log("no checksum block magic"),null;var n=pxt.HF2.read32(t,r+4),i=pxt.HF2.read32(t,r+8);if(3&n)return pxt.log("invalid end marker position"),null;var a=1<<(255&i);if(a!=pxt.appTarget.compile.flashCodeAlign)return pxt.log("invalid page size: "+a),null;var s={magic:e,endMarkerPos:n,endMarker:i,regions:[]};for(let e=r+12;e<t.length-7;e+=8){var o={start:a*pxt.HF2.read16(t,e),length:a*pxt.HF2.read16(t,e+2),checksum:pxt.HF2.read32(t,e+4)};if(!o.length||!o.checksum)break;s.regions.push(o)}return s},(u=S.UF2||(S.UF2={})).UF2_MAGIC_START0=171066965,u.UF2_MAGIC_START1=2656915799,u.UF2_MAGIC_END=179400496,u.UF2_FLAG_NONE=0,u.UF2_FLAG_NOFLASH=1,u.UF2_FLAG_FILE=4096,u.UF2_FLAG_FAMILY_ID_PRESENT=8192,u.parseBlock=f,u.parseFile=function(t){var r=[];for(let e=0;e<t.length;e+=512){var n=f(t.slice(e,e+512));n&&r.push(n)}return r},u.toBin=function(t,r=void 0){if(t.length<512)return null;let n=-1,i=-1;var e,a=[];for(let e=0;e<t.length;++e){var s=512*e,o=f(t.slice(s,512+s));if(o){if(r&&o.targetAddr+256>r)break;-1==n&&(n=o.targetAddr,i=n);var c=o.targetAddr-n;c<0||c%4||1048576<c||(0<c&&a.push(new Uint8Array(c)),a.push(t.slice(32+s,32+s+o.payloadSize)),n=o.targetAddr+o.payloadSize)}}let l=0;for(e of a)l+=e.length;if(0==l)return null;var u,d=new Uint8Array(l);let p=0;for(u of a)for(let e=0;e<u.length;++e)d[p++]=u[e];return{buf:d,start:i}},u.readBytes=function(t,r,n){var i=new Uint8Array(n);let a;for(let e=0;e<n;++e,++r)(a=s(a,r)?a:t.filter(e=>s(e,r))[0])&&(i[e]=a.data[r-a.targetAddr]);return i},u.newBlockFile=o,u.finalizeFile=c,u.concatFiles=function(e){for(var t of e)c(t),t.filename=null;var r,n=o();n.blocks=S.U.concat(e.map(e=>e.blocks));for(r of e)r.blocks=[];return n},u.serializeFile=function(e){c(e);let t="";for(var r of e.blocks)t+=S.Util.uint8ArrayToString(r);return t},u.readBytesFromFile=function e(t,r,n){var i,a,s=r>>8;let o;if(s==t.currPtr)o=t.currBlock;else{for(let e=0;e<t.ptrs.length;++e)if(t.ptrs[e]==s){o=t.blocks[e];break}o&&(t.currPtr=s,t.currBlock=o)}return o?(i=new Uint8Array(n),a=Math.min(n,256-(255&r)),S.U.memcpy(i,0,o,32+(255&r),a),0<(n-=a)&&(r=e(t,r+a,n),S.U.memcpy(i,a,r)),i):null},u.writeBytes=p,u.writeHex=function(t,r){let n="0000";for(let e=0;e<r.length;++e){var i=/:02000004(....)/.exec(r[e]);if(i&&(n=i[1]),i=/^:..(....)00(.*)[0-9A-F][0-9A-F]$/.exec(r[e])){var a=parseInt(n+i[1],16),s=i[2],o=[];for(let e=0;e<s.length;e+=2)o.push(parseInt(s[e]+s[e+1],16));p(t,a,o)}}}}})(ts=ts||{}),(e=>{(e=(e=(e=e.pxtc||(e.pxtc={})).service||(e.service={})).ExtensionType||(e.ExtensionType={}))[e.Bundled=1]="Bundled",e[e.Github=2]="Github",e[e.ShareScript=3]="ShareScript"})(ts=ts||{}),(p=>{var e;{var t=p.shell||(p.shell={});let s;(e=s=t.EditorLayoutType||(t.EditorLayoutType={}))[e.IDE=0]="IDE",e[e.Sandbox=1]="Sandbox",e[e.Widget=2]="Widget",e[e.Controller=3]="Controller";let o;(e=o=t.ControllerMode||(t.ControllerMode={}))[e.None=0]="None",e[e.Basic=1]="Basic",e[e.App=2]="App";let c,l=o.None,u=!1,d=!1;function r(){if(void 0===c){if(p.BrowserUtils.hasWindow()){var e=/sandbox=1|#sandbox|#sandboxproject/i.test(window.location.href)||p.BrowserUtils.isIFrame(),t=/nosandbox=1/i.test(window.location.href),r=/controller=(0|1|2)/i.exec(window.location.href),r=(l=r&&p.BrowserUtils.isIFrame()?parseInt(r[1]):l)!==o.None,n=/readonly=1/i.test(window.location.href),i=/editorlayout=(widget|sandbox|ide)/i.exec(window.location.href),a=/noproject=1/i.test(window.location.href);if(c=s.IDE,t?c=s.Widget:r?c=s.Controller:e&&(c=s.Sandbox),r&&n&&(u=!0),r&&a&&(d=!0),i)switch(i[1].toLowerCase()){case"widget":c=s.Widget;break;case"sandbox":c=s.Sandbox;break;case"ide":c=s.IDE}}else c=s.Sandbox;p.debug(`shell: layout type ${s[c]}, readonly `+f())}}function n(){return r(),c==s.Sandbox}function i(){return/[?&]timeMachine=1/i.test(window.location.href)}function f(){return!p.BrowserUtils.hasWindow()||i()||n()&&!/[?&]edit=1/i.test(window.location.href)||a()&&u}function a(){return r(),c==s.Controller}t.layoutTypeClass=function(){return r(),p.shell.EditorLayoutType[c].toLowerCase()},t.isSandboxMode=n,t.isTimeMachineEmbed=i,t.isReadOnly=f,t.isNoProject=function(){return d},t.isControllerMode=a,t.getControllerMode=function(){return r(),l},t.isPyLangPref=function(){return"py"==p.storage.getLocal("editorlangpref")},t.getEditorLanguagePref=function(){return p.storage.getLocal("editorlangpref")},t.setEditorLanguagePref=function(e){e.match(/prj$/)&&(e=e.replace(/prj$/,"")),p.storage.setLocal("editorlangpref",e)},t.getToolboxAnimation=function(){return p.storage.getLocal("toolboxanimation")},t.setToolboxAnimation=function(){p.storage.setLocal("toolboxanimation","1")},t.hasHomeScreen=function(){return!p.shell.isControllerMode()&&!p.appTarget.appTheme.lockedEditor}}})(pxt=pxt||{}),(e=>{{var t=e.skillmap||(e.skillmap={});t.USER_VERSION="0.0.1";class r{constructor(){this.db=new e.BrowserUtils.IDBWrapper(r.databaseName,r.version,(e,t)=>{t=t.result;e.oldVersion<1&&(t.createObjectStore(r.projectTable,{keyPath:r.projectKey}),t.createObjectStore(r.userTable,{keyPath:r.userKey}))})}initAsync(){return this.db.openAsync()}getAllProjectsAsync(){return this.db.getAllAsync(r.projectTable).then(e=>e.map(e=>e.project).filter(e=>!e.deleted))}deleteProjectAsync(e){return this.getProjectAsync(e).then(e=>{e.deleted=!0,this.saveProjectAsync(e)})}getProjectAsync(e){return this.db.getAsync(r.projectTable,e).then(e=>null==e?void 0:e.project)}saveProjectAsync(e){return this.db.setAsync(r.projectTable,{id:e.header.id,project:e})}getUserStateAsync(){return this.db.getAsync(r.userTable,"local-user").then(e=>null==e?void 0:e.user)}saveUserStateAsync(e){return this.db.setAsync(r.userTable,{id:"local-user",user:e})}}r.version=6,r.databaseName="local-skill-map",r.projectTable="projects",r.projectKey="id",r.userTable="users",r.userKey="id",t.IndexedDBWorkspace=r}})(pxt=pxt||{}),(e=>{{var h=e.assets||(e.assets={});h.MAX_FREQUENCY=5e3,h.MAX_VOLUME=255,h.renderSoundPath=function(e,t,r){let{startFrequency:n,endFrequency:i,startVolume:a,endVolume:s,wave:o,interpolation:c}=e,l=(n=Math.max(Math.min(n,h.MAX_FREQUENCY),1),i=Math.max(Math.min(i,h.MAX_FREQUENCY),1),a=Math.max(Math.min(a,h.MAX_VOLUME),0),s=Math.max(Math.min(s,h.MAX_VOLUME),0),new v(n+i+1)),u;switch(c){case"linear":u=e=>n+e*(i-n)/t;break;case"curve":u=e=>n+(i-n)*Math.sin(e/t*(Math.PI/2));break;case"logarithmic":u=e=>n+Math.log10(1+e/t*9)*(i-n)}"noise"===o&&(u=()=>l.randomRange(500,5e3));var d=e=>Math.max(Math.min((s-a)/t*e+a,h.MAX_VOLUME),0);let p=t/2;var f=e=>e/h.MAX_VOLUME*(r-2)/2,_=e=>(1-e/h.MAX_FREQUENCY)*(p-10)+10,m=["M 2 "+r/2];let g=0;for(;g<t;)m.push(y(f(d(g)),_(u(g))/2,o,!1,l)),g+=_(u(g))/2,m.push(y(f(d(g)),_(u(g))/2,o,!0,l)),g+=_(u(g))/2;return m.join(" ")},h.renderWaveSnapshot=function(e,t,r,n,i,a){var s=new v(e),o=("noise"===r&&(e=s.randomRange(500,5e3)),e=Math.max(Math.min(e,h.MAX_FREQUENCY),1),t/h.MAX_VOLUME*(i-2)/2),c=n/(e*a/1e3)/2;let l=Math.ceil(n/(2*c));l%2==1&&l++;var u=[`M ${n/2-l*c} `+i/2];let d=0;for(let e=0;e<l;e++)u.push(y(o,c,r,!1,s)),d+=c,u.push(y(o,c,r,!0,s)),d+=c;return u.join(" ")};class v{constructor(e){this.seed=e,this.lfsr=e}next(){return(this.lfsr=this.lfsr>>1^46080&-(1&this.lfsr))/65535}randomRange(e,t){return e+(t-e)*this.next()}}function y(n,i,e,a,s){switch(e){case"triangle":return`l ${i/2} ${a?n:-n} l ${i/2} `+(a?-n:n);case"square":return`v ${a?n:-n} h ${i} v `+(a?-n:n);case"sawtooth":return a?`l ${i} ${n} v `+-n:`v ${-n} l ${i} `+n;case"sine":return`q ${i/2} ${1.9*(a?n:-n)} ${i} 0`;case"noise":var o,c=[],l=[],u=Math.min(4,i/4);let t=a;for(let e=0;e<i;e+=u)l.push(s.randomRange(0,n)*(t?1:-1)),t=!t;l[0]=a?n:-n;let e=l[l.length-1]=0,r=0;for(o of l){var d=Math.min(u,i-r);if(c.push(`v ${o-e} h `+d),e=o,(r+=d)>=i)break}return c.join(" ")}}function m(e,t,r){var n=new Uint8Array(2);new Uint16Array(n.buffer)[0]=0|r,e[t]=n[0],e[t+1]=n[1]}h.soundToInstructionBuffer=function(r,n,i){let{startFrequency:a,endFrequency:s,startVolume:o,endVolume:c,interpolation:e,duration:l}=r;var u=[];if("linear"===r.interpolation&&"none"===r.effect)u.push({frequency:a,volume:o/h.MAX_VOLUME*1024}),u.push({frequency:s,volume:c/h.MAX_VOLUME*1024});else{n=Math.min(n,Math.floor(l/5));let t;switch(e){case"linear":t=e=>a+e*(s-a)/l;break;case"curve":t=e=>a+(s-a)*Math.sin(e/l*(Math.PI/2));break;case"logarithmic":t=e=>a+Math.log10(1+e/l*9)*(s-a)}var d=l/n;for(let e=0;e<n;e++){var p={frequency:Math.max(t(e*d),1),volume:(p=e*d,(o+p*(c-o)/l)/h.MAX_VOLUME*1024)};"tremolo"===r.effect?e%2==0?p.volume=Math.max(p.volume-500*i,0):p.volume=Math.min(p.volume+500*i,1023):"vibrato"===r.effect?e%2==0?p.frequency=Math.max(p.frequency-100*i,1):p.frequency=p.frequency+100*i:"warble"===r.effect&&(e%2==0?p.frequency=Math.max(p.frequency-1e3*i,1):p.frequency=p.frequency+1e3*i),u.push(p)}}var t=new Uint8Array(12*(u.length-1)),f=Math.floor(l/(u.length-1));for(let e=0;e<u.length-1;e++){var _=12*e;t[_]=(e=>{switch(e){case"square":return 15;case"sine":return 3;case"triangle":return 1;case"noise":return 18;case"sawtooth":return 2}})(r.wave),m(t,2+_,u[e].frequency),m(t,4+_,f),m(t,6+_,u[e].volume),m(t,8+_,u[e+1].volume),m(t,10+_,u[e+1].frequency)}return t}}})(pxt=pxt||{}),(r=>{var e;(e=r.streams||(r.streams={})).createStreamAsync=function(e,t){return r.Cloud.privatePostAsync("streams",{target:e,name:t||"data"}).then(e=>e)},e.postPayloadAsync=function(e,t){return r.Util.assert(!!e.privatekey),r.Cloud.privatePostAsync(e.id+"/data?privatekey="+e.privatekey,t)}})(pxt=pxt||{}),(r=>{var e;{var i=r.svgUtil||(r.svgUtil={});let t;(e=t=i.PatternUnits||(i.PatternUnits={}))[e.userSpaceOnUse=0]="userSpaceOnUse",e[e.objectBoundingBox=1]="objectBoundingBox";let n;(e=n=i.LengthUnit||(i.LengthUnit={}))[e.em=0]="em",e[e.ex=1]="ex",e[e.px=2]="px",e[e.in=3]="in",e[e.cm=4]="cm",e[e.mm=5]="mm",e[e.pt=6]="pt",e[e.pc=7]="pc",e[e.percent=8]="percent";class o{constructor(e){this.el=a(e)}attr(t){return Object.keys(t).forEach(e=>{this.setAttribute(e,t[e])}),this}setAttribute(e,t){return this.el.setAttribute(e,t.toString()),this}setAttributeNS(e,t,r){return this.el.setAttributeNS(e,t,r.toString()),this}id(e){return this.setAttribute("id",e)}setClass(...e){return this.setAttribute("class",e.join(" "))}appendClass(e){return r.BrowserUtils.addClass(this.el,e),this}removeClass(e){r.BrowserUtils.removeClass(this.el,e)}title(e){this.titleElement||(this.titleElement=a("title"),this.el.firstChild?this.el.insertBefore(this.titleElement,this.el.firstChild):this.el.appendChild(this.titleElement)),this.titleElement.textContent=e}setVisible(e){return this.setAttribute("visibility",e?"visible":"hidden")}}i.BaseElement=o;class c extends o{draw(e){e=(e=>{switch(e){case"text":return new m;case"circle":return new h;case"rect":return new g;case"line":return new y;case"polygon":return new x;case"polyline":return new b;case"path":return new k;default:return new _(e)}})(e);return this.el.appendChild(e.el),e}element(e,t){return t(this.draw(e)),this}group(){var e=new u;return this.el.appendChild(e.el),e}appendChild(e){this.el.appendChild(e.el)}onDown(e){return i.events.down(this.el,e),this}onUp(e){return i.events.up(this.el,e),this}onMove(e){return i.events.move(this.el,e),this}onEnter(e){return i.events.enter(this.el,e),this}onLeave(e){return i.events.leave(this.el,e),this}onClick(e){return i.events.click(this.el,e),this}}i.DrawContext=c;class l extends c{constructor(e){super("svg"),e&&e.appendChild(this.el)}define(e){return this.defs||(this.defs=new p(this.el)),e(this.defs),this}}i.SVG=l;class u extends c{constructor(e){super("g"),e&&e.appendChild(this.el)}translate(e,t){return this.left=e,this.top=t,this.updateTransform()}scale(e){return this.scaleFactor=e,this.updateTransform()}def(){return new p(this.el)}style(){return new f(this.el)}updateTransform(){let e="";return null!=this.left&&(e+=`translate(${this.left} ${this.top})`),null!=this.scaleFactor&&(e+=` scale(${this.scaleFactor})`),this.setAttribute("transform",e),this}}i.Group=u;class d extends c{constructor(){super("pattern")}units(e){return this.setAttribute("patternUnits",e===t.objectBoundingBox?"objectBoundingBox":"userSpaceOnUse")}contentUnits(e){return this.setAttribute("patternContentUnits",e===t.objectBoundingBox?"objectBoundingBox":"userSpaceOnUse")}size(e,t){return this.setAttribute("width",e),this.setAttribute("height",t),this}}i.Pattern=d;class p extends o{constructor(e){super("defs"),e.appendChild(this.el)}create(e,t){let r;switch(e){case"path":r=new k;break;case"pattern":r=new d;break;case"radialGradient":r=new E;break;case"linearGradient":r=new C;break;case"clipPath":r=new D;break;default:r=new o(e)}return r.id(t),this.el.appendChild(r.el),r}}i.DefsElement=p;class f extends o{constructor(e){super("style"),e.appendChild(this.el)}content(e){this.el.textContent=e}}i.StyleElement=f;class _ extends c{at(e,t){return this.setAttribute("x",e),this.setAttribute("y",t),this}moveTo(e,t){return this.at(e,t)}fill(e,t){return this.setAttribute("fill",e),null!=t&&this.opacity(t),this}opacity(e){return this.setAttribute("fill-opacity",e)}stroke(e,t){return this.setAttribute("stroke",e),null!=t&&this.strokeWidth(t),this}strokeWidth(e){return this.setAttribute("stroke-width",e)}strokeOpacity(e){return this.setAttribute("stroke-opacity",e)}clipPath(e){return this.setAttribute("clip-path",e)}}i.Drawable=_;class m extends _{constructor(e){super("text"),null!=e&&this.text(e)}text(e){return this.el.textContent=e,this}fontFamily(e){return this.setAttribute("font-family",e)}fontSize(e,t){return this.setAttribute("font-size",s(e,t))}offset(e,t,r){return 0!==e&&this.setAttribute("dx",s(e,r)),0!==t&&this.setAttribute("dy",s(t,r)),this}anchor(e){return this.setAttribute("text-anchor",e)}}i.Text=m;class g extends _{constructor(){super("rect")}width(e,t=n.px){return this.setAttribute("width",s(e,t))}height(e,t=n.px){return this.setAttribute("height",s(e,t))}corner(e){return this.corners(e,e)}corners(e,t){return this.setAttribute("rx",e),this.setAttribute("ry",t),this}size(e,t,r=n.px){return this.width(e,r),this.height(t,r),this}}i.Rect=g;class h extends _{constructor(){super("circle")}at(e,t){return this.setAttribute("cx",e),this.setAttribute("cy",t),this}radius(e){return this.setAttribute("r",e)}}i.Circle=h,class extends _{};class y extends _{constructor(){super("line")}at(e,t,r,n){return this.from(e,t),null!=r&&null!=n&&this.to(r,n),this}from(e,t){return this.setAttribute("x1",e),this.setAttribute("y1",t),this}to(e,t){return this.setAttribute("x2",e),this.setAttribute("y2",t),this}}i.Line=y;class v extends _{points(e){return this.setAttribute("points",e)}with(e){return this.points(e.map(({x:e,y:t})=>e+" "+t).join(","))}}i.PolyElement=v;class b extends v{constructor(){super("polyline")}}i.Polyline=b;class x extends v{constructor(){super("polygon")}}i.Polygon=x;class k extends _{constructor(){super("path"),this.d=new A}update(){return this.setAttribute("d",this.d.toAttribute())}path(e){return e(this.d),this.update()}setD(e){return this.setAttribute("d",e),this}}i.Path=k;class S extends _{constructor(){super("image")}src(e){return this.setAttributeNS("http://www.w3.org/1999/xlink","href",e)}width(e,t=n.px){return this.setAttribute("width",s(e,t))}height(e,t=n.px){return this.setAttribute("height",s(e,t))}size(e,t,r=n.px){return this.width(e,r),this.height(t,r),this}}i.Image=S;class T extends o{units(e){return this.setAttribute("gradientUnits",e===t.objectBoundingBox?"objectBoundingBox":"userSpaceOnUse")}stop(e,t,r){var n=a("stop");return n.setAttribute("offset",e+"%"),null!=t&&n.setAttribute("stop-color",t),null!=r&&n.setAttribute("stop-opacity",r),this.el.appendChild(n),this}}i.Gradient=T;class C extends T{constructor(){super("linearGradient")}start(e,t){return this.setAttribute("x1",e),this.setAttribute("y1",t),this}end(e,t){return this.setAttribute("x2",e),this.setAttribute("y2",t),this}}i.LinearGradient=C;class E extends T{constructor(){super("radialGradient")}center(e,t){return this.setAttribute("cx",e),this.setAttribute("cy",t),this}focus(e,t,r){return this.setAttribute("fx",e),this.setAttribute("fy",t),this.setAttribute("fr",r),this}radius(e){return this.setAttribute("r",e)}}i.RadialGradient=E;class D extends c{constructor(){super("clipPath")}clipPathUnits(e){return e?this.setAttribute("clipPathUnits","objectBoundingBox"):this.setAttribute("clipPathUnits","userSpaceOnUse")}}function a(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}i.ClipPath=D;class A{constructor(){this.ops=[]}clear(){this.ops=[]}moveTo(e,t){return this.op("M",e,t)}moveBy(e,t){return this.op("m",e,t)}lineTo(e,t){return this.op("L",e,t)}lineBy(e,t){return this.op("l",e,t)}cCurveTo(e,t,r,n,i,a){return this.op("C",e,t,r,n,i,a)}cCurveBy(e,t,r,n,i,a){return this.op("c",e,t,r,n,i,a)}qCurveTo(e,t,r,n){return this.op("Q",e,t,r,n)}qCurveBy(e,t,r,n){return this.op("q",e,t,r,n)}sCurveTo(e,t,r,n){return this.op("S",e,t,r,n)}sCurveBy(e,t,r,n){return this.op("s",e,t,r,n)}tCurveTo(e,t){return this.op("T",e,t)}tCurveBy(e,t){return this.op("t",e,t)}arcTo(e,t,r,n,i,a,s){return this.op("A",e,t,r,n?1:0,i?1:0,a,s)}arcBy(e,t,r,n,i,a,s){return this.op("a",e,t,r,n?1:0,i?1:0,a,s)}close(){return this.op("z")}toAttribute(){return this.ops.map(e=>e.op+" "+e.args.join(" ")).join(" ")}op(e,...t){return this.ops.push({op:e,args:t}),this}}function s(e,t){switch(t){case n.em:return e+"em";case n.ex:return e+"ex";case n.px:return e+"px";case n.in:return e+"in";case n.cm:return e+"cm";case n.mm:return e+"mm";case n.pt:return e+"pt";case n.pc:return e+"pc";case n.percent:return e+"%";default:return e.toString()}}i.PathContext=A}})(pxt=pxt||{}),(e=>{function r(){return"undefined"!=typeof window&&("ontouchstart"in window||navigator&&0<navigator.maxTouchPoints)}function n(){return"undefined"!=typeof window&&!!window.PointerEvent}(e=(e=e.svgUtil||(e.svgUtil={})).events||(e.events={})).isTouchEnabled=r,e.hasPointerEvents=n,e.down=function(e,t){n()?e.addEventListener("pointerdown",t):r()?(e.addEventListener("mousedown",t),e.addEventListener("touchstart",t)):e.addEventListener("mousedown",t)},e.up=function(e,t){n()?e.addEventListener("pointerup",t):(r(),e.addEventListener("mouseup",t))},e.enter=function(e,t){n()?e.addEventListener("pointerover",e=>{t(!!(1&e.buttons))}):r()?e.addEventListener("touchstart",e=>{t(!0)}):e.addEventListener("mouseover",e=>{t(!!(1&e.buttons))})},e.leave=function(e,t){n()?e.addEventListener("pointerleave",t):r()?e.addEventListener("touchend",t):e.addEventListener("mouseleave",t)},e.move=function(e,t){n()?e.addEventListener("pointermove",t):r()?e.addEventListener("touchmove",t):e.addEventListener("mousemove",t)},e.click=function(e,t){e.addEventListener("click",t)}})(pxt=pxt||{}),(e=>{e=e.svgUtil||(e.svgUtil={});{var t=e.helpers||(e.helpers={});class r extends e.Text{at(e,t){return this.cx=e,this.cy=t,this.rePosition(),this}text(e,t=12){return super.text(e),this.fontSizePixels=t,this.setAttribute("font-size",t+"px"),this.rePosition(),this}rePosition(){null!=this.cx&&null!=this.cy&&null!=this.fontSizePixels&&(this.setAttribute("x",this.cx),this.setAttribute("y",this.cy),this.setAttribute("text-anchor","middle"),this.setAttribute("alignment-baseline","middle"))}}t.CenteredText=r}})(pxt=pxt||{}),(e=>{(e=e.editor||(e.editor={})).initExtensionsAsync=e=>Promise.resolve({}),e.initFieldExtensionsAsync=e=>Promise.resolve({})})(pxt=pxt||{}),(y=>{y.IMAGE_MIME_TYPE="image/x-mkcd-f4",y.TILEMAP_MIME_TYPE="application/mkcd-tilemap",y.ANIMATION_MIME_TYPE="application/mkcd-animation",y.SONG_MIME_TYPE="application/mkcd-song",y.JSON_MIME_TYPE="application/json";class n{constructor(e){this.type=e,this.assets=[],this.takenNames={},this.listeners=[]}add(e){return this.takenNames[e.id]?this.update(e.id,e):(e=s(e),this.takenNames[e.id]=!0,this.takenNames[p(e)]=!0,e.meta.displayName&&e.meta.displayName!==e.id&&(this.takenNames[e.meta.displayName]&&(e.meta.displayName=this.generateNewDisplayName(e.meta.displayName)),this.takenNames[e.meta.displayName]=!0),this.assets.push(e),s(e))}getSnapshot(t){return t?this.assets.filter(e=>t(e)).map(e=>s(e)):this.assets.map(e=>s(e))}update(e,t){let r;if(this.takenNames[e]){var n=this.lookupByID(e);if(c(n,t))r=t;else{if(!f(t)&&f(n))return y.warn("Refusing to overwrite asset with invalid version"),y.tickEvent("assets.invalidAssetOverwrite",{assetType:t.type}),n;this.removeByID(e),r=this.add(t),this.notifyListener(t.internalID)}}else r=this.add(t);return r}removeByID(t){var e=this.lookupByID(t);this.assets=this.assets.filter(e=>e.id!==t),delete this.takenNames[t],e&&delete this.takenNames[p(e)],null!=e&&e.meta.displayName&&delete this.takenNames[null==e?void 0:e.meta.displayName]}getByID(e){e=this.lookupByID(e);return e&&s(e)}getByDisplayName(e){if(this.takenNames[e])for(var t of this.assets)if(t.meta.displayName===e||p(t)===e)return s(t)}getByValue(e){for(var t of this.assets)if(c(e,t,!0))return t}isIDTaken(e){return!!this.takenNames[e]}clone(){var e=new n(this.type);return e.assets=this.getSnapshot(),e.takenNames=Object.assign({},this.takenNames),e}serializeToJRes(e={},t){for(var r of this.assets)if(!t||t(r)){l=c=o=s=a=i=n=void 0;var n=r,i=e,a=n.id.substr(n.id.lastIndexOf(".")+1),s=n.meta.tags;switch(n.type){case"image":i[a]=n.jresData,(n.meta.displayName||null!=s&&s.length)&&(o={data:n.jresData,mimeType:y.IMAGE_MIME_TYPE},n.meta.displayName&&(o.displayName=n.meta.displayName),null!=s&&s.length&&(o.tags=s),i[a]=o);break;case"tile":var o={data:n.jresData,mimeType:y.IMAGE_MIME_TYPE,tilemapTile:!0,displayName:n.meta.displayName};null!=s&&s.length&&(o.tags=s),i[a]=o;break;case"tilemap":var c=((e,t,r)=>{var n=e.tilemap.data(),i=new Uint8ClampedArray(5+n.data.length+e.layers.data.length);return i[0]=e.tileset.tileWidth,i[1]=255&n.width,i[2]=n.width>>8&255,i[3]=255&n.height,i[4]=n.height>>8&255,i.set(n.data,5),i.set(e.layers.data,5+n.data.length),{id:t,mimeType:y.TILEMAP_MIME_TYPE,data:btoa(y.sprite.uint8ArrayToHex(i)),tileset:e.tileset.tiles.map(e=>e.id),displayName:r}})(n.data,n.id,n.meta.displayName);i[c.id]=c;break;case"animation":i[a]=(e=>{var t,r={namespace:e.id.substr(0,e.id.lastIndexOf(".")),id:e.id.substr(e.id.lastIndexOf(".")+1),mimeType:y.ANIMATION_MIME_TYPE,data:y.sprite.encodeAnimationString(e.frames,e.interval),displayName:e.meta.displayName};return null!=(t=e.meta.tags)&&t.length&&(r.tags=e.meta.tags),r})(n);break;case"song":c={data:y.assets.music.encodeSongToHex(n.song),mimeType:y.SONG_MIME_TYPE,displayName:n.meta.displayName,namespace:y.sprite.SONG_NAMESPACE+"."};null!=s&&s.length&&(c.tags=s),i[a]=c;break;case"json":var l={data:JSON.stringify({data:n.data,fileName:n.fileName}),mimeType:y.JSON_MIME_TYPE,displayName:n.meta.displayName,namespace:y.sprite.JSON_NAMESPACE+"."};null!=s&&s.length&&(l.tags=s),i[a]=l}}return e}addListener(e,t){this.listeners.push({internalID:e,callback:t})}removeListener(t){this.listeners=this.listeners.filter(e=>e.callback!==t)}diff(e){var t,r,n={before:[],after:[]};let i={};for(t of e.assets){i[t.internalID]=!0;var a=this.lookupByInternalID(t.internalID);a&&c(t,a)||(n.before.push(t),n.after.push(a))}for(r of this.assets.filter(e=>!i[e.internalID]))n.before.push(null),n.after.push(r);return n}applyDiff(e,t=!1){var r,n=t?e.after:e.before,i=t?e.before:e.after;y.Util.assert(n.length===i.length);for(let e=0;e<n.length;e++)n[e]?(this.removeByInternalID(n[e].internalID),i[e]&&this.assets.push(i[e]),this.notifyListener(n[e].internalID)):(this.assets.push(i[e]),this.notifyListener(i[e].internalID));this.takenNames={};for(r of this.assets)y.Util.assert(!this.takenNames[r.id]),this.takenNames[r.id]=!0,this.takenNames[p(r)]=!0,r.meta.displayName&&(r.meta.displayName!==r.id&&y.Util.assert(!this.takenNames[r.meta.displayName]),this.takenNames[r.meta.displayName]=!0)}lookupByID(e){for(var t of this.assets)if(t.id===e)return t;return null}lookupByInternalID(e){for(var t of this.assets)if(t.internalID===e)return t;return null}removeByInternalID(t){this.assets=this.assets.filter(e=>e.internalID!==t)}notifyListener(e){for(var t of this.listeners)t.internalID===e&&t.callback()}generateNewDisplayName(e){e=e.replace(/\d+$/,"");let t=0;for(;this.takenNames[e+t];)++t;return e+t}}class r{constructor(){this.needsRebuild=!0,this.nextID=0,this.nextInternalID=0,this.committedState={revision:0,assets:{image:new n("image"),tile:new n("tile"),tilemap:new n("tilemap"),animation:new n("animation"),song:new n("song"),json:new n("json")}},this.state={revision:this.nextID++,assets:{image:new n("image"),tile:new n("tile"),tilemap:new n("tilemap"),animation:new n("animation"),song:new n("song"),json:new n("json")}},this.gallery={revision:0,assets:{image:new n("image"),tile:new n("tile"),tilemap:new n("tilemap"),animation:new n("animation"),song:new n("song"),json:new n("json")}},this.undoStack=[],this.redoStack=[]}getNewInternalId(){return this.nextInternalID++}createNewImage(e=16,t=16){this.onChange();var r=this.generateNewID("image"),e=new y.sprite.Bitmap(e,t).data(),t={internalID:this.getNewInternalId(),id:r,type:"image",bitmap:e,meta:{},jresData:y.sprite.base64EncodeBitmap(e)};return this.getAssetCollection("image").add(t)}createNewAnimation(e=16,t=16){this.onChange();var r=this.generateNewID("animation"),e=new y.sprite.Bitmap(e,t).data(),t={internalID:this.getNewInternalId(),id:r,type:"animation",frames:[e],interval:500,meta:{}};return this.getAssetCollection("animation").add(t)}createNewAnimationFromData(e,t=500,r){this.onChange();var n=this.generateNewID("animation"),n={internalID:this.getNewInternalId(),id:n,type:"animation",frames:e,interval:t,meta:{displayName:r}};return this.getAssetCollection("animation").add(n)}getGalleryTiles(t){return this.extensionTileSets?this.extensionTileSets.map(e=>e.tileSets.find(e=>e.tileWidth===t)).filter(e=>null==e?void 0:e.tiles.length):null}getProjectImages(){return this.getAssetCollection("image").getSnapshot()}getProjectTiles(t,e){var r=this.getAssetCollection("tile").getSnapshot(e=>e.bitmap.width===t);return 0===r.length?e?(this.createNewTile(new y.sprite.Bitmap(t,t).data()),this.getProjectTiles(t,!1)):null:{tileWidth:t,tiles:r}}createNewTile(e,t,r){this.onChange(),t&&!this.isNameTaken("tile",t)||(t=this.generateNewID("tile"));t={internalID:this.getNewInternalId(),id:t,type:"tile",jresData:y.sprite.base64EncodeBitmap(e),bitmap:e,meta:{displayName:r},isProjectTile:!0};return this.getAssetCollection("tile").add(t)}createNewProjectImage(e,t){this.onChange();t={internalID:this.getNewInternalId(),id:this.generateNewID("image"),type:"image",jresData:y.sprite.base64EncodeBitmap(e),meta:{displayName:t},bitmap:e};return this.getAssetCollection("image").add(t)}createNewSong(e,t){this.onChange();e={internalID:this.getNewInternalId(),id:this.generateNewID("song"),type:"song",song:y.assets.music.cloneSong(e),meta:{displayName:t}};return this.getAssetCollection("song").add(e)}createNewJsonAsset(e,t,r){this.onChange();e={internalID:this.getNewInternalId(),id:this.generateNewID("json"),type:"json",data:e,fileName:t,meta:{displayName:r}};return this.getAssetCollection("json").add(e)}updateTile(t){this.onChange();var e=this.resolveProjectTileByInternalID(t.internalID);if(e){if(this.getAssetCollection("tile").update(e.id,t),e.id!==t.id||!y.sprite.bitmapEquals(e.bitmap,t.bitmap))for(var r of this.getAssets("tilemap"))r.data.tileset.tiles.some(e=>e.internalID===t.internalID)&&(r.data.tileset.tiles=r.data.tileset.tiles.map(e=>e.internalID===t.internalID?t:e),this.updateTilemap(r.id,r.data));return t}return null}deleteTile(e){this.onChange(),this.getAssetCollection("tile").removeByID(e)}getProjectTilesetJRes(t){var e={};return this.getAssetCollection("tile").serializeToJRes(e),this.getAssetCollection("tilemap").serializeToJRes(e,e=>!t||!y.sprite.isTilemapEmptyOrUnused(e,this,t)),e["*"]={mimeType:"image/x-mkcd-f4",dataEncoding:"base64",namespace:y.sprite.TILE_NAMESPACE},e}getProjectAssetsJRes(){var e,t={};for(e of Object.keys(this.state.assets))"tilemap"!==e&&"tile"!==e&&this.state.assets[e].serializeToJRes(t);return t["*"]={mimeType:"image/x-mkcd-f4",dataEncoding:"base64",namespace:y.sprite.IMAGES_NAMESPACE},t}getTilemap(e){return this.getAssetCollection("tilemap").getByID(e)}updateTilemap(e,t){var r=this.getAssetCollection("tilemap").getByID(e);return r?(this.onChange(),r=Object.assign(Object.assign({},r),{data:t}),this.getAssetCollection("tilemap").update(e,r),r):null}createNewTilemap(e,t,r=16,n=16){return this.createNewTilemapFromData(this.blankTilemap(t,r,n),e)}blankTilemap(e,t=16,r=16){var n=new y.sprite.Tilemap(t,r),t=new y.sprite.Bitmap(t,r),r={tileWidth:e,tiles:[this.getTransparency(e)]};return new y.sprite.TilemapData(n,r,t.data())}resolveTile(e){return this.lookupAsset("tile",e)}resolveProjectTileByInternalID(t){return this.getAssetCollection("tile").getSnapshot(e=>e.internalID===t)[0]}resolveTileByBitmap(e){let t=y.sprite.base64EncodeBitmap(e);return this.getAssetCollection("tile").getSnapshot(e=>e.jresData===t)[0]}getTransparency(e){var t=y.sprite.TILE_NAMESPACE+".transparency"+e;let r=this.getAssetCollection("tile").getByID(t);return r||(e=new y.sprite.Bitmap(e,e).data(),r={internalID:this.getNewInternalId(),id:t,type:"tile",bitmap:e,jresData:y.sprite.base64EncodeBitmap(e),meta:{},isProjectTile:!0},this.getAssetCollection("tile").add(r))}createNewTilemapFromData(e,t){this.onChange();var r=this.generateNewIDInternal("tilemap",t||lf("level"));return this.getAssetCollection("tilemap").add({internalID:this.getNewInternalId(),id:r,type:"tilemap",meta:{displayName:t||r},data:e}),[r,e]}cloneState(){var e,t={revision:this.state.revision,assets:{}};for(e of Object.keys(this.state.assets))t.assets[e]=this.state.assets[e].clone();return t}undo(){if(this.state.revision!==this.committedState.revision&&this.pushUndo(),this.undoStack.length){var e,t=this.undoStack.pop();for(e of Object.keys(t.assetDiffs))this.getAssetCollection(e).applyDiff(t.assetDiffs[e],!0);this.state.revision=t.beforeRevision,this.redoStack.push(t),this.committedState=this.cloneState(),this.needsRebuild=!0}}redo(){if(this.redoStack.length){var e,t=this.redoStack.pop();for(e of Object.keys(t.assetDiffs))this.getAssetCollection(e).applyDiff(t.assetDiffs[e]);this.state.revision=t.afterRevision,this.undoStack.push(t),this.committedState=this.cloneState(),this.needsRebuild=!0}}pushUndo(){if(!this.undoStack.length||this.committedState.revision!==this.state.revision){this.redoStack=[],this.undoStack.push({beforeRevision:this.committedState.revision,afterRevision:this.state.revision,assetDiffs:{}});var e,t=this.undoStack[this.undoStack.length-1];for(e of Object.keys(this.state.assets))t.assetDiffs[e]=this.state.assets[e].diff(this.committedState.assets[e]);this.committedState=this.cloneState(),this.cleanupTemporaryAssets()}}revision(){return this.state.revision}encodeTilemap(e,t){var r=e.tilemap.data(),n=new Uint8ClampedArray(5+r.data.length+e.layers.data.length);return n[0]=e.tileset.tileWidth,n[1]=255&r.width,n[2]=r.width>>8&255,n[3]=255&r.height,n[4]=r.height>>8&255,n.set(r.data,5),n.set(e.layers.data,5+r.data.length),{id:t,mimeType:y.TILEMAP_MIME_TYPE,data:btoa(y.sprite.uint8ArrayToHex(n)),tileset:e.tileset.tiles.map(e=>e.id)}}forceUpdate(){this.onChange()}isNameTaken(t,e){var r=e=>this.getAssetCollection(t).isIDTaken(e)||this.getAssetCollection(t,!0).isIDTaken(e),n=m(t,e),i=n&&n!==e;return r(e)||i&&r(n)}isAssetUsed(r,n,i){var a;if(0<((null==(a=null==(a=r.meta)?void 0:a.blockIDs)?void 0:a.filter(e=>!i||(null==i?void 0:i.indexOf(e))<0))||[]).length)return!0;if("tile"==r.type)for(var e of this.getAssets("tilemap"))if(!(0<=(null==i?void 0:i.indexOf(e.id)))&&e.data.tileset.tiles.some(e=>e.id===r.id))return!0;if(n){var s=y.Util.escapeForRegex(p(r)),o=y.Util.escapeForRegex(null==(a=r.meta)?void 0:a.displayName)||"";let e;switch(r.type){case"tile":e=`myTiles.${s}|assets.tile\`${s}\``,o&&(e+=`|assets.tile\`${o}\``);break;case"tilemap":e=`tilemap\`${s}\``;break;case"animation":e=`assets.animation\`${s}\``,o&&(e+=`|assets.animation\`${o}\``);break;case"song":e=`assets.song\`${s}\``,o&&(e+=`|assets.song\`${o}\``);break;case"json":e=`assets.json\`${s}\``,o&&(e+=`|assets.json\`${o}\``);break;default:e=`assets.image\`${s}\``,o&&(e+=`|assets.image\`${o}\``)}var c=new RegExp(e,"gm");let t;switch(r.type){case"tile":t=`myTiles.${s}|assets.tile("""${s}""")`,o&&(t+=`|assets.tile("""${o}""")`);break;case"tilemap":t=`assets.tilemap("""${s}""")`;break;case"animation":t=`assets.animation("""${s}""")`,o&&(t+=`|assets.animation("""${o}""")`);break;case"song":t=`assets.song("""${s}""")`,o&&(t+=`|assets.song("""${o}""")`);break;case"json":t=`assets.json("""${s}""")`,o&&(t+=`|assets.json("""${o}""")`);break;default:t=`assets.image("""${s}""")`,o&&(t+=`|assets.image("""${o}""")`)}var l,u=new RegExp(t,"gm");for(l of Object.keys(n))if(!(0<=(null==i?void 0:i.indexOf(l)))){var d=n[l];if(l.match(/((?!\.g).{2}|^.{0,1})\.ts$/i)){if(d.content.match(c))return!0}else if(l.endsWith(".py")&&d.content.match(u))return!0}}return!1}lookupAsset(e,t){return this.getAssetCollection(e).getByID(t)||this.getAssetCollection(e,!0).getByID(t)}lookupAssetByName(e,t){return this.getAssetCollection(e).getByDisplayName(t)}lookupAssetByValue(e,t){return this.getAssetCollection(e).getByValue(t)}getAssets(e){return this.getAssetCollection(e).getSnapshot()}getGalleryAssets(e){return this.getAssetCollection(e).getSnapshot()}lookupBlockAsset(e,t){return this.getAssetCollection(e).getSnapshot(e=>-1!==(null==(e=null==(e=e.meta)?void 0:e.blockIDs)?void 0:e.indexOf(t)))[0]}updateAsset(e){return this.onChange(),"tile"!==e.type?this.getAssetCollection(e.type).update(e.id,e):this.updateTile(e)}duplicateAsset(e,t){this.onChange();var r=s(e),n=t||(null==(t=r.meta)?void 0:t.displayName);let i;switch(e.type){case"image":i=this.createNewProjectImage(r.bitmap,n);break;case"tile":i=this.createNewTile(r.bitmap,null,n);break;case"tilemap":var[a,,]=this.createNewTilemapFromData(r.data,n);i=this.getTilemap(a);break;case"animation":i=this.createNewAnimationFromData(r.frames,r.interval,n);break;case"song":i=this.createNewSong(r.song,n);break;case"json":i=this.createNewJsonAsset(r.data,e.fileName,n)}return i}removeAsset(e){this.onChange(),this.getAssetCollection(e.type).removeByID(e.id)}addChangeListener(e,t){this.getAssetCollection(e.type).addListener(e.internalID,t)}removeChangeListener(e,t){this.getAssetCollection(e).removeListener(t)}loadPackage(e){var t,r,n=e.sortedDeps();this.extensionTileSets=[];for(t of n){var i,a,s="this"===t.id;for(i of this.readImages(t.parseJRes(),s))i.meta.package=t.id,("tile"===i.type?this.getAssetCollection("tile",!s):"image"===i.type?this.getAssetCollection("image",!s):"animation"===i.type?this.getAssetCollection("animation",!s):"json"===i.type?this.getAssetCollection("json",!s):s?(a=y.sprite.IMAGES_NAMESPACE+".",i.id.startsWith(a)&&(i.id=i.id.replace(a,y.sprite.SONG_NAMESPACE+".")),this.getAssetCollection("song")):this.getAssetCollection("song",!0)).add(i)}for(r of n){var o,c="this"===r.id;for(o of l(r.parseJRes()))c?this.getAssetCollection("tilemap").add({internalID:this.getNewInternalId(),type:"tilemap",id:o.id,meta:{displayName:o.displayName||o.id,package:e.id},data:v(o,e=>this.resolveTile(e))}):this.getAssetCollection("tilemap",!0).add({internalID:this.getNewInternalId(),type:"tilemap",id:o.id,meta:{displayName:o.displayName||o.id,package:e.id},data:v(o,e=>this.getAssetCollection("tile",!0).getByID(e))})}this.committedState=this.cloneState(),this.undoStack=[],this.redoStack=[]}loadTilemapJRes(e,t=!1,r=!1){e=y.inflateJRes(e);var n,i=this.readImages(e,!r).filter(e=>"tile"===e.type);let a={};if(r)for(var s of i)this.getAssetCollection("tile",!0).add(s);else for(var o of i){if(t){var c=this.resolveTileByBitmap(o.bitmap);if(c){a[o.id]=c.id;continue}}c=this.createNewTile(o.bitmap,o.id,o.meta.displayName);c.id!==o.id&&(a[o.id]=c.id)}for(n of l(e))this.getAssetCollection("tilemap",r).add({internalID:this.getNewInternalId(),type:"tilemap",id:n.id,meta:{displayName:n.displayName||n.id},data:v(n,e=>(a[e]&&(e=a[e]),this.resolveTile(e)))})}loadAssetsJRes(e,t=!1){e=y.inflateJRes(e);var r,n,i=[];for(r of Object.keys(e)){var a,s,o=e[r];o.tilemapTile?this.getAssetCollection("tile",t).add(this.generateImage(o,"tile")):o.mimeType===y.IMAGE_MIME_TYPE?this.getAssetCollection("image",t).add(this.generateImage(o,"image")):o.mimeType===y.ANIMATION_MIME_TYPE?([a,s]=this.generateAnimation(o),s?i.push(a):this.getAssetCollection("animation",t).add(a)):o.mimeType===y.SONG_MIME_TYPE?this.getAssetCollection("song",t).add(this.generateSong(o)):o.mimeType===y.JSON_MIME_TYPE&&this.getAssetCollection("json",t).add(this.generateJsonAsset(o))}for(n of i)this.getAssetCollection("animation",t).add(this.inflateAnimation(n,this.getAssetCollection("image",t).getSnapshot()))}removeInactiveBlockAssets(t){for(var e of Object.keys(this.state.assets)){n=r=s=a=i=void 0;var r,n,i=this.state.assets[e],a=i.getSnapshot(e=>!e.meta.displayName&&(null==(e=e.meta.blockIDs)?void 0:e.some(e=>-1===t.indexOf(e)))),s=[];for(r of a)(1===r.meta.blockIDs.length||(r.meta.blockIDs=r.meta.blockIDs.filter(e=>-1!==t.indexOf(e)),0===r.meta.blockIDs.length))&&s.push(r);for(n of s)i.removeByID(n.id)}}clone(){var e,t=new r;return t.committedState=a(this.committedState),t.state=a(this.state),t.gallery=a(this.gallery),t.extensionTileSets=null==(e=this.extensionTileSets)?void 0:e.map(e=>Object.assign(Object.assign({},e),{tileSets:e.tileSets.map(e=>Object.assign(Object.assign({},e),{tiles:e.tiles.map(e=>s(e))}))})),t.needsRebuild=this.needsRebuild,t.nextID=this.nextID,t.nextInternalID=this.nextInternalID,t.undoStack=this.undoStack.map(e=>o(e)),t.redoStack=this.undoStack.map(e=>o(e)),t}saveGallerySnapshot(){return this.gallery}loadGallerySnapshot(e){this.gallery=e}generateImage(e,t){return{internalID:this.getNewInternalId(),type:t,id:e.id,meta:{displayName:e.displayName,tags:e.tags},jresData:e.data,bitmap:y.sprite.getBitmapFromJResURL(`data:${y.IMAGE_MIME_TYPE};base64,`+e.data).data()}}generateSong(e){return{internalID:this.getNewInternalId(),type:"song",id:e.id,meta:{displayName:e.displayName,tags:e.tags},song:y.assets.music.decodeSongFromHex(e.data)}}generateJsonAsset(e){var t=JSON.parse(e.data);return{internalID:this.getNewInternalId(),type:"json",id:e.id,meta:{displayName:e.displayName,tags:e.tags},data:t.data,fileName:t.fileName}}generateAnimation(t){if("json"!==t.dataEncoding)return[Object.assign(Object.assign({},b(t)),{internalID:this.getNewInternalId()}),!1];{let e;try{e=JSON.parse(t.data)}catch(e){y.warn("could not parse json data of '"+t.id+"'")}return[{internalID:this.getNewInternalId(),type:"animation",meta:{displayName:t.displayName,tags:t.tags},id:t.id,frames:[],frameIds:e.frames,interval:100,flippedHorizontal:e.flippedHorizontal},!0]}}inflateAnimation(e,r){return e.frames=e.frameIds.map(t=>r.find(e=>e.id===t).bitmap),e.flippedHorizontal&&(e.frames=e.frames.map(e=>{var r=y.sprite.Bitmap.fromData(e),n=new y.sprite.Bitmap(e.width,e.height);for(let t=0;t<n.width;t++)for(let e=0;e<n.height;e++)n.set(t,e,r.get(r.width-t-1,e));return n.data()})),e}generateNewID(e){switch(e){case"animation":return this.generateNewIDInternal("animation",y.sprite.ANIMATION_PREFIX,y.sprite.ANIMATION_NAMESPACE);case"image":return this.generateNewIDInternal("image",y.sprite.IMAGE_PREFIX,y.sprite.IMAGES_NAMESPACE);case"tile":return this.generateNewIDInternal("tile",y.sprite.TILE_PREFIX,y.sprite.TILE_NAMESPACE);case"tilemap":return this.generateNewIDInternal("tilemap",lf("level"));case"song":return this.generateNewIDInternal("song",y.sprite.SONG_PREFIX,y.sprite.SONG_NAMESPACE);case"json":return this.generateNewIDInternal("json",y.sprite.JSON_PREFIX,y.sprite.JSON_NAMESPACE)}}generateNewIDInternal(e,t,r){t=t.replace(/\d+$/,"");var n=r?r+"."+t:t;let i=1;for(;this.isNameTaken(e,n+i);)++i;return n+i}onChange(){this.needsRebuild=!0,this.state.revision=this.nextID++}readImages(e,t=!1){var r,n,i=[],a=[];for(r of Object.keys(e)){var s,o,c=e[r];c.tilemapTile?((s=this.generateImage(c,"tile")).isProjectTile=t,i.push(s)):c.mimeType===y.IMAGE_MIME_TYPE?i.push(this.generateImage(c,"image")):c.mimeType===y.ANIMATION_MIME_TYPE?([s,o]=this.generateAnimation(c),(o?a:i).push(s)):c.mimeType===y.SONG_MIME_TYPE?i.push(this.generateSong(c)):c.mimeType===y.JSON_MIME_TYPE&&i.push(this.generateJsonAsset(c))}for(n of a)i.push(this.inflateAnimation(n,i));return i}cleanupTemporaryAssets(){var e,t=this.getAssetCollection("image");for(e of t.getSnapshot(e=>!(e.meta.displayName||null!=(e=e.meta.blockIDs)&&e.length)))t.removeByID(e.id)}getAssetCollection(e,t=!1){return h(t?this.gallery:this.state,e,!0)}}function l(e){var t,r=[];for(t of Object.keys(e)){var n=e[t];n.mimeType===y.TILEMAP_MIME_TYPE&&r.push(n)}return r}function u(e,t){return"\n"+`    helpers._registerFactory("${e}", function(name: string) {
`+`        switch(helpers.stringTrim(name)) {
`+t.map(e=>e.keys.filter(e=>!!e).map(e=>`            case "${e}":`).join("\n")+`return ${e.expression};`).join("\n")+"\n"+`        }
`+`        return null;
`+`    })
`}function i(e){return y.sprite.Bitmap.fromData(e).copy().data()}function v(e,t){var r=atob(e.data),r=y.U.fromHex(r),n=r[1]|r[2]<<8,i=r[3]|r[4]<<8,e=e.tileset.map(e=>t&&t(e)||{id:e});let a=r[0];var s={tileWidth:a=(a=a||e.length&&(null==(s=e.find(e=>null==(e=e.bitmap)?void 0:e.width))?void 0:s.bitmap.width))||16,tiles:e},e=r.slice(5,5+n*i),o=new y.sprite.Tilemap(n,i,0,0,new Uint8ClampedArray(e)),r=r.slice(5+e.length),e=new y.sprite.Bitmap(n,i,0,0,new Uint8ClampedArray(r)).data();return new y.sprite.TilemapData(o,s,e)}function s(e,t=!1){switch(e.meta=Object.assign({},e.meta),e.meta.temporaryInfo&&(e.meta.temporaryInfo=Object.assign({},e.meta.temporaryInfo)),e.type){case"tile":case"image":return Object.assign(Object.assign({},e),{bitmap:i(e.bitmap)});case"animation":return Object.assign(Object.assign({},e),{frames:e.frames.map(e=>i(e))});case"tilemap":return Object.assign(Object.assign({},e),{data:e.data.cloneData(t)});case"song":return Object.assign(Object.assign({},e),{song:y.assets.music.cloneSong(e.song)});case"json":return Object.assign(Object.assign({},e),{data:y.U.clone(e.data)})}}function a(e){var t,r={revision:e.revision,assets:{}};for(t of Object.keys(e.assets)){var n=e.assets[t];r.assets[t]=n.clone()}return r}function o(e){var t,r=Object.assign(Object.assign({},e),{assetDiffs:{}});for(t of Object.keys(e.assetDiffs)){var n=e.assetDiffs[t];r.assetDiffs[t]=(n=n,Object.assign(Object.assign({},n),{before:n.before.map(e=>s(e)),after:n.after.map(e=>s(e))}))}return r}function c(e,t,r=!1){if(e==t)return!0;if(!e&&t||!t&&e||e.type!==t.type)return!1;if(!(r||e.id===t.id&&y.U.arrayEquals(e.meta.tags,t.meta.tags)&&y.U.arrayEquals(e.meta.blockIDs,t.meta.blockIDs)&&e.meta.displayName===t.meta.displayName))return!1;switch(e.type){case"image":case"tile":return y.sprite.bitmapEquals(e.bitmap,t.bitmap);case"animation":return e.interval===t.interval&&y.U.arrayEquals(e.frames,t.frames,y.sprite.bitmapEquals);case"tilemap":return e.data.equals(t.data);case"song":return y.assets.music.songEquals(e.song,t.song);case"json":return e.fileName===t.fileName&&y.U.deepEqual(e.data,t.data)}}function d(e){e=/^\s*(?:(?:assets\s*\.\s*(image|tile|animation|tilemap|song))|(tilemap))\s*(?:`|\(""")([^`"]+)(?:`|"""\))\s*$/m.exec(e);if(e)return{type:e[1]||e[2],name:e[3].trim()}}function p(e){return m(e.type,e.id)}function f(e){if(!e)return!1;switch(e.type){case"image":case"tile":return!!(n=e).bitmap&&_(y.sprite.Bitmap.fromData(n.bitmap));case"tilemap":return!!((n=e).data&&n.data.tilemap&&n.data.tileset&&n.data.tileset.tileWidth&&null!=(r=n.data.tileset.tiles)&&r.length&&n.data.layers)&&_(y.sprite.Bitmap.fromData(n.data.layers))&&_(n.data.tilemap);case"animation":r=e;return!(null==(t=r.frames)||!t.length||r.interval<=0||r.frames.some(e=>!_(y.sprite.Bitmap.fromData(e))));case"song":return(t=e).song&&0<t.song.ticksPerBeat&&0<t.song.beatsPerMeasure&&0<t.song.measures&&0<t.song.beatsPerMinute&&!!t.song.tracks;case"json":return!!e.data}var t,r,n}function _(e){return 0<e.width&&0<e.height&&!Number.isNaN(e.x0)&&!Number.isNaN(e.y0)&&e.data().data.length===e.dataLength()}function m(e,t,r=!1){let n;switch(e){case"image":n=y.sprite.IMAGES_NAMESPACE+".";break;case"tile":n=y.sprite.TILE_NAMESPACE+".";break;case"tilemap":n="";break;case"animation":n=y.sprite.ANIMATION_NAMESPACE+".";break;case"song":n=y.sprite.SONG_NAMESPACE+".";break;case"json":n=y.sprite.JSON_NAMESPACE+"."}if(n)if(t.startsWith(n)){e=t.substr(n.length);if(-1===e.indexOf("."))return e}else if(!r)return null;return t}function b(e){var t=atob(e.data),r=new Uint8ClampedArray(y.U.fromHex(t)),t=g(r,0),n=g(r,2),i=g(r,4),a=g(r,6),s=Math.ceil(n*i/2);let o=8;var c=[];for(let e=0;e<a;e++){var l=r.slice(o,o+s);c.push({x0:0,y0:0,width:n,height:i,data:l}),o+=s}let u=e.id;return{type:"animation",internalID:0,id:u=u.startsWith(e.namespace)?u:(u=e.namespace+"."+u).replace(/\.\./g,"."),interval:t,frames:c,meta:{displayName:e.displayName,tags:e.tags}}}function g(e,t){return e[t]|e[t+1]<<8}function h(e,t,r=!1){if(!e.assets[t]){if(!r)return;e.assets[t]=new n(t)}return e.assets[t]}y.TilemapProject=r,y.emitGalleryDeclarations=function(n,i){var e=Object.keys(n);let a="";var r={};let s={};var o,c,l={},u=e=>{let t=n[e].namespace||n["*"].namespace;e=n[e].id||e;return t&&(t.endsWith(".")&&(t=t.slice(0,t.length-1)),!e.startsWith(t+"."))?t+"."+e:e};n["*"]&&(l["*"]=Object.assign(Object.assign({},n["*"]),{namespace:i}));for(o of e)if("*"!==o){var d=n[o],p=u(o);let t=ts.pxtc.escapeIdentifier(d.displayName||p.split(".").pop());if(r[t]){var f=t;let e=2;for(;r[t];)t=f+e,e++}r[t]=!0,s[p]=i+"."+t}for(c of e)if("*"!==c){var _=n[c],m=_.mimeType||(null==(m=n["*"])?void 0:m.mimeType);let e,t;var g,h=s[u(c)].split(".").pop();let r=_.tags;r||(r=[],-1!==h.toLowerCase().indexOf("background")&&r.push("background"),-1!==h.toLowerCase().indexOf("dialog")&&r.push("dialog"),_.tilemapTile&&r.push("tile")),m===y.IMAGE_MIME_TYPE?(t="image.ofBuffer(hex``)",e=_.tilemapTile?"images._tile":"images._image"):m===y.ANIMATION_MIME_TYPE?(g=b(_),t=`[${g.frames.map(e=>y.sprite.bitmapToImageLiteral(y.sprite.Bitmap.fromData(e),"typescript")).join(",")}]`):m===y.TILEMAP_MIME_TYPE?(g=v(_),t=y.sprite.encodeTilemap(g,"typescript",s)):m===y.SONG_MIME_TYPE?t=`hex\`${_.data}\``:m===y.JSON_MIME_TYPE&&(t=_.data),a+=`    //% fixedInstance jres whenUsed
`,e&&(a+=`    //% blockIdentity=${e}
`),r.length&&(a+=`    //% tags="${r.join(" ")}"
`),a+=`    export const ${h} = ${t};
`,"string"==typeof _?l[h]=_:(l[h]=Object.assign(Object.assign({},_),{id:s[u(c)],tags:r}),_.namespace&&(l[h].namespace=i,_.namespace.endsWith("."))&&(l[h].namespace+="."),l[h].tileset&&(l[h].tileset=_.tileset.map(e=>s[e]||e)))}return e=lf("Auto-generated code. Do not edit."),[l,`// ${e}
namespace ${i} {
${a}
}
// ${e}
`]},y.emitTilemapsFromJRes=function(e){let t="";var r,n=[],i=[];for(r of Object.keys(e))if("*"!==r){var a,s=e[r];if(s.tilemapTile){let e=r;-1!==e.indexOf(".")&&(e=e.split(".").slice(-1)[0]),t=(t+=`    //% fixedInstance jres blockIdentity=images._tile
`)+`    export const ${e} = image.ofBuffer(hex\`\`);
`,i.push({keys:[s.displayName,m("tile",r,!0)],expression:r})}s.mimeType===y.TILEMAP_MIME_TYPE&&(a=v(s),n.push({keys:[s.displayName,m("tilemap",s.id)],expression:y.sprite.encodeTilemap(a,"typescript")}))}n.length&&(t+=u("tilemap",n)),i.length&&(t+=u("tile",i));var o=lf("Auto-generated code. Do not edit.");return`// ${o}
namespace ${y.sprite.TILE_NAMESPACE} {
${t}
}
// ${o}
`},y.emitProjectImages=function(e){var t,r="",n=[],i=[],a=[],s=[];for(t of Object.keys(e))if("*"!==t){var o=e[t];if("string"==typeof o||o.mimeType===y.IMAGE_MIME_TYPE){let e;var c=[m("image",t,!0)];"string"==typeof o?e=y.sprite.bitmapToImageLiteral(y.sprite.getBitmapFromJResURL(o),"typescript"):(e=y.sprite.bitmapToImageLiteral(y.sprite.getBitmapFromJResURL(o.data),"typescript"),c.push(o.displayName)),n.push({keys:c,expression:e})}else o.mimeType===y.ANIMATION_MIME_TYPE?(c=b(o),i.push({keys:[o.displayName,m("animation",t,!0)],expression:`[${c.frames.map(e=>y.sprite.bitmapToImageLiteral(y.sprite.Bitmap.fromData(e),"typescript")).join(", ")}]`})):o.mimeType===y.SONG_MIME_TYPE?a.push({keys:[m("song",t,!0),o.displayName],expression:`hex\`${o.data}\``}):o.mimeType===y.JSON_MIME_TYPE&&s.push({keys:[m("json",t,!0),o.displayName],expression:o.data})}var l=lf("Auto-generated code. Do not edit."),r=(r=(r=(r+=u("image",n))+u("animation",i))+u("song",a))+u("json",s);return`// ${l}
namespace ${y.sprite.IMAGES_NAMESPACE} {
${r}
}
// ${l}
`},y.cloneAsset=s,y.assetEquals=c,y.validateAssetName=function(e){return!!e&&!/[\u0000-\u001f\u0021-\u002c\u002e\u002f\u003a-\u0040\u005b-\u005e\u0060\u007b-\u007f]/.test(e)},y.getTSReferenceForAsset=function(e,t=!1){let r,n;if(!(n=null!=(r=e.meta)&&r.displayName?e.meta.displayName:p(e)))return"image"===e.type||"tile"===e.type?e.id:void 0;var i=t?'("""':"`",a=t?'""")':"`";switch(e.type){case"tile":return"assets.tile"+i+n+a;case"image":return"assets.image"+i+n+a;case"animation":return"assets.animation"+i+n+a;case"tilemap":return"tilemap"+i+n+a;case"song":return"assets.song"+i+n+a;case"json":return"assets.json"+i+n+a}},y.parseAssetTSReference=d,y.lookupProjectAssetByTSReference=function(e,t){if(e=d(e)){var{type:e,name:r}=e;switch(e){case"tile":return t.lookupAssetByName("tile",r);case"image":return t.lookupAssetByName("image",r);case"tilemap":return t.lookupAssetByName("tilemap",r)||t.lookupAsset("tilemap",r);case"animation":return t.lookupAssetByName("animation",r);case"song":return t.lookupAssetByName("song",r);case"json":return t.lookupAssetByName("json",r)}}},y.getDefaultAssetDisplayName=function(e){switch(e){case"image":return lf("myImage");case"tile":return lf("myTile");case"tilemap":return lf("level");case"animation":return lf("myAnim");case"song":return lf("mySong");case"json":return lf("myFile");default:return lf("asset")}},y.getShortIDForAsset=p,y.validateAsset=f,y.patchTemporaryAsset=function(e,t,r){var n;return e&&!c(e,t)&&(t=s(t,!0),e=-1===e.internalID,n=-1===t.internalID,e&&!n)&&(t.id=r.generateNewID(t.type),t.internalID=r.getNewInternalId()),t}})(pxt=pxt||{}),(i=>{{var e=i.toolbox||(i.toolbox={});let r={},n=(e.blockColors={loops:"#107c10",logic:"#006970",math:"#712672",variables:"#A80000",functions:"#005a9e",text:"#996600",arrays:"#A94400",advanced:"#3c3c3c",addpackage:"#717171",search:"#000",debug:"#e03030",default:"#dddddd",topblocks:"#aa8f00",recipes:"#717171"},e.blockIcons={loops:"",logic:"",math:"",variables:"",functions:"",text:"",arrays:"",advancedcollapsed:"",advancedexpanded:"",more:"",addpackage:"",search:"",debug:"",default:"",topblocks:"",recipes:""},"");function a(e){e=((e,t,r)=>{let n=0,i=0,a=0;if(0==t)n=r,i=r,a=r;else{var s=Math.floor(e/60),e=e/60-s,o=r*(1-t),c=r*(1-t*e),l=r*(1-t*(1-e));switch(s){case 1:n=c,i=r,a=o;break;case 2:n=o,i=r,a=l;break;case 3:n=o,i=c,a=r;break;case 4:n=l,i=o,a=r;break;case 5:n=r,i=o,a=c;break;case 6:case 0:n=r,i=l,a=o}}return[Math.floor(n),Math.floor(i),Math.floor(a)]})(e,.45,165.75);return"#"+t(e[0])+t(e[1])+t(e[2])}function t(e){e=e.toString(16);return 1==e.length?"0"+e:e}function s(e){var t;return null!=(t=null==(t=i.appTarget)?void 0:t.appTheme)&&t.adjustBlockContrast?(r[e]||(r[e]=i.getWhiteContrastingBackground(e)),r[e]):e}e.appendToolboxIconCss=function(e,t){var r;-1<n.indexOf(e)||(1===t.length?(r=i.Util.unicodeToChar(t),n+=`
                .blocklyTreeIcon.${e}::before {
                    content: "${r}";
                }
            `):n+=`
                .blocklyTreeIcon.${e} {
                    background-image: url("${i.Util.pathJoin(i.webConfig.commitCdnUrl,encodeURI(t))}")!important;
                    width: 30px;
                    height: 100%;
                    background-size: 20px !important;
                    background-repeat: no-repeat !important;
                    background-position: 50% 50% !important;
                }
            `)},e.getNamespaceColor=function(e){e=e.toLowerCase();let t;return i.appTarget.appTheme.blockColors&&i.appTarget.appTheme.blockColors[e]?t=i.appTarget.appTheme.blockColors[e]:i.toolbox.blockColors[e]&&(t=i.toolbox.blockColors[e]),t?s(t):""},e.getNamespaceIcon=function(e){return e=e.toLowerCase(),i.appTarget.appTheme.blockIcons&&i.appTarget.appTheme.blockIcons[e]?i.appTarget.appTheme.blockIcons[e]:i.toolbox.blockIcons[e]||""},e.advancedTitle=function(){return i.Util.lf("{id:category}Advanced")},e.addPackageTitle=function(){return i.Util.lf("{id:category}Extensions")},e.recipesTitle=function(){return i.Util.lf("{id:category}Tutorials")},e.convertColor=function(e){e=(t=e)?"0x"==t.substring(0,2)?"#"+t.substring(2):t:"#000000";var t=parseInt(e);return isNaN(t)?e:a(t)},e.hueToRgb=a,e.fadeColor=function(t,r,n){(t=t.replace(/[^0-9a-f]/gi,"")).length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);let i="#";for(let e=0;e<3;e++){var a=parseInt(t.substr(2*e,2),16),a=(a=Math.round(Math.min(Math.max(0,n?a+a*r:a-a*r),255))).toString(16);i+=("00"+a).substr(a.length)}return i},e.getAccessibleBackground=s}})(pxt=pxt||{}),(v=>{{var e=v.tutorial||(v.tutorial={});let h=/^##[^#](.*)$([\s\S]*?)(?=^##[^#]|$(?![\r\n]))/gim,y=/^###[^#](.*)$([\s\S]*?)(?=^###[^#]|$(?![\r\n]))/gim;function b(){return/``` *(sim|block|blocks|filterblocks|spy|ghost|typescript|ts|js|javascript|template|python|jres|assetjson|customts|simtheme|python-template|ts-template|typescript-template|js-template|javascript-template)\s*\n([\s\S]*?)\n```/gim}function x(e,t,o){t=t||h;let c=[];if(e.replace(t,function(e,t,r){var{header:n,hint:i}=((e,t)=>{let r=e=T(e),n;return t?(t=/#+ ~ tutorialhint([\s\S]*)/i,r=e.replace(t,function(e,t){return n=t,""})):(t=e.match(/(^[\s\S]*?\S)\s*((```|\[?\!\[[\s\S]+?\]\(\S+?\)\]?)[\s\S]*)/im))&&2<t.length&&(r=t[1].trim(),n=t[2].trim()),{header:r,hint:n}})(r=r.trim(),o&&o.explicitHints),a=k("local",r),s=S("local",r),r={title:t.match(/^\{.*\}$/)?void 0:t.replace(/@(fullscreen|unplugged|showdialog|showhint|tutorialCompleted|resetDiff)/gi,"").trim(),contentMd:r,headerContentMd:n,localBlockConfig:a,localValidationConfig:s};return/@(fullscreen|unplugged|showdialog|showhint)/i.test(t)&&(r.showHint=!0),/@(unplugged|showdialog)/i.test(t)&&(r.showDialog=!0),/@tutorialCompleted/.test(t)&&(r.tutorialCompleted=!0),/@resetDiff/.test(t)&&(r.resetDiff=!0),i&&(r.hintContentMd=i),c.push(r),""}),0!=e.indexOf("# Not found"))return c;v.debug("tutorial not found")}function k(e,t){let r={md:"",blocks:[]};e=new RegExp(`\`\`\`\\s*blockconfig\\.${e}\\s*\\n([\\s\\S]*?)\\n\`\`\``,"gmi");return t.replace(e,(e,t)=>(r.md+=t+`
`,"")),r}function S(e,t){let r;e=new RegExp(`\`\`\`\\s*validation\\.${e}\\s*\\n([\\s\\S]*?)\\n\`\`\``,"gmi");return t.replace(e,(e,t)=>(r=t,"")),r&&""!=r?{validatorsMetadata:v.getSectionsFromMarkdownMetadata(r).map(e=>({validatorType:e.header,properties:e.attributes}))}:null}function T(e){return e&&e.replace(/```(filterblocks|package|ghost|config|template|jres|assetjson|simtheme|customts|blockconfig\.local|blockconfig\.global|validation\.local|validation\.global)\s*\n([\s\S]*?)\n```/gim,"").trim()}function C(e){if(e)return e=JSON.parse(e),{[v.TILEMAP_JRES]:e[v.TILEMAP_JRES],[v.TILEMAP_CODE]:e[v.TILEMAP_CODE],[v.IMAGES_JRES]:e[v.IMAGES_JRES],[v.IMAGES_CODE]:e[v.IMAGES_CODE]}}function E(e){var t,e=v.Util.jsonTryParse(e);if(e)return t={},e.theme&&(t.theme=e.theme),e.palette&&(t.palette=e.palette),t}e.parseTutorial=function(e){var{metadata:t,body:r}=(e=>{let n={},t=e.replace(/### @(\S+) ([ \S]+)/gi,function(e,t,r){try{n[t]=JSON.parse(r)}catch(e){n[t]=r}return""}),r=n;return void 0!==r.explicitHints&&v.appTarget.appTheme&&v.appTarget.appTheme.tutorialExplicitHints&&(r.explicitHints=!0),{metadata:r,body:t}})(e),{steps:n,activities:i}=((t,r)=>{if(r&&r.activities){var o=r;let a=[],s=[];return t.replace(h,function(e,t,r){let n=s.length,i=(s.push({name:t||lf("Activity {0}",n),step:a.length}),x(r,y,o));return i=i.map(e=>(e.activity=n,e)),a=a.concat(i),""}),{steps:a,activities:s}}{let e=x(t,null,r);return{steps:e=!e||e.length<1?x(t,y,r):e,activities:null}}})(r,t),a=(e=>(e=e.match(/^#[^#](.*)$/im))&&1<e.length?e[1].trim():null)(r);if(n){var{code:r,templateCode:s,templateLanguage:o,editor:c,language:l,jres:u,assetJson:d,customTs:p,simThemeJson:f}=(e=>{let t=void 0,r=b(),n,i=[],a,s,o,c=0,l,u,d;return e.replace(/((?!.)\s)+/g,"\n").replace(r,function(e,t,r){switch(t){case"block":case"blocks":case"blockconfig.local":case"blockconfig.global":case"filterblocks":if(p(v.BLOCKS_PROJECT_NAME))break;return;case"spy":case"python":if(!p(v.PYTHON_PROJECT_NAME))return;"python"==t&&(o=t);break;case"typescript":case"ts":case"javascript":case"js":if(p(v.JAVASCRIPT_PROJECT_NAME))break;return;case"template":a=r;break;case"python-template":if(!p(v.PYTHON_PROJECT_NAME))return;a=r,s="python",o="python";break;case"ts-template":case"typescript-template":case"js-template":case"javascript-template":if(!p(v.JAVASCRIPT_PROJECT_NAME))return;a=r,s="typescript";break;case"jres":n=r;break;case"assetjson":l=r;break;case"simtheme":d=r;break;case"customts":u=r,r=""}return i.push("python"===o?`
${r}
`:`{
${r}
}`),c++,""}),t=t||v.BLOCKS_PROJECT_NAME,{code:i,templateCode:a,templateLanguage:s,editor:t,language:o,jres:n,assetJson:l,customTs:u,simThemeJson:d};function p(e){if(!t||t==e)return t=e,1;v.debug("tutorial ambiguous: contains snippets of different types")}})(r);if(v.BrowserUtils.useOldTutorialLayout()&&"python"===l&&t.flyoutOnly&&(t.flyoutOnly=!1,t.hideToolbox=!0),!0===t.diffs||!1!==t.diffs&&!0!==t.noDiffs&&(c==v.BLOCKS_PROJECT_NAME&&v.appTarget.appTheme.tutorialBlocksDiff||c!=v.BLOCKS_PROJECT_NAME&&v.appTarget.appTheme.tutorialTextDiff)){var _=n;var m=i;let c=void 0;function g(e){let s={typescript:"diff",spy:"diffspy",blocks:"diffblocks",python:"diff"},o=/\s*(\/\/|#)\s*@highlight/gm;return e&&e.replace(/```(typescript|spy|python|blocks|ghost|template)((?:.|[\r\n])+)```/,function(e,t,r){var n=c,i=/^(template|ghost)$/.test(t),a=o.test(r);return r=r.replace(/^\n+/,"").replace(/\n+$/,""),a&&(r=r.replace(o,"")),c=r,!n||a||i?e:`\`\`\`${s[t]}
${n}
----------
${r}
\`\`\``})}_.forEach((e,t)=>{if((e.resetDiff||m&&m.find(e=>e.step==t))&&(c=void 0),e.hintContentMd){var r=g(e.hintContentMd);if(r&&r!=e.hintContentMd)return void(e.hintContentMd=r)}e.headerContentMd&&(r=g(e.headerContentMd))&&r!=e.headerContentMd&&(e.headerContentMd=r)})}_=C(d),d=E(f),f=k("global",e),e=S("global",e);return n.forEach(e=>{e.contentMd=T(e.contentMd),e.headerContentMd=T(e.headerContentMd),e.hintContentMd=T(e.hintContentMd)}),{editor:c,title:a,steps:n,activities:i,code:r,templateCode:s,templateLanguage:o,metadata:t,language:l,jres:u,assetFiles:_,customTs:p,globalBlockConfig:f,globalValidationConfig:e,simTheme:d}}},e.getMetadataRegex=b,e.highlight=function(r){let e=r.textContent;if(e=(e=e.replace(/img\s*\(\s*"{3}[\s\da-f.#tngrpoyw]*"{3}\s*\)/g,'img(""" """)')).replace(/img\s*`[\s\da-f.#tngrpoyw]*`\s*/g,"img` `"),/@highlight/.test(e)){r.textContent="";var n,i=e.split("\n");for(let t=0;t<i.length;++t){0<t&&t<i.length&&r.appendChild(document.createTextNode("\n"));let e=i[t];/@highlight/.test(e)?void 0!==(e=i[++t])&&((n=document.createElement("span")).className="highlight-line",n.textContent=e,r.appendChild(n)):r.appendChild(document.createTextNode(e))}}else r.textContent=e},e.getTutorialOptions=function(e,t,r,n,i){var a=v.tutorial.parseTutorial(e);if(a)return{options:{tutorial:t,tutorialName:a.title||r,tutorialReportId:n,tutorialStep:0,tutorialReady:!0,tutorialHintCounter:0,tutorialStepInfo:a.steps,tutorialActivityInfo:a.activities,tutorialMd:e,tutorialCode:a.code,tutorialRecipe:!!i,templateCode:a.templateCode,templateLanguage:a.templateLanguage,autoexpandStep:null==(t=a.metadata)||!t.autoexpandOff,metadata:a.metadata,language:a.language,jres:a.jres,assetFiles:a.assetFiles,customTs:a.customTs,globalBlockConfig:a.globalBlockConfig,globalValidationConfig:a.globalValidationConfig,simTheme:a.simTheme},editor:a.editor};throw new Error(lf("Invalid tutorial format"))},e.parseCachedTutorialInfo=function(e,i){let a=v.Util.jsonTryParse(e);return a?v.BrowserUtils.tutorialInfoDbAsync().then(e=>{if(i&&a[i]){var t=a[i];t.usedBlocks&&t.hash&&e.setWithHashAsync(i,t.snippetBlocks,t.hash,t.highlightBlocks,t.validateBlocks)}else for(var r of Object.keys(a)){var n=a[r];n.usedBlocks&&n.hash&&e.setWithHashAsync(r,n.snippetBlocks,n.hash,n.highlightBlocks,n.validateBlocks)}}).catch(e=>{}):Promise.resolve()},e.resolveLocalizedMarkdown=function(e,t,r){let n=r||e.fileName||"README",i=(n.endsWith(".md")||(n+=".md"),void 0);var[r,e,a]=v.Util.normalizeLanguageCode(v.Util.userLanguage());return i=(i=r&&e&&a?t[`_locales/${r}/`+n]||t[`_locales/${a}/`+n]||t[`_locales/${e}/`+n]:t[`_locales/${r}/`+n])||t[n]},e.parseAssetJson=C,e.parseSimThemeJson=E,e.getTutorialHighlightedBlocks=async function(e){return null==(e=await(await v.BrowserUtils.tutorialInfoDbAsync()).getAsync(e.tutorial,e.tutorialCode))?void 0:e.highlightBlocks},e.getTutorialValidateBlocks=async function(e){return null==(e=await(await v.BrowserUtils.tutorialInfoDbAsync()).getAsync(e.tutorial,e.tutorialCode))?void 0:e.validateBlocks},e.getRequiredBlockCounts=function(e){if(e){let t={};e=e["validate-exists"];return e&&e.forEach(e=>{t[e]=(t[e]||0)+1}),t}},e.getTutorialStepHash=function(e){var{tutorialStepInfo:e,tutorialStep:t}=e,e=(e=>{let n=[];return null==e||e.replace(/((?!.)\s)+/g,"\n").replace(/``` *(block|blocks)\s*\n([\s\S]*?)\n```/gim,function(e,t,r){return n.push(`{
${r}
}`),""}),n})(e[t].hintContentMd);return v.BrowserUtils.getTutorialCodeHash(e)},e.shouldFilterProject=function(e){return!(!e||!e.hideFromProjects&&!e.hideIteration)}}})(pxt=pxt||{}),(o=>{var e;{var c=o.pxtc||(o.pxtc={});c.flattenDiagnosticMessageText=function(n,i){if("string"==typeof n)return n;{let e=n,t="",r=0;for(;e;){if(r){t+=i;for(let e=0;e<r;e++)t+="  "}t+=e.messageText,r++,e=e.next}return t}};let r,n=((e=r=c.ScriptTarget||(c.ScriptTarget={}))[e.ES3=0]="ES3",e[e.ES5=1]="ES5",e[e.ES6=2]="ES6",e[e.ES2015=2]="ES2015",e[e.Latest=2]="Latest",c.isIdentifierStart=function(e,t){return 65<=e&&e<=90||97<=e&&e<=122||36===e||95===e||127<e&&l(e,t)},c.isIdentifierPart=function(e,t){return 65<=e&&e<=90||97<=e&&e<=122||48<=e&&e<=57||36===e||95===e||127<e&&(e=e,t>=r.ES5?u(e,i):u(e,s))},c.reservedWords=["abstract","any","as","break","case","catch","class","continue","const","constructor","debugger","declare","default","delete","do","else","enum","export","extends","false","finally","for","from","function","get","if","implements","import","in","instanceof","interface","is","let","module","namespace","new","null","package","private","protected","public","require","global","return","set","static","super","switch","symbol","this","throw","true","try","type","typeof","var","void","while","with","yield","async","await","of","Math"],c.keywordTypes=["boolean","number","string"],c.escapeIdentifier=function(e){if(!e)return"_";let t=e.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_$]/g,e=>o.pxtc.isIdentifierPart(e.charCodeAt(0),o.pxtc.ScriptTarget.ES5)?e:"");return t=t&&o.pxtc.isIdentifierStart(t.charCodeAt(0),o.pxtc.ScriptTarget.ES5)&&-1===c.reservedWords.indexOf(t)?t:"_"+t},[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2208,2208,2210,2220,2308,2361,2365,2365,2384,2384,2392,2401,2417,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7401,7404,7406,7409,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42647,42656,42735,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500]),i=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1319,1329,1366,1369,1369,1377,1415,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1520,1522,1552,1562,1568,1641,1646,1747,1749,1756,1759,1768,1770,1788,1791,1791,1808,1866,1869,1969,1984,2037,2042,2042,2048,2093,2112,2139,2208,2208,2210,2220,2276,2302,2304,2403,2406,2415,2417,2423,2425,2431,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2902,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3140,3142,3144,3146,3149,3157,3158,3160,3161,3168,3171,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3299,3302,3311,3313,3314,3330,3331,3333,3340,3342,3344,3346,3386,3389,3396,3398,3400,3402,3406,3415,3415,3424,3427,3430,3439,3450,3455,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5908,5920,5940,5952,5971,5984,5996,5998,6e3,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6157,6160,6169,6176,6263,6272,6314,6320,6389,6400,6428,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6617,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6912,6987,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7376,7378,7380,7414,7424,7654,7676,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8204,8205,8255,8256,8276,8276,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,11823,11823,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12442,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42647,42655,42737,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43047,43072,43123,43136,43204,43216,43225,43232,43255,43259,43259,43264,43309,43312,43347,43360,43388,43392,43456,43471,43481,43520,43574,43584,43597,43600,43609,43616,43638,43642,43643,43648,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65062,65075,65076,65101,65103,65136,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],a=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1569,1594,1600,1610,1649,1747,1749,1749,1765,1766,1786,1788,1808,1808,1810,1836,1920,1957,2309,2361,2365,2365,2384,2384,2392,2401,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2784,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2877,2877,2908,2909,2911,2913,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3294,3294,3296,3297,3333,3340,3342,3344,3346,3368,3370,3385,3424,3425,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3805,3840,3840,3904,3911,3913,3946,3976,3979,4096,4129,4131,4135,4137,4138,4176,4181,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6067,6176,6263,6272,6312,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8319,8319,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12329,12337,12341,12344,12346,12353,12436,12445,12446,12449,12538,12540,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65138,65140,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],s=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,768,846,864,866,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1155,1158,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1425,1441,1443,1465,1467,1469,1471,1471,1473,1474,1476,1476,1488,1514,1520,1522,1569,1594,1600,1621,1632,1641,1648,1747,1749,1756,1759,1768,1770,1773,1776,1788,1808,1836,1840,1866,1920,1968,2305,2307,2309,2361,2364,2381,2384,2388,2392,2403,2406,2415,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2492,2494,2500,2503,2504,2507,2509,2519,2519,2524,2525,2527,2531,2534,2545,2562,2562,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2649,2652,2654,2654,2662,2676,2689,2691,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2784,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2876,2883,2887,2888,2891,2893,2902,2903,2908,2909,2911,2913,2918,2927,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3006,3010,3014,3016,3018,3021,3031,3031,3047,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3134,3140,3142,3144,3146,3149,3157,3158,3168,3169,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3262,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3297,3302,3311,3330,3331,3333,3340,3342,3344,3346,3368,3370,3385,3390,3395,3398,3400,3402,3405,3415,3415,3424,3425,3430,3439,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3805,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3946,3953,3972,3974,3979,3984,3991,3993,4028,4038,4038,4096,4129,4131,4135,4137,4138,4140,4146,4150,4153,4160,4169,4176,4185,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,4969,4977,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6099,6112,6121,6160,6169,6176,6263,6272,6313,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8255,8256,8319,8319,8400,8412,8417,8417,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12335,12337,12341,12344,12346,12353,12436,12441,12442,12445,12446,12449,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65056,65059,65075,65076,65101,65103,65136,65138,65140,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65381,65470,65474,65479,65482,65487,65490,65495,65498,65500];function l(e,t){return t>=r.ES5?u(e,n):u(e,a)}function u(r,n){if(!(r<n[0])){let e=0,t=n.length;for(var i;e+1<t;){if(i=e+(t-e)/2,n[i-=i%2]<=r&&r<=n[1+i])return!0;r<n[i]?t=i:e=2+i}}return!1}c.isUnicodeIdentifierStart=l,(e=c.DiagnosticCategory||(c.DiagnosticCategory={}))[e.Warning=0]="Warning",e[e.Error=1]="Error",e[e.Message=2]="Message"}})(ts=ts||{}),(s=>{var e;{var n=s.webBluetooth||(s.webBluetooth={});function t(){return!!navigator&&!!navigator.bluetooth&&"TextDecoder"in window&&s.appTarget.appTheme.bluetoothUartConsole&&s.appTarget.appTheme.bluetoothUartFilters&&0<s.appTarget.appTheme.bluetoothUartFilters.length}function r(){return!!navigator&&!!navigator.bluetooth&&!!s.appTarget.appTheme.bluetoothPartialFlashing}n.isAvailable=function(){return t()||r()},n.hasConsole=t,n.hasPartialFlash=r,n.isValidUUID=function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/.test(e)};class o{constructor(e,t){this.connectionTimeout=2e4,this.connectPromise=void 0,this.id=e,this.aliveToken=t}debug(e){s.debug(this.id+": "+e)}alivePromise(e){return new Promise((t,r)=>{this.aliveToken.isCancelled()&&r(new Error),e.then(e=>t(e),e=>r(e))})}cancelConnect(){this.connectPromise=void 0}createConnectPromise(){return Promise.resolve()}connectAsync(){return this.connectPromise||(this.connectPromise=this.alivePromise(this.createConnectPromise())),s.Util.promiseTimeout(this.connectionTimeout,this.connectPromise,"connection timeout").then(()=>this.aliveToken.throwIfCancelled()).catch(e=>{throw this.connectPromise=void 0,e})}disconnect(){this.cancelConnect()}kill(){this.disconnect(),this.aliveToken.cancel()}}n.BLERemote=o;class c extends o{constructor(e,t,r){super(e,t.aliveToken),this.device=t,this.autoReconnect=r,this.autoReconnectDelay=1e3,this.disconnectOnAutoReconnect=!1,this.reconnectPromise=void 0,this.failedConnectionServicesVersion=-1,this.handleDisconnected=this.handleDisconnected.bind(this),this.device.device.addEventListener("gattserverdisconnected",this.handleDisconnected)}handleDisconnected(e){this.aliveToken.isCancelled()||(this.disconnect(),this.autoReconnect&&!this.reconnectPromise&&(this.reconnectPromise=s.U.delay(this.autoReconnectDelay).then(()=>this.exponentialBackoffConnectAsync(8,500)).finally(()=>this.reconnectPromise=void 0)))}exponentialBackoffConnectAsync(t,r){return this.debug("retry connect"),this.aliveToken.throwIfCancelled(),this.connectAsync().then(()=>{this.aliveToken.throwIfCancelled(),this.debug("reconnect success"),this.reconnectPromise=void 0}).catch(e=>{if(this.debug("reconnect error "+e.message),this.aliveToken.throwIfCancelled(),this.device.isPaired)if(this.autoReconnect)if(0==t)this.debug("give up, max tries");else{if(this.failedConnectionServicesVersion!=this.device.servicesVersion)return this.debug(`retry connect ${r}ms... (${t} tries left)`),this.device.connected&&(this.failedConnectionServicesVersion=this.device.servicesVersion),this.disconnectOnAutoReconnect&&this.device.disconnect(),s.U.delay(r).then(()=>this.exponentialBackoffConnectAsync(--t,1.8*r));this.debug("services haven't changed, giving up")}else this.debug("autoreconnect disabled");else this.debug("give up, device unpaired");this.reconnectPromise=void 0})}}n.BLEService=c;class l extends c{constructor(e,t,r,n){super(e,t,!0),this.device=t,this.serviceUUID=r,this.txCharacteristicUUID=n,this.handleValueChanged=this.handleValueChanged.bind(this)}createConnectPromise(){return this.debug("connecting"),this.device.connectAsync().then(()=>this.alivePromise(this.device.gatt.getPrimaryService(this.serviceUUID))).then(e=>(this.debug("service connected"),this.service=e,this.alivePromise(this.service.getCharacteristic(this.txCharacteristicUUID)))).then(e=>(this.debug("tx characteristic connected"),this.txCharacteristic=e,this.txCharacteristic.addEventListener("characteristicvaluechanged",this.handleValueChanged),this.txCharacteristic.startNotifications())).then(()=>{s.tickEvent("webble.connected",{id:this.id})})}handlePacket(e){}handleValueChanged(e){e=e.target.value;this.handlePacket(e)}disconnect(){if(super.disconnect(),this.txCharacteristic&&this.device&&this.device.connected)try{this.txCharacteristic.stopNotifications(),this.txCharacteristic.removeEventListener("characteristicvaluechanged",this.handleValueChanged)}catch(e){s.log(this.id+": error "+e.message)}this.service=void 0,this.txCharacteristic=void 0}}n.BLETXService=l;class u extends l{constructor(e){super("hf2",e,u.SERVICE_UUID,u.CHARACTERISTIC_TX_UUID),this.device=e}handlePacket(r){var e=r.getUint8(0);switch(192&e){case u.BLEHF2_FLAG_SERIAL_OUT:case u.BLEHF2_FLAG_SERIAL_ERR:var n=Math.min(r.byteLength-1,-193&e);let t="";for(let e=0;e<n;++e)t+=String.fromCharCode(r.getUint8(e+1));t&&window.postMessage({type:"serial",id:this.device.name||"hf2",data:t},"*")}}}u.SERVICE_UUID="b112f5e6-2679-30da-a26e-0273b6043849",u.CHARACTERISTIC_TX_UUID="b112f5e6-2679-30da-a26e-0273b604384a",u.BLEHF2_FLAG_SERIAL_OUT=128,u.BLEHF2_FLAG_SERIAL_ERR=192,n.HF2Service=u;class d extends l{constructor(e){super("uart",e,d.SERVICE_UUID,d.CHARACTERISTIC_TX_UUID),this.device=e}handlePacket(e){e=(new window.TextDecoder).decode(e);e&&window.postMessage({type:"serial",id:this.device.name||"uart",data:e},"*")}}d.SERVICE_UUID="6e400001-b5a3-f393-e0a9-e50e24dcca9e",d.CHARACTERISTIC_TX_UUID="6e400002-b5a3-f393-e0a9-e50e24dcca9e",n.UARTService=d;let a;(e=a=a||{})[e.Idle=1]="Idle",e[e.StatusRequested=2]="StatusRequested",e[e.PairingModeRequested=4]="PairingModeRequested",e[e.RegionDALRequested=8]="RegionDALRequested",e[e.RegionMakeCodeRequested=16]="RegionMakeCodeRequested",e[e.Flash=32]="Flash",e[e.EndOfTransmision=64]="EndOfTransmision",e[e.USBFlashRequired=128]="USBFlashRequired";class p extends c{constructor(e){super("partial flashing",e,!1),this.device=e,this.state=a.Idle,this.disconnectOnAutoReconnect=!0,this.handleCharacteristic=this.handleCharacteristic.bind(this)}clearFlashData(){this.version=0,this.mode=0,this.regions=[],this.chunkDelay=p.CHUNK_MIN_DELAY,this.hex=void 0,this.bin=void 0,this.magicOffset=void 0,this.dalHash=void 0,this.makeCodeHash=void 0,this.flashReject=void 0,this.flashResolve=void 0,this.flashOffset=void 0}createConnectPromise(){return this.debug("connecting to partial flash service"),this.device.connectAsync().then(()=>this.alivePromise(this.device.gatt.getPrimaryService(p.SERVICE_UUID))).then(e=>(this.debug("connecting to characteristic"),this.alivePromise(e.getCharacteristic(p.CHARACTERISTIC_UUID)))).then(e=>(this.debug("starting notifications"),this.pfCharacteristic=e,this.pfCharacteristic.startNotifications(),this.pfCharacteristic.addEventListener("characteristicvaluechanged",this.handleCharacteristic),this.state==a.PairingModeRequested?(this.debug("checking pairing mode"),this.autoReconnect=!1,this.pfCharacteristic.writeValue(new Uint8Array([p.STATUS]))):Promise.resolve()))}disconnect(){if(super.disconnect(),this.flashPacketToken&&this.flashPacketToken.cancel(),this.pfCharacteristic&&this.device.connected)try{this.pfCharacteristic.stopNotifications(),this.pfCharacteristic.removeEventListener("characteristicvaluechanged",this.handleCharacteristic)}catch(e){s.log("ble: partial flash disconnect error "+e.message)}this.pfCharacteristic=void 0}findMarker(r,n){if(this.bin)for(;r+n.length<this.bin.length;r+=16){let t=!0;for(let e=0;e<n.length;++e)if(n[e]!=this.bin[r+e]){t=!1;break}if(t)return r}return-1}flashAsync(e){return this.hex?(this.debug("flashing already in progress"),Promise.resolve()):(this.device.pauseLog(),this.createFlashPromise(e).finally(()=>this.device.resumeLogOnDisconnection()))}createFlashPromise(e){if(this.hex)return this.debug("flashing already in progress"),Promise.resolve();this.clearFlashData(),this.hex=e;var e=ts.pxtc.UF2.newBlockFile(),t=(ts.pxtc.UF2.writeHex(e,this.hex.split(/\r?\n/)),s.appTarget.compile.flashUsableEnd),e=(this.bin=ts.pxtc.UF2.toBin(s.U.stringToUint8Array(ts.pxtc.UF2.serializeFile(e)),t).buf,this.debug("bin bytes "+this.bin.length),this.magicOffset=this.findMarker(0,p.MAGIC_MARKER),this.debug("magic block "+this.magicOffset.toString(16)),this.magicOffset<0&&(this.debug("magic block not found, not a valid HEX file"),s.U.userError(lf("Invalid file"))),this.debug("bytes to flash "+(this.bin.length-this.magicOffset)),this.magicOffset+p.MAGIC_MARKER.length);return this.dalHash=s.Util.toHex(this.bin.slice(e,e+8)),this.makeCodeHash=s.Util.toHex(this.bin.slice(e+8,e+16)),this.debug("DAL hash "+this.dalHash),this.debug("MakeCode hash "+this.makeCodeHash),this.connectAsync().then(()=>new Promise((e,t)=>(this.flashResolve=e,this.flashReject=t,this.debug("check service version"),this.state=a.StatusRequested,this.pfCharacteristic.writeValue(new Uint8Array([p.STATUS]))))).then(()=>{},e=>{s.log("pf: error "+e.message),this.clearFlashData()})}checkStateTransition(e,t){return!!(this.state&t)||(this.debug(`flash cmd ${e} in state ${this.state.toString(16)} `),this.flashReject(new Error),this.clearFlashData(),!1)}handleCharacteristic(e){this.aliveToken.isCancelled()&&(this.flashReject(new Error),this.clearFlashData());var t=event.target.value,r=new Uint8Array(t.buffer),n=r[0];if(this.state!=a.Idle)switch(n){case p.STATUS:this.checkStateTransition(n,a.StatusRequested|a.PairingModeRequested)&&(this.version=r[1],this.mode=r[2],this.debug(`flash service version ${this.version} mode `+this.mode),this.debug("reading DAL region"),this.state=a.RegionDALRequested,this.pfCharacteristic.writeValue(new Uint8Array([p.REGION_INFO,p.REGION_DAL])).then(()=>{}));break;case p.REGION_INFO:if(this.checkStateTransition(n,a.RegionDALRequested|a.RegionMakeCodeRequested)){var i=this.regions[r[1]]={start:r[2]<<24|r[3]<<16|r[4]<<8|r[5],end:r[6]<<24|r[7]<<16|r[8]<<8|r[9],hash:s.Util.toHex(r.slice(10))};if(this.debug(`read region ${r[1]} start ${i.start.toString(16)} end ${i.end.toString(16)} hash `+i.hash),r[1]==p.REGION_DAL){if(i.hash!=this.dalHash)return s.tickEvent("webble.flash.DALrequired"),this.debug("DAL hash does not match, partial flashing not possible"),this.state=a.USBFlashRequired,this.flashReject(new Error("USB flashing required")),void this.clearFlashData();this.debug("DAL hash match, reading makecode region"),this.state=a.RegionMakeCodeRequested,this.pfCharacteristic.writeValue(new Uint8Array([p.REGION_INFO,p.REGION_MAKECODE])).then(()=>{})}else if(r[1]==p.REGION_MAKECODE)if(i.start!=this.magicOffset&&(this.debug("magic offset and MakeCode region.start not matching"),s.U.userError(lf("Invalid file"))),i.hash==this.makeCodeHash)s.tickEvent("webble.flash.noop"),this.debug("MakeCode hash matches, same code!"),this.debug("restart application mode"),this.pfCharacteristic.writeValue(new Uint8Array([p.RESET,p.MODE_APPLICATION])).then(()=>{this.state=a.Idle,this.flashResolve(),this.clearFlashData()});else{if(this.mode!=p.MODE_PAIRING)return this.debug("application mode, reset into pairing mode"),this.state=a.PairingModeRequested,this.autoReconnect=!0,void this.pfCharacteristic.writeValue(new Uint8Array([p.RESET,p.MODE_PAIRING])).then(()=>{});this.flashOffset=i.start,this.flashPacketNumber=0,this.debug("starting to flash from address "+this.flashOffset.toString(16)),this.flashNextPacket()}}break;case p.FLASH_DATA:if(this.checkStateTransition(n,a.Flash))switch(r[1]){case p.PACKET_OUT_OF_ORDER:this.debug("packet out of order"),this.flashPacketToken.cancel(),this.flashPacketNumber+=4,this.chunkDelay=Math.min(this.chunkDelay+10,p.CHUNK_MAX_DELAY),this.flashNextPacket();break;case p.PACKET_WRITTEN:this.chunkDelay=Math.max(this.chunkDelay-1,p.CHUNK_MIN_DELAY),this.flashOffset+=64,this.flashPacketNumber+=4,this.flashOffset>=this.bin.length?(this.debug("end transmission"),this.state=a.EndOfTransmision,this.pfCharacteristic.writeValue(new Uint8Array([p.END_OF_TRANSMISSION])).finally(()=>{this.flashResolve&&this.flashResolve(),this.clearFlashData()})):this.flashNextPacket()}break;default:this.debug("unknown message "+s.Util.toHex(r)),this.disconnect()}}flashNextPacket(){this.state=a.Flash,this.flashPacketToken=new s.Util.CancellationToken,this.flashPacketToken.startOperation();let t=this.bin.slice(this.flashOffset,this.flashOffset+64),r=(this.debug(`flashing ${this.flashOffset.toString(16)} / ${this.bin.length.toString(16)} ${(this.flashOffset-this.magicOffset)/(this.bin.length-this.magicOffset)*100>>0}%`),new Uint8Array(20));s.U.delay(this.chunkDelay).then(()=>{this.flashPacketToken.throwIfCancelled(),r[0]=p.FLASH_DATA,r[1]=this.flashOffset>>8&255,r[2]=this.flashOffset>>0&255,r[3]=this.flashPacketNumber;for(let e=0;e<16;e++)r[4+e]=t[e];return this.pfCharacteristic.writeValue(r)}).then(()=>s.U.delay(this.chunkDelay)).then(()=>{this.flashPacketToken.throwIfCancelled(),r[0]=p.FLASH_DATA,r[1]=this.flashOffset>>24&255,r[2]=this.flashOffset>>16&255,r[3]=this.flashPacketNumber+1;for(let e=0;e<16;e++)r[4+e]=t[16+e]||0;return this.pfCharacteristic.writeValue(r)}).then(()=>s.U.delay(this.chunkDelay)).then(()=>{this.flashPacketToken.throwIfCancelled(),r[0]=p.FLASH_DATA,r[1]=0,r[2]=0,r[3]=this.flashPacketNumber+2;for(let e=0;e<16;e++)r[4+e]=t[32+e]||0;return this.pfCharacteristic.writeValue(r)}).then(()=>s.U.delay(this.chunkDelay)).then(()=>{this.flashPacketToken.throwIfCancelled(),r[0]=p.FLASH_DATA,r[1]=0,r[2]=0,r[3]=this.flashPacketNumber+3;for(let e=0;e<16;e++)r[4+e]=t[48+e]||0;return this.pfCharacteristic.writeValue(r)}).then(()=>{let e=this.flashOffset,t=()=>s.U.delay(500).then(()=>{if(e!=this.flashOffset||this.flashPacketToken.isCancelled()||this.aliveToken.isCancelled()||this.state!=a.Flash)return Promise.resolve();this.debug("packet transfer deadlock, force restart"),r[0]=p.FLASH_DATA,r[1]=0,r[2]=0,r[3]=-1;for(let e=0;e<16;e++)r[4+e]=0;return this.pfCharacteristic.writeValue(r).then(()=>t())});t().catch(e=>{this.flashReject&&(this.flashReject(new Error("failed packet transfer")),this.clearFlashData())})}).catch(()=>{this.flashPacketToken.resolveCancel()})}}p.SERVICE_UUID="e97dd91d-251d-470a-a062-fa1922dfa9a8",p.CHARACTERISTIC_UUID="e97d3b10-251d-470a-a062-fa1922dfa9a8",p.REGION_INFO=0,p.FLASH_DATA=1,p.PACKET_OUT_OF_ORDER=170,p.PACKET_WRITTEN=255,p.END_OF_TRANSMISSION=2,p.STATUS=238,p.RESET=255,p.MODE_PAIRING=0,p.MODE_APPLICATION=1,p.REGION_SOFTDEVICE=0,p.REGION_DAL=1,p.REGION_MAKECODE=2,p.MAGIC_MARKER=s.Util.fromHex("708E3B92C615A841C49866C975EE5197"),p.CHUNK_MIN_DELAY=0,p.CHUNK_MAX_DELAY=75,n.PartialFlashingService=p;class f extends o{constructor(e){super("ble",new s.Util.CancellationToken),this.device=void 0,this.services=[],this.pendingResumeLogOnDisconnection=!1,this.servicesVersion=0,this.device=e,this.handleDisconnected=this.handleDisconnected.bind(this),this.handleServiceAdded=this.handleServiceAdded.bind(this),this.handleServiceChanged=this.handleServiceChanged.bind(this),this.handleServiceRemoved=this.handleServiceRemoved.bind(this),this.device.addEventListener("gattserverdisconnected",this.handleDisconnected),this.device.addEventListener("serviceadded",this.handleServiceAdded),this.device.addEventListener("servicechanged",this.handleServiceChanged),this.device.addEventListener("serviceremoved",this.handleServiceRemoved),t()&&(this.services.push(this.uartService=new d(this)),this.services.push(this.hf2Service=new u(this))),r()&&this.services.push(this.partialFlashingService=new p(this)),this.aliveToken.startOperation()}startServices(){this.services.filter(e=>e.autoReconnect).forEach(e=>e.connectAsync().catch(()=>{}))}pauseLog(){this.uartService&&(this.uartService.autoReconnect=!1,this.uartService.disconnect()),this.hf2Service&&(this.hf2Service.autoReconnect=!1,this.hf2Service.disconnect())}resumeLogOnDisconnection(){this.pendingResumeLogOnDisconnection=!0}resumeLog(){this.uartService&&(this.uartService.autoReconnect=!0,this.uartService.connectAsync().catch(()=>{})),this.hf2Service&&(this.hf2Service.autoReconnect=!0,this.hf2Service.connectAsync().catch(()=>{}))}get isPaired(){return this===n.bleDevice}get name(){return this.device.name||"?"}get connected(){return this.device&&this.device.gatt&&this.device.gatt.connected}get gatt(){return this.device.gatt}createConnectPromise(){return this.debug("connecting gatt server"),this.alivePromise(this.device.gatt.connect().then(()=>this.debug("gatt server connected")))}handleServiceAdded(e){this.debug("service added"),this.servicesVersion++}handleServiceRemoved(e){this.debug("service removed"),this.servicesVersion++}handleServiceChanged(e){this.debug("service changed"),this.servicesVersion++}handleDisconnected(e){this.debug("disconnected"),this.disconnect(),this.pendingResumeLogOnDisconnection&&(this.pendingResumeLogOnDisconnection=!1,s.U.delay(500).then(()=>this.resumeLog()))}disconnect(){if(super.disconnect(),this.services.forEach(e=>e.disconnect()),this.connected){this.debug("disconnect");try{this.device.gatt&&this.device.gatt.connected&&this.device.gatt.disconnect()}catch(e){this.debug("gatt disconnect error "+e.message)}}}}function i(){if(n.bleDevice)return Promise.resolve();s.log("ble: requesting device");var e=[];return t()&&(e.push(d.SERVICE_UUID),e.push(u.SERVICE_UUID)),r()&&e.push(p.SERVICE_UUID),navigator.bluetooth.requestDevice({filters:s.appTarget.appTheme.bluetoothUartFilters,optionalServices:e}).then(e=>(s.log("ble: received device "+e.name),n.bleDevice=new f(e),n.bleDevice.startServices(),n.bleDevice.connectAsync()))}n.BLEDevice=f,n.bleDevice=void 0,n.isPaired=function(){return!!n.bleDevice},n.pairAsync=function(){return n.bleDevice&&(n.bleDevice.kill(),n.bleDevice=void 0),i().catch(e=>{n.bleDevice&&n.bleDevice.aliveToken&&n.bleDevice.aliveToken.resolveCancel(),s.log("ble: error "+e.message)})},n.flashAsync=function(e,t){s.tickEvent("webble.flash");let r=e.outfiles[ts.pxtc.BINARY_HEX];return i().then(()=>n.bleDevice.partialFlashingService.flashAsync(r)).then(()=>s.tickEvent("webble.flash.success")).catch(e=>{throw s.tickEvent("webble.fail.fail",{message:e.message}),e})}}})(pxt=pxt||{}),(a=>{{var i=a.usb||(a.usb={});class l extends Error{constructor(e){super(e),this.message=e}}i.USBError=l,i.filters=[{classCode:255,subclassCode:42}];let n=!0;i.setFilters=function(e){n=!1,i.filters=e};class u{constructor(){this.ready=!1,this.connecting=!1,this.readLoopStarted=!1,this.onDeviceConnectionChanged=e=>{},this.onConnectionChanged=()=>{},this.onData=e=>{},this.onError=e=>{},this.onEvent=e=>{},this.enabled=!1,this.handleUSBConnected=this.handleUSBConnected.bind(this),this.handleUSBDisconnected=this.handleUSBDisconnected.bind(this)}enable(){var e;this.enabled||(this.enabled=!0,this.log("registering webusb events"),null!=(e=navigator.usb)&&e.addEventListener("disconnect",this.handleUSBDisconnected,!1),null!=(e=navigator.usb)&&e.addEventListener("connect",this.handleUSBConnected,!1))}disable(){var e;this.enabled&&(this.enabled=!1,this.log("unregistering webusb events"),null!=(e=navigator.usb)&&e.removeEventListener("disconnect",this.handleUSBDisconnected),null!=(e=navigator.usb))&&e.removeEventListener("connect",this.handleUSBConnected)}async disposeAsync(){this.disable()}handleUSBDisconnected(e){this.log("device disconnected"),e.device==this.dev&&(this.log("clear device"),this.clearDev(),null!=(e=this.onDeviceConnectionChanged))&&e.call(this,!1)}handleUSBConnected(e){var e=e.device;this.log("device connected "+e.serialNumber),this.dev||this.connecting||(this.log("attach device"),null!=(e=this.onDeviceConnectionChanged)&&e.call(this,!0))}clearDev(){var e;this.dev&&(this.dev=null,this.epIn=null,(this.epOut=null)!=(e=this.onConnectionChanged))&&e.call(this)}error(e){throw new l(a.U.lf("USB error on device {0} ({1})",this.dev.productName,e))}log(e){a.debug("webusb: "+e)}async disconnectAsync(){if(this.ready=!1,this.dev){this.log("close device");try{await this.dev.close()}catch(e){}this.clearDev(),await a.U.delay(500)}}async forgetAsync(){var e;if(null==(e=this.dev)||!e.forget)return!1;try{var t=this.dev;return await this.disconnectAsync(),await t.forget(),!0}catch(e){return!1}}async reconnectAsync(){this.log("reconnect"),this.setConnecting(!0);try{await this.disconnectAsync();var e=await r();await this.connectAsync(e)}finally{this.setConnecting(!1)}}setConnecting(e){e!=this.connecting&&(this.connecting=e,null!=(e=this.onConnectionChanged))&&e.call(this)}isConnecting(){return this.connecting}isConnected(){return!!this.dev&&this.ready}async connectAsync(t){var e,r;if(this.log(`trying to connect (${t.length} devices)`),0==t.length)throw(e=new Error("Device not found.")).type="devicenotfound",e;this.setConnecting(!0);try{this.lastKnownDeviceSerialNumber&&((r=t.find(e=>e.serialNumber===this.lastKnownDeviceSerialNumber))?(this.log("last known device spotted"),t.splice(t.indexOf(r),1),t.unshift(r)):(this.log("delay for last known device"),await a.U.delay(2e3)));for(let e=0;e<t.length;++e){var n=t[e];this.dev=n,this.log(`connect device: ${n.manufacturerName} `+n.productName),this.log(`serial number: ${n.serialNumber} ${this.lastKnownDeviceSerialNumber===n.serialNumber?"(last known device)":""} `);try{return void await this.initAsync()}catch(e){this.dev=void 0,this.log("connection failed, "+e.message)}}var i=new Error(a.U.lf("Device in use or not found."));throw i.type="devicelocked",i}finally{this.setConnecting(!1)}}async sendPacketAsync(e){if(!this.dev)throw new Error("Disconnected");a.Util.assert(e.length<=64),this.epOut?"ok"!=(await this.dev.transferOut(this.epOut.endpointNumber,e)).status&&this.error("USB OUT transfer failed"):"ok"!=(await this.dev.controlTransferOut({requestType:"class",recipient:"interface",request:9,value:512,index:this.iface.interfaceNumber},e)).status&&this.error("USB CTRL OUT transfer failed")}async readLoop(){if(!this.readLoopStarted)for(this.readLoopStarted=!0,this.log("start read loop");;)if(this.ready)try{var e=await this.recvPacketAsync();e[0]?this.onData(e):await a.U.delay(500)}catch(e){this.dev&&this.onError(e),await a.U.delay(300)}else await a.U.delay(300)}async recvPacketAsync(e){for(var t=Date.now();!e||Date.now()<t+e;){if(!this.dev)throw new Error("Disconnected");var r=await(this.epIn?this.dev.transferIn(this.epIn.endpointNumber,64):this.dev.controlTransferIn({requestType:"class",recipient:"interface",request:1,value:256,index:this.iface.interfaceNumber},64)),r=("ok"!=r.status&&this.error("USB IN transfer failed"),new Uint8Array(r.data.buffer));if(0!=r.length)return r}this.error("USB IN timed out")}async initAsync(){if(!this.dev)throw new Error("Disconnected");var e=this.dev,t=(this.log("open device"),await e.open(),this.log("select configuration"),await e.selectConfiguration(1),this.log("got "+e.configurations[0].interfaces.length+" interfaces"),e.configurations[0].interfaces.filter(e=>{var t,r=e.alternates[0];for(t of i.filters)if((null==t.classCode||r.interfaceClass===t.classCode)&&!(null!=t.subclassCode&&r.interfaceSubclass!==t.subclassCode||null!=t.protocolCode&&r.interfaceProtocol!==t.protocolCode)){if(0==r.endpoints.length)return!0;if(2==r.endpoints.length&&r.endpoints.every(e=>64==e.packetSize))return!0}return!1})),r=t[t.length-1];this.log(t.length+" matching interfaces; picking "+(r?"#"+r.interfaceNumber:"n/a")),r||this.error("cannot find supported USB interface"),this.altIface=r.alternates[0],this.iface=r,this.altIface.endpoints.length?(this.log("using dedicated endpoints"),this.epIn=this.altIface.endpoints.filter(e=>"in"==e.direction)[0],this.epOut=this.altIface.endpoints.filter(e=>"out"==e.direction)[0],a.Util.assert(64==this.epIn.packetSize),a.Util.assert(64==this.epOut.packetSize)):this.log("using ctrl pipe"),this.log("claim interface"),await e.claimInterface(r.interfaceNumber),this.log("device ready"),this.lastKnownDeviceSerialNumber=this.dev.serialNumber,this.ready=!0,n&&this.readLoop(),null!=(t=this.onConnectionChanged)&&t.call(this)}}async function r(){var e;a.log("webusb: get devices");try{return await(null==(e=navigator.usb)?void 0:e.getDevices())||[]}catch(e){return a.reportException(e),[]}}i.pairAsync=async function(){var e;try{return!!await(null==(e=navigator.usb)?void 0:e.requestDevice({filters:i.filters}))}catch(e){if("NotFoundError"!=e.name)throw e}},i.tryGetDevicesAsync=r;let e,t=(i.mkWebUSBHIDPacketIOAsync=function(){return a.debug("packetio: mk webusb io"),(e=e||new u).enable(),Promise.resolve(e)},i.forgetDeviceAsync=async function(){return a.debug("packetio: forget webusb io"),!!e&&e.forgetAsync()},i.isEnabled=!1,i.setEnabled=function(e){c()||(e=!1),i.isEnabled=e},void 0);async function s(){if(void 0===t)if(a.debug("webusb: checking availability"),null!=(e=null==(e=a.appTarget)?void 0:e.compile)&&e.webUSB){var e=await o();if(e)switch(t=!1,a.tickEvent("webusb.off",{reason:e}),e){case"electron":a.debug("webusb: off, electron");break;case"notimpl":a.debug("webusb: off, not implemented by browser");break;case"oldwindows":a.debug("webusb: off, older windows version");break;case"security":a.debug("webusb: off, security exception")}else t=!0}else t=!1}async function o(){if(a.BrowserUtils.isElectron())return"electron";var e=navigator.usb;if(!e)return"notimpl";var t=/Windows NT (\d+\.\d+)/.exec(navigator.userAgent);if(t&&parseFloat(t[1])<6.3)return"oldwindows";try{await e.getDevices()}catch(e){return"security"}}function c(){return void 0===t&&(a.error("checkAvailableAsync not called"),s()),!!t}i.checkAvailableAsync=s,i.getReasonUnavailable=o,i.isAvailable=c}})(pxt=pxt||{}),(a=>{{var e=a.worker||(a.worker={}),n=a.Util;let r={};function s(a){let s={},o=0,e=new n.PromiseQueue,t=new Promise((e,t)=>{s.ready=e});e.enqueue("main",()=>t);return{opAsync:function(n,i){return e.enqueue("main",()=>new Promise((t,r)=>{var e=""+o++;s[e]=e=>{e?e.errorMessage?r(new Error(e.errorMessage)):t(e):r(new Error("no response"))},a({id:e,op:n,arg:i})}))},recvHandler:e=>{var t;s.hasOwnProperty(e.id)&&(t=s[e.id],delete s[e.id],t(e.result))}}}function i(e){let t=new Worker(e),r=s(e=>t.postMessage(e));return t.onmessage=e=>{a.perf.measureStart(Measurements.WebworkerRecvHandler),r.recvHandler(e.data),a.perf.measureEnd(Measurements.WebworkerRecvHandler)},r}e.getWorker=function(e){let t=r[e];return t=t||(r[e]=i(e))},e.wrap=s,e.makeWebWorker=i,e.makeWebSocket=function(e,t=null){let r=new WebSocket(e),n=[],i=s(e=>{e=JSON.stringify(e);n?n.push(e):r.send(e)});return r.onmessage=e=>{e=JSON.parse(e.data);t&&null==e.id?t(e):i.recvHandler(e)},r.onopen=e=>{a.debug("socket opened");for(var t of n)r.send(t);n=null},r.onclose=e=>{a.debug("socket closed")},r.onerror=e=>{a.debug("socket errored")},i}}})(pxt=pxt||{}),(a=>{var s;function o(){s.apiKey||a.U.userError("YouTube API key missing")}(s=a.youtube||(a.youtube={})).apiKey=void 0,s.playlistItemToCodeCard=function(e){return{name:e.snippet.title.replace(/[^-]*-/,"").trim(),description:e.snippet.description.split(/\n\s+/,1)[0].trim(),youTubeId:e.snippet.resourceId.videoId,youTubePlaylistId:e.snippet.playlistId,imageUrl:(e=e.snippet.thumbnails)&&(null==(e=e.medium||e.high||e.standard||e.default)?void 0:e.url)||""}},s.playlistInfoAsync=function(e){return o(),e=`https://www.googleapis.com/youtube/v3/playlists?part=snippet&id=${e}&key=`+s.apiKey,a.Util.httpGetJsonAsync(e).then(e=>e.items[0])},s.listPlaylistVideosAsync=async function(t){o();let r=[],n=void 0;do{let e=`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=50&playlistId=${t}&key=`+s.apiKey;n&&(e+="&pageToken="+n);var i=await a.Util.httpGetJsonAsync(e);r=r.concat(i.items),n=i.nextPageToken}while(n);return a.options.debug&&a.debug(JSON.stringify(r,null,2)),r},s.watchUrl=function(e,t){let r=void 0;return e?(r="https://www.youtube.com/watch?v="+e,t&&(r+="&list="+t)):t&&(r="https://www.youtube.com/playlist?list="+t),r}})(pxt=pxt||{}),(e=>{var _=e.pxtc||(e.pxtc={});{var m=_.assembler||(_.assembler={});function g(e,...r){return e.replace(/{(\d+)}/g,(e,t)=>r[+t])}m.debug=!1,m.lf=g;let e=h("opcode name doesn't match","<name>");class s{constructor(e,t,r,n,i){this.opcode=r,this.mask=n,this.is32bit=i,this.canBeShared=!1,_.assert((r&n)==r),this.ei=e,this.code=t.replace(/\s+/g," "),this.friendlyFmt=t.replace(/\$\w+/g,e=>this.ei.encoders[e]?this.ei.encoders[e].pretty:e);i=o(t);this.name=i[0],this.args=i.slice(1)}emit(r){var n=r.words;if(n[0]!=this.name)return e;let i=this.opcode,a=1,s=0;var o=[];let c=null,l=null,u=null;for(let e=0;e<this.args.length;++e){var d=this.args[e];let t=n[a++];if("$"==d[0]){var p=this.ei.encoders[d];let e=null;if(p.isRegister){if(null==(e=this.ei.registerNo(t)))return h("expecting register name",t);this.ei.isPush(this.opcode)?s++:this.ei.isPop(this.opcode)&&s--}else if(p.isImmediate){if(t=t.replace(/^#/,""),null==(e=r.bin.parseOneInt(t)))return h("expecting number",t);this.ei.isAddSP(this.opcode)?s=-(e/this.ei.wordSize()):this.ei.isSubSP(this.opcode)&&(s=e/this.ei.wordSize())}else if(p.isRegList){if("{"!=t)return h("expecting {",t);for(e=0;"}"!=n[a];){if(!(t=n[a++]))return h("expecting }",n[a-2]);var f=this.ei.registerNo(t);if(null==f)return h("expecting register name",t);if(e&1<<f)return h("duplicate register name",t);e|=1<<f,this.ei.isPush(this.opcode)?s++:this.ei.isPop(this.opcode)&&s--,","==n[a]&&a++}t=n[a++]}else if(p.isLabel){if(t=t.replace(/^#/,""),/^[+-]?\d+$/.test(t))e=parseInt(t,10),c="rel"+e;else if(/^0x[0-9a-fA-F]+$/.test(t))e=parseInt(t,16),c="abs"+e;else if(c=t,null==(e=this.ei.getAddressFromLabel(r.bin,this,t,p.isWordAligned))){if(r.bin.finalEmit)return h("unknown label",t);e=8}if(this.ei.is32bit(this)){l=e,u=t;continue}}else _.oops();if(null==e)return h("didn't understand it",t);if(o.push(e),null==(e=p.encode(e)))return h("argument out of range or mis-aligned",t);_.assert(0==(i&e)),i|=e}else if(d!=t)return h("expecting "+d,t)}return n[a]?h("trailing tokens",n[a]):this.ei.is32bit(this)?this.ei.emit32(i,l,r.bin.normalizeExternalLabel(u)):{stack:s,opcode:i,numArgs:o,labelName:r.bin.normalizeExternalLabel(c)}}toString(){return this.friendlyFmt}}m.Instruction=s;class c{constructor(e,t){this.bin=e,this.text=t}getOpExt(){return this.instruction?this.instruction.code:""}getOp(){return this.instruction?this.instruction.name:""}update(e){this.bin.peepOps++,(e=e.replace(/^\s*/,""))||this.bin.peepDel++,e&&(e+="      "),this.text=(e="    "+e)+"; WAS: "+this.text.trim(),this.instruction=null,this.numArgs=null,this.words=o(e)||[],0==this.words.length?this.type="empty":"@"==this.words[0][0]&&(this.type="directive")}}m.Line=c;class l{constructor(e,t){this.id=e,this.description=t,this.sizeAdj=0,this.users=[]}get size(){return this.endLocation-this.startLocation-this.sizeAdj}}class u{constructor(e){this.baseOffset=0,this.checkStack=!0,this.inlineMode=!1,this.normalizeExternalLabel=e=>e,this.currLineNo=0,this.scope="",this.scopeId=0,this.errors=[],this.labels={},this.equs={},this.stackpointers={},this.stack=0,this.commPtr=0,this.peepOps=0,this.peepDel=0,this.peepCounts={},this.stats="",this.throwOnError=!1,this.disablePeepHole=!1,this.stackAtLabel={},this.codeSizeStats=!1,this.labelToObject={},this.idToObject={},this.objSuspendStart=0,this.labelsToObjectDone=!1,this.currLine=new c(this,"<start>"),this.currLine.lineNo=0,this.ei=e,this.ei.file=this}emitShort(e){_.assert(0<=e&&e<=65535),this.buf.push(e)}emitOpCode(e){this.emitShort(e)}location(){return 2*this.buf.length}pc(){return this.location()+this.baseOffset}useLabel(e){this.currObject&&"."!=e[0]&&!this.objSuspendStart&&(e=_.U.lookup(this.labelToObject,e))&&e!=this.currObject&&e.users.length<5&&e.users.indexOf(this.currObject)<0&&e.users.push(this.currObject)}parseOneInt(e){if(!e)return null;if(/^\d+$/.test(e))return parseInt(e,10);var t=e.indexOf("-");if(0<t)return this.parseOneInt(e.slice(0,t))-this.parseOneInt(e.slice(t+1));let r=1;if(0<=e.indexOf("*"))for(var n;null!=(n=/^([^\*]*)\*(.*)$/.exec(e));){var i=this.parseOneInt(n[1]);if(null==i)return null;r*=i,e=n[2]}if("-"==e[0]?(r*=-1,e=e.slice(1)):"+"==e[0]&&(e=e.slice(1)),/^\d+$/.test(e))return r*parseInt(e,10);if(_.U.endsWith(e,"|1"))return 1|this.parseOneInt(e.slice(0,e.length-2));if(_.U.endsWith(e,"-1"))return this.parseOneInt(e.slice(0,e.length-2))-1;if(_.U.endsWith(e,"+1"))return this.parseOneInt(e.slice(0,e.length-2))+1;var a,t=/(.*)>>(\d+)$/.exec(e);if(t)return a=this.parseOneInt(t[1]),(a&=~(-16777216&this.baseOffset))>>parseInt(t[2]);let s=null;return"0"==e[0]&&("x"==e[1]||"X"==e[1]?(a=/^0x([a-f0-9]+)$/i.exec(e))&&(s=parseInt(a[1],16)):"b"!=e[1]&&"B"!=e[1]||(t=/^0b([01]+)$/i.exec(e))&&(s=parseInt(t[1],2))),0<=e.indexOf("@")&&((a=/^(\w+)@(-?\d+)$/.exec(e))&&(1!=r&&this.directiveError(g("multiplication not supported with saved stacks")),this.stackpointers.hasOwnProperty(a[1])?s=this.ei.wordSize()*this.ei.computeStackOffset(a[1],this.stack-this.stackpointers[a[1]]+parseInt(a[2])):this.directiveError(g("saved stack not found"))),a=/^(.*)@(hi|lo|fn)$/.exec(e))&&this.looksLikeLabel(a[1])&&null!=(s=this.lookupLabel(a[1],!0))&&("fn"==a[2]?s=this.ei.toFnPtr(s,this.baseOffset,a[1]):0<=(s>>=1)&&s<=65535?"hi"==a[2]?s=s>>8&255:"lo"==a[2]?s&=255:_.oops():(this.directiveError(g("@hi/lo out of range")),s=null)),null==s&&this.looksLikeLabel(e)&&null!=(s=this.lookupLabel(e,!0))&&1==this.ei.postProcessRelAddress(this,1)&&(s+=this.baseOffset),null==s||isNaN(s)?null:s*r}looksLikeLabel(e){return!/^(r\d|pc|sp|lr)$/i.test(e)&&/^[\.a-zA-Z_][\.:\w+]*$/.test(e)}scopedName(e){return"."==e[0]&&this.scope?this.scope+"$"+e:e}lookupLabel(e,t=!1){this.useLabel(e);let r=null;var n=this.scopedName(e);return this.labels.hasOwnProperty(n)?(r=this.labels[n],r=this.ei.postProcessRelAddress(this,r)):this.lookupExternalLabel&&null!=(r=this.lookupExternalLabel(e))&&(r=this.ei.postProcessAbsAddress(this,r)),null==(r=null==r&&this.equs.hasOwnProperty(n)?this.equs[n]:r)&&t&&(this.finalEmit?this.directiveError(g("unknown label: {0}",e)):r=11111),r}align(e){for(_.assert(2==e||4==e||8==e||16==e);this.location()%e!=0;)this.emitOpCode(0)}pushError(e,t=""){e={scope:this.scope,message:g("  -> Line {2} ('{1}'), error: {0}\n{3}",e,this.currLine.text,this.currLine.lineNo,t),lineNo:this.currLine.lineNo,line:this.currLine.text,coremsg:e,hints:t};if(this.errors.push(e),this.throwOnError)throw new Error(e.message)}directiveError(e){this.pushError(e)}emitString(e,t=!1){function r(e,t){return 255&(e.charCodeAt(t)||0)}e=/^\s*([\w\.]+\s*:\s*)?.\w+\s+(".*")\s*$/.exec(e);let n;if(e&&null!=(n=a(e[2])))if(this.align(2),t)for(let e=0;e<n.length;e++)this.emitShort(n.charCodeAt(e));else for(let e=0;e<n.length+1;e+=2)this.emitShort(r(n,e+1)<<8|r(n,e));else this.directiveError(g("expecting string"))}parseNumber(e){e=this.parseOneInt(e.shift());return null==e?null:e}parseNumbers(e){e=e.slice(1);for(var t=[];;){var r=this.parseNumber(e);if(null==r){this.directiveError(g("cannot parse number at '{0}'",e[0]));break}if(t.push(r),","!=e[0]){if(null==e[0])break;this.directiveError(g("expecting number, got '{0}'",e[0]));break}if(e.shift(),null==e[0])break}return t}emitSpace(e){var t=this.parseNumbers(e);if(1==t.length&&t.push(0),2!=t.length)this.directiveError(g("expecting one or two numbers"));else if(t[0]%2!=0)this.directiveError(g("only even space supported"));else{var r=255&t[1];r|=r<<8;for(let e=0;e<t[0];e+=2)this.emitShort(r)}}emitBytes(e){var t=this.parseNumbers(e);t.length%2!=0&&(this.directiveError(".bytes needs an even number of arguments"),t.push(0));for(let e=0;e<t.length;e+=2){var r=t[e],n=t[e+1];0<=r&&n<=255&&0<=n&&r<=255?this.emitShort(255&r|(255&n)<<8):this.directiveError(g("expecting uint8"))}}emitHex(e){e.slice(1).forEach(t=>{if(","!=t)if(t.length%4!=0)this.directiveError(".hex needs an even number of bytes");else if(/^[a-f0-9]+$/i.test(t))for(let e=0;e<t.length;e+=4){var r=parseInt(t.slice(e,e+4),16);this.emitShort((255&r)<<8|r>>8&255)}else this.directiveError(".hex needs a hex number")})}handleDirective(t){let r=t.words;var e=()=>{2!=r.length&&this.directiveError(g("expecting one argument"))};let n;switch(r[0]){case".object":if(this.codeSizeStats)if("PUSH"==r[1])this.objSuspendStart=this.location();else if("POP"==r[1])this.objSuspendStart&&(this.currObject.sizeAdj+=this.location()-this.objSuspendStart),this.objSuspendStart=0;else{if(this.currObject&&(this.currObject.endLocation=this.location()),this.currObject=_.U.lookup(this.idToObject,r[1]),!this.currObject){var i=t.text.replace(/^[^"]*/,"");let e=r[1];2<r.length&&null==(e=a(i.trim()))&&this.directiveError(g("expecting string in .object")),this.currObject=new l(r[1],e),this.idToObject[r[1]]=this.currObject}this.currObject.sizeAdj=0,this.currObject.startLocation=this.location()}break;case".ascii":case".asciz":case".string":this.emitString(t.text);break;case".utf16":this.emitString(t.text,!0);break;case".align":if(e(),null!=(n=this.parseOneInt(r[1]))){if(0==n)return;n<=4?this.align(1<<n):this.directiveError(g("expecting 1, 2, 3 or 4 (for 2, 4, 8, or 16 byte alignment)"))}else this.directiveError(g("expecting number"));break;case".balign":if(e(),null!=(n=this.parseOneInt(r[1]))){if(1==n)return;2==n||4==n||8==n||16==n?this.align(n):this.directiveError(g("expecting 2, 4, 8, or 16"))}else this.directiveError(g("expecting number"));break;case".p2align":e(),null!=(n=this.parseOneInt(r[1]))?this.align(1<<n):this.directiveError(g("expecting number"));break;case".byte":this.emitBytes(r);break;case".hex":this.emitHex(r);break;case".hword":case".short":case".2bytes":this.parseNumbers(r).forEach(e=>{-32768<=e&&e<=65535?this.emitShort(65535&e):this.directiveError(g("expecting int16"))});break;case".word":case".4bytes":case".long":this.parseNumbers(r).forEach(e=>{-2147483648<=e&&e<=4294967295?(this.emitShort(65535&e),this.emitShort(e>>16&65535)):this.directiveError(g("expecting int32"))});break;case".skip":case".space":this.emitSpace(r);break;case".set":case".equ":/^\w+$/.test(r[1])||this.directiveError(g("expecting name"));i=this.parseNumbers(r.slice(","==r[2]||"="==r[2]?2:1));1!=i.length&&this.directiveError(g("expecting one value")),void 0!==this.equs[r[1]]&&this.equs[r[1]]!=i[0]&&this.directiveError(g("redefinition of {0}",r[1])),this.equs[r[1]]=i[0];break;case".startaddr":this.location()&&this.directiveError(g(".startaddr can be only be specified at the beginning of the file")),e(),this.baseOffset=this.parseOneInt(r[1]);break;case"@stackmark":e(),this.stackpointers[r[1]]=this.stack;break;case"@stackempty":this.checkStack&&(null==this.stackpointers[r[1]]?this.directiveError(g("no such saved stack")):this.stackpointers[r[1]]!=this.stack&&this.directiveError(g("stack mismatch")));break;case"@scope":this.scope=r[1]||"",this.currLineNo=this.scope?0:this.realCurrLineNo;break;case".syntax":case"@nostackcheck":this.checkStack=!1;break;case"@dummystack":e(),this.stack+=this.parseOneInt(r[1]);break;case".section":case".global":this.stackpointers={},this.stack=0,this.scope="$S"+this.scopeId++;break;case".comm":{(r=r.filter(e=>","!=e)).shift();i=this.parseOneInt(r[1]);let e=0;if(e=r[2]?this.parseOneInt(r[2]):4,null==this.lookupLabel(r[0])){for(this.commPtr||(this.commPtr=this.lookupExternalLabel("_pxt_comm_base")||0,this.commPtr)||this.directiveError(g("PXT_COMM_BASE not defined"));this.commPtr&e-1;)this.commPtr++;this.labels[this.scopedName(r[0])]=this.commPtr-this.baseOffset,this.commPtr+=i}break}case".file":case".text":case".cpu":case".fpu":case".eabi_attribute":case".code":case".thumb_func":case".type":case".fnstart":case".save":case".size":case".fnend":case".pad":case".globl":case".local":case"@":break;default:/^\.cfi_/.test(r[0])||this.directiveError(g("unknown directive"))}}handleOneInstruction(e,t){this.codeSizeStats&&e.ldlitLabel&&this.useLabel(e.ldlitLabel);var r=t.emit(e);return!r.error&&(this.stack+=r.stack,this.checkStack&&this.stack<0&&this.pushError(g("stack underflow")),e.location=this.location(),e.opcode=r.opcode,e.stack=r.stack,this.emitOpCode(r.opcode),null!=r.opcode2&&this.emitOpCode(r.opcode2),null!=r.opcode3&&this.emitOpCode(r.opcode3),e.instruction=t,e.numArgs=r.numArgs,!0)}handleInstruction(n){if(!n.instruction||!this.handleOneInstruction(n,n.instruction)){var e=e=>this.ei.instructions.hasOwnProperty(e)?this.ei.instructions[e]:[];if(!n.instruction){var t=e(n.words[0]);for(let e=0;e<t.length;++e)if(this.handleOneInstruction(n,t[e]))return}var i=n.words[0].toLowerCase().replace(/s$/,"").replace(/[^a-z]/g,"");let r="";e=e(i).concat(e(i+"s"));0<e.length&&e.forEach(e=>{var t=e.emit(n);r+=g("   Maybe: {0} ({1} at '{2}')\n",e.toString(),t.error,t.errorAt)}),this.pushError(g("assembly error"),r)}}buildLine(e,t){var r=e=>{e=new c(this,e);return e.scope=this.scope,e.lineNo=this.currLineNo,t.push(e),e};let n=r(e);var i=o(n.text)||[];let a=(n.words=i)[0]||"";if(":"==a.charAt(a.length-1)){var s=/^([\.\w]+):$/.exec(i[0]);if(s){if(n.type="label",n.text=s[1]+":",n.words=[s[1]],!(1<i.length))return;i.shift(),(n=r(e.replace(/^[^:]*:/,""))).words=i,a=i[0]||""}}s=a.charAt(0);"."==s||"@"==s?(n.type="directive","@scope"==n.words[0]&&this.handleDirective(n)):0==n.words.length?n.type="empty":n.type="instruction"}prepLines(e){this.currLineNo=0,this.realCurrLineNo=0,this.lines=[],e.split(/\r?\n/).forEach(e=>{10<this.errors.length||(this.currLineNo++,this.realCurrLineNo++,this.buildLine(e,this.lines))})}iterLines(){this.stack=0,this.buf=[],this.scopeId=0,this.lines.forEach(e=>{var t,r;10<this.errors.length||0!=(this.currLine=e).words.length&&("label"==e.type?(this.currObject&&!this.labelsToObjectDone&&"."!=e.words[0][0]&&(this.labelToObject[e.words[0]]=this.currObject),t=this.scopedName(e.words[0]),this.prevLabel=t,this.finalEmit?(null!=this.equs[t]&&this.directiveError(g(".equ redefined as label")),null==(r=this.labels[t])&&_.oops(),0==this.errors.length&&r!=this.location()&&_.oops(`invalid location: ${this.location()} != ${r} at `+t),_.assert(0<this.errors.length||r==this.location()),this.reallyFinalEmit&&(this.stackAtLabel[t]=this.stack)):this.labels.hasOwnProperty(t)?this.directiveError(g("label redefinition")):this.inlineMode&&/^_/.test(t)?this.directiveError(g("labels starting with '_' are reserved for the compiler")):this.labels[t]=this.location(),e.location=this.location()):"directive"==e.type?this.handleDirective(e):"instruction"==e.type?this.handleInstruction(e):"empty"!=e.type&&_.oops())}),this.labelsToObjectDone=!0,this.currObject=null}getSourceMap(){let e={},n="",i=0,a=0,s=0;function o(){n&&a&&(e[n]||(e[n]=[]),e[n].push(i,a,s-a)),a=0,s=0}return this.lines.forEach((e,t)=>{var r=/^; ([\w\/\.-]+)\(([\d]+),\d+\):/.exec(e.text);r&&(o(),n=r[1],i=parseInt(r[2])),"instruction"==e.type&&(a=a||e.location,s=e.location)}),o(),e}getCodeSizeStats(){if(!this.codeSizeStats)return"";var e,t=_.U.values(this.idToObject);t.sort((e,t)=>t.size-e.size);let r=";\n; Code size:\n;\n";for(e of t)if(r+=`; ${("         "+e.size).slice(-6)} ${e.description} [${e.id}]
`,5<=e.users.length)r+=`;        by many, including ${e.users[0].description}
`;else for(var n of e.users)r+=`;        by ${n.description} [${n.id}]
`;return r}getSource(n,e=1,t=0){let r=0;var i=e=>{var e=this.labels[e]||r,t=e-r;return r=e,t},a=this.buf?this.location():0,s=i("_code_end"),o=i("_helpers_end"),c=i("_vtables_end"),i=i("_literals_end"),l=r,u=a+this.baseOffset&16777215;if(t&&t<u)throw(d=new Error(g("program too big by {0} bytes!",u-t))).ksErrorCode=9283,d;var d=g("; total bytes: {0} ({1}% of {2}k flash with {3} free)",u,(100*u/(t=t||131072)).toFixed(1),(t/1024).toFixed(1),t-u);let p=g("; generated code sizes (bytes): {0} (incl. {1} user, {2} helpers, {3} vtables, {4} lits); src size {5}\n",l,s,o,c,i,a-l)+g("; assembly: {0} lines; density: {1} bytes/stmt; ({2} stmts)\n",this.lines.length,Math.round(100*s/e)/100,e)+d+"\n"+this.stats+this.getCodeSizeStats()+"\n\n",f=!1;return this.lines.forEach((t,r)=>{if("_stored_program"==t.words[0])p+='_stored_program: .string "..."\n',f=!0;else if(f)f=!1;else{let e=t.text;if(n){if("@stackempty"==t.words[0]&&this.lines[r-1].text==t.text)return;if(!(e=e.replace(/; WAS: .*/,"")).trim())return}!m.debug||"label"!=t.type&&"instruction"!=t.type||(e+=` 	; 0x`+(t.location+this.baseOffset).toString(16)),p+=e+"\n"}}),p}peepHole(){var t=this.lines.filter(e=>"empty"!=e.type);for(let e=0;e<t.length;++e){var r,n,i=t[e];/^user/.test(i.scope)||(r=t[e+1])&&(n=t[e+2],"instruction"==i.type)&&this.ei.peephole(i,r,n)}}clearLabels(){this.labels={},this.commPtr=0}peepPass(e){this.disablePeepHole||(this.peepOps=0,this.peepDel=0,this.peepCounts={},this.peepHole(),this.throwOnError=!0,this.finalEmit=!1,this.clearLabels(),this.iterLines(),_.assert(!this.checkStack||0==this.stack),this.finalEmit=!0,this.reallyFinalEmit=e||0==this.peepOps,this.iterLines(),this.stats+=g("; peep hole pass: {0} instructions removed and {1} updated\n",this.peepDel,this.peepOps-this.peepDel))}getLabels(){return this.userLabelsCache||(this.userLabelsCache=_.U.mapMap(this.labels,(e,t)=>t+this.baseOffset)),this.userLabelsCache}emit(e){if(_.assert(null==this.buf),this.prepLines(e),!(0<this.errors.length||(this.clearLabels(),this.iterLines(),this.checkStack&&0!=this.stack&&this.directiveError(g("stack misaligned at the end of the file")),0<this.errors.length)||(this.ei.expandLdlit(this),this.clearLabels(),this.iterLines(),this.finalEmit=!0,this.reallyFinalEmit=this.disablePeepHole,this.iterLines(),0<this.errors.length))){for(let e=0;e<5&&(pxt.debug("Peephole OPT, pass "+e),this.peepPass(5==e),0!=this.peepOps);++e);pxt.debug("emit done")}}}m.File=u;class t extends u{constructor(e){super(e)}}function o(t){var r=[];let n="";e:for(let e=0;e<t.length;++e)switch(t[e]){case"[":case"]":case"!":case"{":case"}":case",":n&&(r.push(n),n=""),r.push(t[e]);break;case" ":case"\t":case"\r":case"\n":n&&(r.push(n),n="");break;case";":break e;default:n+=t[e]}return n&&(r.push(n),n=""),r[0]?r:null}function a(e){e=e.replace(/\\\\/g,"\\B").replace(/\\(['\?])/g,(e,t)=>t).replace(/\\[z0]/g,"\0").replace(/\\x([0-9a-f][0-9a-f])/gi,(e,t)=>"\\u00"+t).replace(/\\B/g,"\\\\");try{return JSON.parse(e)}catch(e){return null}}function h(e,t){return{stack:null,opcode:null,error:e,errorAt:t}}function i(e){return(e<0||65535<e?"0x"+e.toString(16):"0x"+("000"+e.toString(16)).slice(-4)).toLowerCase()}m.VMFile=t,m.AbstractProcessor=class{constructor(){this.file=null,this.addEnc=(e,t,r)=>{t={name:e,pretty:t,encode:r,isRegister:/^\$r\d/.test(e),isImmediate:/^\$i\d/.test(e),isRegList:/^\$rl\d/.test(e),isLabel:/^\$l[a-z]/.test(e)};return this.encoders[e]=t},this.inrange=(e,t,r)=>Math.floor(t)!=t||t<0||e<t?null:r,this.inminmax=(e,t,r,n)=>Math.floor(r)!=r||r<e||t<r?null:n,this.inseq=(e,t)=>{e=e.indexOf(t);return e<0?null:e},this.inrangeSigned=(e,t,r)=>Math.floor(t)!=t||t<-(e+1)||e<t?null:r&(e<<1|1),this.addInst=(e,t,r,n)=>{e=new s(this,e,t,r,n);return this.instructions.hasOwnProperty(e.name)||(this.instructions[e.name]=[]),this.instructions[e.name].push(e),e},this.encoders={},this.instructions={}}toFnPtr(e,t,r){return e}wordSize(){return-1}computeStackOffset(e,t){return t}is32bit(e){return!1}emit32(e,t,r){return null}postProcessRelAddress(e,t){return t}postProcessAbsAddress(e,t){return t}peephole(e,t,r){}registerNo(e){return null}getAddressFromLabel(e,t,r,n=0){return null}isPop(e){return!1}isPush(e){return!1}isAddSP(e){return!1}isSubSP(e){return!1}testAssembler(){_.assert(!1)}expandLdlit(e){}},m.emitErr=h,m.expectError=function(e,t){(e=new u(e)).emit(t),0==e.errors.length&&_.oops("ASMTEST: expecting error for: "+t)},m.tohex=i,m.expect=function(e,t){let r=[];var t=t.replace(/^([0-9a-fA-F]{4,8})\s/gm,(e,t)=>(r.push(parseInt(t.slice(0,4),16)),8==t.length&&r.push(parseInt(t.slice(4,8),16)),"")),n=new u(e);n.throwOnError=!0,n.disablePeepHole=!0,n.emit(t),0<n.errors.length&&(pxt.debug(n.errors[0].message),_.oops("ASMTEST: not expecting errors")),n.buf.length!=r.length&&_.oops("ASMTEST: wrong buf len");for(let e=0;e<r.length;++e)n.buf[e]!=r[e]&&_.oops("ASMTEST: wrong buf content at "+e+" , exp:"+i(r[e])+", got: "+i(n.buf[e]))}}})(ts=ts||{}),(_=>{{var i=_.Cloud||(_.Cloud={}),a=pxtc.Util;i.apiRoot=_.BrowserUtils.isLocalHost()||a.isNodeJS?"https://www.makecode.com/api/":"/api/",i.accessToken="";let r=!(i.localToken=""),n=(i.onOffline=()=>{},void 0);function s(e){let t=new Error(a.lf("Cannot access {0} while offline",e));return t.isOffline=!0,_.U.delay(1e3).then(()=>Promise.reject(t))}function m(e,t){return _.U.requestAsync({url:"/api/"+e,headers:{Authorization:i.localToken},method:t?"POST":"GET",data:t||void 0,allowHttpErrors:!0})}function g(){return _.webConfig&&!_.webConfig.isStatic&&!_.BrowserUtils.isLocalHost()&&!!_.webConfig.cdnUrl&&("undefined"==typeof window||!/nocdn=1/i.test(window.location.href))}function e(e){var t;return e=e.replace(/^\//,""),g()?(t=(t=new Date).getUTCFullYear()+("0"+(t.getUTCMonth()+1)).slice(-2)+("0"+t.getUTCDate()).slice(-2),e.indexOf("?")<0?e+="?":e+="&",_.webConfig.cdnUrl+"/api/"+(e+="cdn="+t)):i.apiRoot+e}function h(t){return g()?(t.url=e(t.url),a.requestAsync(t).catch(e=>o(t,e))):y(t)}function o(e,t){return 0==t.statusCode?(r&&(r=!1,i.onOffline()),s(e.url)):Promise.reject(t)}function y(t){var e;return t.url=null!=(e=_.webConfig)&&e.isStatic&&!t.forceLiveEndpoint?_.webConfig.relprefix+t.url:i.apiRoot+t.url,t.allowGzipPost=!0,i.isOnline()||_.BrowserUtils.isPxtElectron()?(t.headers||(t.headers={}),_.BrowserUtils.isLocalHost()?i.localToken&&(t.headers.Authorization=i.localToken):i.accessToken&&(t.headers["x-td-access-token"]=i.accessToken),a.requestAsync(t).catch(e=>o(t,e))):s(t.url)}function t(){return navigator&&navigator.onLine}i.hasAccessToken=function(){return!!i.accessToken},i.localRequestAsync=m,i.useCdnApi=g,i.cdnApiUrl=e,i.apiRequestWithCdnAsync=h,i.privateRequestAsync=y,i.privateGetTextAsync=function(e,t){return y({url:e,headers:t}).then(e=>e.text)},i.privateGetAsync=function(e,t=!1){return y({url:e,forceLiveEndpoint:t}).then(e=>e.json)},i.downloadTargetConfigAsync=function(){var e;return i.isOnline()?(e=_.appTarget.versions&&_.appTarget.versions.target,e=_.webConfig&&_.webConfig.isStatic?"targetconfig.json":`config/${_.appTarget.id}/targetconfig`+(e?"/v"+e:""),_.BrowserUtils.isLocalHost()?m(e).then(e=>e?e.json:void 0):h({url:e}).then(e=>e.json)):Promise.resolve(void 0)},i.downloadScriptFilesAsync=function(e){return y({url:e+"/text"+(e.startsWith("S")?"?time="+Date.now():""),forceLiveEndpoint:!0}).then(e=>JSON.parse(e.text))},i.downloadScriptMetaAsync=function(e){return y({url:e+(e.startsWith("S")?"?time="+Date.now():""),forceLiveEndpoint:!0}).then(e=>JSON.parse(e.text).meta)},i.downloadBuiltSimJsInfoAsync=async function(e){var t=_.appTarget.versions&&_.appTarget.versions.target||"";return(await y({url:_.U.stringifyQueryString(e+"/js",{v:"v"+t})+(e.startsWith("S")?"&time="+Date.now():""),forceLiveEndpoint:!0})).json},i.markdownAsync=async function(t,r,n,i){var e=24*(l=_.BrowserUtils.isLocalHostDev()?0:36e5)*7;r=r||_.Util.userLanguage();let a=await _.BrowserUtils.translationDbAsync(),s=await a.getAsync(r,t);var o=async()=>{try{var e=await(async(e,t,r,n)=>{let i,a=null==(i=_.webConfig)?void 0:i.isStatic,s=_.appTarget.versions&&_.appTarget.versions.target||"?",o,c=new URLSearchParams;var l,u;if(a?(o=e,u=/\/?docs\//.test(o),l=/\.\w+$/.test(o),u||(u="/"===o[0],o="docs"+(u?"":"/")+o),l||(o+=".md")):(o=`md/${_.appTarget.id}/`+e.replace(/^\//,""),c.set("targetVersion",s)),"en"!=t&&c.set("lang",t),o=_.BrowserUtils.appendUrlQueryParams(o,c),_.BrowserUtils.isLocalHost()&&!_.Util.liveLocalizationEnabled())return m(o).then(e=>404==e.statusCode?y({url:o,method:"GET"}).then(e=>({md:e.text,etag:e.headers.etag})):{md:e.text,etag:void 0});let d=r&&!g()?{"If-None-Match":r}:void 0,p,f;return{md:f=!a&&n?(o=o.replace(/^md\//,"ghtutorial/docs/"),u=(p=await h({url:o,method:"GET",headers:d})).json,await _.github.db.cacheReposAsync(u),u.markdown):(p=await h({url:o,method:"GET",headers:d})).text,etag:p.headers.etag}})(t,r,null==s?void 0:s.etag,i);return!s||e.md&&s.md!==e.md?(await a.setAsync(r,t,e.etag,void 0,e.md),e.md):s.md}catch(e){if(n)throw e;return""}};if(s){var c=Date.now()-s.time,l=l<c;if(e<c)_.tickEvent("markdown.update.wait");else if(l&&(_.tickEvent("markdown.update.background"),o()),s.md)return s.md}return o()},i.privateDeleteAsync=function(e){return y({url:e,method:"DELETE"}).then(e=>e.json)},i.privatePostAsync=function(e,t,r=!1){return y({url:e,data:t||{},forceLiveEndpoint:r}).then(e=>e.json)},i.isLoggedIn=function(){return!!i.accessToken},i.isNavigatorOnline=t,i.isOnline=function(){return r="undefined"!=typeof navigator&&t()?!0:r},i.getServiceUrl=function(){return i.apiRoot.replace(/\/api\/$/,"")},i.getUserId=function(){var e=/^0(\w+)\./.exec(i.accessToken);return e?e[1]:null},i.parseScriptId=function(t){var r=_.appTarget;if(t&&r.appTheme&&null!=(n=r.cloud)&&n.sharing){let e=["makecode.com"];r.appTheme.embedUrl&&e.push(r.appTheme.embedUrl),r.appTheme.shareUrl&&e.push(r.appTheme.shareUrl);var n=`(?:(?:https://)?(?:${(e=a.unique(e,e=>e).map(e=>a.escapeForRegex(a.stripUrlProtocol(e).replace(/\/$/,"")).toLowerCase())).join("|")})/)`,r=new RegExp(`^${n}?(?:v[0-9]+/)?(?:(?:api/oembed\\?url=.*%2F([^&#]*)&.*)|(?:/?([a-z0-9\\-_]+)(?:[#?&].*)?))$`,"i").exec(t.trim()),n=(null==r?void 0:r[1])||(null==r?void 0:r[2]);return/^(_.{12}|S?[0-9\-]{23})$/.test(n)?n:void 0}},i.initRegionAsync=async function(){var e;if(void 0===n)if(_.BrowserUtils.isLocalHost())n=_.cloud.DEV_REGION;else if(null!=(e=_.webConfig)&&e.cdnUrl)try{var t={url:new URL("geo",_.webConfig.cdnUrl).toString()},r=await a.requestAsync(t);200!==r.statusCode&&_.error("Failed to get region: "+r.statusCode),n=r.text.trim()}catch(e){_.error("Unable to determine region",e),n="unknown"}else n="unknown"},i.getRegion=function(){return n||_.error("Accessing region before it is initialized. Call initRegionAsync first."),n}}})(pxt=pxt||{}),(e=>{(e.pxtc||(e.pxtc={})).f4EncodeImg=function(e,r,n,i){let t=[135,n,255&e,e>>8,255&r,r>>8,0,0].map(l).join(""),a=4,s=0,o=0;var c=e=>{s|=e<<o,o==8-n?(t+=l(s),a++,s=0,o=0):o+=n};for(let t=0;t<e;++t){for(let e=0;e<r;++e)c(i(t,e));for(;0!=o;)c(0);if(1<n)for(;3&a;)c(0)}return t;function l(e){return("0"+e.toString(16)).slice(-2)}}})(ts=ts||{}),(e=>{function a(e){let t="";switch(e){case 0:t="C5";break;case 1:t="B";break;case 2:t="A";break;case 3:t="G";break;case 4:t="F";break;case 5:t="E";break;case 6:t="D";break;case 7:t="C"}return t}function n(e){let t=-1;switch(e){case"C5":t=0;break;case"B":t=1;break;case"A":t=2;break;case"G":t=3;break;case"F":t=4;break;case"E":t=5;break;case"D":t=6;break;case"C":t=7}return t}e.MelodyArray=class{constructor(e){this.numCols=8,this.numRows=8,this.polyphonic=!1,e&&(this.tempo=e),this.resetMelody()}setTempo(e){this.tempo=e}getArray(){return this.melody}setArray(e){this.melody=e}getColor(e){return 0}getValue(e,t){return this.melody[e][t]}getWidth(){return this.numCols}getHeight(){return this.numRows}updateMelody(e,t){var r=!this.melody[e][t];if(r&&!this.polyphonic)for(let e=0;e<this.numRows;e++)this.melody[e][t]=!1;this.melody[e][t]=r}getStringRepresentation(){let t="";var n=new Array(this.numCols);let i=0;for(let r=0;r<this.numRows;r++){let t=0;n[r]=[];for(let e=0;e<this.numCols;e++)this.melody[e][r]&&(n[r].push(a(e)),t++);t>i&&(i=t)}if(0==i)return"- - - - - - - - ";for(let e=0;e<i;e++)for(let e=0;e<this.numCols;e++)n[e]&&0<n[e].length?t+=n[e].shift()+" ":t+="- ";return t}parseNotes(e){var r=(e=e.trim()).split(" ");for(let t=0;t<r.length;t++){for(let e=0;e<this.numRows;e++)this.melody[e][t]=!1;"-"!=r[t]&&(this.melody[n(r[t])][t]=!0)}}setPolyphonic(e){this.polyphonic=e}isPolyphonic(){return this.polyphonic}resetMelody(){this.melody=new Array(this.numCols);for(let e=0;e<this.numCols;e++)this.melody[e]=new Array(this.numRows).fill(!1)}},e.rowToNote=a,e.noteToRow=n,e.getColorClass=function(e){let t="melody-default";switch(e){case 0:t="melody-red";break;case 1:t="melody-orange";break;case 2:t="melody-yellow";break;case 3:t="melody-green";break;case 4:t="melody-teal";break;case 5:t="melody-blue";break;case 6:t="melody-purple";break;case 7:t="melody-violet"}return t}})(pxtmelody=pxtmelody||{}),(a=>{function l(e,t,r){var n=document.createElement(e),i=t,e=r;if(i)for(var a of Object.keys(i))"className"===a?n.setAttribute("class",i[a]+""):n.setAttribute(a,i[a]+"");return e&&n.addEventListener("click",e),n}a.MelodyGallery=class{constructor(){this.value=null,this.visible=!1,this.timeouts=[],this.numSamples=a.SampleMelodies.length,this.containerDiv=document.createElement("div"),this.containerDiv.setAttribute("id","melody-editor-gallery-outer"),this.contentDiv=document.createElement("div"),this.contentDiv.setAttribute("id","melody-editor-gallery"),this.contentDiv.setAttribute("role","menu"),this.contentDiv.setAttribute("tabindex","0"),this.keyDownHandler=this.keyDownListener.bind(this),this.contentDiv.addEventListener("keydown",this.keyDownHandler),this.focusHandler=this.focusListener.bind(this),this.contentDiv.addEventListener("focus",this.focusHandler),this.blurHandler=this.blurListener.bind(this),this.contentDiv.addEventListener("blur",this.blurHandler),this.itemBackgroundColor="#DCDCDC",this.itemBorderColor="white",this.initStyles(),this.containerDiv.appendChild(this.contentDiv),this.containerDiv.style.display="none",this.contentDiv.addEventListener("animationend",()=>{this.visible||(this.containerDiv.style.display="none")}),this.contentDiv.addEventListener("wheel",e=>{e.stopPropagation()},!0)}keyDownListener(e){if(this.selectedColRow){var[t,r]=this.selectedColRow,n=pxt.Util.isUserLanguageRtl()?"ArrowRight":"ArrowLeft",i=pxt.Util.isUserLanguageRtl()?"ArrowLeft":"ArrowRight";switch(e.code){case"ArrowUp":this.selectedColRow=[t,Math.max(0,r-1)];break;case"ArrowDown":this.selectedColRow=[t,Math.min(this.selectionButtons.length-1,r+1)];break;case n:this.selectedColRow=[Math.max(0,t-1),r];break;case i:this.selectedColRow=[Math.min(1,t+1),r];break;case"Enter":case"Space":return this.selectedElement.click(),e.stopPropagation(),void e.preventDefault();default:return}this.selectedElement.classList.remove("selected");var[n,i]=this.selectedColRow,n=(this.selectedElement=(0===n?this.selectionButtons:this.previewButtons)[i],this.selectedElement.classList.add("selected"),this.contentDiv.setAttribute("aria-activedescendant",getCellId(n,i)),this.contentDiv.getBoundingClientRect()),i=this.selectedElement.getBoundingClientRect();i.bottom>n.bottom?this.selectedElement.scrollIntoView({block:"end"}):i.top<n.top&&this.selectedElement.scrollIntoView({block:"start"}),e.stopPropagation(),e.preventDefault()}}focusListener(e){this.selectedElement||(this.selectedColRow=[0,0],this.selectedElement=this.selectionButtons[0]),this.selectedElement.classList.add("selected");var[t,r]=this.selectedColRow;this.contentDiv.setAttribute("aria-activedescendant",getCellId(t,r))}blurListener(e){var t;this.contentDiv.removeAttribute("aria-activedescendant"),null!=(t=this.selectedElement)&&t.classList.remove("selected")}getElement(){return this.containerDiv}getValue(){return this.value}show(e){this.pending=e,this.containerDiv.style.display="block",this.buildDom(),this.visible=!0,pxt.BrowserUtils.removeClass(this.contentDiv,"hidden-above"),pxt.BrowserUtils.addClass(this.contentDiv,"shown")}hide(){var e;this.visible=!1,pxt.BrowserUtils.removeClass(this.contentDiv,"shown"),pxt.BrowserUtils.addClass(this.contentDiv,"hidden-above"),this.value=null,this.stopMelody(),this.contentDiv.removeAttribute("aria-activedescendant"),null!=(e=this.selectedElement)&&e.classList.remove("selected"),this.selectedElement=void 0,this.selectedColRow=void 0}clearDomReferences(){this.contentDiv.removeEventListener("keydown",this.keyDownHandler),this.contentDiv.removeEventListener("focus",this.focusHandler),this.contentDiv.removeEventListener("blur",this.blurHandler),this.contentDiv=null,this.containerDiv=null}layout(e,t,r){this.containerDiv.style.left=e+"px",this.containerDiv.style.top=t+"px",this.containerDiv.style.height=r+"px"}getLastFocusableElement(){return this.contentDiv}buildDom(){for(;this.contentDiv.firstChild;)this.contentDiv.removeChild(this.contentDiv.firstChild);var t=a.SampleMelodies;this.playIcons=[],this.selectionButtons=[],this.previewButtons=[];for(let e=0;e<t.length;e++)this.mkButton(t[e],e,"255px","45px")}initStyles(){var e=document.createElement("style");e.textContent=`
            #melody-editor-gallery {
                margin-top: -100%;
            }

            #melody-editor-gallery.hidden-above {
                margin-top: -100%;
                animation: slide-up 0.2s 0s ease;
            }

            #melody-editor-gallery.shown {
                margin-top: 0px;
                animation: slide-down 0.2s 0s ease;
            }

            @keyframes slide-down {
                0% {
                    margin-top: -100%;
                }
                100% {
                    margin-top: 0px;
                }
            }

            @keyframes slide-up {
                0% {
                    margin-top: 0px;
                }
                100% {
                    margin-top: -100%;
                }
            }
            `,this.containerDiv.appendChild(e)}mkButton(e,t,r,n){var i=l("div",{className:"melody-gallery-button melody-editor-card",id:":"+t}),a=l("i",{className:"music icon melody-icon"}),s=l("div",{className:"melody-editor-text"}),o=(s.innerText=e.name,this.createColorBlock(e)),c=l("div",{className:"melody-editor-button left-button",role:"menuitem",title:e.name,tabIndex:-1,id:getCellId(t,0)},()=>this.handleSelection(e)),a=(c.appendChild(a),c.appendChild(s),c.appendChild(o),i.appendChild(c),this.selectionButtons[t]=c,l("div",{className:"melody-editor-button right-button",role:"menuitem",title:lf("Preview {0}",e.name),tabIndex:-1,id:getCellId(t,1)},()=>this.togglePlay(e,t))),s=l("i",{className:"play icon"});this.playIcons[t]=s,a.appendChild(s),i.appendChild(a),this.previewButtons[t]=a,this.contentDiv.appendChild(i)}handleSelection(e){var t;this.pending&&(t=this.pending,this.pending=void 0,t(e.notes))}playNote(e,t,r){let n=0;switch(e){case"C5":n=523;break;case"B":n=494;break;case"A":n=440;break;case"G":n=392;break;case"F":n=349;break;case"E":n=330;break;case"D":n=294;break;case"C":n=262}this.timeouts.push(setTimeout(()=>{pxt.AudioContextManager.tone(n)},t*this.getDuration(r))),this.timeouts.push(setTimeout(()=>{pxt.AudioContextManager.stop()},(t+1)*this.getDuration(r)))}getDuration(e){return 6e4/e}previewMelody(t){this.stopMelody();var r=t.notes.split(" ");for(let e=0;e<r.length;e++)this.playNote(r[e],e,t.tempo)}togglePlay(e,t){let r=this.playIcons[t];pxt.BrowserUtils.containsClass(r,"play icon")?(this.resetPlayIcons(),pxt.BrowserUtils.removeClass(r,"play icon"),pxt.BrowserUtils.addClass(r,"stop icon"),this.previewMelody(e),this.timeouts.push(setTimeout(()=>{pxt.BrowserUtils.removeClass(r,"stop icon"),pxt.BrowserUtils.addClass(r,"play icon")},e.notes.split(" ").length*this.getDuration(e.tempo)))):(pxt.BrowserUtils.removeClass(r,"stop icon"),pxt.BrowserUtils.addClass(r,"play icon"),this.stopMelody())}stopMelody(){for(;this.timeouts.length;)clearTimeout(this.timeouts.shift());pxt.AudioContextManager.stop()}resetPlayIcons(){for(let e=0;e<this.numSamples;e++){var t=this.playIcons[e];if(pxt.BrowserUtils.containsClass(t,"stop icon")){pxt.BrowserUtils.removeClass(t,"stop icon"),pxt.BrowserUtils.addClass(t,"play icon");break}}}createColorBlock(e){var t=document.createElement("div"),r=(pxt.BrowserUtils.addClass(t,"melody-color-block"),e.notes.split(" "));for(let e=0;e<r.length;e++){var n=a.getColorClass(a.noteToRow(r[e])),i=document.createElement("div");0==e?pxt.BrowserUtils.addClass(i,"left-edge sliver "+n):e==r.length-1?pxt.BrowserUtils.addClass(i,"right-edge sliver "+n):pxt.BrowserUtils.addClass(i,"sliver "+n),t.appendChild(i)}return t}}})(pxtmelody=pxtmelody||{}),(e,t)=>`:${e}-`+(0===t?"selection":"preview"));(e=>{class t{constructor(e,t,r){this.name=e,this.notes=t,this.tempo=r}}e.MelodyInfo=t,e.SampleMelodies=[new t(lf("Scale"),"C5 B A G F E D C",120),new t(lf("Reverse"),"C D E F G A B C5",120),new t(lf("Mystery"),"E B C5 A B G A F",120),new t(lf("Gilroy"),"A F E F D G E F",120),new t(lf("Falling"),"C5 A B G A F G E",120),new t(lf("Hopeful"),"G B A G C5 B A B",120),new t(lf("Tokyo"),"B A G A G F A C5",120),new t(lf("Paris"),"G F G A - F E D",120),new t(lf("Rising"),"E D G F B A C5 B",120),new t(lf("Sitka"),"C5 G B A F A C5 B",120)]})(pxtmelody=pxtmelody||{}),(a=>{let s,n=!1;class t{constructor(e){this.db=e}loadAsync(t,r,e,n){if(!/^v\d+\.\d+\.\d+$/.test(r))return n(t,r);let i=`gh-${e}-${t}#`+r;return s.cacheGet(i).then(e=>{if(e){e=a.Util.jsonTryParse(e);if(e)return a.debug("cache hit "+i),Promise.resolve(e)}return n(t,r).then(e=>e&&(a.debug("cached "+i),s.cacheSet(i,JSON.stringify(e)).then(()=>e)))})}latestVersionAsync(e,t){return this.db.latestVersionAsync(e,t)}loadConfigAsync(e,t){return this.loadAsync(e,t,"pxt",(e,t)=>this.db.loadConfigAsync(e,t))}loadPackageAsync(e,t){return this.loadAsync(e,t,"pkg",(e,t)=>this.db.loadPackageAsync(e,t))}loadTutorialMarkdown(e,t){return this.loadAsync(e,t,"tutorial",(e,t)=>this.db.loadTutorialMarkdown(e,t))}cacheReposAsync(e){return this.db.cacheReposAsync(e)}}class i{constructor(e){this.packageFiles=e}resolve(e,t){return""}readFile(e,t){var r="this"==e.id?t:"pxt_modules/"+e.id+"/"+t;return void 0!==this.packageFiles[r]?this.packageFiles[r]:a.appTarget.bundledpkgs[e.id]?a.appTarget.bundledpkgs[e.id][t]:null}writeFile(e,t,r){e="this"==e.id?"":"pxt_modules/"+e.id+"/";a.debug("write file "+e+t),this.packageFiles[e+t]=r}getHexInfoAsync(e){return Promise.resolve({hex:["SKIP"]})}cacheStoreAsync(e,t){return null!=s&&s.cacheSet?s.cacheSet(e,t):Promise.resolve()}cacheGetAsync(e){return null!=s&&s.cacheGet?s.cacheGet(e):Promise.resolve("")}downloadPackageAsync(r){var t,e;return n?(t=r,((e=null==s?void 0:s.pkgOverrideAsync)?e(t.id):Promise.resolve(void 0)).then(e=>e||t.commonDownloadAsync()).then(e=>{e&&a.U.iterMap(e,(e,t)=>{this.writeFile(r,e,t)})})):Promise.resolve()}resolveVersionAsync(e){return Promise.resolve("*")}}function o(e){if(e.target.preferredEditor==a.PYTHON_PROJECT_NAME){var t,r=a.U.clone(e);r.ast=!0,r.target.preferredEditor=a.JAVASCRIPT_PROJECT_NAME;for(t of r.sourceFiles)a.U.endsWith(t,".py")&&(r.fileSystem[t.slice(0,-3)+".ts"]=" ");var n=pxtc.compile(r);e.apisInfo=pxtc.getApiInfo(n.ast,r.jres)}}function r(e,t){e=new i(e);let r=new a.MainPackage(e);return r.loadAsync().then(()=>{var e=r.getTargetOptions();return e.hasHex&&(e.isNative=t.native),r.getCompileOptionsAsync(e)}).then(e=>(c(r.targetVersion(),e),r.getPreferredEditor()===a.PYTHON_PROJECT_NAME&&l(r.targetVersion(),e),o(e),e))}function c(e,t){if(e){a.debug("applying TS patches relative to "+e);for(var r of Object.keys(t.fileSystem)){var n;-1==r.indexOf("/")&&a.U.endsWith(r,".ts")&&(n=t.fileSystem[r])!=(n=a.patching.patchJavaScript(e,n))&&(a.debug("applying TS patch to "+r),t.fileSystem[r]=n)}}}function l(e,t){if(e){a.debug("applying PY patches relative to "+e);for(var r of Object.keys(t.fileSystem)){var n;-1==r.indexOf("/")&&a.U.endsWith(r,".py")&&(n=t.fileSystem[r])!=(n=a.patching.patchPython(e,n))&&(a.debug("applying PY patch to "+r),t.fileSystem[r]=n)}}}a.SimpleHost=i,a.prepPythonOptions=o,a.simpleInstallPackagesAsync=function(e){return e=new i(e),new a.MainPackage(e).loadAsync(!0)},a.simpleGetCompileOptionsAsync=r,a.simpleCompileAsync=function(e,t){return r(e,"boolean"==typeof t?{native:t}:t||{}).then(e=>pxtc.compile(e)).then(e=>(e.success||(e.errors=e.diagnostics.map(ts.pxtc.getDiagnosticString).join("")||"Unknown error."),e))},a.patchTS=c,a.patchPY=l,a.setupSimpleCompile=function(e){"undefined"==typeof global||global.btoa||(global.btoa=function(e){return Buffer.from(e,"binary").toString("base64")},global.atob=function(e){return Buffer.from(e,"base64").toString("binary")}),"undefined"!=typeof pxtTargetBundle&&(a.debug("setup app bundle"),a.setAppTarget(pxtTargetBundle)),e&&(s=e,n=!0,e.httpRequestAsync&&(a.Util.httpRequestCoreAsync=e.httpRequestAsync),a.github.forceProxy=!0,a.github.db=new t(new a.github.MemoryGithubDb)),a.debug("simple setup done")}})(pxt=pxt||{}),(y=>{y.simshim=function(e,t){let d=ts.SyntaxKind,p=e.getTypeChecker(),f=y.cpp.nsWriter("declare namespace"),_="",r;for(var n of e.getSourceFiles()){if(t){var i=t(n.fileName);if(y.debug("SimShim[1]: "+i.dir),!y.U.endsWith(i.dir,"/sim")&&!y.U.startsWith(n.fileName,"sim/"))continue}else if(!y.U.startsWith(n.fileName,"sim/"))continue;y.debug("SimShim[2]: "+n.fileName);for(var a of n.statements){var s=a;a.kind==d.ModuleDeclaration&&"pxsim"==s.name.text&&c((r=s).body)}}return(e={})[y.appTarget.corepkg]=f.finish(),e;function m(e){let t;return t=(t=ts.isExpression(e)?p.getContextualType(e):t)||p.getTypeAtLocation(e)}function g(e){let t=p.typeToString(e,r,ts.TypeFormatFlags.UseFullyQualifiedType);switch(t=t.replace(/^pxsim\./,"")){case"RefAction":return"() => void";case"RefBuffer":return"Buffer";default:return t}}function o(r){var t=h(r);if(t){f.setNs(_),f.write(t);var n,i,a,t=_,s=(_&&(_+="."),_+=r.name.text,t?"":"declare");let e="";if(r.heritageClauses)for(var o of r.heritageClauses)o.token==d.ExtendsKeyword&&(e=" extends "+g(m(o.types[0])));f.write(s+` class ${r.name.text}${e} {`),f.incrIndent();for(let t of r.members)switch(t.kind){case d.MethodDeclaration:l(t);break;case d.PropertyDeclaration:n=t,a=c=i=void 0,(i=h(n))&&(c=n.name.getText(),a="//% shim=."+c,n=p.getTypeAtLocation(n),f.write(i),f.write(a),f.write(`public ${c}: ${g(n)};`),f.write(""));break;case d.Constructor:i=t,a=void 0,(a=h(i))&&(p.getTypeAtLocation(i),i=i.parameters.map(e=>e.name.getText()+": "+g(m(e))),f.write(a),f.write(`//% shim="new ${_}"`),f.write(`constructor(${i.join(", ")});`),f.write(""));break;case d.GetAccessor:var c=r.members.some(e=>e.kind==d.SetAccessor&&e.name.getText()==t.name.getText());l(t,c)}_=t,f.decrIndent(),f.write("}")}}function h(e){e=pxtc.getComments(e);return/^\s*\/\/%/m.test(e)?e:null}function l(i,a=!1){var s=h(i);if(s){var o=i.name.getText(),c=i.kind==d.MethodDeclaration||i.kind==d.GetAccessor||i.kind==d.SetAccessor;let e="//% shim="+(c?"."+o:_+"::"+o);var l=p.getSignatureFromDeclaration(i);let t=p.getReturnTypeOfSignature(l);var l=/Async$/.test(o),u=(u=t,pxtc.isObjectType(u)&&u.objectFlags&ts.ObjectFlags.Reference&&"Promise"==u.symbol.name?u.typeArguments[0]:null),u=(u?(e+=" promise",t=u,l||y.U.userError(_+`::${o} should be called ${o}Async`)):l&&y.U.userError(_+`::${o} doesn't return a promise`),y.debug("emitFun: "+o),i.parameters.map(e=>`${e.name.getText()}${e.questionToken?"?":""}: `+g(m(e)))),l=o.replace(/Async$/,"");let r=c?"public":"function",n=`(${u.join(", ")})`;i.kind==d.GetAccessor&&(r=a?"public":"readonly",n="",e+=" property"),c||f.setNs(_),f.write(s),f.write(e),f.write(`${r} ${l}${n}: ${g(t)};`),f.write("")}}function c(e){switch(e.kind){case d.ModuleDeclaration:return t=e,(r=_)&&(_+="."),_+=t.name.text,c(t.body),void(_=r);case d.ModuleBlock:return e.statements.forEach(c);case d.FunctionDeclaration:return l(e);case d.ClassDeclaration:return o(e)}var t,r}}})(pxt=pxt||{}),(l=>{var u;(u=l.pxtc||(l.pxtc={})).annotate=function(e,t,r){var n=u.target,r=(u.target=r,e.getSourceFiles().filter(e=>e.fileName===t)[0]);let a=e.getTypeChecker();function i(e){var t=e.left,r=e.right,n=c(e.left),i=c(e.right);switch(e.operatorToken.kind!=u.SK.PlusToken&&e.operatorToken.kind!=u.SK.PlusEqualsToken||(u.isStringType(n)||u.isStringType(i)&&e.operatorToken.kind==u.SK.PlusToken)&&(u.pxtInfo(e).exprInfo={leftType:a.typeToString(n),rightType:a.typeToString(i)}),e.operatorToken.kind){case l.SyntaxKind.EqualsToken:case l.SyntaxKind.PlusEqualsToken:case l.SyntaxKind.MinusEqualsToken:if(t.kind==u.SK.PropertyAccessExpression){let e=o(t);e&&e.kind==u.SK.GetAccessor?s(t,[r],!1,e=l.getDeclarationOfKind(e.symbol,u.SK.SetAccessor)):e&&(e.kind==u.SK.PropertySignature||e.kind==u.SK.PropertyAssignment||u.target&&u.target.switches.slowFields)&&s(t,[r])}}}function s(t,r,e=!1,n=null){var e=e||!(c(t).flags&l.TypeFlags.Void),i=n||o(t);if(t.expression&&i){let e=!1;switch(i.kind){case u.SK.PropertySignature:case u.SK.PropertyAssignment:case u.SK.PropertyDeclaration:u.isStatic(i)||(e=!0);break;case u.SK.Parameter:u.isCtorField(i)&&(e=!0);break;case u.SK.GetAccessor:case u.SK.SetAccessor:case u.SK.MethodDeclaration:case u.SK.MethodSignature:u.isStatic(i)||(e=!0)}e&&((n=t.expression).kind===u.SK.PropertyAccessExpression?r.unshift(n.expression):r.unshift(t.expression))}n={decl:i,qName:i?u.getNodeFullName(a,i):"?",args:r,isExpression:e};u.pxtInfo(t).callInfo=n}function o(e){if(!e)return null;var t,r=a.getSymbolAtLocation(e);let n;return(n=r&&!(n=r.valueDeclaration)&&r.declarations&&(t=r.declarations[0])&&t.kind==l.SyntaxKind.ImportEqualsDeclaration&&(r=a.getSymbolAtLocation(t.moduleReference))?r.valueDeclaration:n)||e.kind!=u.SK.PropertyAccessExpression||(t=e,n={kind:u.SK.PropertySignature,symbol:{isBogusSymbol:!0,name:t.name.getText()},name:t.name},u.pxtInfo(n).flags|=2),n}function c(e){let t;var r=u.pxtInfo(e);return r.typeCache||(t=(t=l.isExpression(e)?a.getContextualType(e):t)||a.getTypeAtLocation(e))&&(l.isStringLiteral(e)?t:u.checkType(t))}!function e(t){l.forEachChild(t,r=>{switch(r.kind){case l.SyntaxKind.CallExpression:s(r,r.arguments.slice(0),null,o(r.expression));break;case l.SyntaxKind.PropertyAccessExpression:s(r,[]);break;case l.SyntaxKind.TaggedTemplateExpression:s(r,[r.template],!0,o(r.tag));break;case l.SyntaxKind.BinaryExpression:i(r);break;case l.SyntaxKind.Identifier:let t=o(r);if(t&&t.getSourceFile().fileName!==pxt.MAIN_TS&&t.kind==l.SyntaxKind.VariableDeclaration){let e=u.pxtInfo(r);e.flags|=4,e.commentAttrs||(e.commentAttrs=u.parseComments(t))}}e(r)})}(r),u.target=n}})(ts=ts||{}),(e=>{var v=e.pxtc||(e.pxtc={});function s(t){let r='"';for(let e=0;e<t.length;++e){var n=255&t.charCodeAt(e),i=String.fromCharCode(n);r+="\\"==i||'"'==i?"\\"+i:"\n"==i?"\\n":n<=15?"\\x0"+n.toString(16):n<32||127<n?"\\x"+n.toString(16):i}return r+'"'}function r(r){let e="pxt::string_inline_ascii_vt";var n=v.target.utf8?v.U.toUTF8(r,!0):r;let i="";if(n!==r)if(16<r.length){e="pxt::string_skiplist16_packed_vt";var a=[];let t=0;for(let e=0;e+16<=r.length;e+=16)t+=v.U.toUTF8(r.slice(e,e+16),!0).length,a.push(t);i=`
    .short ${n.length}, ${r.length}
    .short ${a.map(e=>e.toString()).join(", ")}
    .string ${s(n)}
`}else e="pxt::string_inline_utf8_vt";return i=i||`
    .short ${n.length}
    .string ${s(n)}
`,{vt:e,asm:i}}function n(e,t=""){return`
                .word ${e.length>>1}${t}
                .hex ${e}${e.length%4==0?"":"00"}
        `}v.asmStringLiteral=s,v.AssemblerSnippets=class{nop(){return"TBD(nop)"}reg_gets_imm(e,t){return"TBD(reg_gets_imm)"}proc_setup(e,t){return"TBD(proc_setup)"}push_fixed(e){return"TBD(push_fixed)"}push_local(e){return"TBD(push_local)"}push_locals(e){return"TBD(push_locals)"}pop_fixed(e){return"TBD(pop_fixed)"}pop_locals(e){return"TBD(pop_locals)"}proc_return(){return"TBD(proc_return)"}debugger_stmt(e){return""}debugger_bkpt(e){return""}debugger_proc(e){return""}unconditional_branch(e){return"TBD(unconditional_branch)"}beq(e){return"TBD(beq)"}bne(e){return"TBD(bne)"}cmp(e,t){return"TBD(cmp)"}cmp_zero(e){return"TBD(cmp_zero)"}arithmetic(){return""}load_reg_src_off(e,t,r,n,i,a){return"TBD(load_reg_src_off)"}rt_call(e,t,r){return"TBD(rt_call)"}call_lbl(e,t){return"TBD(call_lbl)"}call_reg(e){return"TBD(call_reg)"}helper_prologue(){return"TBD(lambda_prologue)"}helper_epilogue(){return"TBD(lambda_epilogue)"}pop_clean(e){return"TBD"}load_ptr_full(e,t){return"TBD(load_ptr_full)"}emit_int(e,t){return"TBD(emit_int)"}obj_header(e){return".word "+e}string_literal(e,t){t=r(t);return`
            .balign 4
            .object ${e}
            ${e}: ${this.obj_header(t.vt)}
            ${t.asm}
`}hex_literal(e,t){return`
.balign ${/f{16}/i.test(t)?8:4}
.object ${e}
${e}: ${this.obj_header("pxt::buffer_vt")}
${n(t)}
`}},v.utf8AsmStringLiteral=r,v.hexLiteralAsm=n,v.numBytes=function(t){let r=0;for(let e=t;0<e;e>>>=8)r++;return r||1},v.ProctoAssembler=class{constructor(e,t,r){this.resText="",this.exprStack=[],this.calls=[],this.proc=null,this.baseStackSize=0,this.labelledHelpers={},this.write=e=>{this.resText+=v.asmline(e)},this.t=e,this.bin=t,this.proc=r,this.proc&&this.work()}emitHelpers(){this.emitLambdaTrampoline(),this.emitArrayMethods(),this.emitFieldMethods(),this.emitBindHelper()}redirectOutput(e){var t=this.write;let r="";this.write=e=>r+=v.asmline(e);try{e()}finally{this.write=t}return r}stackSize(){return this.baseStackSize+this.exprStack.length}stackAlignmentNeeded(e=0){return!v.target.stackAlign||(e=v.target.stackAlign-(this.stackSize()+e&v.target.stackAlign-1))==v.target.stackAlign?0:e}getAssembly(){return this.resText}work(){this.write(`
;
; Function ${this.proc.getFullName()}
;
`);var e=this.proc.label();this.write(`.object ${e} `+JSON.stringify(this.proc.getFullName()));let a=e+"_pre",s=e+"_bkpt",o=e+"_locals",c=e+"_end";this.write(a+":"),this.emitLambdaWrapper(this.proc.isRoot),this.write(".section code"),this.write(e+":"),this.proc.classInfo&&this.proc.info.thisParameter&&!v.target.switches.skipClassCheck&&!v.target.switches.noThisCheckOpt&&(this.write("mov r7, lr"),this.write("ldr r0, [sp, #0]"),this.emitInstanceOf(this.proc.classInfo,"validate"),this.write("mov lr, r7")),this.write(`
${e}_nochk:
    @stackmark func
    @stackmark args
`),this.proc.fillDebugInfo=t=>{var e,r=t.getLabels();this.proc.debugInfo={locals:(1==this.proc.seqNo?this.bin.globals:this.proc.locals).map(e=>e.getDebugInfo()),args:this.proc.args.map(e=>e.getDebugInfo()),name:this.proc.getName(),codeStartLoc:v.U.lookup(r,o),codeEndLoc:v.U.lookup(r,c),bkptLoc:v.U.lookup(r,s),localsMark:v.U.lookup(t.stackAtLabel,o),idx:this.proc.seqNo,calls:this.calls,size:v.U.lookup(r,c)+2-v.U.lookup(r,a)};for(e of this.calls)e.addr=v.U.lookup(r,e.callLabel),e.stack=v.U.lookup(t.stackAtLabel,e.callLabel),e.callLabel=void 0;for(let e=0;e<this.proc.body.length;++e){var n,i=this.proc.body[e].breakpointInfo;i&&(n=v.U.lookup(t.stackAtLabel,"__brkp_"+i.id))!==this.proc.debugInfo.localsMark&&(pxt.log(i),pxt.log(t.stackAtLabel),v.U.oops(`offset doesn't match: ${n} != `+this.proc.debugInfo.localsMark))}},this.bin.breakpoints&&this.write(this.t.debugger_proc(s)),this.baseStackSize=1;e=this.proc.locals.length;this.write("push {lr}"),this.write(".locals:\n"),this.proc.perfCounterNo&&(this.write(this.t.emit_int(this.proc.perfCounterNo,"r0")),this.write("bl pxt::startPerfCounter")),this.write(this.t.proc_setup(e)),this.baseStackSize+=e,this.write("@stackmark locals"),this.write(o+":");for(let e=0;e<this.proc.body.length;++e){var t,r=this.proc.body[e];switch(r.stmtKind){case v.ir.SK.Expr:this.emitExpr(r.expr);break;case v.ir.SK.StackEmpty:if(0<this.exprStack.length){for(var n of this.proc.body.slice(e-4,e+1))pxt.log("PREVSTMT "+n.toString().trim());for(var i of this.exprStack)pxt.log(`EXPRSTACK ${i.currUses}/${i.totalUses} E: `+i.toString());v.oops("stack should be empty")}this.write("@stackempty locals");break;case v.ir.SK.Jmp:this.emitJmp(r);break;case v.ir.SK.Label:this.write(r.lblName+":"),this.validateJmpStack(r);break;case v.ir.SK.Comment:this.write("; "+r.expr.data);break;case v.ir.SK.Breakpoint:this.bin.breakpoints&&(t="__brkp_"+r.breakpointInfo.id,r.breakpointInfo.isDebuggerStmt?this.write(this.t.debugger_stmt(t)):this.write(this.t.debugger_bkpt(t)));break;default:v.oops()}}v.assert(0<=e&&e<127),0<e&&this.write(this.t.pop_locals(e)),this.proc.perfCounterNo&&(this.write("mov r4, r0"),this.write(this.t.emit_int(this.proc.perfCounterNo,"r0")),this.write("bl pxt::stopPerfCounter"),this.write("mov r0, r4")),this.write(c+":"),this.write(this.t.proc_return()),this.write("@stackempty func"),this.write("@stackempty args"),this.write("; endfun")}mkLbl(e){let t=e+this.bin.lblNo++;return t="_"!=t[0]?"."+t:t}dumpStack(){let e="[";for(var t of this.exprStack)e+=t.sharingInfo()+": "+t.toString()+"; ";return e+="]"}terminate(e){v.assert(e.exprKind==v.ir.EK.SharedRef);e=e.args[0];v.U.assert(e.currUses!=e.totalUses),v.U.assert(this.exprStack[0]===e,"term at top");let t=1;for(;t<this.exprStack.length;){var r=this.exprStack[t];if(r.currUses!=r.totalUses)break;t++}return this.write("@dummystack "+t),this.write(this.t.pop_locals(t)),t}validateJmpStack(e,t=0){t=this.exprStack.length-t;null==e.lblStackSize?e.lblStackSize=t:e.lblStackSize!=t&&(pxt.log(e.lblStackSize,t),pxt.log(this.dumpStack()),v.U.oops("stack misaligned at: "+e.lblName))}emitJmp(e){let t=0;var r;e.jmpMode==v.ir.JmpMode.Always?(e.expr&&this.emitExpr(e.expr),e.terminateExpr&&(t=this.terminate(e.terminateExpr)),this.write(this.t.unconditional_branch(e.lblName)+" ; with expression")):(r=this.mkLbl("jmpz"),this.emitExpr(e.expr),e.expr.exprKind==v.ir.EK.RuntimeCall&&("thumb::subs"===e.expr.data||v.U.startsWith(e.expr.data,"_cmp_"))||this.write(this.t.cmp_zero("r0")),e.jmpMode==v.ir.JmpMode.IfNotZero?this.write(this.t.beq(r)):this.write(this.t.bne(r)),e.terminateExpr&&(t=this.terminate(e.terminateExpr)),this.write(this.t.unconditional_branch(e.lblName)),this.write(r+":")),this.validateJmpStack(e.lbl,t)}clearStack(e=!1){let t=0;for(;0<this.exprStack.length&&this.exprStack[0].currUses==this.exprStack[0].totalUses;)t++,this.exprStack.shift();if(t&&this.write(this.t.pop_locals(t)),!e){e=this.exprStack.filter(e=>e.currUses==e.totalUses&&-1!=e.irCurrUses);if(0<e.length){this.write(this.t.reg_gets_imm("r7",0));for(var r of e)r.irCurrUses=-1,this.write(this.loadFromExprStack("r7",r,0,!0))}}}emitExprInto(e,t){switch(e.exprKind){case v.ir.EK.NumberLiteral:"number"==typeof e.data?this.write(this.t.emit_int(e.data,t)):v.oops();break;case v.ir.EK.PointerLiteral:this.write(this.t.load_ptr_full(e.data,t));break;case v.ir.EK.SharedRef:var r=e.args[0],n=(v.U.assert(!!r.currUses),v.U.assert(r.currUses<r.totalUses),r.currUses++,this.exprStack.indexOf(r));v.U.assert(0<=n),0==n&&r.totalUses==r.currUses?(this.write(this.t.pop_fixed([t])+(" ; tmpref @"+this.exprStack.length)),this.exprStack.shift(),this.clearStack()):(r=n.toString()+":"+this.exprStack.length,this.write(this.t.load_reg_src_off(t,"sp",r,!0)+(" ; tmpref @"+(this.exprStack.length-n))));break;case v.ir.EK.CellRef:r=e.data;if(r.isGlobal()){n=this.bitSizeInfo(r.bitSize);let e="#"+r.index;(n.needsSignExt||r.index>=n.immLimit)&&(this.write(this.t.emit_int(r.index,t)),e=t),this.write(this.t.load_reg_src_off("r7","r6","#0")),this.write(this.t.load_reg_src_off(t,"r7",e,!1,!1,n))}else{var[n,r,i]=this.cellref(r);this.write(this.t.load_reg_src_off(t,n,r,i))}break;default:v.oops()}}bitSizeInfo(e){var t={size:v.sizeOfBitSize(e),immLimit:128};return 1==t.size?t.immLimit=32:2==t.size&&(t.immLimit=64),1!=e&&3!=e||(t.needsSignExt=!0),t}emitExpr(e){switch(e.exprKind){case v.ir.EK.JmpValue:this.write("; jmp value (already in r0)");break;case v.ir.EK.Nop:this.write(this.t.nop());break;case v.ir.EK.FieldAccess:return this.emitExpr(e.args[0]),this.emitFieldAccess(e);case v.ir.EK.Store:return this.emitStore(e.args[0],e.args[1]);case v.ir.EK.RuntimeCall:return this.emitRtCall(e);case v.ir.EK.ProcCall:return this.emitProcCall(e);case v.ir.EK.SharedDef:return this.emitSharedDef(e);case v.ir.EK.Sequence:return e.args.forEach(e=>this.emitExpr(e)),this.clearStack();case v.ir.EK.InstanceOf:return this.emitExpr(e.args[0]),this.emitInstanceOf(e.data,e.jsInfo);default:return this.emitExprInto(e,"r0")}}emitFieldAccess(e,t=!1){e=e.data,e.classInfo.id,e.needsCheck&&!v.target.switches.skipClassCheck&&this.emitInstanceOf(e.classInfo,"validate"),e=4*e.idx+4;let r="#"+e;124<e&&(this.write(this.t.emit_int(e,"r3")),r="r3"),t?this.write(`str r1, [r0, ${r}]`):this.write(`ldr r0, [r0, ${r}]`)}writeFailBranch(){this.write(".fail:"),this.write("mov r1, lr"),this.write(this.t.callCPP("pxt::failedCast"))}emitClassCall(e){var t=e.virtualIndex+v.firstMethodOffset();this.write(this.t.emit_int(4*t,"r1"));let r=e.classInfo,n="";e.isThis&&(n+="_this"),this.emitLabelledHelper("classCall_"+r.id+n,()=>{this.write("ldr r0, [sp, #0] ; ld-this"),this.loadVTable(),v.target.switches.skipClassCheck||e.isThis||this.checkSubtype(r),this.write("ldr r1, [r3, r1] ; ld-method"),this.write("bx r1 ; keep lr from caller"),this.writeFailBranch()})}helperObject(e){return`.object _pxt_helper_${e.replace(/[^\w]+/g,"_")} "helper: ${e}"`}emitBindHelper(){this.write(`
                ${this.helperObject("bind")}
                .section code
                _pxt_bind_helper:
                    push {r0, r2}
                    movs r0, #2
                    ldlit r1, _pxt_bind_lit
                    ${this.t.callCPP("pxt::mkAction")}
                    pop {r1, r2}
                    str r1, [r0, #12]
                    str r2, [r0, #16]
                    bx r4 ; return

                _pxt_bind_lit:
                    ${this.t.obj_header("pxt::RefAction_vtable")}
                    .short 0, 0 ; no captured vars
                    .word .bindCode@fn
                .bindCode:
                    ; r0-bind object, r4-#args
                    cmp r4, #12
                    bge .fail
                    lsls r3, r4, #2
                    ldlit r2, _pxt_copy_list
                    ldr r1, [r2, r3]

                    ldr r3, [r0, #12]
                    ldr r2, [r0, #16]
                    adds r4, r4, #1
                    bx r1
            `),this.writeFailBranch(),this.write("_pxt_copy_list:"),this.write(v.U.range(12).map(e=>`.word _pxt_bind_${e}@fn`).join("\n"));for(let t=0;t<12;t++){this.write(`
                _pxt_bind_${t}:
                    sub sp, #4
                `);for(let e=0;e<t;++e)this.write(`ldr r1, [sp, #4*${e+1}]`),this.write(`str r1, [sp, #4*${e}]`);this.write(`
                    push {r3} ; this-ptr
                    mov r1, lr
                    str r1, [sp, #4*${t+1}] ; store LR
                    blx r2
                    ldr r1, [sp, #4*${t+1}]
                    add sp, #8
                    bx r1
                `)}}ifaceCallCore(t,e,r=!1){this.write(`
                ldr r2, [r3, #12] ; load mult
                movs r7, r2
                beq .objlit ; built-in types have mult=0
                muls r7, r1
                lsrs r7, r2
                lsls r7, r7, #1 ; r7 - hash offset
                ldr r3, [r3, #4] ; iface table
                adds r3, r3, r7
                ; r0-this, r1-method idx, r2-free, r3-hash entry, r4-num args, r7-free
                `);for(let e=0;e<v.vtLookups;++e)0<e&&this.write("    adds r3, #2"),this.write(`
                ldrh r2, [r3, #0] ; r2-offset of descriptor
                ldrh r7, [r2, r3] ; r7-method idx
                cmp r7, r1
                beq .hit
                `);"get"==e?(this.write("movs r0, #0 ; undefined"),this.write("bx lr")):this.write("b .fail2"),this.write(`
            .hit:
                adds r3, r3, r2 ; r3-descriptor
                ldr r2, [r3, #4]
                lsls r7, r2, #31
                beq .field
            `);var n=this.t.emit_int(t,"r4")+"\n     bx r2";if("set"==e?this.write(`
                    ; check for next descriptor
                    ldrh r7, [r3, #8]
                    cmp r7, r1
                    bne .fail2 ; no setter!
                    ldr r2, [r3, #12]
                    ${n}
                `):(this.write(`
                    ; check if it's getter
                    ldrh r7, [r3, #2]
                    cmp r7, #1
                `),"get"==e?this.write(`
                        bne .bind
                        ${n}
                    .bind:
                        mov r4, lr
                        bl _pxt_bind_helper
                    `):this.write(`
                        beq .doublecall
                        ${n}
                    .doublecall:
                        ; call getter
                        movs r4, #1
                        push {r0, lr}
                        blx r2
                        pop {r1, r2}
                        mov lr, r2
                        b .moveArgs
                    `)),r||(this.write(`
                .objlit:
                    ldrh r2, [r3, #8]
                    cmp r2, #${pxt.BuiltInType.RefMap}
                    bne .fail
                    mov r4, lr
                `),"set"==e&&this.write("ldr r2, [sp, #4] ; ld-val"),this.write(this.t.callCPP("set"==e?"pxtrt::mapSet":"pxtrt::mapGet")),e?this.write("bx r4"):(this.write("mov lr, r4"),this.write("b .moveArgs"))),this.write(".field:"),"set"==e?this.write(`
                        ldr r3, [sp, #4] ; ld-val
                        str r3, [r0, r2] ; store field
                        bx lr
                    `):"get"==e?this.write(`
                        ldr r0, [r0, r2] ; load field
                        bx lr
                    `):this.write(`
                        ldr r0, [r0, r2] ; load field
                    `),!e){this.write(".moveArgs:");for(let e=0;e<t;++e)e==t-1?this.write("movs r1, r0"):this.write(`ldr r1, [sp, #4*${e+1}]`),this.write(`str r1, [sp, #4*${e}]`);this.lambdaCall(t-1)}r&&this.write(".objlit:"),this.writeFailBranch(),this.write(`
            .fail2:
                ${this.t.callCPP("pxt::missingProperty")}
            `)}emitIfaceCall(e,t,r=""){v.U.assert(0<e.ifaceIndex),this.write(this.t.emit_int(e.ifaceIndex,"r1")),this.emitLabelledHelper("ifacecall"+t+"_"+r,()=>{this.write("ldr r0, [sp, #0] ; ld-this"),this.loadVTable(),this.ifaceCallCore(t,r)})}checkSubtype(e,t=".fail",r="r2"){e.classNo?(this.write(`ldrh ${r}, [r3, #8]`),this.write(`cmp ${r}, #`+e.classNo),e.classNo==e.lastSubtypeNo?this.write("bne "+t):(this.write("blt "+t),this.write(`cmp ${r}, #`+e.lastSubtypeNo),this.write("bgt "+t))):this.write(`b ${t} ; always fails; class never instantiated`)}loadVTable(e="r2",t=".fail",r=".fail"){this.write(`lsls ${e}, r0, #30`),this.write("bne "+t),this.write("cmp r0, #0"),this.write("beq "+r),this.write("ldr r3, [r0, #0]"),this.write("; vtable in R3")}emitInstanceOf(e,t){var r="inst_"+e.id+"_"+t;this.emitLabelledHelper(r,()=>{"validateNullable"==t?this.loadVTable("r2",".tagged",".undefined"):this.loadVTable("r2",".fail",".fail"),this.checkSubtype(e),"bool"==t?(this.write("movs r0, #"+v.taggedTrue),this.write("bx lr"),this.write(".fail:"),this.write("movs r0, #"+v.taggedFalse),this.write("bx lr")):"validate"==t?(this.write("bx lr"),this.writeFailBranch()):"validateNullable"==t?(this.write(".undefined:"),this.write("bx lr"),this.write(".tagged:"),this.write(`cmp r0, #${v.taggedNull} ; check for null`),this.write("bne .fail"),this.write("movs r0, #0"),this.write("bx lr"),this.writeFailBranch()):v.U.oops()})}emitSharedDef(e){e=e.args[0];if(v.U.assert(1<=e.totalUses),v.U.assert(0===e.currUses),(e.currUses=1)==e.totalUses)return this.emitExpr(e);this.emitExpr(e),this.exprStack.unshift(e),this.write(this.t.push_local("r0")+"; tmpstore @"+this.exprStack.length)}clearArgs(e,t){e.length,t.length;var r,n=e.concat(t);for(r of n)0==r.currUses&&1==r.totalUses||(pxt.log(r.toString()),pxt.log(n.map(e=>e.toString())),v.U.oops(`wrong uses: ${r.currUses} `+r.totalUses)),r.currUses=1;this.clearStack()}builtInClassNo(e){return{id:"builtin"+e,classNo:e,lastSubtypeNo:e}}emitBeginTry(e){this.emitExprInto(e.args[0],"r0"),this.write("bl _pxt_save_exception_state")}emitRtCall(e,t=null){var r=e.data;if("pxt::beginTry"==r)return this.emitBeginTry(e);let n=e.mask||{refMask:0},i=n.conversions||[];var a,s,e=e.args.map((e,t)=>({idx:t,expr:e,isSimple:e.isLiteral(),isRef:0!=(n.refMask&1<<t),conv:i.find(e=>e.argIdx==t)}));v.U.assert(e.length<=4);let o=!1;for(a of v.U.reversed(e))a.expr.isPure()?a.isSimple||a.isRef||o&&!a.expr.isStateless()||(a.isSimple=!0):o=!0;for(s of e)s.conv&&(s.isSimple=!1);let c=e.filter(e=>!e.isSimple);if(c.every(e=>e.expr.isPure()&&!e.isRef&&!e.conv)){for(var l of c)l.isSimple=!0;c=[]}var u,d=c[0];let p=!0;if(1!=c.length||d.conv||d.isRef){for(var f of c)this.pushArg(f.expr);this.alignExprStack(0);let a=c.filter(e=>!!e.conv);if(a.length){var _=this.redirectOutput(()=>{let e=0;v.target.switches.inlineConversions||(this.t.stackAligned()?e+=2:e+=1);for(var t of a){var r;v.isThumb()&&"pxt::toInt"==t.conv.method?(this.write(this.loadFromExprStack("r0",t.expr,e)),this.write("asrs r0, r0, #1"),r=v.target.switches.inlineConversions?t.expr.getId():e,this.write("bcs .isint"+r),this.write("lsls r0, r0, #1"),this.alignedCall(t.conv.method,"",e),this.write(".isint"+r+":")):(this.write(this.loadFromExprStack("r0",t.expr,e)),t.conv.refTag?v.target.switches.skipClassCheck||this.emitInstanceOf(this.builtInClassNo(t.conv.refTag),t.conv.refTagNullable?"validateNullable":"validate"):(this.alignedCall(t.conv.method,"",e),t.conv.returnsRef&&this.write(this.loadFromExprStack("r0",t.expr,e,!0)))),this.write(this.t.push_fixed(["r0"])),e++}for(var n of v.U.reversed(a))e--,this.write(this.t.pop_fixed(["r"+n.idx]));for(var i of c)i.conv||this.write(this.loadFromExprStack("r"+i.idx,i.expr,e))});v.target.switches.inlineConversions?this.write(_):this.emitHelper(this.t.helper_prologue()+_+this.t.helper_epilogue(),"conv")}else for(var m of c)this.write(this.loadFromExprStack("r"+m.idx,m.expr))}else this.emitExpr(d.expr),0!=d.idx&&this.write(this.t.mov("r"+d.idx,"r0")),p=!1;for(u of e)u.isSimple&&this.emitExprInto(u.expr,"r"+u.idx);t?t():"langsupp::ignore"!=r&&this.alignedCall(r,"",0,!0),p&&this.clearArgs(c.filter(e=>!e.isRef).map(e=>e.expr),c.filter(e=>e.isRef).map(e=>e.expr))}alignedCall(e,t="",r=0,n=!1){(v.U.startsWith(e,"_cmp_")||v.U.startsWith(e,"_pxt_"))&&(n=!1),this.write(this.t.call_lbl(e,n,this.stackAlignmentNeeded(r))+t)}emitLabelledHelper(e,t){this.labelledHelpers[e]?this.write(this.t.call_lbl(this.labelledHelpers[e])):(t=this.redirectOutput(t),this.emitHelper(t,e),this.labelledHelpers[e]=this.bin.codeHelpers[t])}emitHelper(e,t="hlp"){var r;this.bin.codeHelpers[e]||(r=Object.keys(this.bin.codeHelpers).length,this.bin.codeHelpers[e]=`_${t}_`+r),this.write(this.t.call_lbl(this.bin.codeHelpers[e]))}pushToExprStack(e){e.totalUses=1,e.currUses=0,this.exprStack.unshift(e)}pushArg(e){this.clearStack(!0);this.exprStack.length;this.emitExpr(e),this.clearStack(!0),this.write(this.t.push_local("r0")+" ; proc-arg"),this.pushToExprStack(e)}loadFromExprStack(e,t,r=0,n=!1){t=this.exprStack.indexOf(t);return v.assert(0<=t),this.t.load_reg_src_off(e,"sp",(t+r).toString(),!0,n)+` ; estack
`}pushDummy(){var e=v.ir.numlit(0);e.totalUses=1,e.currUses=1,this.exprStack.unshift(e)}alignExprStack(e){var t=this.stackAlignmentNeeded(e);if(t)for(let e=0;e<t;++e)this.write("push {r5} ; align"),this.pushDummy()}emitFieldMethods(){for(var t of["get","set"]){this.write(`
                ${this.helperObject(t)}
                .section code
                _pxt_map_${t}:
                `),this.loadVTable("r4"),this.checkSubtype(this.builtInClassNo(pxt.BuiltInType.RefMap),".notmap","r4"),this.write(this.t.callCPPPush("set"==t?"pxtrt::mapSetByString":"pxtrt::mapGetByString")),this.write(".notmap:");var r="set"==t?2:1;let e=!1;this.write("mov r4, r3 ; save VT"),"set"==t?(v.target.stackAlign&&(e=!0,this.write("push {lr} ; align")),this.write(`
                            push {r0, r2, lr}
                            mov r0, r1
                        `)):this.write(`
                            push {r0, lr}
                            mov r0, r1
                        `),this.write(`
                    bl pxtrt::lookupMapKey
                    mov r1, r0 ; put key index in r1
                    ldr r0, [sp, #0] ; restore obj pointer
                    mov r3, r4 ; restore vt
                    bl .dowork
                `),this.write(this.t.pop_locals(r+(e?1:0))),this.write("pop {pc}"),this.write(".dowork:"),this.ifaceCallCore(r,t,!0)}}emitArrayMethod(e,t){this.write(`
            ${this.helperObject(e+" "+(t?"buffer":"array"))}
            .section code
            _pxt_${t?"buffer":"array"}_${e}:
            `),this.loadVTable("r4");var r=this.builtInClassNo(t?pxt.BuiltInType.BoxedBuffer:pxt.BuiltInType.RefCollection),r=(v.target.switches.skipClassCheck||this.checkSubtype(r,".fail","r4"),v.isStackMachine()||v.target.runtimeIsARM||t?"ldr":"ldrh");this.write(`
                asrs r1, r1, #1
                bcc .notint
                ${r} r4, [r0, #${t?4:8}]
                cmp r1, r4
                bhs .oob
            `);let n="r1";t?(n="#8",this.write(`
                    adds r4, r0, r1
                `)):this.write(`
                    lsls r1, r1, #2
                    ldr r4, [r0, #4]
                `);var r=t?"b":"",i=t&&"get"==e?"lsls r0, r0, #1\nadds r0, #1":"";"set"==e?this.write(`
                        str${r} r2, [r4, ${n}]
                        bx lr
                    `):this.write(`
                        ldr${r} r0, [r4, ${n}]
                        ${i}
                        bx lr
                    `),this.write(`
            .notint:
                lsls r1, r1, #1
                ${this.t.pushLR()}
                push {r0, r2}
                mov r0, r1
                ${this.t.callCPP("pxt::toInt")}
                mov r1, r0
                pop {r0, r2}
            .doop:
                ${this.t.callCPP(`Array_::${e}At`)}
                ${i}
                ${this.t.popPC()}
            `),this.writeFailBranch(),"get"==e?this.write(`
                    .oob:
                        movs r0, #${t?1:0} ; 0 or undefined
                        bx lr
                `):this.write(`
                    .oob:
                        ${this.t.pushLR()}
                        b .doop
                `)}emitArrayMethods(){for(var e of["get","set"])this.emitArrayMethod(e,!0),this.emitArrayMethod(e,!1)}emitLambdaTrampoline(){var e=v.target.stackAlign?"r3,":"";this.write(`
            ${this.helperObject("trampoline")}
            .section code
            _pxt_lambda_trampoline:
                push {${e} r4, r5, r6, r7, lr}
                mov r4, r8
                mov r5, r9
                mov r6, r10
                mov r7, r11
                push {r4, r5, r6, r7} ; save high registers
                mov r4, r1
                mov r5, r2
                mov r6, r3
                mov r7, r0
                `),this.emitInstanceOf(this.builtInClassNo(pxt.BuiltInType.RefAction),"validate"),this.write(`
                mov r0, sp
                push {r4, r5, r6, r7} ; push args and the lambda
                mov r1, sp
                bl pxt::pushThreadContext
                mov r6, r0          ; save ctx or globals
                mov r5, r7          ; save lambda for closure
                mov r0, r5          ; also save lambda pointer in r0 - needed by pxt::bindMethod
                ldr r1, [r5, #8]    ; ld fnptr
                movs r4, #3         ; 3 args
                blx r1              ; execute the actual lambda
                mov r7, r0          ; save result
                @dummystack 4
                add sp, #4*4        ; remove arguments and lambda
                mov r0, r6   ; or pop the thread context
                bl pxt::popThreadContext
                mov r0, r7 ; restore result
                pop {r4, r5, r6, r7} ; restore high registers
                mov r8, r4
                mov r9, r5
                mov r10, r6
                mov r11, r7
                pop {${e} r4, r5, r6, r7, pc}`),this.write(`
            ${this.helperObject("exn")}
            .section code
            ; r0 - try frame
            ; r1 - handler PC
            _pxt_save_exception_state:
                push {r0, lr}
                ${this.t.callCPP("pxt::beginTry")}
                pop {r1, r4}
                str r1, [r0, #1*4] ; PC
                mov r1, sp
                str r1, [r0, #2*4] ; SP
                str r5, [r0, #3*4] ; lambda ptr
                bx r4
                `),this.write(`
            .section code
            ; r0 - try frame
            ; r1 - thread context
            _pxt_restore_exception_state:
                mov r6, r1
                ldr r1, [r0, #2*4] ; SP
                mov sp, r1
                ldr r5, [r0, #3*4] ; lambda ptr
                ldr r1, [r0, #1*4] ; PC
                movs r0, #1
                orrs r1, r0
                bx r1
                `),this.write(`
            ${this.helperObject("stringconv")}
            .section code
            _pxt_stringConv:
            `),this.loadVTable(),this.checkSubtype(this.builtInClassNo(pxt.BuiltInType.BoxedString),".notstring"),this.write(`
                bx lr

            .notstring: ; no string, but vtable in r3
                ldr r7, [r3, #4*${v.firstMethodOffset()-1}]
                cmp r7, #0
                beq .fail
                push {r0, lr}
                movs r4, #1
                blx r7
                str r0, [sp, #0]
                b .numops

            .fail: ; not an object or no toString
                push {r0, lr}
            .numops:
                ${this.t.callCPP("numops::toString")}
                pop {r1}
                pop {pc}
            `)}emitProcCall(t){let r=[],e=null,n="";var i=t.data;if(i.proc&&i.proc.inlineBody)return this.emitExpr(i.proc.inlineSelf(t.args));var a,s=-1==i.virtualIndex;let o=!1;for(a of v.U.reversed(t.args)){if(a.isPure()){if(!o||a.isStateless())continue}else o=!0;r.push(a)}if(r.reverse(),r.length<=1){var c=r[0];c&&(e=c,this.clearStack(!0),this.emitExpr(c),c==t.args[t.args.length-1]?n="r0":(n="r3",this.write(this.t.mov("r3","r0")))),r=[]}else for(var l of r)this.pushArg(l);this.alignExprStack(t.args.length);let u=["r1","r2","r3","r4"],d=[];if(r.length){let t=-1;for(var p of r)t=Math.max(this.exprStack.indexOf(p),t);if(++t<=u.length){u=u.slice(0,t),this.write(this.t.pop_fixed(u)),d=this.exprStack.splice(0,t);var f=[];for(let e=t-1;0<=e;--e)r.indexOf(d[e])<0&&(f.push(u[e]),this.exprStack.unshift(d[e]));f.length&&this.write(this.t.push_fixed(f))}else u=null,this.write(this.t.reg_gets_imm("r7",0))}var _,m,g,c=v.U.reversed(t.args);s&&c.unshift(c.pop());for(_ of c)0<=r.indexOf(_)?(u?this.write(this.t.push_fixed([u[d.indexOf(_)]])):(this.write(this.loadFromExprStack("r0",_)),this.write(this.t.push_local("r0")+" ; re-push"),this.write(this.loadFromExprStack("r7",_,1,!0)),m=this.exprStack.indexOf(_),(g=v.ir.numlit(0)).currUses=1,g.totalUses=1,this.exprStack[m]=g),this.exprStack.unshift(_)):_===e?(this.write(this.t.push_local(n)+" ; the one arg"),this.pushToExprStack(_)):this.pushArg(_);var h,c=this.mkLbl("_proccall");let y=-1;if(s){let e=t.args.length-1;this.write(this.loadFromExprStack("r0",t.args[0])),this.emitLabelledHelper("lambda_call"+e,()=>{this.lambdaCall(e),this.writeFailBranch()})}else null!=i.virtualIndex||null!=i.ifaceIndex?null!=i.ifaceIndex?i.isSet?(v.assert(2==t.args.length),this.emitIfaceCall(i,t.args.length,"set")):this.emitIfaceCall(i,t.args.length,i.noArgs?"get":""):this.emitClassCall(i):(h=i.proc,y=h.seqNo,this.write(this.t.call_lbl(h.label()+(i.isThis?"_nochk":"")))),this.write(c+":");this.calls.push({procIndex:y,stack:0,addr:0,callLabel:c}),s&&t.args[0].isStateless()?this.clearArgs([t.args[0]],t.args.slice(1)):this.clearArgs([],t.args)}lambdaCall(t){this.write("; lambda call"),this.loadVTable(),v.target.switches.skipClassCheck||this.checkSubtype(this.builtInClassNo(pxt.BuiltInType.RefAction)),this.write(`
                movs r4, #${t}
                ldrh r1, [r0, #4]
                cmp r1, #0
                bne .pushR5
                ldr r1, [r0, #8]
                bx r1 ; keep lr from the caller
            .pushR5:
                sub sp, #8
            `);for(let e=0;e<t;++e)this.write(`ldr r1, [sp, #4*${e+2}]`),this.write(`str r1, [sp, #4*${e}]`);this.write(`
                str r5, [sp, #4*${t}]
                mov r1, lr
                str r1, [sp, #4*${t+1}]
                mov r5, r0
                ldr r7, [r5, #8]
                blx r7 ; exec actual lambda
                ldr r4, [sp, #4*${t+1}] ; restore what was in LR
                ldr r5, [sp, #4*${t}] ; restore lambda ctx
            `);for(let e=0;e<t;++e)this.write(`ldr r1, [sp, #4*${e}]`),this.write(`str r1, [sp, #4*${e+2}]`);this.write(`
                add sp, #8
                bx r4
            `),this.write("; end lambda call")}emitStore(e,t){switch(e.exprKind){case v.ir.EK.CellRef:var r=e.data;if(this.emitExpr(t),r.isGlobal()){var n=this.bitSizeInfo(r.bitSize);let e="#"+r.index;r.index>=n.immLimit&&(this.write(this.t.emit_int(r.index,"r1")),e="r1"),this.write(this.t.load_reg_src_off("r7","r6","#0")),this.write(this.t.load_reg_src_off("r0","r7",e,!1,!0,n))}else{var[n,r,i]=this.cellref(r);this.write(this.t.load_reg_src_off("r0",n,r,i,!0))}break;case v.ir.EK.FieldAccess:this.emitRtCall(v.ir.rtcall("dummy",[e.args[0],t]),()=>this.emitFieldAccess(e,!0));break;default:v.oops()}}cellref(e){var t;if(e.isGlobal())throw v.oops();return e.iscap?(t=e.index+3,v.assert(0<=t&&t<32),["r5",t.toString(),!0]):e.isarg?["sp","args@"+e.index.toString()+":"+this.baseStackSize,!1]:["sp","locals@"+e.index,!1]}emitLambdaWrapper(n){if(this.write(""),this.write(".section code"),this.write(".balign 4"),n&&(this.proc.info.usedAsValue=!0),this.proc.info.usedAsValue||this.proc.info.usedAsIface){this.proc.info.usedAsValue&&(this.write(this.proc.label()+"_Lit:"),this.write(this.t.obj_header("pxt::RefAction_vtable")),this.write(".short 0, 0 ; no captured vars"),this.write(`.word ${this.proc.label()}_args@fn`)),this.write(this.proc.label()+"_args:");let r=this.proc.args.length;if(0!=r){this.write("cmp r4, #"+r),this.write(`bge ${this.proc.label()}_nochk`);let e=this.stackAlignmentNeeded(r+1),t=e?r+2:r+1;this.write("push {lr}"),this.emitLabelledHelper("expand_args_"+r,()=>{this.write("movs r0, #0"),this.write("movs r1, #0"),e&&this.write("push {r0}");for(let e=r;0<e;e--)e!=r&&(this.write("cmp r4, #"+e),this.write("blt .zero"+e),this.write(`ldr r0, [sp, #${t-1}*4]`),this.write(`str r1, [sp, #${t-1}*4] ; clear existing`),this.write(`.zero${e}:`)),this.write("push {r0}");this.write("bx lr")}),this.write(`bl ${this.proc.label()}_nochk`);n=r+(e?1:0);this.write("@dummystack "+n),this.write("add sp, #4*"+n),this.write("pop {pc}")}}}emitCallRaw(e){var t=v.hexfile.lookupFunc(e);v.assert(!!t,"unimplemented raw function: "+e),this.alignedCall(e)}}})(ts=ts||{}),(e=>{{var N=e.pxtc||(e.pxtc={});let w={"numops::adds":"+","numops::subs":"-","numops::div":"/","numops::mod":"%","numops::muls":"*","numops::ands":"&","numops::orrs":"|","numops::eors":"^","numops::bnot":"~","numops::lsls":"<<","numops::asrs":">>","numops::lsrs":">>>","numops::le":"<=","numops::lt":"<","numops::lt_bool":"<","numops::ge":">=","numops::gt":">","numops::eq":"==","pxt::eq_bool":"==","pxt::eqq_bool":"===","numops::eqq":"===","numops::neqq":"!==","numops::neq":"!="},d={"pxsim.Boolean_":"","pxsim.pxtcore":"","pxsim.String_":"","pxsim.ImageMethods":"","pxsim.Array_":"","pxsim.pxtrt":"","pxsim.numops":""},p={"pxsim.Array_.getAt":"","pxsim.Array_.length":"","pxsim.Array_.mk":"","pxsim.Array_.push":"","pxsim.Boolean_.bang":"","pxsim.String_.concat":"","pxsim.String_.stringConv":"","pxsim.numops.toBool":"","pxsim.numops.toBoolDecr":"","pxsim.pxtcore.mkAction":"","pxsim.pxtcore.mkClassInstance":"","pxsim.pxtrt.ldlocRef":"","pxsim.pxtrt.mapGetByString":"","pxsim.pxtrt.stclo":"","pxsim.pxtrt.stlocRef":""};function _(e){let t="";for(var r of Object.keys(e)){var n=r.replace(/\./g,"_");e[r]=n,t+=`const ${n} = ${r};
`}return t}function I(e){e="pxsim."+(e="pxt."==(e=e.replace(/::/g,".")).slice(0,4)?"pxtcore."+e.slice(4):e);if(p.hasOwnProperty(e))return p[e];var t=e.lastIndexOf(".");if(0<t){var r=e.slice(0,t);if(d.hasOwnProperty(r))return d[r]+e.slice(t)}return e}N.isBuiltinSimOp=function(e){return!!N.U.lookup(w,e.replace(/\./g,"::"))},N.shimToJs=I;let f=["runtime","oops","doNothing","pxsim","globals","maybeYield","setupDebugger","isBreakFrame","breakpoint","trace","checkStack","leave","checkResumeConsumed","setupResume","setupLambda","checkSubtype","failedCast","buildResume","mkVTable","bind","leaveAccessor"];N.jsEmit=function(r,e){let n="(function (ectx) {\n'use strict';\n";for(var t of f)n+=`const ${t} = ectx.${t};
`;n=(n=(n=n+`const __this = runtime;
`+`const pxtrt = pxsim.pxtrt;
`)+`let yieldSteps = 1;
`+`ectx.setupYield(function() { yieldSteps = 100; })
`)+"pxsim.setTitle("+JSON.stringify(r.getTitle())+");\n";var i,a={},s={};for(i of e.configData||[])a[i.key+""]=i.value,s[i.name]=i.key;n=(n+="pxsim.setConfigData("+JSON.stringify(a,null,1)+", "+JSON.stringify(s,null,1)+");\n")+"pxtrt.mapKeyNames = "+JSON.stringify(r.ifaceMembers,null,1)+";\n";var o=r.setPerfCounters(["SysScreen"]);n=(n=(n+="__this.setupPerfCounters("+JSON.stringify(o,null,1)+");\n")+_(p))+_(d);let c=0,l=0,u=(r.procs.forEach(e=>{let t;e.cachedJS?(t=e.cachedJS,c+=t.length):(t=((m,g)=>{if(g.cachedJS)return g.cachedJS;let t="",h=e=>{t+=e+"\n"},y=e=>{t+="    "+e+"\n"},v=N.ir.EK,b=[],r=0,n={},i="",x=(h(`
function ${g.label()}(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;
`),g.perfCounterNo&&h(`if (step == 0) __this.startPerfCounter(${g.perfCounterNo});
`),h(`
while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:
`),g.locals.forEach(e=>{y(T(e)+" = undefined;")}),g.args.length&&(y("if (s.lambdaArgs) {"),g.args.forEach((e,t)=>{y(`  ${T(e)} = (s.lambdaArgs[${t}]);`)}),y("  s.lambdaArgs = null;"),y("}")),g.classInfo&&g.info.thisParameter&&(y("r0 = s.arg0;"),A(g.classInfo,"validate")),0),k=[];for(var e of g.body)e.stmtKind==N.ir.SK.Label&&0<e.lblNumUses&&(e.lblId=++x);let a=0;for(var s of g.body){switch(s.stmtKind){case N.ir.SK.Expr:D(s.expr);break;case N.ir.SK.StackEmpty:u();break;case N.ir.SK.Jmp:let t=!1;for(let e=a+1;e<g.body.length&&g.body[e].stmtKind==N.ir.SK.Label;++e)if(s.lbl==g.body[e]){t=!0;break}((e,t)=>{e.lbl.lblNumUses==N.ir.lblNumUsesJmpNext||t?(N.assert(e.jmpMode==N.ir.JmpMode.Always),e.expr&&D(e.expr)):(N.assert(0<e.lbl.lblNumUses),t=`{ step = ${e.lbl.lblId}; continue; }`,e.jmpMode==N.ir.JmpMode.Always?(e.expr&&D(e.expr),y(t)):(D(e.expr),e.jmpMode==N.ir.JmpMode.IfNotZero?y("if (r0) "+t):y("if (!r0) "+t)))})(s,t);break;case N.ir.SK.Label:0<s.lblNumUses&&h(`  case ${s.lblId}:`);break;case N.ir.SK.Comment:h("// "+s.expr.data);break;case N.ir.SK.Breakpoint:(e=>{let t=e.breakpointInfo.id,r;if(y(`s.lastBrkId = ${t};`),m.breakpoints){var n=`return breakpoint(s, ${r=++x}, ${t}, r0);`;e.breakpointInfo.isDebuggerStmt?y(n):(y(`if ((breakpoints[0] && isBreakFrame(s)) || breakpoints[${t}]) `+n),m.trace&&y(`else return trace(${t}, s, ${r}, ${g.label()}.info);`))}else{if(!m.trace)return;r=++x,y(`return trace(${t}, s, ${r}, ${g.label()}.info);`)}h(`  case ${r}:`)})(s);break;default:N.oops()}a++}u(),g.perfCounterNo&&h(`__this.stopPerfCounter(${g.perfCounterNo});
`),g.isGetter()?y("return leaveAccessor(s, r0)"):y("return leave(s, r0)"),h("  default: oops()"),h("} } }");var o=N.nodeLocationInfo(g.action);return o.functionName=g.getName(),o.argumentNames=g.args&&g.args.map(e=>e.getName()),h(g.label()+".info = "+JSON.stringify(o)),g.isGetter()&&h(g.label()+".isGetter = true;"),g.isRoot&&h(`${g.label()}.continuations = [ ${k.join(",")} ]`),h(S(g.label()+"_mk",g.label(),r,Object.keys(n))),h(i),g.cachedJS=t;function S(e,t,r,n){let i="";i+=`
function ${e}(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ${t}, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
`;for(let e=0;e<r;++e)i+=`  tmp_${e}: undefined,
`;for(var a of n)i+=`  ${a}: undefined,
`;return i+=`} }
`}function T(e){return e.isGlobal()?"globals."+e.uniqueName():e.iscap?`s.caps[${e.index}]`:(e=e.uniqueName(),n[e]=!0,"s."+e)}function C(e){return(e=>{switch(e.exprKind){case v.NumberLiteral:case v.PointerLiteral:case v.SharedRef:case v.CellRef:return 1;default:return}})(e)?E(e):(D(e),"r0")}function E(e){switch(e.exprKind){case v.NumberLiteral:if(!0===e.data)return"true";if(!1===e.data)return"false";if(null===e.data)return"null";if(void 0===e.data)return"undefined";if("number"==typeof e.data)return e.data+"";if("string"==typeof e.data)return`"${e.data}"`;throw N.oops("invalid data: "+typeof e.data);case v.PointerLiteral:if(e.ptrlabel())return e.ptrlabel().lblId+"";if(null!=e.hexlit())return i+=`const ${e.data} = pxsim.BufferMethods.createBufferFromHex("${e.hexlit()}")
`,e.data;if("string"==typeof e.jsInfo)return e.jsInfo;N.U.oops();case v.SharedRef:var t=e.args[0],t=(N.U.assert(!!t.currUses),N.U.assert(t.currUses<t.totalUses),t.currUses++,b.indexOf(t));return N.U.assert(0<=t),"s.tmp_"+t;case v.CellRef:return T(e.data);default:throw N.oops()}}function D(s){switch(s.exprKind){case v.JmpValue:y("// jmp value (already in r0)");break;case v.Nop:y("// nop");break;case v.FieldAccess:var t=s.data,r=t.shimName,n=C(s.args[0]);return r?void y(`r0 = ${n}${r};`):void y(`r0 = ${n}.fields["${t.name}"];`);case v.Store:var i=s.args[0],a=s.args[1];switch(i.exprKind){case v.CellRef:var o=i.data,c=C(a);y(`${T(o)} = ${(e=>{switch(e){case 0:return"";case 1:return"pxtrt.toInt8";case 3:return"pxtrt.toInt16";case 5:return"pxtrt.toInt32";case 2:return"pxtrt.toUInt8";case 4:return"pxtrt.toUInt16";case 6:return"pxtrt.toUInt32";default:throw N.oops()}})(o.bitSize)}(${c});`);break;case v.FieldAccess:o=i.data;let e=o.shimName;e=e||`.fields["${o.name}"]`,D(N.ir.rtcall("="+e,[i.args[0],a]));break;default:N.oops()}return;case v.RuntimeCall:r=s;(n=N.ir.flattenArgs(r.args)).precomp.forEach(D);t=r.data,n=n.flattened.map(E);if("langsupp::ignore"!=t){let e="";e="."==t[0]?""+n[0]+t+`(${n.slice(1).join(", ")})`:"="==t[0]?`(${n[0]})${t.slice(1)} = (${n[1]})`:N.U.startsWith(t,"new ")?`new ${I(t.slice(4))}(${n.join(", ")})`:N.U.lookup(w,t)?2==n.length?`(${n[0]} ${N.U.lookup(w,t)} ${n[1]})`:`(${N.U.lookup(w,t)} ${n[0]})`:`${I(t)}(${n.join(", ")})`,0==r.callingConvention?y(`r0 = ${e};`):(l=++x,k.push(l),"String_::stringConv"==t&&y(`if ((${n[0]}) && (${n[0]}).vtable) {`),2==r.callingConvention?y(`(function(cb) { ${e}.then(cb) })(buildResume(s, ${l}));`):(y(`setupResume(s, ${l});`),y(e+";")),y("checkResumeConsumed();"),y("return;"),"String_::stringConv"==t&&y(`} else { s.retval = (${n[0]}) + ""; }`),h(`  case ${l}:`),y("r0 = s.retval;"))}return;case v.ProcCall:{var l=s;var u,d=l.data,p=d.proc;if(p&&p.inlineBody)return D(p.inlineSelf(l.args));let e=N.ir.rtcall("<frame>",[]),t=(e.totalUses=1,e.currUses=0,b.length),n=(b.push(e),"s.tmp_"+t),r=++x,i=-1==d.virtualIndex;if(p)y(n+` = ${p.label()}_mk(s);`);else{let t="generic",r=(null!=d.ifaceIndex?t="if_"+m.ifaceMembers[d.ifaceIndex]:i?t="lambda":null!=d.virtualIndex?t=d.classInfo.id+"_v"+d.virtualIndex:N.U.oops(),l.args.length);t+="_"+r+"_mk",m.recordHelper(g.usingCtx,t,()=>{var e=N.U.range(r).map(e=>"arg"+e);return S(t,"null",5,e)}),y(n+` = ${t}(s);`)}l.args.forEach((e,t)=>{let r="arg"+t;i&&(r=0==t?"argL":"arg"+(t-1)),y(n+`.${r} = ${C(e)};`)});let a=`s.pc = ${r}; return ${n};`;null!=d.callLocationIndex&&(a=`s.callLocIdx = ${d.callLocationIndex}; `+a),null!=d.ifaceIndex?(N.U.assert(null==p),f=m.ifaceMembers[d.ifaceIndex],N.U.assert(!!f,"no name for "+d.ifaceIndex),y(`if (!${n}.arg0.vtable.iface) {`),(u=l.args.map((e,t)=>n+".arg"+t)).splice(1,0,JSON.stringify(f)),_=`pxsim_pxtrt.map${d.isSet?"Set":"Get"}ByString`,d.noArgs?y(`  s.retval = ${_}(${u.join(", ")});`):(N.U.assert(!d.isSet),y(`  setupLambda(${n}, ${_}(${u.slice(0,2).join(", ")}), ${l.args.length});`),y("  "+a)),y("} else {"),y(`  ${n}.fn = ${n}.arg0.vtable.iface["${d.isSet?"set/":""}${f}"];`),_=n+`.arg0.fields["${f}"]`,d.isSet?(y(`  if (${n}.fn === null) { ${_} = ${n}.arg1; }`),y(`  else if (${n}.fn === undefined) { failedCast(${n}.arg0) } `)):d.noArgs?(y(`  if (${n}.fn == null) { s.retval = ${_}; }`),y(`  else if (!${n}.fn.isGetter) { s.retval = bind(${n}); }`)):(y(`  if (${n}.fn == null) { setupLambda(${n}, ${_}, ${l.args.length}); ${a} }`),y(`  else if (${n}.fn.isGetter) { ${n}.stage2Call = true; ${a}; }`)),y(` else { ${a} }`),y("}"),a=""):-1==d.virtualIndex?(N.U.assert(null==p),y(`setupLambda(${n}, ${n}.argL);`)):null!=d.virtualIndex?(N.U.assert(null==p),N.assert(0<=d.virtualIndex),A(d.classInfo,"validate",n+".arg0"),u=d.classInfo.vtable[d.virtualIndex],y(n+`.fn = ${n}.arg0.vtable.methods.${u.getName()};`)):N.U.assert(null!=p),a&&y(a),h(`  case ${r}:`),y("r0 = s.retval;"),e.currUses=1;return}case v.SharedDef:var f=s;if(f=f.args[0],N.U.assert(1<=f.totalUses),N.U.assert(0===f.currUses),(f.currUses=1)==f.totalUses)return D(f);{var _=b.length;b.push(f);let e=C(f);"r0"!=e&&(e="r0 = "+e),y(`s.tmp_${_} = ${e};`)}return;case v.Sequence:return s.args.forEach(D);case v.InstanceOf:return D(s.args[0]),void A(s.data,s.jsInfo);default:y(`r0 = ${E(s)};`)}}function c(e){return e.id+"_VT"}function l(e,t="r0"){return`checkSubtype(${t}, ${c(e)})`}function A(e,t,r="r0"){"bool"==t?y(`r0 = ${l(e)};`):"validate"==t?y(`if (!${l(e,r)}) failedCast(${r}, ${c(e)});`):N.U.oops()}function u(){for(var e of b)e.totalUses!==e.currUses&&N.oops();r=Math.max(b.length,r),b=[]}})(r,e),l+=t.length),n+="\n"+t+"\n"}),n+=N.U.values(r.codeHelpers).join("\n")+"\n",r.usedClassInfos.forEach(e=>{n+=(e=>{N.U.assert(void 0!==e.classNo),N.U.assert(void 0!==e.lastSubtypeNo);let t=parseInt(e.attrs.maxBgInstances),r=(t=t||null,`const ${e.id}_VT = mkVTable({
`+`  name: ${JSON.stringify(N.getName(e.decl))},
`+`  numFields: ${e.allfields.length},
`+`  classNo: ${e.classNo},
`+`  lastSubtypeNo: ${e.lastSubtypeNo},
`+`  maxBgInstances: ${t},
`+`  methods: {
`);for(var n of e.vtable)r+=`    "${n.getName()}": ${n.label()},
`;r+="  },\n  iface: {\n";for(var i of e.itable)r+=`    "${i.name}": ${i.proc?i.proc.label():"null"},
`,i.setProc?r+=`    "set/${i.name}": ${i.setProc.label()},
`:i.proc||(r+=`    "set/${i.name}": null,
`);return r+="  },\n",e.toStringMethod&&(r+="  toStringMethod: "+e.toStringMethod.label()+",\n"),r+="});\n"})(e)}),e.breakpoints&&(n+=`
const breakpoints = setupDebugger(${e.breakpoints.length}, [${r.globals.filter(e=>e.isUserVariable).map(e=>`"${e.uniqueName()}"`).join(",")}])
`),(n+=`
return ${r.procs[0]?r.procs[0].label():"null"}
})
`).length);o=e=>(100*e/u).toFixed(2)+"%",e=`// total=${n.length} new=${o(l)} cached=${o(c)} other=${o(u-l-c)}
`,r.writeFile(N.BINARY_JS,e+n)}}})(ts=ts||{}),(e=>{{var l=e.pxtc||(e.pxtc={});l.thumbCmpMap={"numops::lt":"_cmp_lt","numops::gt":"_cmp_gt","numops::le":"_cmp_le","numops::ge":"_cmp_ge","numops::eq":"_cmp_eq","numops::eqq":"_cmp_eqq","numops::neq":"_cmp_neq","numops::neqq":"_cmp_neqq"};let i={"numops::adds":"_numops_adds","numops::subs":"_numops_subs","numops::orrs":"_numops_orrs","numops::eors":"_numops_eors","numops::ands":"_numops_ands","numops::lsls":"_numops_lsls","numops::asrs":"_numops_asrs","numops::lsrs":"_numops_lsrs","pxt::toInt":"_numops_toInt","pxt::fromInt":"_numops_fromInt"};class t extends l.AssemblerSnippets{stackAligned(){return l.target.stackAlign&&1<l.target.stackAlign}pushLR(){return this.stackAligned()?"push {lr, r5}  ; r5 for align":"push {lr}"}popPC(){return this.stackAligned()?"pop {pc, r5}  ; r5 for align":"pop {pc}"}nop(){return"nop"}mov(e,t){return`mov ${e}, `+t}helper_ret(){return"bx r4"}reg_gets_imm(e,t){return`movs ${e}, #`+t}push_fixed(e){return"push {"+e.join(", ")+"}"}pop_fixed(e){return"pop {"+e.join(", ")+"}"}proc_setup(t,e){let r="";if(0<t){r+="    movs r0, #0\n";for(let e=0;e<t;++e)r+="    push {r0} ;loc\n"}return r}proc_return(){return"pop {pc}"}debugger_stmt(e){return l.oops(),`
    @stackempty locals
    ldr r0, [r6, #0] ; debugger
    subs r0, r0, #4  ; debugger
${e}:
    ldr r0, [r0, #0] ; debugger
`}debugger_bkpt(e){return l.oops(),`
    @stackempty locals
    ldr r0, [r6, #0] ; brk
${e}:
    ldr r0, [r0, #0] ; brk
`}debugger_proc(e){return l.oops(),`
    ldr r0, [r6, #0]  ; brk-entry
    ldr r0, [r0, #4]  ; brk-entry
${e}:`}push_local(e){return`push {${e}}`}push_locals(e){return`sub sp, #4*${e} ; push locals ${e} (align)`}pop_locals(e){return`add sp, #4*${e} ; pop locals `+e}unconditional_branch(e){return"bb "+e}beq(e){return"beq "+e}bne(e){return"bne "+e}cmp(e,t){return"cmp "+e+", "+t}cmp_zero(e){return"cmp "+e+", #0"}load_reg_src_off(e,t,r,n,i,a){r=r.replace(/:\d+$/,""),n&&(r="#4*"+r);let s="str",o="ldr";return a&&(32==a.immLimit?s="strb":64==a.immLimit&&(s="strh"),o=a.needsSignExt?s.replace("str","ldrs"):s.replace("str","ldr")),i?s+` ${e}, [${t}, ${r}]`:o+` ${e}, [${t}, ${r}]`}rt_call(e,t,r){return e+" "+t+", "+r}alignedCall(e,t){return t?this.push_locals(t)+`
bl ${e}
`+this.pop_locals(t):"bl "+e}call_lbl(e,t,r){var n=l.U.lookup(i,e);return n&&(e=n,t=!1),(t=!t&&0<e.indexOf("::")?!0:t)?this.callCPP(e,r):this.alignedCall(e,r)}call_reg(e){return"blx "+e}helper_prologue(){return`
    @stackmark args
    ${this.pushLR()}
`}helper_epilogue(){return`
    ${this.popPC()}
    @stackempty args
`}load_ptr_full(e,t){return l.assert(!!e),`
    ldlit ${t}, ${e}
`}load_vtable(e,t){return`ldr ${e}, [${t}, #0]`}lambda_init(){return`
    mov r5, r0
    mov r4, lr
    bl pxtrt::getGlobalsPtr
    mov r6, r0
    bx r4
`}saveThreadStack(){return"mov r7, sp\n    str r7, [r6, #4]\n"}restoreThreadStack(){return l.target.switches.gcDebug?"movs r7, #0\n    str r7, [r6, #4]\n":""}callCPPPush(e){return this.pushLR()+"\n"+this.callCPP(e)+"\n"+this.popPC()+"\n"}callCPP(e,t){return this.saveThreadStack()+this.alignedCall(e,t)+"\n"+this.restoreThreadStack()}inline_decr(e){return`
    lsls r1, r0, #30
    bne .tag${e}
    bl _pxt_decr
.tag${e}:
`}arithmetic(){let t="",r=e=>{var t=".boxed:\n";return t+=`
                    ${this.pushLR()}
                    push {r0, r1}
                    ${this.saveThreadStack()}
                    ${e}
                    ${this.restoreThreadStack()}
                    add sp, #8
                    ${this.popPC()}
                `};var e,n,i,a,s=e=>{t+=`
_numops_${e}:
    @scope _numops_${e}
    lsls r2, r0, #31
    beq .boxed
    lsls r2, r1, #31
    beq .boxed
`},o=e=>{t=(t+=`    blx lr
`)+r("bl numops::"+e)};for(e of["adds","subs"])s(e),t+=`
    subs r2, r1, #1
    ${e} r2, r0, r2
    bvs .boxed
    movs r0, r2
`,o(e);for(n of["ands","orrs","eors"])s(n),t+=`    ${n} r0, r1
`,"eors"==n&&(t+=`    adds r0, r0, #1
`),o(n);for(i of["lsls","lsrs","asrs"])s(i),t+=`
    ; r3 := (r1 >> 1) & 0x1f
    lsls r3, r1, #26
    lsrs r3, r3, #27
`,"asrs"==i?t+=`
    asrs r0, r3
    movs r2, #1
    orrs r0, r2
`:("lsrs"==i?t+=`
    asrs r2, r0, #1
    lsrs r2, r3
    lsrs r3, r2, #30
    bne .boxed
`:t+=`
    asrs r2, r0, #1
    lsls r2, r3
    lsrs r3, r2, #30
    beq .ok
    cmp r3, #3
    bne .boxed
.ok:
`,t+=`
    lsls r0, r2, #1
    adds r0, r0, #1
`),o(i);t+=`
@scope _numops_toInt
_numops_toInt:
    asrs r0, r0, #1
    bcc .over
    blx lr
.over:
    lsls r0, r0, #1
    ${this.callCPPPush("pxt::toInt")}

_numops_fromInt:
    lsls r2, r0, #1
    asrs r1, r2, #1
    cmp r0, r1
    bne .over2
    adds r0, r2, #1
    blx lr
.over2:
    ${this.callCPPPush("pxt::fromInt")}
`;for(a of Object.keys(l.thumbCmpMap))a=a.replace(/.*::/,""),t=(t+=`
.section code
.object _pxt_helper_cmp_${a}
_cmp_${a}:
    lsls r2, r0, #31
    beq .boxed
    lsls r2, r1, #31
    beq .boxed
    subs r0, r1
    b${a.replace("qq","q").replace("neq","ne")} .true
.false:
    movs r0, #0
    bx lr
.true:
    movs r0, #1
    bx lr
`)+r(`
                        bl numops::${a}
                        bl numops::toBoolDecr
                        cmp r0, #0`);return t}emit_int(e,r){let n=!1;function t(e){l.assert(0<=e&&e<=255);let t="";return n?e&&(t=`adds ${r}, #${e}
`):t=`movs ${r}, #${e}
`,n=!0,t}function i(e=8){return`lsls ${r}, ${r}, #${e}
`}l.assert(null!=e);let a=Math.floor(e),s=!1,o=(a<0&&(s=!0,a=-a),0);if(255<a){let e=a;for(;0==(1&e);)e>>>=1,o++;l.numBytes(e)<l.numBytes(a)?a=e:o=0}let c="";switch(l.numBytes(a)){case 4:c=(c+=t(a>>>24&255))+i();case 3:c=(c+=t(a>>>16&255))+i();case 2:c=(c+=t(a>>>8&255))+i();case 1:c+=t(255&a);break;default:l.oops()}return o&&(c+=i(o)),s&&(c+=`negs ${r}, ${r}
`),4<c.split("\n").length?`ldlit ${r}, ${Math.floor(e)}
`:c}}l.ThumbSnippets=t}})(ts=ts||{}),(T=>{var e;{var D=T.pxtc||(T.pxtc={});let C={"pxtrt::mapSetGeneric":"mapset","pxtrt::mapGetGeneric":"mapget"},E={};function A(e,t,r){for(var n=D.computeHashMultiplier(e.itable.map(e=>e.idx)),i=D.U.toArray(n.mapping);3&i.length;)i.push(0);let a=`
${N(e)}_start:
        .short ${8*e.allfields.length+8}  ; size in bytes
        .byte ${pxt.ValTypeObject}, ${pxt.VTABLE_MAGIC} ; magic
        .short ${i.length} ; entries in iface hashmap
        .short ${e.lastSubtypeNo||e.classNo} ; last sub class-id
        .short ${e.classNo} ; class-id
        .short 0 ; reserved
        .word ${n.mult} ; hash-mult
`;I()?a+=`
            .word pxt::RefRecord_destroy
            .word pxt::RefRecord_print
            .word pxt::RefRecord_scan
            .word pxt::RefRecord_gcsize
            .word 0,0,0,0 ; keep in sync with VM_NUM_CPP_METHODS
`:a+=`
            .word 0,0, 0,0, 0,0, 0,0 ; space for 4 (VM_NUM_CPP_METHODS) native methods
`,a+=`
        .balign 4
${e.id}_IfaceVT:
`;var s;let o=i.length>>2,c="",l=o,u={};for(s of e.itable){u[s.idx+""]=l;var d=s.proc?s.proc.isGetter()?1:2:0;c=(c+=`  .short ${s.idx}, ${d} ; ${s.name}
`)+`  .word ${s.proc?s.proc.vtLabel()+"@fn":s.info}
`,l+=1,s.setProc&&(c=(c+=`  .short ${s.idx}, 2 ; set ${s.name}
`)+`  .word ${s.setProc.vtLabel()}@fn
`,l+=1)}c+="  .word 0, 0, 0, 0 ; the end\n",l+=1;for(let e=0;e<i.length;++e)r.itEntries++,i[e]&&r.itFullEntries++;return a=(a+="  .short "+D.U.toArray(i).map((e,t)=>u[e+""]||o).join(", ")+"\n")+c+"\n"}let k;function w(e){e=e.getTime()/1e3;return`${e>>>0}, `+(e/4294967296|0)}(e=k=k||{})[e.Invalid=0]="Invalid",e[e.InfoHeader=1]="InfoHeader",e[e.OpCodeMap=2]="OpCodeMap",e[e.NumberLiterals=3]="NumberLiterals",e[e.ConfigData=4]="ConfigData",e[e.IfaceMemberNames=5]="IfaceMemberNames",e[e.NumberBoxes=6]="NumberBoxes",e[e.Function=32]="Function",e[e.Literal=33]="Literal",e[e.VTable=34]="VTable";let S={};function N(e){return e.classNo||(S[e.id]=e),e.id+"_VT"}function I(){return D.target.useESP}function P(e){return I()?"0xffffffff, "+e:"0xffffffff, 0xffffffff ; -> "+e}D.vmEmit=function(c,t,r){let s=`; VM start
_img_start:
${D.hexfile.hexPrelude()}
`,l=(S={},{dblText:[],dblBoxText:[],dbls:{},opcodeMap:{},opcodes:D.vm.opcodes.map(e=>"pxt::op_"+e.replace(/ .*/,""))});for(l.opcodes.unshift(null);l.opcodes.length<128;)l.opcodes.push(null);let o=0;function i(e,t,r,n,i=0){if(s+=`
; --- ${e}
.section code
    .set ${e} = ${o}
`,n)for(var a of n)s+=`    .set ${a} = ${o}
`;s=(s+=`
_start_${e}:
    .byte ${t}, 0x00
    .short ${i}
    .word _end_${e}-_start_${e}
`)+r()+`
.balign 8
_end_${e}:
`,o++}let e=new Date(0),n=D.U.toUTF8(t.name,!0),a=(n=100<n.length?n.slice(0,100):n).length+1,u=(1&a&&a++,128-a),d=(i("_info",k.InfoHeader,()=>`
                ; magic - \\0 added by assembler
                .string "\\nPXT64\\n"
                .hex 5471fe2b5e213768 ; magic
                .hex ${D.hexfile.hexTemplateHash()} ; hex template hash
                .hex 0000000000000000 ; @SRCHASH@
                .word ${c.globalsWords}   ; num. globals
                .word ${c.nonPtrGlobals} ; non-ptr globals
                .word 0, 0 ; last usage time
                .word ${w(e)} ; installation time
                .word ${w(e)} ; publication time - TODO
                .word _img_end-_img_start ; total image size
                .space 60 ; reserved
                .string ${JSON.stringify(n)}
                .space ${u} ; pad to 128 bytes
`),c.procs.forEach(n=>{i(n.label(),k.Function,()=>{{var y=l,v=c,s=n,e;let t="",i=e=>{t+=e+"\n"},p=e=>{t+="    "+e+"\n"},f=D.ir.EK,_=[],m=[],g=!1,a=0,h=0,o=8388607;pxt.options.debug&&pxt.log("EMIT",s.toString()),r(),t="";for(e of _)e.reset();return g=!0,D.U.assert(0==h),r(),t;function r(){i(`;
; ${s.getFullName()}
;`),p(".section code"),v.procs[0]==s&&i("; main"),p(".word "+P("pxt::RefAction_vtable")),p(`.short 0, ${s.args.length} ; #args`),p(`.short ${s.captured.length}, 0 ; #cap`),p(".word .fnstart-_img_start, 0  ; func+possible padding"),a=s.locals.length+m.length,p(".fnstart:"),p(`pushmany ${a} ; incl. ${m.length} tmps`);for(var e of s.body)switch(e.stmtKind){case D.ir.SK.Expr:k(e.expr);break;case D.ir.SK.StackEmpty:T();for(var t of m)t&&D.oops(`uses: ${t.currUses}/${t.totalUses} `+t.toString());break;case D.ir.SK.Jmp:r=e,n=void 0,n=r.lbl.lblName,r.jmpMode==D.ir.JmpMode.Always?(r.expr&&k(r.expr),p("jmp "+n)):(k(r.expr),r.jmpMode==D.ir.JmpMode.IfNotZero?p("jmpnz "+n):r.jmpMode==D.ir.JmpMode.IfZero?p("jmpz "+n):D.oops());break;case D.ir.SK.Label:i(e.lblName+":");break;case D.ir.SK.Comment:i("; "+e.expr.data);break;case D.ir.SK.Breakpoint:break;default:D.oops()}var r,n;p(`ret ${s.args.length}, `+a)}function b(e){var t;return e.isGlobal()?(D.U.assert(0==(3&e.index)),"glb "+(e.index>>2)+" ; "+e.getName()):e.iscap?"cap "+e.index+" ; "+e.getName():e.isarg?(t=s.args.length-e.index-1,D.assert(0<=t,"arg#"+t),`loc ${h+a+2+t} ; `+e.getName()):(t=e.index+m.length,D.assert(!g||t<a,"cell#"+t),D.assert(0<=t,"cell#"+t),"loc "+(h+t))}function x(n){switch(n.exprKind){case f.NumberLiteral:var i=D.taggedSpecial(n.data);if(null!=i)p(`ldspecial ${i} ; `+n.data);else{i=n.data;let e=0,t=0;var a=i<<1>>1!=i;if((0|i)==i){if(Math.abs(i)<=o)return void(i<0?p("ldintneg "+-i):p("ldint "+i));e=(i<<1|1)>>>0,t=i<0?1:0}else{var s=new Float64Array(1),s=(s[0]=i,new Uint32Array(s.buffer));s[1]+=65536,e=s[0],t=s[1]}s=e+","+t;let r=D.U.lookup(y.dbls,s);null==r&&(r=y.dblText.length,y.dblText.push(`.word ${e}, ${t}  ; ${r}: `+n.data),a&&(a="pxt::number_vt",y.dblBoxText.push(`.word ${I()?a:"0xffffffff ; "+a}
`),(a=new Float64Array(1))[0]=i,a=new Uint32Array(a.buffer),y.dblBoxText.push(`.word ${a[0]}, ${a[1]} ; ${i}
`)),y.dbls[s]=r),p(`ldnumber ${r} ; `+n.data)}return;case f.PointerLiteral:return void p("ldlit "+n.data);case f.SharedRef:a=n.args[0],i=((!a.currUses||a.currUses>=a.totalUses)&&(pxt.log(a.sharingInfo()),D.U.assert(!1)),a.currUses++,m.indexOf(a));return i<0&&(pxt.log(m,a),D.assert(!1)),p("ldloc "+(i+h)+(a.currUses==a.totalUses?" ; LAST":"")),void T();case f.CellRef:return void p("ld"+b(n.data));case f.InstanceOf:k(n.args[0]),s=n.data,"bool"==n.jsInfo?p("checkinst "+N(s)):D.U.oops();break;default:throw D.oops("kind: "+n.exprKind)}}function k(n){switch(n.exprKind){case f.JmpValue:p("; jmp value (already in r0)");break;case f.Nop:p("; nop");break;case f.FieldAccess:var e=n.data;k(n.args[0]),p(`ldfld ${e.idx}, `+N(e.classInfo));break;case f.Store:var t=n.args[0],r=n.args[1];switch(t.exprKind){case f.CellRef:k(r);var i=t.data,a="st"+b(i);i.isGlobal()&&0!=i.bitSize&&(i=D.sizeOfBitSize(i.bitSize)|(D.isBitSizeSigned(i.bitSize)?16:0),p("bitconv "+i)),p(a);break;case f.FieldAccess:i=t.data;k(t.args[0]),S(),k(r),p(`stfld ${i.idx}, `+N(i.classInfo)),h--;break;default:D.oops()}return;case f.RuntimeCall:var e=n,s=e.data;if("pxt::beginTry"==s)p("try "+e.args[0].data);else{s=D.U.lookup(E,s)||s,T();var o=D.U.lookup(C,s),c=e.args;let t=0;if("pxt::mkClassInstance"==s)p("newobj "+c[0].data);else{for(let e=0;e<c.length;++e)k(c[e]),e<c.length-1&&(S(),t++);"langsupp::ignore"==s?t&&p(`popmany ${t} ; ignore`):o?p(o):(e=>{var t=D.hexfile.lookupFunc(e),r=(t||D.U.oops("missing function: "+e),y.opcodeMap[t.name]);null==r&&(r=y.opcodes.length,y.opcodes.push(t.name),y.opcodeMap[t.name]=r,t.value=r),p("callrt "+e)})(s),h-=t}}return;case f.ProcCall:{o=n;var l,s=o.data,u=s.proc;if(u&&u.inlineBody)return d=u.inlineSelf(o.args),pxt.options.debug&&pxt.log("INLINE",o.toString(),"->",d.toString()),k(d);let e=0,t=o.args.slice(),r=-1==s.virtualIndex?t.shift():null;for(l of t)k(l),S(),e++;var d=t.length;r?(k(r),p("callind "+d)):null!=s.ifaceIndex?(o=s.ifaceIndex+" ; ."+v.ifaceMembers[s.ifaceIndex],s.isSet?(p("callset "+o),D.U.assert(2==d)):s.noArgs?(p("callget "+o),D.U.assert(1==d)):p(`calliface ${d}, `+o)):null!=s.virtualIndex?D.U.oops():p("callproc "+u.label()),h-=e;return}case f.SharedDef:u=n;if(u=u.args[0],D.U.assert(1<=u.totalUses),D.U.assert(0===u.currUses),u.currUses=1,_.push(u),1==u.totalUses)return k(u);{k(u);let t=-1;for(let e=0;e<m.length;++e)if(null==m[e]){t=e;break}t<0?(g&&(pxt.log(u,m),D.assert(!1,"missed tmp")),t=m.length,m.push(u)):m[t]=u,p("stloc "+(t+h))}return;case f.Sequence:return n.args.forEach(k);default:return x(n)}}function S(){p("push"),h++}function T(){for(let e=0;e<m.length;++e){var t=m[e];t&&t.currUses==t.totalUses&&(g||_.push(t),m[e]=null)}}}},[n.label()+"_Lit"])}),s=s+"_code_end:\n\n"+"_helpers_end:\n\n",c.usedClassInfos.forEach(e=>{i(N(e),k.VTable,()=>A(e,0,c))}),D.U.values(S).forEach(e=>{e.itable=[],e.classNo=65520,i(N(e),k.VTable,()=>A(e,0,c))}),S={},0),p=(i("ifaceMemberNames",k.IfaceMemberNames,()=>`    .word ${c.ifaceMembers.length} ; num. entries
`+c.ifaceMembers.map(e=>`    .word ${c.emitString(e)}  ; ${d++} .`+e).join("\n")),s+="_vtables_end:\n\n",D.U.iterMap(c.hexlits,(e,t)=>{i(t,k.Literal,()=>`.word ${P("pxt::buffer_vt")}
`+D.hexLiteralAsm(e),[],pxt.BuiltInType.BoxedBuffer)}),D.U.unique(c.ifaceMembers.concat(Object.keys(c.strings)),e=>e).forEach(e=>{var t=D.utf8AsmStringLiteral(e);let r=pxt.BuiltInType.BoxedString,n=("pxt::string_inline_ascii_vt"==t.vt?r=pxt.BuiltInType.BoxedString_ASCII:"pxt::string_skiplist16_packed_vt"==t.vt?r=pxt.BuiltInType.BoxedString_SkipList:"pxt::string_inline_utf8_vt"==t.vt?r=pxt.BuiltInType.BoxedString:D.oops("invalid vt"),`.word ${P(t.vt)}
`+t.asm);i(c.strings[e],k.Literal,()=>n,[],r)}),i("numberBoxes",k.NumberBoxes,()=>l.dblBoxText.join("\n")+"\n.word 0, 0, 0 ; dummy entry to make sure not empty"),i("numberLiterals",k.NumberLiterals,()=>l.dblText.join("\n")+"\n.word 0, 0 ; dummy entry to make sure not empty"),r.configData||[]),f=(i("configData",k.ConfigData,()=>p.map(e=>`    .word ${e.key}, ${e.value}  ; ${e.name}=`+e.value).join("\n")+"\n    .word 0, 0"),l.opcodes.map(e=>null==e?"":e).join("\0")+"\0"),_="";for(;f;){let e=f.slice(0,64);f=f.slice(64),1&e.length&&(e+="\0"),_+=".hex "+D.U.toHex(D.U.stringToUint8Array(e))+"\n"}i("opcodeMap",k.OpCodeMap,()=>_),s=(s+="_literals_end:\n")+"_img_end:\n\n; The end.\n",c.writeFile(D.BINARY_ASM,s);var m=D.assemble(t.target,c,s,r),g=(e=>{let i=[83,82,67,77,136,21,78,45,170,134,153,113,0,0,0,0];for(var n of Object.keys(e)){for(var a of D.U.stringToUint8Array(n))i.push(a);i.push(0);var s=e[n];let t=0,r=0;for(let e=0;e<s.length;e+=3)o(s[e]-t),o(s[e+1]-r>>1),o(s[e+2]>>1),t=s[e],r=s[e+1];i.push(255)}i.push(0),1&i.length&&i.push(0);var t=[];for(let e=0;e<i.length;e+=2)t.push(i[e]|i[e+1]<<8);return t;function o(r){if(0<=r&&r<240)i.push(r);else{let e=240;r<0&&(r=-r,e|=8);var n=i.length;i.push(null);let t=0;for(;0!=r;)i.push(255&r),r>>>=8,t++;i[n]=e|t}}})(r=m.thumbFile.getSourceMap());m.src&&c.writeFile(D.BINARY_ASM,`; srcmap size: ${g.length<<1} bytes
`+m.src);{let e="";for(var h of m.buf)e+=String.fromCharCode(255&h,h>>8);var y=D.U.sha256(e);for(let e=0;e<4;++e)m.buf[16+e]=parseInt(y.slice(4*e,4*e+4),16);r.__meta={name:t.name,programHash:m.buf[16]|m.buf[17]<<16}}if(c.writeFile(D.BINARY_SRCMAP,JSON.stringify(r)),pxt.options.debug){let r=m.thumbFile.peepCounts;var v,t=Object.keys(r);t.sort((e,t)=>r[t]-r[e]);for(v of t.slice(0,50))pxt.log(v+"  "+r[v])}if(m.buf){let e="";for(var b,x=m.buf;15&x.length;)x.push(0);D.U.pushRange(x,g);for(b of x)e+=String.fromCharCode(255&b,b>>8);e=T.pxtc.encodeBase64(e),I()?(c.writeFile(D.BINARY_PXT64,e),r=D.hexfile.patchHex(c,x,!1,!!D.target.useUF2)[0],c.writeFile(pxt.outputName(D.target),T.pxtc.encodeBase64(r))):c.writeFile(pxt.outputName(D.target),e)}}}})(ts=ts||{}),(Se=>{var e,Te=Se.pxtc||(Se.pxtc={});{var Ce=Te.decompiler||(Te.decompiler={});let pe;(e=pe=Ce.DecompileParamKeys||(Ce.DecompileParamKeys={})).DecompileLiterals="decompileLiterals",e.TaggedTemplate="taggedTemplate",e.DecompileIndirectFixedInstances="decompileIndirectFixedInstances",e.DecompileArgumentAsString="decompileArgumentAsString";let fe,_e=((e=fe=Ce.CommentKind||(Ce.CommentKind={}))[e.SingleLine=0]="SingleLine",e[e.MultiLine=1]="MultiLine",Ce.DECOMPILER_ERROR=9267,Se.SyntaxKind),o=97,c=122,l=/^[^\f\n\r\t\v\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*$/,r=/^(?:Array<(.+)>)|(?:(.+)\[\])$/,me="math_number",ge="math_number_minmax",he="math_integer",ye="math_whole_number",ve="text",be="logic_boolean",xe={"+":{type:"math_arithmetic",op:"ADD"},"-":{type:"math_arithmetic",op:"MINUS"},"/":{type:"math_arithmetic",op:"DIVIDE"},"*":{type:"math_arithmetic",op:"MULTIPLY"},"**":{type:"math_arithmetic",op:"POWER"},"%":{type:"math_modulo",leftName:"DIVIDEND",rightName:"DIVISOR"},"<":{type:"logic_compare",op:"LT"},"<=":{type:"logic_compare",op:"LTE"},">":{type:"logic_compare",op:"GT"},">=":{type:"logic_compare",op:"GTE"},"==":{type:"logic_compare",op:"EQ"},"===":{type:"logic_compare",op:"EQ"},"!=":{type:"logic_compare",op:"NEQ"},"!==":{type:"logic_compare",op:"NEQ"},"&&":{type:"logic_operation",op:"AND"},"||":{type:"logic_operation",op:"OR"}},u=/^\s*\/\/\s*(.*)$/,d=/^\s*(?:(?:(?:\/\*\*?)|(?:\*))(?!\/))?\s*(.*?)(?:\*?\*\/)?$/;class t{constructor(e){this.renames=e,this.renames.sort((e,t)=>e.span.start-t.span.start)}getRenamesInSpan(e,t){var r,n=[];for(r of this.renames){if(r.span.start>t)break;r.span.start>=e&&n.push(r)}return n}getRenameForPosition(e){for(var t of this.renames){if(t.span.start>e)return;if(t.span.start===e)return t}}}function p(t,r,n=!0){if(1===t.length&&"x"!==t&&"y"!==t&&"z"!==t){var e=t.charCodeAt(0);if(e>=o&&e<=c){var i=e-o;for(let e=1;e<26;e++){var a=String.fromCharCode(o+(i+e)%26);if("x"!==a&&"y"!==a&&"z"!==a&&!r[a])return n&&(r[a]=!0),a}}}for(let e=2;;e++){var s=t+e;if(!r[s])return n&&(r[s]=!0),s}}Ce.RenameMap=t,Ce.buildRenameMap=function(e,i,{declarations:r,takenNames:a}={declarations:"variables",takenNames:{}}){let s=Se.createLanguageService(new Te.LSHost(e)),o=[];return function t(e){Se.forEachChild(e,e=>{if(Se.isDeclarationName(e)&&("all"===r||Se.isVariableDeclaration(e.parent))){let r=e.getText();if(a[r]){let t=p(r,a);var n=s.findRenameLocations(i.fileName,e.pos+1,!1,!1);n&&n.forEach(e=>{o.push({name:t,diff:t.length-r.length,span:e.textSpan})})}else a[r]=!0}t(e)})}(i),e=a,[new t(o),e]},Ce.getNewName=p;let ke;function Ee(r,i,t=!1,a=!1){switch(r.kind){case _e.WhileStatement:case _e.IfStatement:case _e.Block:return;case _e.ExpressionStatement:return Ee(r.expression,i,t,a);case _e.VariableStatement:var e,n=i;for(e of r.declarationList.declarations){e=k(e,n);if(e)return e}return;case _e.CallExpression:{var[s,l,o=!1,u=!1]=[r,i,t,a];let n=Te.pxtInfo(s).callInfo;if(!n)return Te.Util.lf("Function call not supported in the blocks");let c=l.attrs(n),e;if(Se.isIdentifier(s.expression)&&(e=l.declaredFunctions[s.expression.text]),o){if(c.forceStatement||c.handlerStatement)return Te.Util.lf("Function with forceStatement cannot be used as an expression.")}else if(Ke(s,l)&&!e)if(l.aliasBlocks[n.qName])n.decompilerBlockAlias=l.aliasBlocks[n.qName];else if(!l.opts.snippetMode)return Te.Util.lf("No output expressions as statements");if("Math.pow"!=n.qName){if(pxt.Util.startsWith(n.qName,"Math."))if(ze(n.qName.substring(5)))return;if(c.blockId===Te.PAUSE_UNTIL_TYPE)return o=s.arguments[0],1===s.arguments.length&&(e=>{if(e.kind===_e.FunctionExpression||e.kind===_e.ArrowFunction){if(Ke(e.body,l))return 1;e=e.body;if(1===e.statements.length)if(Oe(e.statements[0]).kind===_e.ReturnStatement)return 1}})(o)?void 0:Te.Util.lf("Predicates must be inline expressions that return a value");o=Re(n,c);if(o&&!c.handlerStatement&&!c.forceStatement&&!u)return Te.Util.lf("Events must be top level");if(!c.blockId||!c.block){u=pxt.blocks.builtinFunctionInfo[n.qName];if(!u)return e?e.parameters.length!==n.args.length?Te.Util.lf("Function calls in blocks must have the same number of arguments as the function definition"):void 0:Te.Util.lf("Call statements must have a valid declared function");c.blockId=u.blockId}var u=Be(n,l),d=l.blocks.apis.byQName[n.qName],p=l.compInfo(n),f=p.parameters.length+(p.thisParameter?1:0);if(c.imageLiteral||c.gridLiteral){if(1<n.args.length-f)return Te.Util.lf("Function call has more arguments than are supported by its block");s=s.arguments[0];if(s.kind!=_e.StringLiteral&&s.kind!=_e.NoSubstitutionTemplateLiteral)return Te.Util.lf("Only string literals supported for image literals");var s=(s.text||"").replace(/\s+/g,""),_=c.imageLiteralRows||5,m=(c.imageLiteralColumns||5)*(c.imageLiteral||c.gridLiteral);if(m*_!=s.length)return Te.Util.lf("Invalid image pattern ({0} expected vs {1} actual)",m*_,s.length)}else{let r=n.args.length-f;if(0<r&&!(()=>{if(c.mutatePropertyEnum&&2==r&&2<=n.args.length){var e=n.args[n.args.length-2],t=n.args[n.args.length-1];if(e.kind===_e.ArrayLiteralExpression&&Ue(t)){let r=[];if(!e.elements.some(e=>e.kind!==_e.PropertyAccessExpression||e.expression.kind!==_e.Identifier||(r.push(e.name.text),e.expression.text!==c.mutatePropertyEnum))){e=Ne(t);if(e){let t=e[0];return t.length===r.length&&!r.some(e=>-1===t.indexOf(e))}}}}})()){let e=r;if(o&&e--,c.defaultInstance&&e--,0<e)return Te.Util.lf("Function call has more arguments than are supported by its block")}if(p.parameters.length||o){let r,n=c.defaultInstance||!!p.thisParameter;if(u.forEach((e,t)=>{r||n&&0===t||(n&&t--,r=(t=>{let r=Oe(t.value),n=t.info,i=t.param;if(n.isEnum){if(o(r))return;if(r.kind===_e.CallExpression){var a=Te.pxtInfo(r).callInfo;let e=l.attrs(a);if(a&&"TD_ID"===e.shim&&a.args&&1===a.args.length){let e=Oe(a.args[0]);if(o(e))return}}else if(r.kind===_e.Identifier){let e=Te.pxtInfo(r).commentAttrs;if(e&&e.enumIdentity)return}return Te.Util.lf("Enum arguments may only be literal property access expressions")}if(Me(r)&&(i.fieldEditor||i.shadowBlockId)){let e=!(!i.fieldOptions||!i.fieldOptions[pe.DecompileLiterals]);if(!e&&i.shadowBlockId&&(t=l.blocks.blocksById[i.shadowBlockId],e=!(t&&t.parameters&&t.parameters.length&&(a=t.parameters[0].name,t.attributes.paramFieldEditorOptions)&&t.attributes.paramFieldEditorOptions[a]&&!t.attributes.paramFieldEditorOptions[a][pe.DecompileLiterals])),!e)return Te.Util.lf("Field editor does not support literal arguments")}else if(r.kind===_e.TaggedTemplateExpression&&i.fieldEditor){t=i.fieldOptions&&i.fieldOptions[pe.TaggedTemplate];if(!t)return Te.Util.lf("Tagged templates only supported in custom fields with param.fieldOptions.taggedTemplate set");var s=Oe(r.tag).getText(),t=t.split(";").map(e=>e.trim());if(-1===t.indexOf(s))return Te.Util.lf("Function only supports template literals with tag '{0}'",t.join(", "));if(r.template.kind!==_e.NoSubstitutionTemplateLiteral)return Te.Util.lf("Tagged template literals cannot have substitutions")}else if(r.kind===_e.ArrowFunction){s=r;if(s.parameters.length)if("objectdestructuring"===c.mutate){let e=Oe(s.parameters[0]);if(e.kind===_e.Parameter&&e.name.kind!==_e.ObjectBindingPattern)return Te.Util.lf("Object destructuring mutation callbacks can only have destructuring patters as arguments")}else for(let e of s.parameters)if(e.name.kind!==_e.Identifier)return Te.Util.lf("Only identifiers allowed as function arguments")}else if(l.blocks.apis.byQName[n.type])if(l.blocks.apis.byQName[n.type].attributes.fixedInstances){if(S(i))return;if(i.shadowBlockId){t=l.blocks.blocksById[i.shadowBlockId];if(t){t=pxt.blocks.compileInfo(t);if(t.parameters&&S(t.parameters[0]))return}}t=Te.pxtInfo(r).callInfo;return t&&l.attrs(t).fixedInstance?void 0:Te.Util.lf("Arguments of a fixed instance type must be a reference to a fixed instance declaration")}function o(e){for(var t=n.type.split("."),r=[];e.kind===_e.PropertyAccessExpression;)r.unshift(e.name.text),e=e.expression;if(e.kind===_e.Identifier){r.unshift(e.text);for(let e=0;e<t.length;e++)if(t[e]!==r[e])return;return 1}}})(e))}),r)return r}if(d){m=l.blocks.apis.byQName[d.namespace];if(m&&m.attributes.fixedInstances&&!m.attributes.decompileIndirectFixedInstances&&n.args.length){_=Te.pxtInfo(n.args[0]).callInfo;if(!_||!l.attrs(_).fixedInstance)return Te.Util.lf("Fixed instance APIs can only be called directly from the fixed instance")}}}}return}case _e.VariableDeclaration:return k(r,i);case _e.PostfixUnaryExpression:case _e.PrefixUnaryExpression:s=r;return s.operand.kind!=_e.Identifier?Te.Util.lf("-- and ++ may only be used on an identifier"):s.operator!==_e.PlusPlusToken&&s.operator!==_e.MinusMinusToken?Te.Util.lf("Only ++ and -- supported as prefix or postfix unary operators in a statement"):void 0;case _e.FunctionExpression:case _e.ArrowFunction:{f=r;o=i;let e=!1;if(f.parameters.length&&(p=Pe(f)[0])&&Te.pxtInfo(p).callInfo&&(p=Te.pxtInfo(p).callInfo,e="objectdestructuring"===o.attrs(p).mutate?f.parameters[0].name.kind!==_e.ObjectBindingPattern:f.parameters.some(e=>e.name.kind!==_e.Identifier)),e)return Te.Util.lf("Unsupported parameters in error function");return}case _e.BinaryExpression:var c=r,g=i;if(c.left.kind===_e.ElementAccessExpression){if(c.operatorToken.kind!==_e.EqualsToken)return Te.Util.lf("Element access expressions may only be assigned to using the equals operator")}else{if(c.left.kind===_e.PropertyAccessExpression)return c.operatorToken.kind!==_e.EqualsToken&&c.operatorToken.kind!==_e.PlusEqualsToken?Te.Util.lf("Property access expressions may only be assigned to using the = and += operators"):Ie(c.left,g);if(c.left.kind!==_e.Identifier)return Te.Util.lf("This expression cannot be assigned to");switch(c.operatorToken.kind){case _e.EqualsToken:return Ie(c.right,g);case _e.PlusEqualsToken:case _e.MinusEqualsToken:return;default:return Te.Util.lf("Unsupported operator token in statement {0}",_e[c.operatorToken.kind])}}return;case _e.ForStatement:var h=r;return h.initializer&&h.incrementor&&h.condition?h.initializer.kind!==_e.VariableDeclarationList?Te.Util.lf("only variable declarations are permitted in for loop initializers"):(u=h.initializer).declarations?1!=u.declarations.length?Te.Util.lf("for loop with multiple variables not supported"):(u=u.declarations[0]).initializer.kind!==_e.NumericLiteral||"0"!==u.initializer.text?Te.Util.lf("for loop initializers must be initialized to 0"):(e=>{if(h.incrementor.kind===_e.PostfixUnaryExpression||h.incrementor.kind===_e.PrefixUnaryExpression){var t=h.incrementor;if(t.operator===_e.PlusPlusToken&&t.operand.kind===_e.Identifier)return t.operand.text===e}})(u=u.name.text)?h.condition.kind!==_e.BinaryExpression?Te.Util.lf("for loop conditionals must be binary comparison operations"):(d=h.condition).left.kind!==_e.Identifier||d.left.text!==u?Te.Util.lf("left side of for loop conditional must be the variable declared in the initializer"):d.operatorToken.kind!==_e.LessThanToken&&d.operatorToken.kind!==_e.LessThanEqualsToken?Te.Util.lf("for loop conditional operator must be either < or <="):void 0:Te.Util.lf("for loop incrementors may only increment the variable declared in the initializer"):Te.Util.lf("for loop with out-of-scope variables not supported"):Te.Util.lf("for loops must have an initializer, incrementor, and condition");case _e.ForOfStatement:return r.initializer.kind!==_e.VariableDeclarationList?Te.Util.lf("only variable declarations are permitted in for of loop initializers"):void 0;case _e.FunctionDeclaration:var y=r;if(!a)return Te.Util.lf("Function declarations must be top level");if(0<y.parameters.length&&i.opts.allowedArgumentTypes)for(var v of y.parameters){if(v.initializer||v.questionToken)return Te.Util.lf("Function parameters cannot be optional");v=v.type?v.type.getText():void 0;if(!v)return Te.Util.lf("Function parameters must declare a type");v=Ve(v);if(-1===i.opts.allowedArgumentTypes.indexOf(v)&&!Te.U.endsWith(v,"[]"))return Te.Util.lf("Only types that can be added in blocks can be used for function arguments")}return;case _e.EnumDeclaration:{y=r;var b=a;if(!b)return Te.Util.lf("Enum declarations must be top level");if(b=y.name.text,!(b=i.blocks.enumsByName[b]))return Te.Util.lf("Enum declarations in user code must have a block");let t=!1;return y.members.forEach(e=>{if(!(t=e.name.kind!==_e.Identifier||t)&&e.initializer&&e.initializer.kind!==_e.NumericLiteral){if(e.initializer.kind===_e.BinaryExpression){e=e.initializer;if(e.operatorToken.kind===_e.LessThanLessThanToken&&e.left.kind===_e.NumericLiteral&&e.right.kind===_e.NumericLiteral&&"1"==e.left.text)return}t=!0}}),t?Te.Util.lf("Invalid initializer for enum member"):void 0;return}case _e.ModuleDeclaration:var b=r,x=De(b,i);return x&&(b=Ae(b))?x:void 0;case _e.ReturnStatement:return function e(t){let r=Se.getEnclosingBlockScopeContainer(t);if(r)switch(r.kind){case _e.SourceFile:case _e.ArrowFunction:case _e.FunctionExpression:return!1;case _e.FunctionDeclaration:return r.parent&&r.parent.kind===_e.SourceFile&&!Ee(r,i,!1,!0);default:return e(r)}return!1}(r)?void 0:Te.Util.lf("Return statements can only be used within top-level function declarations");case _e.BreakStatement:case _e.ContinueStatement:case _e.DebuggerStatement:case _e.EmptyStatement:return}return Te.Util.lf("Unsupported statement in block: {0}",_e[r.kind]);function k(e,t){let r;return e.name.kind!==_e.Identifier?r=Te.Util.lf("Variable declarations may not use binding patterns"):e.initializer?we(e)||(r=Ie(e.initializer,t)):r=Te.Util.lf("Variable declarations must have an initializer"),r}}function De(e,t){if(!Se.isModuleBlock(e.body))return Te.Util.lf("Namespaces cannot be nested.");var r=t.blocks.kindsByName[e.name.text];if(!r)return Te.Util.lf("Only namespaces with 'kind' blocks can be decompiled");var n,i=Te.Util.lf("Namespaces may only contain valid 'kind' exports");for(n of e.body.statements){if((e=>(e=Se.getLeadingCommentRangesOfNode(e,e.getSourceFile()))&&e.length)(n))return i;if(!Se.isVariableStatement(n)||!n.declarationList.declarations)return i;var a=1===n.declarationList.declarations.length,s=n.modifiers&&1===n.modifiers.length&&n.modifiers[0].kind===_e.ExportKeyword,o=n.declarationList.flags&Se.NodeFlags.Const;if(!(a&&s&&o))return i;a=n.declarationList.declarations[0];if(!a.initializer||!Se.isCallExpression(a.initializer)||!Se.isIdentifier(a.name))return i;s=a.initializer;if(s.arguments.length)return i;if(Se.isPropertyAccessExpression(s.expression)&&Se.isIdentifier(s.expression.expression)){if(s.expression.expression.text!==r.name||s.expression.name.text!==r.createFunctionName)return i}else{if(!Se.isIdentifier(s.expression))return i;if(s.expression.text!==r.createFunctionName)return i}}}function Ae(e){if(!Se.isModuleBlock(e.body))return Te.Util.lf("Namespaces cannot be nested.");if(e.name.text!==pxt.sprite.TILE_NAMESPACE)return Te.Util.lf("Tileset namespace must be named myTiles");var r=Te.Util.lf("The myTiles namespace can only export tile variables with image literal initializers and no duplicate ids"),n=Te.Util.lf("Tileset members must have a blockIdentity comment and no other annotations"),i=new RegExp(pxt.sprite.TILE_PREFIX+"(\\d+)"),a=[],s=/^\s*\/\/%\s*blockIdentity=[^\s]+\s*$/;for(let t of e.body.statements){var o=Se.getLeadingCommentRangesOfNode(t,t.getSourceFile());if(!o||!o.length)return n;o=o.map(e=>t.getSourceFile().text.substr(e.pos,e.end-e.pos)).filter(e=>!!e);if(1!==o.length||!s.test(o[0]))return n;if(!Se.isVariableStatement(t)||!t.declarationList.declarations)return r;var o=1===t.declarationList.declarations.length,c=t.modifiers&&1===t.modifiers.length&&t.modifiers[0].kind===_e.ExportKeyword,l=t.declarationList.flags&Se.NodeFlags.Const;if(!(o&&c&&l))return r;o=t.declarationList.declarations[0];if(!o.initializer||!Se.isTaggedTemplateExpression(o.initializer)||!Se.isIdentifier(o.name))return r;c=o.initializer;if(!Se.isIdentifier(c.tag)||"img"!==c.tag.text)return r;l=i.exec(o.name.text);if(!l||-1!==a.indexOf(l[1]))return r;a.push(l[1])}}function we(e){if(e.initializer){if(e.initializer.kind===Se.SyntaxKind.NullKeyword||e.initializer.kind===Se.SyntaxKind.FalseKeyword||(t=e.initializer).kind===_e.ArrayLiteralExpression&&0===t.elements.length)return 1;if(Se.isStringOrNumericLiteral(e.initializer))return"0"===(t=e.initializer.getText())||Fe(t);e=Te.pxtInfo(e.initializer).callInfo;if(e&&e.isAutoCreate)return 1}var t}function Ne(e){if(1===e.parameters.length&&e.parameters[0].name.kind===_e.ObjectBindingPattern){e=e.parameters[0].name.elements;let r={};return[e.map(e=>{var t;return n(e.propertyName)&&n(e.name)?(t=e.name.text,e.propertyName?(e=e.propertyName.text,r[e]=t,e):t):""}),r]}function n(e){return!e||e.kind===_e.Identifier}}function Ie(e,t){switch(e.kind){case _e.NumericLiteral:case _e.TrueKeyword:case _e.FalseKeyword:case _e.ExpressionStatement:case _e.ArrayLiteralExpression:case _e.ElementAccessExpression:return;case _e.ParenthesizedExpression:return Ie(e.expression,t);case _e.StringLiteral:case _e.FirstTemplateToken:case _e.NoSubstitutionTemplateLiteral:var r=e;return r=e.text,l.test(r)?void 0:Te.Util.lf("Only whitespace character allowed in string literals is space");case _e.Identifier:r=Te.pxtInfo(e);return(c=e)&&c.kind===_e.Identifier&&"undefined"===c.text?Te.Util.lf("Undefined is not supported in blocks"):!Le(e)||r.commentAttrs&&r.commentAttrs.blockIdentity&&r.commentAttrs.enumIdentity&&t.blocks.apis.byQName[r.commentAttrs.blockIdentity]?void 0:Te.Util.lf("Variable is declared in another file");case _e.BinaryExpression:c=e.operatorToken.getText();return xe[c]?void 0:Te.Util.lf("Could not find operator {0}",c);case _e.PrefixUnaryExpression:var n=e.operator;return n===_e.MinusToken||n===_e.PlusToken||n===_e.ExclamationToken?void 0:Te.Util.lf("Unsupported prefix unary operator{0}",n);case _e.PropertyAccessExpression:var n=e,s=t,o=Te.pxtInfo(n).callInfo;if(o){var i=s.attrs(o),a=s.compInfo(o);if(i.blockIdentity&&s.blocks.apis.byQName[i.blockIdentity]||"lists_length"===i.blockId||"text_length"===i.blockId)return;if(o.decl.kind===_e.EnumMember){if(n.expression.kind===_e.Identifier){o=n.expression.text;if(s.declaredEnums[o])return}let[e,i]=Pe(n),a=!0;if(e){o=Te.pxtInfo(e).callInfo;if(o&&o.args){let r=s.blocks.apis.byQName[o.qName],n=1==r.kind||2==r.kind;r&&o.args.forEach((e,t)=>{e===i&&r.parameters[n?t-1:t].isEnum&&(a=!1)})}}return a?Te.Util.lf("Enum value without a corresponding block"):void 0}if(i.fixedInstance&&n.parent){if(n.parent.parent&&n.parent.kind===_e.PropertyAccessExpression&&n.parent.parent.kind===_e.CallExpression){if(n.parent.parent.expression===n.parent)return}else if(n.parent.kind===_e.CallExpression&&n.parent.expression!==n)return}else{if(i.blockCombine||i.blockId&&a&&a.thisParameter)return Ie(n.expression,s);if(Se.isIdentifier(n.expression)&&s.declaredKinds[n.expression.text]){o=n.name.text,i=s.declaredKinds[n.expression.text];if(i&&(-1!==i.kindInfo.initialMembers.indexOf(o)||-1!==i.declaredNames.indexOf(o)))return}}}return Te.Util.lf("No call info found");case _e.CallExpression:return Ee(e,t,!0,void 0);case _e.TaggedTemplateExpression:a=e,s=t;return(a=Te.pxtInfo(a).callInfo)?(a=s.attrs(a)).blockIdentity&&s.blocks.apis.byQName[a.blockIdentity]?(s=s.blocks.apis.byQName[a.blockIdentity])?1!==(a=pxt.blocks.compileInfo(s)).parameters.length?Te.Util.lf("Tagged template functions must have 1 argument"):void 0:Te.Util.lf("Could not find blockIdentity for tagged template"):Te.Util.lf("Tagged template does not have blockIdentity set"):Te.Util.lf("Invalid tagged template");case _e.AsExpression:if("any"===(i=e).type.getText().trim()&&(Se.isStringOrNumericLiteral(i.expression)||i.expression.kind===_e.TrueKeyword||i.expression.kind===_e.FalseKeyword)){var[i]=Pe(i);if(i.kind===_e.BinaryExpression)switch(i.operatorToken.kind){case _e.EqualsEqualsToken:case _e.EqualsEqualsEqualsToken:case _e.ExclamationEqualsToken:case _e.ExclamationEqualsEqualsToken:case _e.LessThanToken:case _e.LessThanEqualsToken:case _e.GreaterThanToken:case _e.GreaterThanEqualsToken:return}}return Te.Util.lf("Casting not supported in blocks")}var c;return Te.Util.lf("Unsupported syntax kind for output expression block: {0}",_e[e.kind])}function Pe(e){return e.parent?e.parent.kind===_e.ParenthesizedExpression?Pe(e.parent):[e.parent,e]:[void 0,e]}function Oe(e){for(;e.kind===_e.ParenthesizedExpression;)e=e.expression;return e}function Fe(e){return'""'===e||"''"===e||"``"===e}function Le(e){return 4&Te.pxtInfo(e).flags}function Re(e,t){return t.blockId!==Te.PAUSE_UNTIL_TYPE&&(e.decl.parameters,e.args.some((e,t)=>e&&Ue(e)))}function Me(e){if(!e)return!1;switch(e.kind){case _e.ParenthesizedExpression:return Me(e.expression);case _e.ArrayLiteralExpression:var t;for(t of e.elements)if(!Me(t)&&t.kind!==_e.TaggedTemplateExpression)return!1;return!0;case _e.NumericLiteral:case _e.StringLiteral:case _e.NoSubstitutionTemplateLiteral:case _e.TrueKeyword:case _e.FalseKeyword:return!0;case _e.PrefixUnaryExpression:var r=e;return(r.operator===_e.PlusToken||r.operator===_e.MinusToken)&&Me(r.operand);default:return!1}}function Ue(e){return e.kind===_e.ArrowFunction||e.kind===_e.FunctionExpression}function Be(r,e){var n=[],i=e.blocks.apis.byQName[r.qName];if(i){var a=e.blocks.apis.byQName[r.qName].attributes,s=e.compInfo(r);let t=a.imageLiteral?1:0;s.thisParameter?n.push({value:Oe(r.args[0]),info:null,param:s.thisParameter}):a.defaultInstance&&n.push({value:Oe(r.args[0]),info:i.parameters[0],param:{definitionName:"__instance__",actualName:"this"}});var o=!(!s.thisParameter&&!a.defaultInstance);o&&t++;for(let e=t;e<r.args.length;e++)n.push({value:Oe(r.args[e]),info:i.parameters[o?e-1:e],param:s.parameters[e-t]})}return n}function je(e){return e.body.statements.map(e=>{e=e.declarationList.declarations[0];return{name:e.name.text,initializer:e.initializer.getText()}})}function Ke(e,t){switch(e.kind){case _e.BinaryExpression:var r=e.operatorToken.kind;return r!=_e.PlusEqualsToken&&r!=_e.MinusEqualsToken&&r!=_e.EqualsToken;case _e.PrefixUnaryExpression:r=e.operator;return r!=_e.PlusPlusToken&&r!=_e.MinusMinusToken;case _e.PostfixUnaryExpression:r=e.operator;return r!=_e.PlusPlusToken&&r!=_e.MinusMinusToken;case _e.CallExpression:var r=Te.pxtInfo(e).callInfo,n=(Te.assert(!!r),t.attrs(r));return r.isExpression&&!n.forceStatement&&!n.handlerStatement;case _e.Identifier:case _e.ParenthesizedExpression:case _e.NumericLiteral:case _e.StringLiteral:case _e.NoSubstitutionTemplateLiteral:case _e.TrueKeyword:case _e.FalseKeyword:case _e.NullKeyword:case _e.TaggedTemplateExpression:return 1;default:return}}function S(e){return e&&e.fieldOptions&&e.fieldOptions[pe.DecompileIndirectFixedInstances]}function ze(e){return $e(e)||Je(e)||qe(e)||-1!==pxt.blocks.MATH_FUNCTIONS.binary.indexOf(e)}function $e(e){return-1!==pxt.blocks.MATH_FUNCTIONS.unary.indexOf(e)}function Je(e){return-1!==pxt.blocks.MATH_FUNCTIONS.infix.indexOf(e)}function qe(e){return-1!==pxt.blocks.ROUNDING_FUNCTIONS.indexOf(e)}function Ve(e){var t=r.exec(e);return t?`${t[1]||t[2]}[]`:e}function f(t,e,r=!1){var n=[],i=t.getFullText();if(e&&e.length)for(var a of e){var s=Se.getLineOfLocalPosition(t,a.end),o=Se.getStartPositionOfLine(s+1,t)||i.length,s=Se.getStartPositionOfLine(s+2,t)||i.length,s=!r&&!i.substr(o,s-o).trim();let e=i.substr(a.pos,a.end-a.pos);e=e&&e.replace(/\r\n/g,"\n"),a.kind===Se.SyntaxKind.SingleLineCommentTrivia?(o=u.exec(e),n.push(o?{kind:fe.SingleLine,text:o[1],start:a.pos,end:a.end,hasTrailingNewline:!!a.hasTrailingNewLine,followedByEmptyLine:s,isTrailingComment:r}:{kind:fe.SingleLine,text:"",start:a.pos,end:a.end,hasTrailingNewline:!!a.hasTrailingNewLine,followedByEmptyLine:s,isTrailingComment:r})):(o=e.split("\n").map(e=>{e=d.exec(e);return e?e[1]:""}),n.push({kind:fe.MultiLine,lines:o,start:a.pos,end:a.end,hasTrailingNewline:!!a.hasTrailingNewLine,followedByEmptyLine:s,isTrailingComment:r}))}return n}function He(e){let t="";for(var r of e)if(r.kind===fe.SingleLine)r.text!==Te.ON_START_COMMENT&&r.text!==Te.HANDLER_COMMENT&&(t+=r.text.trim()+"\n");else for(var n of r.lines)t+=n.trim()+"\n";return t.trim()}function Ge(e){var t=e.getFullText(),r=Se.createScanner(e.languageVersion,!1,e.languageVariant,t,void 0,e.getFullStart()),n=[];let i,a;for(;r.getTextPos()<e.end;){var s=r.scan();if(s===_e.SingleLineCommentTrivia||s===_e.MultiLineCommentTrivia){i=Se.getLeadingCommentRanges(t,r.getTokenPos())||[],a=(a=Se.getTrailingCommentRanges(t,r.getTokenPos())||[]).filter(t=>!i.some(e=>e.pos===t.pos)),n.push(...f(e,i,!1)),n.push(...f(e,a,!0));for(var o of n)o.end>r.getTextPos()&&r.setTextPos(o.end)}}return n.sort((e,t)=>e.start-t.start),n}function We(t,r){var n;for(let e=0;e<r.length;e++)!(n=r[e]).owner&&n.start>=t.pos&&n.end<=t.end&&(n.owner=t)}function Qe(e){if(void 0!==e.emitShadowOnly)return e.emitShadowOnly;let t=!1;if("expr"===e.value.kind){var r=e.value;if(r.type===me&&e.shadowType===ge&&(r.type=ge,r.fields[0].name="SLIDER",r.mutation=e.shadowMutation),!(t=r.type===e.shadowType))switch(r.type){case"math_number":case"math_number_minmax":case"math_integer":case"math_whole_number":case"logic_boolean":case"text":t=!e.shadowType}if(t&&r.inputs)for(var n of r.inputs)if(!Qe(n)){t=!1;break}}return e.emitShadowOnly=t}(e=ke=ke||{})[e.None=0]="None",e[e.InBlocksOnly=1]="InBlocksOnly",e[e.InTextBlocks=2]="InTextBlocks",Ce.decompileToBlocks=function(b,o,l,r){var e=o.statements;let n={blocksInfo:b,outfiles:{},diagnostics:[],success:!0,times:{}},x=(l.generateSourceMap&&(n.blockSourceMap=[]),{blocks:b,declaredFunctions:{},declaredEnums:{},declaredKinds:{},functionParamIds:{},attrs:k,compInfo:S,localReporters:[],tileset:[],opts:l||{},aliasBlocks:{}}),R=(o.getFullText(),""),i=[],p={},c=[],M=[],U=(()=>{let e=0;return()=>""+e++})(),t=b.apis.byQName,f=(Object.keys(t).forEach(e=>{e=t[e];e.attributes.blockAliasFor&&t[e.attributes.blockAliasFor]&&(x.aliasBlocks[e.attributes.blockAliasFor]=e.qName)}),Ge(o)),B=e=>{if(e.kind!==_e.FunctionDeclaration||Ee(e,x,!1,!0))if(e.kind!==_e.EnumDeclaration||Ee(e,x,!1,!0)){var t,r;Se.isModuleDeclaration(e)?De(e,x)?Ae(e)||(x.tileset=je(e).map(({name:e,initializer:t})=>({projectId:parseInt(e.substr(pxt.sprite.TILE_PREFIX.length)),data:pxt.sprite.imageLiteralToBitmap(t).data()}))):(t=e.name.text,r=je(e),x.declaredKinds[t]&&x.declaredKinds[t].declaredNames.push(...r.map(({name:e})=>e))):e.kind===_e.Block&&Se.forEachChild(e,B)}else{let r=e.name.text;x.declaredEnums[r]=!0,(e=>{let n=[];return e.members.forEach(e=>{Te.U.assert(e.name.kind===_e.Identifier);var t=e.name.text;let r;r=e.initializer?e.initializer.kind===_e.NumericLiteral?parseInt(e.initializer.text):(e=e.initializer,Te.U.assert(e.left.kind===_e.NumericLiteral),Te.U.assert("1"===e.left.text),Te.U.assert(e.operatorToken.kind===_e.LessThanLessThanToken),Te.U.assert(e.right.kind===_e.NumericLiteral),1<<parseInt(e.right.text)):0===n.length?0:n[n.length-1][1]+1,n.push([t,r])}),n})(e).forEach(([e,t])=>{i.push({name:t+e,type:r})})}else x.declaredFunctions[L(e.name)]=e},j=(Object.keys(b.kindsByName).forEach(e=>{var t=b.kindsByName[e];x.declaredKinds[e]={kindInfo:t,declaredNames:[]}}),Se.forEachChild(o,B),()=>(Math.PI*Math.random()).toString(36).slice(2));Object.keys(x.declaredFunctions).forEach(t=>{x.functionParamIds[t]={},x.declaredFunctions[t].parameters.forEach(e=>{x.functionParamIds[t][e.name.getText()]=j()+j()})}),Object.keys(x.declaredKinds).forEach(e=>{let t="KIND_"+e;x.declaredKinds[e].declaredNames.forEach(e=>i.push({name:e,type:t}))}),(i.length||x.tileset.length)&&(s("<variables>"),i.forEach(e=>{s(`<variable type="${Te.U.htmlEscape(e.type)}">${Te.U.htmlEscape(e.name)}</variable>`)}),x.tileset.forEach(e=>{s(`<variable type="${pxt.sprite.BLOCKLY_TILESET_TYPE}">${pxt.sprite.legacy.tileToBlocklyVariable(e)}</variable>`)}),s("</variables>"));let a;try{a=le(e,void 0,!0,void 0,!l.snippetMode);for(var K of f)K.owner||c.push({refId:U(),comment:[K]})}catch(e){return pxt.reportException(e),n.success=!1,n.diagnostics=Te.patchUpDiagnostics([{file:o,start:o.getFullStart(),length:o.getFullWidth(),messageText:e.message,category:Se.DiagnosticCategory.Error,code:Ce.DECOMPILER_ERROR}]),n}return a?g(a):l.snippetMode||e.length||(u(Se.pxtc.ON_START_TYPE,T(Se.pxtc.ON_START_TYPE,e[0])),d()),c.forEach(r=>{{let t=0,e=He(r.comment);var n,i;e.trim()&&((n=e.split("\n")).forEach(e=>t=Math.max(t,e.length)),i=Math.max(Math.min(10*t,480),160),s(`<comment h="${Math.max(Math.min(40*n.length,360),120)}" w="${i}" data="${Te.U.htmlEscape(r.refId)}">`),s(Te.U.htmlEscape(e)),s("</comment>"))}}),n.outfiles[o.fileName.replace(/(\.blocks)?\.\w*$/i,"")+".blocks"]=`<xml xmlns="http://www.w3.org/1999/xhtml">
${R}</xml>`,n;function s(e,t="\n"){R+=e+t}function _(e,t){t=t||`Language feature "${e.getFullText().trim()}"" not supported in blocks`,e=Te.patchUpDiagnostics([{file:o,start:e.getFullStart(),length:e.getFullWidth(),messageText:t,category:Se.DiagnosticCategory.Error,code:1001}]);pxt.debug("decompilation error: "+t),Te.U.pushRange(n.diagnostics,e),n.success=!1}function k(e){var t=b.apis.byQName[e.decompilerBlockAlias||e.qName];if(t){var r=t.attributes;if(!r.blockId||b.blocksById[r.blockId]||r.blockId===Te.PAUSE_UNTIL_TYPE)return t.attributes}else if(e.decl){r=Te.parseComments(e.decl);if(r)return r}return{paramDefl:{},callingConvention:0}}function S(e){e=b.apis.byQName[e.decompilerBlockAlias||e.qName];if(e)return pxt.blocks.compileInfo(e)}function m(e){if(!e)return"";switch(e.kind){case _e.ParenthesizedExpression:case _e.AsExpression:return m(e.expression);case _e.Identifier:return e.text;case _e.StringLiteral:case _e.FirstTemplateToken:case _e.NoSubstitutionTemplateLiteral:return`"${e.text}"`;case _e.NumericLiteral:return e.text;case _e.TrueKeyword:return"true";case _e.FalseKeyword:return"false";case _e.BinaryExpression:return`{${m(e.left)}${e.operatorToken.getText()}${m(e.right)}}`;case _e.PrefixUnaryExpression:return e.operator+m(e.operand);case _e.PropertyAccessExpression:return m(e.expression)+"."+m(e.name);case _e.ArrayLiteralExpression:return`[${e.elements.map(e=>m(e))}]`;case _e.ElementAccessExpression:return e.expression+`[${e.argumentExpression}]`;case _e.TaggedTemplateExpression:return`${m(e.tag)}\`${e.template.getText()}\``;case _e.CallExpression:return`${m(e.expression)}(${e.arguments.map(m).join(",")})`;default:return e.getText()}}function z(e,t){var r;return e==Se.pxtc.ON_START_TYPE?"xRRgvHNlG#rZ^u`HECiY":(e=(()=>{var t="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=t.length,n=[];for(let e=0;e<20;e++)n[e]=t.charAt(Math.random()*r);return n.join("")})(),t&&(r=t.getFullStart(),n.blockSourceMap.push({id:e,startPos:r,endPos:r+t.getFullWidth()})),e)}function T(e,t){var r={kind:"statement",type:e};return n.blockSourceMap&&(r.id=z(e,t)),r}function C(e){return{kind:"expr",type:e}}function E(e,t,r,n){return{kind:"value",name:e,value:t,shadowType:r=(!r||r===me)&&n&&n.min&&n.max?ge:r,shadowMutation:n}}function g(e){e&&(u(e.type,e),J(e),void 0!==e.data&&s(`<data>${Te.U.htmlEscape(e.data)}</data>`),e.handlers&&e.handlers.forEach(H),e.next&&(s("<next>"),g(e.next),s("</next>")),void 0!==e.comment&&s(`<comment pinned="false">${Te.U.htmlEscape(He(e.comment))}</comment>`),d())}function $(t,e){s("<mutation ",""),Object.keys(t).forEach(e=>{void 0!==t[e]&&s(`${e}="${t[e]}" `,"")}),e?(s(">"),e.forEach(t=>{s(`<${t.nodeName} `,""),Object.keys(t.attributes).forEach(e=>{s(`${e}="${t.attributes[e]}" `,"")}),s("/>")}),s("</mutation>")):s("/>")}function J(e){e.mutation&&$(e.mutation,e.mutationChildren),e.fields&&e.fields.forEach(V),e.inputs&&e.inputs.forEach(q)}function q(e){if(s(`<value name="${e.name}">`),Qe(e))G(e.value,!0);else{if(void 0!==e.shadowType)switch(e.shadowType){case me:case he:case ye:s(`<shadow type="${e.shadowType}"><field name="NUM">0</field></shadow>`);break;case ge:s(`<shadow type="${ge}">`),e.shadowMutation&&$(e.shadowMutation),s('<field name="SLIDER">0</field></shadow>');break;case be:s(`<shadow type="${be}"><field name="BOOL">TRUE</field></shadow>`);break;case ve:s(`<shadow type="${ve}"><field name="TEXT"></field></shadow>`);break;default:s(`<shadow type="${e.shadowType}"/>`)}G(e.value)}s("</value>")}function V(e){s(`<field name="${Te.U.htmlEscape(e.name)}">${Te.U.htmlEscape(e.value.toString())}</field>`)}function H(e){s(`<statement name="${Te.U.htmlEscape(e.name)}">`),g(e.statement),s("</statement>")}function G(e,t=!1){"text"===e.kind?s(e.value):(e=e,s(`<${t=t||e.isShadow?"shadow":"block"} ${e.id?`id="${e.id}" `:""}type="${Te.U.htmlEscape(e.type)}">`),J(e),s(`</${t}>`))}function u(e,t){s(`<block ${t&&t.id?`id="${t.id}" `:""}type="${Te.U.htmlEscape(e)}">`)}function d(){s("</block>")}function D(o){if(Ie(o,x))return Q(o);switch(o.kind){case _e.ExpressionStatement:case _e.ParenthesizedExpression:return D(o.expression);case _e.Identifier:{var i=o;if(Le(i))return a=Te.pxtInfo(i),ne(b.apis.byQName[a.commentAttrs.blockIdentity],a.commentAttrs.enumIdentity);let e=L(i),r=i.text,n=null;return x.localReporters.some(t=>{for(let e=0;e<t.length;++e)if(t[e].name===r)return n=t[e],!0;return!1}),n?ee(e,n.type,!1):(F(e,ke.InBlocksOnly),N("variables_get","VAR",e));return}case _e.StringLiteral:case _e.FirstTemplateToken:case _e.NoSubstitutionTemplateLiteral:return X(o.text);case _e.NumericLiteral:return w(o.text);case _e.TrueKeyword:return y(!0);case _e.FalseKeyword:return y(!1);case _e.BinaryExpression:{var a=o;var i=a.operatorToken.getText(),s=xe[i];if(h(a))return Y(a);let e=s.leftName||"A",t=s.rightName||"B",r,n;return n="&&"===i||"||"===i?(r=v(e,a.left),v(t,a.right)):(r=A(e,a.left,me),A(t,a.right,me)),(i=C(s.type)).fields=[],s.op&&i.fields.push(I("OP",s.op)),i.inputs=[r,n],i;return}case _e.PrefixUnaryExpression:var e=o;switch(e.operator){case _e.ExclamationToken:var t=C("logic_negate");return t.inputs=[v("BOOL",e.operand)],t;case _e.PlusToken:return D(e.operand);case _e.MinusToken:return e.operand.kind==_e.NumericLiteral?w("-"+e.operand.text):te(e.operand);default:_(e)}return;case _e.PropertyAccessExpression:return re(o);case _e.ArrayLiteralExpression:return s=o,(r=C("lists_create_with")).inputs=s.elements.map((e,t)=>A("ADD"+t,e)),r.mutation={items:s.elements.length.toString()},r;case _e.ElementAccessExpression:return r=o,(l=C("lists_index_get")).inputs=[A("LIST",r.expression),A("INDEX",r.argumentExpression,me)],l;case _e.TaggedTemplateExpression:{l=o;let e=Te.pxtInfo(l).callInfo,t,r=(e=>{if(e.parent&&e.parent.kind===_e.CallExpression){var t=e.parent,r=Te.pxtInfo(t).callInfo,t=t.arguments.indexOf(e);if(r&&-1!==t)return(e=S(r))&&e.parameters[t]}})(l);var c;t=(t=r&&r.shadowBlockId&&(c=x.blocks.blocksById[r.shadowBlockId])&&"TD_ID"===c.attributes.shim?c:t)||x.blocks.apis.byQName[k(e).blockIdentity];let n=pxt.blocks.compileInfo(t),i=C(t.attributes.blockId),a,s=n.parameters[0];return a=s.fieldOptions&&s.fieldOptions[pe.DecompileArgumentAsString]?l.getText():l.template.text,i.fields=[I(s.actualName,a)],i;return}case _e.CallExpression:return P(o,void 0,void 0,!0);case _e.AsExpression:return D(o.expression);default:_(o,Te.Util.lf("Unsupported syntax kind for output expression block: {0}",_e[o.kind]))}var l,r}function W(i,a,e){if(r){e=r.getRenamesInSpan(a,e);if(e.length){let n=0;e.forEach(e=>{var t=e.span.start+n-a,r=t+e.span.length;n+=e.diff,i=i.slice(0,t)+e.name+i.slice(r)})}}return i}function Q(e){var t=W(e.getFullText(),e.getFullStart(),e.getEnd()).trim();return de(e),We(e,f),N(Te.TS_OUTPUT_TYPE,"EXPRESSION",t)}function h(e){if(e.kind===_e.BinaryExpression){var t=e;if("+"===t.operatorToken.getText()||t.operatorToken.kind==_e.PlusEqualsToken)return Te.pxtInfo(e).exprInfo}}function Y(e){var t=[],r=(!function e(t,r){h(t)?(e(t.left,r),e(t.right,r)):r.push(t)}(e,t),[]);for(let e=0;e<t.length;e++)(0<e||!Fe(t[e].getText()))&&r.push(A("ADD"+r.length,t[e],ve));e=C("text_join");return e.inputs=r,e.mutation={items:r.length.toString()},e}function A(e,t,r,n){let i;return"expr"==(i="number"==typeof t?w(t.toString()):("boolean"==typeof t?y:"string"==typeof t?X:D)(t)).kind&&"math_number"==i.type&&(t=i.fields[0].value,"math_integer"==r&&t%1==0&&(i.type="math_integer"),"math_whole_number"==r)&&t%1==0&&0<t&&(i.type="math_whole_number"),E(e,i,r,n)}function w(e){return N("math_number","NUM",e)}function X(e){return N("text","TEXT",e)}function y(e){return N("logic_boolean","BOOL",e?"TRUE":"FALSE")}function N(e,t,r,n){e=C(e);return e.fields=[I(t,r)],e.isShadow=n,e}function Z(e,t){t=N("variables_get_reporter","VAR",t);return t.mutation={duplicateondrag:"true"},E(e,t,void 0,t.mutation)}function ee(e,t,r){var n=pxt.blocks.reporterTypeForArgType(t),e=N(n,"VALUE",e);return"argument_reporter_custom"===n&&(e.mutation={typename:t}),r&&(e.mutation||(e.mutation={}),e.mutation.duplicateondrag="true"),e}function I(e,t){return{kind:"field",name:e,value:t}}function te(e){var t=C("math_arithmetic");return t.inputs=[A("A",0,me),A("B",e,me)],t.fields=[I("OP","MINUS")],t}function re(n,i=!1,a){var s=Te.pxtInfo(n).callInfo;if(s){if(n.expression.kind===_e.Identifier){var o=n.expression.text;if(x.declaredEnums[o]){var c=b.enumsByName[o];if(c&&c.blockId)return N(c.blockId,"MEMBER",n.name.text)}else if(x.declaredKinds[o]){let e=x.declaredKinds[o];return N(e.kindInfo.blockId,"MEMBER",n.name.text)}}c=k(s);if(a=c.blockId||a,c.blockCombine)return oe(n,n,null,"@get@");if("lists_length"===c.blockId||"text_length"===c.blockId)return(o=C(Te.U.htmlEscape(c.blockId))).inputs=[A("VALUE",n.expression)],o;let e=Te.U.htmlEscape(c.blockId)||s.qName;var[o]=Pe(n),o=o&&Te.pxtInfo(o).callInfo;if(i||!a&&!c.blockIdentity||o&&o.qName===c.blockIdentity)return{kind:"text",value:e};c.enumval&&o&&c.useEnumVal&&(e=c.enumval);let t=x.compInfo(s);if(a&&t&&t.thisParameter)return(i=C(a)).inputs=[A(Te.U.htmlEscape(t.thisParameter.definitionName),n.expression,t.thisParameter.shadowBlockId)],i;let r=c.blockIdentity?b.apis.byQName[c.blockIdentity]:b.blocksById[a];return ne(r=a&&r.attributes.blockId!==a&&r.attributes.decompilerShadowAlias===a?b.blocksById[a]:r,e)}_(n)}function ne(e,t){var r=/(?:%|\$)([a-zA-Z0-9_]+)/.exec(e.attributes.block),e=C(Te.U.htmlEscape(e.attributes.blockId));return e.fields=[{kind:"field",name:Te.U.htmlEscape(r[1]),value:t}],e}function ie(t,n){let a=[],r;for(let e=0;e<f.length&&(!(r=f[e]).owner&&r.start>=t.pos&&r.end<=t.end&&(r.owner=t,r.ownerStatement=n,a.push(r)),!(r.start>t.end));e++);if(r&&r.isTrailingComment){var e=Se.getLineAndCharacterOfPosition(o,t.end),i=Se.getLineAndCharacterOfPosition(o,r.start);if(e.line===i.line){if(r.ownerStatement){r.ownerStatement.comment.splice(r.ownerStatement.comment.indexOf(r),1);for(var s of c)s.comment.splice(s.comment.indexOf(r),1)}r.owner=t,r.ownerStatement=n,a.push(r)}}if(a.length){let r=[];if(function e(t){let[r]=Pe(t);if(!r||r.kind==_e.SourceFile)return!0;if(r.kind==_e.ExpressionStatement)return e(r);if(r.kind==_e.VariableDeclarationList)return e(r.parent);return!1}(t)){let n=[],i=[];a.forEach((e,t)=>{var r=e.owner&&e.start<e.owner.getStart();e.kind===fe.MultiLine&&r&&(n.length&&(i.push(n),n=[]),t!=a.length-1)?i.push([e]):(n.push(e),e.followedByEmptyLine&&r&&(i.push(n),n=[]))}),a=n,i.forEach(e=>{var t=U();r.push(t),c.push({comment:e,refId:t})})}n&&(r.length&&(n.data?n.data+=";"+r.join(";"):n.data=r.join(";")),a)&&a.length&&(n.comment?n.comment=n.comment.concat(a):n.comment=a)}}function P(e,t,r,n=!1,i=!1){var a=e;let s,o=!1;var c,l,u,e=Ee(a,x,n,i);if(e)s=ae(a,void 0,e);else switch(a.kind){case _e.Block:return le(a.statements,t,i);case _e.ExpressionStatement:return P(a.expression,t,r||a,n,i);case _e.VariableStatement:if(!(s=le(a.declarationList.declarations,void 0,!1,r||a)))return p();o=!0;break;case _e.FunctionExpression:case _e.ArrowFunction:return P(a.body,t);case _e.BinaryExpression:s=(e=>{switch(e.left.text,e.operatorToken.kind){case _e.EqualsToken:return e.left.kind===_e.Identifier?O(e,e.left,e.right):e.left.kind==_e.PropertyAccessExpression?se(e,e.left,e.right,"@set@"):((e,t,r)=>((e=T("lists_index_set",e)).inputs=[A("LIST",t.expression),A("INDEX",t.argumentExpression,me),A("VALUE",r)],e))(e,e.left,e.right);case _e.PlusEqualsToken:var t;return h(e)?(t=T("variables_set",e),F(r=L(e.left),ke.InBlocksOnly),t.inputs=[E("VALUE",Y(e),me)],t.fields=[I("VAR",r)],t):e.left.kind==_e.PropertyAccessExpression?se(e,e.left,e.right,"@change@"):O(e,e.left,e.right,!0);case _e.MinusEqualsToken:var r=T("variables_change",e);return r.inputs=[E("VALUE",te(e.right),me)],r.fields=[I("VAR",L(e.left))],r;default:return void _(e,Te.Util.lf("Unsupported operator token in statement {0}",_e[e.operatorToken.kind]))}})(a);break;case _e.PostfixUnaryExpression:case _e.PrefixUnaryExpression:s=(e=>{var t=e.operator===_e.PlusPlusToken;if(t||e.operator===_e.MinusMinusToken)return O(e,e.operand,t?1:-1,!0);_(e)})(a);break;case _e.VariableDeclaration:var d=a;if(we(d))return d=d,M.push([L(d.name),d]),p();s=(e=>{if((e=>{if(e.name.kind!==_e.Identifier)_(e,Te.Util.lf("Variable declarations may not use binding patterns"));else{if(e.initializer)return 1;_(e,Te.Util.lf("Variable declarations must have an initializer"))}})(e))return O(e,e.name,e.initializer)})(a);break;case _e.WhileStatement:s=((u=T("device_while",d=a)).inputs=[v("COND",d.expression)],u.handlers=[{name:"DO",statement:P(d.statement)}],u);break;case _e.IfStatement:s=(e=>{let t=function t(r){let n={ifStatements:[{expression:r.expression,thenStatement:r.thenStatement}],elseStatement:r.elseStatement};if(r.elseStatement&&r.elseStatement.kind==_e.IfStatement){let e=t(r.elseStatement);n.ifStatements=n.ifStatements.concat(e.ifStatements),n.elseStatement=e.elseStatement}return n}(e),n=T("controls_if",e);return n.mutation={elseif:(t.ifStatements.length-1).toString(),else:t.elseStatement?"1":"0"},n.inputs=[],n.handlers=[],t.ifStatements.forEach((e,t)=>{var r=P(e.thenStatement);n.inputs.push(v("IF"+t,e.expression)),n.handlers.push({name:"DO"+t,statement:r})}),t.elseStatement&&(e=P(t.elseStatement),n.handlers.push({name:"ELSE",statement:e})),n})(a);break;case _e.ForStatement:s=(e=>{let t=e.initializer,r=(t.declarations[0].name.text,e.condition),n=L(t.declarations[0].name),i;r.operatorToken.kind!==_e.LessThanToken||function e(t){if(t.kind===_e.Identifier&&L(t)===n)return!0;return Se.forEachChild(t,e)}(e.statement)?((i=T("pxt_controls_for",e)).fields=[],i.inputs=[],i.handlers=[],i.inputs=[Z("VAR",n)],r.operatorToken.kind===_e.LessThanToken?(s=Oe(r.right)).kind===_e.NumericLiteral?(a=w(parseFloat(s.text)-1+""),i.inputs.push(E("TO",a,ye))):((a=C("math_arithmetic")).fields=[I("OP","MINUS")],a.inputs=[A("A",s,me),A("B",1,me)],i.inputs.push(E("TO",a,ye))):r.operatorToken.kind===_e.LessThanEqualsToken&&i.inputs.push(A("TO",r.right,ye))):((i=T("controls_repeat_ext",e)).fields=[],i.inputs=[A("TIMES",r.right,ye)],i.handlers=[]);var a,s=P(e.statement);return i.handlers=[{name:"DO",statement:s}],i})(a);break;case _e.ForOfStatement:s=(c=L((c=(u=a).initializer).declarations[0].name),(l=T("pxt_controls_for_of",u)).inputs=[A("LIST",u.expression),Z("VAR",c)],c=P(u.statement),l.handlers=[{name:"DO",statement:c}],l);break;case _e.FunctionDeclaration:s=(e=>{let n=L(e.name),t=(x.localReporters.push(e.parameters.map(e=>({name:e.name.getText(),type:e.type.getText()}))),P(e.body));x.localReporters.pop();let i;return(i=T("function_definition",e)).mutation={name:n},e.parameters&&(i.mutationChildren=[],e.parameters.forEach(e=>{var t=e.name.getText();let r=Ve(e.type.getText());pxt.U.endsWith(r,"[]")&&(r="Array"),i.mutationChildren.push({nodeName:"arg",attributes:{name:t,type:r,id:x.functionParamIds[n][t]}})})),i.handlers=[{name:"STACK",statement:t}],i})(a);break;case _e.CallExpression:s=((n,e)=>{let y=Te.pxtInfo(n).callInfo,v=k(y);if("Math.pow"==y.qName){let e=C("math_arithmetic");return e.inputs=[E("A",D(n.arguments[0]),me),E("B",D(n.arguments[1]),me)],e.fields=[I("OP","POWER")],e}if(pxt.Util.startsWith(y.qName,"Math.")){var r=y.qName.substring(5);if(ze(r)){let t;if(qe(r))t=C("math_js_round");else{t=C("math_js_op");let e;e=$e(r)?"unary":Je(r)?"infix":"binary",t.mutation={"op-type":e}}return t.inputs=y.args.map((e,t)=>E("ARG"+t,D(e),"math_number")),t.fields=[I("OP",r)],t}}if(v.blockId===Te.PAUSE_UNTIL_TYPE){let e=T(Te.PAUSE_UNTIL_TYPE,n);r=n.arguments[0];let t;return t=r.body.kind===_e.Block?r.body.statements[0].expression:r.body,e.inputs=[E("PREDICATE",D(t),"logic_boolean")],e}if(!v.blockId||!v.block){var t=pxt.blocks.builtinFunctionInfo[y.qName];if(!t){let s=L(n.expression);if(x.declaredFunctions[s]){let a,e=!0;return Ke(n,x)&&([o]=Pe(n),e=o&&o.kind===_e.ExpressionStatement),a=T(e?"function_call":"function_call_output",n),y.args.length&&(a.mutationChildren=[],a.inputs=[],x.declaredFunctions[s].parameters.forEach((e,t)=>{var r=e.name.getText(),n=x.functionParamIds[s][r];let i=Ve(e.type.getText());pxt.U.endsWith(i,"[]")&&(i="Array"),a.mutationChildren.push({nodeName:"arg",attributes:{name:r,type:i,id:n}});e=E(n,D(y.args[t]));a.inputs.push(e)})),a.mutation={name:s},a}return ae(n)}v.blockId=t.blockId}if(!v.imageLiteral&&!v.gridLiteral){Se.isFunctionLike(y.decl);let t=Be(y,x),_=S(y),m=e?C(v.blockId):T(v.blockId,n),g=e=>(m.inputs||(m.inputs=[])).push(e),h=e=>(m.fields||(m.fields=[])).push(e),r=("Math.max"==y.qName&&h({kind:"field",name:"op",value:"max"}),0);if(t.forEach((e,i)=>{let a=e.value,s;var t,o=e.param,c=e.info,e=_.parameters[_.thisParameter?i-1:i],e=e&&e.range;if(e&&(t=e.min,e=e.max,s={min:t.toString(),max:e.toString()}),0===i&&v.defaultInstance){if(a.getText()===v.defaultInstance)return;m.mutation={showing:"true"}}if(!v.mutatePropertyEnum||i!==y.args.length-2){o&&o.isOptional&&++r;let n;if(o&&o.shadowBlockId&&(n=b.blocksById[o.shadowBlockId]),a.kind===_e.CallExpression&&(e=(t=Te.pxtInfo(a).callInfo)&&k(t))&&"TD_ID"===e.shim&&c.isEnum&&(a=Oe(t.args[0])),o&&c&&c.isEnum&&a.kind===_e.Identifier)h(I(Te.U.htmlEscape(o.definitionName),Te.pxtInfo(a).commentAttrs.enumIdentity));else if(o&&o.fieldOptions&&o.fieldOptions[pe.DecompileArgumentAsString])h(I(Te.U.htmlEscape(o.definitionName),Te.Util.htmlEscape(a.getText())));else switch(a.kind){case _e.FunctionExpression:case _e.ArrowFunction:var l=(e=>{if(e=Ne(e))return{callbackproperties:e[0].join(","),renamemap:Te.Util.htmlEscape(JSON.stringify(e[1]))}})(a);let e=!1;if(l)m.mutation=l;else{l=a;let r=b.blocksById[v.blockId].parameters[_.thisParameter?i-1:i],n=(e,t)=>{"reporter"===v.draggableParameters?g(E("HANDLER_DRAG_PARAM_"+e.name,ee(t,e.type,!0),void 0)):g(Z("HANDLER_DRAG_PARAM_"+e.name,t))};if(l.parameters.length&&(v.optionalVariableArgs?(m.mutation={numargs:l.parameters.length.toString()},"reporter"===v.draggableParameters?l.parameters.forEach((e,t)=>{t=r.handlerParameters[t];n(t,e.name.text)}):l.parameters.forEach((e,t)=>{m.mutation["arg"+t]=e.name.text})):l.parameters.forEach((e,t)=>{t=r.handlerParameters[t];v.draggableParameters?n(t,e.name.text):h(I("HANDLER_"+t.name,e.name.text))})),v.draggableParameters){if(l.parameters.length<r.handlerParameters.length&&!v.optionalVariableArgs)for(let t=l.parameters.length;t<r.handlerParameters.length;t++){let e=r.handlerParameters[t];n(e,e.name)}"reporter"===v.draggableParameters&&(x.localReporters.push(r.handlerParameters),e=!0)}}l=P(a);(m.handlers||(m.handlers=[])).push({name:"HANDLER",statement:l}),e&&x.localReporters.pop();break;case _e.PropertyAccessExpression:var l=Te.pxtInfo(a).callInfo,u=Te.U.htmlEscape(o.definitionName),d=k(l);n&&"TD_ID"===n.attributes.shim?g(E(u,re(a,!1,o.shadowBlockId),o.shadowBlockId,s)):c&&c.isEnum||l&&(d.fixedInstance||d.blockIdentity===y.qName)?h(I(u,re(a,!0).value)):g(A(u,a,o.shadowBlockId,s));break;case _e.BinaryExpression:if(o&&o.shadowOptions&&o.shadowOptions.toString){l=a;if(l.operatorToken.kind===_e.PlusToken&&((d=l.left).kind===_e.StringLiteral||d.kind===_e.NoSubstitutionTemplateLiteral)&&""===d.text){g(A(Te.U.htmlEscape(o.definitionName),l.right,o.shadowBlockId||"text"));break}}g(A(Te.U.htmlEscape(o.definitionName),a,o.shadowBlockId,s));break;default:let t;u=Te.U.htmlEscape(o.definitionName);let r=!0;if("Math.random"==y.qName)t=E(u,(e=>{switch(e.kind){case _e.NumericLiteral:return w((parseInt(e.text)-1).toString());case _e.BinaryExpression:var t=e;if(t.operatorToken.kind==_e.PlusToken&&"1"==t.right.text)return D(t.left);default:return D(e)}})(a),me,s),r=!1;else if(Me(a)){var p="text"==o.fieldEditor?a.text:a.getText(),f=o.shadowBlockId&&!(e=>{switch(e){case me:case ge:case he:case ye:case ve:case be:return 1;default:return}})(o.shadowBlockId);if(ce(o)&&o.fieldOptions.onParentBlock)return void h(I(u,p));f&&(f=(e=>{if(b.blocksById[e]){e=pxt.blocks.compileInfo(b.blocksById[e]);if(!e.thisParameter&&1===e.parameters.length)return e.parameters[0]}})(o.shadowBlockId))&&ce(f)&&(f=N(o.shadowBlockId,f.definitionName,p,!0),o.shadowOptions&&(f.mutation={customfield:Te.Util.htmlEscape(JSON.stringify(o.shadowOptions))}),t=E(u,f,o.shadowBlockId,s),r=!1)}else if(a.kind===_e.TaggedTemplateExpression&&o.fieldOptions&&o.fieldOptions[pe.TaggedTemplate])return void h(I(u,Te.Util.htmlEscape(a.getText())));r&&(t=A(u,a,o.shadowBlockId,s)),g(t)}}}),r)if(m.mutation||(m.mutation={}),v.compileHiddenArguments){let e=0,r=0;for(var i of t){let t=Te.U.htmlEscape(i.param.definitionName);var a=m.inputs.find(e=>e.name===t);i.param.isOptional?a&&!Qe(a)&&(r=Math.max(i.param.definitionIndex-e+1,r)):e++}m.mutation._expanded=r.toString()}else m.mutation._expanded=r.toString();return m}var o=n,t=y;if((e=o.arguments[0]).kind!=_e.StringLiteral&&e.kind!=_e.NoSubstitutionTemplateLiteral)_(o);else{var n=T((t=k(t)).blockId,o),s=(n.fields=[],(e.text||"").replace(/\s+/g,"")),c=(t.imageLiteralColumns||5)*(t.imageLiteral||t.gridLiteral),l=t.imageLiteralRows||5;if((e=c*l)==s.length){let r="";for(let t=0;t<l;++t){for(let e=0;e<c;++e)r+=/[#*1]/.test(s[t*c+e])?"#":".";r+="\n"}return n.fields.push(I("LEDS",`\`${r}\``)),n}_(o,Te.Util.lf("Invalid image pattern ({0} expected vs {1} actual)",e,s.length))}})(a,n);break;case _e.DebuggerStatement:s=(e=>e=T(Te.TS_DEBUGGER_TYPE,e))(a);break;case _e.BreakStatement:s=(e=>e=T(Te.TS_BREAK_TYPE,e))(a);break;case _e.ContinueStatement:s=(e=>e=T(Te.TS_CONTINUE_TYPE,e))(a);break;case _e.EmptyStatement:s=void 0;break;case _e.EnumDeclaration:case _e.ModuleDeclaration:return We(a,f),p();case _e.ReturnStatement:s=(e=>{var t=T(Te.TS_RETURN_STATEMENT_TYPE,e);return e.expression?t.inputs=[E("RETURN_VALUE",D(e.expression),me)]:t.mutation={no_return_value:"true"},t})(a);break;default:return void _(a,t?Te.Util.lf("Unsupported statement in block: {0}",_e[a.kind]):Te.Util.lf("Statement kind unsupported in blocks: {0}",_e[a.kind]))}if(s){let e=s;for(;e.next;)e=e.next;e.next=p(),e.next&&(e.next.prev=e)}return o||ie(r||a,s),s;function p(){if(t&&t.length)return P(t.shift(),t,void 0,!1,i)}}function ae(e,t,r){l.errorOnGreyBlocks&&_(e);let n=T(Te.TS_STATEMENT_TYPE,e),i=(n.mutation={},de(e),e.getText());var a=e.getStart(),s=e.getEnd(),o=(i=W(i,a,s),We(e,f),t&&(i=t+i),[]);if(e.kind===_e.VariableStatement)for(var c of e.declarationList.declarations)o.push(L(c.name));else e.kind===_e.VariableDeclaration&&o.push(L(e.name));o.length&&(n.mutation.declaredvars=o.join(","));a=i.split("\n");return n.mutation.numlines=a.length.toString(),r&&l.includeGreyBlockMessages&&(n.mutation.error=Te.U.htmlEscape(r)),a.forEach((e,t)=>{n.mutation["line"+t]=Te.U.htmlEscape(e)}),n}function v(e,t){return(e=>{var t=Oe(e);switch(t.kind){case _e.TrueKeyword:case _e.FalseKeyword:case _e.Identifier:case _e.ElementAccessExpression:return;case _e.BinaryExpression:return(e=>{switch(e.operatorToken.kind){case _e.EqualsEqualsToken:case _e.EqualsEqualsEqualsToken:case _e.ExclamationEqualsToken:case _e.ExclamationEqualsEqualsToken:case _e.LessThanToken:case _e.LessThanEqualsToken:case _e.GreaterThanToken:case _e.GreaterThanEqualsToken:case _e.AmpersandAmpersandToken:case _e.BarBarToken:return;default:return Te.Util.lf("Binary expressions in conditionals must evaluate to booleans")}})(t);case _e.CallExpression:return(e=>{var t=Te.pxtInfo(e).callInfo;if(t){t=x.blocks.apis.byQName[t.qName];if(t&&"boolean"==t.retType)return;if(Se.isIdentifier(e.expression)&&x.declaredFunctions[e.expression.text])return}return Te.Util.lf("Only functions that return booleans are allowed as conditions")})(t);case _e.PrefixUnaryExpression:if(t.operator===_e.ExclamationToken)return;default:return Te.Util.lf("Conditions must evaluate to booleans or identifiers")}})(t)?E(e,Q(t),be):A(e,t,be)}function O(e,t,r,n=!1){t=L(t),F(t,ke.InBlocksOnly),n=T(n?"variables_change":"variables_set",e.parent||e);return n.inputs=[A("VALUE",r,me)],n.fields=[I("VAR",t)],n}function se(e,t,r,n){return oe(e,t,r,n)}function oe(e,n,i,a){let s=Te.pxtInfo(n).callInfo;var o=x.blocks.apis.byQName[s?s.qName:""];if(o&&o.attributes.blockCombine){let t=o.namespace+`.${o.retType}.`+a;o=x.blocks.blocks.find(e=>e.qName==t),a=i?T(o.attributes.blockId,e):C(o.attributes.blockId),e=o.attributes._def.parameters;let r=s.qName;return o.combinedProperties&&o.combinedProperties.forEach(e=>{0===e.indexOf(s.qName)&&"@"===e.charAt(s.qName.length)&&(r=e)}),a.inputs=[A(e[0].name,n.expression)],a.fields=[I(e[1].name,r)],i&&a.inputs.push(A(e[2].name,i)),a}_(n)}function ce(e){return e&&e.fieldOptions&&e.fieldOptions[pe.DecompileLiterals]}function le(t,e,r=!1,s,n=!1){var i=[],o=e||[];for(let e=t.length-1;0<=e;e--){var a=t[e];((a.kind===_e.FunctionDeclaration||a.kind==_e.ExpressionStatement&&(t=>{if(t.expression.kind==_e.CallExpression){var r=t.expression,r=Te.pxtInfo(r).callInfo;if(!r)return _(t),0;let e=k(r);return e.block||x.aliasBlocks[r.qName]&&(r.decompilerBlockAlias=x.aliasBlocks[r.qName],e=k(r)),e.blockId&&!e.handlerStatement&&!e.forceStatement&&!r.isExpression&&Re(r,e)}})(a))&&!Ee(a,x,!1,r)?i:o).unshift(a)}var c,l=[],u={};for(c of i){var d=c.kind===_e.FunctionDeclaration?void 0:(e=>{var e=e.expression,t=k(e=Te.pxtInfo(e).callInfo);if(!t.blockAllowMultiple)return t.blockHandlerKey||(e=e.args.filter(e=>!Se.isArrowFunction(e)&&!Ue(e)).map(e=>m(e)).join("$$"),t.blockId+"-"+e)})(c);d&&u[d]?l.push(P(c,void 0,void 0,!1,!1)):(u[d]=!0,l.push(P(c,void 0,void 0,!1,r)))}if(l.forEach(g),o.length){let a=o.shift();e=P(a,o,s,!1,r);if(n){let n=e,i=a;if(M.forEach(([t,r])=>{if(p[t]!==ke.InBlocksOnly){r.initializer;let e;(e=p[t]===ke.InTextBlocks?ae(r,"let "):O(a,r.name,r.initializer,!1)).next=n,n=e,ie((i=r).parent,n)}}),n)return(s=T(Se.pxtc.ON_START_TYPE,i)).handlers=[{name:"HANDLER",statement:n}],s;ue(e)}return e}n&&ue(void 0)}function ue(e){l.alwaysEmitOnStart&&(u(Se.pxtc.ON_START_TYPE,e),d())}function F(e,t){p[e]!==ke.InTextBlocks&&(p[e]=t)}function de(e){Se.forEachChild(e,e=>{e.kind===_e.Identifier&&F(L(e),ke.InTextBlocks),de(e)})}function L(e){if(r){var t=r.getRenameForPosition(e.getStart());if(t)return t.name}return e.text}},Ce.getLeadingComments=function(e,t,r){return f(t,r||Se.getLeadingCommentRangesOfNode(e,t))},Ce.getTrailingComments=function(e,t){return f(t,Se.getTrailingCommentRanges(t.getFullText(),e.end))},Ce.getCommentsForStatement=function(t,r){var n,i=[];for(let e=0;e<r.length&&(!(n=r[e]).owner&&n.start>=t.pos&&n.end<=t.end&&(n.owner=t,i.push(n)),!(n.start>t.end));e++);return i},Ce.buildCommentMap=Ge}})(ts=ts||{}),(e=>{function p(e,t){var r;switch(e){case"void":return"None";case"boolean":return"bool";case"string":return"str"}return null!=(r=t.byQName[e])&&r.pyQName?t.byQName[e].pyQName:(r=/^(?:Array<(.+)>)|(?:(.+)\[\])|(?:\[.+\])$/.exec(e))?`List[${p(r[1]||r[2],t)}]`:e}function f(e,t){return`\`\`\`${t?"python":"ts"}
${e}
\`\`\``}(e=(e=e.pxtc||(e.pxtc={})).service||(e.service={})).displayStringForSymbol=function(n,i,a){if(n){switch(n.kind){case 3:case 1:{var s=n;var o=i;var c=a;let e="",t=(3===s.kind?e+=o?"def ":"function ":e+="(method) ",e+=o?s.pyQName:s.qName,""),r=(s.parameters&&s.parameters.length&&(t=s.parameters.map(e=>e.name+": "+(o?e.pyTypeString:e.type)).join(", ")),s.retType||"void");return o&&(r=p(r,c)),f(`${e}(${t}): `+r,o);return}case 6:case 7:{s=n;c=i;var t=c?s.pyQName:s.qName;if(6===s.kind)return f("enum "+t,c);let e="(enum member) "+t;return s.attributes.enumval&&(e+=" = "+s.attributes.enumval),f(e,!1);return}case 5:return t=n,f("namespace "+(i?t.pyQName:t.qName),!1);case 9:return e=n,f("interface "+(i?e.pyQName:e.qName),!1);case 8:return e=n,f("class "+(i?e.pyQName:e.qName),i);case 4:var r=n,l=i,u=a,d=l?r.pyQName:"let "+r.qName;if(r.retType){let e=r.retType;return l&&(e=p(e,u)),f(d+": "+e,l)}return f(d,l);case 2:r=n,u=i,d=a,l="(property) "+(u?r.pyQName:r.qName);if(r.retType){let e=r.retType;return u&&(e=p(e,d)),f(l+": "+e,!1)}return f(l,!1)}var e;return`**${n.qName}**`}},e.displayStringForKeyword=function(e,t){return`\`\`\`${t?"py":"ts"}
(keyword) ${e}
\`\`\``}})(ts=ts||{}),(e=>{var h=e.pxtc||(e.pxtc={});{e=h.thumb||(h.thumb={});let t={r0:0,r1:1,r2:2,r3:3,r4:4,r5:5,r6:6,r7:7,r8:8,r9:9,r10:10,r11:10,r12:12,sp:13,r13:13,lr:14,r14:14,pc:15,r15:15};class r extends h.assembler.AbstractProcessor{constructor(){super(),this.addEnc("$r0","R0-7",e=>this.inrange(7,e,e)),this.addEnc("$r1","R0-7",e=>this.inrange(7,e,e<<3)),this.addEnc("$r2","R0-15",e=>this.inrange(15,e,7&e|(8&e)<<4)),this.addEnc("$r3","R0-15",e=>this.inrange(15,e,e<<3)),this.addEnc("$r4","R0-7",e=>this.inrange(7,e,e<<6)),this.addEnc("$r5","R0-7",e=>this.inrange(7,e,e<<8)),this.addEnc("$r01","R0-7",e=>this.inrange(7,e,e|e<<3)),this.addEnc("$i0","#0-255",e=>this.inrange(255,e,e)),this.addEnc("$i1","#0-1020",e=>this.inrange(255,e/4,e>>2)),this.addEnc("$i2","#0-510",e=>this.inrange(127,e/4,e>>2)),this.addEnc("$i3","#0-7",e=>this.inrange(7,e,e<<6)),this.addEnc("$i4","#0-31",e=>this.inrange(31,e,e<<6)),this.addEnc("$i5","#0-124",e=>this.inrange(31,e/4,e>>2<<6)),this.addEnc("$i6","#1-32",e=>0==e?null:32==e?0:this.inrange(31,e,e<<6)),this.addEnc("$i7","#0-62",e=>this.inrange(31,e/2,e>>1<<6)),this.addEnc("$i32","#0-2^32",e=>1),this.addEnc("$rl0","{R0-7,...}",e=>this.inrange(255,e,e)),this.addEnc("$rl1","{LR,R0-7,...}",e=>16384&e?this.inrange(255,-16385&e,256|255&e):this.inrange(255,e,e)),this.addEnc("$rl2","{PC,R0-7,...}",e=>32768&e?this.inrange(255,-32769&e,256|255&e):this.inrange(255,e,e)),this.addEnc("$la","LABEL",e=>this.inrange(255,e/4,e>>2)).isWordAligned=!0,this.addEnc("$lb","LABEL",e=>this.inrangeSigned(127,e/2,e>>1)),this.addEnc("$lb11","LABEL",e=>this.inrangeSigned(1023,e/2,e>>1)),this.addInst("adcs  $r0, $r1",16704,65472),this.addInst("add   $r2, $r3",17408,65280),this.addInst("add   $r5, pc, $i1",40960,63488),this.addInst("add   $r5, sp, $i1",43008,63488),this.addInst("add   sp, $i2",45056,65408).canBeShared=!0,this.addInst("adds  $r0, $r1, $i3",7168,65024),this.addInst("adds  $r0, $r1, $r4",6144,65024),this.addInst("adds  $r01, $r4",6144,65024),this.addInst("adds  $r5, $i0",12288,63488),this.addInst("adr   $r5, $la",40960,63488),this.addInst("ands  $r0, $r1",16384,65472),this.addInst("asrs  $r0, $r1",16640,65472),this.addInst("asrs  $r0, $r1, $i6",4096,63488),this.addInst("bics  $r0, $r1",17280,65472),this.addInst("bkpt  $i0",48640,65280),this.addInst("blx   $r3",18304,65415),this.addInst("bx    $r3",18176,65408),this.addInst("cmn   $r0, $r1",17088,65472),this.addInst("cmp   $r0, $r1",17024,65472),this.addInst("cmp   $r2, $r3",17664,65280),this.addInst("cmp   $r5, $i0",10240,63488),this.addInst("eors  $r0, $r1",16448,65472),this.addInst("ldmia $r5!, $rl0",51200,63488),this.addInst("ldmia $r5, $rl0",51200,63488),this.addInst("ldr   $r0, [$r1, $i5]",26624,63488),this.addInst("ldr   $r0, [$r1, $r4]",22528,65024),this.addInst("ldr   $r5, [pc, $i1]",18432,63488),this.addInst("ldr   $r5, $la",18432,63488),this.addInst("ldr   $r5, [sp, $i1]",38912,63488).canBeShared=!0,this.addInst("ldr   $r5, [sp]",38912,63488).canBeShared=!0,this.addInst("ldrb  $r0, [$r1, $i4]",30720,63488),this.addInst("ldrb  $r0, [$r1, $r4]",23552,65024),this.addInst("ldrh  $r0, [$r1, $i7]",34816,63488),this.addInst("ldrh  $r0, [$r1, $r4]",23040,65024),this.addInst("ldrsb $r0, [$r1, $r4]",22016,65024),this.addInst("ldrsh $r0, [$r1, $r4]",24064,65024),this.addInst("lsls  $r0, $r1",16512,65472),this.addInst("lsls  $r0, $r1, $i4",0,63488),this.addInst("lsrs  $r0, $r1",16576,65472),this.addInst("lsrs  $r0, $r1, $i6",2048,63488),this.addInst("mov   $r2, $r3",17920,65280),this.addInst("movs  $r0, $r1",0,65472),this.addInst("movs  $r5, $i0",8192,63488),this.addInst("muls  $r0, $r1",17216,65472),this.addInst("mvns  $r0, $r1",17344,65472),this.addInst("negs  $r0, $r1",16960,65472),this.addInst("nop",18112,65535),this.addInst("orrs  $r0, $r1",17152,65472),this.addInst("pop   $rl2",48128,65024),this.addInst("push  $rl1",46080,65024),this.addInst("rev   $r0, $r1",47616,65472),this.addInst("rev16 $r0, $r1",47680,65472),this.addInst("revsh $r0, $r1",47808,65472),this.addInst("rors  $r0, $r1",16832,65472),this.addInst("sbcs  $r0, $r1",16768,65472),this.addInst("sev",48960,65535),this.addInst("stm   $r5!, $rl0",49152,63488),this.addInst("stmia $r5!, $rl0",49152,63488),this.addInst("stmea $r5!, $rl0",49152,63488),this.addInst("str   $r0, [$r1, $i5]",24576,63488).canBeShared=!0,this.addInst("str   $r0, [$r1]",24576,63488).canBeShared=!0,this.addInst("str   $r0, [$r1, $r4]",20480,65024),this.addInst("str   $r5, [sp, $i1]",36864,63488).canBeShared=!0,this.addInst("str   $r5, [sp]",36864,63488).canBeShared=!0,this.addInst("strb  $r0, [$r1, $i4]",28672,63488),this.addInst("strb  $r0, [$r1, $r4]",21504,65024),this.addInst("strh  $r0, [$r1, $i7]",32768,63488),this.addInst("strh  $r0, [$r1, $r4]",20992,65024),this.addInst("sub   sp, $i2",45184,65408),this.addInst("subs  $r0, $r1, $i3",7680,65024),this.addInst("subs  $r0, $r1, $r4",6656,65024),this.addInst("subs  $r01, $r4",6656,65024),this.addInst("subs  $r5, $i0",14336,63488),this.addInst("svc   $i0",57088,65280),this.addInst("sxtb  $r0, $r1",45632,65472),this.addInst("sxth  $r0, $r1",45568,65472),this.addInst("tst   $r0, $r1",16896,65472),this.addInst("udf   $i0",56832,65280),this.addInst("uxtb  $r0, $r1",45760,65472),this.addInst("uxth  $r0, $r1",45696,65472),this.addInst("wfe",48928,65535),this.addInst("wfi",48944,65535),this.addInst("yield",48912,65535),this.addInst("cpsid i",46706,65535),this.addInst("cpsie i",46690,65535),this.addInst("beq   $lb",53248,65280),this.addInst("bne   $lb",53504,65280),this.addInst("bcs   $lb",53760,65280),this.addInst("bcc   $lb",54016,65280),this.addInst("bmi   $lb",54272,65280),this.addInst("bpl   $lb",54528,65280),this.addInst("bvs   $lb",54784,65280),this.addInst("bvc   $lb",55040,65280),this.addInst("bhi   $lb",55296,65280),this.addInst("bls   $lb",55552,65280),this.addInst("bge   $lb",55808,65280),this.addInst("blt   $lb",56064,65280),this.addInst("bgt   $lb",56320,65280),this.addInst("ble   $lb",56576,65280),this.addInst("bhs   $lb",53760,65280),this.addInst("blo   $lb",54016,65280),this.addInst("b     $lb11",57344,63488),this.addInst("bal   $lb11",57344,63488),this.addInst("bl    $lb",61440,63488,!0),this.addInst("bb    $lb",57344,63488,!0),this.addInst("ldlit   $r5, $i32",18432,63488)}toFnPtr(e,t,r){return h.target.runtimeIsARM&&/::/.test(r)?e+t&-2:e+t|1}wordSize(){return 4}is32bit(e){return"bl"==e.name||"bb"==e.name}postProcessAbsAddress(e,t){return t=(t^1)-e.baseOffset}emit32(e,t,r){var n,i,a=!!(t%2),s=(t=a?t+1&-4:t)>>1;return h.assert(null!=s),(0|s)==s&&-2097152<s&&s<2097152?(n=2047&s,i=s>>11&1023,{opcode:4026531840&s?62464|i:61440|i,opcode2:a?59392|n:63488|n,stack:0,numArgs:[t],labelName:r}):h.assembler.emitErr("jump out of range",r)}expandLdlit(r){let n,i=!1;var e=[];let a={},s=1;for(let t=0;t<r.lines.length;++t){var o=r.lines[t];if(e.push(o),"instruction"==o.type&&o.instruction&&"ldlit"==o.instruction.name){if(!n){var c=o.location+900;let e=t+1;for(;e<r.lines.length&&!(r.lines[e].location>c);++e){var l=r.lines[e].getOp();("b"==l||"bb"==l||"pop"==l&&"pc"==r.lines[e].words[2])&&(n=r.lines[e])}if(n)i=!1;else for(i=!0;--e>t;)if("instruction"==r.lines[e].type){n=r.lines[e];break}}var u=o.words[1],d="#"+o.words[3];let e=h.U.lookup(a,d);e||(e="_ldlit_"+ ++s,a[d]=e),o.ldlitLabel=o.words[3],o.update(`ldr ${u}, ${e} ; `+o.ldlitLabel)}if(o===n){n=null;var p,f,_=[],d="_jmpwords_"+ ++s;i&&_.push("bb "+d),_.push(".object PUSH"),_.push(".balign 4");for(p of Object.keys(a)){var m=a[p];_.push(m+": .word "+p.slice(1))}i&&_.push(d+":"),_.push(".object POP");for(f of _){r.buildLine(f,e);var g=e[e.length-1];g.scope=o.scope,g.lineNo=o.lineNo}a={}}}r.lines=e}getAddressFromLabel(e,t,r,n=!1){r=e.lookupLabel(r);if(null==r)return null;let i=e.location()+4;return n&&(i&=4294967292),r-i}isPop(e){return 48128==e}isPush(e){return 46080==e}isAddSP(e){return 45056==e}isSubSP(e){return 45184==e}peephole(e,t,r){var n=this.encoders.$lb11,i=this.encoders.$lb;function a(e,t){return null!=e.encode(t.numArgs[0]+8)&&null!=e.encode(t.numArgs[0]-8)&&null!=e.encode(t.numArgs[0])}var s=e.getOp();let o=!1;"bne"!=s&&"beq"!=s||("b"==t.getOp()&&0==e.numArgs[0]&&(o=!0),"bb"==t.getOp()&&2==e.numArgs[0]&&(o=!0)),"bb"==s&&a(n,e)?e.update("b "+e.words[1]):"b"==s&&-2==e.numArgs[0]?e.update(""):"bne"==s&&o&&a(i,t)?(e.update("beq "+t.words[1]),t.update("")):"beq"==s&&o&&a(i,t)?(e.update("bne "+t.words[1]),t.update("")):"push"!=s||16384!=e.numArgs[0]||"push"!=t.getOp()||16384&t.numArgs[0]?"pop"==s&&"pop"==t.getOp()&&32768==t.numArgs[0]?(e.update(e.text.replace("}",", pc}")),t.update("")):"push"==s&&"pop"==t.getOp()&&e.numArgs[0]==t.numArgs[0]?(h.assert(0<e.numArgs[0]),e.update(""),t.update("")):"push"==s&&"pop"==t.getOp()&&4==e.words.length&&4==t.words.length?(h.assert("{"==e.words[1]),e.update("mov "+t.words[2]+", "+e.words[2]),t.update("")):r&&"movs $r5, $i0"==e.getOpExt()&&"mov $r0, $r1"==t.getOpExt()&&e.numArgs[0]==t.numArgs[1]&&(n=r,i=e.numArgs[0],!!("pop"==n.getOp()&&n.numArgs[0]&1<<i))?(e.update("movs r"+t.numArgs[0]+", #"+e.numArgs[1]),t.update("")):"pop"==s&&0<=c(e)&&"push"==t.getOp()&&c(e)==c(t)?(e.update("ldr r"+c(e)+", [sp, #0]"),t.update("")):"push"==s&&"ldr $r5, [sp, $i1]"==t.getOpExt()&&c(e)==t.numArgs[0]&&0==t.numArgs[1]?t.update(""):r&&"push"==s&&0<=c(e)&&(n=t,i=c(e),"movs $r5, $i0"==n.getOpExt())&&n.numArgs[0]!=i&&"pop"==r.getOp()&&c(e)==c(r)&&(e.update(""),r.update("")):(e.update(t.text.replace("{","{lr, ")),t.update(""))}registerNo(e){if(!e)return null;e=e.toLowerCase();e=t[e];return void 0===e?null:e}testAssembler(){h.assembler.expectError(this,"lsl r0, r0, #8"),h.assembler.expectError(this,"push {pc,lr}"),h.assembler.expectError(this,"push {r17}"),h.assembler.expectError(this,"mov r0, r1 foo"),h.assembler.expectError(this,"movs r14, #100"),h.assembler.expectError(this,"push {r0"),h.assembler.expectError(this,"push lr,r0}"),h.assembler.expectError(this,"pop {lr,r0}"),h.assembler.expectError(this,"b #+11"),h.assembler.expectError(this,"b #+102400"),h.assembler.expectError(this,"bne undefined_label"),h.assembler.expectError(this,".foobar"),h.assembler.expect(this,"0200      lsls    r0, r0, #8\nb500      push    {lr}\n2064      movs    r0, #100        ; 0x64\nb401      push    {r0}\nbc08      pop     {r3}\nb501      push    {r0, lr}\nbd20      pop {r5, pc}\nbc01      pop {r0}\n4770      bx      lr\n0000      .balign 4\ne6c0      .word   -72000\nfffe\n"),h.assembler.expect(this,"4291      cmp     r1, r2\nd100      bne     l6\ne000      b       l8\n1840  l6: adds    r0, r0, r1\n4718  l8: bx      r3\n"),h.assembler.expect(this,"          @stackmark base\nb403      push    {r0, r1}\n          @stackmark locals\n9801      ldr     r0, [sp, locals@1]\nb401      push    {r0}\n9802      ldr     r0, [sp, locals@1]\nbc01      pop     {r0}\n          @stackempty locals\n9901      ldr     r1, [sp, locals@1]\n9102      str     r1, [sp, base@0]\n          @stackempty locals\nb002      add     sp, #8\n          @stackempty base\n"),h.assembler.expect(this,"b090      sub sp, #4*16\nb010      add sp, #4*16\n"),h.assembler.expect(this,'6261      .string "abc"\n0063      \n'),h.assembler.expect(this,'6261      .string "abcde"\n6463      \n0065      \n'),h.assembler.expect(this,"3042      adds r0, 0x42\n1c0d      adds r5, r1, #0\nd100      bne #0\n2800      cmp r0, #0\n6b28      ldr r0, [r5, #48]\n0200      lsls r0, r0, #8\n2063      movs r0, 0x63\n4240      negs r0, r0\n46c0      nop\nb500      push {lr}\nb401      push {r0}\nb402      push {r1}\nb404      push {r2}\nb408      push {r3}\nb520      push {r5, lr}\nbd00      pop {pc}\nbc01      pop {r0}\nbc02      pop {r1}\nbc04      pop {r2}\nbc08      pop {r3}\nbd20      pop {r5, pc}\n9003      str r0, [sp, #4*3]\n")}}function c(e){h.assert("push"==e.getOp()||"pop"==e.getOp());let t=0,r=-1,n=e.numArgs[0];for(;0<n;)1&n&&(r=-1==r?t:-2),n>>=1,t++;return 0<=r?r:-1}e.ThumbProcessor=r}})(ts=ts||{}),(r=>{var t,f=r.pxtc||(r.pxtc={});{var _=f.ir||(f.ir={});let d=f.Util;d.assert;let p,e=((t=p=_.EK||(_.EK={}))[t.None=0]="None",t[t.NumberLiteral=1]="NumberLiteral",t[t.PointerLiteral=2]="PointerLiteral",t[t.RuntimeCall=3]="RuntimeCall",t[t.ProcCall=4]="ProcCall",t[t.SharedRef=5]="SharedRef",t[t.SharedDef=6]="SharedDef",t[t.FieldAccess=7]="FieldAccess",t[t.Store=8]="Store",t[t.CellRef=9]="CellRef",t[t.Sequence=10]="Sequence",t[t.JmpValue=11]="JmpValue",t[t.Nop=12]="Nop",t[t.InstanceOf=13]="InstanceOf",0);class m{isExpr(){return!1}isStmt(){return!1}getId(){return this._id||(this._id=++e),this._id}}_.Node=m;class g extends m{constructor(e,t,r){super(),this.exprKind=e,this.args=t,this.data=r,this.callingConvention=0}static clone(e){var t=new g(e.exprKind,e.args?e.args.slice(0):null,e.data);return e.jsInfo&&(t.jsInfo=e.jsInfo),e.totalUses&&(t.totalUses=e.totalUses,t.currUses=e.currUses),t.callingConvention=e.callingConvention,t.mask=e.mask,t.isStringLiteral=e.isStringLiteral,t}reset(){this.currUses=0,this.prevTotalUses&&(this.totalUses=this.prevTotalUses)}ptrlabel(){return this.jsInfo instanceof h?this.jsInfo:null}hexlit(){var e=this.jsInfo;return null!=e.hexlit?e.hexlit:null}isExpr(){return!0}isPure(){return this.isStateless()||this.exprKind==p.CellRef}isLiteral(){switch(this.exprKind){case p.NumberLiteral:case p.PointerLiteral:return!0;default:return!1}}isStateless(){switch(this.exprKind){case p.NumberLiteral:case p.PointerLiteral:case p.SharedRef:return!0;default:return!1}}sharingInfo(){let e=this,t=this.getId();return this.exprKind!=p.SharedRef&&this.exprKind!=p.SharedDef||((e=this.args[0])?t=e.getId():e={currUses:"",totalUses:""}),`${e.currUses}/${e.totalUses} #`+t}toString(){return n(this)}canUpdateCells(){switch(this.exprKind){case p.NumberLiteral:case p.PointerLiteral:case p.CellRef:case p.JmpValue:case p.SharedRef:case p.Nop:return!1;case p.SharedDef:case p.FieldAccess:case p.InstanceOf:return this.args[0].canUpdateCells();case p.RuntimeCall:case p.ProcCall:case p.Sequence:case p.Store:return!0;default:throw f.oops()}}}_.Expr=g;let i;(t=i=_.SK||(_.SK={}))[t.None=0]="None",t[t.Expr=1]="Expr",t[t.Label=2]="Label",t[t.Jmp=3]="Jmp",t[t.StackEmpty=4]="StackEmpty",t[t.Breakpoint=5]="Breakpoint",t[t.Comment=6]="Comment";let a;(t=a=_.JmpMode||(_.JmpMode={}))[t.Always=1]="Always",t[t.IfZero=2]="IfZero",t[t.IfNotZero=3]="IfNotZero",_.lblNumUsesJmpNext=-101;class h extends m{constructor(e,t){super(),this.stmtKind=e,this.expr=t}isStmt(){return!0}toString(){return n(this)}}function n(e){return function i(e){if(e.isExpr()){let r=e,n=r.args?r.args[0]:null;switch(r.exprKind){case p.NumberLiteral:case p.PointerLiteral:return r.data+"";case p.CellRef:return r.data.toString();case p.JmpValue:return"JMPVALUE";case p.Nop:return"NOP";case p.SharedRef:return`SHARED_REF(#${n.getId()})`;case p.SharedDef:return`SHARED_DEF(#${n.getId()} u(${n.totalUses}): ${i(n)})`;case p.FieldAccess:return i(n)+"."+r.data.name;case p.RuntimeCall:return r.data+"("+r.args.map(i).join(", ")+")";case p.ProcCall:let e=r.data,t="";return(t=null!=e.ifaceIndex?"IFACE@"+e.ifaceIndex:null!=e.virtualIndex?"VTABLE@"+e.virtualIndex:f.getDeclName(e.proc.action))+"("+r.args.map(i).join(", ")+")";case p.Sequence:return"("+r.args.map(i).join("; ")+")";case p.InstanceOf:return"("+i(r.args[0])+" instanceof "+r.data.id+")";case p.Store:return`{ ${i(r.args[0])} := ${i(r.args[1])} }`;default:throw f.oops()}}else{let t=e,r=t.expr?i(t.expr):"{null}";switch(t.stmtKind){case _.SK.Expr:return"    "+r+"\n";case _.SK.Jmp:let e=`goto ${t.lblName}
`;switch(t.jmpMode){case a.Always:return t.expr?`    { JMPVALUE := ${r} } `+e:"    "+e;case a.IfZero:return`    if (! ${r}) `+e;case a.IfNotZero:return`    if (${r}) `+e;default:throw f.oops()}case _.SK.StackEmpty:return"    ;\n";case _.SK.Breakpoint:return"    // brk "+t.breakpointInfo.id+"\n";case _.SK.Comment:return"    // "+t.expr.data+"\n";case _.SK.Label:return t.lblName+":\n";default:throw f.oops()}}}(e)}_.Stmt=h;class y{constructor(e,t,r){this.index=e,this.def=t,this.info=r,this.isarg=!1,this.iscap=!1,this._isLocal=!1,this._isGlobal=!1,this._debugType="?",this.isUserVariable=!1,this.bitSize=0,t&&(f.isInPxtModules(t)||(this.isUserVariable=!0),r)&&f.setCellProps(this)}getName(){return f.getDeclName(this.def)}getDebugInfo(){return{name:this.getName(),type:this._debugType,index:this.index}}toString(){let e="";return this.def&&(e+=this.getName()||"?"),"["+(e=this.isarg?"ARG "+e:e)+"]"}uniqueName(){return this.isarg?"arg"+this.index:this.getName().replace(/[^\w]/g,"_")+"___"+f.getNodeId(this.def)}isLocal(){return this._isLocal}isGlobal(){return this._isGlobal}loadCore(){return o(p.CellRef,null,this)}load(){var e=this.loadCore();return f.target.isNative&&!f.isStackMachine()&&0!=this.bitSize?6==this.bitSize?l("pxt::fromUInt",[e]):l("pxt::fromInt",[e]):this.isByRefLocal()?l("pxtrt::ldlocRef",[e]):e}isByRefLocal(){return this.isLocal()&&this.info.captured&&this.info.written}storeDirect(e){return o(p.Store,[this.loadCore(),e])}storeByRef(e){var t;return this.isByRefLocal()?l("pxtrt::stlocRef",[this.loadCore(),e]):f.target.isNative&&!f.isStackMachine()&&0!=this.bitSize?(t=6==this.bitSize?"pxt::toUInt":"pxt::toInt",this.storeDirect(l(t,[e],1))):this.storeDirect(e)}get isTemporary(){return!1}}_.Cell=y;class v extends y{constructor(e,t){super(e,null,null),this.index=e,this.owningProc=t,this.uid=v.unnamedCellCounter++}getName(){return"unnamed"+this.uid}uniqueName(){return this.getName()+"___U"+this.index}isByRefLocal(){return!1}get isTemporary(){return!0}}v.unnamedCellCounter=0,_.UnnamedCell=v;class b extends m{constructor(){super(...arguments),this.numArgs=0,this.info=null,this.seqNo=-1,this.isRoot=!1,this.locals=[],this.captured=[],this.args=[],this.parent=null,this.debugInfo=null,this.fillDebugInfo=null,this.classInfo=null,this.perfCounterName=null,this.perfCounterNo=0,this.body=[],this.lblNo=0,this.action=null,this.cachedJS=null,this.usingCtx=null}reset(){this.body=[],this.lblNo=0,this.locals=[],this.captured=[],this.args=[]}isGetter(){return this.action&&this.action.kind==r.SyntaxKind.GetAccessor}vtLabel(){return this.label()+(f.isStackMachine()?"":"_args")}label(){return f.getFunctionLabel(this.action)}toString(){return`
PROC ${f.getDeclName(this.action)}
${this.body.map(e=>e.toString()).join("")}
`}emit(e){this.body.push(e)}emitExpr(e){this.emit(s(i.Expr,e))}mkLabel(e){var t=s(i.Label,null);return t.lblName="."+e+"_"+this.lblNo+++"_"+this.seqNo,t.lbl=t}emitLbl(e){this.emit(e)}emitLblDirect(e){var t=s(i.Label,null);t.lblName=e,this.emit(t.lbl=t)}getFullName(){let e=f.getDeclName(this.action);var t;return this.action&&(t=r.pxtc.nodeLocationInfo(this.action),e=t.fileName.replace("pxt_modules/","")+"("+(t.line+1)+","+(t.column+1)+"): "+e),e}getName(){return(this.action&&this.action.name?this.action.name.text:null)||"inline"}mkLocal(e,t){e=new y(this.locals.length,e,t);return this.locals.push(e),e}mkLocalUnnamed(){var e=new v(this.locals.length,this);return this.locals.push(e),e}localIndex(t,e=!1){return this.captured.filter(e=>e.def==t)[0]||this.locals.filter(e=>e.def==t)[0]||(e?null:this.args.filter(e=>e.def==t)[0])}stackEmpty(){this.emit(s(i.StackEmpty,null))}emitJmpZ(e,t){this.emitJmp(e,t,a.IfZero)}emitJmp(e,t,r=a.Always,n=null){t=s(i.Jmp,t);t.jmpMode=r,n&&n.exprKind==p.NumberLiteral&&(n=null),t.terminateExpr=n,"string"==typeof e?t.lblName=e:(t.lbl=e,t.lblName=t.lbl.lblName),this.emit(t)}inlineSelf(e){let{precomp:t,flattened:r}=u(e,!1,!0);d.assert(r.length==this.args.length),this.args.map((e,t)=>{e.repl=r[t],e.replUses=0});e=function t(r,e){switch((r=g.clone(r)).exprKind){case p.PointerLiteral:case p.NumberLiteral:return r;case p.RuntimeCall:for(let e=0;e<r.args.length;++e)r.args[e]=t(r.args[e],!0);return r;case p.CellRef:var n=r.data;return n.repl?n.repl.exprKind===p.CellRef&&e?g.clone(n.repl):(n.replUses++,n.repl):r;case p.FieldAccess:return r.args[0]=t(r.args[0]),r;default:throw d.oops()}}(this.inlineBody);return this.args.forEach((e,t)=>{e.repl.exprKind==p.SharedRef&&(e.repl.args[0].prevTotalUses||(e.repl.args[0].prevTotalUses=e.repl.args[0].totalUses),e.repl.args[0].totalUses+=e.replUses-1),e.repl=null,e.replUses=0}),t.length?(t.push(e),o(p.Sequence,t)):e}resolve(){let n=(t,r)=>{if(t.args)for(let e=0;e<t.args.length;++e)t.args[e]=r(t.args[e])},r=e=>{switch(e.exprKind){case p.SharedDef:throw d.oops();case p.SharedRef:var t=e.args[0];return t.totalUses?(t.totalUses--,e):(t.totalUses=-1,t.currUses=0,t.irCurrUses=0,(t=g.clone(e)).exprKind=p.SharedDef,t.args[0]=r(t.args[0]),t)}return n(e,r),e},t=r=>(r.exprKind!=p.SharedRef&&(n(r,t),r.exprKind===p.Sequence)&&(r.args=r.args.filter((e,t)=>t==r.args.length-1||!e.isPure()||(e.exprKind==p.SharedRef&&0<e.args[0].totalUses&&e.args[0].totalUses--,!1))),r),i=e=>{switch(e.exprKind){case p.SharedDef:var t=e.args[0];if(d.assert(t.totalUses<0,"arg.totalUses < 0"),d.assert(0===t.currUses,"arg.currUses === 0"),-1==t.totalUses)return i(t);t.totalUses=1;break;case p.SharedRef:return d.assert(0<e.args[0].totalUses,"e.args[0].totalUses > 0"),e.args[0].totalUses++,e;case p.PointerLiteral:t=e.ptrlabel();t&&(t.lblNumUses||(t.lblNumUses=0),t.lblNumUses++)}return n(e,i),e},a=e=>{switch(e.exprKind){case p.SharedDef:n(e,a);case p.SharedRef:var t=e.args[0];return(d.assert(0<t.totalUses,"arg.totalUses > 0"),1==t.totalUses)?(d.assert(e.exprKind==p.SharedDef),t):(t.irCurrUses++,e);default:return n(e,a),e}};this.body=this.body.filter(e=>!e.expr||(e.expr=t(r(e.expr)),e.stmtKind!=_.SK.Expr)||!e.expr.isPure());var e,s=d.toDictionary(this.body.filter(e=>e.stmtKind==_.SK.Label),e=>e.lblName);for(let e=0;e<this.body.length;++e)this.body[e].stmtNo=e;for(e of this.body)switch(e.expr&&(e.expr=i(e.expr)),e.stmtKind){case _.SK.Expr:break;case _.SK.Jmp:e.lbl=d.lookup(s,e.lblName),e.lbl||f.oops("missing label: "+e.lblName),e.lbl.lblNumUses?e.lbl.lblNumUses++:e.lbl.lblNumUses=1;break;case _.SK.StackEmpty:case _.SK.Label:case _.SK.Breakpoint:case _.SK.Comment:break;default:f.oops()}var o;let c=null,l=!f.target.debugMode,u=null;for(o of this.body)o.expr&&(o.expr=t(a(o.expr))),c&&c.lbl==o&&c.stmtKind==_.SK.Jmp&&o.stmtKind==_.SK.Label&&c.jmpMode==_.JmpMode.Always&&1==o.lblNumUses&&(o.lblNumUses=_.lblNumUsesJmpNext),(c=o).stmtKind==_.SK.Breakpoint?(o.breakpointInfo.id,o.breakpointInfo):l&&(o.stmtKind==_.SK.Jmp?o.expr&&(u?l=!1:u=o.expr):o.stmtKind==_.SK.StackEmpty||o.stmtKind==_.SK.Label&&o.lblNumUses==_.lblNumUsesJmpNext||(l=!1));l&&u&&function r(n){var e=()=>{if(!n.args)return 0;let e=0;for(var t of n.args)e+=r(t);return n.mask&&n.mask.conversions&&(e+=4*n.mask.conversions.length),e};switch(n.exprKind){case p.NumberLiteral:return 2;case p.PointerLiteral:return 6;case p.RuntimeCall:return e()+2+2+4;case p.CellRef:return 2;case p.FieldAccess:return e()+(n.data.needsCheck?4:0)+2;case p.ProcCall:case p.SharedRef:case p.SharedDef:case p.Store:case p.Sequence:case p.JmpValue:case p.Nop:case p.InstanceOf:return 1e6;default:throw d.oops()}}(u)<=4*this.args.length+4+2+(f.target.isNative?4:30)&&(this.inlineBody=u),pxt.options.debug&&pxt.debug(this.toString())}}function s(e,t){return new h(e,t)}function o(e,t,r){return new g(e,t,r)}function c(e,t){e=o(p.PointerLiteral,null,e);return e.jsInfo=t,e}function l(e,t,r=0){t=o(p.RuntimeCall,t,e);return r&&(t.mask={refMask:r}),t}function u(e,t=!1,r=!1){let n=!!t&&e.some(e=>e.canUpdateCells()),i=[];for(var a of d.reversed(e))a.isStateless()||a.exprKind==p.CellRef&&!n||(a.canUpdateCells()&&(n=!0),i.push(a));i.reverse(),f.isStackMachine()&&!r&&(i=[]);let s=[];t=e.map(r=>{if(0<=i.indexOf(r)){let e=r,t=r;return r.exprKind==p.SharedDef?(r.args[0].totalUses++,e=_.op(p.SharedRef,[r.args[0]])):(e=_.op(p.SharedRef,[r]),t=_.op(p.SharedDef,[r]),r.totalUses=2,r.currUses=0),s.push(t),e}return r});return{precomp:s,flattened:t}}_.Procedure=b,_.iterExpr=function e(t,r){if(r(t),t.args)for(var n of t.args)e(n,r)},_.stmt=s,_.comment=function(e){return s(i.Comment,c(e,e))},_.op=o,_.numlit=function(e){return o(p.NumberLiteral,null,e)},_.shared=function(e){switch(e.exprKind){case p.SharedRef:e=e.args[0];break;case p.NumberLiteral:return e}return o(p.SharedRef,[e])},_.ptrlit=c,_.rtcall=l,_.rtcallMask=function(e,t,r,n){return d.startsWith(e,"@nomask@")&&(e=e.slice(8),t=0),(e=l(e,n,t)).callingConvention=r,e},_.flattenArgs=u}})(ts=ts||{}),(Ut=>{var e;{var Bt=Ut.pxtc||(Ut.pxtc={});class a{constructor(e,t){this.wave=e,this.id=t,this.flags=0,this.resetAll()}refresh(){this.flags&=-9,this.proc&&!this.usedActions&&!Zt(this.proc.action)||this.proc&&!this.proc.cachedJS?this.resetEmit():this.usedNodes&&(this.flags|=32),this.classInfo&&this.classInfo.reset()}resetEmit(){this.flags&=-41,this.proc&&this.proc.classInfo&&this.proc.classInfo.ctor==this.proc&&(this.proc.classInfo.ctor=null),this.functionInfo=null,this.variableInfo=null,this.classInfo=null,this.callInfo=null,this.proc=null,this.cell=null,this.exprInfo=null,this.usedNodes=null,this.usedActions=null}resetTSC(){this.flags&=16,this.typeCache=null,this.symbolCache=null,this.commentAttrs=null,this.valueOverride=null,this.declCache=void 0,this.fullName=null,this.constantFolded=void 0}resetAll(){this.resetTSC(),this.resetEmit()}}Bt.PxtNode=a;let n,wt=((e=n=n||{})[e.Enum=0]="Enum",e[e.Number=1]="Number",e[e.String=2]="String",e[e.Boolean=3]="Boolean",e[e.Unsupported=4]="Unsupported",Bt.taggedUndefined=0,Bt.taggedNull=6,Bt.taggedFalse=10,Bt.taggedNaN=14,Bt.taggedTrue=66,Bt.thumbArithmeticInstr={adds:!0,subs:!0,muls:!0,ands:!0,orrs:!0,eors:!0,lsls:!0,asrs:!0,lsrs:!0},Bt.numberArithmeticInstr={div:!0,mod:!0,le:!0,lt:!0,ge:!0,gt:!0,eq:!0,neq:!0},{"Array_::getAt":{name:"_pxt_array_get",argsFmt:["T","T","T"],value:0},"Array_::setAt":{name:"_pxt_array_set",argsFmt:["T","T","T","T"],value:0},"BufferMethods::getByte":{name:"_pxt_buffer_get",argsFmt:["T","T","T"],value:0},"BufferMethods::setByte":{name:"_pxt_buffer_set",argsFmt:["T","T","T","I"],value:0},"pxtrt::mapGetGeneric":{name:"_pxt_map_get",argsFmt:["T","T","S"],value:0},"pxtrt::mapSetGeneric":{name:"_pxt_map_set",argsFmt:["T","T","S","T"],value:0}}),Nt=Bt.ir.EK,r=(Bt.SK=Ut.SyntaxKind,0),It=Bt.numReservedGlobals=1;function jt(e){return e.pxt?!!(16&e.pxt.flags):!!(e=Ut.getSourceFileOfNode(e))&&Bt.isPxtModulesFilename(e.fileName)}function Kt(e){var t;return e.pxt?((t=e.pxt).wave!=It&&(t.wave=It,Bt.compileOptions&&Bt.compileOptions.skipPxtModulesTSC&&16&t.flags?Bt.compileOptions.skipPxtModulesEmit?t.refresh():t.resetEmit():t.resetAll()),t):(t=new a(It,++r),jt(e)&&(t.flags|=16),e.pxt=t)}function zt(e){return Kt(e).id}function $t(e){return e?Ut.SyntaxKind[e.kind]:"<null>"}function Jt(e,t,r=!1){var n=new Error(t);if(n.ksEmitterUserError=!0,n.ksErrorCode=e,r&&Mt)return Lt||(Lt=t,Rt=e),n;throw n}function qt(){return Bt.target.isNative&&Bt.target.nativeType==Bt.NATIVE_TYPE_VM}function Vt(){return Bt.target.isNative&&Bt.target.nativeType!=Bt.NATIVE_TYPE_VM}function Ht(){return Bt.target.isNative&&Bt.target.nativeType==Bt.NATIVE_TYPE_THUMB}function gr(e){return Vt()?Bt.ir.rtcall("pxt::fromInt",[e]):e}function hr(e){return Vt()?Bt.ir.rtcall("pxt::fromBool",[e]):e}function Gt(e){switch(e){case 0:return Bt.target.shortPointers?2:4;case 1:return 1;case 3:return 2;case 5:return 4;case 2:return 1;case 4:return 2;case 6:return 4;default:throw Bt.oops()}}function s(e){switch(e){case 1:case 3:case 5:return!0;case 2:case 4:case 6:return!1;default:throw Bt.oops()}}function Wt(e){switch(e.kind){case Bt.SK.TemplateHead:case Bt.SK.TemplateMiddle:case Bt.SK.TemplateTail:case Bt.SK.StringLiteral:case Bt.SK.NoSubstitutionTemplateLiteral:return!0;default:return!1}}function Qt(e){return e&&e.modifiers&&e.modifiers.some(e=>e.kind==Bt.SK.StaticKeyword)}function yr(e){return e.modifiers&&e.modifiers.some(e=>e.kind==Bt.SK.ReadonlyKeyword)}function vr(e,t){return!e.explicitDefaults||e.explicitDefaults.indexOf(t)<0?null:e.paramDefl[t]}function o(e){if(!e)return null;switch(e.kind){case Bt.SK.MethodDeclaration:return"";case Bt.SK.Constructor:return"new/";case Bt.SK.GetAccessor:return"get/";case Bt.SK.SetAccessor:return"set/";default:return null}}function Yt(e){return o(e)+ar(e)}function Xt(e){return null!=o(e)}function Zt(e){let t=e,r=!1;for(;;)switch((t=t.parent)||Jt(9229,Pt("cannot determine parent of {0}",$t(e))),t.kind){case Bt.SK.MethodDeclaration:case Bt.SK.Constructor:case Bt.SK.GetAccessor:case Bt.SK.SetAccessor:case Bt.SK.FunctionDeclaration:case Bt.SK.ArrowFunction:case Bt.SK.FunctionExpression:return t;case Bt.SK.WhileStatement:case Bt.SK.DoStatement:case Bt.SK.ForInStatement:case Bt.SK.ForOfStatement:case Bt.SK.ForStatement:r=!0;break;case Bt.SK.SourceFile:return r?Ft:null}}function t(e){return"objectFlags"in e}function er(e){return!!e&&(e.kind==Bt.SK.VariableDeclaration||e.kind==Bt.SK.BindingElement&&er(e.parent.parent))}function tr(e){return!!e&&(er(e)&&!Zt(e)||e.kind==Bt.SK.PropertyDeclaration&&Qt(e))}function rr(e){return!!e&&(e.kind==Bt.SK.Parameter||e.kind==Bt.SK.BindingElement&&rr(e.parent.parent))}Bt.isInPxtModules=jt,Bt.pxtInfo=Kt,Bt.getNodeId=zt,Bt.stringKind=$t,Bt.isStackMachine=qt,Bt.needsNumberConversions=Vt,Bt.isThumb=Ht,Bt.sizeOfBitSize=Gt,Bt.isBitSizeSigned=s,Bt.setCellProps=function(e){var t;e._isLocal=er(t=e.def)&&!tr(t)||rr(e.def),e._isGlobal=tr(e.def),e.def.isThisParameter||((t=lr(e.def)).flags&Ut.TypeFlags.Void&&Bt.oops("void-typed variable, "+e.toString()),e.bitSize=(e=>{if(!e||!e.type)return 0;if(!Er(lr(e)))return 0;if(e.type.kind!=Bt.SK.TypeReference)return 0;switch(e.type.typeName.getText()){case"int8":return 1;case"int16":return 3;case"int32":return 5;case"uint8":return 2;case"uint16":return 4;case"uint32":return 6;default:return 0}})(e.def),0!=e.bitSize?e._debugType=(s(e.bitSize)?"int":"uint")+8*Gt(e.bitSize):pr(t)?e._debugType="string":t.flags&Ut.TypeFlags.NumberLike&&(e._debugType="number")),e.isLocal()&&0!=e.bitSize&&(e.bitSize=0,Jt(9256,Pt("bit sizes are not supported for locals and parameters")))},Bt.isStatic=Qt,Bt.isReadOnly=yr,Bt.getExplicitDefault=vr,Bt.isObjectType=t;class Dr{constructor(e,t){this.id=e,this.decl=t,this.baseClassInfo=null,this.allfields=[],this.methods={},this.attrs=ir(t),this.reset()}reset(){this.vtable=null,this.itable=null}get isUsed(){return!!(8&Kt(this.decl).flags)}allMethods(){var e,t=[];for(e of Object.keys(this.methods))for(var r of this.methods[e])t.push(r);return t}usedMethods(){var e,t=[];for(e of Object.keys(this.methods))for(var r of this.methods[e])8&Kt(r).flags&&t.push(r);return t}}Bt.ClassInfo=Dr;let Pt=Bt.assembler.lf,Ot,Ft,Lt,Rt=0,Mt=0;function nr(e,t){var r=Kt(t);return null==r.fullName&&(r.fullName=Bt.getFullName(e,t.symbol)),r.fullName}function i(e){var t=e=>{let t=Ut.getSourceFileOfNode(e);return t&&(e=Ut.getLeadingCommentRangesOfNode(e,t))?e.map(e=>t.text.slice(e.pos,e.end)).join("\n"):""};return(e=e.kind==Bt.SK.VariableDeclaration?e.parent.parent:e).symbol&&e.symbol.declarations&&1<e.symbol.declarations.length?e.symbol.declarations.map(t).join("\n"):t(e)}function br(e){let t="";for(var r of e.declarations)t+=i(r);return Bt.parseCommentString(t)}function ir(e){var t,r=e?Kt(e):null;return!r||2&r.flags?Bt.parseCommentString(""):r.commentAttrs||((t=Bt.parseCommentString(i(e)))._name=ar(e),r.commentAttrs=t)}function ar(e){return e.name&&e.name.kind==Bt.SK.Identifier?e.name.text:"???"}function c(e){if(t(e)&&e.objectFlags&Ut.ObjectFlags.Reference&&(e.typeArguments&&e.typeArguments.length))return e.target;return null}function sr(e){return t(e)&&e.objectFlags&Ut.ObjectFlags.Reference&&e.symbol&&"Array"==e.symbol.name}function xr(e){return!!(t(e)&&(e.objectFlags&Ut.ObjectFlags.Interface||e.objectFlags&Ut.ObjectFlags.Anonymous))}function or(e){return!!e.isThisType||!!t(e)&&!!(e.objectFlags&Ut.ObjectFlags.Class||e.symbol&&e.symbol.flags&Ut.SymbolFlags.Class)}function cr(e){var t=c(e);return or(t||e)}function kr(e){return sr(e)?e.typeArguments[0]:Ot.getIndexTypeOfType(e,Ut.IndexKind.Number)}function l(e){return e}function Sr(e){return null===e?Bt.taggedNull:void 0===e?Bt.taggedUndefined:!1===e?Bt.taggedFalse:!0===e?Bt.taggedTrue:isNaN(e)?Bt.taggedNaN:null}function lr(e){let t;var r=Kt(e);if(r.typeCache)return r.typeCache;if(!(t=Ut.isExpression(e)?Ot.getContextualType(e):t))try{t=Ot.getTypeAtLocation(e)}catch(e){Jt(9203,Pt("Unknown type for expression"))}return t&&(r.typeCache=t),t}function u(e){if(!(e.flags&Ut.TypeFlags.Union))return n.Unsupported;let t=!0,r;return e.types.forEach(e=>{if(void 0===r)e.flags&Ut.TypeFlags.NumberLike?r=n.Number:e.flags&Ut.TypeFlags.BooleanLike?r=n.Boolean:e.flags&Ut.TypeFlags.StringLike?r=n.String:e.flags&Ut.TypeFlags.EnumLike&&(r=n.Enum);else switch(r){case n.Number:t=t&&!!(e.flags&Ut.TypeFlags.NumberLike);break;case n.Boolean:t=t&&!!(e.flags&Ut.TypeFlags.BooleanLike);break;case n.String:t=t&&!!(e.flags&Ut.TypeFlags.StringLike);break;case n.Enum:t=t&&!!(e.flags&Ut.TypeFlags.EnumLike)}}),t?r:n.Unsupported}function ur(e){e=Ot.getSignatureFromDeclaration(e);return!(Ot.getReturnTypeOfSignature(e).flags&Ut.TypeFlags.Void)}function d(e){return e&&e.name}function dr(t){let e=d(t)?t.name.text:null;if(!e){if(t.kind!=Bt.SK.Constructor){for(let e=t.parent;e;e=e.parent)if(d(e))return dr(e)+".inline";return"inline"}e="constructor"}return function e(t){if(!t)return"";switch(t.kind){case Bt.SK.ModuleBlock:return e(t.parent);case Bt.SK.ClassDeclaration:case Bt.SK.ModuleDeclaration:return e(t.parent)+t.name.text+".";default:return""}}(t.parent)+e}function Tr(e){return dr(e).replace(/[^\w]+/g,"_")}function Cr(e){return Tr(e)+"__P"+zt(e)}Bt.getNodeFullName=nr,Bt.getComments=i,Bt.parseCommentsOnSymbol=br,Bt.parseComments=ir,Bt.getName=ar,Bt.checkType=l,Bt.taggedSpecial=Sr,Bt.getDeclName=dr,Bt.getFunctionLabel=Cr;class Ar{constructor(e){this.decl=e,this.capturedVars=[]}get isUsed(){return!!(8&Kt(this.decl).flags)}}function p(e,t,r){return!!(e.flags&t)||u(e)===r}function pr(e){return p(e,Ut.TypeFlags.String|Ut.TypeFlags.StringLiteral,n.String)}function Er(e){return p(e,Ut.TypeFlags.Number|Ut.TypeFlags.NumberLiteral,n.Number)}Bt.FunctionAddInfo=Ar,Bt.compileBinary=function(r,p,y,t){Bt.compilerHooks.preBinary&&Bt.compilerHooks.preBinary(r,p,y),Bt.target=p.target,Bt.compileOptions=p,Bt.target.debugMode=!!p.breakpoints;let o=Ut.createDiagnosticCollection();Ot=r.getTypeChecker();var l,u=Bt.U.cpuUs();let h=[],n=[],K={},s={},z=null,v=null,b=!1,d=[];if(It++,p.target.isNative){if(!p.extinfo||!p.extinfo.hexinfo)return{diagnostics:[{file:r.getSourceFiles()[0],start:0,length:0,category:Bt.DiagnosticCategory.Error,code:9043,messageText:Pt("The hex file is not available, please connect to internet and try again.")}],emittedFiles:[],emitSkipped:!0};let e=p.extinfo,t=p.target;e&&e.disabledDeps&&(i=(p.otherMultiVariants||[]).find(e=>e.extinfo&&!e.extinfo.disabledDeps))&&(pxt.debug(`using alternative extinfo (due to ${e.disabledDeps})`),e=i.extinfo,t=i.target),Bt.hexfile.setupFor(t,e||Bt.emptyExtInfo(),y),Bt.hexfile.setupInlineAssembly(p)}let x=new wr,k;function $(){x.reset(),k=null,y.breakpoints=[{id:0,isDebuggerStmt:!1,fileName:"bogus",start:0,length:0,line:0,column:0}],y.procCallLocations=[]}x.trace=p.trace,x.breakpoints=p.breakpoints,x.name=p.name,x.target=p.target,p.computeUsedSymbols&&(y.usedSymbols={},y.usedArguments={}),p.computeUsedParts&&(y.usedParts=[]);let J=[];if(!p.forceEmit||0==y.diagnostics.length){let e=r.getSourceFiles().slice();var i=e.find(e=>e.fileName===pxt.MAIN_TS),i=(i&&(e=e.filter(e=>e.fileName!==pxt.MAIN_TS)).push(i),e.find(e=>e.fileName===pxt.TUTORIAL_CODE_STOP));i&&(e=e.filter(e=>e.fileName!==pxt.TUTORIAL_CODE_STOP)).push(i),e.forEach(e=>{e.statements.forEach(e=>{J.push(e)})})}i=r.getSourceFiles().filter(e=>Bt.Util.endsWith(e.fileName,t))[0];let e={kind:Bt.SK.FunctionDeclaration,parameters:[],name:{text:"<main>",pos:0,end:0},body:{kind:Bt.SK.Block,statements:J},parent:i,pos:0,end:0},q=Kt(Ft=e);for(q.flags|=3,c(e),h=[],$(),b=!0,Et(e);;){for(k=I(e);0<h.length;)Et(h.pop());if((()=>{b=!1;var e,t=x.usedClassInfos.length;for(e of x.usedClassInfos){for(var r of e.allMethods()){var n=Kt(r),i=T(r);8&n.flags?i.virtualParent&&w(i.virtualParent.decl):(i.virtualParent&&i.virtualParent.isUsed||ue(r)||(e=>null!=Bt.U.lookup(x.explicitlyUsedIfaceMembers,e))(ar(r)))&&w(r)}e=Oe(e.decl);e&&w(e)}return b=!0,0==h.length&&t==x.usedClassInfos.length})())break}{(i=x.globals.slice(0)).forEach((e,t)=>e.index=t);let r=e=>0==e?10:Gt(e),e=(i.sort((e,t)=>r(e.bitSize)-r(t.bitSize)||e.index-t.index),4*Bt.numReservedGlobals),t=0;for(l of i){for(var V=qt()?0:l.bitSize,H=Gt(V);e&H-1;)e++;t||0!=V||(t=e),l.index=e,e+=H}x.globalsWords=e+3>>2,x.nonPtrGlobals=t?t>>2:x.globalsWords}b=!1;{for(var G of x.usedClassInfos)!function e(a){Bt.assert(a.isUsed,"inf.isUsed");if(a.vtable)return a.vtable;let s=a.baseClassInfo?e(a.baseClassInfo).slice(0):[];a.derivedClasses=[];a.baseClassInfo&&a.baseClassInfo.derivedClasses.push(a);for(var o of a.usedMethods()){x.numMethods++;let i=T(o),e=ir(o);if(ue(o)&&!e.shim&&(a.toStringMethod=I(o),a.toStringMethod.info.usedAsIface=!0),i.virtualParent){x.numVirtMethods++;let t=Yt(o),r=!1,n=I(o);Bt.U.assert(!!n);for(let e=0;e<s.length;++e)Yt(s[e].action)==t&&(s[e]=n,i.virtualIndex=e,r=!0);r||(i.virtualIndex=s.length,s.push(n))}}a.vtable=s;a.itable=[];let r={};for(var n of a.allfields){let e=ar(n),t=Ge(a,n,!1);r[e]=!0,a.itable.push({name:e,info:(t.idx+1)*(qt()?1:4),idx:E(e),proc:null})}for(let e=a;e;e=e.baseClassInfo)for(var c of e.usedMethods()){let i=ar(c),e=ir(c);if(!e.shim){let e=I(c),t=a.itable.find(e=>e.name==i),r=c.kind==Bt.SK.SetAccessor,n=c.kind==Bt.SK.GetAccessor;t?(r&&!t.setProc?t.setProc=e:n&&!t.proc&&(t.proc=e),t.info=0):a.itable.push({name:i,info:0,idx:E(i),proc:r?null:e,setProc:r?e:null}),e.info.usedAsIface=!0}}return a.vtable}(G);let e=Object.keys(x.ifaceMemberMap),t=(e.sort(Bt.U.strcmp),e.unshift(""),x.emitString(""),x.ifaceMembers=e,x.ifaceMemberMap={},0);for(var W of e)x.ifaceMemberMap[W]=t++;for(var Q of x.usedClassInfos)for(var Y of Q.itable)Y.idx=E(Y.name);for(var X of x.usedClassInfos)X.lastSubtypeNo=void 0,X.classNo=void 0;let r=pxt.BuiltInType.User0,n=e=>{Bt.U.assert(!e.classNo),e.classNo=r++;for(var t of e.derivedClasses)t.isUsed&&n(t);e.lastSubtypeNo=r-1};for(var Z of x.usedClassInfos){let e=Z;for(;e.baseClassInfo;)e=e.baseClassInfo;e.classNo||n(e)}}var ee,te=Bt.U.cpuUs();y.times.pass0=te-u;let re=o.getDiagnostics();$(),b=!1,x.finalPass=!0,j(e),Bt.U.assert(0==h.length),y.configData=[];for(ee of Object.keys(s))s["!"+ee]||y.configData.push({name:ee.replace(/^\!/,""),key:s[ee].key,value:s[ee].value});return y.configData.sort((e,t)=>e.key-t.key),u=Bt.U.cpuUs(),y.times.pass1=u-te,Tt(e,function(){if(!p.noEmit){x.writeFile=(e,t)=>{y.outfiles[e]=t};for(var e of x.procs)e.cachedJS&&!e.inlineBody||e.resolve();Bt.target.isNative&&(x.procs=x.procs.filter(e=>!(e.inlineBody&&!e.info.usedAsIface&&!e.info.usedAsValue))),p.target.isNative?([...p.otherMultiVariants||[],p].forEach(({extinfo:e})=>{e.yotta&&x.writeFile("yotta.json",JSON.stringify(e.yotta,null,2)),e.codal&&x.writeFile("codal.json",JSON.stringify(e.codal,null,2)),e.platformio&&x.writeFile("platformio.json",JSON.stringify(e.platformio,null,2))}),p.target.nativeType==Bt.NATIVE_TYPE_VM?Bt.vmEmit(x,p,y):Bt.processorEmit(x,p,y)):Bt.jsEmit(x,y),x.writeFile=void 0}}),y.times.passFinal=Bt.U.cpuUs()-u,p.ast&&(te=Bt.U.cpuUs(),Bt.annotate(r,t,Bt.target),y.times.passAnnotate=Bt.U.cpuUs()-te),Bt.compileOptions=null,0==re.length&&(re=o.getDiagnostics()),Bt.compilerHooks.postBinary&&Bt.compilerHooks.postBinary(r,p,y),{diagnostics:re,emittedFiles:void 0,emitSkipped:!!p.noEmit};function ne(e,t,r,n,i,a,s){o.add(Ut.createDiagnosticForNode(t,{code:r,message:n,key:n.replace(/^[a-zA-Z]+/g,"_"),category:e},i,a,s))}function ie(e,t,r,n,i,a){ne(Bt.DiagnosticCategory.Error,e,t,r,n,i,a)}function S(e,t,r=9202){if(t)return Jt(r,t);e||Jt(r,Pt("Sorry, this language feature is not supported"));let n=$t(e),i=!1,a=null;switch(e.kind){case Ut.SyntaxKind.ForInStatement:n=Pt("for in loops");break;case Ut.SyntaxKind.ForOfStatement:n=Pt("for of loops"),i=!0;break;case Ut.SyntaxKind.PropertyAccessExpression:n=Pt("property access");break;case Ut.SyntaxKind.DeleteExpression:n=Pt("delete");break;case Ut.SyntaxKind.GetAccessor:n=Pt("get accessor method"),i=!0;break;case Ut.SyntaxKind.SetAccessor:n=Pt("set accessor method"),i=!0;break;case Ut.SyntaxKind.TaggedTemplateExpression:n=Pt("tagged templates");break;case Ut.SyntaxKind.SpreadElement:n=Pt("spread");break;case Ut.SyntaxKind.TryStatement:case Ut.SyntaxKind.CatchClause:case Ut.SyntaxKind.FinallyKeyword:case Ut.SyntaxKind.ThrowStatement:n=Pt("throwing and catching exceptions");break;case Ut.SyntaxKind.ClassExpression:n=Pt("class expressions"),a=Pt("declare a class as class C {} not let C = class {}")}let s="";return s=i?Pt("{0} not currently supported",n):Pt("{0} not supported",Ut.SyntaxKind[e.kind]),a&&(s+=" - "+a),Jt(r,s)}function ae(e){return zt(e)+""}function T(e){var t=Kt(e);return t.functionInfo||(t.functionInfo=new Ar(e)),t.functionInfo}function C(e){e=Kt(e);return e.variableInfo||(e.variableInfo={}),e.variableInfo}function se(t,e=!1){var r=C(t),n=(e&&(r.written=!0),Zt(t));if(null!=n&&n!=k.action){let e=k.action;for(;e&&e!=n;){var i=T(e);i.capturedVars.indexOf(t)<0&&i.capturedVars.push(t),e=Zt(e)}r.captured=!0}}function E(e,t=!1){return r=x,n=e,i=t,e=b,t=v,mr(r,e,t,e=>{i&&!Bt.U.lookup(e.explicitlyUsedIfaceMembers,n)&&(Bt.U.assert(!e.finalPass),e.explicitlyUsedIfaceMembers[n]=!0);var t=Bt.U.lookup(e.ifaceMemberMap,n);return null!=t?t:(Bt.U.assert(!e.finalPass),e.ifaceMemberMap[n]=-1,e.emitString(n),-1)});var r,n,i}function oe(e){e.flags&Ut.TypeFlags.Void&&Jt(9203,Pt("void-typed variables not supported"))}function ce(e){var t=Kt(e);oe(lr(e)),t.cell||(t.cell=new Bt.ir.Cell(null,e,C(e))),x.globals.indexOf(t.cell)<0&&x.globals.push(t.cell)}function le(t){var e;if(tr(t))return c(t),(e=Kt(t)).cell||ce(t),e.cell;{let e=k.localIndex(t);return e||(x.finalPass?Jt(9204,Pt("cannot locate identifer")):e=k.mkLocal(t,C(t))),e}}function ue(e){return e.kind==Bt.SK.MethodDeclaration&&0==e.parameters.length&&"toString"==ar(e)}function de(e){if(32&e.flags||16&e.flags&&Bt.compileOptions.skipPxtModulesEmit)throw y.needsFullRecompile=!0,Jt(9200,Pt("full recompile required"))}function D(e,t=null){e=Kt(t=t||e.symbol.valueDeclaration);if(!e.classInfo){var i=Tr(t)+"__C"+zt(t);let r=new Dr(i,t);(e.classInfo=r).attrs.autoCreate&&(K[r.attrs.autoCreate]=!0),r.baseClassInfo=(e=>{if(e.heritageClauses)for(var t of e.heritageClauses)switch(t.token){case Bt.SK.ExtendsKeyword:if(!t.types||1!=t.types.length)throw Jt(9228,Pt("invalid extends clause"));var r=lr(t.types[0]);if(r&&or(r))return Ot.getTypeAtLocation(e),D(r);throw Jt(9228,Pt("cannot inherit from this type"));case Bt.SK.ImplementsKeyword:break;default:throw Jt(9228,Pt("invalid heritage clause"))}return null})(t);var a,s,o=r.baseClassInfo?Bt.U.toDictionary(r.baseClassInfo.allfields,e=>ar(e)):{};let n=(e,t=r.baseClassInfo)=>t?t.methods[e]||n(e,t.baseClassInfo):null;for(a of t.members)if(a.kind==Bt.SK.PropertyDeclaration){var c=a,l=(Qt(c)||r.allfields.push(c),ar(c));(n(l)||Bt.U.lookup(o,l))&&ie(c,9279,Pt("redefinition of '{0}' as field",l))}else if(a.kind==Bt.SK.Constructor)for(var u of a.parameters)fr(u)&&r.allfields.push(u);else Xt(a)&&((c=T(a)).parentClassInfo=r,c.isUsed&&P(r),l=ar(a),r.methods.hasOwnProperty(l)||(r.methods[l]=[]),r.methods[l].push(a),!(s=Bt.U.lookup(o,l))||64&(s=Kt(s)).flags||(s.flags|=64,8&s.flags&&E(l,!0),de(s)));if(r.baseClassInfo){r.allfields=r.baseClassInfo.allfields.concat(r.allfields);var d,p=r;for(d of p.allMethods()){let t=null;var f,_,m=Yt(d),g=ar(d);for(let e=p.baseClassInfo;e;e=e.baseClassInfo)if(e.methods.hasOwnProperty(g))for(var h of e.methods[g])Yt(h)==m&&(t=h);t&&(f=T(d),_=T(t),t.parameters.length!=d.parameters.length&&ie(d,9255,Pt("the overriding method is currently required to have the same number of arguments as the base one")),(f.virtualParent=_).virtualParent||(de(Kt(t)),_.virtualParent=_),Bt.assert(_.virtualParent==_,"pinf.virtualParent == pinf"))}}}return e.classInfo}function pe(e){return!!e&&!Wt(e)&&(e.kind!==Bt.SK.ArrayLiteralExpression?null==g(e):e.elements.some(pe))}function A(e){var t=et(e);if(t)return F(t.val);if(tr(e)&&ir(e).shim)return Ae(e,e,[]);t=le(e),se(e),e=t.load();return e}function fe(e){ir(e).shim&&Jt(9207,Pt("built-in functions cannot be yet used as values; did you forget ()?"));var t=T(e);return _e(t),t.location?t.location.load():(Bt.assert(!x.finalPass||0==t.capturedVars.length,"!bin.finalPass || info.capturedVars.length == 0"),t.usedAsValue=!0,w(e),Re(e))}function _e(e){void 0===e.usedBeforeDecl?e.usedBeforeDecl=!0:x.finalPass&&e.usedBeforeDecl&&e.capturedVars.length&&Zt(e.decl)&&!e.alreadyEmitted&&Jt(9278,Pt("function referenced before all variables it uses are defined"))}function me(e){var t=N(e),r=et(t);if(r)return F(r.val);if(t&&(er(t)||rr(t)))return A(t);if(t&&t.kind==Bt.SK.FunctionDeclaration)return fe(t);if("undefined"==e.text)return F(void 0);throw S(e,Pt("Unknown or undeclared identifier"),9235)}function ge(e){e=function e(t){return t?Xt(t)?t:e(t.parent):null}(e),e||Jt(9208,Pt("'this' used outside of a method")),e=T(e);return e.thisParameter||Bt.oops("no this"),A(e.thisParameter)}function he(e){let t;var r;return(t=""==e?Bt.ir.rtcall("String_::mkEmpty",[]):(r=e,r=((e,t,r,n)=>mr(e,r,n,e=>e.emitString(t)))(x,r,b,v),Bt.ir.ptrlit(r,JSON.stringify(e)))).isStringLiteral=!0,t}function _(e){var t=Ee(e),r=B(e);return Bt.target.isNative||Wt(e)?m(r,t):m(Bt.ir.rtcallMask("String_::stringConv",1,1,[r]),!0)}function ye(e){let n=0;var t,r=(e,t)=>{var r;return Wt(r=t)&&""==r.text?e:(n++,R("String_::concat",[m(e,!0),_(t)],null))};let i=Kt(_(e.head)).valueOverride;for(t of e.templateSpans)i=r(i=r(i,t.expression),t.literal);return 0==n?R("String_::concat",[m(i,!0),m(Bt.ir.rtcall("String_::mkEmpty",[]),!1)],null):i}function ve(e){e=Ut.getDeclarationOfKind(e.symbol,Bt.SK.GetAccessor);if(null==e)throw Jt(9281,Pt("setter currently requires a corresponding getter"));return e}function be(e){if(e.kind==Bt.SK.Parameter||e.kind==Bt.SK.PropertyDeclaration)return e=Kt(e),Bt.target.switches.slowFields||64&e.flags}function xe(e,t=null){var r=lr(e.expression);let n={callingConvention:0,paramDefl:{}},i=null,a=!1;if(!t&&pr(r)?i="String_::charAt":sr(r)?i=t?"Array_::setAt":"Array_::getAt":xr(r)&&(n=br(r.symbol),i=t?n.indexerSet:n.indexerGet),!i&&r.flags&(Ut.TypeFlags.Any|Ut.TypeFlags.StructuredOrTypeVariable)&&(i=t?"pxtrt::mapSetGeneric":"pxtrt::mapGetGeneric",a=!0),i){if(a||at(e.argumentExpression))return r=[e.expression,e.argumentExpression],R(i,r,n,t?[t]:[]);throw S(e,Pt("non-numeric indexer on {0}",i),9238)}throw S(e,Pt("unsupported indexer"),9239)}function ke(e){var t=!(!tr(t=e)||pe(t.initializer)&&!ir(t).whenUsed)||(t=e).kind==Bt.SK.FunctionDeclaration&&!Zt(t)||Xt(t)||Ut.isClassDeclaration(e);return!Bt.target.switches.noTreeShake&&(!p.testMode||!t||jt(e))&&t}function Se(e){return!ke(e)||(e=Kt(e),x.finalPass?8&e.flags:e==v)}function c(e){var t;if(e){var r,n=Kt(e);if(n.classInfo)P(n.classInfo);else{if(p.computeUsedSymbols&&e.symbol&&(y.usedSymbols[nr(Ot,e)]=null),p.computeUsedParts&&null!=(t=n.commentAttrs)&&t.parts)for(r of n.commentAttrs.parts.split(/[ ,]+/g))-1===y.usedParts.indexOf(r)&&y.usedParts.push(r);qt()&&Xt(e)&&E(ar(e),!0),Te(e),8&n.flags||(n.flags|=8,ke(e)&&h.push(e))}}}function w(e){c(e)}function Te(e){b&&(v?v.usedNodes[ae(e)]=e:Bt.U.oops("no using ctx for: "+ar(e)))}function Ce(e){if(!e)return null;var t=Kt(e);if(void 0!==t.declCache)return t.declCache;t=Ot.getSymbolAtLocation(e);let r;return r=t&&!(r=t.valueDeclaration)&&t.declarations&&(e=t.declarations[0])&&e.kind==Ut.SyntaxKind.ImportEqualsDeclaration&&(t=Ot.getSymbolAtLocation(e.moduleReference))?t.valueDeclaration:r}function N(e){let t=Ce(e);return c(t),!t&&e&&e.kind==Bt.SK.PropertyAccessExpression&&(e=e,Kt(t={kind:Bt.SK.PropertySignature,symbol:{isBogusSymbol:!0,name:e.name.getText()},name:e.name}).flags|=2),q.declCache=t||null,t}function Ee(e){return e.kind==Bt.SK.NullKeyword||e.kind==Bt.SK.NumericLiteral?!!e.isRefOverride:!Wt(e)}function De(e){Bt.assert(e.length<=8,"args.length <= 8");let r=0;return e.forEach((e,t)=>{Ee(e)&&(r|=1<<t)}),r}function Ae(e,t,r,n=null){var i=ir(e),a=!(lr(t).flags&Ut.TypeFlags.Void);let s=n||i.shim;if(0<=s.indexOf("(")){n=/(.*)\((.*)\)$/.exec(s);if(n){r.length&&Bt.U.userError("no arguments expected");var o=[];if(n[2].replace(/\s/g,"")){for(var c of n[2].split(/,/)){let e=parseInt(c);isNaN(e)&&null==(e=null==(e=nt(t,c))?((e,t)=>{let r=rt(e,t,"userconfig");return r=null==r?rt(e,t,"config"):r})(t,c):e)&&Bt.U.userError("invalid argument: "+c+" in "+s),o.push(Bt.ir.numlit(e))}4<o.length&&Bt.U.userError("too many args")}return s=n[1],p.target.isNative&&Bt.hexfile.validateShim(dr(e),s,i,!0,o.map(e=>!0)),Bt.ir.rtcallMask(s,0,i.callingConvention,o)}}return"TD_NOOP"==s?(Bt.assert(!a,"!hasRet"),Bt.target.switches.profile&&"perfCounter"==i.shimArgument&&(r[0]&&r[0].kind==Bt.SK.StringLiteral&&(k.perfCounterName=r[0].text),k.perfCounterName||(k.perfCounterName=k.getFullName())),F(void 0)):"TD_ID"==s||"ENUM_GET"===s?(Bt.assert(1==r.length,"args.length == 1"),B(r[0])):(p.target.shimRenames&&Bt.U.lookup(p.target.shimRenames,s)&&(s=p.target.shimRenames[s]),p.target.isNative&&Bt.hexfile.validateShim(dr(e),s,i,a,r.map(at)),R(s,r,i))}function we(e,r,n){if(e){var t=e.getParameters(),i=r.length;t.length>r.length&&t.slice(r.length).forEach(t=>{if(t.valueDeclaration&&t.valueDeclaration.kind==Bt.SK.Parameter){t=t.valueDeclaration;if(t.initializer)p.unfetteredInitializers||(e=>{switch(e.kind){case Bt.SK.UndefinedKeyword:case Bt.SK.NullKeyword:case Bt.SK.TrueKeyword:case Bt.SK.FalseKeyword:case Bt.SK.NumericLiteral:return 1;case Bt.SK.PropertyAccessExpression:return B(e).exprKind==Nt.NumberLiteral;default:return}})(t.initializer)||Jt(9212,Pt("only numbers, null, true and false supported as default arguments")),r.push(t.initializer);else{t=vr(n,ar(t));let e=t?F(parseInt(t)):null;null==e&&(e=F(void 0)),r.push(m(e))}}else Jt(9213,Pt("unsupported default argument (shouldn't happen)"))});for(let e=0;e<i;e++){var a=t[e];a&&a.valueDeclaration&&a.valueDeclaration.kind==Bt.SK.Parameter&&(r[e],a.valueDeclaration)}n.imageLiteral&&(Wt(r[0])||Jt(9214,Pt("Only image literals (string literals) supported here; {0}",$t(r[0]))),r[0]=(t=>{t=t||"0 0 0 0 0\n0 0 0 0 0\n0 0 0 0 0\n0 0 0 0 0\n0 0 0 0 0\n";let r=0,n=0,i=0,a="",s=0;t+="\n";for(let e=0;e<t.length;++e)switch(t[e]){case".":case"_":case"0":a+="0,",r++,s++;break;case"#":case"*":case"1":a+="255,",r++,s++;break;case"\t":case"\r":case" ":break;case"\n":r&&(0==n?n=r:r!=n&&Jt(9205,Pt("lines in image literal have to have the same width (got {0} and then {1} pixels)",n,r)),r=0,i++);break;default:Jt(9206,Pt("Only 0 . _ (off) and 1 # * (on) are allowed in image literals"))}var e="_img"+x.lblNo++,o=(s%2!=0&&(a+="0"),x.otherLiterals.push(`
.balign 4
${e}: .short 0xffff
        .short ${n}, ${i}
        .byte ${a}
`),"new pxsim.Image("+n+", ["+a+"])");return{kind:Bt.SK.NumericLiteral,imageLiteral:e,jsLit:o}})(r[0].text))}}function a(r,e,n,t,i=null,a=null){var s;i=i||N(e);let o=!1,c=!1,l=!1;var u=r===e;if(i)switch(i.kind){case Bt.SK.PropertySignature:case Bt.SK.PropertyAssignment:case Bt.SK.PropertyDeclaration:case Bt.SK.MethodSignature:o=!0;break;case Bt.SK.Parameter:fr(i)&&(o=!0);break;case Bt.SK.GetAccessor:case Bt.SK.SetAccessor:case Bt.SK.MethodDeclaration:o=!0,c=!0,l=Qt(i);break;case Bt.SK.FunctionDeclaration:l=!0;break;case Bt.SK.ModuleDeclaration:break;default:i=null}else e.kind==Bt.SK.PropertyAccessExpression&&(o=!0);Bt.target.switches.slowMethods&&(c=!1);var d=ir(i);let p=n.slice(0);if((o=o&&Qt(i)?!1:o)&&!a&&e.kind==Bt.SK.PropertyAccessExpression&&(a=e.expression),y.usedArguments&&d.trackArgs){let t=a?[a].concat(p):p;var n=d.trackArgs.map(e=>t[e]).map(e=>{var t=N(e);return!t||t.kind!=Bt.SK.EnumMember&&t.kind!=Bt.SK.VariableDeclaration?e&&e.kind==Bt.SK.StringLiteral?e.text:"*":nr(Ot,t)}).join(","),f=nr(Ot,i);let e=y.usedArguments[f];(e=e||(y.usedArguments[f]=[])).indexOf(n)<0&&e.push(n)}function _(){var e=Pe(i,r,p.map(e=>B(e))),t=e.data;return p[0]&&t.proc&&t.proc.classInfo&&(t.isThis=p[0].kind==Bt.SK.ThisKeyword),e}if((we(t,p,d),l)&&!T(i).location)return d.shim&&!ze(i)?Ae(i,r,p):(w(i),_());if(e.kind==Bt.SK.SuperKeyword){let t=k.classInfo.baseClassInfo.ctor;for(let e=k.classInfo.baseClassInfo;e&&!t;e=e.baseClassInfo)t=e.ctor;if(!t&&x.finalPass)throw Jt(9280,Pt("super() call requires an explicit constructor in base class"));f=p.map(e=>B(e));return f.unshift(ge(e)),Ne(t,r,f)}if(o){if(Bt.U.assert(!Qt(i)),a?p.unshift(a):S(r,Pt("strange method call"),9241),!i)return Bt.U.assert(e.kind==Bt.SK.PropertyAccessExpression),n=e.name.text,Ie(p.map(e=>B(e)),{ifaceIndex:E(n,!0),callLocationIndex:At(r),noArgs:u});t=T(i);if(t.parentClassInfo&&P(t.parentClassInfo),w(i),a.kind==Bt.SK.SuperKeyword)return _();var m,f=!!t.virtualParent,n=!!qt()||!!Bt.target.switches.slowMethods;if(f&&!n)return i.kind==Bt.SK.MethodDeclaration?Bt.U.assert(!u):i.kind==Bt.SK.GetAccessor||i.kind==Bt.SK.SetAccessor?Bt.U.assert(u):Bt.U.assert(!1),Bt.U.assert(!x.finalPass||null!=t.virtualIndex,"!bin.finalPass || info.virtualIndex != null"),Ie(p.map(e=>B(e)),{classInfo:t.parentClassInfo,virtualIndex:t.virtualIndex,noArgs:u,isThis:p[0].kind==Bt.SK.ThisKeyword});if(d.shim&&!ze(i)){let e=void 0;return r.kind===Bt.SK.PropertyAccessExpression&&1<p.length&&(e=d.shim+"_set"),Ae(i,r,p,e)}if(d.helper){let e;for(m of Ot.getSymbolsInScope(r,Ut.SymbolFlags.Module))if("helpers"==m.name)for(var g of m.declarations||[m.valueDeclaration])if(g.kind==Bt.SK.ModuleDeclaration)for(var h of g.body.statements)(null==(s=h.symbol)?void 0:s.name)==d.helper&&(e=h);return e||Jt(9215,Pt("helpers.{0} not found",d.helper)),e.kind!=Bt.SK.FunctionDeclaration&&Jt(9216,Pt("helpers.{0} isn't a function",d.helper)),w(i=e),_()}return f||Bt.target.switches.slowMethods||!c?Ie(p.map(e=>B(e)),{ifaceIndex:E(ar(i),!0),isSet:u&&2==p.length,callLocationIndex:At(r),noArgs:u}):(Bt.U.assert(i.kind!=Bt.SK.MethodSignature),_())}return i&&i.kind==Bt.SK.ModuleDeclaration&&("String"==ar(i)?Jt(9219,Pt('to convert X to string use: X + ""')):Jt(9220,Pt("namespaces cannot be called directly"))),p.unshift(e),Bt.U.assert(!u),Ie(p.map(e=>B(e)),{virtualIndex:-1,callLocationIndex:At(r),noArgs:u})}function Ne(e,t,r){Bt.U.assert(!x.finalPass||!!e);e={proc:e,callLocationIndex:At(t),virtualIndex:null,ifaceIndex:null};return Bt.ir.op(Nt.ProcCall,r,e)}function Ie(e,t){return Bt.ir.op(Nt.ProcCall,e,t)}function I(e){return Kt(e).proc}function Pe(e,t,r){var n=I(e);return e.kind==Bt.SK.FunctionDeclaration&&_e(T(e)),Bt.assert(!!n||!x.finalPass,"!!proc || !bin.finalPass"),Ne(n,t,r)}function Oe(e){return e.members.filter(e=>e.kind==Bt.SK.Constructor)[0]}function P(e){Te(e.decl),e.isUsed||(Kt(e.decl).flags|=8,e.baseClassInfo&&P(e.baseClassInfo),x.usedClassInfos.push(e))}function Fe(o){function u(e){return/^[0-9a-f]$/i.test(e)}var e=N(o.tag);if(!e)throw S(o,Pt("invalid tagged template"),9265);let c=ir(e),t;e={decl:e,qName:e?nr(Ot,e):"?",args:[o.template],isExpression:!0};function r(e){t=((t,n)=>{let e=z;if("_"==n[0]&&"_"==n[1]&&p.jres[n]&&(e=p.jres[n],n=""),""==n&&e){var i=/font\/x-mkcd-b(\d+)/.exec(e.mimeType);if(i)if(x.finalPass){var a=parseInt(i[1]),s=atob(e.data),o=x.usedChars;let t="",r="";if(p.target.isNative)for(let e=0;e<s.length;e+=a){var c=s.charCodeAt(e)+(s.charCodeAt(e+1)<<8);(c<128||o[c>>5]&1<<(31&c))&&(t+=s.slice(e,e+a),r+=c+", ")}else t=s;n=Bt.U.toHex(Bt.U.stringToUint8Array(t))}else n="aabbccdd";else e.dataEncoding&&"base64"!=e.dataEncoding?"hex"==e.dataEncoding?n=e.data:Jt(9271,Pt("invalid jres encoding '{0}' on '{1}'",e.dataEncoding,e.id)):n=Bt.U.toHex(Bt.U.stringToUint8Array(Ut.pxtc.decodeBase64(e.data)))}/^e[14]/i.test(n)&&t.parent&&t.parent.kind==Bt.SK.CallExpression&&"image.ofBuffer"==t.parent.expression.getText()&&(n=`870${(i=/^e([14])(..)(..)..(.*)/i.exec(n))[1]}${i[2]}00${i[3]}000000`+i[4]);let r="";for(let e=0;e<n.length;++e){var l=n[e];if(u(l))u(n[e+1])&&(r+=l+n[e+1],e++);else if(!/^[\s\.]$/.test(l))throw S(t,Pt("invalid character in hex literal '{0}'",l),9265)}return Bt.target.isNative?(i=x.emitHexLiteral(r.toLowerCase()),Bt.ir.ptrlit(i,i)):(i="_hex"+ae(t),Bt.ir.ptrlit(i,{hexlit:r.toLowerCase()}))})(o,e(o.template.text))}if(Kt(o).callInfo=e,o.template.kind!=Bt.SK.NoSubstitutionTemplateLiteral)throw S(o,Pt("substitution not supported in hex literal",c.shim),9265);switch(c.shim){case"@hex":r(e=>e);break;case"@f4":r(function(t){if(!Array.isArray(c.groups))throw S(o,Pt("missing groups in @f4 literal"),9272);let r=[],n=[],i={},a=0;c.groups.forEach((e,t)=>{for(var r of e)i[r]=t}),t+="\n";for(let e=0;e<t.length;++e){var s=t[e];switch(s){case" ":case"\t":break;case"\n":0<n.length&&(r.push(n),a=Math.max(n.length,a),n=[]);break;default:let e=Bt.U.lookup(i,s);if(null==e){if(2!=c.groups.length)throw S(o,Pt("invalid character in image literal: '{0}'",e),9273);e=1}n.push(e)}}let e=8;return c.groups.length<=2?e=1:c.groups.length<=16&&(e=4),Bt.f4EncodeImg(a,r.length,e,(e,t)=>r[t][e]||0)});break;default:if(void 0===c.shim&&c.helper){var n=o.template;var i=c;let e,t=Ot.getSymbolsInScope(n,Ut.SymbolFlags.Module),r;for(var a of t)if("helpers"==a.name)for(var s of a.declarations||[a.valueDeclaration])if(s.kind==Bt.SK.ModuleDeclaration)for(var l of s.body.statements)(null==(e=l.symbol)?void 0:e.name)==i.helper&&(r=l);r||Jt(9215,Pt("helpers.{0} not found",i.helper)),r.kind!=Bt.SK.FunctionDeclaration&&Jt(9216,Pt("helpers.{0} isn't a function",i.helper));var d=r;return w(d),d=Pe(d,n,[he(n.text)]);return}throw S(o,Pt("invalid shim '{0}' on tagged template",c.shim),9265)}return t=c.helper?Bt.ir.rtcall(c.helper,[t]):t}function Le(e){var t,r=e.parameters.slice(0);return!Qt(e)&&Xt(e)&&((t=T(e)).thisParameter||(t.thisParameter={kind:Bt.SK.Parameter,name:{text:"this"},isThisParameter:!0,parent:e}),r.unshift(t.thisParameter)),r}function Re(e){e=Cr(e);return Bt.ir.ptrlit(e+"_Lit",e)}function Me(){var e=d;if(0<e.length){d=[];for(var t of e){var r=k;try{Be(t)}finally{k=r}}}}function Ue(e){x.finalPass&&e.functionsToDefine&&Bt.U.pushRange(d,e.functionsToDefine)}function Be(r){var e=T(r);let n=null;if(x.finalPass){if(e.alreadyEmitted)return Bt.U.assert(e.usedBeforeDecl),null;e.alreadyEmitted=!0}var t,i,a,s,o=r.kind==Bt.SK.ArrowFunction||r.kind==Bt.SK.FunctionExpression,c=e.capturedVars.slice(0),l=c.map((e,t)=>{t=new Bt.ir.Cell(t,e,C(e));return t.iscap=!0,t}),c=(void 0===e.usedBeforeDecl&&(e.usedBeforeDecl=!1),0<c.length?(Bt.assert(null!=Zt(r),"getEnclosingFunction(node) != null)"),n=Bt.ir.shared(Bt.ir.rtcall("pxt::mkAction",[Bt.ir.numlit(c.length),Re(r)])),e.usedAsValue=!0,c.forEach((e,t)=>{var r=k.localIndex(e),e=(r||Jt(9223,Pt("cannot find captured value: {0}",Ot.symbolToString(e.symbol))),r.loadCore());k.emitExpr(Bt.ir.rtcall("pxtrt::stclo",[n,Bt.ir.numlit(t),e]))}),r.kind==Bt.SK.FunctionDeclaration&&(e.location=k.mkLocal(r,C(r)),k.emitExpr(e.location.storeDirect(n)),n=null)):o&&(n=Re(r),e.usedAsValue=!0),Bt.assert(!!n==o,"!!lit == isExpression"),I(r)),u=(c?(k=c).reset():(Bt.assert(!x.finalPass,"!bin.finalPass"),o=Kt(r),(c=new Bt.ir.Procedure).isRoot=!!(1&o.flags),c.action=r,c.info=e,(o.proc=c).usingCtx=v,k=c,o=x,t=c,c=b,s=v,mr(o,c,s,e=>e.addProc(t))),k.captured=l,[]);if(r.parent.kind==Bt.SK.ClassDeclaration){o=D(null,r.parent);if(k.classInfo?Bt.assert(k.classInfo==o,"proc.classInfo == classInfo"):k.classInfo=o,r.kind==Bt.SK.Constructor){if(o.baseClassInfo)for(var d of o.baseClassInfo.decl.members)d.kind==Bt.SK.Constructor&&w(d);o.ctor?Bt.assert(o.ctor==k,"classInfo.ctor == proc"):o.ctor=k;for(var p of o.allfields)p.kind!=Bt.SK.PropertyDeclaration||Qt(p)||(p=p).initializer&&u.push(p)}}let f=[],_=[];k.args=Le(r).map((e,t)=>{e.name.kind===Bt.SK.ObjectBindingPattern&&f.push(e),r.kind==Bt.SK.Constructor&&fr(e)&&_.push(e);t=new Bt.ir.Cell(t,e,C(e));return Ue(t.info),t.isarg=!0,t}),k.args.forEach(e=>{var t;e.isByRefLocal()&&(t=Bt.ir.shared(Bt.ir.rtcall("pxtrt::mklocRef",[])),k.emitExpr(Bt.ir.rtcall("pxtrt::stlocRef",[t,e.loadCore()],1)),k.emitExpr(e.storeDirect(t)))}),f.forEach(e=>xt(e));for(i of _){var m=Ge(k.classInfo,O(k.classInfo,ar(i)),!1),m=Bt.ir.op(Nt.FieldAccess,[A(e.thisParameter)],m);k.emitExpr(Bt.ir.op(Nt.Store,[m,A(i)]))}for(a of u){var g=Ge(k.classInfo,O(k.classInfo,ar(a)),!1),g=Bt.ir.op(Nt.FieldAccess,[A(e.thisParameter)],g);k.emitExpr(Bt.ir.op(Nt.Store,[g,B(a.initializer)]))}Me(),r.body.kind==Bt.SK.Block?(j(r.body),!ur(k.action)||(c=k.body[k.body.length-1])&&c.stmtKind==Bt.ir.SK.Jmp&&c.jmpMode==Bt.ir.JmpMode.Always||k.emitJmp(U(r).ret,F(void 0),Bt.ir.JmpMode.Always)):(s=B(r.body),k.emitJmp(U(r).ret,s,Bt.ir.JmpMode.Always)),k.emitLblDirect(U(r).ret),k.stackEmpty();l=k.mkLabel("final");return ur(k.action)?k.emitJmp(l):k.emitJmp(l,F(void 0)),k.emitLbl(l),e.capturedVars.length&&e.usedBeforeDecl&&r.kind==Bt.SK.FunctionDeclaration&&!x.finalPass&&(e.capturedVars.sort((e,t)=>t.pos-e.pos),(o=C(e.capturedVars[0])).functionsToDefine||(o.functionsToDefine=[]),o.functionsToDefine.push(r)),Bt.assert(!x.finalPass||0==h.length,"!bin.finalPass || usedWorkList.length == 0"),n}function je(e){e=Bt.ir.shared(e);return k.emitExpr(e),e}function Ke(){return je(Bt.ir.op(Nt.JmpValue,[]))}function ze(e){return!p.target.isNative&&e.body&&(e.body.kind!=Bt.SK.Block||0<e.body.statements.length)}function $e(t){if(Se(t)&&!(32&Kt(t).flags)){var r=ir(t);if(null!=r.shim){if("@"==r.shim[0])return;if(p.target.isNative&&Bt.hexfile.validateShim(dr(t),r.shim,r,ur(t),Le(t).map(e=>_r(lr(e)))),!ze(t))return}if(!Ut.isInAmbientContext(t)&&t.body){let e=null;r=k;try{e=Be(t)}finally{k=r}return e}}}function Je(){}function qe(e){e.needsIRCache=!0,n.push(e)}function Ve(e,t=null){let r=n.length;return e.kind!=Bt.SK.PropertyAccessExpression&&e.kind!=Bt.SK.ElementAccessExpression||qe(e.expression),t&&qe(t),n.length==r?Je:()=>{for(let e=r;e<n.length;++e)n[e].cachedIR=null,n[e].needsIRCache=!1;n.splice(r,n.length-r)}}function m(e,t=!1){t={kind:Bt.SK.NullKeyword,isRefOverride:t};return Kt(t).valueOverride=e,t}function He(e,t,r,n=null){var i=Ve(e),n=n?B(n):F(1),a=Bt.ir.shared(B(e)),t=Bt.ir.shared(Xe(t,a,n));return Qe(e,m(t,!0)),i(),r?a:t}function Ge(e,t,r=!0){Qt(t)&&Bt.U.oops("fieldIndex on static field: "+ar(t));var n=ir(t),i=e.allfields.indexOf(t);return i<0&&x.finalPass&&Bt.U.oops("missing field"),{idx:i,name:ar(t),isRef:!0,shimName:n.shim,classInfo:e,needsCheck:r}}function We(t){var r=lr(t.expression);if(cr(r)){r=D(r);let e=t.expression.kind==Bt.SK.ThisKeyword;return Bt.target.switches.noThisCheckOpt&&(e=!1),Ge(r,O(r,t.name.text),!e)}throw S(t,Pt("bad field access"),9247)}function O(e,t){e=e.allfields.filter(e=>e.name.text==t)[0];return e||Jt(9224,Pt("field {0} not found",t)),e}function Qe(t,n){var e=N(t),r=tr(e);if(t.kind==Bt.SK.Identifier||r)e&&(r||er(e)||rr(e))?(r=le(e),se(e,!0),k.emitExpr(r.storeByRef(B(n)))):S(t,Pt("bad target identifier"),9248);else if(t.kind==Bt.SK.PropertyAccessExpression){let e=N(t);if(!e||e.kind!=Bt.SK.GetAccessor&&e.kind!=Bt.SK.SetAccessor)if(e&&(e.kind==Bt.SK.PropertySignature||e.kind==Bt.SK.PropertyAssignment||be(e)))k.emitExpr(a(t,t,[n],null,e));else for(;;){if(t.kind===Bt.SK.PropertyAccessExpression){var i=We(t);if(ir(O(i.classInfo,i.name)).shim){k.emitExpr(a(t,t,[n],null,e));break}}i=B(t);k.emitExpr(Bt.ir.op(Nt.Store,[i,B(n)]));break}else ve(e),(e=Ut.getDeclarationOfKind(e.symbol,Bt.SK.SetAccessor))||S(t,Pt("setter not available"),9253),k.emitExpr(a(t,t,[n],null,e))}else if(t.kind==Bt.SK.ElementAccessExpression)k.emitExpr(xe(t,n));else if(t.kind==Bt.SK.ArrayLiteralExpression)if(n.kind==Bt.SK.ArrayLiteralExpression){let r=n.elements.map(e=>{e=Bt.ir.shared(B(e));return k.emitExpr(e),e});t.elements.forEach((e,t)=>{Qe(e,m(r[t]))})}else{let r=Bt.ir.shared(B(n));t.elements.forEach((e,t)=>{Qe(e,m(L("Array_::getAt",[r,Bt.ir.numlit(t)])))})}else S(t,Pt("bad assignment target"),9249)}function Ye(e){if(Ht())switch(e){case"numops::adds":case"numops::subs":case"numops::eors":case"numops::ands":case"numops::orrs":return"@nomask@"+e}return qt()&&"pxt::switch_eq"===e?"numops::eq":e}function Xe(e,t,r){return L(Ye(e),[t,r])}function Ze(e,t){if(t){var r=t.val;switch(function e(t){if(t.kind==Bt.SK.Identifier)return t.text;if(t.kind==Bt.SK.PropertyAccessExpression){var r=e(t.expression);if(r)return r+"."+t.name.text}return null}(e)){case"Math.floor":return{val:Math.floor(r)};case"Math.ceil":return{val:Math.ceil(r)};case"Math.round":return{val:Math.round(r)}}}return null}function et(e){var t,r,n;return e?(void 0===(t=Kt(e)).constantFolded&&(er(e)&&e.parent.flags&Ut.NodeFlags.Const?e.initializer&&(t.constantFolded=g(e.initializer)):e.kind==Bt.SK.EnumMember?null==(r=(e=>{let t=ir(e).enumval;if(!t){e=Ot.getConstantValue(e);if(null==e)return null;t=e+""}return/^[+-]?\d+$/.test(t)||/^0x[A-Fa-f\d]{2,8}$/.test(t)||p.unfetteredInitializers?t:(Bt.U.userError("enumval only support number literals"),"0")})(n=e))?t.constantFolded=g(n.initializer):p.unfetteredInitializers?t.constantFolded={val:r}:(n=parseInt(r),isNaN(n)||(t.constantFolded={val:n})):e.kind==Bt.SK.PropertyDeclaration&&Qt(e)&&yr(e)&&(t.constantFolded=g(e.initializer))),t.constantFolded):null}function g(e){var t;return e?(void 0===(t=Kt(e)).constantFolded&&(t.constantFolded=null,e=(e=>{if(!e)return null;switch(e.kind){case Bt.SK.PrefixUnaryExpression:var t=e,r=g(t.operand);return((e,t)=>{if(!t)return null;var r=t.val;switch(e){case Bt.SK.PlusToken:return{val:+r};case Bt.SK.MinusToken:return{val:-r};case Bt.SK.TildeToken:return{val:~r};case Bt.SK.ExclamationToken:return{val:!r};default:return null}})(t.operator,r);case Bt.SK.BinaryExpression:t=e,r=g(t.left);return r?(n=g(t.right))?((e,t,r)=>{if(!t||!r)return null;var n=t.val,i=r.val;switch(e){case Bt.SK.PlusToken:return{val:n+i};case Bt.SK.MinusToken:return{val:n-i};case Bt.SK.SlashToken:return{val:n/i};case Bt.SK.PercentToken:return{val:n%i};case Bt.SK.AsteriskToken:return{val:n*i};case Bt.SK.AsteriskAsteriskToken:return{val:n**i};case Bt.SK.AmpersandToken:return{val:n&i};case Bt.SK.BarToken:return{val:n|i};case Bt.SK.CaretToken:return{val:n^i};case Bt.SK.LessThanLessThanToken:return{val:n<<i};case Bt.SK.GreaterThanGreaterThanToken:return{val:n>>i};case Bt.SK.GreaterThanGreaterThanGreaterThanToken:return{val:n>>>i};case Bt.SK.LessThanEqualsToken:return{val:n<=i};case Bt.SK.LessThanToken:return{val:n<i};case Bt.SK.GreaterThanEqualsToken:return{val:i<=n};case Bt.SK.GreaterThanToken:return{val:i<n};case Bt.SK.EqualsEqualsToken:return{val:n==i};case Bt.SK.EqualsEqualsEqualsToken:return{val:n===i};case Bt.SK.ExclamationEqualsEqualsToken:return{val:n!==i};case Bt.SK.ExclamationEqualsToken:return{val:n!=i};case Bt.SK.BarBarToken:return{val:n||i};case Bt.SK.AmpersandAmpersandToken:return{val:n&&i};default:return null}})(t.operatorToken.kind,r,n):null:null;case Bt.SK.NumericLiteral:var n=parseFloat(e.text);return isNaN(n)?null:{val:n};case Bt.SK.NullKeyword:return{val:null};case Bt.SK.TrueKeyword:return{val:!0};case Bt.SK.FalseKeyword:return{val:!1};case Bt.SK.UndefinedKeyword:return{val:void 0};case Bt.SK.CallExpression:return 1==e.arguments.length?Ze(e.expression,g(e.arguments[0])):null;case Bt.SK.PropertyAccessExpression:case Bt.SK.Identifier:return et(Ce(e));case Bt.SK.AsExpression:return g(e.expression);default:return null}})(e),t.constantFolded=e),t.constantFolded):null}function tt(e){var t=Bt.target.switches.boxDebug;let r=null;if(t)try{Bt.target.switches.boxDebug=!1,r=B(e)}finally{Bt.target.switches.boxDebug=t}else r=B(e);t=it(r);if(void 0===t)throw Jt(9267,Pt("a constant number-like expression is required here"));return t}function rt(e,t,r){var n,e=Ot.getSymbolsInScope(e,Ut.SymbolFlags.Module).filter(e=>e.name==r&&!!e.valueDeclaration)[0];if(e)for(var i of e.valueDeclaration.body.statements)if(i.kind==Bt.SK.VariableStatement)for(n of i.declarationList.declarations)if(n.symbol.name==t)return tt(n.initializer);return null}function nt(e,t){var e=Ot.getSymbolsInScope(e,Ut.SymbolFlags.Enum).filter(e=>"DAL"==e.name&&!!e.valueDeclaration)[0];return(e=e&&e.valueDeclaration.members.filter(e=>e.symbol.name==t)[0])?Ot.getConstantValue(e):null}function it(e){if(e.exprKind==Bt.ir.EK.NumberLiteral){var t=e.data;if(p.target.isNative&&!qt()){if(t==Bt.taggedNull||t==Bt.taggedUndefined||t==Bt.taggedFalse)return 0;if(t==Bt.taggedTrue)return 1;if("number"==typeof t)return t>>1}else if("number"==typeof t)return t}else if(e.exprKind==Bt.ir.EK.RuntimeCall&&2==e.args.length){var r=it(e.args[0]),n=it(e.args[1]);if(void 0===r||void 0===n)return;switch(e.data){case"numops::orrs":return r|n;case"numops::adds":return r+n;default:return void pxt.log(e)}}}function F(e){if(!p.target.isNative||qt())return Bt.ir.numlit(e);var t=Sr(e);if(null!=t)return Bt.ir.numlit(t);if("number"==typeof e)return t=e,!Bt.target.switches.boxDebug&&(0|t)==t&&-1073741824<=t&&t<=1073741823?Bt.ir.numlit(e<<1|1):(t=x.emitDouble(e),Bt.ir.ptrlit(t,JSON.stringify(e)));throw Bt.U.oops("bad literal: "+e)}function at(e){if(e.kind==Bt.SK.NullKeyword){var t=Kt(e).valueOverride;if(null!=t)return t.exprKind==Nt.NumberLiteral?!p.target.isNative||!!(1&t.data):t.exprKind==Nt.RuntimeCall&&"pxt::ptrOfLiteral"==t.data?t.args[0].exprKind==Nt.PointerLiteral&&!isNaN(parseFloat(t.args[0].jsInfo)):t.exprKind==Nt.PointerLiteral&&!isNaN(parseFloat(t.jsInfo))}return e.kind==Bt.SK.NumericLiteral||_r(lr(e))}function L(e,t){return Bt.ir.rtcallMask(e,(1<<t.length)-1,0,t)}function R(s,e,o,t=null){let c=[],r=Bt.hexfile.lookupFunc(s);Ht()&&(n=Bt.U.lookup(wt,s))&&(r=n,s=n.name),r&&(c=r.argsFmt);let l=De(e=t?e.concat(t):e),u=[];var n=e.map((e,t)=>{var r=B(e);if(!Vt())return r;let n=c[t+1];var i,a=at(e);if(n=!n&&s.indexOf("::")<0?a?"I":"_":n){if("_"==n[0]||"T"==n||"N"==n)return(i=(e=>{switch(e){case"_Buffer":return pxt.BuiltInType.BoxedBuffer;case"_Image":return Bt.target.imageRefTag||pxt.BuiltInType.RefImage;case"_Action":return pxt.BuiltInType.RefAction;case"_RefCollection":return pxt.BuiltInType.RefCollection;default:return null}})(n))&&u.push({argIdx:t,method:"_validate",refTag:i,refTagNullable:!!o.argsNullable}),r;if("I"==n)return r.exprKind==Nt.NumberLiteral&&"number"==typeof r.data?Bt.ir.numlit(r.data>>1):(u.push({argIdx:t,method:"pxt::toInt"}),r);if("B"==n)return l&=~(1<<t),M(e,r);if("S"==n)return r.isStringLiteral||(u.push({argIdx:t,method:"_pxt_stringConv",returnsRef:!0}),l|=1<<t),r;if("F"==n||"D"==n)return"D"==n&&Bt.U.oops("double arguments not yet supported"),a||Bt.U.userError("argsFmt=...F/D... but argument not a number in "+s),u.push({argIdx:t,method:"D"==n?"pxt::toDouble":"pxt::toFloat"}),r;throw Bt.U.oops("invalid format specifier: "+n)}throw Bt.U.userError("not enough args for "+s)});let i=Bt.ir.rtcallMask(s,l,o?o.callingConvention:0,n);return i.mask||(i.mask={refMask:0}),i.mask.conversions=u,p.target.isNative&&("I"==(t=c[0])?i=gr(i):"B"==t?i=hr(i):"F"==t?i=(e=i,Vt()?Bt.ir.rtcall("pxt::fromFloat",[e]):e):"D"==t&&(Bt.U.oops("double returns not yet supported"),i=(n=i,Vt()?Bt.ir.rtcall("pxt::fromDouble",[n]):n))),i}function f(r){x.numStmts++;var n=Bt.assembler.debug||Bt.target.switches.size||Bt.target.sourceMap;let e=!!p.breakpoints;if(n||e){var i=Ut.getSourceFileOfNode(r);if(p.justMyCode&&jt(i)&&(e=!1),n||e){let t=r.pos;for(;/^\s$/.exec(i.text[t]);)t++;for(;"/"==i.text[t]&&"/"==i.text[t+1];){for(;i.text[t]&&"\n"!=i.text[t];)t++;t++}var a=Ut.getLineAndCharacterOfPosition(i,t);if(n){let e=r.end;80<e-t&&(e=t+80);var n=i.text.slice(t,e).trim().replace(/\n[^]*/,"...");k.emit(Bt.ir.comment(`${i.fileName.replace(/pxt_modules\//,"")}(${a.line+1},${a.character+1}): `+n))}e&&(n=Ut.getLineAndCharacterOfPosition(i,r.end),r={id:y.breakpoints.length,isDebuggerStmt:r.kind==Bt.SK.DebuggerStatement,fileName:i.fileName,start:t,length:r.end-t,line:a.line,endLine:n.line,column:a.character,endColumn:n.character},y.breakpoints.push(r),(a=Bt.ir.stmt(Bt.ir.SK.Breakpoint,null)).breakpointInfo=r,k.emit(a))}}}function st(e,t){switch(t){case Bt.SK.PlusToken:return"numops::adds";case Bt.SK.MinusToken:return"numops::subs";case Bt.SK.SlashToken:return"numops::div";case Bt.SK.PercentToken:return"numops::mod";case Bt.SK.AsteriskToken:return"numops::muls";case Bt.SK.AsteriskAsteriskToken:return"Math_::pow";case Bt.SK.AmpersandToken:return"numops::ands";case Bt.SK.BarToken:return"numops::orrs";case Bt.SK.CaretToken:return"numops::eors";case Bt.SK.LessThanLessThanToken:return"numops::lsls";case Bt.SK.GreaterThanGreaterThanToken:return"numops::asrs";case Bt.SK.GreaterThanGreaterThanGreaterThanToken:return"numops::lsrs";case Bt.SK.LessThanEqualsToken:return"numops::le";case Bt.SK.LessThanToken:return"numops::lt";case Bt.SK.GreaterThanEqualsToken:return"numops::ge";case Bt.SK.GreaterThanToken:return"numops::gt";case Bt.SK.EqualsEqualsToken:return"numops::eq";case Bt.SK.EqualsEqualsEqualsToken:return"numops::eqq";case Bt.SK.ExclamationEqualsEqualsToken:return"numops::neqq";case Bt.SK.ExclamationEqualsToken:return"numops::neq";default:return null}}function ot(r){if(r.operatorToken.kind==Bt.SK.EqualsToken){var n=r;let e=n.right;n.parent.kind==Bt.SK.ExpressionStatement&&(e=null);var i=Ve(n.left,e),n=(Qe(n.left,n.right),e?B(e):F(void 0));return i(),n}{i=g(r);if(i)return F(i.val);let e=null,t=null;(r.operatorToken.kind==Bt.SK.PlusToken||r.operatorToken.kind==Bt.SK.PlusEqualsToken)&&(e=lr(r.left),t=lr(r.right),pr(e)||pr(t)&&r.operatorToken.kind==Bt.SK.PlusToken)&&(Kt(r).exprInfo={leftType:Ot.typeToString(e),rightType:Ot.typeToString(t)});var a,s,o,c,l,u,d,p,f;if(r.operatorToken.kind==Bt.SK.CommaToken)return dt(r.left)?B(r.right):(n=pt(r.left),Bt.ir.op(Nt.Sequence,[n,B(r.right)]));switch(r.operatorToken.kind){case Bt.SK.BarBarToken:case Bt.SK.AmpersandAmpersandToken:return s=B((a=r).left),pr(lr(a.left)),o=k.mkLabel("lazy"),s=Bt.ir.shared(s),c=Bt.ir.rtcall("numops::toBool",[s]),l=k.mkLabel("lazySkip"),u=a.operatorToken.kind==Bt.SK.BarBarToken?Bt.ir.JmpMode.IfZero:a.operatorToken.kind==Bt.SK.AmpersandAmpersandToken?Bt.ir.JmpMode.IfNotZero:Bt.U.oops(),k.emitJmp(l,c,u),k.emitJmp(o,s,Bt.ir.JmpMode.Always,s),k.emitLbl(l),k.emitExpr(L("langsupp::ignore",[s])),k.emitJmp(o,B(a.right),Bt.ir.JmpMode.Always),k.emitLbl(o),Ke();case Bt.SK.InstanceOfKeyword:return u=lr((c=r).right),(l=cr(u)?N(c.right):null)&&l.kind==Bt.SK.ClassDeclaration||Jt(9275,Pt("unsupported instanceof expression")),P(u=D(u,l)),(l=Bt.ir.op(Bt.ir.EK.InstanceOf,[B(c.left)],u)).jsInfo="bool",l}return r.operatorToken.kind==Bt.SK.PlusToken&&(pr(e)||pr(t))?R("String_::concat",[_(r.left),_(r.right)],null):r.operatorToken.kind==Bt.SK.PlusEqualsToken&&pr(e)?(p=Ve(r.left),d=Bt.ir.shared(R("String_::concat",[_(r.left),_(r.right)],null)),Qe(r.left,m(d)),p(),d):(p=(e=>{switch(e){case Bt.SK.PlusEqualsToken:return Bt.SK.PlusToken;case Bt.SK.MinusEqualsToken:return Bt.SK.MinusToken;case Bt.SK.AsteriskEqualsToken:return Bt.SK.AsteriskToken;case Bt.SK.AsteriskAsteriskEqualsToken:return Bt.SK.AsteriskAsteriskToken;case Bt.SK.SlashEqualsToken:return Bt.SK.SlashToken;case Bt.SK.PercentEqualsToken:return Bt.SK.PercentToken;case Bt.SK.LessThanLessThanEqualsToken:return Bt.SK.LessThanLessThanToken;case Bt.SK.GreaterThanGreaterThanEqualsToken:return Bt.SK.GreaterThanGreaterThanToken;case Bt.SK.GreaterThanGreaterThanGreaterThanEqualsToken:return Bt.SK.GreaterThanGreaterThanGreaterThanToken;case Bt.SK.AmpersandEqualsToken:return Bt.SK.AmpersandToken;case Bt.SK.BarEqualsToken:return Bt.SK.BarToken;case Bt.SK.CaretEqualsToken:return Bt.SK.CaretToken;default:return Bt.SK.Unknown}})(r.operatorToken.kind),(d=st(0,p||r.operatorToken.kind))||S(r.operatorToken,Pt("unsupported operator"),9250),p?He(r.left,d,!1,r.right):(p=Ye(p=d),f=[r.left,r.right],Bt.ir.rtcallMask(p,De(f),0,f.map(e=>B(e)))))}}function ct(e){e.statements.forEach(j)}function lt(e){if(!(e.flags&Ut.NodeFlags.Let||e.flags&Ut.NodeFlags.Const))throw Jt(9260,Pt("variable needs to be defined using 'let' instead of 'var'"))}function ut(e){if(e.declarationList.flags&Ut.NodeFlags.Const){var r=e.parent&&e.parent.kind==Bt.SK.ModuleBlock?ar(e.parent.parent):"?";if("config"==r||"userconfig"==r)for(var n of e.declarationList.declarations){let t=dr(n);if(n.initializer){var n=tt(n.initializer),i=nt(e,"CFG_"+t);if(null==i||0==i)throw Jt(9268,Pt("can't find DAL.CFG_{0}",t));"userconfig"==r&&(t="!"+t);{a=void 0;var a={name:t,key:i,value:n};let e=Bt.U.lookup(s,a.name);if(e||(e=a,s[a.name]=e),e.value!=a.value)throw Jt(9269,Pt("conflicting values for config.{0}",a.name))}}}}Ut.isInAmbientContext(e)||(lt(e.declarationList),e.declarationList.declarations.forEach(j))}function M(e,t=null){if(!t&&Ht()&&e.kind==Bt.SK.BinaryExpression){var r=e,n=Bt.U.lookup(Bt.thumbCmpMap,st(0,r.operatorToken.kind));if(n)return Bt.ir.rtcall(n,[B(r.left),B(r.right)])}return t=t||B(e),qt()?t:Bt.ir.rtcall("numops::toBoolDecr",[t])}function U(e){e=zt(e);return{fortop:".fortop."+e,cont:".cont."+e,brk:".brk."+e,ret:".ret."+e}}function dt(e){if(!e)return 1;switch(e.kind){case Bt.SK.Identifier:case Bt.SK.StringLiteral:case Bt.SK.NumericLiteral:case Bt.SK.NullKeyword:return 1}}function pt(e){return B(e)}function ft(e){dt(e)||(f(e),e=pt(e),k.emitExpr(e),k.stackEmpty())}function _t(r){if(r.initializer&&r.initializer.kind==Bt.SK.VariableDeclarationList){var n=r.initializer;if(1!=n.declarations.length)S(r,"only a single variable may be used to iterate a collection");else{lt(n);var i=lr(r.expression);let e="",t="";if(pr(i))e="String_::charAt",t="String_::length";else{if(!sr(i))return void S(r.expression,"cannot use for...of with this expression");e="Array_::getAt",t="Array_::length"}c(n.declarations[0]);var i=xt(n.declarations[0]),n=(Bt.U.assert(!!i||!x.finalPass),k.stackEmpty(),k.mkLocalUnnamed()),a=(k.emitExpr(n.storeByRef(B(r.expression))),k.mkLocalUnnamed()),s=(k.emitExpr(a.storeByRef(F(0))),k.stackEmpty(),f(r),U(r)),o=(k.emitLblDirect(s.fortop),Bt.ir.rtcall(t,[n.loadCore()])),o=Xe("numops::lt_bool",a.load(),gr(o));k.emitJmpZ(s.brk,o);i&&(k.emitExpr(i.storeByRef(Bt.ir.rtcall(e,[n.loadCore(),(o=a.loadCore(),Vt()?Bt.ir.rtcall("pxt::toInt",[o]):o)]))),f(r.initializer)),Me(),j(r.statement),k.emitLblDirect(s.cont),k.emitExpr(a.storeByRef(Xe("numops::adds",a.load(),F(1)))),k.emitJmp(s.fortop),k.emitLblDirect(s.brk),k.emitExpr(n.storeByRef(F(void 0)))}}else S(r,"only a single variable may be used to iterate a collection")}function mt(e){f(e);let r=e.label?e.label.text:null,n=e.kind==Bt.SK.BreakStatement,i=0;var t,a=function e(t){return t?r&&t.kind==Bt.SK.LabeledStatement&&t.label.text==r?t.statement:t.kind==Bt.SK.SwitchStatement&&!r&&n||!r&&Ut.isIterationStatement(t,!1)?t:(i+=yt(t),e(t.parent)):null}(e);a?(t=U(a),gt(i),e.kind==Bt.SK.ContinueStatement?Ut.isIterationStatement(a,!1)?k.emitJmp(t.cont):ie(e,9231,Pt("continue on non-loop")):e.kind==Bt.SK.BreakStatement?k.emitJmp(t.brk):Bt.oops()):ie(e,9230,Pt("cannot find outer loop"))}function gt(e=1){for(;e--;)k.emitExpr(L("pxt::endTry",[]))}function ht(){Jt(9282,Pt("jumps (return, break, continue) through finally blocks not supported yet"))}function yt(e){let t=0;var r;return e.kind==Ut.SyntaxKind.Block&&e.parent&&(e.parent.kind==Ut.SyntaxKind.CatchClause?e.parent.parent.finallyBlock&&(t++,ht()):e.parent.kind==Ut.SyntaxKind.TryStatement&&(r=e.parent).tryBlock==e&&(r.catchClause&&t++,r.finallyBlock)&&(t++,ht())),t}function vt(e){for(;e;){if((e=>{switch(e.kind){case Bt.SK.WhileStatement:case Bt.SK.ForInStatement:case Bt.SK.ForOfStatement:case Bt.SK.ForStatement:case Bt.SK.DoStatement:return 1;default:return}})(e))return 1;e=e.parent}}function bt(t,r,n){if(t.name.kind===Bt.SK.ObjectBindingPattern||t.name.kind==Bt.SK.ArrayBindingPattern)return r||(r=t.initializer?Bt.ir.shared(B(t.initializer)):A(t),n=lr(t.initializer||t)),t.name.elements.forEach(e=>bt(e,r,n)),k.stackEmpty(),null;if(!Se(t))return null;if(et(t))return null;let e;if(Ue((e=tr(t)?(ce(t),le(t)):k.mkLocal(t,C(t))).info),e.isByRefLocal()&&k.emitExpr(e.storeDirect(Bt.ir.rtcall("pxtrt::mklocRef",[]))),oe(lr(t)),t.kind===Bt.SK.BindingElement){f(t);var[i,,]=function t(r,n,i){let a=r.parent.parent;if(a.kind===Bt.SK.BindingElement){let e=t(a,n,i);n=e[0],i=e[1]}{if(r.parent.kind==Bt.SK.ArrayBindingPattern){let e=r.parent.elements.indexOf(r),t=(r.dotDotDotToken&&Jt(9203,Pt("spread operator not supported yet")),kr(i,e));return[L("Array_::getAt",[n,Bt.ir.numlit(e)]),t]}{let e=r.propertyName||r.name;return kt(r,n,i,e.text)}}}(t,r,n);k.emitExpr(e.storeByRef(i))}else if(t.initializer){if(f(t),tr(t)){let e=ir(t).jres;e&&("true"==e&&(e=nr(Ot,t)),(i=Bt.U.lookup(p.jres||{},e))?z=i:Jt(9270,Pt("resource '{0}' not found in any .jres file",e)))}t.initializer,k.emitExpr(e.storeByRef(B(t.initializer))),z=null,k.stackEmpty()}else vt(t)&&(f(t),k.emitExpr(e.storeByRef(F(void 0))),k.stackEmpty());return e}function xt(e){return bt(e,null,null)}function kt(e,t,r,n){var i=Ot.getPropertyOfType(r,n),i=(Bt.U.assert(!!i,"field sym"),Ot.getTypeOfSymbolAtLocation(i,e));let a;return[a=cr(r)?(r=D(r),Bt.ir.op(Nt.FieldAccess,[t],Ge(r,O(r,n)))):Ie([t],{ifaceIndex:E(n,!0),callLocationIndex:At(e),noArgs:!0}),i]}function St(e){x;var t=e,r=e=>{e&&e.kind==Bt.SK.ClassDeclaration&&Jt(9261,Pt("Interface with same name as a class not supported"))};if(r(t.symbol.valueDeclaration),t.symbol.declarations&&t.symbol.declarations.forEach(r),t.heritageClauses)for(var n of t.heritageClauses)n.token===Bt.SK.ExtendsKeyword&&or(lr(n.types[0]))&&Jt(9262,Pt("Extending a class by an interface not supported."));r=ir(e);r.autoCreate&&(K[r.autoCreate]=!0)}function Tt(t,e){var r=Lt;Mt++;try{Lt=null;var n=e(t);return Lt&&Jt(Rt,Lt),Lt=r,Mt--,n}catch(e){return Mt--,Lt=null,ie(t,e.ksErrorCode||9200,e.message),pxt.debug(e.stack),null}}function B(e,t=!0){var r;return t&&e.cachedIR?e.cachedIR:(r=Tt(e,Ct)||F(void 0),t&&e.needsIRCache?(e.cachedIR=Bt.ir.shared(r),e.cachedIR):r)}function Ct(e){e=(e=>{switch(e.kind){case Bt.SK.NullKeyword:var t=Kt(e).valueOverride;return t?t:F(null);case Bt.SK.TrueKeyword:return F(!0);case Bt.SK.FalseKeyword:return F(!1);case Bt.SK.TemplateHead:case Bt.SK.TemplateMiddle:case Bt.SK.TemplateTail:case Bt.SK.NumericLiteral:case Bt.SK.StringLiteral:case Bt.SK.NoSubstitutionTemplateLiteral:return(e=>{if(e.kind==Bt.SK.NumericLiteral)return e.imageLiteral?Bt.ir.ptrlit(e.imageLiteral,e.jsLit):F(parseFloat(e.text));if(Wt(e))return he(e.text);throw Bt.oops()})(e);case Bt.SK.TaggedTemplateExpression:return Fe(e);case Bt.SK.PropertyAccessExpression:return(e=>{let t=N(e);var r,n=et(t);if(n)return F(n.val);if((t=t.kind==Bt.SK.SetAccessor?ve(t):t).kind==Bt.SK.GetAccessor)return a(e,e,[],null,t);if(t.kind==Bt.SK.EnumMember)throw Jt(9210,Pt("Cannot compute enum value"));if(t.kind==Bt.SK.PropertySignature||t.kind==Bt.SK.PropertyAssignment)return a(e,e,[],null,t,e.expression);if(t.kind==Bt.SK.PropertyDeclaration||t.kind==Bt.SK.Parameter)return Qt(t)?A(t):be(t)?a(e,e,[],null,t,e.expression):ir(r=O((n=We(e)).classInfo,n.name)).shim?Ae(r,t,[e.expression]):Bt.ir.op(Nt.FieldAccess,[B(e.expression)],n);if(Xt(t)||t.kind==Bt.SK.MethodSignature)throw Jt(9211,Pt("cannot use method as lambda; did you forget '()' ?"));if(t.kind==Bt.SK.FunctionDeclaration)return fe(t);if(er(t))return A(t);throw S(e,Pt("Unknown property access for {0}",$t(t)),9237)})(e);case Bt.SK.BinaryExpression:return ot(e);case Bt.SK.PrefixUnaryExpression:return(e=>{var t=g(e);if(t)return F(t.val);switch(e.operator){case Bt.SK.ExclamationToken:return hr(Bt.ir.rtcall("Boolean_::bang",[M(e.operand)]));case Bt.SK.PlusPlusToken:return He(e.operand,"numops::adds",!1);case Bt.SK.MinusMinusToken:return He(e.operand,"numops::subs",!1);case Bt.SK.PlusToken:case Bt.SK.MinusToken:var r=B(e.operand),n=it(r);return null!=n?F(-n):e.operator==Bt.SK.MinusToken?Xe("numops::subs",F(0),r):Xe("numops::subs",r,F(0));case Bt.SK.TildeToken:n=B(e.operand),r=it(n);return null!=r?F(~r):L(Ye("numops::bnot"),[n]);default:throw S(e,Pt("unsupported prefix unary operation"),9245)}})(e);case Bt.SK.PostfixUnaryExpression:return(e=>{if(Er(lr(e.operand)))switch(e.operator){case Bt.SK.PlusPlusToken:return He(e.operand,"numops::adds",!0);case Bt.SK.MinusMinusToken:return He(e.operand,"numops::subs",!0)}throw S(e,Pt("unsupported postfix unary operation"),9246)})(e);case Bt.SK.ElementAccessExpression:return xe(e);case Bt.SK.ParenthesizedExpression:return(e=>B(e.expression))(e);case Bt.SK.TypeAssertionExpression:return(e=>(e.expression,B(e.expression)))(e);case Bt.SK.ArrayLiteralExpression:return(e=>{kr(lr(e));var t,r=Bt.ir.shared(Bt.ir.rtcall("Array_::mk",[]));for(t of e.elements){var n=Ee(t)?2:0;k.emitExpr(Bt.ir.rtcall("Array_::push",[r,B(t)],n))}return r})(e);case Bt.SK.NewExpression:return(r=>{if((i=Ot.getTypeAtLocation(r))&&sr(i))throw Bt.oops();if(i&&cr(i)){i=N(r.expression);i.kind!=Bt.SK.ClassDeclaration&&Jt(9221,Pt("new expression only supported on class types"));let t;i=D(lr(r),i);for(let e=i;e&&!(t=Oe(e.decl));e=e.baseClassInfo);P(i);var n,i=i.id+"_VT";let e=Bt.ir.rtcall("pxt::mkClassInstance",[Bt.ir.ptrlit(i,i)]);return t?(e=je(e),c(t),i=(r.arguments||[]).slice(0),n=ir(t),we(Ot.getResolvedSignature(r),i,n),i=i.map(e=>B(e)),n.shim?Bt.ir.rtcall(n.shim,i):(i.unshift(e),k.emitExpr(Pe(t,r,i)),e)):(r.arguments&&r.arguments.length&&Jt(9222,Pt("constructor with arguments not found")),e)}throw S(r,Pt("unknown type for new"),9243)})(e);case Bt.SK.SuperKeyword:case Bt.SK.ThisKeyword:return ge(e);case Bt.SK.CallExpression:return(e=>{var t=Ot.getResolvedSignature(e);return a(e,e.expression,e.arguments,t)})(e);case Bt.SK.FunctionExpression:case Bt.SK.ArrowFunction:return $e(e);case Bt.SK.Identifier:return me(e);case Bt.SK.ConditionalExpression:return(e=>{var t=k.mkLabel("condexprz"),r=k.mkLabel("condexprfin");return k.emitJmp(t,M(e.condition),Bt.ir.JmpMode.IfZero),k.emitJmp(r,B(e.whenTrue),Bt.ir.JmpMode.Always),k.emitLbl(t),k.emitJmp(r,B(e.whenFalse),Bt.ir.JmpMode.Always),k.emitLbl(r),Ke()})(e);case Bt.SK.AsExpression:return(e=>(e.expression,B(e.expression)))(e);case Bt.SK.TemplateExpression:return ye(e);case Bt.SK.ObjectLiteralExpression:return(e=>{let i=Bt.ir.shared(Bt.ir.rtcall("pxtrt::mkMap",[]));return e.properties.forEach(e=>{Bt.assert(!e.questionToken);let t,r;if(e.kind==Bt.SK.ShorthandPropertyAssignment){Bt.assert(!e.equalsToken&&!e.objectAssignmentInitializer),t=e.name.text;var n=Ot.getShorthandAssignmentValueSymbol(e),n=n&&n.valueDeclaration&&n.valueDeclaration.name;if(!n||n.kind!=Bt.SK.Identifier)throw S(e);r=me(n)}else{if(e.name.kind==Bt.SK.ComputedPropertyName)return n=e.name.expression,void k.emitExpr(R("pxtrt::mapSetByString",[m(i,!0),n,e.initializer],null));t=e.name.kind==Bt.SK.StringLiteral?e.name.text:e.name.getText(),r=B(e.initializer)}n=Bt.target.isNative?Bt.ir.numlit(E(t)):Bt.ir.ptrlit(null,JSON.stringify(t)),e=[i,n,r];k.emitExpr(Bt.ir.rtcall(Bt.target.isNative?"pxtrt::mapSet":"pxtrt::mapSetByString",e))}),i})(e);case Bt.SK.TypeOfExpression:return(e=>R("pxt::typeOf",[e.expression],null))(e);case Ut.SyntaxKind.DeleteExpression:return(e=>{let t,r;if(e.expression.kind==Bt.SK.PropertyAccessExpression){var n=e.expression;t=n.expression,r=m(he(n.name.text))}else{if(e.expression.kind!=Bt.SK.ElementAccessExpression)throw Jt(9276,Pt("expression not supported as argument to 'delete'"));n=e.expression;t=n.expression,r=n.argumentExpression}if(or(e=lr(t)))throw Jt(9277,Pt("'delete' not supported on class types"));if(sr(e))throw Jt(9277,Pt("'delete' not supported on array"));return R("pxtrt::mapDeleteByString",[t,r],null)})(e);default:return S(e),null}})(e);if(e.isExpr())return e;throw new Error("expecting expression")}function Et(e){var t=Kt(e);if(t.usedNodes){b=!1;for(var r of Bt.U.values(t.usedNodes))c(r);for(var n of t.usedActions)n(x);b=!0}else tr(e)||Ut.isClassDeclaration(e)?(b=!1,(v=t).usedNodes=null,v.usedActions=null,tr(e)&&!et(e)&&ce(e),j(e),b=!0):((v=t).usedNodes={},v.usedActions=[],j(e),v=null)}function j(e){Tt(e,Dt)}function Dt(n){switch(n.kind){case Bt.SK.SourceFile:return void n.statements.forEach(j);case Bt.SK.InterfaceDeclaration:return St(n);case Bt.SK.VariableStatement:return ut(n);case Bt.SK.ModuleDeclaration:return void j(n.body);case Bt.SK.EnumDeclaration:return;case Bt.SK.FunctionDeclaration:case Bt.SK.Constructor:case Bt.SK.MethodDeclaration:return void $e(n);case Bt.SK.ExpressionStatement:return void ft(n.expression);case Bt.SK.Block:case Bt.SK.ModuleBlock:return ct(n);case Bt.SK.VariableDeclaration:return xt(n),void Me();case Bt.SK.IfStatement:return f(u=n),d=k.mkLabel("else"),k.emitJmpZ(d,M(u.expression)),j(u.thenStatement),p=k.mkLabel("afterif"),k.emitJmp(p),k.emitLbl(d),u.elseStatement&&j(u.elseStatement),void k.emitLbl(p);case Bt.SK.WhileStatement:return f(d=n),u=U(d),k.emitLblDirect(u.cont),f(d.expression),k.emitJmpZ(u.brk,M(d.expression)),j(d.statement),k.emitJmp(u.cont),void k.emitLblDirect(u.brk);case Bt.SK.DoStatement:return f(p=n),l=U(p),k.emitLblDirect(l.cont),j(p.statement),f(p.expression),k.emitJmpZ(l.brk,M(p.expression)),k.emitJmp(l.cont),void k.emitLblDirect(l.brk);case Bt.SK.ForStatement:return(l=n).initializer&&l.initializer.kind==Bt.SK.VariableDeclarationList?(lt(l.initializer),l.initializer.declarations.forEach(j)):ft(l.initializer),f(l),c=U(l),k.emitLblDirect(c.fortop),l.condition&&(f(l.condition),k.emitJmpZ(c.brk,M(l.condition))),j(l.statement),k.emitLblDirect(c.cont),ft(l.incrementor),k.emitJmp(c.fortop),void k.emitLblDirect(c.brk);case Bt.SK.ForOfStatement:return _t(n);case Bt.SK.ContinueStatement:case Bt.SK.BreakStatement:return mt(n);case Bt.SK.LabeledStatement:return o=U((c=n).statement),j(c.statement),void k.emitLblDirect(o.brk);case Bt.SK.ReturnStatement:{o=n;f(o);let e=null,t=(o.expression?e=B(o.expression):ur(k.action)&&(e=F(void 0)),0);for(let e=o;e&&e!=k.action;e=e.parent)t+=yt(e);gt(t),k.emitJmp(U(k.action).ret,e,Bt.ir.JmpMode.Always);return}case Bt.SK.ClassDeclaration:return(a=D(null,s=n)).isUsed&&x.usedClassInfos.indexOf(a)<0&&x.usedClassInfos.push(a),void s.members.forEach(j);case Bt.SK.PropertyDeclaration:case Bt.SK.PropertyAssignment:return void(Qt(a=n)?xt(a):a.initializer&&(a=D(lr(a.parent)),x.finalPass)&&a.isUsed&&!a.ctor&&Jt(9209,Pt("class field initializers currently require an explicit constructor")));case Bt.SK.SwitchStatement:{s=n;f(s);var e=U(s);let i,a=Bt.ir.shared(B(s.expression)),r=s.caseBlock.clauses.map(e=>{var t,r,n=k.mkLabel("switch");return e.kind==Bt.SK.CaseClause?(t=B((r=e).expression),r=Ee(r.expression)?1:0,r=Bt.ir.rtcallMask(Ye("pxt::switch_eq"),r,0,[t,a]),k.emitJmp(n,r,Bt.ir.JmpMode.IfNotZero,a)):e.kind==Bt.SK.DefaultClause?(Bt.assert(!i,"!defaultLabel"),i=n):Bt.oops(),n});i?k.emitJmp(i,a):k.emitJmp(e.brk,a),s.caseBlock.clauses.forEach((e,t)=>{k.emitLbl(r[t]),e.statements.forEach(j)}),k.emitLblDirect(e.brk);return}case Bt.SK.TypeAliasDeclaration:return;case Ut.SyntaxKind.TryStatement:return e=e=>L("pxt::beginTry",[Bt.ir.ptrlit(e.lblName,e)]),f(t=n),(r=k.mkLabel("catch")).lblName="_catch_"+zt(t),(i=k.mkLabel("finally")).lblName="_finally_"+zt(t),t.finallyBlock&&k.emitExpr(e(i)),t.catchClause&&k.emitExpr(e(r)),k.stackEmpty(),ct(t.tryBlock),k.stackEmpty(),t.catchClause&&(e=k.mkLabel("catchend"),gt(),k.emitJmp(e),k.emitLbl(r),(r=t.catchClause.variableDeclaration)&&(xt(r),r=le(r),k.emitExpr(r.storeByRef(L("pxt::getThrownValue",[])))),Me(),ct(t.catchClause.block),k.emitLbl(e)),void(t.finallyBlock&&(gt(),k.emitLbl(i),ct(t.finallyBlock),k.emitExpr(L("pxt::endFinally",[]))));case Ut.SyntaxKind.ThrowStatement:return f(r=n),void k.emitExpr(L("pxt::throwValue",[B(r.expression)]));case Bt.SK.DebuggerStatement:return void f(n);case Bt.SK.GetAccessor:case Bt.SK.SetAccessor:return void $e(n);case Bt.SK.ImportEqualsDeclaration:case Bt.SK.EmptyStatement:case Bt.SK.SemicolonClassElement:return;default:S(n)}var t,r,i,s,a,o,c,l,u,d,p}function At(e){return y.procCallLocations.push(Bt.nodeLocationInfo(e))-1}},Bt.isStringType=pr;class wr{constructor(){this.procs=[],this.globals=[],this.finalPass=!1,this.writeFile=(e,t)=>{},this.usedClassInfos=[],this.numStmts=1,this.commSize=0,this.itEntries=0,this.itFullEntries=0,this.numMethods=0,this.numVirtMethods=0,this.usedChars=new Uint32Array(2048),this.explicitlyUsedIfaceMembers={},this.ifaceMemberMap={},this.strings={},this.hexlits={},this.doubles={},this.otherLiterals=[],this.codeHelpers={},this.lblNo=0}reset(){this.lblNo=0,this.otherLiterals=[],this.strings={},this.hexlits={},this.doubles={},this.numStmts=0}getTitle(){var e=this.name||Bt.U.lf("Untitled");return 90<=e.length?e.slice(0,87)+"...":e}addProc(e){Bt.assert(!this.finalPass,"!this.finalPass"),this.procs.push(e),e.seqNo=this.procs.length}recordHelper(e,t,r){var n=e=>{e.codeHelpers[t]||(e.codeHelpers[t]=r(e))};n(this),this.recordAction(e,n)}recordAction(e,t){e?e.usedActions&&e.usedActions.push(t):Bt.U.oops("no using ctx!")}emitLabelled(e,t,r){var n=Bt.U.lookup(t,e);return null!=n?n:(n=r+this.lblNo++,t[e]=n)}emitDouble(e){return this.emitLabelled(Bt.target.switches.numFloat?(t=e,(r=new Float32Array(1))[0]=t,Bt.U.toHex(new Uint8Array(r.buffer))):(t=e,(r=new Float64Array(1))[0]=t,Bt.U.toHex(new Uint8Array(r.buffer))),this.doubles,"_dbl");var t,r}emitString(t){if(!this.finalPass)for(let e=0;e<t.length;++e){var r=t.charCodeAt(e);128<=r&&(this.usedChars[r>>5]|=1<<(31&r))}return this.emitLabelled(t,this.strings,"_str")}emitHexLiteral(e){return this.emitLabelled(e,this.hexlits,"_hexlit")}setPerfCounters(e){if(!Bt.target.switches.profile)return[];let t=e.slice();return this.procs.forEach(e=>{e.perfCounterName&&(Bt.U.assert(Bt.target.switches.profile),e.perfCounterNo=t.length,t.push(e.perfCounterName))}),t}}function fr(e){if(e.modifiers&&e.parent.kind==Bt.SK.Constructor)for(var t of e.modifiers)if(t.kind==Bt.SK.PrivateKeyword||t.kind==Bt.SK.PublicKeyword||t.kind==Bt.SK.ProtectedKeyword)return!0;return!1}function _r(e){return e.flags&Ut.TypeFlags.Union?e.types.every(e=>_r(e)):!!(e.flags&(Ut.TypeFlags.NumberLike|Ut.TypeFlags.EnumLike|Ut.TypeFlags.BooleanLike))}function mr(e,t,r,n){var i=n(e);return t&&e.recordAction(r,n),i}Bt.Binary=wr,Bt.isCtorField=fr}})(ts=ts||{}),!function(ts){var pxtc;!function(pxtc){function getTsCompilerOptions(e){var t=ts.getDefaultCompilerOptions();return t.target=ts.ScriptTarget.ES5,t.module=ts.ModuleKind.None,t.noImplicitAny=!0,t.noImplicitReturns=!0,t.allowUnreachableCode=!0,Object.assign(Object.assign({},t),null==e?void 0:e.tsCompileOptions)}function nodeLocationInfo(e){var t=ts.getSourceFileOfNode(e),r=e.getStart?e.getStart():e.pos,{line:n,character:i}=ts.getLineAndCharacterOfPosition(t,r),{line:a,character:s}=ts.getLineAndCharacterOfPosition(t,e.end);return{start:r,length:e.end-r,line:n,column:i,endLine:a,endColumn:s,fileName:t.fileName}}function patchUpDiagnostics(e,t=!1){t=(e=t?e.filter(e=>5012!==e.code):e).filter(e=>1148==e.code);return(e=0<t.length?t:e).map(e=>{var t;return e.file?(t=ts.getLineAndCharacterOfPosition(e.file,e.start),1148==(t={code:e.code,start:e.start,length:e.length,line:t.line,column:t.character,messageText:ts.flattenDiagnosticMessageText(e.messageText,"\n"),category:e.category,fileName:e.file.fileName}).code&&(t.messageText=pxtc.Util.lf("all symbols in top-level scope are always exported; please use a namespace if you want to export only some")),t):{code:e.code,start:e.start,length:e.length,line:0,column:0,messageText:ts.flattenDiagnosticMessageText(e.messageText,"\n"),category:e.category,fileName:"?"}})}function py2tsIfNecessary(e){if(e.target.preferredEditor==pxt.PYTHON_PROJECT_NAME)return pxtc.transpile.pyToTs(e)}function mkCompileResult(){return{outfiles:{},diagnostics:[],success:!1,times:{}}}function storeGeneratedFiles(e,t){for(var r of e.generatedFiles||[])t.outfiles[r]=e.fileSystem[r]}function runConversionsAndStoreResults(e,t){var r=pxtc.U.cpuUs(),n=(t=t||mkCompileResult(),py2tsIfNecessary(e)),n=(storeGeneratedFiles(e,t=n?Object.assign(Object.assign({},t),{diagnostics:n.diagnostics,sourceMap:n.sourceMap,globalNames:n.globalNames}):t),e.sourceFiles||(e.sourceFiles=Object.keys(e.fileSystem)),e.sourceFiles.indexOf(pxt.MAIN_TS)),n=(0<=n&&(e.sourceFiles.splice(n,1),e.sourceFiles.push(pxt.MAIN_TS)),e.sourceFiles.indexOf(pxt.TUTORIAL_CODE_STOP));return 0<=n&&(e.sourceFiles.splice(n,1),e.sourceFiles.push(pxt.TUTORIAL_CODE_STOP)),t.times.conversions=pxtc.U.cpuUs()-r,t}function timesToMs(e){for(var t of Object.keys(e.times))e.times[t]=Math.round(e.times[t])/1e3}function buildProgram(e,i){let a={};for(var t in e.fileSystem)a[normalizePath(t)]=e.fileSystem[t];var r=getTsCompilerOptions(e),n={getSourceFile:(e,t,r)=>{e=normalizePath(e);let n="";return a.hasOwnProperty(e)?n=a[e]:r&&r("File not found: "+e),null==n&&(r("File not found: "+e),n=""),ts.createSourceFile(e,n,t,!0)},fileExists:e=>(e=normalizePath(e),a.hasOwnProperty(e)),getCanonicalFileName:e=>e,getDefaultLibFileName:()=>"no-default-lib.d.ts",writeFile:(e,t,r,n)=>{i.outfiles[e]=t},getCurrentDirectory:()=>".",useCaseSensitiveFileNames:()=>!0,getNewLine:()=>"\n",readFile:e=>(e=normalizePath(e),a[e]||""),directoryExists:e=>!0,getDirectories:()=>[]},s=e.sourceFiles.filter(e=>pxtc.U.endsWith(e,".ts"));return ts.createProgram(s,r,n)}function isPxtModulesFilename(e){return pxtc.U.startsWith(e,"pxt_modules/")}function compile(opts,service){pxtc.compilerHooks||(pxtc.compilerHooks={},opts.target.compilerExtension&&eval(opts.target.compilerExtension)),pxtc.compilerHooks.init&&pxtc.compilerHooks.init(opts,service);let startTime=pxtc.U.cpuUs(),res=mkCompileResult(),program;if(service)storeGeneratedFiles(opts,res),program=service.getProgram();else{if(runConversionsAndStoreResults(opts,res),0<res.diagnostics.length)return res;program=buildProgram(opts,res)}let entryPoint=opts.sourceFiles.filter(e=>pxtc.U.endsWith(e,".ts")).pop().replace(/.*\//,"");if(res.diagnostics=patchUpDiagnostics(program.getSyntacticDiagnostics(),opts.ignoreFileResolutionErrors),0<res.diagnostics.length)opts.forceEmit&&(pxt.debug("syntactic errors, forcing emit"),pxtc.compileBinary(program,opts,res,entryPoint));else{res.diagnostics=patchUpDiagnostics(program.getOptionsDiagnostics().concat(pxtc.Util.toArray(program.getGlobalDiagnostics())),opts.ignoreFileResolutionErrors);let semStart=pxtc.U.cpuUs(),emitStart=(0==res.diagnostics.length&&(res.diagnostics=patchUpDiagnostics(program.getSemanticDiagnostics(),opts.ignoreFileResolutionErrors)),pxtc.U.cpuUs());if(res.times["typescript-syn"]=semStart-startTime,res.times["typescript-sem"]=emitStart-semStart,res.times.typescript=emitStart-startTime,opts.ast&&(res.ast=program),opts.ast||opts.forceEmit||0==res.diagnostics.length){let binOutput=pxtc.compileBinary(program,opts,res,entryPoint);res.times.compilebinary=pxtc.U.cpuUs()-emitStart,res.diagnostics=res.diagnostics.concat(patchUpDiagnostics(binOutput.diagnostics))}0==res.diagnostics.length&&(res.success=!0);for(var f of opts.sourceFiles)pxtc.Util.startsWith(f,"built/")&&(res.outfiles[f.slice(6)]=opts.fileSystem[f]);res.times.all=pxtc.U.cpuUs()-startTime,pxt.tickEvent("compile",res.times)}return res}function decompile(e,t,r,n=!1){var i=e.getSourceFile(r),r=(pxtc.annotate(e,r,pxtc.target||pxt.appTarget&&pxt.appTarget.compile),pxtc.getApiInfo(e,t.jres)),r=pxtc.getBlocksInfo(r,t.bannedCategories),n={snippetMode:t.snippetMode||!1,alwaysEmitOnStart:t.alwaysDecompileOnStart,includeGreyBlockMessages:n,generateSourceMap:void 0!==t.generateSourceMap?t.generateSourceMap:!!t.ast,allowedArgumentTypes:t.allowedArgumentTypes||["number","boolean","string"],errorOnGreyBlocks:!!t.errorOnGreyBlocks},[t,,]=pxtc.decompiler.buildRenameMap(e,i,{declarations:"variables",takenNames:{}});return pxtc.decompiler.decompileToBlocks(r,i,n,t)}function decompileSnippets(e,t,r=!1){var e=pxtc.getApiInfo(e,t.jres),n=pxtc.getBlocksInfo(e,t.bannedCategories),i=new pxtc.decompiler.RenameMap([]),a={snippetMode:t.snippetMode||!1,alwaysEmitOnStart:t.alwaysDecompileOnStart,includeGreyBlockMessages:r,generateSourceMap:void 0!==t.generateSourceMap?t.generateSourceMap:!!t.ast,allowedArgumentTypes:t.allowedArgumentTypes||["number","boolean","string"],errorOnGreyBlocks:!!t.errorOnGreyBlocks};let s;var o=[];if(t.sourceTexts)for(let e=0;e<t.sourceTexts.length;e++){t.fileSystem[pxt.MAIN_TS]=t.sourceTexts[e],t.fileSystem[pxt.MAIN_BLOCKS]="";var c=getTSProgram(t,s),l=c.getSourceFile(pxt.MAIN_TS),l=pxtc.decompiler.decompileToBlocks(n,l,a,i);o.push(l.outfiles[pxt.MAIN_BLOCKS]),s=c}return o}function getTSProgram(e,t){let i={},a={};for(var r in e.fileSystem)a[normalizePath(r)]=e.fileSystem[r];let s=getTsCompilerOptions(e);var n={getSourceFile:(e,t,r)=>{e=normalizePath(e);let n="";return a.hasOwnProperty(e)?n=a[e]:r&&r("File not found: "+e),null==n&&(r("File not found: "+e),n=""),ts.createSourceFile(e,n,t,!0,void 0,s)},fileExists:e=>(e=normalizePath(e),a.hasOwnProperty(e)),getCanonicalFileName:e=>e,getDefaultLibFileName:()=>"no-default-lib.d.ts",writeFile:(e,t,r,n)=>{i[e]=t},getCurrentDirectory:()=>".",useCaseSensitiveFileNames:()=>!0,getNewLine:()=>"\n",readFile:e=>(e=normalizePath(e),a[e]||""),directoryExists:e=>!0,getDirectories:()=>[]};e.sourceFiles||(e.sourceFiles=Object.keys(e.fileSystem));let o=e.sourceFiles.filter(e=>pxtc.U.endsWith(e,".ts"));var c=o.filter(e=>e!=pxt.MAIN_TS),c=(o.length>c.length&&(o=c).push(pxt.MAIN_TS),o.indexOf(pxt.TUTORIAL_CODE_STOP)),c=(0<=c&&(o.splice(c,1),o.push(pxt.TUTORIAL_CODE_STOP)),ts.createProgram(o,s,n,t));return pxtc.annotate(c,pxt.MAIN_TS,pxtc.target||pxt.appTarget&&pxt.appTarget.compile),c}function normalizePath(e){e=e.replace(/\\/g,"/");let t=[];return e.split("/").forEach(e=>{".."===e&&t.length?t.pop():"."!==e&&t.push(e)}),t.join("/")}pxtc.getTsCompilerOptions=getTsCompilerOptions,pxtc.nodeLocationInfo=nodeLocationInfo,pxtc.patchUpDiagnostics=patchUpDiagnostics,pxtc.py2tsIfNecessary=py2tsIfNecessary,pxtc.storeGeneratedFiles=storeGeneratedFiles,pxtc.runConversionsAndStoreResults=runConversionsAndStoreResults,pxtc.timesToMs=timesToMs,pxtc.isPxtModulesFilename=isPxtModulesFilename,pxtc.compile=compile,pxtc.decompile=decompile,pxtc.decompileSnippets=decompileSnippets,pxtc.getTSProgram=getTSProgram}(pxtc=ts.pxtc||(ts.pxtc={}))}(ts=ts||{}),(f=>{{var e=f.elf||(f.elf={});let u=["type","offset","vaddr","paddr","filesz","memsz","flags","align"],d=f.HF2.read32,p=f.HF2.read16;e.parse=function(a){1179403647!=d(a,0)&&f.U.userError("no magic"),1!=a[4]&&f.U.userError("not 32 bit"),1!=a[5]&&f.U.userError("not little endian"),1!=a[6]&&f.U.userError("bad version"),2!=p(a,16)&&f.U.userError("wrong object type"),40!=p(a,18)&&f.U.userError("not ARM");let s=d(a,28),o=(d(a,32),0==s&&f.U.userError("expecting program headers"),p(a,42));var e,t=p(a,44),t=f.U.range(t).map(e=>{var t,r=s+e*o,n={},e=r;for(t of u)n[t]=d(a,r),r+=4;var i=n;return i._filepos=e,i});let r=a.length+1;for(;15&r;)r++;let n=0;for(e of t)1==e.type&&(n=Math.max(n,e.vaddr+e.memsz));var i,c=(n+4096-1&-4096)+(4095&r);let l=-1;for(i of t)4==i.type&&(l=i._filepos);return{imageMemStart:c,imageFileStart:r,phOffset:l,template:a}},e.patch=function(t,e){var r=new Uint8Array(t.imageFileStart+e.length),t=(r.fill(0),f.U.memcpy(r,0,t.template),f.U.memcpy(r,t.imageFileStart,e),{_filepos:t.phOffset,type:1,offset:t.imageFileStart,vaddr:t.imageMemStart,paddr:t.imageMemStart,filesz:e.length,memsz:e.length,flags:5,align:4096});{var n,i=r,a=t;let e=a._filepos;for(n of u)f.HF2.write32(i,e,a[n]||0),e+=4}return r}}})(pxt=pxt||{}),(f=>{{var e=f.esp||(f.esp={});let l=f.HF2.read32,u=f.HF2.read16,d=[{name:"esp32",chipId:0,memmap:[{from:0,to:65536,id:"PADDING"},{from:1061158912,to:1065353216,id:"DROM"},{from:1065353216,to:1069547520,id:"EXTRAM_DATA"},{from:1073217536,to:1073225728,id:"RTC_DRAM"},{from:1073283072,to:1073741824,id:"BYTE_ACCESSIBLE"},{from:1073405952,to:1073741824,id:"DRAM"},{from:1073610752,to:1073741820,id:"DIRAM_DRAM"},{from:1073741824,to:1074200576,id:"IROM"},{from:1074200576,to:1074233344,id:"CACHE_PRO"},{from:1074233344,to:1074266112,id:"CACHE_APP"},{from:1074266112,to:1074397184,id:"IRAM"},{from:1074397184,to:1074528252,id:"DIRAM_IRAM"},{from:1074528256,to:1074536448,id:"RTC_IRAM"},{from:1074593792,to:1077936128,id:"IROM"},{from:1342177280,to:1342185472,id:"RTC_DATA"}]},{name:"esp32-s2",chipId:2,memmap:[{from:0,to:65536,id:"PADDING"},{from:1056964608,to:1073217536,id:"DROM"},{from:1062207488,to:1073217536,id:"EXTRAM_DATA"},{from:1073340416,to:1073348608,id:"RTC_DRAM"},{from:1073340416,to:1073741824,id:"BYTE_ACCESSIBLE"},{from:1073340416,to:1074208768,id:"MEM_INTERNAL"},{from:1073414144,to:1073741824,id:"DRAM"},{from:1073741824,to:1073848576,id:"IROM_MASK"},{from:1073872896,to:1074200576,id:"IRAM"},{from:1074200576,to:1074208768,id:"RTC_IRAM"},{from:1074266112,to:1082130432,id:"IROM"},{from:1342177280,to:1342185472,id:"RTC_DATA"}]},{name:"esp32-s3",chipId:4,memmap:[{from:0,to:65536,id:"PADDING"},{from:1006632960,to:1023410176,id:"DROM"},{from:1023410176,to:1040187392,id:"EXTRAM_DATA"},{from:1611653120,to:1611661312,id:"RTC_DRAM"},{from:1070104576,to:1070596096,id:"BYTE_ACCESSIBLE"},{from:1070104576,to:1077813248,id:"MEM_INTERNAL"},{from:1070104576,to:1070596096,id:"DRAM"},{from:1073741824,to:1073848576,id:"IROM_MASK"},{from:1077346304,to:1077805056,id:"IRAM"},{from:1611653120,to:1611661312,id:"RTC_IRAM"},{from:1107296256,to:1115684864,id:"IROM"},{from:1342177280,to:1342185472,id:"RTC_DATA"}]},{name:"esp32-c3",chipId:5,memmap:[{from:0,to:65536,id:"PADDING"},{from:1006632960,to:1015021568,id:"DROM"},{from:1070071808,to:1070465024,id:"DRAM"},{from:1070104576,to:1070596096,id:"BYTE_ACCESSIBLE"},{from:1072693248,to:1072824320,id:"DROM_MASK"},{from:1073741824,to:1074135040,id:"IROM_MASK"},{from:1107296256,to:1115684864,id:"IROM"},{from:1077395456,to:1077805056,id:"IRAM"},{from:1342177280,to:1342185472,id:"RTC_IRAM"},{from:1342177280,to:1342185472,id:"RTC_DRAM"},{from:1611653120,to:1611661312,id:"MEM_INTERNAL2"}]}],p=8;function o(e){return`0x${e.addr.toString(16)} 0x${e.data.length.toString(16)} bytes; `+(e.isDROM?"drom ":"")+(e.isMapped?"mapped ":"")+f.U.toHex(e.data.slice(0,20))+"..."}function c(t){(t=_(t)).segments.sort((e,t)=>e.addr-t.addr),f.debug("esp padding:\n"+t.segments.map(o).join("\n")+"\n");var e,r=t.segments.filter(e=>e.isMapped);let n=t.segments.filter(e=>!e.isMapped),i=(t.segments=[],t.header.length);for(e of r){var a=e.addr+e.data.length&65535;a<36&&(a=new Uint8Array(36-a),e.data=f.U.uint8ArrayConcat([e.data,a]))}for(;0<r.length;){let e=r[0];var s=(e=>{let t=e.addr-p&65535,r=t-i&65535;return 0==r?0:((r-=p)<0&&(r+=65536),r)})(e);if(0<s)e=(e=>{var t,r;return!n.length||e<=p?{addr:0,isMapped:!1,isDROM:!1,data:new Uint8Array(e)}:(t=n[0],r={addr:t.addr,isMapped:t.isMapped,isDROM:t.isDROM,data:t.data.slice(0,e)},t.data=t.data.slice(e),t.addr+=r.data.length,0==t.data.length&&n.shift(),r)})(s);else{if((i+p&65535)!=(65535&e.addr))throw new Error(`pad oops 0 ${i}+${p} != ${e.addr} (mod mask)`);r.shift()}if(t.segments.push(e),3&(i+=p+e.data.length))throw new Error("pad oops 1")}return t.segments=t.segments.concat(n),f.debug("esp padded:\n"+t.segments.map(o).join("\n")+"\n"),t}function t(r){if(233!=r[0])throw new Error("ESP: invalid magic: "+r[0]);let n=24,t=u(r,12),e=d.find(e=>e.chipId==t);if(!e)throw new Error("ESP: unknown chipid: "+t);var i={header:r.slice(0,n),chipName:e.name,segments:[]},a=r[1];for(let e=0;e<a;++e){let t=l(r,n);var s=l(r,n+4),o=(n+=p,r.slice(n,n+s));if(o.length!=s)throw new Error("too short file");n+=s,c(t,"PADDING")||((s=i.segments.filter(e=>e.addr+e.data.length==t)[0])?s.data=f.U.uint8ArrayConcat([s.data,o]):i.segments.push({addr:t,isMapped:c(t,"DROM")||c(t,"IROM"),isDROM:c(t,"DROM"),data:o}))}return i;function c(t,r){return e.memmap.some(e=>e.id==r&&e.from<=t&&t<=e.to)}}function _(e){e=f.U.flatClone(e);return e.segments=e.segments.map(f.U.flatClone),e}e.toBuffer=function(e,t=!0){let r=(e=c(e)).header.length;for(var n of e.segments)r+=p+n.data.length;r=r+16&-16;let i=new Uint8Array(r),a=(i.set(e.header),i[1]=e.segments.length,e.header.length),s=239;for(var o of e.segments){f.HF2.write32(i,a,o.addr),f.HF2.write32(i,a+4,o.data.length),i.set(o.data,a+p),a+=p+o.data.length;for(let e=0;e<o.data.length;++e)s^=o.data[e]}if(i[i.length-1]=s,t){i[23]=1;let e=ts.pxtc.BrowserImpl.sha256buffer(i);i=f.U.uint8ArrayConcat([i,f.U.fromHex(e)])}else i[23]=0;return i},e.parseBuffer=t,e.parseB64=function(e){return t(f.U.stringToUint8Array(atob(e.join(""))))},e.cloneStruct=_}})(pxt=pxt||{}),(c=>{var e;{var y=c.pxtc||(c.pxtc={});let g,s=((e=g=g||{})[e.None=0]="None",e[e.Whitespace=1]="Whitespace",e[e.Identifier=2]="Identifier",e[e.Keyword=3]="Keyword",e[e.Operator=4]="Operator",e[e.CommentLine=5]="CommentLine",e[e.CommentBlock=6]="CommentBlock",e[e.NewLine=7]="NewLine",e[e.Literal=8]="Literal",e[e.Tree=9]="Tree",e[e.Block=10]="Block",e[e.EOF=11]="EOF",""),h=c.SyntaxKind;function v(e){switch(e){case h.CommaToken:return 1;case h.EqualsToken:case h.PlusEqualsToken:case h.MinusEqualsToken:case h.AsteriskEqualsToken:case h.AsteriskAsteriskEqualsToken:case h.SlashEqualsToken:case h.PercentEqualsToken:case h.LessThanLessThanEqualsToken:case h.GreaterThanGreaterThanEqualsToken:case h.GreaterThanGreaterThanGreaterThanEqualsToken:case h.AmpersandEqualsToken:case h.BarEqualsToken:case h.CaretEqualsToken:return 1;case h.QuestionToken:case h.ColonToken:case h.BarBarToken:case h.AmpersandAmpersandToken:case h.BarToken:case h.CaretToken:case h.AmpersandToken:return 1;case h.EqualsEqualsToken:case h.ExclamationEqualsToken:case h.EqualsEqualsEqualsToken:case h.ExclamationEqualsEqualsToken:return 1;case h.LessThanToken:case h.GreaterThanToken:case h.LessThanEqualsToken:case h.GreaterThanEqualsToken:case h.InstanceOfKeyword:case h.InKeyword:case h.AsKeyword:return 1;case h.LessThanLessThanToken:case h.GreaterThanGreaterThanToken:case h.GreaterThanGreaterThanGreaterThanToken:return 1;case h.PlusToken:case h.MinusToken:return 1;case h.AsteriskToken:case h.SlashToken:case h.PercentToken:case h.AsteriskAsteriskToken:case h.DotToken:return 1;default:return}}let o=!1;function a(e){s=e;let r=c.createScanner(c.ScriptTarget.Latest,!1,c.LanguageVariant.Standard,e,e=>{var t=r.getTextPos();pxt.log("scanner error",t,e.message)});var t=[];let n=0,i=-1;for(;;){let e=r.scan();e==h.CloseBraceToken&&n==i&&(i=-1,e=r.reScanTemplateToken());var a={kind:(e=>{switch(e){case h.EndOfFileToken:return g.EOF;case h.SingleLineCommentTrivia:return g.CommentLine;case h.MultiLineCommentTrivia:return g.CommentBlock;case h.NewLineTrivia:return g.NewLine;case h.WhitespaceTrivia:return g.Whitespace;case h.ShebangTrivia:case h.ConflictMarkerTrivia:return g.CommentBlock;case h.NumericLiteral:case h.StringLiteral:case h.RegularExpressionLiteral:case h.NoSubstitutionTemplateLiteral:case h.TemplateHead:case h.TemplateMiddle:case h.TemplateTail:return g.Literal;case h.Identifier:return g.Identifier;default:return e<h.Identifier?g.Operator:g.Keyword}})(e=(e=(o&&e==h.SlashToken||e==h.SlashEqualsToken)&&(a=r.reScanSlashToken())==h.RegularExpressionLiteral?a:e)==h.GreaterThanToken?r.reScanGreaterToken():e),synKind:e,lineNo:0,pos:r.getTokenPos(),text:r.getTokenText()};if(e==h.OpenBraceToken&&n++,e==h.CloseBraceToken&&--n<0&&(n=-1e7),t.push(a),e!=h.TemplateHead&&e!=h.TemplateMiddle||(i=n),a.kind==g.EOF)break}return{tokens:t,braceBalance:n}}function d(e,t){for(;e[t]&&e[t].kind==g.Whitespace;)t++;return t}function p(r){let n=[];var i,a;n.push({synKind:h.EndOfFileToken,token:{children:[]}});for(let t=0;t<r.length;++t){var s=r[t];let e=n[n.length-1];if(e.token.children.push(s),s.kind===g.Operator)switch(s.synKind){case h.OpenBraceToken:case h.OpenParenToken:case h.OpenBracketToken:a=(i=s).synKind+1,i.children=[],i.kind=g.Tree,n.push({synKind:a,token:i});break;case h.CloseBraceToken:case h.CloseParenToken:case h.CloseBracketToken:for(e.token.children.pop();;){if((e=n.pop()).synKind==s.synKind){e.token.endToken=s;break}if(0==n.length||e.synKind==h.CloseBraceToken){n.push(e);break}}}}return n[0].token.children}function b(){return{kind:g.EOF,synKind:h.EndOfFileToken,pos:0,lineNo:0,text:""}}function x(e,t){return{kind:g.Whitespace,synKind:h.WhitespaceTrivia,pos:e.pos-t.length,lineNo:e.lineNo,text:t}}function k(e){return{kind:g.Block,synKind:h.OpenBraceToken,pos:e[0].pos,lineNo:e[0].lineNo,stmts:[{tokens:e}],text:"{",endToken:null}}function S(e){return{kind:g.Tree,synKind:h.WhitespaceTrivia,pos:e[0].pos,lineNo:e[0].lineNo,children:e,endToken:null,text:""}}function T(n,i,a=null){let s=[],o=0,c,l=!1;for(n=n.concat([b()]);n[o].kind!=g.EOF;){var e=o;m(),y.Util.assert(o>e,"Error at "+n[o].text),(e=>{if(0!=(e=i?C(e):e).length){e.forEach(u),e=function r(n){let i=[];let a=0;for(;a<n.length;)if(n[a].blockSpanLength){let e=n.slice(a,a+n[a].blockSpanLength),t=!!e[0].blockSpanIsVirtual;delete e[0].blockSpanLength,delete e[0].blockSpanIsVirtual,a+=e.length,e=r(e),t?i.push(S(e)):(i.push(x(e[0]," ")),i.push(k(C(e))))}else i.push(n[a++]);return i}(e);if(i&&0<s.length){var t=s[s.length-1].tokens[0].synKind,r=e[0].synKind;if(t==h.IfKeyword&&r==h.ElseKeyword||t==h.TryKeyword&&r==h.CatchKeyword||t==h.TryKeyword&&r==h.FinallyKeyword||t==h.CatchKeyword&&r==h.FinallyKeyword)return e.unshift(x(e[0]," ")),y.Util.pushRange(s[s.length-1].tokens,e)}s.push({tokens:e})}})(n.slice(e,o))}return s;function u(e){e.kind==g.Tree&&(e.children=y.Util.concat(T(e.children,!1,e).map(e=>e.tokens)))}function d(){for(;;)switch(o++,n[o].kind){case g.Whitespace:case g.CommentBlock:case g.CommentLine:case g.NewLine:break;default:return}}function p(){for(;n[o].kind==g.Whitespace;)o++;n[o].kind==g.NewLine&&o++}function f(){y.Util.assert(n[o].synKind==h.OpenBraceToken);var e=n[o],t=(y.Util.assert(e.kind==g.Tree),n[o]);t.stmts=T(e.children,!0,c),delete e.children,t.kind=g.Block,o++,l=!0}function _(){var e=o+1;d(),n[o].synKind==h.OpenBraceToken?(f(),p()):(m(),n[e].blockSpanLength=o-e)}function m(){for(;;){let e=n[o];var t=o;if(c=e,l=!1,e.kind==g.EOF)return;if(i&&e.synKind==h.SemicolonToken)return o++,void p();if(e.synKind==h.EqualsGreaterThanToken){if(d(),n[o].synKind==h.OpenBraceToken){f();continue}{var r=o;m();let e=o;for(;n[e].kind==g.NewLine;)e--;return n[r].blockSpanLength=e-r,void(n[r].blockSpanIsVirtual=!0)}}if(i&&v(e.synKind)){r=o;if(d(),!(e=>{if(e)switch(e.synKind){case h.IfKeyword:case h.ElseKeyword:case h.LetKeyword:case h.ConstKeyword:case h.VarKeyword:case h.DoKeyword:case h.WhileKeyword:case h.SwitchKeyword:case h.CaseKeyword:case h.DefaultKeyword:case h.ForKeyword:case h.ReturnKeyword:case h.BreakKeyword:case h.ContinueKeyword:case h.TryKeyword:case h.CatchKeyword:case h.FinallyKeyword:case h.DeleteKeyword:case h.FunctionKeyword:case h.ClassKeyword:case h.YieldKeyword:case h.DebuggerKeyword:return 1;default:return}})(n[o]))continue;o=r}if(i&&e.kind==g.NewLine){if(d(),v((e=n[o]).synKind)&&e.synKind!=h.PlusToken&&e.synKind!=h.MinusToken)continue;return void(o=t+1)}if(e.synKind==h.OpenBraceToken&&a&&a.synKind==h.ClassKeyword){let e=o-1;for(;0<=e&&n[e].kind==g.Whitespace;)e--;if(e<0||n[e].synKind!=h.EqualsToken)return o--,void _()}switch(y.Util.assert(t==o),e.synKind){case h.ForKeyword:case h.WhileKeyword:case h.IfKeyword:case h.CatchKeyword:if(d(),n[o].synKind!=h.OpenParenToken)continue;return void _();case h.DoKeyword:if(_(),o--,d(),n[o].synKind!=h.WhileKeyword)return;o++;continue;case h.ElseKeyword:if(d(),n[o].synKind==h.IfKeyword)continue;return o=t,void _();case h.TryKeyword:case h.FinallyKeyword:return void _();case h.ClassKeyword:case h.NamespaceKeyword:case h.ModuleKeyword:case h.InterfaceKeyword:case h.FunctionKeyword:for(;;)switch(o++,n[o].kind){case g.EOF:return;case g.Tree:if(n[o].synKind==h.OpenBraceToken)return void(o--,_())}return}y.Util.assert(!l,"forgot continue/return after expectBlock"),o++}}}function t(e){return e&&(e.kind==g.Whitespace||e.kind==g.NewLine)}function f(t){var r=[];let n=!1;for(let e=0;e<t.length;++e)t[e=n?d(t,e):e]&&(r.push(t[e]),n=t[e].kind==g.NewLine);return r}function C(e){for(e=e.slice(0);t(e[0]);)e.shift();for(;t(e[e.length-1]);)e.pop();return e}function _(e){var t=[];let r=0,n=b();for(e=e.concat([b()]);r<e.length;){var i=e[r=d(e,r)];if(i.kind==g.EOF)break;var a=d(e,r+1);if(i.kind==g.NewLine&&e[a].synKind==h.OpenBraceToken)r=a;else{let e=!0;var s=0==t.length?(a=i,{kind:g.NewLine,synKind:h.NewLineTrivia,pos:a.pos,lineNo:a.lineNo,text:"\n"}):t[t.length-1];switch(s.synKind){case h.ExclamationToken:case h.TildeToken:case h.DotToken:e=!1;break;case h.PlusToken:case h.MinusToken:case h.PlusPlusToken:case h.MinusMinusToken:s.isPrefix&&(e=!1)}switch(i.synKind){case h.DotToken:case h.CommaToken:case h.NewLineTrivia:case h.ColonToken:case h.SemicolonToken:case h.OpenBracketToken:e=!1;break;case h.PlusPlusToken:case h.MinusMinusToken:s.kind!=g.Tree&&s.kind!=g.Identifier&&s.kind!=g.Keyword||(e=!1);case h.PlusToken:case h.MinusToken:n.kind!=g.EOF&&!v(n.synKind)&&n.synKind!=h.SemicolonToken||(i.isPrefix=!0);break;case h.OpenParenToken:if(s.kind==g.Identifier&&(e=!1),s.kind==g.Keyword)switch(s.synKind){case h.IfKeyword:case h.ForKeyword:case h.WhileKeyword:case h.SwitchKeyword:case h.ReturnKeyword:case h.ThrowKeyword:case h.CatchKeyword:break;default:e=!1}}(e=s.kind==g.NewLine?!1:e)&&t.push(x(i," ")),t.push(i),i.kind!=g.NewLine&&(n=i),r++}}return t}function m(i,e){if(e.synKind==h.NoSubstitutionTemplateLiteral&&/^`[\s\.#01]*`$/.test(e.text)){var a=e.text.slice(1,e.text.length-1).split("\n").map(e=>e.replace(/\s/g,"")).filter(e=>!!e);if(!(a.length<4||5<a.length)){let r=Math.floor((Math.max(...a.map(e=>e.length))+2)/5),n=(r<=0&&(r=1),"`\n");for(let t=0;t<5;++t){let e=a[t]||"";for(;e.length<5*r;)e+=".";e=(e=(e=e.replace(/0/g,".")).replace(/1/g,"#")).replace(/...../g,e=>"/"+e),n+=i+e.replace(/./g,e=>" "+e).replace(/\//g," ").slice(3)+"\n"}n+=i+"`",e.text=n}}}y.toStr=function e(t){return Array.isArray(t)?"[[ "+t.map(e).join("  ")+" ]]":"string"==typeof t.text?JSON.stringify(t.text):t+""},y.format=function(e,t){e=T(p(((r,n)=>{var i=[];let e=!0,a=1;for(let t=0;t<r.length;++t){if(e){var s=t;if(r[t=d(r,t)].kind==g.NewLine){let e=!1;0<=n&&r[t].pos>=n&&(n=-1,e=!0),i.push({text:"",kind:g.CommentLine,pos:r[t].pos,lineNo:a,synKind:h.SingleLineCommentTrivia,isCursor:e})}else t=s}i.push(r[t]),r[t].lineNo=a,r[t].kind==g.NewLine?(e=!0,a++):e=!1,0<=n&&r[t].pos>=n&&(n=-1)}return i})(a(e).tokens,t)),!0);let s="",o="",r=-1,n=0;return e.forEach(l),e.forEach(e=>e.tokens.forEach(i)),-1==r&&(r=o.length),{formatted:o,pos:r};function i(e){var t;e.kind==g.Tree?((t=e).synKind,h.OpenBraceToken,t.children.forEach(i)):e.kind==g.Block&&e.stmts.forEach(e=>e.tokens.forEach(i))}function c(e,t){n==e.lineNo?t():(n=e.lineNo,e=s,s+="    ",t(),s=e)}function l(e){let t=f(e.tokens);(1!=t.length||t[0].isCursor||""!=t[0].text)&&(o+=s,c(t[0],()=>{!function i(a){a=_(a);for(let n=0;n<a.length;++n){let r=a[n];switch(m(s,r),u(r),r.kind){case g.Tree:let e=r;c(r,()=>{i(f(e.children))}),e.endToken&&u(e.endToken);break;case g.Block:let t=r;0==t.stmts.length?o+=" ":(o+="\n",t.stmts.forEach(l),o+=s.slice(4)),t.endToken?u(t.endToken):o+="}";break;case g.NewLine:a[n+1]&&a[n+1].kind==g.CommentLine&&""==a[n+1].text&&!a[n+1].isCursor||(n==a.length-1?o+=s.slice(4):o+=s);break;case g.Whitespace:}}}(t)}),"\n"==o[o.length-1])||(o+="\n")}function u(e){-1==r&&e.pos+e.text.length>=t&&(r=o.length+(t-e.pos)),o+=e.text}}}})(ts=ts||{}),(x=>{{var T=x.pxtc||(x.pxtc={});let b;{var s=b=T.hexfile||(T.hexfile={});s.asmTotalSource="";let o={},t=[];function C(){return{commBase:0,funcInfo:{},codeStartIdx:-1,codePaddingSize:0,sha:null,codeStartAddrPadded:void 0,hexlines:void 0,jmpStartAddr:void 0,jmpStartIdx:void 0,codeStartAddr:void 0,elfInfo:void 0,espInfo:void 0,topFlashAddr:0}}let k=C();function E(e){let t="",r=0;for(;r<e.length;r+=2)t=e[r]+e[r+1]+t;return T.assert(r==e.length),t}function D(e){if(!(e=e.replace(/^[\s:]/,"")))return[];let t=[];if(e.replace(/([a-f0-9][a-f0-9])/gi,e=>(t.push(parseInt(e,16)),"")))throw T.oops("bad bytes "+e);return t}function A(e){return e.flashCodeAlign||1024}s.getCommBase=function(){return k.commBase},s.getStartAddress=function(){return k.codeStartAddrPadded},s.getTopFlashAddress=function(){return k.topFlashAddr},s.setupInlineAssembly=function(e){o={};var t,r=e.sourceFiles.filter(e=>T.U.endsWith(e,".asm"));s.asmTotalSource="";let n=0;for(t of r){var i=e.fileSystem[t],i=(i.replace(/^\s*(\w+):/gm,(e,t)=>(o[t]=!0,"")),".object inlineasm\n.section code\n@stackmark func\n@scope user"+n+++"\n"+i+"\n@stackempty func\n@scope\n");s.asmTotalSource+=i}},s.parseHexBytes=D,s.parseHexRecord=function(e){return{len:(e=D(e))[0],addr:e[1]<<8|e[2],type:e[3],data:e.slice(4,e.length-1),checksum:e[e.length-1]}},s.flashCodeAlign=A;let S="0108010842424242010801083ed8e98d";function c(e){return k.funcInfo[e]}function w(){let e=k.sha?k.sha.slice(0,16):"";for(;e.length<16;)e+="0";return e.toUpperCase()}function N(e){let t=0,r=":";return e.forEach(e=>t+=e),e.push(255&-t),e.forEach(e=>r+=("0"+e.toString(16)).slice(-2)),r.toUpperCase()}s.setupFor=function(c,r,n){if(!(k=t.find(e=>e.sha==r.sha))){k=C(),(t=10<t.length?[]:t).push(k);let s=r.functions,o=(k.commBase=r.commBase||0,k.sha=r.sha,r.hexinfo.hex);if(k.hexlines=o,T.target.nativeType==T.NATIVE_TYPE_VM){k.codeStartAddr=0,k.codeStartAddrPadded=0,k.jmpStartAddr=-1,k.jmpStartIdx=-1;for(var e of s)(k.funcInfo[e.name]=e).value=16777215;if(T.target.useESP){var i=pxt.esp.parseB64(o);let n=T.U.fromHex(S);var a=i.segments.filter(e=>e.isDROM);T.U.assert(1==a.length);let t=!1;var l=a[0];k.codeStartAddr=l.addr+l.data.length,k.codeStartAddrPadded=k.codeStartAddr+255&-256,k.codePaddingSize=k.codeStartAddrPadded-k.codeStartAddr,pxt.debug(`user code start: 0x${k.codeStartAddrPadded.toString(16)}; dromlen=${l.data.length} pad=`+k.codePaddingSize);for(let e=0;e<l.data.length;e+=32)if(((t,r)=>{for(let e=0;e<n.length;++e)if(t[r+e]!=n[e])return!1;return!0})(l.data,e)){t=!0,e+=n.length,k.topFlashAddr=pxt.HF2.read32(l.data,e);var u,d=e+=4;for(u of r.vmPointers||[])"0"!=u&&(u=u.replace(/^&/,""),k.funcInfo[u]={name:u,argsFmt:[],value:pxt.HF2.read32(l.data,e)},e+=4);pxt.HF2.write32(l.data,d,k.codeStartAddrPadded);break}T.U.assert(t||0==(r.vmPointers||[]).length),k.espInfo=i,k.codeStartAddrPadded=0}}else{if(o.length<=2)(a=T.U.fromHex(o[0]))[2]<=2&&96==a[3]?(i=a.length+4096-1&-4096,k.elfInfo={template:a,imageMemStart:1610612736+i,imageFileStart:i,phOffset:-1e3}):k.elfInfo=pxt.elf.parse(a),k.codeStartAddr=k.elfInfo.imageMemStart,k.codeStartAddrPadded=k.elfInfo.imageMemStart,(i=o[0].indexOf(S))<0&&T.oops("no jmp table in elf"),k.jmpStartAddr=i/2,k.jmpStartIdx=-1,a=o[0].slice(i+32,i+40),k.topFlashAddr=parseInt(E(a),16),b(o[0].slice(i+40,i+40+8*s.length+16));else{var p,f=o;for(let e=0;e<f.length;++e)"2"==f[e][8]&&(p=/^:02....02(....)..$/.exec(f[e]),T.U.assert(!!p),p=16*parseInt(p[1],16),T.U.assert(0==(65535&p)),f[e]=N([2,0,0,4,0,p>>16]));let e=0,t="0000",i=0,a=0;k.codeStartAddr=0;for(var _=()=>{if(!k.codeStartAddr){var e=D(o[a]),t=16-(i+e[0]&15)&15;if(t)if(15&e[2]){var r=i+e[0],n=[t,r>>8,255&r,0];for(let e=0;e<t;++e)n.push(0);a++,o.splice(a,0,N(n)),k.codeStartAddr=r+t}else{if(16!=e[0]){for(e.pop(),e[0]=16;e.length<20;)e.push(0);o[a]=N(e)}k.codeStartAddr=i+16}else k.codeStartAddr=i+e[0];k.codeStartIdx=a+1;r=A(c),r=(k.codeStartAddrPadded=(k.codeStartAddr&~(r-1))+r,k.codeStartAddrPadded-k.codeStartAddr);T.assert(0==(15&r)),k.codePaddingSize=r}};e<o.length;++e){var m,g,h=/:02000004(....)/.exec(o[e]);h&&(t=h[1]),(h=/^:..(....)00/.exec(o[e]))&&(0<=k.jmpStartIdx&&k.jmpStartIdx+1==e&&(m=/^:..(....)00(.{4,})/.exec(o[e]))&&(g=c.shortPointers?4:8,m=E(m[2].slice(0,g)),k.topFlashAddr=parseInt(m,16)),g=parseInt(t+h[1],16),!c.flashUsableEnd&&i&&65536<g-i&&_(),c.flashUsableEnd&&P(c,n)<=g&&_(),a=e,i=g),/^:00000001/.test(o[e])&&_(),/^:10....000108010842424242010801083ED8E98D/.exec(o[e])&&(k.jmpStartAddr=i,k.jmpStartIdx=e)}pxt.debug(`code start: ${k.codeStartAddrPadded}, jmptbl: `+k.jmpStartAddr),k.jmpStartAddr||T.oops("No hex start"),k.codeStartAddr||T.oops("No hex end"),k.funcInfo={};for(let e=k.jmpStartIdx+1;e<o.length;++e){var y,v=/^:..(....)00(.{4,})/.exec(o[e]);if(v)if(e===k.jmpStartIdx+1?(y=c.shortPointers?4:8,b(v[2].slice(y))):b(v[2]),0==s.length)break}function b(t){for(var r=c.shortPointers?4:8;t.length>=r;){var n=t.slice(0,r);let e=parseInt(E(n),16);t=t.slice(r);var i=s.shift();if(!i)break;k.funcInfo[i.name]=i,e||T.U.oops("No value for "+i.name+" / "+n),0==i.argsFmt.length?e^=1:c.runtimeIsARM||c.nativeType!=T.NATIVE_TYPE_THUMB||1&e||T.U.oops("Non-thumb addr for "+i.name+" / "+n),i.value=e}}function x(){s.length&&T.oops("premature EOF in hex file; missing: "+s.map(e=>e.name).join(", "))}}x()}}},s.validateShim=function(e,t,r,n,i){if("TD_ID"!=t&&"TD_NOOP"!=t&&"ENUM_GET"!=t&&!T.U.lookup(o,t)){var a=e+`(...) (shim=${t})`,s=c(t);if(s){n?"V"==s.argsFmt[0]&&T.U.userError("expecting function for "+a):"V"!=s.argsFmt[0]&&T.U.userError("expecting procedure for "+a);for(let e=0;e<i.length;++e)s.argsFmt[e+1]||T.U.userError("excessive parameters passed to "+a);i.length!=s.argsFmt.length-1&&T.U.userError(`not enough arguments for ${a} (got ${i.length}; fmt=${s.argsFmt.join(",")})`)}else T.U.userError("function not found: "+a)}},s.lookupFunc=c,s.lookupFunctionAddr=function(e){return"_pxt_comm_base"==e?k.commBase:(e=c(e))?e.value:null},s.hexTemplateHash=w,s.hexPrelude=function(){return`    .startaddr 0x${k.codeStartAddrPadded.toString(16)}
`},s.hexBytes=N,s.patchHex=function(r,n,e,i){let a=k.hexlines.slice(0,k.codeStartIdx);r.target.useESP||(f=2*n.length+7>>3,T.assert(f<64e3,"program too large, bytes: "+2*n.length),n[17]=f,n[20]=r.commSize);var t=[];for(let e=0;e<k.codePaddingSize>>1;++e)t.push(0);n=t.concat(n);let s=0;function o(t,e){var r=[16,e>>8&255,255&e,0];for(let e=0;e<8;++e)r.push(255&(t[s]||0)),r.push((t[s]||0)>>>8),s++;return r}var c=[16912,0,65535&k.codeStartAddrPadded,k.codeStartAddrPadded>>>16],l=w();for(let e=0;e<4;++e)c.push(parseInt(E(l.slice(4*e,4*e+4)),16));var u=i?T.UF2.newBlockFile(T.target.uf2Family):null;if(k.elfInfo){var d=new Uint8Array(2*n.length);for(let e=0;e<n.length;++e)pxt.HF2.write16(d,2*e,n[e]);var p=pxt.elf.patch(k.elfInfo,d);for(let e=0;e<c.length;++e)pxt.HF2.write16(p,2*e+k.jmpStartAddr,c[e]);if(!u||r.target.switches.rawELF)return[T.U.uint8ArrayToString(p)];{let e=r.name||"pxt";return e=e.replace(/[^a-zA-Z0-9\-\.]+/g,"_"),u.filename="Projects/"+e+".elf",T.UF2.writeBytes(u,0,p),[T.UF2.serializeFile(u)]}}if(k.espInfo){var f=pxt.esp.cloneStruct(k.espInfo),i=f.segments.find(e=>e.isDROM);let t=i.data.length;var _=new Uint8Array(t+2*n.length+255&-256);_.set(i.data);for(let e=0;e<n.length;++e)pxt.HF2.write16(_,t,n[e]),t+=2;i.data=_;i=pxt.esp.toBuffer(f);return u?(T.UF2.writeBytes(u,0,i),I(u,r),[T.UF2.serializeFile(u)]):[T.U.uint8ArrayToString(i)]}if(u){if(T.UF2.writeHex(u,a),T.UF2.writeBytes(u,k.jmpStartAddr,o(c,k.jmpStartIdx).slice(4)),r.checksumBlock){var m,g=[];for(m of r.checksumBlock)g.push(255&m,m>>8);T.UF2.writeBytes(u,r.target.flashChecksumAddr,g)}}else a[k.jmpStartIdx]=N(o(c,k.jmpStartAddr)),r.checksumBlock&&T.U.oops("checksum block in HEX not implemented yet");s=0,e&&(a=[]);let h=k.codeStartAddr,y=h-16>>16;for(;s<n.length;)u?T.UF2.writeBytes(u,h,o(n,h).slice(4)):(h>>16!=y&&(y=h>>16,a.push(N([2,0,0,4,y>>8,255&y]))),a.push(N(o(n,h)))),h+=16;if(e||(f=k.hexlines.slice(k.codeStartIdx),u?T.UF2.writeHex(u,f):T.Util.pushRange(a,f)),!u&&r.target.moveHexEof){for(;!a[a.length-1];)a.pop();":00000001FF"==a[a.length-1]&&a.pop()}if(r.packedSource)if(u)I(u,r);else{let e=0;for(let t=0;t<r.packedSource.length;t+=16){var v=[16,e>>8&255,255&e,14];for(let e=0;e<16;++e)v.push(255&(r.packedSource.charCodeAt(t+e)||0));a.push(N(v)),e+=16}}return!u&&r.target.moveHexEof&&a.push(":00000001FF"),u?[T.UF2.serializeFile(u)]:a}}function I(r,n){if(n.packedSource){let e=r.currPtr+4096&-256;var i=new Uint8Array(256);for(let t=0;t<n.packedSource.length;t+=256){for(let e=0;e<256;++e)i[e]=n.packedSource.charCodeAt(t+e);T.UF2.writeBytes(r,e,i,T.UF2.UF2_FLAG_NOFLASH),e+=256}}}T.hexDump=function(n,e=0){function i(e,t=8){let r=e.toString(16);for(;r.length<t;)r="0"+r;return r}let a="";for(let r=0;r<n.length;r+=16){a+=i(e+r)+": ";let t="";for(let e=0;e<16;e++){0==(3&e)&&(a+=" ");var s=n[r+e];null==s?a+="   ":(a+=i(s,2)+" ",t+=32<=s&&s<127?String.fromCharCode(s):".")}a+=" "+t+"\n"}return a},T.asmline=function(e){return 0<=e.indexOf("\n")?(e=e.replace(/^\s*/gm,"").replace(/^(.*)$/gm,(e,t)=>";"==t[0]&&" "==t[1]||/:\*$/.test(t)?t:"    "+t))+"\n":(e=/(^[\s;])|(:$)/.test(e)?e:"    "+e)+"\n"},T.firstMethodOffset=function(){return 9};let r=[21078089,22513679,15655169,18636881,19658081,21486649,21919277,20041213,20548751,16180187,18361627,19338023,19772677,16506547,23530697,22998697,21225203,19815283,23679599,19822889,21136133,19540043,21837031,18095489,23924267,23434627,22582379,21584111,22615171,23403001,19640683,19998031,18460439,20105387,17595791,16482043,23199959,18881641,21578371,22765747,20170273,16547639,16434589,21435019,20226751,19506731,21454393,23224541,23431973,23745511];function h(a){let s=32;T.U.assert(T.U.unique(a,e=>""+e).length==a.length,"non unique");for(let i=2;;i<<=1)if(s--,!(i<a.length)){let e=-1,t=-1,n;for(var o of r){var c=o<<8|s,l=new Uint16Array(i+T.vtLookups+1);T.U.assert(0==(1&l.length));let r=0;var u,d=[];for(u of a){T.U.assert(0<u);var p=Math.imul(u,c)>>>s;d.push(p);let t=!1;for(let e=0;e<T.vtLookups;e++){if(!l[p+e]){t=!0,l[p+e]=u;break}r++}if(!t){r=-1;break}}(-1==e||e>r)&&(e=r,t=c,n=l)}if(0<=e)return{mult:t,mapping:n,size:i}}}function k(e,t,r,n){var i=h(e.itable.map(e=>e.idx));let a=T.target.shortPointers?".short":".word",s=`
        .object ${e.id}_VT
        .balign 4
${e.id}_VT:
        .short ${4*e.allfields.length+4}  ; size in bytes
        .byte ${pxt.ValTypeObject}, ${pxt.VTABLE_MAGIC} ; magic
        ${a} ${e.id}_IfaceVT
        .short ${e.classNo} ; class-id
        .short 0 ; reserved
        .word ${i.mult} ; hash-mult
`;var o,c=e=>{"0"!=e&&(e+="@fn"),s+=`        ${a} ${e}
`},l=(c("pxt::RefRecord_destroy"),c("pxt::RefRecord_print"),c("pxt::RefRecord_scan"),c("pxt::RefRecord_gcsize"),e.toStringMethod);c(l?l.vtLabel():"0");for(o of e.vtable)c(o.label()+"_nochk");s+=`
        .balign ${T.target.shortPointers?2:4}
${e.id}_IfaceVT:
`;var u;let d=2*i.mapping.length,p="",f=d,_={};for(u of e.itable){_[u.idx+""]=f;var m=u.proc?u.proc.isGetter()?1:2:0;p=(p+=`  .short ${u.idx}, ${m} ; ${u.name}
`)+`  .word ${u.proc?u.proc.vtLabel()+"@fn":u.info}
`,f+=8,u.setProc&&(p=(p+=`  .short ${u.idx}, 0 ; set ${u.name}
`)+`  .word ${u.setProc.vtLabel()}@fn
`,f+=8)}p+="  .word 0, 0 ; the end\n",f+=8;var g=i.mapping;for(let e=0;e<g.length;++e)r.itEntries++,g[e]&&r.itFullEntries++;return s=(s+="  .short "+T.U.toArray(g).map((e,t)=>(_[e+""]||d)-2*t).join(", ")+"\n")+p+"\n"}T.vtLookups=3,T.computeHashMultiplier=h,T.vtableToAsm=k;let v=["GC"];function l(t,e,r){let n=`
    .short ${t.globalsWords}   ; num. globals
    .short 0 ; patched with number of 64 bit words resulting from assembly
    .word _pxt_config_data
    .short 0 ; patched with comm section size
    .short ${t.nonPtrGlobals} ; number of globals that are not pointers (they come first)
    .word _pxt_iface_member_names
    .word _pxt_lambda_trampoline@fn
    .word _pxt_perf_counters
    .word _pxt_restore_exception_state@fn
    .word ${t.emitString(t.getTitle())} ; name
`,i=null;i=new T.ThumbSnippets;var a,s,o,c,l,u=t.setPerfCounters(v),d=(t.procs.forEach(e=>{e=new T.ProctoAssembler(i,t,e);n+="\n"+e.getAssembly()+"\n"}),new T.ProctoAssembler(i,t,null));d.emitHelpers(),n=(n+="\n"+d.getAssembly()+"\n")+b.asmTotalSource+"_code_end:\n\n",T.U.iterMap(t.codeHelpers,(e,t)=>{n+=`    .section code
`+`    .object _code_helper_${t}
`+t+`:
`+e+`
`}),n=n+i.arithmetic()+"_helpers_end:\n\n",t.usedClassInfos.forEach(e=>{n+=k(e,0,t)}),n=(n+=`
.balign 4
.object _pxt_iface_member_names
_pxt_iface_member_names:
`)+`    .word ${t.ifaceMembers.length}
`;let p=0;for(a of t.ifaceMembers){var f=t.emitString(a);n+=`    .word ${f}  ; ${p++} .${a}
`}n=(n+=`    .word 0
`)+"_vtables_end:\n\n"+`
.balign 4
.object _pxt_config_data
_pxt_config_data:
`;for(s of r.configData||[])n+=`    .word ${s.key}, ${s.value}  ; ${s.name}=${s.value}
`;n+=`    .word 0

`;var _=i,m=t;for(o of T.U.unique(m.ifaceMembers.concat(Object.keys(m.strings)),e=>e))m.otherLiterals.push(_.string_literal(m.strings[o],o));for(c of Object.keys(m.doubles)){var g=m.doubles[c];m.otherLiterals.push(`
.object ${g}
.balign 4
${g}: ${_.obj_header("pxt::number_vt")}
        .hex ${c}
`)}for(l of Object.keys(m.hexlits))m.otherLiterals.push(_.hex_literal(m.hexlits[l],l)),m.otherLiterals.push();n=(n=n+t.otherLiterals.join("")+`
.balign 4
.section code
.object _perf_counters
_pxt_perf_counters:
`)+`    .word ${u.length}
`;let h="";for(let e=0;e<u.length;++e){var y=".perf"+e;n+=`    .word ${y}
`,h+=y+`: .string ${JSON.stringify(u[e])}
`}return n=n+h+"_literals_end:\n"}function o(e){let t;return(t=e.nativeType==T.NATIVE_TYPE_VM?new T.assembler.VMFile(new T.vm.VmProcessor(e)):new T.assembler.File(new T.thumb.ThumbProcessor)).ei.testAssembler(),e.switches.noPeepHole&&(t.disablePeepHole=!0),e.switches.size&&(t.codeSizeStats=!0),t.lookupExternalLabel=b.lookupFunctionAddr,t.normalizeExternalLabel=e=>{var t=b.lookupFunc(e);return t?t.name:e},t}function u(e){if(0<e.errors.length){let r="";throw e.errors.forEach(e=>{var t=/^user(\d+)/.exec(e.scope);t&&(parseInt(t[1]),r=(r+=T.U.lf("At inline assembly:\n"))+e.message)}),r&&(pxt.log(T.U.lf("errors in inline assembly")),pxt.log(r)),new Error(e.errors[0].message)}}function P(e,t){let r=0;t.configData&&(n=t.configData.find(e=>"SETTINGS_SIZE_DEFL"===e.name),t=t.configData.find(e=>"SETTINGS_SIZE"===e.name),r=t?t.value:n?n.value:0);var n,t=b.getTopFlashAddress();return(0<t?t:e.flashUsableEnd||e.flashEnd)-r}let a=!(T.processorInlineAssemble=function(e,t){var r=o(e),n=(r.disablePeepHole=!0,r.emit(t),u(r),[]);for(let e=0;e<r.buf.length;e+=2)n.push(((r.buf[e+1]||0)<<16|r.buf[e])>>>0);return n});function S(e,t,r,n){var i=o(e);return i.emit(r),r=`; Interface tables: ${t.itFullEntries}/${t.itEntries} (${Math.round(100*t.itFullEntries/t.itEntries)}%)
`+`; Virtual methods: ${t.numVirtMethods} / ${t.numMethods}
`+i.getSource(!a,t.numStmts,P(e,n)),u(i),{src:r,buf:i.buf,thumbFile:i}}function d(n,i,a,e){var s=a.extinfo.disabledDeps,o=(n=s?b.hexPrelude()+`
`+`; compilation disabled on this variant due to ${a.extinfo.disabledDeps}
`+`.hex 718E3B92C615A841C49866C975EE5197
`+`.string "${a.extinfo.disabledDeps}"`:`; start
${b.hexPrelude()}
    .hex 708E3B92C615A841C49866C975EE5197 ; magic number
    .hex ${b.hexTemplateHash()} ; hex template hash
    .hex 873266330af9dbdb ; replaced in binary by program hash
`+n,a.embedBlob&&(i.packedSource=((e,t)=>{(e=T.Util.toUTF8(e)).length,t.length;let r="A//";return(r=(r+=T.U.uint8ArrayToString([255&e.length,e.length>>8,255&t.length,t.length>>8,0,0,0,0]))+e+t).length%2&&(r+="\0"),r})(a.embedMeta,x.pxtc.decodeBase64(a.embedBlob)),!i.target.noSourceInFlash)&&i.packedSource.length<4e4&&(n+=(t=>{let r="";for(let e=0;e<t.length;++e){var n=255&t.charCodeAt(e);r+=n<=15?"0"+n.toString(16):n.toString(16)}return`
    .balign 16
    .object _stored_program
_stored_program: .hex ${r}
`})(i.packedSource),i.packedSource=null),b.flashCodeAlign(a.target));if(!s&&a.target.flashChecksumAddr){let e=0;for(;o>1<<e;)e++;var c=parseInt(b.hexTemplateHash().slice(8,16),16),l=b.getStartAddress()/o,c=4294967040&c|e;let t=0,r=l;a.target.flashChecksumAddr<b.getStartAddress()&&(t=Math.ceil((a.target.flashChecksumAddr+32)/o),r-=t),n+=`
    .balign 4
__end_marker:
    .word ${c}

; ------- this will get removed from the final binary ------
__flash_checksums:
    .word 0x87eeb07c ; magic
    .word __end_marker ; end marker position
    .word ${c} ; end marker
    ; template region
    .short ${t}, ${r}
    .word 0x${b.hexTemplateHash().slice(0,8)}
    ; user region
    .short ${l}, 0xffff
    .hex 87326633 ; replaced later
    .word 0x0 ; terminator
`}let t=a.extinfo.outputPrefix||"",u=(i.writeFile(t+T.BINARY_ASM,n),S(a.target,i,n,e));if(u.thumbFile.commPtr&&(i.commSize=u.thumbFile.commPtr-b.getCommBase()),u.src&&i.writeFile(t+T.BINARY_ASM,u.src),s)v();else{c=e.configData||[];if(c.some(e=>"BOOTLOADER_BOARD_ID"==e.name)){let e=`const uint32_t configData[] = {
`;e=(e+=`    0x1e9e10f1, 0x20227a79, // magic
`)+`    ${c.length}, 0, // num. entries; reserved
`;for(var r of c)e+=`    ${r.key}, 0x${r.value.toString(16)}, // ${r.name}
`;e+="    0, 0\n};\n",i.writeFile(t+"config.c",e)}if(u.buf){var d=u.buf;let t="";for(let e=0;e<d.length;++e)t+=String.fromCharCode(255&d[e],d[e]>>8);let r=T.U.sha256(t).slice(0,16);var p=T.U.range(4).map(e=>parseInt(r.slice(2*e,2*e+2),16));T.U.assert(12935==d[12]);for(let e=0;e<p.length;++e)d[12+e]=p[e];a.target.flashChecksumAddr&&(l=u.thumbFile.lookupLabel("__flash_checksums")/2,T.U.assert(l==d.length-16),n=d.slice(d.length-16),d.splice(d.length-16,16),s=Math.ceil(2*d.length/o),T.U.assert(12935==n[n.length-4]),n[n.length-4]=p[0],n[n.length-3]=p[1],n[n.length-5]=s,i.checksumBlock=n),v()}if(!e.procDebugInfo){for(var f of e.breakpoints){var _=T.U.lookup(u.thumbFile.getLabels(),"__brkp_"+f.id);null!=_&&(f.binAddr=_)}for(var m of i.procs)m.fillDebugInfo(u.thumbFile);if(e.procDebugInfo=i.procs.map(e=>e.debugInfo),i.target.switches.size){var g,h=[];for(g of i.procs){var y=x.pxtc.nodeLocationInfo(g.action),y=[y.fileName.replace("pxt_modules/",""),T.getDeclName(g.action),g.debugInfo.size,"function",y.line+1];h.push(y.map(e=>`"${e}"`).join(","))}h.sort(),h.unshift("filename,name,size,type,line"),i.writeFile(t+"size.csv",h.join("\n"))}}}function v(){var e;pxt.isOutputText(T.target)?(e=b.patchHex(i,u.buf,!1,!1).join("\r\n")+"\r\n",i.writeFile(t+pxt.outputName(T.target),e)):(e=x.pxtc.encodeBase64(b.patchHex(i,u.buf,!1,!!T.target.useUF2)[0]),i.writeFile(t+pxt.outputName(T.target),e))}}T.assemble=S,T.processorEmit=function(e,t,r){var n,i=l(e,0,r),a=T.U.flatClone(t);if(b.setupFor(t.target,t.extinfo||T.emptyExtInfo(),r),d(i,e,t,r),r.builtVariants||(r.builtVariants=[]),r.builtVariants.push(null==(t=t.extinfo)?void 0:t.appVariant),(t=a.otherMultiVariants||[]).length)try{for(var s of t){var o=T.U.flatClone(a);o.extinfo=s.extinfo,s.target.isNative=!0,o.target=s.target,b.setupFor(o.target,o.extinfo,r),d(i,e,o,r),r.builtVariants.push(null==(n=s.extinfo)?void 0:n.appVariant)}}finally{b.setupFor(a.target,a.extinfo,r)}},T.validateShim=b.validateShim}})(ts=ts||{}),(e=>{(e.pxtc||(e.pxtc={})).getHelpForKeyword=function(e,t){var r={abstract:null,any:null,as:null,break:null,case:null,catch:null,class:null,continue:null,const:null,constructor:null,debugger:null,declare:null,delete:null,do:null,else:null,enum:null,export:null,extends:null,false:lf("Represents the negative outcome of a logical expression"),finally:null,for:null,from:null,function:null,get:null,if:null,implements:null,in:null,instanceof:null,interface:null,is:null,let:null,namespace:null,new:null,null:null,private:null,protected:null,public:null,return:null,set:null,static:null,super:null,switch:null,this:null,throw:null,true:lf("Represents the positive outcome of a logical expression"),try:null,type:null,typeof:null,undefined:null,void:null,while:null,with:null,of:null};return(t?{True:r.true,False:r.false,None:null,abs:null,all:null,any:null,ascii:null,bin:null,bool:null,bytearray:null,bytes:null,callable:null,chr:null,classmethod:null,compile:null,complex:null,copyright:null,credits:null,delattr:null,dict:null,dir:null,divmod:null,enumerate:null,eval:null,exec:null,exit:null,filter:null,float:null,format:null,frozenset:null,getattr:null,globals:null,hasattr:null,hash:null,help:null,hex:null,id:null,input:null,int:null,isinstance:null,issubclass:null,iter:null,len:null,license:null,list:null,locals:null,map:null,max:null,memoryview:null,min:null,next:null,object:null,oct:null,open:null,ord:null,pow:null,print:null,property:null,quit:null,range:null,repr:null,reversed:null,round:null,set:null,setattr:null,slice:null,sorted:null,staticmethod:null,str:null,sum:null,super:null,tuple:null,type:null,vars:null}:r)[e]}})(ts=ts||{}),(e=>{(e.pxtc||(e.pxtc={})).LSHost=class{constructor(e){this.p=e}getCompilationSettings(){var e=this.p.getCompilerOptions();return e.noLib=!0,e}getNewLine(){return"\n"}getScriptFileNames(){return this.p.getSourceFiles().map(e=>e.fileName)}getScriptVersion(e){return"0"}getScriptSnapshot(e){let t=this.p.getSourceFile(e);return{getLength:()=>t.getFullText().length,getText:()=>t.getFullText(),getChangeRange:()=>{}}}getCurrentDirectory(){return"."}getDefaultLibFileName(e){return""}useCaseSensitiveFileNames(){return!0}}})(ts=ts||{}),(C=>{var E,D;function A(e){e=null==(e=null==(e=null==e?void 0:e.pxt)?void 0:e.callInfo)?void 0:e.qName;return D.lastApiInfo.apis.byQName[e]}function w(t,r,n){if(t&&!(r<0)){let e=t.parameters[r];return e=t.attributes._def&&(t=t.attributes._def.parameters[r].shadowBlockId)&&(r=n.blocksById[t],"TD_ID"===(n=D.lastApiInfo.apis.byQName[r.qName]).attributes.shim)&&1===n.parameters.length?n.parameters[0]:e}}function N(e,t,r,n,a=!1){let s={};n.forEach(e=>{let t,r,n=e.symbol.retType;var i;a&&(7==e.symbol.kind?n=e.symbol.namespace:4==e.symbol.kind&&1<(null==(i=null==(r=null==(t=e.symbol.attributes)?void 0:t.enumIdentity)?void 0:r.split("."))?void 0:i.length)&&(n=i[0])),s[n]=[...s[n]||[],e]});var i,n=s[e]||[];let o=[];for(i of n){var c=l(i.symbol,t,C.SymbolFlags.Enum);if(c){c=r.getTypeOfSymbolAtLocation(c,t);let e=E.getEnumMembers(r,c).map(e=>E.enumMemberToQName(r,e)).map(e=>D.lastApiInfo.apis.byQName[e]);o=[...o,...e]}}return[...n,...R(o,1)]}function a(e){return e.flags&C.SymbolFlags.Variable?4:e.flags&C.SymbolFlags.Class?8:e.flags&C.SymbolFlags.Enum?6:e.flags&C.SymbolFlags.EnumMember?7:e.flags&C.SymbolFlags.Method?1:e.flags&C.SymbolFlags.Module?5:e.flags&C.SymbolFlags.Property?2:0}function I(e){return{kind:0,name:e,pyName:e,qName:e,pyQName:e,namespace:"",attributes:{callingConvention:0,paramDefl:{}},fileName:pxt.MAIN_TS,parameters:[],retType:"any"}}function P(e,t){var r=e.getName(),n=/(.*)\.(.*)/.exec(r),i=n?n[2]:r,n=n?n[1]:"",t=null!=(t=null==(t=t.getSymbol())?void 0:t.getName())?t:"any";return{kind:a(e),name:i,pyName:i,qName:r,pyQName:r,namespace:n,attributes:{callingConvention:0,paramDefl:{}},fileName:pxt.MAIN_TS,parameters:[],retType:t}}function O(e,t,r){if(e)return t.byQName[r.getFullyQualifiedName(e)]}function F(e,t){return e.weight!==t.weight?t.weight-e.weight:E.compareSymbols(e.symbol,t.symbol)}function L(e,t){return{symbol:e,weight:t}}function R(e,t){return e.map(e=>L(e,t))}function M(e,t){return e.flags&C.TypeFlags.NumberLiteral?"Number":e.flags&C.TypeFlags.StringLiteral?"String":e.flags&C.TypeFlags.BooleanLiteral?"Boolean":null!=(e={number:"Number",string:"String",boolean:"Boolean"}[t=t.typeToString(e)])?e:t}function n(e,t){return"."===t.charAt(0)&&(t=t.substr(1)),e.substr(0,e.lastIndexOf(".")+1)+t}function l(e,t,r){var n,i=D.service&&D.service.getProgram().getTypeChecker();if(i)for(n of i.getSymbolsInScope(t,r))if(n.escapedName.toString()===e.qName)return n;return null}function U({symbol:e}){return!(/^__/.test(e.name)||/^__/.test(e.namespace)||e.attributes.hidden||e.attributes.deprecated||"TD_ID"==e.attributes.shim||e.attributes.blockAliasFor)}E=C.pxtc||(C.pxtc={}),(D=E.service||(E.service={})).getCallSymbol=A,D.getParameter=w,D.getApisForTsType=N,D.getBasicKindDefault=function(e,t){switch(e){case E.SK.StringKeyword:return'""';case E.SK.NumberKeyword:return"0";case E.SK.BooleanKeyword:return t?"False":"false";case E.SK.ArrayType:return"[]";case E.SK.NullKeyword:return t?"None":"null";default:return}},D.tsSymbolToPxtSymbolKind=a,D.makePxtSymbolFromKeyword=I,D.makePxtSymbolFromTsSymbol=P,D.getPxtSymbolFromTsSymbol=O,D.compareCompletionSymbols=F,D.completionSymbol=L,D.completionSymbols=R,D.getNodeAndSymbolAtLocation=function(e,t,r,n){if(t=e.getSourceFile(t),e=e.getTypeChecker(),t=E.findInnerMostNodeAtPosition(t,r)){r=e.getSymbolAtLocation(t);if(r)return[t,O(r,n,e)]}return null},D.tsTypeToPxtTypeString=M,D.filenameWithExtension=n,D.getWordAtPosition=function(t,e){let r=e,n=e;for(;0<r&&i(r);)--r;for(;n<t.length-1&&i(n);)++n;return r!=n?{text:t.substring(r+1,n),start:r+1,end:n}:null;function i(e){e=t.charCodeAt(e);return 65<=e&&e<=90||97<=e&&e<=122}},D.getTsSymbolFromPxtSymbol=l,D.getDefaultEnumValue=function(e,t){var r,n,i,a=D.service&&D.service.getProgram().getTypeChecker();for(r of E.getEnumMembers(a,e))if(r.name.kind===E.SK.Identifier)return n=E.enumMemberToQName(a,r),(i=D.lastApiInfo.apis.byQName[n])?i.attributes.alias?t&&i.attributes.pyAlias||i.attributes.alias:t?i.pyQName:i.qName:n;return"0"},D.getCompletions=function(p){let f,_,{fileName:e,fileContent:t,position:r,wordStartPos:m,wordEndPos:a,runtime:g}=p,h=t,y=(t&&D.host.setFile(e,t),n(e,"ts"));var v={startPos:m,endPos:a};let b=/\.py$/.test(e);var x={entries:[],isMemberCompletion:!1,isNewIdentifierLocation:!0,isTypeLocation:!1,namespace:[]},k=h.lastIndexOf("\n",r-1),k=Math.max(0,k),k=h.substring(k+1,r),S=b?"#":"//";if(!k.trim().startsWith(S)){let n=-1,t=-1;for(let e=r-1;0<=e;--e){if("."==h[e]){n=e;break}if(!/\w/.test(h[e]))break;-1==t&&(t=e)}n==r-1?h=h.slice(0,r)+"_"+h.slice(r):-1==t&&(h=h.slice(0,r)+"_"+h.slice(r),t=r);let i=-1!==n,s=(x.isMemberCompletion=i)?h.slice(n+1,a):h.slice(m,a);i&&(t=n);let o={};k=D.cloneCompileOpts(D.host.opts);k.fileSystem[e]=h,D.addApiInfo(k),k.syntaxInfo={position:t,type:x.isMemberCompletion?"memberCompletion":"identifierCompletion"};let c=[],l;if(b){let t=E.transpile.pyToTs(k);t.syntaxInfo&&t.syntaxInfo.symbols&&(c=R(t.syntaxInfo.symbols,1)),t.globalNames&&(D.lastGlobalNames=t.globalNames),!c.length&&t.globalNames&&(c=R(pxt.U.values(t.globalNames),1)),Object.keys(t.outfiles).forEach(e=>{e===y&&D.host.setFile(e,t.outfiles[e])}),t.sourceMap&&(S=h,T=t.outfiles[y]||"",T=E.BuildSourceMapHelpers(t.sourceMap,T,S).py.smallestOverlap(v))&&(l=T.ts.startPos),!i&&50<c.length&&(c=c.filter(e=>0<=(b?e.symbol.pyQName:e.symbol.qName).toLowerCase().indexOf(s.toLowerCase()))),k.ast=!0,E.compile(k,D.service)}else{l=r,k.ast=!0,D.host.setOpts(k);D.runConversionsAndCompileUsingService()}S=D.service.getProgram(),v=S.getSourceFile(y);let u=S.getTypeChecker(),d=E.findInnerMostNodeAtPosition(v,l);var T=E.decompiler.buildCommentMap(v).some(e=>e.start<=r&&r<=e.end);if(!T){if(d)if([E.SK.StringLiteral,E.SK.FirstTemplateToken,E.SK.NoSubstitutionTemplateLiteral].some(e=>d.kind===e))return x;x.namespace=E.getCurrentNamespaces(d);let r=!1;if(i){k=E.findInnerMostNodeAtPosition(v,b?l:n-1);if(k){let e;S=u.getSymbolAtLocation(k);if(e=0<(null==(f=null==S?void 0:S.members)?void 0:f.size)?u.getDeclaredTypeOfSymbol(S):S?u.getTypeOfSymbolAtLocation(S,k):u.getTypeAtLocation(k)){let t=e.symbol?u.getFullyQualifiedName(e.symbol):M(e,u);t&&(T=e.getApparentProperties().map(e=>t+"."+e.getName()).map(e=>D.lastApiInfo.apis.byQName[e]).filter(e=>!!e).map(e=>L(e,1)),c=T,r=!0)}}}S=pxt.U.values(D.lastApiInfo.apis.byQName);if(0===c.length&&(k=S.filter(e=>0<=(b?e.pyQName:e.qName).toLowerCase().indexOf(s.toLowerCase())),c=R(k,1)),!b&&!r){d=(d=E.findInnerMostNodeAtPosition(v,m))||v.getSourceFile();T=C.SymbolFlags.Variable;let e=u.getSymbolsInScope(d,T),t=d.getText();S=(e="_"!==t?e.filter(e=>0<=e.name.indexOf(t)):e).map(e=>{let t=O(e,D.lastApiInfo.apis,u);var r;return t||(r=u.getTypeOfSymbolAtLocation(e,d),t=P(e,r)),t}).filter(e=>!!e).map(e=>L(e,1));S.forEach(e=>e.weight+=5),c=[...c,...S]}k=E.getParentCallExpression(d);if(k){let t=E.findCurrentCallArgIdx(k,d,l);if(0<=t){let e=D.blocksInfoOp(D.lastApiInfo.apis,g.bannedCategories);v=A(k);v&&(T=w(v,t=t>=v.parameters.length?v.parameters.length-1:t,e))&&N(T.type,k,u,c,T.isEnum).forEach(e=>e.weight=10)}}if(!i){let e;v=(e=b?(S=pxt.py.keywords,Object.keys(S)):[...ts.pxtc.reservedWords,...ts.pxtc.keywordTypes]).filter(e=>0<=e.indexOf(s)).map(I).map(e=>L(e,0));c=[...c,...v]}let e={};e=b&&D.lastGlobalNames?D.lastGlobalNames:D.lastApiInfo.apis.byQName,c.map(e=>!e.symbol.attributes.alias||i&&7===e.symbol.kind?e:L(D.lastApiInfo.apis.byQName[e.symbol.attributes.alias],e.weight)).filter(U).forEach(e=>{o[e.symbol.qName]=e}),(c=pxt.Util.values(o).filter(e=>!!e&&!!e.symbol)).sort(F),p.light&&100<c.length&&(c=c.splice(0,100));var{bannedCategories:k,screenSize:T}=p.runtime;let t=D.blocksInfoOp(D.lastApiInfo.apis,k),a={takenNames:e,blocksInfo:t,screenSize:T,apis:D.lastApiInfo.apis,checker:null==(_=null==D.service?void 0:D.service.getProgram())?void 0:_.getTypeChecker()};c.forEach(e=>{var t,e=e.symbol,r=b,n=a,i=D.lastApiInfo.decls[e.qName];C.isFunctionLike(i)&&(e.snippetAddsDefinitions||r&&!e.pySnippet||!r&&!e.snippet)&&(n=D.getSnippet(n,e,i,r),i=D.snippetStringify(n),t=D.snippetStringify(n,!0),n=D.snippetAddsDefinitions(n),r?(e.pySnippet=i,e.pySnippetWithMarkers=t):(e.snippet=i,e.snippetWithMarkers=t),e.snippetAddsDefinitions=n)}),x.entries=c.map(e=>e.symbol)}}return x}})(ts=ts||{}),(o=>{{var s=o.pxtc||(o.pxtc={});let r=function(e){e=t(e);o.sys.write(e)};function c(e){for(var t of e)r(t)}function t(e){let n;var t,r,i;n=void 0!==e.file?({line:r,character:i}=o.getLineAndCharacterOfPosition((t=e).file,t.start),a=t.file.fileName,Object.assign({fileName:a,line:r,column:i},t)):Object.assign({fileName:void 0,line:void 0,column:void 0},e);{var a=n;let e="",t=(a.fileName&&(e+=a.fileName+`(${a.line+1},${a.column+1}): `),o.sys?o.sys.newLine:"\n"),r=s.DiagnosticCategory[a.category].toLowerCase();return e+=`${r} TS${a.code}: `+s.flattenDiagnosticMessageText(a.messageText,t)+t}}function n(e,t){var r=o.createCompilerHost(t),e=(r.getDefaultLibFileName=()=>"node_modules/pxt-core/pxtcompiler/ext-typescript/lib/lib.d.ts",o.createProgram(e,t,r));return e}function l(e){let t=e.getSyntacticDiagnostics();return(t=0===t.length&&0===(t=e.getOptionsDiagnostics().concat(s.Util.toArray(e.getGlobalDiagnostics()))).length?e.getSemanticDiagnostics():t).slice(0)}s.getDiagnosticString=t,s.plainTscCompileDir=function(i){let a=o.parseCommandLine([]),s=o.findConfigFile(i,o.sys.fileExists);var e=(()=>{let e=o.sys.readFile(s),t=o.parseConfigFileTextToJson(s,e),r=t.config;if(r){var n=o.parseJsonConfigFileContent(r,o.sys,i,a.options,s);if(!(0<n.errors.length))return n;c(n.errors)}else c([t.error]);o.sys.exit(o.ExitStatus.DiagnosticsPresent_OutputsSkipped)})();return l(e=n(e.fileNames,e.options)).forEach(r),e},s.plainTscCompileFiles=n,s.getProgramDiagnostics=l}})(ts=ts||{}),(m=>{{var g=m.pxtc||(m.pxtc={});function h(e){if(!e||!e.kind)return null;switch(e.kind){case m.SyntaxKind.StringKeyword:return"str";case m.SyntaxKind.NumberKeyword:return"number";case m.SyntaxKind.BooleanKeyword:return"bool";case m.SyntaxKind.VoidKeyword:return"None";case m.SyntaxKind.FunctionType:return r=h((t=e).type),`(${(t=t.parameters.map(e=>e.type).map(h)).join(", ")}) -> `+r;case m.SyntaxKind.ArrayType:return`List[${h(e.elementType)}]`;case m.SyntaxKind.TypeReference:t=e;return t.typeName&&t.typeName.getText?t.typeName.getText():"";case m.SyntaxKind.AnyKeyword:return"any";default:return pxt.tickEvent("depython.todo.tstypenodetopytype",{kind:e.kind}),""}var t,r}function y(e){if(!e||!e.flags)return null;switch(e.flags){case m.TypeFlags.String:return"str";case m.TypeFlags.Number:return"number";case m.TypeFlags.Boolean:return"bool";case m.TypeFlags.Void:return"None";case m.TypeFlags.Any:return"any";default:return pxt.tickEvent("depython.todo.tstypetopytype",{kind:e.flags}),""}}function v(p,r,n){function f(e,t,r=!1){let n=p.getTypeAtLocation(t);if(!n)return"None";r&&(n=n.getCallSignatures()[0].getReturnType());t=p.typeToString(n,void 0,m.TypeFormatFlags.UseFullyQualifiedType);return/^\d/.test(t)?"number":"this"==t?b(p,n.symbol):t}var i=(e=>{switch(e.kind){case g.SK.MethodDeclaration:case g.SK.MethodSignature:return 1;case g.SK.PropertyDeclaration:case g.SK.PropertySignature:case g.SK.GetAccessor:case g.SK.SetAccessor:return 2;case g.SK.Constructor:case g.SK.FunctionDeclaration:return 3;case g.SK.VariableDeclaration:return 4;case g.SK.ModuleDeclaration:return 5;case g.SK.EnumDeclaration:return 6;case g.SK.EnumMember:return 7;case g.SK.ClassDeclaration:return 8;case g.SK.InterfaceDeclaration:return 9;default:return 0}})(n);if(0==i)return null;{var a=n;let d=g.parseComments(a);if(d.weight<0)return null;var s=/^(.*)\.(.*)/.exec(r),o=3==i||1==i;let e=null;var c=m.getSourceFileOfNode(n);c&&(c=/^pxt_modules\/([^\/]+)/.exec(c.fileName))&&(e=c[1]);let t=void 0;if(8==i||9==i)if(t=[],n.heritageClauses)for(var l of n.heritageClauses)if(l.types)for(var u of l.types)t.push(f(0,u));6!=i&&7!==i||(t=t||[]).push("Number");var _={kind:i,qName:r,namespace:s?s[1]:"",name:s?s[2]:r,fileName:n.getSourceFile().fileName,attributes:d,pkg:e,pkgs:null,extendsTypes:t,isStatic:null==(c=a.modifiers)?void 0:c.some(e=>e.kind===m.SyntaxKind.StaticKeyword),retType:n.kind==m.SyntaxKind.Constructor?"void":5==i?"":f(a.type,a,o),parameters:o?g.Util.toArray(a.parameters).map((r,e)=>{var t=g.getName(r),n=d.paramHelp[t]||"",i=d.paramMin&&d.paramMin[t],a=d.paramMax&&d.paramMax[t];/\beg\.?:\s*(.+)/.exec(n);let s,o;if(r.type&&r.type.kind===g.SK.FunctionType){let t=p.getSignatureFromDeclaration(r.type).getParameters();"objectdestructuring"===d.mutate?(g.assert(0<t.length),s=p.getTypeAtLocation(t[0].valueDeclaration).getProperties().map(e=>({name:e.getName(),type:p.typeToString(p.getTypeOfSymbolAtLocation(e,t[0].valueDeclaration))}))):o=t.map((e,t)=>({name:e.getName(),type:p.typeToString(p.getTypeOfSymbolAtLocation(e,r),void 0,m.TypeFormatFlags.UseFullyQualifiedType)}))}var c={},l=p.getTypeAtLocation(r),u=l&&!!(l.flags&(m.TypeFlags.Enum|m.TypeFlags.EnumLiteral));if(d.block&&d.paramShadowOptions){let r=[];d.block.replace(/%(\w+)/g,(e,t)=>(r.push(t),"")),d.paramShadowOptions[r[e]]&&(c.fieldEditorOptions={value:d.paramShadowOptions[r[e]]})}i&&(c.min={value:i}),a&&(c.max={value:a});e=r.type&&h(r.type)||l&&y(l)||"unknown",i=r.initializer?r.initializer.getText():g.getExplicitDefault(d,t)||(r.questionToken?"undefined":void 0);return{name:t,description:n,type:f(0,r),pyTypeString:e,initializer:i,default:d.paramDefl[t],properties:s,handlerParameters:o,options:c,isEnum:u}}):null,snippet:m.isFunctionLike(n)?null:void 0};switch(_.kind){case 7:_.pyName=g.U.snakify(_.name).toUpperCase();break;case 4:case 1:case 2:case 3:_.pyName=g.U.snakify(_.name);break;default:_.pyName=_.name}return n.kind!==g.SK.GetAccessor&&(n.kind!==g.SK.PropertyDeclaration&&n.kind!==g.SK.PropertySignature||!g.isReadonly(n))||(_.isReadOnly=!0),_}}function a(e){return!!e.attributes.block&&!!e.attributes.blockId}g.placeholderChar="",g.ts2PyFunNameMap={"Math.trunc":{n:"int",t:m.SyntaxKind.NumberKeyword,snippet:"int(0)"},"Math.min":{n:"min",t:m.SyntaxKind.NumberKeyword,snippet:"min(0, 0)"},"Math.max":{n:"max",t:m.SyntaxKind.NumberKeyword,snippet:"max(0, 0)"},"Math.abs":{n:"abs",t:m.SyntaxKind.NumberKeyword,snippet:"abs(0)"},"console.log":{n:"print",t:m.SyntaxKind.VoidKeyword,snippet:'print(":)")'},".length":{n:"len",t:m.SyntaxKind.NumberKeyword},".toLowerCase()":{n:"string.lower",t:m.SyntaxKind.StringKeyword},".toUpperCase()":{n:"string.upper",t:m.SyntaxKind.StringKeyword},".charCodeAt(0)":{n:"ord",t:m.SyntaxKind.NumberKeyword},"pins.createBuffer":{n:"bytearray",t:m.SyntaxKind.Unknown},"pins.createBufferFromArray":{n:"bytes",t:m.SyntaxKind.Unknown},"control.createBuffer":{n:"bytearray",t:m.SyntaxKind.Unknown},"control.createBufferFromArray":{n:"bytes",t:m.SyntaxKind.Unknown},"!!":{n:"bool",t:m.SyntaxKind.BooleanKeyword},"Array.push":{n:"Array.append",t:m.SyntaxKind.Unknown},parseInt:{n:"int",t:m.SyntaxKind.NumberKeyword,snippet:'int("0")'},"_py.range":{n:"range",t:m.SyntaxKind.Unknown,snippet:"range(4)"}},g.emitPyTypeFromTypeNode=h,g.emitPyTypeFromTsType=y,g.genDocs=function(n,e,i={}){pxt.debug("generating docs for "+n),pxt.debug(JSON.stringify(Object.keys(e.byQName),null,2));let a={};var r=g.Util.values(e.byQName),e=r.filter(e=>7==e.kind).sort(l);let s={},o={},c={};var t=(r,e)=>{if(i.locs){let t={};Object.keys(r).sort().forEach(e=>t[e]=r[e]),a[n+e+"-strings.json"]=JSON.stringify(t,null,2)}};for(let t of r){if(5==t.kind){if(!r.filter(e=>e.namespace==t.name&&!!e.attributes.jsDoc)[0])continue;t.attributes.block||(t.attributes.block=t.name)}(t=>{var e;if(i.locs&&t.qName&&(!/^__/.test(t.name)&&(pxt.debug("loc: "+t.qName),7!=t.kind&&(r=m.pxtc.blocksCategory(t))&&(o["{id:category}"+r]=r),t.attributes.jsDoc&&(c[t.qName]=t.attributes.jsDoc),t.attributes.group&&(o["{id:group}"+t.attributes.group]=t.attributes.group),t.attributes.subcategory&&(o["{id:subcategory}"+t.attributes.subcategory]=t.attributes.subcategory),t.parameters&&t.parameters.filter(e=>!!e.description).forEach(e=>{c[t.qName+"|param|"+e.name]=e.description}),t.attributes.block))){o[t.qName+"|block"]=t.attributes.block;var r=pxt.blocks.compileInfo(t);if(null!=(e=r.handlerArgs)&&e.length)for(var n of r.handlerArgs)o[n.localizationKey]=n.name}})(t)}return i.locs&&e.forEach(e=>{e.attributes.block&&(o[e.qName+"|block"]=e.attributes.block),e.attributes.jsDoc&&(o[e.qName]=e.attributes.jsDoc)}),t(o,""),t(c,"-jsdoc"),i.pxtsnippet&&(i.pxtsnippet.forEach(t=>{{var r=s;let e=["label","title","hint","errorMessage"];r[t.label]=t.label,t.questions.forEach(t=>{e.forEach(e=>{t[e]&&(r[t[e]]=t[e])})})}}),t(s,"-snippet")),a},g.hasBlock=a;let i;function l(t,r){function e(e){return-e(t)+e(r)}var n=e(e=>a(e)?1:-1);return n||e(e=>e.namespace?-1:1)||(i=i||{4:100,5:101,3:99,2:98,1:97,8:89,6:81,7:80},e(e=>i[e.kind]||0)||e(e=>e.attributes.weight||50))||g.U.strcmp(t.name,r.name)}function n(e,t,r=!1){let s={byQName:{},jres:t},o={},c=e.getTypeChecker(),l=n=>{if(n.kind==g.SK.VariableStatement)n.declarationList.declarations.forEach(l);else{if(g.isExported(n)){if(!n.symbol)return void pxt.warn("no symbol",n);let e=b(c,n.symbol),r=(n.kind==g.SK.SetAccessor&&(e+="@set"),o[e]=n,v(c,e,n));if(r){let t=g.U.lookup(s.byQName,e);if(t)if(9==t.kind&&9!=r.kind)s.byQName[e+"@type"]=t;else if(9!=t.kind&&9==r.kind)s.byQName[e+"@type"]=r,r=t;else{var i=null==(i=t.attributes._source)?void 0:i.trim(),a=null==(a=r.attributes._source)?void 0:a.trim();let e=i+"\n"+a;i&&0<=(null==a?void 0:a.indexOf(i))?e=a:a&&0<=(null==i?void 0:i.indexOf(a))&&(e=i),r.attributes=g.parseCommentString(e),5===t.kind&&(r.pkgs=t.pkgs||[],t.pkg===r.pkg||r.pkgs.find(e=>e===t.pkg)||r.pkgs.push(t.pkg)),t.extendsTypes&&(r.extendsTypes=r.extendsTypes||[],t.extendsTypes.forEach(e=>{-1===r.extendsTypes.indexOf(e)&&r.extendsTypes.push(e)}))}!n.parent||n.parent.kind!=g.SK.ClassDeclaration&&n.parent.kind!=g.SK.InterfaceDeclaration||g.isStatic(n)||(r.isInstance=!0),s.byQName[e]=r}}n.kind==g.SK.ModuleDeclaration?(a=n).body.kind==g.SK.ModuleBlock?a.body.statements.forEach(l):a.body.kind==g.SK.ModuleDeclaration&&l(a.body):n.kind!=g.SK.InterfaceDeclaration&&n.kind!=g.SK.ClassDeclaration&&n.kind!=g.SK.EnumDeclaration||n.members.forEach(l)}};for(var n of e.getSourceFiles())n.statements.forEach(l);var i,a=[];for(i in s.byQName){var u,d,p=s.byQName[i];p.qName=i,p.attributes._source=null,p.extendsTypes&&p.extendsTypes.length&&a.push(p);let e=p.attributes.jres;e&&("true"==e&&(e=i),(u=g.U.lookup(t||{},e))&&u.icon&&!p.attributes.iconURL&&(p.attributes.iconURL=u.icon),u)&&u.data&&!p.attributes.jresURL&&(p.attributes.jresURL="data:"+u.mimeType+";base64,"+u.data),p.pyName&&((u=g.U.lookup(g.ts2PyFunNameMap,p.qName))&&u.n?(p.pyQName=u.n,p.pySnippet=u.snippet,p.pySnippetName=u.n,p.pySnippetWithMarkers=void 0):p.namespace?(d=s.byQName[p.namespace])?p.pyQName=d.pyQName+"."+p.pyName:(pxt.log("namespace missing: "+p.namespace),p.pyQName=p.namespace+"."+p.pyName):p.pyQName=p.pyName)}let f={},_=e=>{if(!g.U.lookup(f,e.qName)){f[e.qName]=!0;var t,r={};r[e.qName]=!0;for(t of e.extendsTypes||[]){r[t]=!0;var n=s.byQName[t];if(n){_(n);for(var i of n.extendsTypes)r[i]=!0}}e.extendsTypes=Object.keys(r)}};return a.forEach(_),r&&delete s.byQName["Array.map"],{apis:s,decls:o}}function b(e,t){return t.isBogusSymbol?t.name:e.getFullyQualifiedName(t)}g.compareSymbols=l,g.getApiInfo=function(e,t,r=!1){return n(e,t,r).apis},g.internalGetApiInfo=n,g.getFullName=b}})(ts=ts||{}),(l=>{var u=l.pxtc||(l.pxtc={});{var d=u.service||(u.service={});let e={fileSystem:{},sourceFiles:[],target:{isNative:!1,hasHex:!1,switches:{}}};class a{constructor(){this.opts=e,this.fileVersions={},this.projectVer=0,this.pxtModulesOK=null}getProjectVersion(){return this.projectVer+""}setFile(e,t){this.opts.fileSystem[e]!=t&&(this.fileVersions[e]=(this.fileVersions[e]||0)+1,this.opts.fileSystem[e]=t,this.projectVer++)}reset(){this.setOpts(e),this.pxtModulesOK=null}setOpts(e){u.Util.iterMap(e.fileSystem,(e,t)=>{this.opts.fileSystem[e]!=t&&(this.fileVersions[e]=(this.fileVersions[e]||0)+1)}),this.opts=Object.assign(Object.assign({},e),{fileSystem:Object.assign({},e.fileSystem)}),this.projectVer++}getCompilationSettings(){return u.getTsCompilerOptions(this.opts)}getScriptFileNames(){return this.opts.sourceFiles.filter(e=>u.U.endsWith(e,".ts"))}getScriptVersion(e){return(this.fileVersions[e]||0).toString()}getScriptSnapshot(e){e=this.opts.fileSystem[e];return null!=e?l.ScriptSnapshot.fromString(e):null}getNewLine(){return"\n"}getCurrentDirectory(){return"."}getDefaultLibFileName(e){return"no-default-lib.d.ts"}log(e){pxt.log("LOG",e)}trace(e){pxt.log("TRACE",e)}error(e){pxt.error("ERROR",e)}useCaseSensitiveFileNames(){return!0}}let c,n;function p(e,t){return e?(d.lastLocBlocksInfo||(d.lastLocBlocksInfo=u.getBlocksInfo(e,t)),d.lastLocBlocksInfo):(d.lastBlocksInfo||(d.lastBlocksInfo=u.getBlocksInfo(d.lastApiInfo.apis,t)),d.lastBlocksInfo)}function f(e){return d.lastApiInfo||(d.lastApiInfo=u.internalGetApiInfo(d.service.getProgram(),e.jres)),d.lastApiInfo}function _(e){var t;e.apisInfo||(t=f(e),e.apisInfo=u.U.clone(t.apis))}function m(e){e=pxt.U.flatClone(e);return e.fileSystem=pxt.U.flatClone(e.fileSystem),e}d.blocksInfoOp=p,d.getLastApiInfo=f,d.addApiInfo=_,d.cloneCompileOpts=m,d.IsOpErr=function(e){return!!e.errorMessage};let i={reset:()=>{d.service=l.createLanguageService(d.host),d.lastApiInfo=void 0,d.lastGlobalNames=void 0,d.host.reset()},setOptions:e=>{d.host.setOpts(e.options)},syntaxInfo:e=>{var r=e.fileContent,n=(e.fileContent&&d.host.setFile(e.fileName,e.fileContent),m(d.host.opts));n.fileSystem[e.fileName]=r,_(n),n.syntaxInfo={position:e.position,type:e.infoType};let i=e.fileName.endsWith(".py");var t,a,s,r="symbol"===n.syntaxInfo.type,o="signature"===n.syntaxInfo.type;if(i?(t=u.transpile.pyToTs(n)).globalNames&&(d.lastGlobalNames=t.globalNames):(n.ast=!0,d.host.setOpts(n),g(),a=(t=d.service.getProgram()).getSourceFile(e.fileName),t=t.getTypeChecker(),(r||o)&&(a=u.findInnerMostNodeAtPosition(a,e.position))&&(r?(s=t.getSymbolAtLocation(a))&&(s=d.getPxtSymbolFromTsSymbol(s,n.apisInfo,t),n.syntaxInfo.symbols=[s],n.syntaxInfo.beginPos=a.getStart(),n.syntaxInfo.endPos=a.getEnd()):o&&(s=null==(t=null==a?void 0:a.pxt)?void 0:t.callInfo)&&(o=n.apisInfo.byQName[s.qName],n.syntaxInfo.symbols=[o],n.syntaxInfo.beginPos=a.getStart(),n.syntaxInfo.endPos=a.getEnd(),t=u.getParentCallExpression(a))&&(s=u.findCurrentCallArgIdx(t,a,e.position),n.syntaxInfo.auxResult=s))),!r||null!=(o=n.syntaxInfo.symbols)&&o.length||(t=d.getWordAtPosition(e.fileContent,e.position))&&(i&&"range"===t.text?(a=f(n).apis).byQName["_py.range"]&&(n.syntaxInfo.symbols=[a.byQName["_py.range"]],n.syntaxInfo.beginPos=t.start,n.syntaxInfo.endPos=t.end):(s=u.getHelpForKeyword(t.text,i))&&(n.syntaxInfo.auxResult={documentation:s,displayString:d.displayStringForKeyword(t.text,i)},n.syntaxInfo.beginPos=t.start,n.syntaxInfo.endPos=t.end)),null!=(o=n.syntaxInfo.symbols)&&o.length){let t=f(n).apis;i&&(n.syntaxInfo.symbols=n.syntaxInfo.symbols.map(e=>t.byQName[e.qName]||e)),r&&(n.syntaxInfo.auxResult=n.syntaxInfo.symbols.map(e=>d.displayStringForSymbol(e,i,t)))}return n.syntaxInfo},getCompletions:e=>d.getCompletions(e),compile:e=>{d.host.setOpts(e.options);e=g();return u.timesToMs(e),e},decompile:e=>(d.host.setOpts(e.options),u.decompile(d.service.getProgram(),e.options,e.fileName,!1)),pydecompile:e=>(d.host.setOpts(e.options),u.transpile.tsToPy(d.service.getProgram(),e.fileName)),decompileSnippets:e=>(d.host.setOpts(e.options),u.decompileSnippets(d.service.getProgram(),e.options,!1)),assemble:e=>({words:u.processorInlineAssemble(d.host.opts.target,e.fileContent)}),py2ts:e=>(_(e.options),u.transpile.pyToTs(e.options)),fileDiags:e=>u.patchUpDiagnostics((e=>{if(!/\.ts$/.test(e))return[];let t=d.service.getSyntacticDiagnostics(e);return t=(t=t&&t.length?t:d.service.getSemanticDiagnostics(e))||[]})(e.fileName)),allDiags:()=>{var e=g();return u.timesToMs(e),d.host.opts.target.switches.time&&pxt.log("DIAG-TIME",e.times),e},format:e=>{e=e.format;return u.format(e.input,e.pos)},apiInfo:()=>{if(d.lastBlocksInfo=void 0,c=void 0,d.host.opts!==e)return d.lastApiInfo=u.internalGetApiInfo(d.service.getProgram(),d.host.opts.jres),d.lastApiInfo.apis},snippet:t=>{var r=t.snippet;if(d.lastApiInfo){var n=d.lastApiInfo.apis.byQName[r.qName],i=d.lastApiInfo.decls[r.qName];if(n&&i&&l.isFunctionLike(i)){r=!!r.python;let e={};e=r&&d.lastGlobalNames?d.lastGlobalNames:d.lastApiInfo.apis.byQName;var{bannedCategories:t,screenSize:a}=t.runtime,s=d.lastApiInfo.apis,o=p(s,t),c=d.service&&d.service.getProgram().getTypeChecker(),s={apis:s,blocksInfo:o,takenNames:e,bannedCategories:t,screenSize:a,checker:c,includeParentSnippet:!0},o=d.getSnippet(s,n,i,r);return d.snippetStringify(o)}}},blocksInfo:e=>p(e,e.blocks&&e.blocks.bannedCategories),apiSearch:n=>{var s=n.search;let l=p(s.localizedApis,n.blocks&&n.blocks.bannedCategories);s.localizedStrings&&pxt.Util.setLocalizedStrings(s.localizedStrings);var e=(t,e,r)=>{if(t)return"string"==typeof t?t:e?t[e]:Object.keys(t).map(e=>t[e]).join(" ")};let u=(t,r=!1,n)=>{var e=(null==(e=t.attributes)?void 0:e.toolboxParent)||(null==(e=t.attributes)?void 0:e.duplicateWithToolboxParent),i=(null==(i=t.attributes)?void 0:i.toolboxParentArgument)||(null==(i=t.attributes)?void 0:i.duplicateWithToolboxParentArgument);if(e&&!r){r=l.blocksById[e];if(r){let e={[i||"*"]:u(t,!0)};return u(r,!0,e)}}if(null!=(e=t.attributes)&&e._def){var a,s=[],i=t.attributes._def,o=pxt.blocks.compileInfo(t);for(a of i.parts)switch(a.kind){case"label":s.push(a.text);break;case"param":var c=o.definitionNameToParam[a.name];let e=(null==c?void 0:c.defaultValue)||a.varName||(null==c?void 0:c.actualName)||a.name;null!=n&&n["*"]?(e=n["*"],delete n["*"]):null!=n&&n[c.definitionName]&&(e=n[c.definitionName]),s.push(e)}return s.join(" ")}return t.attributes.block};if(!d.builtinItems){d.builtinItems=[],d.blockDefinitions=pxt.blocks.blockDefinitions();for(let n in d.blockDefinitions){let r=d.blockDefinitions[n];if(r.operators)for(let t in r.operators)r.operators[t].forEach(e=>d.builtinItems.push({id:n,name:r.name,jsdoc:"string"==typeof r.tooltip?r.tooltip:r.tooltip[e],block:e,field:[t,e],builtinBlock:!0}));else d.builtinItems.push({id:n,name:r.name,jsdoc:e(r.tooltip,r.tooltipSearch,r),block:e(r.block,r.blockTextSearch,r),builtinBlock:!0})}}let o;if(!c||s.subset){let i={},e=[],t=(s.subset&&(d.tbSubset=s.subset,e=d.builtinItems.filter(e=>!!d.tbSubset[e.id])),d.tbSubset?o=l.blocks.filter(e=>!!d.tbSubset[e.attributes.blockId]):(o=l.blocks,e=d.builtinItems),o.map(e=>({id:e.attributes.blockId,qName:e.qName,name:e.name,namespace:e.namespace,block:u(e),params:(e=>{let t,r=null==(t=e.attributes)?void 0:t.paramHelp;return r?Object.keys(r).map(e=>r[e]).join(" "):""})(e),jsdoc:e.attributes.jsDoc,localizedCategory:d.tbSubset&&"string"==typeof d.tbSubset[e.attributes.blockId]?d.tbSubset[e.attributes.blockId]:void 0,dropdownOptions:(t=>{let n=[];return t.parameters&&t.parameters.forEach(r=>{if(r.options&&r.options.fieldEditorOptions&&(e=r.options.fieldEditorOptions.value)&&Array.isArray(e)&&e.forEach(e=>{Array.isArray(e)&&2<=e.length&&("string"==typeof e[0]?n.push(e[0]):"object"==typeof e[0]&&e[0].alt&&n.push(e[0].alt))}),r.isEnum&&r.type){let t=l.apis.byQName[r.type];t&&6===t.kind&&Object.keys(l.apis.byQName).forEach(e=>{e=l.apis.byQName[e];7===e.kind&&e.namespace===t.name&&n.push(e.name)})}var e=l.apis.byQName[r.type];e&&e.attributes.fixedInstances&&pxt.Util.values(l.apis.byQName).filter(e=>4===e.kind&&e.attributes.fixedInstance&&e.retType===r.type).forEach(e=>{e=e.attributes.block||e.attributes.blockId||e.name;n.push(e)}),t.attributes.constantShim&&pxt.Util.values(l.apis.byQName).filter(e=>e.attributes.blockIdentity===t.qName).forEach(e=>{e=e.attributes.block||e.attributes.blockId||e.name;n.push(e)}),"@combined@"===r.type&&t.combinedProperties&&t.combinedProperties.forEach(e=>{var e=l.apis.byQName[e];e&&(e=e.attributes.block||e.attributes.blockId||e.name,n.push(e))})}),n.join(" ")})(e)}))),r={},a=(e.forEach(e=>r[e.id]=!0),t=t.filter(e=>!(e.id in r)),0);o.forEach(e=>{var t,r=i[e.qName]=(r=(e=e).attributes.weight||50,(1e3*((t=l.apis.byQName[e.namespace])&&t.attributes.weight||50)+r)*(!!t&&t.attributes.advanced||e.attributes.advanced?1:1e6));a=Math.max(a,r)}),t=t.concat(e);n={shouldSort:!0,threshold:.4,location:0,distance:1e3,maxPatternLength:16,minMatchCharLength:2,findAllMatches:!1,caseSensitive:!1,keys:[{name:"name",weight:.3},{name:"dropdownOptions",weight:.15},{name:"namespace",weight:.1},{name:"localizedCategory",weight:.1},{name:"block",weight:.4375},{name:"params",weight:.0625},{name:"jsdoc",weight:.0625}],sortFn:function(e,t){var r=e.qName?1-i[e.item.qName]/a:1,n=t.qName?1-i[t.item.qName]/a:1;return e.score*(1+r/10)-t.score*(1+n/10)}};c=new Fuse(t,n)}return c.search(s.term).slice(0,7)},projectSearch:e=>{var t,e=e.projectSearch,r=e.headers,r=(n||(t={shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:16,minMatchCharLength:2,findAllMatches:!1,caseSensitive:!1,keys:[{name:"name",weight:.3}]},n=new Fuse(r,t)),n.search(e.term));return r},projectSearchClear:()=>{n=void 0}};function g(){_(d.host.opts);var e=u.U.flatClone(d.host.opts.fileSystem);let t=u.runConversionsAndStoreResults(d.host.opts);null!=t&&t.globalNames&&(d.lastGlobalNames=t.globalNames);var r,n,i=d.host.opts.fileSystem;d.host.opts.fileSystem=e;for(r of Object.keys(i))d.host.setFile(r,i[r]);return t.fileSystem=u.U.flatClone(i),0==t.diagnostics.length&&(d.host.opts.skipPxtModulesEmit=!1,d.host.opts.skipPxtModulesTSC=!1,e=d.host.opts.target.isNative?"native":"js",!d.host.opts.target.switches.noIncr&&d.host.pxtModulesOK&&(d.host.opts.skipPxtModulesTSC=!0,d.host.opts.noEmit?d.host.opts.skipPxtModulesEmit=!0:d.host.opts.target.isNative?d.host.opts.skipPxtModulesEmit=!1:"js"!=d.host.pxtModulesOK||d.host.opts.breakpoints&&!d.host.opts.justMyCode||(d.host.opts.skipPxtModulesEmit=!0)),n=u.compile(d.host.opts,d.service),((t=Object.assign({sourceMap:t.sourceMap,fileSystem:t.fileSystem},n)).needsFullRecompile||(!t.success||t.diagnostics.length)&&d.host.opts.clearIncrBuildAndRetryOnError)&&(pxt.debug("triggering full recompile"),pxt.tickEvent("compile.fullrecompile"),d.host.opts.skipPxtModulesEmit=!1,n=u.compile(d.host.opts,d.service),t=Object.assign({sourceMap:t.sourceMap},n)),t.diagnostics.every(e=>!u.isPxtModulesFilename(e.fileName))&&(d.host.pxtModulesOK=e),t.ast)&&(n=u.internalGetApiInfo(t.ast))&&(d.lastApiInfo=n),t}d.runConversionsAndCompileUsingService=g,d.performOperation=function(e,t){d.service||(d.host=new a,d.service=l.createLanguageService(d.host));let r=null;if(i.hasOwnProperty(e))try{var n=i[e];r=n(t)||{}}catch(e){r={errorMessage:e.stack}}else r={errorMessage:"No such operation: "+e};return r}}})(ts=ts||{}),($=>{var J,q;function r(e){return"object"==typeof e&&void 0!==e.default}function s(e){return"object"==typeof e&&"number"==typeof e.length}function V(e,t=!1){let i={},a=1;return function n(e){{if(r(e)){if(t){if(o(e.default))return n(e.default);let t=V(e.default,!1),r=i[t];if(r&&!e.isLiteral||(r=a,a++,i[t]=r),0<=t.indexOf(".")&&t.indexOf(" ")<0){let e=t.split(".");return e[e.length-1]="${"+r+":"+e[e.length-1]+"}",e.join(".")}return"${"+r+":"+t+"}"}return n(e.default)}return s(e)?e.map(e=>n(e)).join(""):e}}(e)}function o(e){return!!r(e)||!!s(e)&&e.map(o).reduce((e,t)=>e||t,!1)}function H(e){return e.attributes.shim&&"@"==e.attributes.shim[0]||e.attributes.pyConvertToTaggedTemplate}J=$.pxtc||($.pxtc={}),(q=J.service||(J.service={})).snippetStringify=V,q.snippetHasReplacementPoints=o,q.snippetAddsDefinitions=function e(t){return r(t)?t.isDefinition||e(t.default):!!s(t)&&t.map(e).reduce((e,t)=>e||t,!1)},q.getSnippet=function s(o,c,e,l,u=0){let t,r,n,{apis:d,takenNames:i,blocksInfo:R,screenSize:p,checker:f,parameterOverride:a,includeParentSnippet:M}=o,_=pxt.py.INDENT,U=l?"python":"typescript",m=c.namespace,g=!1,h="",y=0;let v,b,x=(a&&(v=null==(t=Object.keys(a))?void 0:t[0])&&(b=a[v]),[]);if(H(c))return l?c.name+'(""" """)':c.name+"``";let k="",S=(k=e.kind==J.SK.Constructor?L(e.symbol)||e.parent.name.getText():L(e.symbol)||e.name.getText(),l&&(k=J.U.snakify(k)),c.attributes);if("TD_ID"===S.shim&&u&&e.parameters.length)return O(e.parameters[0]);var T=c;let C=pxt.blocks.compileInfo(T),E=R.blocksById,B=(null==(r=S._def)?void 0:r.parameters.filter(e=>!!C.definitionNameToParam[e.name]).map(e=>C.definitionNameToParam[e.name].actualName))||[],D=e.parameters?e.parameters.filter(e=>!e.initializer&&!e.questionToken||0<=B.indexOf(e.name.getText())):[];e=D.map(O).map(e=>({default:e,isLiteral:!0}));if(T.attributes.block)if(T.attributes.defaultInstance)m=T.attributes.defaultInstance,l&&(m=m&&J.U.snakify(m));else if("variables_get"===(null==(n=C.thisParameter)?void 0:n.shadowBlockId))m=C.thisParameter.defaultValue||C.thisParameter.definitionName,l&&(m=m&&J.U.snakify(m));else if(T.namespace){let n=d.byQName[T.namespace];if(n.attributes.fixedInstances){let t=J.Util.values(d.byQName);var A=t.filter(e=>4===e.kind&&e.attributes.fixedInstance);let e;var w=A.filter(e=>e.retType==n.qName).sort((e,t)=>e.name.localeCompare(t.name));e=(w.length?w:A.filter(e=>{return-1!==(r=n.qName,t.filter(e=>e.extendsTypes).filter(e=>e.extendsTypes.reduce((e,t)=>e||-1!=t.indexOf(r),!1)).reduce((e,t)=>e.concat(t.extendsTypes),[]).indexOf(e.retType));var r}).sort((e,t)=>e.name.localeCompare(t.name)))[0],(h=(e?(m=""+j(e),e):n).namespace)&&(g=!0)}else if(1==T.kind||2==T.kind){if(C.thisParameter){let e=void 0;C.thisParameter.definitionName&&(e="my"+(e=(e=C.thisParameter.definitionName)[0].toUpperCase()+e.substring(1))),m=C.thisParameter.defaultValue||e,l&&(m=m&&J.U.snakify(m))}}else if(8===n.kind)return}w=S&&(l?S.pySnippet:S.snippet);let N,I=(w?(N=[w],m=void 0):(N=[k],(null!=e&&e.length||1==T.kind||3==T.kind||8==T.kind)&&(A=e.reduce((e,t)=>[...e,e.length?", ":"",t],[]),N=N.concat(["(",...A,")"]))),m?[m,".",...N]:N);return I=g?[(w=h,(e=w.indexOf("."))<0?w:w.substring(0,e)),".",...I]:I,S&&S.blockSetVariable&&(I=l?[{default:P(J.U.snakify(S.blockSetVariable)),isDefinition:!0}," = ",...I]:["let ",{default:P(S.blockSetVariable),isDefinition:!0}," = ",...I]),M&&T.attributes.toolboxParent&&0===u?(b=[x,I],a={[v=T.attributes.toolboxParentArgument]:b},A=E[c.attributes.toolboxParent],s(Object.assign(Object.assign({},o),{parameterOverride:a}),A,q.lastApiInfo.decls[A.qName],l,u+1)):[x,I];function P(e){return i[e]?$.pxtc.decompiler.getNewName(e,i,!1):e}function O(r){var n=r.type;if(n){if(b&&r.symbol.escapedName===v)return V(b);var t=r.name.kind===J.SK.Identifier?r.name.text:void 0,i=null==(i=S.paramSnippets)?void 0:i[t];if(i)if(l){if(i.python)return i.python}else if(i.ts)return i.ts;if(i=null==(i=null==S?void 0:S.paramDefl)?void 0:i[t]){let e;if(n.kind==J.SK.AnyKeyword&&(a=i.toUpperCase(),e=Number.isNaN(+a)?"FALSE"==a||"TRUE"==a?J.SK.BooleanKeyword:a.includes(".")?J.SK.EnumKeyword:J.SK.StringKeyword:J.SK.NumberKeyword),n.kind===J.SK.StringKeyword||e===J.SK.StringKeyword)return 0!=i.indexOf('"')?`"${i}"`:i;let t=null==f?void 0:f.getTypeAtLocation(r);return null!=(a=q.getPxtSymbolFromTsSymbol(null==t?void 0:t.symbol,d,f))&&a.attributes.fixedInstances&&l?pxt.Util.snakify(i):l?J.tsSnippetToPySnippet(i,a):i}if(a=(t=>{var e=pxt.blocks.compileInfo(c);if(null!=(e=null==(e=e.parameters)?void 0:e.find(e=>e.actualName===t))&&e.shadowBlockId&&(e=E[e.shadowBlockId])){var r=null==(r=e.attributes)?void 0:r.paramFieldEditor;if((r=r&&r[t])&&(e=e.attributes.paramFieldEditorOptions||{},"sprite"===r))return(e=>{var t={initColor:0,initWidth:16,initHeight:16};if(null!=e&&e.sizes){var r=e.sizes.split(";"),n=[];for(let e=0;e<r.length;e++){var i=r[e].split(",");if(2===i.length){let e=parseInt(i[0]),t=parseInt(i[1]);isNaN(e)||isNaN(t)||(e<0&&p&&(e=p.width),t<0&&p&&(t=p.height),n.push([e,t]))}}0<n.length&&(t.initWidth=n[0][0],t.initHeight=n[0][1])}return t.initColor=a(null==e?void 0:e.initColor,t.initColor),t.initWidth=a(null==e?void 0:e.initWidth,t.initWidth),t.initHeight=a(null==e?void 0:e.initHeight,t.initHeight),pxt.sprite.imageLiteralFromDimensions(t.initWidth,t.initHeight,t.initColor,U);function a(e,t){return e=parseInt(e),isNaN(e)?t:e}})(e[t])}return null})(t))return a;if(i=(e=>{let t=(S._shadowOverrides||{})[e];var r,n;if(!t)for(r of pxt.blocks.compileInfo(c).parameters)if(r.actualName===e){t=r.shadowBlockId;break}if(!t)return null;let i=E[t];return i?("TD_ID"===i.attributes.shim&&i.parameters.length&&(n=i.parameters[0].type,n=d.byQName[n],i=n||i),i):null})(t)){var a=q.getTsSymbolFromPxtSymbol(i,r,$.SymbolFlags.Enum);if(a=(a=a&&f.getTypeOfSymbolAtLocation(a,r))&&F(a))return a;if("KIND_GET"===(a=i.attributes).shim&&a.blockId){let t=a.kindNamespace||c.namespace;if(a=J.Util.values(d.byQName).find(e=>e.namespace===t&&e.attributes.isKind))return l?a.pyQName:a.qName}if(u<3&&q.lastApiInfo.decls[i.qName]&&(a=s(o,i,q.lastApiInfo.decls[i.qName],l,u+1)))return a}if(n.kind===J.SK.StringKeyword&&"leds"===t)return l?`"""
. . . . .
. . . . .
. . # . .
. . . . .
. . . . .
"""`:`\`
. . . . .
. . . . .
. . # . .
. . . . .
. . . . .
\``;if(n.kind===J.SK.FunctionType)return i=n,(a=f?f.getSignatureFromDeclaration(i):void 0)?K(a,!0):z(t);if(void 0!==(i=q.getBasicKindDefault(n.kind,l)))return i;let e=f&&f.getTypeAtLocation(r);if(e&&(a=F(e)))return a}return l?"None":"null"}function F(e){if(e.symbol&&e.symbol.flags&$.SymbolFlags.Enum)return q.getDefaultEnumValue(e,l);var t,r=q.getPxtSymbolFromTsSymbol(e.symbol,d,f);if(J.isObjectType(e)){var n=r&&r.attributes&&(l?r.attributes.pySnippet:r.attributes.snippet);if(n)return n;if(e.objectFlags&$.ObjectFlags.Anonymous)return(n=f.getSignaturesOfType(e,$.SignatureKind.Call))&&n.length?K(n[0],!1):z()}return e.flags&$.TypeFlags.NumberLike?"0":r&&r.attributes.fixedInstances&&(t=r,(n=pxt.Util.values(d.byQName).filter(e=>4===e.kind&&e.attributes.fixedInstance&&((e,t,r)=>t==r||!(!(e=e.byQName[t])||!e.extendsTypes)&&0<=e.extendsTypes.indexOf(r))(d,e.retType,t.qName))).length)?(e=n[0],l?e.pyQName:e.qName):void 0}function L(e){if(f&&(e=J.getFullName(f,e),e=d.byQName[e]))return j(e)}function j(e){return l?e.pyName:e.name}function K(r,n){let i="";var a=f.getReturnTypeOfSignature(r);if(a.flags&$.TypeFlags.NumberLike?i="return 0":a.flags&$.TypeFlags.StringLike?i='return ""':a.flags&($.TypeFlags.Boolean|$.TypeFlags.BooleanLiteral)&&(i=l?"return False":"return false"),l){let e,t=(e=S.optionalVariableArgs?"()":`(${r.parameters.map(e=>e.name).join(", ")})`,k||"fn");return 0<y++&&(t+=y),n&&!/^on/i.test(t)&&(t="on"+pxt.Util.capitalize(t)),(a=D.filter(e=>!!((e=f&&f.getTypeAtLocation(e))&&e.symbol&&e.symbol.flags&$.SymbolFlags.Enum)).map(e=>{var t=(e=V(O(e)).toLowerCase()).lastIndexOf(".");return-1!==t?e.substr(t+1):e}).join("_"))&&(t+="_"+a),t=P(t=J.U.snakify(t)),x=[...x,x.length?"\n":"","def ",{default:t,isDefinition:!0},e,`:
`+_,{default:i||"pass"},`
`],{default:t}}{let e="()";return S.optionalVariableArgs||(n=$.mapToDisplayParts(e=>{f.getSymbolDisplayBuilder().buildSignatureDisplay(r,e,void 0,$.TypeFormatFlags.UseFullyQualifiedType)}),a=$.displayPartsToString(n),e=a.substr(0,a.lastIndexOf(":"))),["function",e,` {
`+_,{default:i},`
}`]}}function z(e){return l?(e=P(e=J.U.snakify(e=e||"fn")),x=[...x,x.length?"\n":"","def ",{default:e,isDefinition:!0},`():
`+_,{default:"pass"},`
`],{default:e}):"function () {}"}},q.isTaggedTemplate=H})(ts=ts||{}),(e=>{(e=(e=e.pxtc||(e.pxtc={})).transpile||(e.transpile={})).pyToTs=function(e,t=0){return pxt.py.py2ts(e)},e.tsToPy=function(e,t="main.ts"){return pxt.py.decompileToPython(e,t)}})(ts=ts||{}),(s=>{var e;{var o=s.pxtc||(s.pxtc={});o.getParentCallExpression=function(e){return i(e,e=>s.isCallExpression(e)?n.Found:s.isBlock(e)?n.Abort:n.Continue)},o.findCurrentCallArgIdx=function(e,t,r){let n=e.arguments.map(e=>e===t).indexOf(!0);if(!(0<=n)){var i;if(!(e.arguments.pos<=r&&r<e.end))return-1;if(0===e.arguments.length)return 0;n=0;for(i of e.arguments){if(!(i.end<=r))break;n++}e.arguments.hasTrailingComma||(n=Math.max(0,n-1))}return n};let n;function i(e,t){var r;if(e)return(r=t(e))===n.Continue?i(e.parent,t):r!==n.Abort?r===n.Found?e:r:void 0}function a(e){return i(e,e=>s.isModuleDeclaration(e)?n.Found:n.Continue)}(e=n=o.TraverseCheck||(o.TraverseCheck={}))[e.Found=0]="Found",e[e.Continue=1]="Continue",e[e.Abort=2]="Abort",o.traverseUp=i,o.enumMemberToQName=function(e,t){if(t.name.kind===o.SK.Identifier)return e.getFullyQualifiedName(e.getSymbolAtLocation(t.name))},o.findInnerMostNodeAtPosition=function e(t,r){for(var n of t.getChildren())if(!(n.kind>=s.SyntaxKind.FirstPunctuation&&n.kind<=s.SyntaxKind.LastPunctuation)){var i=n.getStart(),a=n.getEnd();if(i<=r&&r<a)return e(n,r)}return t&&t.kind===o.SK.SourceFile?null:t},o.getParentNamespace=a,o.getCurrentNamespaces=function e(t){var r;return(t=t&&a(t))?(r=t.name.getText(),[...e(t.parent),r]):[]},o.getEnumMembers=function(e,t){if(e&&t.symbol&&t.symbol.declarations&&t.symbol.declarations.length)for(let e=0;e<t.symbol.declarations.length;e++){var r=t.symbol.declarations[e];if(r.kind===o.SK.EnumDeclaration)return r.members}},o.isExported=function(e){if(e.modifiers&&e.modifiers.some(e=>e.kind==o.SK.PrivateKeyword||e.kind==o.SK.ProtectedKeyword))return!1;let t=e.symbol;if(!t)return!1;for(;;){var r=t.parent;if(!r)break;t=r}let n=t.valueDeclaration||t.declarations[0];return!(!(n=n.kind==o.SK.VariableDeclaration?n.parent.parent:n).parent||n.parent.kind!=o.SK.SourceFile)},o.isReadonly=function(e){return e.modifiers&&e.modifiers.some(e=>e.kind==o.SK.ReadonlyKeyword)}}})(ts=ts||{}),(e=>{var f=e.pxtc||(e.pxtc={});{var o=f.vm||(f.vm={});let p=f.assembler.emitErr,e=p("opcode name doesn't match","<name>");class i extends f.assembler.Instruction{constructor(e,t,r){super(e,t,r,r,!1)}emit(r){var n=r.words;if(n[0]!=this.name)return e;let i=this.opcode,a=1;var s=[];let o=null,c=null;for(let e=0;e<this.args.length;++e){var l=this.args[e];let t=n[a++];if("$"==l[0]){var u=this.ei.encoders[l];let e=null;if(u.isImmediate||u.isLabel){if(!t)return p("expecting number",t);if(t=t.replace(/^#/,""),null==(e=r.bin.parseOneInt(t)))return p("expecting number",t)}else f.oops();if(null==e)return p("didn't understand it",t);f.U.assert(0<=e),11111!=e&&"$lbl"==l&&(e=e-(r.bin.location()+2)>>1),s.push(e);var d=e;if(null==(e=u.encode(e)))return p(`argument (${d}) out of range or mis-aligned`,t);"$i3"==l?e=c|e<<6:"$i5"==l&&(e=c|e<<8),"$i2"==l||"$i4"==l?c=e:"$rt"==l?(11111!=e&&4096<e&&f.U.oops("label: "+t+" v="+e),i=32768|e,"callrt.p"==this.name&&(i|=8192)):r.isLong||e<0||255<e?(r.isLong=!0,"$lbl"==l&&--e,i=e>>9&65535|49152,o=this.opcode+(e<<7)&65535):i=this.opcode+(e<<7)&65535}else if(l!=t)return p("expecting "+l,t)}return n[a]?p("trailing tokens",n[a]):{stack:0,opcode:i,opcode2:o,numArgs:s,labelName:r.bin.normalizeExternalLabel(null)}}}o.VmInstruction=i,o.withPush={},o.opcodes=["stloc     $i1","ldloc     $i1","stfld     $i4, $i5","ldfld     $i4, $i5","newobj    $i1","ldcap     $i1","bitconv   $i1","stglb     $i1","ldglb     $i1","ldint     $i1","ldintneg  $i1","ldspecial $i1","ldnumber  $i1","ldlit     $i1","checkinst $i1","mapget","mapset","ret       $i2, $i3","popmany   $i1","pushmany  $i1","callind   $i1","callproc  $i1","calliface $i2, $i3","callget   $i1","callset   $i1","jmp       $lbl","jmpnz     $lbl","jmpz      $lbl","try       $lbl","push","pop"];class t extends f.assembler.AbstractProcessor{constructor(e){super(),this.addEnc("$i1","#0-8388607",e=>this.inrange(8388607,e,e)),this.addEnc("$i2","#0-31",e=>this.inrange(31,e,e)),this.addEnc("$i3","#0-262143",e=>this.inrange(262143,e,e)),this.addEnc("$i4","#0-255",e=>this.inrange(255,e,e)),this.addEnc("$i5","#0-32767",e=>this.inrange(32767,e,e)),this.addEnc("$lbl","LABEL",e=>this.inminmax(-4194304,4194303,e,e)).isLabel=!0;let t=1,r=this.addEnc("$rt","SHIM",e=>this.inrange(8388607,e,e)).isLabel=!0;for(var n of o.opcodes.concat(["callrt $rt"])){let e=new i(this,n,t);this.instructions[e.name]=[e],!r&&"callrt"!=e.name||(o.withPush[e.name]=!0,e=new i(this,n.replace(/\w+/,e=>e+".p"),64|t),this.instructions[e.name]=[e]),"mapset.p"==e.name&&(r=!1),t++}}testAssembler(){}postProcessRelAddress(e,t){return t}postProcessAbsAddress(e,t){return t}getAddressFromLabel(e,t,r,n=0){r=e.lookupLabel(r);return null==r?null:t.is32bit?r:r-(e.pc()+2)}toFnPtr(e,t){return e}wordSize(){return 8}peephole(e,t,r){var n,i,a=e.getOp();let s="";t&&(n=a+";"+(s=t.getOp()),(i=this.file.peepCounts)[n]=(i[n]||0)+1),"stloc"==a&&"ldloc"==s&&e.numArgs[0]==t.numArgs[0]?(/LAST/.test(t.text)&&e.update(""),t.update("")):o.withPush[a]&&"push"==s&&(e.update(e.text.replace(/\w+/,e=>e+".p")),t.update(""))}}o.VmProcessor=t}})(ts=ts||{}),(e=>{var t;e=e.py||(e.py={}),(t=e.VarModifier||(e.VarModifier={}))[t.NonLocal=0]="NonLocal",t[t.Global=1]="Global",e.isIndex=function(e){return"Index"===e.kind},e.isSubscript=function(e){return"Subscript"===e.kind}})(pxt=pxt||{}),(R=>{{var M=R.py||(R.py={}),U=R.blocks;let D,A,S,h=0,t=0,w=0,i="???",r=!1,a=void 0,N,I,P,O,F=void 0,L;function _e(e){return null==e}function me(e){return null!=e}function v(e){return R.tickEvent("python.todo.statement",{kind:e.kind}),U.mkStmt(U.mkText("TODO: "+e.kind))}function b(e){return R.tickEvent("python.todo.expression",{kind:e.kind}),U.mkText(" {TODO: "+e.kind+"} ")}let T=K({primType:"string"}),c=K({primType:"number"}),n=K({primType:"boolean"}),m=K({primType:"void"}),C=K({primType:"any"}),s=void 0,o={str:T,string:T,number:c,bool:n,void:m,any:C};function ge(e){e=R.U.flatClone(e);return delete e.pyAST,delete e.pyInstanceType,delete e.pyRetType,delete e.pySymbolType,delete e.moduleTypeMarker,delete e.declared,e.parameters&&(e.parameters=e.parameters.map(e=>(delete(e=R.U.flatClone(e)).pyType,e))),e}function x(e){if("("==e[0]&&R.U.endsWith(e,")"))return x(e.slice(1,-1));var t=e.indexOf(" => ");if(0<t){var r=e.slice(t+4);if(-1==r.indexOf(")[]"))return ye(x(r),((r=e.slice(1,t-1))?r.split(/, /):[]).map(e=>x(e.replace(/\w+\??: /,""))))}if(R.U.endsWith(e,"[]"))return z(x(e.slice(0,-2)));if("_py.Array"===e)return z(C);t=R.U.lookup(o,e);if(t)return t;if(!!e&&!isNaN(e))return c;if("T"==e||"U"==e)return K({primType:"'"+e});if(0<=e.indexOf("|"))return K({primType:"@union",typeArgs:e.split("|").map(e=>e.trim()).map(x)});r=B(e+"@type")||B(e);if(r){if(7==r.kind)return c;if(8==r.kind||9==r.kind)return r.pyInstanceType||K({classType:r});if(6==r.kind)return c;G(null,9502,R.U.lf("'{0}' is not a type near '{1}'",e,i||"???"))}else G(null,9501,R.U.lf("unknown type '{0}' near '{1}'",e,i||"???"));return K({primType:e})}function k(e){if(!e.pySymbolType){if(i=e.pyQName,e.parameters){pxtc.service.isTaggedTemplate(e)&&(e.parameters=[{name:"literal",description:"",type:"string",options:{}}]);for(var t of e.parameters)t.pyType||(t.pyType=x(t.type))}var r=e.pyRetType;if(Re(e)?e.pyRetType=K({moduleType:e}):e.retType?null!=(n=e.qName)&&n.endsWith(".__constructor")&&"void"===e.retType?(n=j(e.qName.substring(0,e.qName.lastIndexOf("."))),e.pyRetType=n?K({classType:n}):x(e.retType)):e.pyRetType=x(e.retType):e.pyRetType||(R.U.oops("no type for: "+e.pyQName),e.pyRetType=K({})),r&&Y(e.pyAST,r,e.pyRetType),3==e.kind||1==e.kind){var n=e.parameters.map(e=>e.pyType);if(n.some(_e))return G(null,9526,R.U.lf("function symbol is missing parameter types near '{1}'",i||"???")),K({});e.pySymbolType=ye(e.pyRetType,n.filter(me))}else e.pySymbolType=e.pyRetType;8!=e.kind&&9!=e.kind||(e.pyInstanceType=K({classType:e})),i=void 0}return e.pySymbolType}function B(e){return R.U.lookup(A,e)||R.U.lookup(D,e)}function j(e){var t;if(e){var r=B(e);if(r)k(r);else if(e.indexOf(".")&&!e.endsWith(".__constructor")){var n=e.substring(0,e.lastIndexOf(".")),i=j(n);if(8===(null==i?void 0:i.kind)&&null!=(t=i.extendsTypes)&&t.length)return j(i.extendsTypes[0]+e.substring(n.length))}return r}}function he(e,t){A={},D={};var r,n=R.U.toDictionary(t,e=>e);for(r of R.U.values(e.byQName))if(!n.hasOwnProperty(r.fileName)){let t=r;t.extendsTypes&&(t.extendsTypes=t.extendsTypes.filter(e=>e!=t.qName)),t.pyQName&&t.qName||G(null,9526,R.U.lf("Symbol '{0}' is missing qName for '{1}'",t.name,t.pyQName?"ts":"py")),D[t.pyQName]=t,D[t.qName]=t}s=x("Buffer")}function K(e={}){e=R.U.flatClone(e);return e.tid=++t,e}function z(e){return K({primType:"@array",typeArgs:[e]})}function ye(e,t){return K({primType:"@fn"+t.length,typeArgs:[e].concat(t)})}function ve(e){return R.U.startsWith(e.primType||"","@fn")}function be(e){return e.primType&&!R.U.startsWith(e.primType,"@")}function xe(e){return R.U.startsWith(e.primType||"","@union")}function $(){return S.currFun||S.currClass||S.currModule}function ke(){let e=$();for(;e&&e.parent;)e=e.parent;return e}function Se(){return"main"==S.currModule.name&&!S.currFun&&!S.currClass}function J(t,e,r,n){let i=(n=n||$()).vars[t],a=null==i?void 0:i.symbol;if(!a){let e=V(n);e&&(e+=".");var s=e+t;a="ClassDef"===n.kind?Z(2,s):!Ne(n)||r!==M.VarModifier.Global&&r!==M.VarModifier.NonLocal?Ne(n)?X(4,t):Z(4,s):Z(4,t),i={symbol:a,modifier:r},n.vars[t]=i}for(var o of Object.keys(e))a[o]=e[o];return i}function q(e){return e.unifyWith?(e.unifyWith=q(e.unifyWith),e.unifyWith):e}function V(e){let t="";return e.parent&&"FunctionDef"!==e.parent.kind&&"AsyncFunctionDef"!==e.parent.kind&&((t=V(e.parent))?t+=".":t=""),"Module"==e.kind&&"main"==e.name?"":e.name?t+e.name:t+"?"+e.kind}function Te(e){var t,r=R.U.lookup(f,e);if(r)return r;for(t of R.U.values(S.currModule.vars)){var n=t.symbol;if(n.isImport){if(n.expandsTo==e)return n.pyName||G(null,9553,lf("missing pyName")),n.pyName;if(n.isImport&&R.U.startsWith(e,(n.expandsTo||"")+"."))return n.pyName+e.slice(n.expandsTo.length)}}return e}function H(e){var t=e=>r?e:"";return(e=q(e)).primType?e.typeArgs&&"@array"==e.primType?H(e.typeArgs[0])+"[]":ve(e)&&e.typeArgs?"("+e.typeArgs.slice(1).map(e=>"_: "+H(e)).join(", ")+") => "+H(e.typeArgs[0]):xe(e)&&e.typeArgs?e.typeArgs.map(H).join(" | "):e.primType+t("/P"):e.classType&&e.classType.pyQName?Te(e.classType.pyQName)+t("/C"):e.moduleType&&e.moduleType.pyQName?Te(e.moduleType.pyQName)+t("/M"):"any"}function G(e,t,r){var n;I.push((e=e,n=pxtc.DiagnosticCategory.Error,t=t,r=r,(e=e||a)&&S&&S.currModule?{fileName:N,start:e.startPos,length:e.endPos-e.startPos,line:void 0,column:void 0,code:t,category:n,messageText:r}:{fileName:N,start:0,length:0,line:void 0,column:void 0,code:t,category:n,messageText:r}))}function W(e){return e.primType||e.classType||(e.moduleType?(e.moduleType.moduleTypeMarker||(e.moduleType.moduleTypeMarker={}),e.moduleType.moduleTypeMarker):null)}function Ce(e){return!W(q(e))}function Ee(e,t,r){(t=q(t)).classType!=r&&(Ce(t)?t.classType=r:Y(e,t,(k(e=r),e.pyInstanceType||G(null,9527,R.U.lf("Instance type symbol '{0}' is missing pyInstanceType",e)),e.pyInstanceType)))}function Q(e,t){Y(e,ne(e),t)}function Y(t,r,n){if(r!==n&&(r=q(r))!==(n=q(n))&&!we(r)&&!we(n))if("any"===r.primType)r.unifyWith=n;else{var e,i,a=W(r),s=W(n);if(a&&s)if(a===s){if(r.unifyWith=n,r.typeArgs&&n.typeArgs)for(let e=0;e<Math.min(r.typeArgs.length,n.typeArgs.length);++e)Y(t,r.typeArgs[e],n.typeArgs[e]);r.unifyWith=n}else e=r,i=n,G(t,9500,R.U.lf("types not compatible: {0} and {1}",H(e),H(i)));else a&&!s?Y(t,n,r):(w++,r.unifyWith=n)}}function De(e,t){var r=q(ne(e)),t=q(t);!function e(t,r){var n=q(t),t=q(r);if(n===t)return 1;r=W(n);let i=W(t);if(r===i)return 1;if(r&&i){if(Ae(r)&&Ae(i)&&r.extendsTypes&&r.extendsTypes.length&&r.extendsTypes.some(e=>e===i.qName))return 1;if(xe(t))for(var a of t.typeArgs||[])if(e(n,a))return 1}}(r,t)&&(ve(r)||ve(t)||be(r)||be(t))&&Y(e,r,t)}function Ae(e){return!(null==e||!e.name)}function we(e){return null!=(e=null==e?void 0:e.primType)&&e.startsWith("'")}function X(e,t){var r=/(.*)\.(.*)/.exec(t),n=r?r[2]:t;return{kind:e,name:n,pyName:n,qName:t,pyQName:t,namespace:r?r[1]:"",attributes:{},pyRetType:K()}}function Z(e,t){let r=A[t];return r?r.kind=e:((r=X(e,t)).pyQName||G(null,9527,R.U.lf("Symbol '{0}' is missing pyQName",t)),A[r.pyQName]=r),r}function Ne(e){let t=e;for(;t;){if("FunctionDef"==t.kind)return 1;t=t.parent}}function Ie(t,r,n){if(!r.symInfo){let e=V(r);R.U.endsWith(e,".__init__")&&(e=e.slice(0,-9)+".__constructor"),Ne(n=n||$())?r.symInfo=X(t,e):r.symInfo=Z(t,e);t=r.symInfo;t.pyAST=r,t.pyName||G(null,9528,R.U.lf("Symbol '{0}' is missing pyName",t.qName||t.name)),n.vars[t.pyName]={symbol:t}}return r.symInfo}function Pe(e){let t=e.symInfo.qName;return R.U.values(A).filter(e=>e.namespace==t&&2==e.kind)}function ee(e,t,r,n=!1,i=!1){let a;var s=j(a="__init__"===t?e.pyQName+".__constructor":t.startsWith(e.pyQName+".")?t:e.pyQName+"."+t);if(s)return s;if(!i)for(var o of e.extendsTypes||[]){o=j(o);if(o){o==e&&R.U.userError("field lookup loop on: "+o.qName+" / "+t);o=ee(o,t,r,!0);if(o)return o}}return!n&&e.pyAST&&"ClassDef"==e.pyAST.kind?((s=Z(2,a)).isInstance=!r,s):null}function Oe(e,t,r=!1){var n,i=ne(e),a=[(a=q(a=i)).classType,...Fe(a.primType),a.moduleType].filter(me);for(n of a){var s=!!i.moduleType,o=ee(n,t,s,r);if(o)return s?o.isInstance&&G(null,9505,R.U.lf("the field '{0}' of '{1}' is not static",t,n.pyQName)):(He(e)||"Name"==(s=e).kind&&"self"==s.id&&(S.currClass||G(null,9529,R.U.lf("no class context found for {0}",o.pyQName)),o.namespace!=S.currClass.symInfo.qName))&&(o.isProtected=!0),o}return null}function Fe(e){let t=[];return"@array"==e?t=[B("_py.Array"),B("Array")]:"string"==e&&(t=[B("_py.String"),B("String")]),t.filter(e=>!!e)}function Le(e){let t=$();var r=R.U.lookup(t.vars,e);if(r)return r;for(;t;){var n=R.U.lookup(t.vars,e);if(n)return n;for(;(t=t.parent)&&"ClassDef"==t.kind;);}return null}function te(e){if(!e)return null;var t=e.indexOf(".");if(0<t){var r=Le(e.slice(0,t)),r=null==r?void 0:r.symbol;r&&r.pyQName!=r.pyName&&(e=r.pyQName+e.slice(t))}else{r=Le(e);if(r)return r}t=j(e);return t?{symbol:t}:void 0}function re(e){return null==(e=te(e))?void 0:e.symbol}function ne(e){return e.tsType?q(e.tsType):(e.tsType=K(),e.tsType)}function Re(e){if(e)switch(e.kind){case 5:case 9:case 8:case 6:return 1;default:return}}function Me(e){var t=R.U.flatClone(S);let r;try{r=e()}finally{S=t}return r}function ie(e,t){return 0==t.length?U.mkText(""):U.mkGroup([U.mkText("/* TODO: "+e+" "),U.mkGroup(t),U.mkText(" */"),U.mkNewLine()])}function Ue(e){var t=pe(e.value);return e.arg?U.mkInfix(U.mkText(e.arg),"=",t):U.mkGroup([U.mkText("**"),t])}function Be(e){if(!e)return K();var t=oe(e);if(t){var r=B(t+"@type")||B(t);if(r){if(k(r),6==r.kind)return c;if(r.pyInstanceType)return r.pyInstanceType}else if(o[t])return o[t];G(e,9506,R.U.lf("cannot find type '{0}'",t))}else if(M.isSubscript(e)){r="List"===oe(e.value);if(r)if(M.isIndex(e.slice))return z(Be(e.slice.value))}return G(e,9507,R.U.lf("invalid type syntax")),K({})}function je(e){return e.pyName&&"_"==e.pyName[0]?e.isProtected?U.mkText("protected "):U.mkText("private "):U.mkText("")}let l={Sub:1,Div:1,Pow:1,LShift:1,RShift:1,BitOr:1,BitXor:1,BitAnd:1,FloorDiv:1,Mult:1},u={Eq:1,NotEq:1,Lt:1,LtE:1,Gt:1,GtE:1},d={Add:"+",Sub:"-",Mult:"*",MatMult:"Math.matrixMult",Div:"/",Mod:"%",Pow:"**",LShift:"<<",RShift:">>",BitOr:"|",BitXor:"^",BitAnd:"&",FloorDiv:"Math.idiv",And:"&&",Or:"||",Eq:"==",NotEq:"!=",Lt:"<",LtE:"<=",Gt:">",GtE:">=",Is:"===",IsNot:"!==",In:"py.In",NotIn:"py.NotIn"},p={Invert:"~",Not:"!",UAdd:"P+",USub:"P-"},f={"adafruit_bus_device.i2c_device.I2CDevice":"pins.I2CDevice"};function ae(e){S.blockDepth++;e=U.mkBlock(e.map(fe));return S.blockDepth--,e}function Ke(e){e.vars||(e.vars={},e.parent=$(),e.blockDepth=S.blockDepth)}function ze(e,t=!1){return"any"===H(e)?t?U.mkText(": any"):U.mkText(""):U.mkText(": "+H(e))}function e(t,e){try{return Me(e)}catch(e){return R.log(e),U.mkStmt(ie("conversion failed for "+(t.name||t.kind),[]))}}function $e(e){return e&&e.pyAST&&"FunctionDef"==e.pyAST.kind&&(e=e.pyAST).callers&&1==e.callers.length?!e.callers[0].inCalledPosition:void 0}function Je(f,_=!1){return e(f,()=>{var e=!!S.currClass&&!S.currFun,t=Se(),r=!!S.currFun,n=(Ke(f),re(V(f))),i=Ie(e?1:3,f);if(!_&&(n&&n.declared===h&&G(f,9520,lf("Duplicate function declaration")),i.declared=h,$e(i)))return U.mkText("");e&&(i.isInstance=!0),S.currFun=f;let a="",s=f.name;var o,n=[ie("decorators",f.decorator_list.filter(e=>"property"==oe(e)?!(a="get"):"Attribute"!=e.kind||"setter"!=e.attr||"Name"!=e.value.kind||(s=e.value.id,!(a="set"))).map(pe))],c=(1<=f.body.length&&"Raise"==f.body[0].kind&&(f.alwaysThrows=!0),e?(S.currClass||G(f,9531,lf("method '{0}' is missing current class context",i.pyQName)),i.pyRetType||G(f,9532,lf("method '{0}' is missing a return type",i.pyQName)),"__init__"==f.name?(n.push(U.mkText("constructor")),Ee(f,i.pyRetType,S.currClass.symInfo)):("__get__"!=s&&"__set__"!=s||(c=null==(c=f.vars.value)?void 0:c.symbol,"__set__"==s&&c&&(d=ee(S.currClass.symInfo,"__get__",!1))&&d.pyAST&&"FunctionDef"==d.pyAST.kind&&Y(f,c.pyRetType,d.pyRetType),s=s.replace(/_/g,"")),a||(a="_"==s[0]?i.isProtected?"protected":"private":"public",f.symInfo.isStatic&&(a+=" static")),n.push(U.mkText(a+" "),le(s)))):(R.U.assert(!a),"_"==f.name[0]||t||_||r?n.push(U.mkText("function "),le(s)):n.push(U.mkText("export function "),le(s))),"__init__"==f.name?void 0:f.returns?Be(f.returns):i.pyRetType),l=(n.push(((i,e)=>{let t,a=i.args;a.kwonlyargs.length&&G(i,9517,R.U.lf("keyword-only arguments not supported yet"));var r=a.args.slice();if(e?"self"!==(null==(t=r[0])?void 0:t.arg)?i.symInfo.isStatic=!0:r.shift():r.some(e=>"self"==e.arg)&&G(i,9519,R.U.lf("non-methods cannot have an argument called 'self'")),!i.symInfo.parameters){let n=a.defaults.length-r.length;i.symInfo.parameters=r.map(e=>{e.annotation||G(i,9519,R.U.lf("Arg '{0}' missing annotation",e.arg));var t=Be(e.annotation);let r="";return 0<=n&&(r=U.flattenNode([pe(a.defaults[n])]).output,Y(e,t,ne(a.defaults[n]))),n++,{name:e.arg,description:"",type:"",initializer:r,default:r,pyType:t}})}return e=i.symInfo.parameters.map(e=>{var t=J(e.name,{isParam:!0}),t=null==t?void 0:t.symbol,t=(e.pyType||G(i,9530,R.U.lf("parameter '{0}' missing pyType",e.name)),Y(i,k(t),e.pyType),[le(e.name),ze(e.pyType,!0)]);return e.default&&t.push(U.mkText(" = "+e.default)),U.mkGroup(t)}),a.vararg&&e.push(U.mkText("TODO *"+a.vararg.arg)),a.kwarg&&e.push(U.mkText("TODO **"+a.kwarg.arg)),U.H.mkParenthesizedExpression(U.mkCommaSep(e))})(f,e),c&&q(c)!=m?ze(c):U.mkText("")),k(i),f.body.map(fe));if("__init__"==f.name){S.currClass||G(f,9533,lf("__init__ method '{0}' is missing current class context",i.pyQName)),null!=(d=S.currClass)&&d.baseClass&&(t=f.body[0],r=S.currClass.baseClass.pyQName+".__constructor",(null==(i=null==(c=null==(e=t.value)?void 0:e.func)?void 0:c.symbolInfo)?void 0:i.pyQName)!==r)&&G(f,9575,lf("Sub classes must call 'super().__init__' as the first statement inside an __init__ method"));for(o of Pe(S.currClass)){var u=o.pyAST;u&&u.value&&l.push(U.mkStmt(U.mkText(`this.${se(o.pyName)} = `),pe(u.value)))}}var d=nt(f);n.push(U.mkBlock(d.concat(l)));let p=U.mkGroup(n);return _?n[n.length-1].noFinalNewline=!0:p=U.mkStmt(p),p})}let _={FunctionDef:e=>Je(e),ClassDef:s=>e(s,()=>{Ke(s);var e=Ie(8,s),t=(R.U.assert(!S.currClass),Se());(S.currClass=s).isNamespace=s.decorator_list.some(e=>"Name"==e.kind&&"namespace"==e.id);let r=s.isNamespace?[U.mkText("namespace "),le(s.name)]:[ie("keywords",s.keywords.map(Ue)),ie("decorators",s.decorator_list.map(pe)),U.mkText(t?"class ":"export class "),le(s.name)],n=(!s.isNamespace&&0<s.bases.length&&("Enum"==oe(s.bases[0])?s.isEnum=!0:(r.push(U.mkText(" extends ")),r.push(U.mkCommaSep(s.bases.map(pe))),(t=(t=re(ce(t=s.bases[0])))&&t.pyAST&&"ClassDef"==t.pyAST.kind?t.pyAST:null)?(s.baseClass=t.symInfo,e.extendsTypes=[t.symInfo.pyQName]):(t=oe(s.bases[0]))&&(i=re(t),t=j(t),s.baseClass=i||t,s.baseClass)&&(e.extendsTypes=[s.baseClass.pyQName]))),s.body.filter(e=>s.isNamespace||"FunctionDef"===e.kind));var i=s.isNamespace?[]:s.body.filter(e=>-1===n.indexOf(e)&&"Pass"!==e.kind),t=ae(n);r.push(t);let a=!1;return i.length&&(a=!0,e=ae(i),i=U.mkStmt(U.mkGroup([U.mkText(`public static __init${s.name}() `),e])),t.children.unshift(i)),s.isNamespace||(i=(e=Pe(s).map(e=>(e.pyName&&e.pyRetType||G(s,9535,lf("field definition missing py name or return type",e.qName)),e))).filter(e=>!e.isInstance),e=e.filter(e=>e.isInstance).map(e=>U.mkStmt(je(e),le(e.pyName),ze(e.pyRetType))),i=i.map(e=>{return U.mkGroup([U.mkStmt(je(e),U.mkText("static "),le(e.pyName),ze(e.pyRetType)),(t=se(s.name),r=se(e.pyName),e=H(e.pyRetType),n=`___${r}_is_set`,i="___"+r,U.mkStmt(U.mkStmt(U.mkText(`private ${n}: boolean`)),U.mkStmt(U.mkText(`private ${i}: `+e)),U.mkStmt(U.mkText(`get ${r}(): `+e),U.mkBlock([U.mkText(`return this.${n} ? this.${i} : ${t}.`+r)])),U.mkStmt(U.mkText(`set ${r}(value: ${e})`),U.mkBlock([U.mkStmt(U.mkText(`this.${n} = true`)),U.mkStmt(U.mkText(`this.${i} = value`))]))))]);var t,r,n,i}),t.children=i.concat(e).concat(t.children)),a&&(r=[U.mkStmt(U.mkGroup(r)),U.mkStmt(U.mkText(s.name+`.__init${s.name}()`))]),U.mkStmt(U.mkGroup(r))}),Return:e=>{var t;return e.value?((t=S.currFun)&&(t.symInfo.pyRetType||G(e,9536,lf("function '{0}' missing return type",t.symInfo.pyQName)),Q(e.value,t.symInfo.pyRetType)),U.mkStmt(U.mkText("return "),pe(e.value))):U.mkStmt(U.mkText("return"))},AugAssign:e=>{var t=d[e.op];return 3<t.length?U.mkStmt(U.mkInfix(pe(e.target),"=",U.H.mkCall(t,[pe(e.target),pe(e.value)]))):U.mkStmt(pe(e.target),U.mkText(" "+t+"= "),pe(e.value))},Assign:e=>qe(e),AnnAssign:e=>qe(e),For:t=>{if(R.U.assert(0==t.orelse.length),t.target.forTargetEndPos=t.endPos,ue(t.iter,"range")){var r,n=t.iter,i=pe(t.target),a=le(ce(t.target)),s=(Q(t.target,c),1==n.args.length?U.mkText("0"):pe(n.args[0])),o=pe(n.args[1==n.args.length?0:1]);if(n.args.length<=2)return U.mkStmt(U.mkText("for ("),U.mkInfix(i,"=",s),U.mkText("; "),U.mkInfix(a,"<",o),U.mkText("; "),U.mkPostfix([a],"++"),U.mkText(")"),ae(t.body));let e="Num"===n.args[2].kind?n.args[2].n:void 0;if(null==e&&"UnaryOp"===n.args[2].kind&&"Num"===(r=n.args[2]).operand.kind&&("UAdd"===r.op?e=r.operand.n:"USub"===r.op&&(e=-r.operand.n)),void 0!==e)return r=0<e?"<":">",U.mkStmt(U.mkText("for ("),U.mkInfix(i,"=",s),U.mkText("; "),U.mkInfix(a,r,o),U.mkText("; "),U.mkInfix(a,"+=",pe(n.args[2])),U.mkText(")"),ae(t.body))}return 1<h&&(i=ne(t.target),Q(t.iter,ne(t.iter)==T?i:z(i))),U.mkStmt(U.mkText("for ("),pe(t.target),U.mkText(" of "),pe(t.iter),U.mkText(")"),ae(t.body))},While:e=>(R.U.assert(0==e.orelse.length),U.mkStmt(U.mkText("while ("),pe(e.test),U.mkText(")"),ae(e.body))),If:e=>{let r=e=>{var t=[U.mkText("if ("),pe(e.test),U.mkText(")"),ae(e.body)];return e.orelse.length&&(t[t.length-1].noFinalNewline=!0,1==e.orelse.length&&"If"==e.orelse[0].kind?(t.push(U.mkText(" else ")),R.U.pushRange(t,r(e.orelse[0]))):t.push(U.mkText(" else"),ae(e.orelse))),t};return U.mkStmt(U.mkGroup(r(e)))},With:t=>{if(1==t.items.length&&(i=t.items[0].context_expr,a="pins.I2CDevice",(i=ne(i)).classType&&i.classType.pyQName==a||H(i)==a)){var r,n,i=t.items[0],a=[];let e=pe(i.context_expr);return i.optional_vars&&(n=oe(i.optional_vars))&&(r=null==(r=J(n,{isLocal:!0}))?void 0:r.symbol,n=se(n),a.push(U.mkStmt(U.mkText("const "+n+" = "),e)),r.pyRetType||G(t,9537,lf("function '{0}' missing return type",r.pyQName)),Q(i.context_expr,r.pyRetType),e=U.mkText(n)),a.push(U.mkStmt(U.mkInfix(e,".",U.mkText("begin()")))),R.U.pushRange(a,t.body.map(fe)),a.push(U.mkStmt(U.mkInfix(e,".",U.mkText("end()")))),U.mkGroup(a)}var a;let s=[];var i=t.items.map((e,t)=>{let r="with"+t;return e.optional_vars&&(J(t=ce(e.optional_vars),{isLocal:!0}),r=se(t)),s.push(U.mkStmt(U.mkText(r+".end()"))),U.mkStmt(U.mkText("const "+r+" = "),U.mkInfix(pe(e.context_expr),".",U.mkText("begin()")))});return R.U.pushRange(i,t.body.map(fe)),R.U.pushRange(i,s),U.mkBlock(i)},Raise:e=>{e=e.exc||e.cause;if(!e)return U.mkStmt(U.mkText("throw"));let t=void 0;return t=(t=e&&"Call"==e.kind&&1==e.args.length?pe(e.args[0]):t)||U.mkGroup([U.mkText("`"),pe(e),U.mkText("`")]),U.mkStmt(U.H.mkCall("control.fail",[t]))},Assert:e=>(e.msg||G(e,9537,lf("assert missing message")),U.mkStmt(U.H.mkCall("control.assert",[e.test,e.msg].filter(e=>!!e).map(pe)))),Import:e=>{for(var t of e.names)t.asname&&J(t.asname,{expandsTo:t.name}),r=e,t=t.name,j(t)||G(r,9503,R.U.lf("No module named '{0}'",t));var r;return U.mkText("")},ImportFrom:e=>{var t,r,n,i,a=[];for(t of e.names)"*"==t.name?(e.module||G(e,9538,lf("import missing module name")),J(e.module,{isImportStar:!0})):(n=j(r=e.module+"."+t.name),i=t.asname||t.name,Re(n)?(J(i,{isImport:n,expandsTo:r}),a.push(U.mkStmt(U.mkText(`import ${se(i)} = `+r)))):J(i,{expandsTo:r}));return U.mkGroup(a)},ExprStmt:e=>{return"Str"==e.value.kind?((t=e.value.s).trim().split(/\n/).length<=1?t=t.trim():t+="\n",U.mkStmt(U.mkText("/** "+t+" */"))):U.mkStmt(pe(e.value));var t},Pass:e=>U.mkStmt(U.mkText("")),Break:e=>U.mkStmt(U.mkText("break")),Continue:e=>U.mkStmt(U.mkText("continue")),Delete:e=>(G(e,9550,R.U.lf("delete statements are unsupported")),v(e)),Try:e=>{var t,r=[U.mkText("try"),ae(e.body.concat(e.orelse))];for(t of e.handlers)r.push(U.mkText("catch ("),t.name?le(t.name):U.mkText("_")),t.type&&r.push(U.mkText("/* instanceof "),pe(t.type),U.mkText(" */")),r.push(U.mkText(")"),ae(t.body));return e.finalbody.length&&r.push(U.mkText("finally"),ae(e.finalbody)),U.mkStmt(U.mkGroup(r))},AsyncFunctionDef:e=>(G(e,9551,R.U.lf("async function definitions are unsupported")),v(e)),AsyncFor:e=>(G(e,9552,R.U.lf("async for statements are unsupported")),v(e)),AsyncWith:e=>(G(e,9553,R.U.lf("async with statements are unsupported")),v(e)),Global:e=>{var t,r=ke();$();for(t of e.names){R.U.lookup(r.vars,t)||G(e,9521,R.U.lf("No binding found for global variable"));var n=J(t,{},M.VarModifier.Global);n.firstRefPos<e.startPos&&G(e,9522,R.U.lf("Variable referenced before global declaration"))}return U.mkStmt(U.mkText(""))},Nonlocal:e=>{var t,r=ke(),n=$();for(t of e.names){var i=rt(t,n),i=(i&&i!==r&&i.vars[t].modifier!==M.VarModifier.Global||G(e,9523,R.U.lf("No binding found for nonlocal variable")),J(t,{},M.VarModifier.NonLocal));i.firstRefPos<e.startPos&&G(e,9524,R.U.lf("Variable referenced before nonlocal declaration"))}return U.mkStmt(U.mkText(""))}};function qe(e){let t,r,n,i;if("Assign"===e.kind){if(1!=e.targets.length)return G(e,9553,R.U.lf("multi-target assignment statements are unsupported")),v(e);i=e.targets[0],n=e.value,t=null,r=null}else{if("AnnAssign"!==e.kind)return e;i=e.target,n=e.value||null,t=e.annotation,r=Be(t),Q(i,r)}let a="",s=!!n&&ue(n,"const");var o=oe(i)||"";if(Se()||S.currClass||S.currFun||"_"==o[0]||(a="export "),o&&S.currClass&&!S.currFun){s=!(!n||!S.currClass.isNamespace);var c=ee(S.currClass.symInfo,o,!0);if(c||G(e,9544,lf("cannot get class field")),0==h)return U.mkText("/* skip for now */");c.pyRetType||G(e,9539,lf("function '{0}' missing return type",c.pyQName)),Q(i,c.pyRetType),c.isInstance=!1,S.currClass.isNamespace&&(a=`export ${s?"const":"let"} `)}if(!n)return G(e,9555,R.U.lf("unable to determine value of assignment")),v(e);if(Q(i,ne(n)),s)return J(ce(i),{}),/^static /.test(a)||/const/.test(a)||(a+="const "),U.mkStmt(U.mkText(a),U.mkInfix(pe(i),"=",pe(n)));if(!a&&"Tuple"==i.kind){var c=e,l=i,e=n,u=l.elts.filter(e=>"Name"!==e.kind);if(u.length)return G(c,9556,R.U.lf("non-trivial tuple assignment unsupported")),v(c);var d=(u=l.elts.map(oe)).map(e=>e?$().vars[e]:void 0);if(d.some(e=>void 0!==(null==e?void 0:e.modifier))){var p=(()=>{var e=$();return void 0===e.nextHelperVariableId&&(e.nextHelperVariableId=0),"___tempvar"+e.nextHelperVariableId++})(),f=[U.mkStmt(U.mkInfix(U.mkGroup([U.mkText("let "),U.mkText(p)]),"=",pe(e)))];for(let e=0;e<d.length;e++){var _=m(l.elts[e]);f.push(U.mkStmt(U.mkInfix(_,"=",U.mkGroup([U.mkText(p),U.mkText(`[${e}]`)]))))}return U.mkGroup(f)}return c=[U.mkText("let "),U.mkText("[")],u=l.elts.map(e=>e).map(e=>m(e,!0)),c.push(U.mkCommaSep(u)),c.push(U.mkText("]")),U.mkStmt(U.mkInfix(U.mkGroup(c),"=",pe(e)));function m(e,t=!1){We(e,"identifierCompletion"),ne(e);Ye(e);return Ve(e,t)}}"Name"===i.kind&&(e=null==(u=$().vars[o])?void 0:u.symbol)&&4===e.kind&&void 0===u.modifier&&(void 0===u.firstAssignPos||u.firstAssignPos>i.startPos)&&(u.firstAssignPos=i.startPos,u.firstAssignDepth=S.blockDepth);let g=void 0;return t&&r&&("NameConstant"===n.kind&&null===n.value||"List"===n.kind&&0===n.elts.length)&&(o=H(r),g=U.mkInfix(pe(i),":",U.mkText(o))),g=g||pe(i),U.mkStmt(U.mkText(a),U.mkInfix(g,"=",pe(n)))}function Ve(e,t=!1){var r=e.id;let n=te(r),i=null==n?void 0:n.symbol;var a=$().vars[r],a=null==a?void 0:a.symbol;return void 0===e.isdef&&(!i||4===i.kind&&i!==a?(n=S.currClass&&!S.currFun?(e.isdef=!1,J(r,{})):J(r,{isLocal:e.isdef=!0}),i=n.symbol):e.isdef=!1,e.symbolInfo=i,e.tsType||G(e,9540,lf("definition missing ts type")),i.pyRetType||G(e,9568,lf("missing py return type")),Y(e,e.tsType,i.pyRetType)),e.isdef&&it(n,$())&&(e.isdef=!1),Xe(n,e),e.isdef&&!t?U.mkGroup([U.mkText("let "),le(r)]):null==i||!i.namespace||null==i||!i.qName||null!=(a=S.currClass)&&a.isNamespace&&(null==(e=S.currClass)?void 0:e.name)===(null==i?void 0:i.namespace)?le(r):le(i.qName)}function se(e){return U.isReservedWord(e)?e+"_":e}function oe(e){if("Name"==e.kind){var t=e.id,r=Le(t),n=null==r?void 0:r.symbol;if(n){if(n.expandsTo)return n.expandsTo;if(S.currClass&&!S.currFun&&(null==r||!r.modifier)&&n.qName)return n.qName}return t}if("Attribute"==e.kind){r=oe(e.value);if(r)return r+"."+e.attr}if(He(e)&&null!=(n=S.currClass)&&n.baseClass)return S.currClass.baseClass.qName}function ce(e){var t=oe(e);return t||G(null,9542,lf("Cannot get name of unknown expression kind '{0}'",e.kind)),t}function le(e){return"self"==e?U.mkText("this"):U.mkText(se(e))}function ue(e,t){return"Call"==e.kind&&oe(e.func)===t}function de(e,t,r){t=d[t];return R.U.assert(!!t),3<t.length?U.H.mkCall(t,[e,r]):U.mkInfix(e,t,r)}let g={memoryview:{n:"",t:s},const:{n:"",t:c},"micropython.const":{n:"",t:c}},E=(()=>{let r={};return Object.keys(pxtc.ts2PyFunNameMap).forEach(e=>{var t=pxtc.ts2PyFunNameMap[e];t&&t.n&&(e={n:e,t:(e=>{switch(e){case ts.SyntaxKind.StringKeyword:return T;case ts.SyntaxKind.NumberKeyword:return c;case ts.SyntaxKind.BooleanKeyword:return n;case ts.SyntaxKind.VoidKeyword:return m;case ts.SyntaxKind.AnyKeyword:return C;default:return s}})(t.t),scale:t.scale},r[t.n]=e)}),Object.keys(g).forEach(e=>{r[e]=g[e]}),r})();function He(e){return ue(e,"super")&&0==e.args.length}function Ge(e){return O&&e.startPos<=O.position&&O.position<=e.endPos}function We(e,t){100<h&&O&&null==F&&(O.type==t||"symbol"==O.type)&&Ge(e)&&(F=e,L=$())}function Qe(e,t){t&&t.pyAST&&"FunctionDef"==t.pyAST.kind&&((t=t.pyAST).callers||(t.callers=[]),t.callers.indexOf(e)<0)&&t.callers.push(e)}let y={BoolOp:t=>{let r=pe(t.values[0]);for(let e=1;e<t.values.length;++e)r=de(r,t.op,pe(t.values[e]));return r},BinOp:e=>{var t=(e=>{if("Mod"!=e.op||"Str"!=e.left.kind||"Tuple"!=e.right.kind&&"List"!=e.right.kind)return null;{var t=e.left.s;let i=e.right.elts,a=(i=i.slice(),[U.mkText("`")]);return t.replace(/([^%]+)|(%[\d\.]*([a-zA-Z%]))/g,(e,t,r,n)=>(t?a.push(U.mkText(t.replace(/[`\\$]/g,e=>"\\"+e))):(t=(t=i.shift())?pe(t):U.mkText("???"),a.push(U.mkText("${"),t,U.mkText("}"))),"")),a.push(U.mkText("`")),U.mkGroup(a)}})(e);if(!t){var r=pe(e.left),n=pe(e.right);if(ot(e.left)&&ot(e.right)&&"Add"===e.op)return U.H.extensionCall("concat",[r,n],!1);t=de(r,e.op,n),l[e.op]&&(Q(e.left,c),Q(e.right,c),e.tsType||G(e,9570,lf("binary op missing ts type")),Y(e,e.tsType,c))}return t},UnaryOp:e=>{var t=p[e.op];return"Not"!==e.op?(Q(e,c),Q(e.operand,c)):Q(e,n),R.U.assert(!!t),U.mkInfix(null,t,pe(e.operand))},Lambda:e=>(G(e,9574,R.U.lf("lambda expressions are not supported yet")),b(e)),IfExp:e=>U.mkInfix(U.mkInfix(pe(e.test),"?",pe(e.body)),":",pe(e.orelse)),Dict:r=>{S.blockDepth++;var e=r.keys.map((e,t)=>{t=r.values[t];return void 0===e?b(r):U.mkStmt(U.mkInfix(pe(e),":",pe(t)),U.mkText(","))}),e=U.mkBlock(e);return S.blockDepth--,e},Set:e=>b(e),ListComp:e=>b(e),SetComp:e=>b(e),DictComp:e=>b(e),GeneratorExp:r=>{if(1==r.generators.length&&"Comprehension"==r.generators[0].kind){let t=r.generators[0];if(0==t.ifs.length)return Me(()=>{var e=ce(t.target);return J(e,{isParam:!0}),U.mkInfix(pe(t.iter),".",U.H.mkCall("map",[U.mkGroup([le(e),U.mkText(" => "),pe(r.elt)])]))})}return b(r)},Await:e=>b(e),Yield:e=>b(e),YieldFrom:e=>b(e),Compare:t=>{var e;if(1==t.ops.length&&("In"==t.ops[0]||"NotIn"==t.ops[0]))return q(ne(t.comparators[0]))==T&&Q(t.left,T),e=U.mkInfix(pe(t.comparators[0]),".",U.H.mkCall("indexOf",[pe(t.left)])),U.mkInfix(e,"In"==t.ops[0]?">=":"<",U.mkText("0"));let n=pe(t.left),i=pe(t.comparators[0]);var r=(e,t,r)=>{u[e]&&ct(t)&&ct(r)&&U.flattenNode([n])!==U.flattenNode([i])&&(n=U.H.mkParenthesizedExpression(U.mkGroup([n,U.mkText(" as any")])),i=U.H.mkParenthesizedExpression(U.mkGroup([i,U.mkText(" as any")])))};r(t.ops[0],t.left,t.comparators[0]);let a=de(n,t.ops[0],i);for(let e=1;e<t.ops.length;++e)n=pe(t.comparators[e-1]),i=pe(t.comparators[e]),r(t.ops[e],t.comparators[e-1],t.comparators[e]),a=de(a,"And",de(n,t.ops[e],i));return a},Call:r=>{r.func.inCalledPosition=!0;let t=oe(r.func);var e=re(t),n=e&&8==e.kind;let i=e,a=void 0,s=void 0,o="",c=(n?i=(i=re(e.pyQName+".__constructor"))||Ie(3,lt(null==e?void 0:e.pyAST)):"Attribute"==r.func.kind&&(l=r.func,s=l.value,(a=ne(s)).classType||a.primType)&&(o=l.attr,i=Oe(s,o,!0))&&(o=i.name),r.args.slice());if("super"==t&&0==c.length)return S.currClass&&S.currClass.baseClass&&(r.tsType||G(r,9543,lf("call expr missing ts type")),Ee(r,r.tsType,S.currClass.baseClass)),U.mkText("super");if(ue(r,"int")&&1===c.length&&c[0]){var l=c[0],u=pe(l),l=ne(l);if("string"===l.primType)return U.mkGroup([U.mkText("parseInt"),U.mkText("("),u,U.mkText(")")]);if("number"===l.primType)return U.mkGroup([U.mkInfix(U.mkText("Math"),".",U.mkText("trunc")),U.mkText("("),u,U.mkText(")")])}if(!i){let e=R.U.lookup(E,t);if((o=e?"":o)&&(t=H(a)+"."+o,(e=R.U.lookup(E,t))||"@array"!=W(q(a))||(t="Array."+o,e=R.U.lookup(E,t))),o="",e)if("."==e.n[0]&&c.length){if(s=c.shift(),a=ne(s),o=e.n.slice(1),(i=Oe(s,o))&&2==i.kind)return U.mkInfix(pe(s),".",U.mkText(o))}else i=j(e.n)}if(ue(r,"str"))return Y(r,r.tsType,T),U.mkInfix(U.mkText('""'),"+",pe(r.args[0]));var l="Attribute"===r.func.kind&&He(r.func.value),u=(!i&&l&&(i=j(t)),"__init__"===(null==(u=S.currFun)?void 0:u.name)&&"__constructor"===(null==i?void 0:i.name)&&(null==(u=null==(u=S.currClass)?void 0:u.baseClass)?void 0:u.pyQName)===(null==i?void 0:i.namespace)&&l),d=((i=u?re((null==(l=null==(l=S.currClass)?void 0:l.baseClass)?void 0:l.pyQName)+".__constructor"):i)||G(r,9508,R.U.lf("can't find called function '{0}'",t)),i?i.parameters:null);let p=[];if(d){for(c.length>d.length&&G(r,9510,R.U.lf("too many arguments in call to '{0}'",i.pyQName));c.length<d.length;)c.push(null);c=c.slice(0,d.length);for(let t of r.keywords){var f=d.findIndex(e=>e.name==t.arg);f<0?G(t,9511,R.U.lf("'{0}' doesn't have argument named '{1}'",i.pyQName,t.arg)):null!=c[f]?G(t,9512,R.U.lf("argument '{0} already specified in call to '{1}'",t.arg,i.pyQName)):c[f]=t.value}for(let e=c.length-1;0<=e&&(d[e].initializer&&null==c[e]);e--)c.pop();for(let e=0;e<c.length;++e){var _,m=c[e];null!=m||d[e].initializer?m?(d[e].pyType||G(r,9545,lf("formal arg missing py type")),"any"!==(_=d[e].pyType).primType&&De(m,_),"Name"==m.kind&&$e(m.symbolInfo)?p.push(Je(m.symbolInfo.pyAST,!0)):p.push(pe(m))):(d[e].initializer||G(r,9547,lf("formal arg missing initializer")),p.push(U.mkText(d[e].initializer))):(G(r,9513,R.U.lf("missing argument '{0}' in call to '{1}'",d[e].name,i.pyQName)),p.push(U.mkText("null")))}}else i&&G(r,9509,R.U.lf("calling non-function")),p=c.map(pe);if(!F&&O&&"signature"==O.type&&Ge(r)){F=r,L=$();for(let e=O.auxResult=0;e<c.length;++e){O.auxResult=e;var g=c[e];if(!g)break;if(g.startPos<=O.position&&O.position<=g.endPos)break}}if(i){if(i.pyRetType||G(r,9549,lf("function missing pyRetType")),s&&ot(s)&&a){var h,y=r,v=i,b=a;switch(v.qName){case"Array.pop":case"Array.removeAt":case"Array.shift":case"Array.find":case"Array.get":case"Array._pickRandom":Q(y,b.typeArgs[0]);break;case"Array.concat":case"Array.slice":case"Array.filter":case"Array.fill":Q(y,b);break;case"Array.reduce":"Call"===y.kind&&1<y.args.length&&(h=ne(y.args[1]))&&Q(y,h);break;case"Array.map":Q(y,z(C));break;default:Q(y,v.pyRetType)}}else Q(r,i.pyRetType);if((r.symbolInfo=i).attributes.py2tsOverride){l=(e=>{let t=new RegExp(/([^\$]*\()?([^\$\(]*)\$(\d)(?:(?:(?:=(\d+|'[a-zA-Z0-9_]*'|false|true|null|undefined))|(\?)|))/,"y"),r=[],n,i=0;for(;i=t.lastIndex,(n=t.exec(e))&&(n[1]&&r.push({kind:"text",text:n[1]}),r.push({kind:"arg",prefix:n[2],index:parseInt(n[3]),default:n[4],isOptional:!!n[5]})),n;);return null!=i?r.push({kind:"text",text:e.substr(i)}):r.push({kind:"text",text:e}),{parts:r}})(i.attributes.py2tsOverride);if(l)return o&&!s&&G(r,9550,lf("missing recv")),(l=((e,t,r)=>{var n,i=[];for(n of e.parts)if("text"===n.kind)i.push(U.mkText(n.text));else if(t[n.index]||n.default)n.prefix&&i.push(U.mkText(n.prefix)),t[n.index]?i.push(t[n.index]):i.push(U.mkText(n.default));else if(!n.isOptional)return;return r?U.mkInfix(r,".",U.mkGroup(i)):U.mkGroup(i)})(l,p,o?pe(s):void 0))||G(r,9555,lf("buildOverride failed unexpectedly")),l}else if(i.attributes.pyHelper)return U.mkGroup([U.mkInfix(U.mkText("_py"),".",U.mkText(i.attributes.pyHelper)),U.mkText("("),U.mkCommaSep(s?[pe(s)].concat(p):p),U.mkText(")")])}let x,k=(u?x=U.mkText("super"):o?(x=U.mkInfix(pe(s),".",U.mkText(o)),We(r.func,"memberCompletion")):x=pe(r.func),[x,U.mkText("("),U.mkCommaSep(p),U.mkText(")")]);return i&&1==p.length&&pxtc.service.isTaggedTemplate(i)&&(k=[x,(l=p[0]).type==U.NT.Prefix&&'"'==l.op[0]?U.mkText(U.backtickLit(JSON.parse(l.op))):l]),n&&(e&&e.pyQName||G(r,9551,lf("missing namedSymbol or pyQName")),k[0]=U.mkText(Te(e.pyQName)),k.unshift(U.mkText("new "))),U.mkGroup(k)},Num:e=>(e.tsType||G(e,9556,lf("tsType missing")),Y(e,e.tsType,c),U.mkText(e.ns)),Str:e=>(e.tsType||G(e,9557,lf("tsType missing")),Y(e,e.tsType,T),U.mkText(U.stringLit(e.s))),FormattedValue:e=>b(e),JoinedStr:e=>b(e),Bytes:e=>U.mkText(`hex\`${R.U.toHex(new Uint8Array(e.s))}\``),NameConstant:e=>(null!==e.value&&(e.tsType||G(e,9558,lf("tsType missing")),Y(e,e.tsType,n)),U.mkText(JSON.stringify(e.value))),Ellipsis:e=>b(e),Constant:e=>b(e),Attribute:e=>{var t=pe(e.value),r=ne(e.value),n=Oe(e.value,e.attr);let i=e.attr;return We(e,"memberCompletion"),n?(e.symbolInfo=n,Qe(e,n),e.tsType&&n.pyRetType||G(e,9559,lf("tsType or pyRetType missing")),Y(e,e.tsType,n.pyRetType),i=n.name):r.moduleType?(n=j(r.moduleType.pyQName+"."+e.attr))?(e.symbolInfo=n,Qe(e,n),Q(e,k(n)),i=n.name):G(e,9514,R.U.lf("module '{0}' has no attribute '{1}'",r.moduleType.pyQName,e.attr)):2<h&&G(e,9515,R.U.lf("unknown object type; cannot lookup attribute '{0}'",e.attr)),U.mkInfix(t,".",U.mkText(se(i)))},Subscript:e=>{var t,r;return"Index"==e.slice.kind?(r=q(ne(e.value)),ot(e.value)?Q(e,r.typeArgs[0]):"string"===r.primType?Q(e,r):2<h&&Ce(ne(e))&&Q(e,C),r=e.slice.value,2<h&&Ce(ne(r))&&Q(r,c),U.mkGroup([pe(e.value),U.mkText("["),pe(r),U.mkText("]")])):"Slice"==e.slice.kind?(Q(e,r=ne(e.value)),(t=e.slice).step?(r="string"===(null==r?void 0:r.primType),U.H.mkCall(r?"_py.stringSlice":"_py.slice",[pe(e.value),t.lower?pe(t.lower):U.mkText("null"),t.upper?pe(t.upper):U.mkText("null"),pe(t.step)])):U.mkInfix(pe(e.value),".",U.H.mkCall("slice",[t.lower?pe(t.lower):U.mkText("0"),t.upper?pe(t.upper):null].filter(me)))):b(e)},Starred:e=>U.mkGroup([U.mkText("... "),pe(e.value)]),Name:e=>{var t,r;return We(e,"identifierCompletion"),"self"==e.id&&S.currClass?(e.tsType||G(e,9560,lf("missing tsType")),Ee(e,e.tsType,S.currClass.symInfo),U.mkText("this")):(r=null==(t=Ye(e))?void 0:t.symbol)&&r.isImport?le(r.name):(Xe(t,e),0<=e.ctx.indexOf("Load")?r?null!=r&&r.qName?le(r.qName.replace("@type","")):(G(e,9561,lf("missing qName")),le("unknown")):le(ce(e)):Ve(e))},List:Ze,Tuple:Ze};function Ye(e){let t=te(e.id);var r,n=null==t?void 0:t.symbol;if(t||(r=R.U.lookup(E,e.id))&&(t=te(r.n)),t&&n){if(e.symbolInfo=n,e.tsType||G(e,9562,lf("missing tsType")),Y(e,e.tsType,k(n)),n.isImport)return t;Qe(e,n),e.forTargetEndPos&&t.forVariableEndPos!==e.forTargetEndPos&&(t.forVariableEndPos?t.lastRefPos=t.forVariableEndPos+1:t.forVariableEndPos=e.forTargetEndPos)}else 0<h&&G(e,9516,R.U.lf("name '{0}' is not defined",e.id));return t}function Xe(e,t){var r;e&&(e.modifier===M.VarModifier.Global?(r=ke())&&r.vars[e.symbol.name]&&(e=r.vars[e.symbol.name]):e.modifier===M.VarModifier.NonLocal&&(r=rt(e.symbol.name,$()))&&(e=r.vars[e.symbol.name]),(void 0===e.firstRefPos||e.firstRefPos>t.startPos)&&(e.firstRefPos=t.startPos),void 0===e.lastRefPos||e.lastRefPos<t.startPos)&&(e.lastRefPos=t.startPos)}function Ze(e){return e.tsType||G(e,9563,lf("missing tsType")),Y(e,e.tsType,z(e.elts[0]?ne(e.elts[0]):K())),U.mkGroup([U.mkText("["),U.mkCommaSep(e.elts.map(pe)),U.mkText("]")])}function et(e){return e.startPos+":"+e.endPos}function pe(e){a=e;var t=y[e.kind],t=(t||R.U.oops(e.kind+" - unknown expr"),ne(e),t(e));return t.id=et(e),t}function fe(e){a=e;var t=_[e.kind],r=(t||R.U.oops(e.kind+" - unknown stmt"),(e._comments||[]).map(e=>e.value));let n=t(e);return(n=r.length?U.mkGroup(r.map(e=>U.mkStmt(U.H.mkComment(e))).concat(n)):n).id=et(e),n}function tt(e){return!e||(e.type==U.NT.Prefix&&""==e.op?e.children.every(tt):e.type==U.NT.NewLine)}function rt(e,t){var r;if(t)return(r=t.vars&&t.vars[e])&&r.modifier!=M.VarModifier.NonLocal?t:rt(e,t.parent)}function nt(e){var t,r,n,i=[];for(t of Object.keys(e.vars))it(r=e.vars[t],e)&&i.push((r=null==r?void 0:r.symbol,n=void 0,n=le(r.name),r=H(k(r)),U.mkStmt(U.mkGroup([U.mkText("let "),n,U.mkText(": "+r+";")]))));return i}function it(e,t){return 4===e.symbol.kind&&!e.symbol.isParam&&void 0===e.modifier&&(e.lastRefPos>e.forVariableEndPos||e.firstRefPos<e.firstAssignPos||e.firstAssignDepth>t.blockDepth)&&!("Module"===(t=t).kind&&"main"===t.name&&0===e.firstAssignDepth)}function at(e){if(R.U.assert("Module"==e.kind),!e.tsBody){t=e,S={currClass:void 0,currFun:void 0,currModule:t,blockDepth:0},N=t.tsFilename.replace(/\.ts$/,".py"),e.vars||(e.vars={});var t=nt(e).concat(e.body.map(fe));if(!t.every(tt))return"main"==e.name?t:[U.mkText("namespace "+e.name+" "),U.mkBlock(t)]}}function st(e){h=e,I=[],w=0,a=void 0}function ot(e){e=q(ne(e));return e&&"@array"===e.primType}function ct(e){switch(e.kind){case"Num":case"Str":return 1;case"NameConstant":return null!==e.value}}function lt(e,t=e.symInfo){var r=B(t.pyQName+".__constructor");if(!r&&null!=(n=t.extendsTypes)&&n.length){var n=re(t.extendsTypes[0])||j(t.extendsTypes[0]);if(n)return lt(e,n)}t={kind:"FunctionDef",name:"__init__",startPos:e.startPos,endPos:e.endPos,parent:e,body:[],args:{kind:"Arguments",startPos:0,endPos:0,args:[{startPos:0,endPos:0,kind:"Arg",arg:"self"}],kw_defaults:[],kwonlyargs:[],defaults:[]},decorator_list:[],vars:{},symInfo:X(3,e.symInfo.qName+".__constructor")};return t.symInfo.parameters=[],t.symInfo.pyRetType=K({classType:e.symInfo}),r&&(t.args.args.push(...r.parameters.map(e=>({startPos:0,endPos:0,kind:"Arg",arg:e.name}))),t.symInfo.parameters.push(...r.parameters.map(e=>e.pyType?e:Object.assign(Object.assign({},e),{pyType:x(e.type)})))),t}M.py2ts=function(t){var r=[],e={},n=(I=[],R.U.assert(!!t.sourceFiles,"missing sourceFiles! Cannot convert py to ts"),t.sourceFiles.filter(e=>R.U.endsWith(e,".py")));if(0==n.length)return{outfiles:e,diagnostics:I,success:0===I.length,sourceMap:[]};let i=(e,t)=>e.substr(0,e.length-t.length),a=R.U.toDictionary(n,e=>i(e,".py"));var s,o=t.sourceFiles.filter(e=>R.U.endsWith(e,".ts")).filter(e=>i(e,".ts")in a);R.U.assert(!!t.apisInfo,"missing apisInfo! Cannot convert py to ts"),N=n[0],he(t.apisInfo,o),P=t,O=void 0,t.generatedFiles||(t.generatedFiles=[]);for(s of n){var c=s,l=s.replace(/\.py$/,"").replace(/.*\//,""),u=t.fileSystem[s];try{N=s;var d=R.py.lex(u),p=R.py.parse(u,c,d);R.U.pushRange(I,p.diagnostics),r.push({kind:"Module",body:p.stmts,blockDepth:0,name:l,source:u,tsFilename:c.replace(/\.py$/,".ts")})}catch(e){R.log("Parse error",e)}}var f,o=I;for(let e=0;e<5;++e){st(e);for(var _ of r)try{at(_)}catch(e){R.log("Conv pass error",e)}if(0==w)break}st(1e3),F=void 0,O=t.syntaxInfo||{position:0,type:"symbol"};let m=[];for(f of r)try{var g,h,y=at(f);function v(e){var t=e.id.split(":");if(2==t.length)return{py:{startPos:(t=t.map(e=>parseInt(e)))[0],endPos:t[1]},ts:{startPos:e.startPos,endPos:e.endPos}}}y&&(g=U.flattenNode(y),t.sourceFiles.push(f.tsFilename),t.generatedFiles.push(f.tsFilename),t.fileSystem[f.tsFilename]=g.output,e[f.tsFilename]=g.output,h=g.sourceMap,m=h.map(v).filter(e=>!!e))}catch(e){R.log("Conv error",e)}I=o.concat(I);let b={},x=(n=R.U.values(D).concat(R.U.values(A)),[]);var k=e=>{(e=>{switch(e.kind){case 6:case 7:case 4:case 3:case 5:return!0;case 2:case 1:return!e.isInstance;default:return!1}})(e)&&x.indexOf(e)<0&&(e=ge(e),b[e.qName||e.name]=e)};for(let e=L;e;e=e.parent)e&&e.vars&&R.U.values(e.vars).map(e=>e.symbol).forEach(k);if(n.forEach(k),O&&F){if(F=F,O.beginPos=F.startPos,O.endPos=F.endPos,O.symbols||(O.symbols=[]),x=O.symbols.slice(),"memberCompletion"==O.type&&"Attribute"==F.kind){var S=ne(F.value);if(S.moduleType)for(var T of n)T.isInstance||T.namespace!=S.moduleType.qName||O.symbols.push(T);else if(S.classType||S.primType){o=S.classType||Fe(S.primType).reduce((e,t)=>e||t,null);if(o){o.extendsTypes&&o.qName||G(null,9567,lf("missing extendsTypes or qName"));var C,E=o.extendsTypes.concat(o.qName);for(C of n)C.isInstance&&0<=E.indexOf(C.namespace)&&O.symbols.push(C)}}}else"identifierCompletion"==O.type?O.symbols=R.U.values(b):(o=F.symbolInfo)&&O.symbols.push(o);O.symbols=O.symbols.map(ge)}return n=(()=>{for(var e of I)M.patchPosition(e,t.fileSystem[e.fileName]);return I})(),{outfiles:e,success:0===n.length,diagnostics:n,syntaxInfo:O,globalNames:b,sourceMap:m}}}})(pxt=pxt||{}),(F=>{var e;{var L=F.py||(F.py={});let k,S=((e=k=L.TokenType||(L.TokenType={}))[e.Id=0]="Id",e[e.Op=1]="Op",e[e.Keyword=2]="Keyword",e[e.Number=3]="Number",e[e.String=4]="String",e[e.NewLine=5]="NewLine",e[e.Comment=6]="Comment",e[e.Indent=7]="Indent",e[e.Dedent=8]="Dedent",e[e.EOF=9]="EOF",e[e.Error=10]="Error",L.keywords={False:!0,None:!0,True:!0,and:!0,as:!0,assert:!0,async:!0,await:!0,break:!0,class:!0,continue:!0,def:!0,del:!0,elif:!0,else:!0,except:!0,finally:!0,for:!0,from:!0,global:!0,if:!0,import:!0,in:!0,is:!0,lambda:!0,nonlocal:!0,not:!0,or:!0,pass:!0,raise:!0,return:!0,try:!0,while:!0,with:!0,yield:!0},[]),T,C,E={"%":"Mod","&":"BitAnd","*":"Mult","**":"Pow","+":"Add","-":"Sub","/":"Div","//":"FloorDiv","<<":"LShift",">>":"RShift","@":"MatMult","^":"BitXor","|":"BitOr"},D={"!":"Bang","!=":"NotEq","(":"LParen",")":"RParen",",":"Comma","->":"Arrow",".":"Dot",":":"Colon",";":"Semicolon","<":"Lt","<=":"LtE","=":"Assign","==":"Eq",">":"Gt",">=":"GtE","[":"LSquare","]":"RSquare","{":"LBracket","}":"RBracket","~":"Invert"},A={b:/^[_0-1]$/,B:/^[_0-1]$/,o:/^[_0-7]$/,O:/^[_0-7]$/,x:/^[_0-9a-fA-F]$/,X:/^[_0-9a-fA-F]$/},w={b:2,B:2,o:8,O:8,x:16,X:16},N,I,P=0,O=0;function n(t,r){let n=0,i=0;for(let e=0;e<t;++e)10==r.charCodeAt(e)&&(n++,i=e);return{line:n,column:t-i-1}}function a(e){switch(e.type){case k.Id:return`id(${e.value})`;case k.Op:return"'"+C[e.value]+"'";case k.Keyword:return e.value;case k.Number:return`num(${e.value})`;case k.String:return e.stringPrefix+JSON.stringify(e.value);case k.NewLine:return"<nl>";case k.Comment:return`/* ${e.value} */`;case k.Indent:return"indent"+e.value;case k.Dedent:return"dedent";case k.Error:return`[ERR: ${e.value}]`;case k.EOF:return"End of file";default:return"???"}}L.position=n,L.patchPosition=function(e,t){var r;e.start||e.length?(r=n(e.start,t),e.line=r.line,e.column=r.column,0<e.length&&(r=n(e.start+e.length-1,t),e.endLine=r.line,e.endColumn=r.column+2)):(e.start=0,e.length=0,e.line=0,e.column=0)},L.tokenToString=a,L.friendlyTokenToString=function(e,t){var r=e.endPos-e.startPos;let n="";return n=(n=0==r?a(e):20<r?"`"+t.slice(e.startPos,e.startPos+20)+"`...":"`"+t.slice(e.startPos,e.endPos)+"`").replace(/\r/g,"").replace(/\n/g,"\\n").replace(/\t/g,"\\t")},L.tokensToString=function(e){let t="",r=0;for(var n of e){var i=a(n);70<r+i.length&&(r=0,t+="\n"),0!=r&&(t+=" "),t+=i,r+=i.length,n.type!=k.NewLine&&n.type!=k.Comment||(r=0,t+="\n")}return t},L.lex=function(e){if(0==S.length){var t,r,n={'"':f,"'":f,"#":h,"\\":g,".":v};T=F.U.clone(D);for(t of Object.keys(E))T[t]=E[t],T[t+"="]=E[t]+"Assign";C={};for(r of Object.keys(T))C[T[r]]=r;for(let t=0;t<128;++t)if(L.rx.isIdentifierStart(t))S[t]=o;else{var i=String.fromCharCode(t);if(n.hasOwnProperty(i))S[t]=n[i];else if(T.hasOwnProperty(i)){let e=!1,n=T[i];for(var a of Object.keys(T))a!=i&&a.startsWith(i)&&(e=!0);e?S[t]=()=>{var e,t=n,r=I.slice(O,P+1);2==r.length&&T.hasOwnProperty(r)&&(e=I.slice(O,P+2),t=3==e.length&&T.hasOwnProperty(e)?(P+=2,T[e]):(P++,T[r])),c(t)}:S[t]=()=>c(n)}else L.rx.isSpace(t)?S[t]=()=>{}:13==t?S[t]=()=>{10==I.charCodeAt(P)&&P++,_()}:L.rx.isNewline(t)?S[t]=_:b(t)?S[t]=y:S[t]=x}}for(I=e,N=[],P=0,O=0,m();P<I.length;){O=P;var s=I.charCodeAt(P++);s<128?S[s]():L.rx.isIdentifierStart(s)?o():L.rx.isSpace(s)||(L.rx.isNewline(s)?_:x)()}return O=P,_(),u(k.EOF,""),N;function u(e,t,r){e={type:e,value:t,startPos:O,endPos:P,auxValue:r};return N.push(e),e}function d(e){u(k.Error,e)}function o(){for(;L.rx.isIdentifierChar(I.charCodeAt(P));)P++;var e=I.slice(O,P),t=I.charCodeAt(P);L.keywords.hasOwnProperty(e)?u(k.Keyword,e):34==t||39==t?l(e):u(k.Id,e)}function c(e){u(k.Op,e)}function p(e){switch(e){case 97:return 7;case 98:return 8;case 102:return 12;case 110:return 10;case 114:return 13;case 116:return 9;case 118:return 11;default:return 0}}function l(e){var t=I.charCodeAt(P++);let r=!1;I.charCodeAt(P)==t&&I.charCodeAt(P+1)==t&&(P+=2,r=!0);var n=0<=(e=e.toLowerCase()).indexOf("r");let i="",a="";for(;;){var s,o,c=I.charCodeAt(P++);if(c==t){if(!r)break;if(I.charCodeAt(P)==t&&I.charCodeAt(P+1)==t){P+=2;break}a+="\\"+String.fromCharCode(t),i+=String.fromCharCode(t)}else if(92==c){let e=I.charCodeAt(P++);13==e&&10==I.charCodeAt(P)&&(e=10,P++),34==e||39==e||92==e?(n&&(a+="\\",i+="\\"),a+="\\"+String.fromCharCode(e),i+=String.fromCharCode(e)):!n&&p(e)?(a+="\\"+String.fromCharCode(e),i+=String.fromCharCode(p(e))):L.rx.isNewline(e)?n&&(i+="\\"+String.fromCharCode(e),a+="\\\\",10==e?a+="\\n":a+="\\u"+("0000"+e.toString(16)).slice(-4)):n||48!=e?n||117!=e&&120!=e?(a+="\\\\"+String.fromCharCode(e),i+="\\"+String.fromCharCode(e)):(o=117==e?4:2,s=I.slice(P,P+o),P+=o,o=parseInt(s,16),isNaN(o)&&d(F.U.lf("invalid unicode or hex escape")),a+="\\"+String.fromCharCode(e)+s,i+=String.fromCharCode(o)):(a+="\\\\x00",i+="\0")}else{if(isNaN(c)){d(F.U.lf("end of file in a string"));break}if(L.rx.isNewline(c)&&!r){d(F.U.lf("new line in a string"));break}i+=String.fromCharCode(c),a+=String.fromCharCode(c)}}var l=u(k.String,i);l.quoted=a,l.stringPrefix=e}function f(){P--,l("")}function _(){u(k.NewLine,""),m()}function m(){let e=0;for(;;){var t=I.charCodeAt(P);if(9==t)e=e+8&-8;else{if(32!=t)break;e++}P++}u(k.Indent,""+e)}function g(){var e=I.charCodeAt(P);L.rx.isNewline(e)?(P++,13==e&&10==I.charCodeAt(P)&&P++):d(F.U.lf("unexpected character after line continuation character"))}function h(){for(u(k.NewLine,"");P<I.length&&!L.rx.isNewline(I.charCodeAt(P));)P++;u(k.Comment,I.slice(O+1,P)),13==I.charCodeAt(P)&&10==I.charCodeAt(P+1)&&P++,P++,m()}function y(){var e=I[O];let t="";if("0"==e){var r,n=I[P],i=A[n];if(i){for(P++;;){var a=I[P];if(!i.test(a))break;t+=a,P++}return void(t?(r=parseInt(t,w[n]),isNaN(r)&&d(F.U.lf("invalid number")),u(k.Number,e+n+t,r)):d(F.U.lf("expecting numbers to follow 0b, 0o, 0x")))}}let s=!1,o=!1,c=!1;for(P=O;;){var l=I.charCodeAt(P);if((!c||43!=l&&45!=l)&&(c=!1,95!=l)&&!b(l))if(o||s||46!=l){if(o||69!=l&&101!=l)break;o=!0,c=!0}else s=!0;t+=String.fromCharCode(l),P++}!s&&!o&&"0"==e&&1<t.length&&!/^0+/.test(t)&&d(F.U.lf("unexpected leading zero"));n=parseFloat(t);isNaN(n)&&d(F.U.lf("invalid number")),u(k.Number,t,n)}function v(){b(I.charCodeAt(P))?y():u(k.Op,"Dot")}function b(e){return 48<=e&&e<=57}function x(){d(F.U.lf("invalid token"))}}}})(pxt=pxt||{}),(x=>{{var k=x.py||(x.py={});let u,i,a,s,o,d,c,p,f,_=!1,m="";function S(){return i[o]}function l(){for(;i[o];o++){var t=i[o];if(t.type==k.TokenType.Comment)d.push(t);else{if(0<=u&&t.type==k.TokenType.Op)switch(t.value){case"LParen":case"LSquare":case"LBracket":u++;break;case"RParen":case"RSquare":case"RBracket":u--}if(t.type!=k.TokenType.Error){if(0<u){if(t.type==k.TokenType.NewLine||t.type==k.TokenType.Indent)continue}else if(t.type==k.TokenType.Indent){if(i[o+1].type==k.TokenType.NewLine){o++;continue}var r=parseInt(t.value),e=c[c.length-1];if(r==e)continue;if(e<r)return void c.push(r);{t.type=k.TokenType.Dedent;let e=0;for(;c.length;){var n=c[c.length-1];if(!(r<n)){for(n!=r&&C(9552,x.U.lf("inconsitent indentation"));1<e;)i.splice(o,0,t),e--;return}c.pop(),e++}}}return}C(9551,t.value)}}}function T(){(p=S()).type!=k.TokenType.EOF&&(o++,l())}function C(e,t){t=t||x.U.lf("invalid syntax"),e=e||9550;var r=S(),t={code:e,category:pxtc.DiagnosticCategory.Error,messageText:x.U.lf("{0} near {1}",t,k.friendlyTokenToString(r,a)),fileName:s,start:r.startPos,length:r.endPos?r.endPos-r.startPos:0,line:0,column:0};k.patchPosition(t,a),_&&x.log(m+`TS${e} ${t.messageText} at ${t.line+1},`+(t.column+1)),f.push(t),9572!=e&&100<f.length&&x.U.userError(x.U.lf("too many parse errors"))}function n(e,t){var r=S();(r.type==e&&r.value==t||(C(9553,x.U.lf("expecting {0}",k.tokenToString({type:e,value:t,startPos:0,endPos:0}))),r.type!=k.TokenType.NewLine))&&T()}function E(){n(k.TokenType.NewLine,"")}function D(e){n(k.TokenType.Keyword,e)}function A(e){n(k.TokenType.Op,e)}function w(){var e=S();return e.type==k.TokenType.Keyword?e.value:""}function N(){var e=S();return e.type==k.TokenType.Op?e.value:""}let g={if:function e(){let t=P("If");T();t.test=J();t.body=I();"elif"==w()?t.orelse=[e()]:t.orelse=F();return O(t)},while:function(){var e=P("While");return D("while"),e.test=J(),e.body=I(),e.orelse=F(),O(e)},for:function(){var e=P("For");return D("for"),e.target=ae(),z(e.target),D("in"),e.iter=K(),e.body=I(),e.orelse=F(),O(e)},try:function(){let e=P("Try"),t=(D("try"),e.body=I(),e.handlers=[],!1);for(;"except"==w();){var r=P("ExceptHandler");e.handlers.push(r),T(),"Colon"!=N()?(t&&C(),r.type=J(),"as"==w()?(T(),r.name=Z()):r.name=void 0):(t=!0,r.type=void 0,r.name=void 0),r.body=I()}e.orelse=F(),0==e.handlers.length&&e.orelse.length&&C();"finally"==w()?(T(),e.finalbody=I()):e.finalbody=[];return O(e)},with:function(){var e=P("With");return D("with"),e.items=Te(x.U.lf("with item"),te),e.body=I(),O(e)},def:function(){var e=P("FunctionDef");D("def"),e.name=Z(),A("LParen"),e.args=ce(!0),A("RParen"),e.returns=void 0,"Arrow"==N()&&(T(),e.returns=J());return e.body=I(),O(e)},class:function(){var e=P("ClassDef");{var t;D("class"),e.name=Z(),"LParen"==N()?(t=Ee(),e.bases=t.args,e.keywords=t.keywords):(e.bases=[],e.keywords=[])}return e.body=I(),O(e)}},t={del:function(){var e=P("Delete");return D("del"),e.targets=Y(x.U.lf("expression"),H),O(e)},pass:function(){var e=P("Pass");return D("pass"),O(e)},break:function(){var e=P("Break");return T(),O(e)},continue:function(){var e=P("Continue");return T(),O(e)},return:function(){var e=P("Return");T(),R()?e.value=void 0:e.value=K();return O(e)},raise:function(){var e=P("Raise");D("raise"),e.exc=void 0,e.cause=void 0,R()||(e.exc=J(),"from"==w()&&(T(),e.cause=J()));return O(e)},global:M,nonlocal:function(){var e=M();return e.kind="Nonlocal",e},import:function(){var e=P("Import");return T(),e.names=Te(x.U.lf("import name"),re),O(e)},from:function(){var e=P("ImportFrom");T(),e.level=(()=>{let e=0;for(;;){if("Dot"==N())e+=1;else{if("Ellipsis"!=N())return e;e+=3}T()}})(),S().type==k.TokenType.Id?e.module=U():e.module=void 0;e.level||e.module||C();{var t;D("import"),"Mult"==N()?(T(),(t=P("Alias")).name="*",e.names=[t]):"LParen"==N()?(T(),e.names=Y(x.U.lf("import name"),B),A("RParen")):e.names=Y(x.U.lf("import name"),B)}return O(e)},assert:function(){var e=P("Assert");T(),e.test=J(),"Comma"==N()?(T(),e.msg=J()):e.msg=void 0;return O(e)},yield:function(){S();if(T(),"from"==w())return(e=P("YieldFrom")).value=J(),L(O(e));var e=P("Yield");R()||(e.value=K());return L(O(e))}};function I(){if(A("Colon"),S().type!=k.TokenType.NewLine)return oe();{var t=m;_&&(x.log(m+"{"),m+="  "),T();let e;if(S().type!=k.TokenType.Indent)C(9554,x.U.lf("expected an indented block")),e=$();else{var r=parseInt(S().value);for(T(),e=$();;){if(S().type==k.TokenType.Dedent){var n=isNaN(r)||parseInt(S().value)<r;if(T(),n)break}if(x.U.pushRange(e,$()),S().type==k.TokenType.EOF)break}}return _&&(m=t,x.log(m+"}")),e}}function P(e,t){t=t||S();return{startPos:t.startPos,endPos:t.endPos,kind:e}}function O(e){return e.endPos=p.endPos,e}function F(){return"else"==w()?(T(),I()):[]}function te(){var e=P("WithItem");return e.context_expr=J(),e.optional_vars=void 0,"as"==w()&&(T(),e.optional_vars=H()),O(e)}function L(e){var t=P("ExprStmt");return t.startPos=e.startPos,t.endPos=e.endPos,t.value=e,t}function R(){var e=S();return e.type==k.TokenType.NewLine||e.type==k.TokenType.Op&&"Semicolon"==e.value}function M(){var e=P("Global");for(T(),e.names=[];e.names.push(Z()),"Comma"==N();)T();return O(e)}function U(){let e="";for(;;){if(e+=Z(),"Dot"!=N())return e;e+=".",T()}}function re(){var e=P("Alias");return e.name=U(),"as"==w()?(T(),e.asname=Z()):e.asname=void 0,O(e)}function B(){var e=P("Alias");return e.name=Z(),"as"==w()?(T(),e.asname=Z()):e.asname=void 0,O(e)}function ne(e,t){e=P("Tuple",e);return e.elts=t,O(e)}function j(e){var t=S(),e=Y(x.U.lf("expression"),e),r=e[0];return 1!=e.length?ne(t,e):r}function ie(){return j(G)}function K(){return j(J)}function ae(){return j(H)}function z(e){"Tuple"==e.kind?e.elts.forEach(z):e.ctx="Store"}function se(){var e=x.U.lookup(t,w());return(e||(()=>{var e,t=S();let r=ie(),n=N();if("Assign"!=n)return"Colon"==n?((e=P("AnnAssign")).target=r,T(),e.annotation=J(),"Assign"==N()&&(T(),e.value=J()),e.simple=t.type==k.TokenType.Id&&"Name"==r.kind?1:0,z(e.target),O(e)):x.U.endsWith(n,"Assign")?((t=P("AugAssign")).target=r,t.op=n.replace("Assign",""),T(),t.value=K(),z(t.target),O(t)):"Semicolon"==n||S().type==k.TokenType.NewLine?((e=P("ExprStmt")).value=r,O(e)):(C(9555,x.U.lf("unexpected token")),T(),null);var i=P("Assign");for(i.targets=[r];;){if(T(),r=ie(),"Assign"!=(n=N())){i.value=r;break}i.targets.push(r)}return i.targets.forEach(z),O(i)}))()}function oe(){for(var e=[se()];"Semicolon"==N()&&(T(),S().type!=k.TokenType.NewLine);)e.push(se());return E(),e.filter(e=>!!e)}function $(){for(var e=f.length,t=S().type==k.TokenType.Indent,r=(t&&(T(),C(9573,x.U.lf("unexpected indent"))),[]);"MatMult"==N();)T(),r.push(De()),E();var n=w(),i=x.U.lookup(g,w());let a=[];var s,o=d,c=(d=[],"class"==n||"def"==n?((n=i()).decorator_list=r,a=[n]):r.length?C(9556,x.U.lf("decorators not allowed here")):a=i?[i()]:oe(),o.length&&a.length&&(a[0]._comments=o),[]);if(f.length>e){for(u=-1;p.type!=k.TokenType.Dedent&&p.type!=k.TokenType.NewLine&&(T(),_&&c.push(k.tokenToString(S())),S().type!=k.TokenType.EOF););t&&S().type===k.TokenType.Dedent&&T(),u=0,_&&x.log(m+"skip: "+c.join(", "))}if(_)for(var l of a)s="stmt",l=l,_&&x.log(m+s+": "+l.kind);return a}function ce(t){var r=P("Arguments");for(r.args=[],r.defaults=[],r.kwonlyargs=[],r.kw_defaults=[],r.vararg=void 0;;){var n=N();if("Colon"==n||"RParen"==n)break;if("Mult"==n)r.vararg&&C(9557,x.U.lf("multiple *arg")),T(),S().type==k.TokenType.Id?r.vararg=i():r.vararg=void 0;else if("Pow"==n)r.kwarg&&C(9558,x.U.lf("multiple **arg")),T(),r.kwarg=i();else{r.kwarg&&C(9559,x.U.lf("arguments after **"));n=i();let e=void 0;"Assign"==N()&&(T(),e=J()),void 0!==r.vararg&&e?(r.kwonlyargs.push(n),r.kw_defaults.push(e)):(r.args.push(n),e?r.defaults.push(e):r.defaults.length&&C(9560,x.U.lf("non-default argument follows default argument")))}if("Comma"!=N())break;T()}return r.kwarg||(r.kwarg=void 0),r.vararg||(r.vararg=void 0),O(r);function i(){var e=P("Arg");return e.arg=Z(),e.annotation=void 0,t&&"Colon"==N()&&(T(),e.annotation=J()),e}}function le(e){var t=P("Lambda");return T(),t.args=ce(!1),A("Colon"),t.body=(e?be:J)(),O(t)}function J(){var e,t;return"lambda"==w()?le():(t=S(),e=q(),"if"==w()?((t=P("IfExp",t)).body=e,D("if"),t.test=q(),D("else"),t.orelse=J(),O(t)):e)}function ue(e,t){var r=S(),n=t();if(w()!=e)return n;var i=P("BoolOp",r);for(i.op="or"==e?"Or":"And",i.values=[n];w()==e;)D(e),i.values.push(t());return O(i)}function de(){return ue("and",pe)}function q(){return ue("or",de)}function pe(){if("not"==w())return e=P("UnaryOp"),T(),e.op="Not",e.operand=pe(),O(e);var e=S(),t=H();if(!fe())return t;var r=P("Compare",e);for(r.left=t,r.comparators=[],r.ops=[];;){let e=fe();if(!e)break;T(),"NotIn"==e?D("in"):"Is"==e&&"not"==w()&&(T(),e="IsNot"),r.ops.push(e),r.comparators.push(H())}return O(r)}let e={Lt:"Lt",Gt:"Gt",Eq:"Eq",GtE:"GtE",LtE:"LtE",NotEq:"NotEq",in:"In",not:"NotIn",is:"Is"};function fe(){return e[N()]||e[w()]||null}let r={Invert:"Invert",Sub:"USub",Add:"UAdd"};function V(e,t){var r=S();let n=e();for(;;){var i=N();if(!(i&&0<=t.indexOf(","+i+",")))return n;var a=P("BinOp",r);a.left=n,a.op=i,T(),a.right=e(),n=a}}function _e(){return V(ee,",Mult,MatMult,Div,Mod,FloorDiv,")}function me(){return V(_e,",Add,Sub,")}function ge(){return V(me,",LShift,RShift,")}function he(){return V(ge,",BitAnd,")}function ye(){return V(he,",BitXor,")}function H(){return V(ye,",BitOr,")}function ve(){var e,t=S();let r=void 0;return"Colon"!=N()&&(r=J()),"Colon"==N()?((t=P("Slice",t)).lower=r,T(),e=N(),t.upper="Colon"!=e&&"Comma"!=e&&"RSquare"!=e?J():void 0,t.step=void 0,"Colon"==N()&&(T(),"Comma"!=(e=N()))&&"RSquare"!=e&&(t.step=J()),O(t)):(r||C(9570,x.U.lf("unable to parse lower subscript")),(e=P("Index")).value=r,O(e))}function G(){var e;return"Mult"==N()?((e=P("Starred")).value=H(),O(e)):J()}function be(){return"lambda"==w()?le(!0):q()}function W(){for(var e=[];;){var t=P("Comprehension");for(t.is_async=0,e.push(t),D("for"),t.target=ae(),z(t.target),D("in"),t.iter=q(),t.ifs=[];"if"==w();)T(),t.ifs.push(be());if("for"!=w())return e}}function xe(){var e,t,r=S();return"Mult"==N()?(e=P("Starred"),T(),e.value=J(),O(e)):"Pow"==N()?(e=P("Keyword"),T(),e.arg=void 0,e.value=J(),O(e)):(e=J(),"Assign"==N()?("Name"!=e.kind&&C(9561,x.U.lf("invalid keyword argument; did you mean ==?")),T(),(t=P("Keyword",r)).arg=e.id||"???",t.value=J(),O(t)):"for"==w()?((t=P("GeneratorExp",r)).elt=e,t.generators=W(),O(t)):e)}function ke(){let a=S();var e,t,r;return T(),"Pow"==N()?(T(),n(void 0,H())):"RBracket"==N()?(e=P("Dict",a),T(),e.keys=[],e.values=[],O(e)):"Starred"!=(e=G()).kind&&"Colon"==N()?(T(),n(e,J())):(e=e,"for"==w()?("Starred"==e.kind&&C(9562,x.U.lf("iterable unpacking cannot be used in comprehension")),(t=P("SetComp",a)).elt=e,t.generators=W()):((t=P("Set",a)).elts=[e],"Comma"==N()?(r=X("RBracket",x.U.lf("set element"),G),t.elts=[e].concat(r)):A("RBracket")),O(t));function s(){var e;return"Pow"==N()?(T(),[null,H()]):(e=J(),A("Colon"),[e,J()])}function n(e,t){var r;if("for"==w())return e||C(9563,x.U.lf("dict unpacking cannot be used in dict comprehension")),(r=P("DictComp",a)).key=e,r.value=t,r.generators=W(),O(r);var n,i=P("Dict",a);if(i.keys=[e],i.values=[t],"Comma"==N())for(n of X("RBracket",x.U.lf("dict element"),s))2<=n.length&&n[0]&&n[1]&&(i.keys.push(n[0]),i.values.push(n[1]));else A("RBracket");return O(i)}}function Q(){var e=P("NameConstant");return e.value=null,T(),O(e)}function Se(){var e=N();return"RParen"==e||"RSquare"==e||"RBracket"==e||"Colon"==e||"Semicolon"==e||x.U.endsWith(e,"Assign")||"in"==w()||S().type==k.TokenType.NewLine}function Y(e,t){var r=[];if(Se())return r;for(;;){r.push(t());var n="Comma"==N();if(n&&T(),Se())return r;if(!n)return C(9567,x.U.lf("expecting {0}",e)),r}}function Te(e,t){for(var r=[];r.push(t()),"Comma"==N();)T();return r}function X(e,t,r){T();var n=[];if(N()!=e)for(;;){n.push(r());var i="Comma"==N();if(i&&T(),N()==e)break;if(!i){C(9568,x.U.lf("expecting {0}",t));break}}return A(e),n}function Ce(e,t,r){var n,i=S();return T(),N()==e?(T(),(n=P(t,i)).elts=[],O(n)):(n=G(),"for"==w()?((r=P(r,i)).elt=n,r.generators=W(),A(e),O(r)):"Comma"==N()?(r=P(t,i),T(),r.elts=Y(x.U.lf("expression"),G),r.elts.unshift(n),A(e),O(r)):(A(e),"List"==t?((r=P(t,i)).elts=[n],O(r)):n))}function Z(){var e=S();return e.type!=k.TokenType.Id&&C(9569,x.U.lf("expecting identifier")),T(),e.value}function Ee(){var e,t=[],r=[];for(e of X("RParen",x.U.lf("argument"),xe))("Keyword"==e.kind?r:(r.length&&C(9570,x.U.lf("positional argument follows keyword argument")),t)).push(e);return{args:t,keywords:r}}function De(){var e,t,r,n,i,a,s=S();let o=(()=>{var t,r=S();if(r.type==k.TokenType.Id)return t=P("Name"),T(),t.id=r.value,t.ctx="Load",O(t);if(r.type==k.TokenType.Number)return t=P("Num"),T(),t.ns=r.value,t.n=r.auxValue,O(t);if(r.type!=k.TokenType.String)return r.type==k.TokenType.Keyword?"None"==r.value||"True"==r.value||"False"==r.value?(t=P("NameConstant"),T(),t.value="True"==r.value||"False"!=r.value&&null,O(t)):(C(9564,x.U.lf("expecting atom")),Q()):r.type==k.TokenType.Op?"LParen"==(t=r.value)?Ce("RParen","Tuple","GeneratorExp"):"LSquare"==t?Ce("RSquare","List","ListComp"):("LBracket"==t?ke:(C(9565,x.U.lf("unexpected operator")),Q))():(C(9566,x.U.lf("unexpected token")),Q());{T();let e=r.value;for(;S().type==k.TokenType.String;)e+=S().value,T();return"b"==r.stringPrefix?((t=P("Bytes",r)).s=x.U.toArray(x.U.stringToUint8Array(e)),O(t)):((t=P("Str",r)).s=e,O(t))}})();for(;;){e=s,t=o,a=i=n=c=r=void 0;var c="LParen"==(a=N())?((r=P("Call",e)).func=t,i=Ee(),r.args=i.args,r.keywords=i.keywords,O(r)):"LSquare"==a?(i=S(),(r=P("Subscript",e)).value=t,0==(c=X("RSquare",x.U.lf("subscript"),ve)).length?C(9571,x.U.lf("need non-empty index list")):1==c.length?r.slice=c[0]:c.every(e=>"Index"==e.kind)?((n=c[0]).value=ne(i,c.map(e=>e.value)),r.slice=n):((n=P("ExtSlice",i)).dims=c,r.slice=O(n)),O(r)):"Dot"==a?((i=P("Attribute",e)).value=t,T(),i.attr=Z(),O(i)):t;if(c===o)return o;o=c}}function ee(){var e,t;return r[N()]?((t=P("UnaryOp")).op=r[N()],T(),t.operand=ee(),O(t)):(S(),t=De(),"Pow"==N()?(e=P("BinOp"),T(),e.left=t,e.op="Pow",e.right=ee(),O(e)):t)}let h={kind:1,id:2,n:3,s:4,func:5,key:6,elt:7,elts:8,keys:9,left:10,ops:11,comparators:12,names:13,items:14,test:15,targets:16,dims:17,context_expr:18,name:19,bases:20,type:21,inClass:22,target:23,annotation:24,simple:25,op:26,operand:27,right:28,values:29,iter:30,ifs:31,is_async:32,value:33,slice:34,attr:35,generators:36,args:37,keywords:38,body:39,handlers:40,orelse:41,finalbody:42,decorator_list:43,kwonlyargs:44,kw_defaults:45,defaults:46,arg:47},y={lineno:1,col_offset:1,startPos:1,endPos:1,kind:1},v={body:1,orelse:1,finalbody:1},b={_comments:1,ctx:1,ns:1};k.dump=function(e,l=!1){let u=(r,n)=>{if(Array.isArray(n)){let t="";for(let e=0;e<n.length;++e)0<e&&(t+=", "),t+=u(r,n[e]);return"["+t+"]"}if(!n||!n.kind)return JSON.stringify(n);let e="";var t,i=Object.keys(n);i.sort((e,t)=>(h[e]||100)-(h[t]||100)||x.U.strcmp(e,t));for(t of i)if(!(x.U.lookup(y,t)||l&&x.U.lookup(b,t)))if(e&&(e+=", "),e+=t+"=",Array.isArray(n[t])&&n[t].length&&x.U.lookup(v,t)){e+="[\n";var a,s=r+"  ";for(a of n[t])e+=s+u(s,a)+"\n";e+=r+"]"}else if("_comments"==t){e+="[\n";var o,c=r+"  ";for(o of n[t])e+=c+JSON.stringify(o.value)+"\n";e+=r+"]"}else e+=u(r,n[t]);return n.kind+"("+e+")"},t="";for(var r of e)t+=u("",r)+"\n";return t},k.parse=function(e,t,r){a=e,s=t,i=r,u=0,o=0,d=[],c=[0],f=[];let n=[];try{if(p=i[0],l(),S().type!=k.TokenType.EOF)for(n=$();S().type!=k.TokenType.EOF;)x.U.pushRange(n,$())}catch(e){C(9572,x.U.lf("exception: {0}",e.message))}return{stmts:n,diagnostics:f}}}})(pxt=pxt||{}),(J=>{{var q=J.py||(J.py={});function V(e,t,r){e={fileName:e.getSourceFile().fileName,start:e.getStart(),length:e.getEnd()-e.getStart(),line:void 0,column:void 0,code:t,category:pxtc.DiagnosticCategory.Error,messageText:r},t=new Error(r);throw t.pyDiagnostic=e,t}let z=!(q.decompileToPython=function(e,t){var r={blocksInfo:void 0,outfiles:{},diagnostics:[],success:!0,times:{}};try{var n=((e,r)=>{let d=e.getTypeChecker(),n=(new ts.pxtc.LSHost(e),e.getSourceFile(r)),i=pxtc.decompiler.buildCommentMap(n),t=J.U.toSet((()=>["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EnvironmentError","Exception","False","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","NameError","None","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","True","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError","_","__build_class__","__debug__","__doc__","__import__","__loader__","__name__","__package__","__spec__","abs","all","any","ascii","bin","bool","bytearray","bytes","callable","chr","classmethod","compile","complex","copyright","credits","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","license","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","quit","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip",...Object.keys(J.py.keywords)])(),e=>e),[g,s]=ts.pxtc.decompiler.buildRenameMap(e,n,{takenNames:t,declarations:"all"}),h=pxtc.getApiInfo(e),o=J.U.mapMap(h.byQName,(e,t)=>t.fileName==r?void 0:t),c=q.computeScopeVariableLookup(n);{let t=(e=n).getChildren().map(v).reduce((e,t)=>e.concat(t),[]).reduce((e,t)=>t||e[e.length-1]?[...e,t]:e,[]);return i.filter(e=>!e.owner).forEach(e=>t.push(...l(e))),t.join("\n")}function x(e){if(!e.getSourceFile())return null;let t=e.getText();var r=d.getSymbolAtLocation(e),r=(r&&(t=d.getFullyQualifiedName(r)),o[t]);if(r&&r.attributes.alias)return r.attributes.alias;if(r&&r.pyQName){if(r.isInstance){if(ts.isPropertyAccessExpression(e))return null;e=new RegExp(`(?:^|.)${r.namespace}.(.+)`).exec(r.pyQName);if(e)return e[1]}return r.pyQName}return t in pxtc.ts2PyFunNameMap?pxtc.ts2PyFunNameMap[t].n:null}function k(e){var t=x(e);if(t)return t;if(!ts.isIdentifier(e))return J.tickEvent("depython.todo.advancedname"),V(e,3001,"Unsupported advanced name format: "+e.getText());let r=e.text;var t=e.getSourceFile();return r=t&&(t=g.getRenameForPosition(e.getStart()))?t.name:r}function p(e,t){return 0!=(e.flags&t)}function a(e,t){return p(d.getTypeAtLocation(e),t)}function S(e){return a(e,ts.TypeFlags.StringLike)}function y(e){return a(e,ts.TypeFlags.NumberLike)}function v(e){switch(e.kind){case ts.SyntaxKind.SyntaxList:return e._children.map(v).reduce((e,t)=>e.concat(t),[]);case ts.SyntaxKind.EndOfFileToken:case ts.SyntaxKind.OpenBraceToken:case ts.SyntaxKind.CloseBraceToken:return[];default:return r=b(t=e),(t=pxtc.decompiler.getCommentsForStatement(t,i).map(l).reduce((e,t)=>e.concat(t),[])).concat(r)}var t,r}function l(e){var t=[];if(e.kind===pxtc.decompiler.CommentKind.SingleLine)t.push("# "+e.text);else{t.push('"""');for(var r of e.lines)t.push(r);t.push('"""')}return t}function b(a){var e,t,r,n,i,s;if(ts.isVariableStatement(a))return a.declarationList.declarations.map(A).reduce((e,t)=>e.concat(t),[]);if(ts.isClassDeclaration(a)){var o=a;if(!$)return J.tickEvent("depython.todo.classes"),V(o,3016,"Unsupported: classes are not supported in Python right now.");let e=[];return o.name?(d=o.members.every(U),c=k(o.name),d?e.push(`class ${c}(Enum):`):e.push(`class ${c}:`),d=o.members.map(B).reduce((e,t)=>e.concat(t),[]).filter(e=>e),e=d.length?e.concat(d.map(q.indent1)):e):(J.tickEvent("depython.todo.anonymousclass"),V(o,3011,"Unsupported: anonymous class"))}if(ts.isEnumDeclaration(a)){var c=a;var l,u=[],d=(u.push(`class ${k(c.name)}(Enum):`),c.members.every(e=>!!e.initializer)),o=!c.members.every(e=>!!e.initializer);if(!d&&!o)return J.tickEvent("depython.todo.enummix"),V(c,3005,"Unsupported enum decleration: has mixture of explicit and implicit initialization");if(d)return J.tickEvent("depython.todo.enuminit"),V(c,3006,"Unsupported: explicit enum initialization");let e=0;for(l of c.members)u.push(q.indent1(k(l.name)+" = "+e++));return u}if(ts.isExpressionStatement(a))return(t=C((e=a).expression))||([t,e]=M(e.expression),e.length?["",...e,...t,""]:[...e,...t]);if(ts.isFunctionDeclaration(a))return D(a);if(ts.isIfStatement(a))return{supportStmts:e,ifStmt:t,rest:p}=function i(a){let s=[];let[e,t]=M(a.expression);s=s.concat(t);let r=`if ${N(e)}:`;let o=[];let n=T(a.thenStatement);o=o.concat(n);if(a.elseStatement)if(ts.isIfStatement(a.elseStatement)){let{supportStmts:e,ifStmt:t,rest:r}=i(a.elseStatement),n="el"+t;s=s.concat(e),o.push(n),o=o.concat(r)}else{o.push("else:");let e=T(a.elseStatement);o=o.concat(e)}return{supportStmts:s,ifStmt:r,rest:o}}(e=a),e.concat([t]).concat(p);if(ts.isForStatement(a)){var p=a;var f,_,m,g=(e=>{if(!e.initializer)return null;if(e.initializer.kind!==ts.SyntaxKind.VariableDeclarationList)return null;if(1!==(r=e.initializer).declarations.length)return null;var t=k((r=r.declarations[0]).name);if(!r.initializer||!(e=>function t(e,r){let n=e=>t(e,r);{if(ts.isBinaryExpression(e))return n(e.left)&&n(e.right);if(ts.isPropertyAccessExpression(e))return n(e.expression);if(ts.isPrefixUnaryExpression(e)||ts.isPostfixUnaryExpression(e))return e.operator!==ts.SyntaxKind.PlusPlusToken&&e.operator!==ts.SyntaxKind.MinusMinusToken&&n(e.operand);if(ts.isParenthesizedExpression(e))return n(e.expression);if(ts.isArrayLiteralExpression(e))return e.elements.map(n).reduce((e,t)=>e&&t,!0);if(ts.isElementAccessExpression(e))return n(e.expression)&&(!e.argumentExpression||n(e.argumentExpression))}return r(e)}(e,e=>{switch(e.kind){case ts.SyntaxKind.PropertyAccessExpression:case ts.SyntaxKind.BinaryExpression:case ts.SyntaxKind.ParenthesizedExpression:case ts.SyntaxKind.ArrayLiteralExpression:case ts.SyntaxKind.ElementAccessExpression:case ts.SyntaxKind.TrueKeyword:case ts.SyntaxKind.FalseKeyword:case ts.SyntaxKind.NullKeyword:case ts.SyntaxKind.UndefinedKeyword:case ts.SyntaxKind.NumericLiteral:case ts.SyntaxKind.StringLiteral:case ts.SyntaxKind.NoSubstitutionTemplateLiteral:return!0;case ts.SyntaxKind.CallExpression:case ts.SyntaxKind.NewExpression:case ts.SyntaxKind.FunctionExpression:case ts.SyntaxKind.ArrowFunction:case ts.SyntaxKind.Identifier:case ts.SyntaxKind.ThisKeyword:return!1;case ts.SyntaxKind.PrefixUnaryExpression:case ts.SyntaxKind.PostfixUnaryExpression:return e.operator!==ts.SyntaxKind.PlusPlusToken&&e.operator!==ts.SyntaxKind.MinusMinusToken}return!1}))(r.initializer)||!y(r.initializer))return null;var[r,n]=M(r.initializer);if(n.length)return null;if(n=N(r),!e.condition)return null;if(!ts.isBinaryExpression(e.condition))return null;if(!ts.isIdentifier(e.condition.left))return null;if(k(e.condition.left)!=t)return null;if(!y(e.condition.right))return null;var[r,i]=M(e.condition.right);if(i.length)return null;let a=N(r),s=a;if(e.condition.operatorToken.kind===ts.SyntaxKind.LessThanEqualsToken&&(e=>{var t=Math.floor(Number(e));return t!==1/0&&String(t)===e})(a))s=""+(Number(a)+1);else if(e.condition.operatorToken.kind!==ts.SyntaxKind.LessThanToken)return null;return e.incrementor&&(ts.isPostfixUnaryExpression(e.incrementor)||ts.isPrefixUnaryExpression(e.incrementor))&&e.incrementor.operator===ts.SyntaxKind.PlusPlusToken&&n<s?i={name:t,fromIncl:n,toExcl:s}:null})(p);if(g)return{name:g,fromIncl:_,toExcl:f}=g,g="0"===_?`for ${g} in range(${f}):`:`for ${g} in range(${_}, ${f}):`,_=T(p.statement),[g].concat(_);let e=[];p.initializer&&(e=ts.isVariableDeclarationList(p.initializer)?(f=p.initializer.declarations.map(A).reduce((e,t)=>e.concat(t),[]),e.concat(f)):([g,_]=M(p.initializer),e.concat(_).concat(g)));let t,r=`while ${t=p.condition?([g,m]=M(p.condition),e=e.concat(m),N(g)):"True"}:`,n=(e.push(r),b(p.statement).map(q.indent1));return 0!==n.length||p.incrementor||(n=[q.indent1("pass")]),e=e.concat(n),p.incrementor&&(m=C(p.incrementor),e=m?e.concat(m.map(q.indent1)):([g,p]=M(p.incrementor),e.concat(p).concat(g.map(q.indent1)))),e}if(ts.isForOfStatement(a)){g=a;if(!ts.isVariableDeclarationList(g.initializer))return J.tickEvent("depython.todo.forof.complexexp"),V(g,3003,"Unsupported expression in for..of initializer: "+g.initializer.getText());var h=g.initializer.declarations.map(e=>k(e.name));if(1!==h.length)return J.tickEvent("depython.todo.forof.multidecl"),V(g,3004,"Unsupported multiple declerations in for..of: "+g.initializer.getText());let e=h[0],[t,r]=M(g.expression),n=r,i=(n=n.concat(I(`for ${e} in `,t,":")),T(g.statement));return n=n.concat(i)}return ts.isWhileStatement(a)?([n,r]=M((h=a).expression),h=T(h.statement),n=I("while ",n,":"),r.concat(n).concat(h)):ts.isReturnStatement(a)?(r=a).expression?([r,n]=M(r.expression),r=I("return ",r),n.concat(r)):["return"]:ts.isBlock(a)?E(a):ts.isTypeAliasDeclaration(a)?(i=a,s=pxtc.emitPyTypeFromTypeNode(i.type),[(i=k(i.name))+" = "+s]):ts.isEmptyStatement(a)?[]:ts.isModuleDeclaration(a)?(s=k((i=a).name),i=i.body&&i.body.getChildren().map(v).reduce((e,t)=>e.concat(t),[]).map(e=>q.indent1(e)),["@namespace",`class ${s}:`].concat(i||[])):ts.isBreakStatement(a)?["break"]:ts.isContinueStatement(a)?["continue"]:(J.tickEvent("depython.todo.statement",{statement:a.kind}),V(a,3002,`Not supported in MakeCode Python: ${ts.SyntaxKind[a.kind]} (${a.kind})`))}function T(e){let t=b(e).map(q.indent1);return t=t.length<1?[q.indent1("pass")]:t}function U(e){if(e.kind!==ts.SyntaxKind.PropertyDeclaration)return!1;var t;if(!e.modifiers||1!==e.modifiers.length)return!1;for(t of e.modifiers)if(t.kind!==ts.SyntaxKind.StaticKeyword)return!1;return!!e.initializer&&e.initializer.kind===ts.SyntaxKind.NumericLiteral}function B(r){if(ts.isPropertyDeclaration(r))return u(r);if(ts.isMethodDeclaration(r))return D(r);if(ts.isConstructorDeclaration(r)){var n=r;let t=[],e=n.parameters.filter(ts.isParameterPropertyDeclaration);return e.forEach(e=>{t=[...t,...u(e)]}),t=[...t,...D(n,"__init__")],e.length&&t.slice(-1)[0].endsWith("pass")&&t.pop(),e.forEach(e=>{e=k(e.name);t.push(q.indent1(`self.${e} = `+e))}),t}return["# unknown ClassElement "+r.kind]}function u(e){var t,r=k(e.name);if(e.initializer)return[t,n]=M(e.initializer),[...n,r+" = "+N(t)];if(ts.isParameterPropertyDeclaration(e)&&e.type){var n=d.getTypeFromTypeNode(e.type),i=p(t=n,ts.TypeFlags.NumberLike)?"0":p(t,ts.TypeFlags.StringLike)?'""':p(t,ts.TypeFlags.BooleanLike)?"False":void 0;if(i)return[r+" = "+i]}return J.tickEvent("depython.todo.classwithoutinit"),V(e,3006,"Unsupported: class properties without initializers")}function C(e){var t,r;return t=e,!ts.isPrefixUnaryExpression(t)&&!ts.isPostfixUnaryExpression(t)||t.operator!==ts.SyntaxKind.MinusMinusToken&&t.operator!==ts.SyntaxKind.PlusPlusToken?null:([t,r]=M(e.operand),e=e.operator===ts.SyntaxKind.MinusMinusToken?" -= 1":" += 1",(r=r).push(N(t)+e),r)}function E(e){return e.getChildren().map(v).reduce((e,t)=>e.concat(t),[])}function D(e,t,r,n){let i=[];e.kind!==ts.SyntaxKind.MethodDeclaration&&e.kind!==ts.SyntaxKind.Constructor||i.push("self");var r=(r?m(e.parameters,r):e.parameters).map(e=>f(e,!n)),r=(i=i.concat(r)).join(", ");let a=[],s;if(t)s=t;else{if(!e.name)return J.tickEvent("depython.todo.anonymousfunc"),V(e,3012,"Unsupported: anonymous function decleration");s=k(e.name)}if(a.push(`def ${s}(${r}):`),!e.body)return J.tickEvent("depython.todo.funcwithoutbody"),V(e,3013,"Unsupported: function decleration without body");let o=[];return ts.isBlock(e.body)?o=E(e.body):([t,r]=M(e.body),(o=o.concat(r)).concat(t)),o.length?((r=c.getExplicitGlobals(e).map(e=>k(e)))&&r.length&&o.unshift("global "+r.join(", ")),(t=c.getExplicitNonlocals(e).map(e=>k(e)))&&t.length&&o.unshift("nonlocal "+t.join(", ")),a=a.concat(o.map(q.indent1))):a.push(q.indent1("pass")),a}function f(e,t=!0){var r=e.altName||k(e.name);let n="",i=(e.type&&t&&(t=pxtc.emitPyTypeFromTypeNode(e.type))&&-1===t.indexOf("(TODO")&&(n=": "+t),"");if(e.initializer){var[t,a]=M(e.initializer);if(a.length)return J.tickEvent("depython.todo.complexinit"),V(e,3007,"Unsupported: complex expression in parameter default value not supported. Expression: "+e.initializer.getText());i=" = "+N(t)}return""+r+n+i}function A(t){let r=[];var n=k(t.name);if(t.initializer){var[i,a]=M(t.initializer);r=r.concat(a);let e;e=t.type?n+`: ${pxtc.emitPyTypeFromTypeNode(t.type)} = `+N(i):n+" = "+N(i),r.push(e)}return r}function w(e,t){return[[e],t||[]]}function N(e,t="\n"){return e.join(t)}function I(e="",t,r=""){return t[0]=e+t[0],t[t.length-1]=t[t.length-1]+r,t}function P(e,t){switch(e){case ts.SyntaxKind.BarBarToken:return"or";case ts.SyntaxKind.AmpersandAmpersandToken:return"and";case ts.SyntaxKind.ExclamationToken:return"not";case ts.SyntaxKind.LessThanToken:return"<";case ts.SyntaxKind.LessThanEqualsToken:return"<=";case ts.SyntaxKind.GreaterThanToken:return">";case ts.SyntaxKind.GreaterThanEqualsToken:return">=";case ts.SyntaxKind.EqualsEqualsEqualsToken:case ts.SyntaxKind.EqualsEqualsToken:return"==";case ts.SyntaxKind.ExclamationEqualsEqualsToken:case ts.SyntaxKind.ExclamationEqualsToken:return"!=";case ts.SyntaxKind.EqualsToken:return"=";case ts.SyntaxKind.PlusToken:return"+";case ts.SyntaxKind.MinusToken:return"-";case ts.SyntaxKind.AsteriskToken:return"*";case ts.SyntaxKind.PlusEqualsToken:return"+=";case ts.SyntaxKind.MinusEqualsToken:return"-=";case ts.SyntaxKind.PercentToken:return"%";case ts.SyntaxKind.SlashToken:return"/";case ts.SyntaxKind.PlusPlusToken:case ts.SyntaxKind.MinusMinusToken:return J.tickEvent("depython.todo.unsupportedop",{op:e}),V(t,3008,"Unsupported ++ and -- in an expression (not a statement or for loop)");case ts.SyntaxKind.AmpersandToken:return"&";case ts.SyntaxKind.CaretToken:return"^";case ts.SyntaxKind.LessThanLessThanToken:return"<<";case ts.SyntaxKind.GreaterThanGreaterThanToken:return">>";case ts.SyntaxKind.GreaterThanGreaterThanGreaterThanToken:return J.tickEvent("depython.todo.unsupportedop",{op:e}),V(t,3009,"Unsupported operator: >>>");case ts.SyntaxKind.AsteriskAsteriskToken:return"**";case ts.SyntaxKind.AsteriskAsteriskEqualsToken:return"**=";case ts.SyntaxKind.PercentEqualsToken:return"%=";case ts.SyntaxKind.AsteriskEqualsToken:return"*=";case ts.SyntaxKind.SlashEqualsToken:return"/=";default:return J.tickEvent("depython.todo.unsupportedop",{op:e}),V(t,3008,`Unsupported Python operator (code: ${e})`)}}function _(e){var t;return ts.isPropertyAccessExpression(e)?(t=(t=k(e.name)).substr(t.lastIndexOf(".")+1),ts.isIdentifier(e.expression)?[t]:_(e.expression).concat([t])):ts.isIdentifier(e)?[k(e)]:[]}function j(e,t,r,n){let i="",a=(t&&(i=_(t).map(J.U.snakify).join("_")),[]);if(r&&1<r.length&&n&&1<n.length)for(let e=0;e<r.length&&e<n.length;e++){var s=n[e];p(d.getTypeAtLocation(s),ts.TypeFlags.EnumLike)&&(s=_(s).map(J.U.snakify),a=a.concat(s))}t=a.join("_");let o="",c=(i||t||!e||(o=k(e.name)),([i,t,o].filter(e=>e).map(J.U.snakify).map(e=>e.toLowerCase()).join("_")||"my_callback").split("_"));4<c.length&&(c=(e=>{var t,r={},n=[];for(t of e)t in r||(r[t]=!0,n.push(t));return n})(c));for(var l=J.U.toDictionary(["any","on","event"],e=>e);2<c.length;){var u=((e,t)=>{let r=[],n=!1;for(var i of e)i in t&&!n?n=!0:r.push(i);return r})(c,l);if(u.length==c.length)break;c=u}return(c=["on",...c]).join("_")}function O(i){var e=i.join(", ");return 60<e.length&&1<i.length?i.map((e,t)=>{var r,n=","==e.charAt(e.length-1)?"":",";return 0==t?(e=1<(r=e.split("\n")).length?r.shift()+"\n"+q.indent1(r.join("\n")):e)+n:t==i.length-1?q.indent1(e):q.indent1(e+n)}):[e]}function F(a){var t=d.getTypeAtLocation(a.expression),t=d.typeToTypeNode(t);let s=ts.createNodeArray([]);if(ts.isFunctionTypeNode(t)&&(s=t.parameters,a.arguments)&&s.length<a.arguments.length)return J.tickEvent("depython.todo.argparammismatch",{kind:a.kind}),V(a,3010,"TODO: Unsupported call site where caller the arguments outnumber the callee parameters: "+a.getText());t=(t=a.expression).getSourceFile()&&(t=t.getText(),o[t])||null;if(a.arguments&&t&&"TD_ID"==t.attributes.shim)return M(a.arguments[0]);if(ts.isPropertyAccessExpression(a.expression)&&"toString"===a.expression.name.getText())return[t,r]=M(a.expression.expression),[I("str(",t,")"),r];var[t,r]=M(a.expression);let n=N(t);t=(a.arguments||ts.createNodeArray()).map((e,t,r)=>{return e=e,t=s[t],n=a.expression,i=s,r=r,(ts.isFunctionExpression(e)||ts.isArrowFunction(e))&&t&&t.type&&ts.isFunctionTypeNode(t.type)?L(e,j(t,n,i,r),void 0,!0):M(e);var n,i}),r=t.map(([,e])=>e).reduce((e,t)=>e.concat(t),r);if(0===n.indexOf("_py.py_")){if(t.length<=0)return J.tickEvent("depython.todo._pynoargs"),V(a,3014,"Unsupported: call expression has no arguments for _py.py_ fn");n=n.substr(7).split("_").filter((e,t)=>0!==t).join("_");var i=t.shift()[0];let e=O(t.map(([e])=>e).reduce((e,t)=>e.concat(t),[]));return[I(`${i}.${n}(`,e,")"),r]}let e=O(t.map(([e])=>e).reduce((e,t)=>e.concat(t),[]));return[I(n+"(",e,")"),r]}function m(r,n){var i,a=[],s={};for(let t=0;t<Math.max(r.length,n.length);t++){let e;r[t]?s[k((e=r[t]).name)]=!0:s[i=k((e=n[t]).name)]&&(i=pxtc.decompiler.getNewName(i,s),e=Object.assign({altName:i},n[t])),a.push(e)}return ts.createNodeArray(a,!1)}function L(e,t,r,n){if(z&&!ts.isBlock(e.body)){var[i,a]=M(e.body);if(0===a.length)return w((a=(r?m(e.parameters,r):e.parameters).map(e=>f(e,!1)).join(", ")).length?`lambda ${a}: `+N(i):"lambda: "+N(i))}i=e.name?k(e.name):("string"!=typeof(a=t||"my_function")&&(a=k(a)),s[a]?pxtc.decompiler.getNewName(a,s):(s[a]=!0,a));return w(i,D(e,i,r,n))}function R(e){switch(e){case ts.SyntaxKind.ExclamationToken:return" ";case ts.SyntaxKind.PlusToken:case ts.SyntaxKind.MinusToken:return"";default:return" "}}function K(e){if("any"===e.type.getText().trim()&&(ts.isNumericLiteral(e.expression)||ts.isStringLiteral(e.expression)||e.expression.kind===ts.SyntaxKind.TrueKeyword||e.expression.kind===ts.SyntaxKind.FalseKeyword)){e=function e(t){if(t.parent)return t.parent.kind===ts.SyntaxKind.ParenthesizedExpression?e(t.parent):t.parent}(e);if((null==e?void 0:e.kind)===ts.SyntaxKind.BinaryExpression)switch(e.operatorToken.kind){case ts.SyntaxKind.EqualsEqualsToken:case ts.SyntaxKind.EqualsEqualsEqualsToken:case ts.SyntaxKind.ExclamationEqualsToken:case ts.SyntaxKind.ExclamationEqualsEqualsToken:case ts.SyntaxKind.LessThanToken:case ts.SyntaxKind.LessThanEqualsToken:case ts.SyntaxKind.GreaterThanToken:case ts.SyntaxKind.GreaterThanEqualsToken:return 1}}}function M(i){if(ts.isBinaryExpression(i)){var a=i,s=S(a.left),o=S(a.right),c=a.operatorToken.kind===ts.SyntaxKind.PlusToken&&(s||o);let[e,t]=M(a.left),[r,n]=(c&&!s&&(e=I("str(",e,")")),s=P(a.operatorToken.kind,a),M(a.right));return c&&!o&&(r=I("str(",r,")")),a=t.concat(n),[I(N(e)+" "+s+" ",r),a]}if(ts.isPropertyAccessExpression(i))return(o=x(c=i))?w(o):([o,s]=M(c.expression),w("length"===(c=k(c.name))?`len(${N(o)})`:N(o)+"."+c,s));var e,t,r,n,l,u,d,p,f,_,m,g,h,y,v,b;if(ts.isCallExpression(i))return F(i);if(ts.isNewExpression(i))return F(i);if(ts.isFunctionExpression(i)||ts.isArrowFunction(i))return L(i);if(ts.isPrefixUnaryExpression(i))return p=P((a=i).operator,a),[u,d]=M(a.operand),w(""+p+R(a.operator)+N(u),d);if(ts.isPostfixUnaryExpression(i))return u=P((p=i).operator,p),[d,f]=M(p.operand),p=R(p.operator),w(""+N(d)+p+u,f);if(ts.isParenthesizedExpression(i))return[f,_]=M((f=i).expression),w(`(${N(f)})`,_);if(ts.isArrayLiteralExpression(i))return e=(_=(_=i).elements.map(M)).map(([,e])=>e).reduce((e,t)=>e.concat(t),[]),[I("[",O(_.map(([e])=>e).reduce((e,t)=>e.concat(t),[])),"]"),e];if(ts.isElementAccessExpression(i))return(e=i).argumentExpression?([r,n]=M(e.expression),[l,t]=M(e.argumentExpression),n=n.concat(t),w(`${N(r)}[${N(l)}]`,n)):(J.tickEvent("depython.todo.accesswithoutexp"),V(e,3015,"Unsupported: element access expression without an argument expression"));if(ts.isNoSubstitutionTemplateLiteral(i)||ts.isTaggedTemplateExpression(i))return t=i,ts.isNoSubstitutionTemplateLiteral(t)?w(`"""
${t.text.trim().split("\n").map(e=>""+q.INDENT+e.trim()).join("\n")}
${q.INDENT}"""`):([r,l]=M(t.tag),[t,n]=M(t.template),l=l.concat(n),w(`${N(r)}(${N(t)})`,l));switch(i.kind){case ts.SyntaxKind.TrueKeyword:return w("True");case ts.SyntaxKind.FalseKeyword:return w("False");case ts.SyntaxKind.ThisKeyword:return w("self");case ts.SyntaxKind.NullKeyword:case ts.SyntaxKind.UndefinedKeyword:return w("None")}return ts.isIdentifier(i)?"undefined"==(y=i).text?w("None"):w(k(y)):ts.isNumericLiteral(i)||ts.isStringLiteral(i)?w(i.getText()):ts.isConditionalExpression(i)?([m,b]=M((y=i).condition),[g,h]=M(y.whenTrue),[y,v]=M(y.whenFalse),b=b.concat(h).concat(v),w(`${g} if ${N(m)} else `+N(y),b)):ts.isAsExpression(i)&&K(i)?M(i.expression):(J.tickEvent("depython.todo.expression",{kind:i.kind}),V(i,3017,"Unsupported expression kind: "+i.kind))}})(e,t),i=t.replace(/(\.py)?\.\w*$/i,"")+".py";r.outfiles[i]=n}catch(e){e.pyDiagnostic?r.diagnostics=[e.pyDiagnostic]:J.reportException(e),r.success=!1}return r}),$=!1;function e(t){return e=>(e||"").split("\n").map(e=>""+q.INDENT.repeat(t)+e).join("\n")}q.INDENT="    ",q.indent=e,q.indent1=e(1)}})(pxt=pxt||{}),(e=>{e=e.py||(e.py={});{e=e.rx||(e.rx={});let t=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/;e.isIdentifierStart=function(e){return ts.pxtc.isIdentifierStart(e,ts.pxtc.ScriptTarget.ES5)},e.isIdentifierChar=function(e){return ts.pxtc.isIdentifierPart(e,ts.pxtc.ScriptTarget.ES5)},e.isSpace=function(e){return!!(32===e||9===e||11===e||12===e||160===e||5760<=e&&t.test(String.fromCharCode(e)))},e.isNewline=function(e){return 10===e||13===e||8232===e||8233===e}}})(pxt=pxt||{}),(e=>{var s;function t(t){var e=[ts.SyntaxKind.EqualsToken,ts.SyntaxKind.PlusEqualsToken,ts.SyntaxKind.MinusEqualsToken,ts.SyntaxKind.AsteriskEqualsToken,ts.SyntaxKind.AsteriskAsteriskEqualsToken,ts.SyntaxKind.SlashEqualsToken,ts.SyntaxKind.PercentEqualsToken,ts.SyntaxKind.LessThanLessThanEqualsToken,ts.SyntaxKind.GreaterThanGreaterThanEqualsToken,ts.SyntaxKind.GreaterThanGreaterThanGreaterThanEqualsToken,ts.SyntaxKind.AmpersandEqualsToken,ts.SyntaxKind.BarEqualsToken,ts.SyntaxKind.CaretEqualsToken];return ts.isBinaryExpression(t)&&e.some(e=>t.operatorToken.kind===e)}function r(e){let c={refs:[],children:[],owner:void 0};return function a(s){var o;if(!s)return c;if(ts.isPropertyAccessOrQualifiedName(s))return c;if(ts.isIdentifier(s))return{refs:[{kind:"read",node:s,varName:s.text}],children:[],owner:void 0};if(ts.isVariableDeclaration(s)||ts.isParameter(s)){let e=a(s.initializer);return{refs:[...e.refs,{kind:"decl",node:s,varName:s.name.getText()}],children:e.children,owner:void 0}}if(ts.isPrefixUnaryExpression(s)||ts.isPostfixUnaryExpression(s)){let e=a(s.operand),t=s.operand.getText(),r={refs:[{kind:"assign",node:s,varName:t}],children:[],owner:void 0};return l(e,r)}if(t(s)){let e=a(s.right),t,r=(s.operatorToken.kind!==ts.SyntaxKind.EqualsToken&&(t=a(s.left)),s.left.getText()),n={refs:[{kind:"assign",node:s,varName:r}],children:[],owner:void 0};return l(t,l(e,n))}if(ts.isFunctionExpression(s)||ts.isArrowFunction(s)||ts.isFunctionDeclaration(s)||ts.isMethodDeclaration(s)){let e=null==(o=s.name)?void 0:o.getText(),t=void 0,r=(e&&(t={kind:"decl",node:s,varName:e}),s.parameters.map(e=>a(e)).reduce(l,c)),n=a(s.body),i=l(r,n);return i.owner=s,{refs:t?[t]:[],children:[i],owner:void 0}}return s.getChildren().map(a).reduce(l,c)}(e);function l(e,t){return e&&t?{refs:[...e.refs,...t.refs],children:[...e.children,...t.children],owner:e.owner||t.owner}:e||t||c}}function o(e){return[...e.globalUsage,...e.environmentUsage].filter(e=>"assign"===e.kind).map(e=>e)}function c(e){return e.nonlocalUsage.filter(e=>"assign"===e.kind).map(e=>e)}function d(e,t,r=[]){var n,i=[],a=[],s=[],o=[],c={};for(n of e.refs)"read"===n.kind||"assign"===n.kind?(c[n.varName]?s:(t=>r.map(e=>e[t.varName]).reduce((e,t)=>t||e,void 0))(n)?a:t&&t[n.varName]?i:o).push(n):c[n.varName]=n;let l=t||c,u=t?[...r,c]:[];return{globalUsage:i,nonlocalUsage:a,localUsage:s,environmentUsage:o,children:e.children.map(e=>d(e,l,u)),owner:e.owner}}function l(e){return e.kind+":"+e.varName}function n(e){return function e(t){return[t.refs.map(l).join(", "),...t.children.map(e).map(e=>e.map(s.indent1)).map(e=>["{",...e,"}"]).reduce((e,t)=>[...e,...t],[])]}(e).join("\n")}function i(e){return function e(t){var r=t.globalUsage.map(l).join(", "),n=t.nonlocalUsage.map(l).join(", "),i=t.localUsage.map(l).join(", "),a=t.environmentUsage.map(l).join(", ");return[r?"global "+r:"",n?"nonlocal "+n:"",i?"local "+i:"",a?"env "+a:"",...t.children.map(e).map(e=>e.map(s.indent1)).map(e=>["{",...e,"}"]).reduce((e,t)=>[...e,...t],[])].filter(e=>!!e)}(e).join("\n")}(s=e.py||(e.py={})).computeScopeVariableLookup=function(e){e=d(r(e));let i=new Map,a=new Map;return function e(t){let r=s(o(t));i.set(t.owner,r);let n=s(c(t));a.set(t.owner,n);t.children.forEach(e)}(e),{getExplicitGlobals:e=>i.get(e)||[],getExplicitNonlocals:e=>a.get(e)||[]};function t(e){e=e.node.operand||e.node.left;return ts.isIdentifier(e)?e:void 0}function s(e){return e.map(t).filter(e=>!!e).map(e=>e).reduce((e,t)=>e.find(e=>e.text===t.text)?e:[...e,t],[])}},s.toStringVariableScopes=function(e){var t=d(e=r(e));return n(e)+"\n\n\n"+i(t)}})(pxt=pxt||{});